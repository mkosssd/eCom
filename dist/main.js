"use strict";(self.webpackChunkeCom=self.webpackChunkeCom||[]).push([[179],{2194:(Kt,qe,U)=>{U.d(qe,{nm:()=>Yr});var w=U(2793),m=(U(5879),U(8726),U(4097),U(5861)),we=U(4303),Ie=U(4537),ve=U(9058),He=U(7879);const oe=new Map,ge={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function Ke(Fe){return oe.get(Fe)||Object.assign({},ge)}function Tt(){return Me}const ke="https://content-firebaseappcheck.googleapis.com/v1",Ne="exchangeDebugToken",wt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ht{constructor(Le,et,xt,Gt,Hn){if(this.operation=Le,this.retryPolicy=et,this.getWaitDuration=xt,this.lowerBound=Gt,this.upperBound=Hn,this.pending=null,this.nextErrorWaitInterval=Gt,Gt>Hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Le){var et=this;return(0,m.Z)(function*(){et.stop();try{et.pending=new ve.BH,yield function je(Fe){return new Promise(Le=>{setTimeout(Le,Fe)})}(et.getNextRun(Le)),et.pending.resolve(),yield et.pending.promise,et.pending=new ve.BH,yield et.operation(),et.pending.resolve(),yield et.pending.promise,et.process(!0).catch(()=>{})}catch(xt){et.retryPolicy(xt)?et.process(!1).catch(()=>{}):et.stop()}})()}getNextRun(Le){if(Le)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const et=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),et}}}const vt=new ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ft(Fe){if(!Ke(Fe).activated)throw vt.create("use-before-activation",{appName:Fe.name})}function _n(Fe,Le){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,m.Z)(function*({url:Fe,body:Le},et){const xt={"Content-Type":"application/json"},Gt=et.getImmediate({optional:!0});if(Gt){const no=yield Gt.getHeartbeatsHeader();no&&(xt["X-Firebase-Client"]=no)}const Hn={method:"POST",body:JSON.stringify(Le),headers:xt};let _r,Er;try{_r=yield fetch(Fe,Hn)}catch(no){throw vt.create("fetch-network-error",{originalErrorMessage:no?.message})}if(200!==_r.status)throw vt.create("fetch-status-error",{httpStatus:_r.status});try{Er=yield _r.json()}catch(no){throw vt.create("fetch-parse-error",{originalErrorMessage:no?.message})}const Br=Er.ttl.match(/^([\d.]+)(s)$/);if(!Br||!Br[2]||isNaN(Number(Br[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Er.ttl}`});const Fa=1e3*Number(Br[1]),qr=Date.now();return{token:Er.token,expireTimeMillis:qr+Fa,issuedAtTimeMillis:qr}})).apply(this,arguments)}function tr(Fe,Le){const{projectId:et,appId:xt,apiKey:Gt}=Fe.options;return{url:`${ke}/projects/${et}/apps/${xt}:${Ne}?key=${Gt}`,body:{debug_token:Le}}}const jr="firebase-app-check-database",Ze=1,Xe="firebase-app-check-store";let Je=null;function qn(){return(qn=(0,m.Z)(function*(Fe,Le){const xt=(yield function yt(){return Je||(Je=new Promise((Fe,Le)=>{try{const et=indexedDB.open(jr,Ze);et.onsuccess=xt=>{Fe(xt.target.result)},et.onerror=xt=>{var Gt;Le(vt.create("storage-open",{originalErrorMessage:null===(Gt=xt.target.error)||void 0===Gt?void 0:Gt.message}))},et.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(Xe,{keyPath:"compositeKey"})}}catch(et){Le(vt.create("storage-open",{originalErrorMessage:et?.message}))}}),Je)}()).transaction(Xe,"readwrite"),Hn=xt.objectStore(Xe).put({compositeKey:Fe,value:Le});return new Promise((_r,Er)=>{Hn.onsuccess=Br=>{_r()},xt.onerror=Br=>{var Fa;Er(vt.create("storage-set",{originalErrorMessage:null===(Fa=Br.target.error)||void 0===Fa?void 0:Fa.message}))}})})).apply(this,arguments)}const Xn=new He.Yd("@firebase/app-check");function $r(Fe,Le){return(0,ve.hl)()?function Lt(Fe,Le){return function vn(Fe,Le){return qn.apply(this,arguments)}(function rr(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),Le)}(Fe,Le).catch(et=>{Xn.warn(`Failed to write token to IndexedDB. Error: ${et}`)}):Promise.resolve()}function ar(){return Tt().enabled}function hi(){return zr.apply(this,arguments)}function zr(){return(zr=(0,m.Z)(function*(){const Fe=Tt();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nn={error:"UNKNOWN_ERROR"};function Cn(Fe){return ve.US.encodeString(JSON.stringify(Fe),!1)}function Bn(Fe){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,m.Z)(function*(Fe,Le=!1){const et=Fe.app;ft(et);const xt=Ke(et);let Hn,Gt=xt.token;if(Gt&&!gr(Gt)&&(xt.token=void 0,Gt=void 0),!Gt){const Br=yield xt.cachedTokenPromise;Br&&(gr(Br)?Gt=Br:yield $r(et,void 0))}if(!Le&&Gt&&gr(Gt))return{token:Gt.token};let Er,_r=!1;if(ar()){xt.exchangeTokenPromise||(xt.exchangeTokenPromise=_n(tr(et,yield hi()),Fe.heartbeatServiceProvider).finally(()=>{xt.exchangeTokenPromise=void 0}),_r=!0);const Br=yield xt.exchangeTokenPromise;return yield $r(et,Br),xt.token=Br,{token:Br.token}}try{xt.exchangeTokenPromise||(xt.exchangeTokenPromise=xt.provider.getToken().finally(()=>{xt.exchangeTokenPromise=void 0}),_r=!0),Gt=yield Ke(et).exchangeTokenPromise}catch(Br){"appCheck/throttled"===Br.code?Xn.warn(Br.message):Xn.error(Br),Hn=Br}return Gt?Hn?Er=gr(Gt)?{token:Gt.token,internalError:Hn}:Ti(Hn):(Er={token:Gt.token},xt.token=Gt,yield $r(et,Gt)):Er=Ti(Hn),_r&&function Wn(Fe,Le){const et=Ke(Fe).tokenObservers;for(const xt of et)try{"EXTERNAL"===xt.type&&null!=Le.error?xt.error(Le.error):xt.next(Le)}catch{}}(et,Er),Er})).apply(this,arguments)}function On(Fe){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(Fe){const Le=Fe.app;ft(Le);const{provider:et}=Ke(Le);if(ar()){const xt=yield hi(),{token:Gt}=yield _n(tr(Le,xt),Fe.heartbeatServiceProvider);return{token:Gt}}{const{token:xt}=yield et.getToken();return{token:xt}}})).apply(this,arguments)}function Qr(Fe,Le){const et=Ke(Fe),xt=et.tokenObservers.filter(Gt=>Gt.next!==Le);0===xt.length&&et.tokenRefresher&&et.tokenRefresher.isRunning()&&et.tokenRefresher.stop(),et.tokenObservers=xt}function er(Fe){const{app:Le}=Fe,et=Ke(Le);let xt=et.tokenRefresher;xt||(xt=function li(Fe){const{app:Le}=Fe;return new ht((0,m.Z)(function*(){let xt;if(xt=Ke(Le).token?yield Bn(Fe,!0):yield Bn(Fe),xt.error)throw xt.error;if(xt.internalError)throw xt.internalError}),()=>!0,()=>{const et=Ke(Le);if(et.token){let xt=et.token.issuedAtTimeMillis+.5*(et.token.expireTimeMillis-et.token.issuedAtTimeMillis)+3e5;return xt=Math.min(xt,et.token.expireTimeMillis-3e5),Math.max(0,xt-Date.now())}return 0},wt.RETRIAL_MIN_WAIT,wt.RETRIAL_MAX_WAIT)}(Fe),et.tokenRefresher=xt),!xt.isRunning()&&et.isTokenAutoRefreshEnabled&&xt.start()}function gr(Fe){return Fe.expireTimeMillis-Date.now()>0}function Ti(Fe){return{token:Cn(nn),error:Fe}}class Si{constructor(Le,et){this.app=Le,this.heartbeatServiceProvider=et}_delete(){const{tokenObservers:Le}=Ke(this.app);for(const et of Le)Qr(this.app,et.next);return Promise.resolve()}}const Ct="app-check-internal";!function It(){(0,we.Xd)(new Ie.wA("app-check",Fe=>function hr(Fe,Le){return new Si(Fe,Le)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,Le,et)=>{Fe.getProvider(Ct).initialize()})),(0,we.Xd)(new Ie.wA(Ct,Fe=>function Un(Fe){return{getToken:Le=>Bn(Fe,Le),getLimitedUseToken:()=>On(Fe),addTokenListener:Le=>function vr(Fe,Le,et,xt){const{app:Gt}=Fe,Hn=Ke(Gt);if(Hn.tokenObservers=[...Hn.tokenObservers,{next:et,error:xt,type:Le}],Hn.token&&gr(Hn.token)){const Er=Hn.token;Promise.resolve().then(()=>{et({token:Er.token}),er(Fe)}).catch(()=>{})}Hn.cachedTokenPromise.then(()=>er(Fe))}(Fe,"INTERNAL",Le),removeTokenListener:Le=>Qr(Fe.app,Le)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.KN)("@firebase/app-check","0.8.0")}();class Yr{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},8726:(Kt,qe,U)=>{U.d(qe,{Ot:()=>_e,ZF:()=>dt,hX:()=>Ke,z6:()=>m});var w=U(4097),ae=U(5879),X=U(2793);class _e{constructor(ht){return ht}}class m{constructor(){return(0,w.C6)()}}const ve=new ae.OlP("angularfire2._apps"),He={provide:_e,useFactory:function Ie(Ae){return Ae&&1===Ae.length?Ae[0]:new _e((0,w.Mq)())},deps:[[new ae.FiY,ve]]},oe={provide:m,deps:[[new ae.FiY,ve]]};function ge(Ae){return(ht,je)=>{const ut=ht.runOutsideAngular(()=>Ae(je));return new _e(ut)}}let Me=(()=>{class Ae{constructor(je){(0,w.KN)("angularfire",X.q4.full,"core"),(0,w.KN)("angularfire",X.q4.full,"app"),(0,w.KN)("angular",ae.q4F.full,je.toString())}}return Ae.\u0275fac=function(je){return new(je||Ae)(ae.LFG(ae.Lbi))},Ae.\u0275mod=ae.oAB({type:Ae}),Ae.\u0275inj=ae.cJS({providers:[He,oe]}),Ae})();function Ke(Ae,...ht){return{ngModule:Me,providers:[{provide:ve,useFactory:ge(Ae),multi:!0,deps:[ae.R0b,ae.zs3,X.HU,...ht]}]}}const dt=(0,X.u3)(w.ZF,!0)},7188:(Kt,qe,U)=>{U.d(qe,{ST:()=>jn});var w=U(5879),ae=U(6321),X=U(5592),_e=U(2459),m=U(2096),we=U(2793),Ie=U(7921),ve=U(9360),He=U(8251);function oe(){return(0,ve.e)((se,W)=>{let te,De=!1;se.subscribe((0,He.x)(W,Ue=>{const Ct=te;te=Ue,De&&W.next([Ct,Ue]),De=!0}))})}var ge=U(7398),Me=U(6699),Ke=U(3997),at=U(2181),Tt=U(6304),ke=U(6814),Ve=(U(8661),U(3399)),Ne=U(8162),wt=U(9058),Ae=U(4537);function ut(se,W){if(void 0===W)return{merge:!1};if(void 0!==W.mergeFields&&void 0!==W.merge)throw new Ne.WA("invalid-argument",`Invalid options passed to function ${se}(): You cannot specify both "merge" and "mergeFields".`);return W}function vt(){if(typeof Uint8Array>"u")throw new Ne.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ee(){if(!(0,Ne.Me)())throw new Ne.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ft{constructor(W){this._delegate=W}static fromBase64String(W){return Ee(),new ft(Ne.Jj.fromBase64String(W))}static fromUint8Array(W){return vt(),new ft(Ne.Jj.fromUint8Array(W))}toBase64(){return Ee(),this._delegate.toBase64()}toUint8Array(){return vt(),this._delegate.toUint8Array()}isEqual(W){return this._delegate.isEqual(W._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function St(se){return function zt(se,W){if("object"!=typeof se||null===se)return!1;const te=se;for(const De of W)if(De in te&&"function"==typeof te[De])return!0;return!1}(se,["next","error","complete"])}class _n{enableIndexedDbPersistence(W,te){return(0,Ne.ST)(W._delegate,{forceOwnership:te})}enableMultiTabIndexedDbPersistence(W){return(0,Ne.fH)(W._delegate)}clearIndexedDbPersistence(W){return(0,Ne.Fc)(W._delegate)}}class Ln{constructor(W,te,De){this._delegate=te,this._persistenceProvider=De,this.INTERNAL={delete:()=>this.terminate()},W instanceof Ne.l7||(this._appCompat=W)}get _databaseId(){return this._delegate._databaseId}settings(W){const te=this._delegate._getSettings();!W.merge&&te.host!==W.host&&(0,Ne.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),W.merge&&delete(W=Object.assign(Object.assign({},te),W)).merge,this._delegate._setSettings(W)}useEmulator(W,te,De={}){(0,Ne.at)(this._delegate,W,te,De)}enableNetwork(){return(0,Ne.Ix)(this._delegate)}disableNetwork(){return(0,Ne.TF)(this._delegate)}enablePersistence(W){let te=!1,De=!1;return W&&(te=!!W.synchronizeTabs,De=!!W.experimentalForceOwningTab,(0,Ne.Wi)("synchronizeTabs",te,"experimentalForceOwningTab",De)),te?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,De)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ne.Mx)(this._delegate)}onSnapshotsInSync(W){return(0,Ne.sc)(this._delegate,W)}get app(){if(!this._appCompat)throw new Ne.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(W){try{return new qn(this,(0,Ne.hJ)(this._delegate,W))}catch(te){throw tt(te,"collection()","Firestore.collection()")}}doc(W){try{return new Xe(this,(0,Ne.JU)(this._delegate,W))}catch(te){throw tt(te,"doc()","Firestore.doc()")}}collectionGroup(W){try{return new Ot(this,(0,Ne.B$)(this._delegate,W))}catch(te){throw tt(te,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(W){return(0,Ne.i3)(this._delegate,te=>W(new tr(this,te)))}batch(){return(0,Ne.qY)(this._delegate),new jr(new Ne.PU(this._delegate,W=>(0,Ne.GL)(this._delegate,W)))}loadBundle(W){return(0,Ne.Pb)(this._delegate,W)}namedQuery(W){return(0,Ne.L$)(this._delegate,W).then(te=>te?new Ot(this,te):null)}}class En extends Ne.u7{constructor(W){super(),this.firestore=W}convertBytes(W){return new ft(new Ne.Jj(W))}convertReference(W){const te=this.convertDocumentKey(W,this.firestore._databaseId);return Xe.forKey(te,this.firestore,null)}}class tr{constructor(W,te){this._firestore=W,this._delegate=te,this._userDataWriter=new En(W)}get(W){const te=Qt(W);return this._delegate.get(te).then(De=>new Mt(this._firestore,new Ne.xU(this._firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,te.converter)))}set(W,te,De){const Ue=Qt(W);return De?(ut("Transaction.set",De),this._delegate.set(Ue,te,De)):this._delegate.set(Ue,te),this}update(W,te,De,...Ue){const Ct=Qt(W);return 2===arguments.length?this._delegate.update(Ct,te):this._delegate.update(Ct,te,De,...Ue),this}delete(W){const te=Qt(W);return this._delegate.delete(te),this}}class jr{constructor(W){this._delegate=W}set(W,te,De){const Ue=Qt(W);return De?(ut("WriteBatch.set",De),this._delegate.set(Ue,te,De)):this._delegate.set(Ue,te),this}update(W,te,De,...Ue){const Ct=Qt(W);return 2===arguments.length?this._delegate.update(Ct,te):this._delegate.update(Ct,te,De,...Ue),this}delete(W){const te=Qt(W);return this._delegate.delete(te),this}commit(){return this._delegate.commit()}}class Ze{constructor(W,te,De){this._firestore=W,this._userDataWriter=te,this._delegate=De}fromFirestore(W,te){const De=new Ne.$q(this._firestore._delegate,this._userDataWriter,W._key,W._document,W.metadata,null);return this._delegate.fromFirestore(new Lt(this._firestore,De),te??{})}toFirestore(W,te){return te?this._delegate.toFirestore(W,te):this._delegate.toFirestore(W)}static getInstance(W,te){const De=Ze.INSTANCES;let Ue=De.get(W);Ue||(Ue=new WeakMap,De.set(W,Ue));let Ct=Ue.get(te);return Ct||(Ct=new Ze(W,new En(W),te),Ue.set(te,Ct)),Ct}}Ze.INSTANCES=new WeakMap;class Xe{constructor(W,te){this.firestore=W,this._delegate=te,this._userDataWriter=new En(W)}static forPath(W,te,De){if(W.length%2!=0)throw new Ne.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${W.canonicalString()} has ${W.length}`);return new Xe(te,new Ne.my(te._delegate,De,new Ne.Ky(W)))}static forKey(W,te,De){return new Xe(te,new Ne.my(te._delegate,De,W))}get id(){return this._delegate.id}get parent(){return new qn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(W){try{return new qn(this.firestore,(0,Ne.hJ)(this._delegate,W))}catch(te){throw tt(te,"collection()","DocumentReference.collection()")}}isEqual(W){return(W=(0,wt.m9)(W))instanceof Ne.my&&(0,Ne.Eo)(this._delegate,W)}set(W,te){te=ut("DocumentReference.set",te);try{return te?(0,Ne.pl)(this._delegate,W,te):(0,Ne.pl)(this._delegate,W)}catch(De){throw tt(De,"setDoc()","DocumentReference.set()")}}update(W,te,...De){try{return 1===arguments.length?(0,Ne.r7)(this._delegate,W):(0,Ne.r7)(this._delegate,W,te,...De)}catch(Ue){throw tt(Ue,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ne.oe)(this._delegate)}onSnapshot(...W){const te=Je(W),De=yt(W,Ue=>new Mt(this.firestore,new Ne.xU(this.firestore._delegate,this._userDataWriter,Ue._key,Ue._document,Ue.metadata,this._delegate.converter)));return(0,Ne.cf)(this._delegate,te,De)}get(W){let te;return te="cache"===W?.source?(0,Ne.kl)(this._delegate):"server"===W?.source?(0,Ne.Xk)(this._delegate):(0,Ne.QT)(this._delegate),te.then(De=>new Mt(this.firestore,new Ne.xU(this.firestore._delegate,this._userDataWriter,De._key,De._document,De.metadata,this._delegate.converter)))}withConverter(W){return new Xe(this.firestore,this._delegate.withConverter(W?Ze.getInstance(this.firestore,W):null))}}function tt(se,W,te){return se.message=se.message.replace(W,te),se}function Je(se){for(const W of se)if("object"==typeof W&&!St(W))return W;return{}}function yt(se,W){var te,De;let Ue;return Ue=St(se[0])?se[0]:St(se[1])?se[1]:"function"==typeof se[0]?{next:se[0],error:se[1],complete:se[2]}:{next:se[1],error:se[2],complete:se[3]},{next:Ct=>{Ue.next&&Ue.next(W(Ct))},error:null===(te=Ue.error)||void 0===te?void 0:te.bind(Ue),complete:null===(De=Ue.complete)||void 0===De?void 0:De.bind(Ue)}}class Mt{constructor(W,te){this._firestore=W,this._delegate=te}get ref(){return new Xe(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(W){return this._delegate.data(W)}get(W,te){return this._delegate.get(W,te)}isEqual(W){return(0,Ne.qK)(this._delegate,W._delegate)}}class Lt extends Mt{data(W){const te=this._delegate.data(W);return(0,Ne.K9)(void 0!==te,"Document in a QueryDocumentSnapshot should exist"),te}}class Ot{constructor(W,te){this.firestore=W,this._delegate=te,this._userDataWriter=new En(W)}where(W,te,De){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.ar)(W,te,De)))}catch(Ue){throw tt(Ue,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(W,te){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.Xo)(W,te)))}catch(De){throw tt(De,/(orderBy|where)\(\)/,"Query.$1()")}}limit(W){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.b9)(W)))}catch(te){throw tt(te,"limit()","Query.limit()")}}limitToLast(W){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.vh)(W)))}catch(te){throw tt(te,"limitToLast()","Query.limitToLast()")}}startAt(...W){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.e0)(...W)))}catch(te){throw tt(te,"startAt()","Query.startAt()")}}startAfter(...W){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.TQ)(...W)))}catch(te){throw tt(te,"startAfter()","Query.startAfter()")}}endBefore(...W){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.Lx)(...W)))}catch(te){throw tt(te,"endBefore()","Query.endBefore()")}}endAt(...W){try{return new Ot(this.firestore,(0,Ne.IO)(this._delegate,(0,Ne.Wu)(...W)))}catch(te){throw tt(te,"endAt()","Query.endAt()")}}isEqual(W){return(0,Ne.iE)(this._delegate,W._delegate)}get(W){let te;return te="cache"===W?.source?(0,Ne.UQ)(this._delegate):"server"===W?.source?(0,Ne.zN)(this._delegate):(0,Ne.PL)(this._delegate),te.then(De=>new vn(this.firestore,new Ne.W(this.firestore._delegate,this._userDataWriter,this._delegate,De._snapshot)))}onSnapshot(...W){const te=Je(W),De=yt(W,Ue=>new vn(this.firestore,new Ne.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ue._snapshot)));return(0,Ne.cf)(this._delegate,te,De)}withConverter(W){return new Ot(this.firestore,this._delegate.withConverter(W?Ze.getInstance(this.firestore,W):null))}}class en{constructor(W,te){this._firestore=W,this._delegate=te}get type(){return this._delegate.type}get doc(){return new Lt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vn{constructor(W,te){this._firestore=W,this._delegate=te}get query(){return new Ot(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(W=>new Lt(this._firestore,W))}docChanges(W){return this._delegate.docChanges(W).map(te=>new en(this._firestore,te))}forEach(W,te){this._delegate.forEach(De=>{W.call(te,new Lt(this._firestore,De))})}isEqual(W){return(0,Ne.qK)(this._delegate,W._delegate)}}class qn extends Ot{constructor(W,te){super(W,te),this.firestore=W,this._delegate=te}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const W=this._delegate.parent;return W?new Xe(this.firestore,W):null}doc(W){try{return new Xe(this.firestore,void 0===W?(0,Ne.JU)(this._delegate):(0,Ne.JU)(this._delegate,W))}catch(te){throw tt(te,"doc()","CollectionReference.doc()")}}add(W){return(0,Ne.ET)(this._delegate,W).then(te=>new Xe(this.firestore,te))}isEqual(W){return(0,Ne.Eo)(this._delegate,W._delegate)}withConverter(W){return new qn(this.firestore,this._delegate.withConverter(W?Ze.getInstance(this.firestore,W):null))}}function Qt(se){return(0,Ne.Cf)(se,Ne.my)}class Jn{constructor(...W){this._delegate=new Ne.Lz(...W)}static documentId(){return new Jn(Ne.Xb.keyField().canonicalString())}isEqual(W){return(W=(0,wt.m9)(W))instanceof Ne.Lz&&this._delegate._internalPath.isEqual(W._internalPath)}}class rr{constructor(W){this._delegate=W}static serverTimestamp(){const W=(0,Ne.Bt)();return W._methodName="FieldValue.serverTimestamp",new rr(W)}static delete(){const W=(0,Ne.AK)();return W._methodName="FieldValue.delete",new rr(W)}static arrayUnion(...W){const te=(0,Ne.vr)(...W);return te._methodName="FieldValue.arrayUnion",new rr(te)}static arrayRemove(...W){const te=(0,Ne.Ab)(...W);return te._methodName="FieldValue.arrayRemove",new rr(te)}static increment(W){const te=(0,Ne.nP)(W);return te._methodName="FieldValue.increment",new rr(te)}isEqual(W){return this._delegate.isEqual(W._delegate)}}const Xn={Firestore:Ln,GeoPoint:Ne.F8,Timestamp:Ne.EK,Blob:ft,Transaction:tr,WriteBatch:jr,DocumentReference:Xe,DocumentSnapshot:Mt,Query:Ot,QueryDocumentSnapshot:Lt,QuerySnapshot:vn,CollectionReference:qn,FieldPath:Jn,FieldValue:rr,setLogLevel:function pr(se){(0,Ne.Ub)(se)},CACHE_SIZE_UNLIMITED:Ne.IX};!function Hr(se){(function dr(se,W){se.INTERNAL.registerComponent(new Ae.wA("firestore-compat",te=>{const De=te.getProvider("app-compat").getImmediate(),Ue=te.getProvider("firestore").getImmediate();return W(De,Ue)},"PUBLIC").setServiceProps(Object.assign({},Xn)))})(se,(W,te)=>new Ln(W,te,new _n)),se.registerVersion("@firebase/firestore-compat","0.3.12")}(Ve.Z);var $r=U(8645),Ii=U(3019),yr=U(3093),ar=U(4664),hi=U(4552);class zr extends $r.x{constructor(W=1/0,te=1/0,De=hi.l){super(),this._bufferSize=W,this._windowTime=te,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,te)}next(W){const{isStopped:te,_buffer:De,_infiniteTimeWindow:Ue,_timestampProvider:Ct,_windowTime:It}=this;te||(De.push(W),!Ue&&De.push(Ct.now()+It)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(W),{_infiniteTimeWindow:De,_buffer:Ue}=this,Ct=Ue.slice();for(let It=0;It<Ct.length&&!W.closed;It+=De?1:2)W.next(Ct[It]);return this._checkFinalizedStatuses(W),te}_trimBuffer(){const{_bufferSize:W,_timestampProvider:te,_buffer:De,_infiniteTimeWindow:Ue}=this,Ct=(Ue?1:2)*W;if(W<1/0&&Ct<De.length&&De.splice(0,De.length-Ct),!Ue){const It=te.now();let Pn=0;for(let cn=1;cn<De.length&&De[cn]<=It;cn+=2)Pn=cn;Pn&&De.splice(0,Pn+1)}}}var wn=U(3020);function nn(se,W,te){let De,Ue=!1;return se&&"object"==typeof se?({bufferSize:De=1/0,windowTime:W=1/0,refCount:Ue=!1,scheduler:te}=se):De=se??1/0,(0,wn.B)({connector:()=>new zr(De,W,te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}var Cn=U(1374),Bn=U(4674);function Lr(se,W){return(0,Bn.m)(W)?(0,ar.w)(()=>se,W):(0,ar.w)(()=>se)}var On=U(5137),Nn=U(2194);U(120);const er=new w.OlP("angularfire2.auth.use-emulator"),li=new w.OlP("angularfire2.auth.settings"),Wn=new w.OlP("angularfire2.auth.tenant-id"),gr=new w.OlP("angularfire2.auth.langugage-code"),Ti=new w.OlP("angularfire2.auth.use-device-language"),Si=new w.OlP("angularfire.auth.persistence"),hr=(se,W,te,De,Ue,Ct,It,Pn)=>(0,Tt.cc)(`${se.name}.auth`,"AngularFireAuth",se.name,()=>{const cn=W.runOutsideAngular(()=>se.auth());if(te&&cn.useEmulator(...te),De&&(cn.tenantId=De),cn.languageCode=Ue,Ct&&cn.useDeviceLanguage(),It)for(const[Yr,mi]of Object.entries(It))cn.settings[Yr]=mi;return Pn&&cn.setPersistence(Pn),cn},[te,De,Ue,Ct,It,Pn]);let Un=(()=>{class se{constructor(te,De,Ue,Ct,It,Pn,cn,Yr,mi,Ur,xi,rs){const ui=new $r.x,lr=(0,m.of)(void 0).pipe((0,yr.Q)(It.outsideAngular),(0,ar.w)(()=>Ct.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8661)))),(0,ge.U)(()=>(0,Tt.on)(te,Ct,De)),(0,ge.U)(ur=>hr(ur,Ct,Pn,Yr,mi,Ur,cn,xi)),nn({bufferSize:1,refCount:!1}));if((0,ke.PM)(Ue))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{lr.pipe((0,Cn.P)()).subscribe();const fi=lr.pipe((0,ar.w)(Sn=>Sn.getRedirectResult().then(bi=>bi,()=>null)),we.iC,nn({bufferSize:1,refCount:!1})),Ss=lr.pipe((0,ar.w)(Sn=>new X.y(bi=>({unsubscribe:Ct.runOutsideAngular(()=>Sn.onAuthStateChanged(oi=>bi.next(oi),oi=>bi.error(oi),()=>bi.complete()))})))),Rr=lr.pipe((0,ar.w)(Sn=>new X.y(bi=>({unsubscribe:Ct.runOutsideAngular(()=>Sn.onIdTokenChanged(oi=>bi.next(oi),oi=>bi.error(oi),()=>bi.complete()))}))));this.authState=fi.pipe(Lr(Ss),(0,On.R)(It.outsideAngular),(0,yr.Q)(It.insideAngular)),this.user=fi.pipe(Lr(Rr),(0,On.R)(It.outsideAngular),(0,yr.Q)(It.insideAngular)),this.idToken=this.user.pipe((0,ar.w)(Sn=>Sn?(0,_e.D)(Sn.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe((0,ar.w)(Sn=>Sn?(0,_e.D)(Sn.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,Ii.T)(fi,ui,this.authState.pipe((0,at.h)(Sn=>!Sn))).pipe((0,ge.U)(Sn=>Sn?.user?Sn:null),(0,On.R)(It.outsideAngular),(0,yr.Q)(It.insideAngular))}return(0,Tt.pX)(this,lr,Ct,{spy:{apply:(ur,fi,Ss)=>{(ur.startsWith("signIn")||ur.startsWith("createUser"))&&Ss.then(Rr=>ui.next(Rr))}}})}}return se.\u0275fac=function(te){return new(te||se)(w.LFG(Tt.Dh),w.LFG(Tt.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(we.HU),w.LFG(er,8),w.LFG(li,8),w.LFG(Wn,8),w.LFG(gr,8),w.LFG(Ti,8),w.LFG(Si,8),w.LFG(Nn.nm,8))},se.\u0275prov=w.Yz7({token:se,factory:se.\u0275fac,providedIn:"any"}),se})();function gt(se,W){return function Se(se,W=ae.z){return new X.y(te=>{let De;return null!=W?W.schedule(()=>{De=se.onSnapshot({includeMetadataChanges:!0},te)}):De=se.onSnapshot({includeMetadataChanges:!0},te),()=>{De?.()}})}(se,W)}function rn(se,W){return gt(se,W).pipe((0,ge.U)(te=>({payload:te,type:"query"})))}function gn(se,W){return rn(se,W).pipe((0,Ie.O)(void 0),oe(),(0,ge.U)(([te,De])=>{const Ue=De.payload.docChanges(),Ct=Ue.map(It=>({type:It.type,payload:It}));return te&&JSON.stringify(te.payload.metadata)!==JSON.stringify(De.payload.metadata)&&De.payload.docs.forEach((It,Pn)=>{const cn=Ue.find(mi=>mi.doc.ref.isEqual(It.ref)),Yr=te?.payload.docs.find(mi=>mi.ref.isEqual(It.ref));cn&&JSON.stringify(cn.doc.metadata)===JSON.stringify(It.metadata)||!cn&&Yr&&JSON.stringify(Yr.metadata)===JSON.stringify(It.metadata)||Ct.push({type:"modified",payload:{oldIndex:Pn,newIndex:Pn,type:"modified",doc:It}})}),Ct}))}function mr(se,W,te){return gn(se,te).pipe((0,Me.R)((De,Ue)=>function be(se,W,te){return W.forEach(De=>{te.indexOf(De.type)>-1&&(se=function q(se,W){switch(W.type){case"added":if(!se[W.newIndex]||!se[W.newIndex].doc.ref.isEqual(W.doc.ref))return ie(se,W.newIndex,0,W);break;case"modified":if(null==se[W.oldIndex]||se[W.oldIndex].doc.ref.isEqual(W.doc.ref)){if(W.oldIndex!==W.newIndex){const te=se.slice();return te.splice(W.oldIndex,1),te.splice(W.newIndex,0,W),te}return ie(se,W.newIndex,1,W)}break;case"removed":if(se[W.oldIndex]&&se[W.oldIndex].doc.ref.isEqual(W.doc.ref))return ie(se,W.oldIndex,1)}return se}(se,De))}),se}(De,Ue.map(Ct=>Ct.payload),W),[]),(0,Ke.x)(),(0,ge.U)(De=>De.map(Ue=>({type:Ue.type,payload:Ue}))))}function ie(se,W,te,...De){const Ue=se.slice();return Ue.splice(W,te,...De),Ue}function Z(se){return(!se||0===se.length)&&(se=["added","removed","modified"]),se}class j{constructor(W,te,De){this.ref=W,this.query=te,this.afs=De}stateChanges(W){let te=gn(this.query,this.afs.schedulers.outsideAngular);return W&&W.length>0&&(te=te.pipe((0,ge.U)(De=>De.filter(Ue=>W.indexOf(Ue.type)>-1)))),te.pipe((0,Ie.O)(void 0),oe(),(0,at.h)(([De,Ue])=>Ue.length>0||!De),(0,ge.U)(([De,Ue])=>Ue),we.iC)}auditTrail(W){return this.stateChanges(W).pipe((0,Me.R)((te,De)=>[...te,...De],[]))}snapshotChanges(W){const te=Z(W);return mr(this.query,te,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(W={}){return rn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(te=>te.payload.docs.map(De=>W.idField?Object.assign(Object.assign({},De.data()),{[W.idField]:De.id}):De.data())),we.iC)}get(W){return(0,_e.D)(this.query.get(W)).pipe(we.iC)}add(W){return this.ref.add(W)}doc(W){return new de(this.ref.doc(W),this.afs)}}class de{constructor(W,te){this.ref=W,this.afs=te}set(W,te){return this.ref.set(W,te)}update(W){return this.ref.update(W)}delete(){return this.ref.delete()}collection(W,te){const De=this.ref.collection(W),{ref:Ue,query:Ct}=Dn(De,te);return new j(Ue,Ct,this.afs)}snapshotChanges(){return function kt(se,W){return gt(se,W).pipe((0,Ie.O)(void 0),oe(),(0,ge.U)(([te,De])=>De.exists?te?.exists?{payload:De,type:"modified"}:{payload:De,type:"added"}:{payload:De,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(W={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:te})=>W.idField?Object.assign(Object.assign({},te.data()),{[W.idField]:te.id}):te.data()))}get(W){return(0,_e.D)(this.ref.get(W)).pipe(we.iC)}}class Oe{constructor(W,te){this.query=W,this.afs=te}stateChanges(W){return W&&0!==W.length?gn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(te=>te.filter(De=>W.indexOf(De.type)>-1)),(0,at.h)(te=>te.length>0),we.iC):gn(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(W){return this.stateChanges(W).pipe((0,Me.R)((te,De)=>[...te,...De],[]))}snapshotChanges(W){const te=Z(W);return mr(this.query,te,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(W={}){return rn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(De=>De.payload.docs.map(Ue=>W.idField?Object.assign({[W.idField]:Ue.id},Ue.data()):Ue.data())),we.iC)}get(W){return(0,_e.D)(this.query.get(W)).pipe(we.iC)}}const ot=new w.OlP("angularfire2.enableFirestorePersistence"),$t=new w.OlP("angularfire2.firestore.persistenceSettings"),Rt=new w.OlP("angularfire2.firestore.settings"),An=new w.OlP("angularfire2.firestore.use-emulator");function Dn(se,W=(te=>te)){return{query:W(se),ref:se}}let jn=(()=>{class se{constructor(te,De,Ue,Ct,It,Pn,cn,Yr,mi,Ur,xi,rs,ui,lr,ur,fi,Ss){this.schedulers=cn;const Rr=(0,Tt.on)(te,Pn,De),Sn=mi;Ur&&hr(Rr,Pn,xi,ui,lr,ur,rs,fi),[this.firestore,this.persistenceEnabled$]=(0,Tt.cc)(`${Rr.name}.firestore`,"AngularFirestore",Rr.name,()=>{const bi=Pn.runOutsideAngular(()=>Rr.firestore());if(Ct&&bi.settings(Ct),Sn&&bi.useEmulator(...Sn),Ue&&!(0,ke.PM)(It)){const oi=()=>{try{return(0,_e.D)(bi.enablePersistence(Yr||void 0).then(()=>!0,()=>!1))}catch(_a){return typeof console<"u"&&console.warn(_a),(0,m.of)(!1)}};return[bi,Pn.runOutsideAngular(oi)]}return[bi,(0,m.of)(!1)]},[Ct,Sn,Ue])}collection(te,De){let Ue;Ue="string"==typeof te?this.firestore.collection(te):te;const{ref:Ct,query:It}=Dn(Ue,De),Pn=this.schedulers.ngZone.run(()=>Ct);return new j(Pn,It,this)}collectionGroup(te,De){const Ue=De||(It=>It),Ct=this.firestore.collectionGroup(te);return new Oe(Ue(Ct),this)}doc(te){let De;De="string"==typeof te?this.firestore.doc(te):te;const Ue=this.schedulers.ngZone.run(()=>De);return new de(Ue,this)}createId(){return this.firestore.collection("_").doc().id}}return se.\u0275fac=function(te){return new(te||se)(w.LFG(Tt.Dh),w.LFG(Tt.xv,8),w.LFG(ot,8),w.LFG(Rt,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(we.HU),w.LFG($t,8),w.LFG(An,8),w.LFG(Un,8),w.LFG(er,8),w.LFG(li,8),w.LFG(Wn,8),w.LFG(gr,8),w.LFG(Ti,8),w.LFG(Si,8),w.LFG(Nn.nm,8))},se.\u0275prov=w.Yz7({token:se,factory:se.\u0275fac,providedIn:"any"}),se})()},6304:(Kt,qe,U)=>{U.d(qe,{Dh:()=>ve,GT:()=>we,cc:()=>at,hO:()=>Ke,on:()=>oe,pX:()=>m,xv:()=>He});var w=U(5879),ae=U(120),X=U(2793);Kt=U.hmd(Kt);const _e=["ngOnDestroy"],m=(Ve,Ne,wt,Ae={})=>new Proxy(Ve,{get:(ht,je)=>wt.runOutsideAngular(()=>{var ut;if(Ve[je])return!(null===(ut=Ae?.spy)||void 0===ut)&&ut.get&&Ae.spy.get(je,Ve[je]),Ve[je];if(_e.indexOf(je)>-1)return()=>{};const vt=Ne.toPromise().then(Ee=>{const ft=Ee&&Ee[je];return"function"==typeof ft?ft.bind(Ee):ft&&ft.then?ft.then(St=>wt.run(()=>St)):wt.run(()=>ft)});return new Proxy(()=>{},{get:(Ee,ft)=>vt[ft],apply:(Ee,ft,St)=>vt.then(zt=>{var _n;const Ln=zt&&zt(...St);return!(null===(_n=Ae?.spy)||void 0===_n)&&_n.apply&&Ae.spy.apply(je,St,Ln),Ln})})})}),we=(Ve,Ne)=>{Ne.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(Ae=>{Object.defineProperty(Ve.prototype,Ae,Object.getOwnPropertyDescriptor(wt.prototype||wt,Ae))})})};class Ie{constructor(Ne){return Ne}}const ve=new w.OlP("angularfire2.app.options"),He=new w.OlP("angularfire2.app.name");function oe(Ve,Ne,wt){const ht="object"==typeof wt&&wt||{};ht.name=ht.name||"string"==typeof wt&&wt||"[DEFAULT]";const ut=ae.Z.apps.filter(vt=>vt&&vt.name===ht.name)[0]||Ne.runOutsideAngular(()=>ae.Z.initializeApp(Ve,ht));try{JSON.stringify(Ve)!==JSON.stringify(ut.options)&&ge("error",`${ut.name} Firebase App already initialized with different options${Kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(ut)}const ge=(Ve,...Ne)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Ve](...Ne)},Me={provide:Ie,useFactory:oe,deps:[ve,w.R0b,[new w.FiY,He]]};let Ke=(()=>{class Ve{constructor(wt){ae.Z.registerVersion("angularfire",X.q4.full,"core"),ae.Z.registerVersion("angularfire",X.q4.full,"app-compat"),ae.Z.registerVersion("angular",w.q4F.full,wt.toString())}static initializeApp(wt,Ae){return{ngModule:Ve,providers:[{provide:ve,useValue:wt},{provide:He,useValue:Ae}]}}}return Ve.\u0275fac=function(wt){return new(wt||Ve)(w.LFG(w.Lbi))},Ve.\u0275mod=w.oAB({type:Ve}),Ve.\u0275inj=w.cJS({providers:[Me]}),Ve})();function at(Ve,Ne,wt,Ae,ht){const[,je,ut]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===Ve)||[];if(je)return function Tt(Ve,Ne){try{return Ve.toString()===Ne.toString()}catch{return Ve===Ne}}(ht,ut)||(dt("error",`${Ne} was already initialized on the ${wt} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),dt("warn",{is:ht,was:ut})),je;{const vt=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ve,vt,ht]),vt}}const ke=!!Kt.hot,dt=(Ve,...Ne)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Ve](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(Kt,qe,U)=>{U.d(qe,{q4:()=>el,iC:()=>Li,HU:()=>qs,vb:()=>nh,JM:()=>Wc,u3:()=>Ql});var w=U(5879),ae=U(4097),X=U(5861),_e=U(4303),m=U(9058),we=U(4537),Ie=U(7879);const ve=(R,F)=>F.some(Y=>R instanceof Y);let He,oe;const Ke=new WeakMap,at=new WeakMap,Tt=new WeakMap,ke=new WeakMap,dt=new WeakMap;let wt={get(R,F,Y){if(R instanceof IDBTransaction){if("done"===F)return at.get(R);if("objectStoreNames"===F)return R.objectStoreNames||Tt.get(R);if("store"===F)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return ut(R[F])},set:(R,F,Y)=>(R[F]=Y,!0),has:(R,F)=>R instanceof IDBTransaction&&("done"===F||"store"===F)||F in R};function je(R){return"function"==typeof R?function ht(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...F){return R.apply(vt(this),F),ut(Ke.get(this))}:function(...F){return ut(R.apply(vt(this),F))}:function(F,...Y){const fe=R.call(vt(this),F,...Y);return Tt.set(fe,F.sort?F.sort():[F]),ut(fe)}}(R):(R instanceof IDBTransaction&&function Ne(R){if(at.has(R))return;const F=new Promise((Y,fe)=>{const Te=()=>{R.removeEventListener("complete",We),R.removeEventListener("error",_t),R.removeEventListener("abort",_t)},We=()=>{Y(),Te()},_t=()=>{fe(R.error||new DOMException("AbortError","AbortError")),Te()};R.addEventListener("complete",We),R.addEventListener("error",_t),R.addEventListener("abort",_t)});at.set(R,F)}(R),ve(R,function ge(){return He||(He=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,wt):R)}function ut(R){if(R instanceof IDBRequest)return function Ve(R){const F=new Promise((Y,fe)=>{const Te=()=>{R.removeEventListener("success",We),R.removeEventListener("error",_t)},We=()=>{Y(ut(R.result)),Te()},_t=()=>{fe(R.error),Te()};R.addEventListener("success",We),R.addEventListener("error",_t)});return F.then(Y=>{Y instanceof IDBCursor&&Ke.set(Y,R)}).catch(()=>{}),dt.set(F,R),F}(R);if(ke.has(R))return ke.get(R);const F=je(R);return F!==R&&(ke.set(R,F),dt.set(F,R)),F}const vt=R=>dt.get(R),St=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],_n=new Map;function Ln(R,F){if(!(R instanceof IDBDatabase)||F in R||"string"!=typeof F)return;if(_n.get(F))return _n.get(F);const Y=F.replace(/FromIndex$/,""),fe=F!==Y,Te=zt.includes(Y);if(!(Y in(fe?IDBIndex:IDBObjectStore).prototype)||!Te&&!St.includes(Y))return;const We=function(){var _t=(0,X.Z)(function*(ln,...on){const Rn=this.transaction(ln,Te?"readwrite":"readonly");let fr=Rn.store;return fe&&(fr=fr.index(on.shift())),(yield Promise.all([fr[Y](...on),Te&&Rn.done]))[0]});return function(on){return _t.apply(this,arguments)}}();return _n.set(F,We),We}!function Ae(R){wt=R(wt)}(R=>({...R,get:(F,Y,fe)=>Ln(F,Y)||R.get(F,Y,fe),has:(F,Y)=>!!Ln(F,Y)||R.has(F,Y)}));const En="@firebase/installations",pr="0.6.4",tr=1e4,jr=`w:${pr}`,Ze="FIS_v2",Xe="https://firebaseinstallations.googleapis.com/v1",tt=36e5,Lt=new m.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(R){return R instanceof m.ZR&&R.code.includes("request-failed")}function en({projectId:R}){return`${Xe}/projects/${R}/installations`}function vn(R){return{token:R.token,requestStatus:2,expiresIn:Hr(R.expiresIn),creationTime:Date.now()}}function qn(R,F){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,X.Z)(function*(R,F){const fe=(yield F.json()).error;return Lt.create("request-failed",{requestName:R,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function Jn({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Xn(R){return dr.apply(this,arguments)}function dr(){return(dr=(0,X.Z)(function*(R){const F=yield R();return F.status>=500&&F.status<600?R():F})).apply(this,arguments)}function Hr(R){return Number(R.replace("s","000"))}function yr(){return(yr=(0,X.Z)(function*({appConfig:R,heartbeatServiceProvider:F},{fid:Y}){const fe=en(R),Te=Jn(R),We=F.getImmediate({optional:!0});if(We){const Rn=yield We.getHeartbeatsHeader();Rn&&Te.append("x-firebase-client",Rn)}const ln={method:"POST",headers:Te,body:JSON.stringify({fid:Y,authVersion:Ze,appId:R.appId,sdkVersion:jr})},on=yield Xn(()=>fetch(fe,ln));if(on.ok){const Rn=yield on.json();return{fid:Rn.fid||Y,registrationStatus:2,refreshToken:Rn.refreshToken,authToken:vn(Rn.authToken)}}throw yield qn("Create Installation",on)})).apply(this,arguments)}function ar(R){return new Promise(F=>{setTimeout(F,R)})}const zr=/^[cdef][\w-]{21}$/,wn="";function nn(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const Y=function Cn(R){return function hi(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return zr.test(Y)?Y:wn}catch{return wn}}function Bn(R){return`${R.appName}!${R.appId}`}const Lr=new Map;function On(R,F){const Y=Bn(R);Qr(Y,F),function er(R,F){const Y=function Wn(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=R=>{Qr(R.data.key,R.data.fid)}),li}();Y&&Y.postMessage({key:R,fid:F}),function gr(){0===Lr.size&&li&&(li.close(),li=null)}()}(Y,F)}function Qr(R,F){const Y=Lr.get(R);if(Y)for(const fe of Y)fe(F)}let li=null;const Ti="firebase-installations-database",Si=1,hr="firebase-installations-store";let Un=null;function st(){return Un||(Un=function Ee(R,F,{blocked:Y,upgrade:fe,blocking:Te,terminated:We}={}){const _t=indexedDB.open(R,F),ln=ut(_t);return fe&&_t.addEventListener("upgradeneeded",on=>{fe(ut(_t.result),on.oldVersion,on.newVersion,ut(_t.transaction))}),Y&&_t.addEventListener("blocked",()=>Y()),ln.then(on=>{We&&on.addEventListener("close",()=>We()),Te&&on.addEventListener("versionchange",()=>Te())}).catch(()=>{}),ln}(Ti,Si,{upgrade:(R,F)=>{0===F&&R.createObjectStore(hr)}})),Un}function Se(R,F){return gt.apply(this,arguments)}function gt(){return(gt=(0,X.Z)(function*(R,F){const Y=Bn(R),Te=(yield st()).transaction(hr,"readwrite"),We=Te.objectStore(hr),_t=yield We.get(Y);return yield We.put(F,Y),yield Te.done,(!_t||_t.fid!==F.fid)&&On(R,F.fid),F})).apply(this,arguments)}function kt(R){return rn.apply(this,arguments)}function rn(){return(rn=(0,X.Z)(function*(R){const F=Bn(R),fe=(yield st()).transaction(hr,"readwrite");yield fe.objectStore(hr).delete(F),yield fe.done})).apply(this,arguments)}function gn(R,F){return mr.apply(this,arguments)}function mr(){return(mr=(0,X.Z)(function*(R,F){const Y=Bn(R),Te=(yield st()).transaction(hr,"readwrite"),We=Te.objectStore(hr),_t=yield We.get(Y),ln=F(_t);return void 0===ln?yield We.delete(Y):yield We.put(ln,Y),yield Te.done,ln&&(!_t||_t.fid!==ln.fid)&&On(R,ln.fid),ln})).apply(this,arguments)}function be(R){return ie.apply(this,arguments)}function ie(){return ie=(0,X.Z)(function*(R){let F;const Y=yield gn(R.appConfig,fe=>{const Te=function q(R){return Rt(R||{fid:nn(),registrationStatus:0})}(fe),We=function Z(R,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Lt.create("app-offline"))};const Y={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},fe=function j(R,F){return de.apply(this,arguments)}(R,Y);return{installationEntry:Y,registrationPromise:fe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Oe(R)}:{installationEntry:F}}(R,Te);return F=We.registrationPromise,We.installationEntry});return Y.fid===wn?{installationEntry:yield F}:{installationEntry:Y,registrationPromise:F}}),ie.apply(this,arguments)}function de(){return de=(0,X.Z)(function*(R,F){try{const Y=yield function Ii(R,F){return yr.apply(this,arguments)}(R,F);return Se(R.appConfig,Y)}catch(Y){throw Ot(Y)&&409===Y.customData.serverCode?yield kt(R.appConfig):yield Se(R.appConfig,{fid:F.fid,registrationStatus:0}),Y}}),de.apply(this,arguments)}function Oe(R){return ot.apply(this,arguments)}function ot(){return(ot=(0,X.Z)(function*(R){let F=yield $t(R.appConfig);for(;1===F.registrationStatus;)yield ar(100),F=yield $t(R.appConfig);if(0===F.registrationStatus){const{installationEntry:Y,registrationPromise:fe}=yield be(R);return fe||Y}return F})).apply(this,arguments)}function $t(R){return gn(R,F=>{if(!F)throw Lt.create("installation-not-found");return Rt(F)})}function Rt(R){return function An(R){return 1===R.registrationStatus&&R.registrationTime+tr<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function jn(){return(jn=(0,X.Z)(function*({appConfig:R,heartbeatServiceProvider:F},Y){const fe=function Re(R,{fid:F}){return`${en(R)}/${F}/authTokens:generate`}(R,Y),Te=function rr(R,{refreshToken:F}){const Y=Jn(R);return Y.append("Authorization",function $r(R){return`${Ze} ${R}`}(F)),Y}(R,Y),We=F.getImmediate({optional:!0});if(We){const Rn=yield We.getHeartbeatsHeader();Rn&&Te.append("x-firebase-client",Rn)}const ln={method:"POST",headers:Te,body:JSON.stringify({installation:{sdkVersion:jr,appId:R.appId}})},on=yield Xn(()=>fetch(fe,ln));if(on.ok)return vn(yield on.json());throw yield qn("Generate Auth Token",on)})).apply(this,arguments)}function se(R){return W.apply(this,arguments)}function W(){return W=(0,X.Z)(function*(R,F=!1){let Y;const fe=yield gn(R.appConfig,We=>{if(!Pn(We))throw Lt.create("not-registered");const _t=We.authToken;if(!F&&function cn(R){return 2===R.requestStatus&&!function Yr(R){const F=Date.now();return F<R.creationTime||R.creationTime+R.expiresIn<F+tt}(R)}(_t))return We;if(1===_t.requestStatus)return Y=function te(R,F){return De.apply(this,arguments)}(R,F),We;{if(!navigator.onLine)throw Lt.create("app-offline");const ln=function mi(R){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:F})}(We);return Y=function Ct(R,F){return It.apply(this,arguments)}(R,ln),ln}});return Y?yield Y:fe.authToken}),W.apply(this,arguments)}function De(){return(De=(0,X.Z)(function*(R,F){let Y=yield Ue(R.appConfig);for(;1===Y.authToken.requestStatus;)yield ar(100),Y=yield Ue(R.appConfig);const fe=Y.authToken;return 0===fe.requestStatus?se(R,F):fe})).apply(this,arguments)}function Ue(R){return gn(R,F=>{if(!Pn(F))throw Lt.create("not-registered");return function Ur(R){return 1===R.requestStatus&&R.requestTime+tr<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function It(){return It=(0,X.Z)(function*(R,F){try{const Y=yield function Dn(R,F){return jn.apply(this,arguments)}(R,F),fe=Object.assign(Object.assign({},F),{authToken:Y});return yield Se(R.appConfig,fe),Y}catch(Y){if(!Ot(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const fe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Se(R.appConfig,fe)}else yield kt(R.appConfig);throw Y}}),It.apply(this,arguments)}function Pn(R){return void 0!==R&&2===R.registrationStatus}function rs(){return(rs=(0,X.Z)(function*(R){const F=R,{installationEntry:Y,registrationPromise:fe}=yield be(F);return fe?fe.catch(console.error):se(F).catch(console.error),Y.fid})).apply(this,arguments)}function lr(){return lr=(0,X.Z)(function*(R,F=!1){const Y=R;return yield function ur(R){return fi.apply(this,arguments)}(Y),(yield se(Y,F)).token}),lr.apply(this,arguments)}function fi(){return(fi=(0,X.Z)(function*(R){const{registrationPromise:F}=yield be(R);F&&(yield F)})).apply(this,arguments)}function Le(R){return Lt.create("missing-app-config-values",{valueName:R})}const et="installations",Gt=R=>{const F=R.getProvider("app").getImmediate(),Y=function Fe(R){if(!R||!R.options)throw Le("App Configuration");if(!R.name)throw Le("App Name");const F=["projectId","apiKey","appId"];for(const Y of F)if(!R.options[Y])throw Le(Y);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(F);return{app:F,appConfig:Y,heartbeatServiceProvider:(0,_e.qX)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Hn=R=>{const F=R.getProvider("app").getImmediate(),Y=(0,_e.qX)(F,et).getImmediate();return{getId:()=>function xi(R){return rs.apply(this,arguments)}(Y),getToken:Te=>function ui(R){return lr.apply(this,arguments)}(Y,Te)}};(function _r(){(0,_e.Xd)(new we.wA(et,Gt,"PUBLIC")),(0,_e.Xd)(new we.wA("installations-internal",Hn,"PRIVATE"))})(),(0,_e.KN)(En,pr),(0,_e.KN)(En,pr,"esm2017");const Er="@firebase/remote-config",Zi=new m.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cr{constructor(F,Y,fe,Te){this.client=F,this.storage=Y,this.storageCache=fe,this.logger=Te}isCachedDataFresh(F,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-Y,Te=fe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Te}.`),Te}fetch(F){var Y=this;return(0,X.Z)(function*(){const[fe,Te]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(Te&&Y.isCachedDataFresh(F.cacheMaxAgeMillis,fe))return Te;F.eTag=Te&&Te.eTag;const We=yield Y.client.fetch(F),_t=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&_t.push(Y.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(_t),We})()}}function Jr(R=navigator){return R.languages&&R.languages[0]||R.language}class Us{constructor(F,Y,fe,Te,We,_t){this.firebaseInstallations=F,this.sdkVersion=Y,this.namespace=fe,this.projectId=Te,this.apiKey=We,this.appId=_t}fetch(F){var Y=this;return(0,X.Z)(function*(){const[fe,Te]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},on={sdk_version:Y.sdkVersion,app_instance_id:fe,app_instance_id_token:Te,app_id:Y.appId,language_code:Jr()},Rn={method:"POST",headers:ln,body:JSON.stringify(on)},fr=fetch(_t,Rn),Yn=new Promise((Ko,gs)=>{F.signal.addEventListener(()=>{const hc=new Error("The operation was aborted.");hc.name="AbortError",gs(hc)})});let Ws;try{yield Promise.race([fr,Yn]),Ws=yield fr}catch(Ko){let gs="fetch-client-network";throw"AbortError"===Ko?.name&&(gs="fetch-timeout"),Zi.create(gs,{originalErrorMessage:Ko?.message})}let Ks=Ws.status;const zi=Ws.headers.get("ETag")||void 0;let Td,fa;if(200===Ws.status){let Ko;try{Ko=yield Ws.json()}catch(gs){throw Zi.create("fetch-client-parse",{originalErrorMessage:gs?.message})}Td=Ko.entries,fa=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===fa?Ks=500:"NO_CHANGE"===fa?Ks=304:("NO_TEMPLATE"===fa||"EMPTY_CONFIG"===fa)&&(Td={}),304!==Ks&&200!==Ks)throw Zi.create("fetch-status",{httpStatus:Ks});return{status:Ks,eTag:zi,config:Td}})()}}class ro{constructor(F,Y){this.client=F,this.storage=Y}fetch(F){var Y=this;return(0,X.Z)(function*(){const fe=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(F,fe)})()}attemptFetch(F,{throttleEndTimeMillis:Y,backoffCount:fe}){var Te=this;return(0,X.Z)(function*(){yield function bo(R,F){return new Promise((Y,fe)=>{const Te=Math.max(F-Date.now(),0),We=setTimeout(Y,Te);R.addEventListener(()=>{clearTimeout(We),fe(Zi.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,Y);try{const We=yield Te.client.fetch(F);return yield Te.storage.deleteThrottleMetadata(),We}catch(We){if(!function Bs(R){if(!(R instanceof m.ZR&&R.customData))return!1;const F=Number(R.customData.httpStatus);return 429===F||500===F||503===F||504===F}(We))throw We;const _t={throttleEndTimeMillis:Date.now()+(0,m.$s)(fe),backoffCount:fe+1};return yield Te.storage.setThrottleMetadata(_t),Te.attemptFetch(F,_t)}})()}}class fo{constructor(F,Y,fe,Te,We){this.app=F,this._client=Y,this._storageCache=fe,this._storage=Te,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fn(R,F){const Y=R.target.error||void 0;return Zi.create(F,{originalErrorMessage:Y&&Y?.message})}const po="app_namespace_store";class Ba{constructor(F,Y,fe,Te=function is(){return new Promise((R,F)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=fe=>{F(Fn(fe,"storage-open"))},Y.onsuccess=fe=>{R(fe.target.result)},Y.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(po,{keyPath:"compositeKey"})}}catch(Y){F(Zi.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=F,this.appName=Y,this.namespace=fe,this.openDbPromise=Te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var Y=this;return(0,X.Z)(function*(){const fe=yield Y.openDbPromise;return new Promise((Te,We)=>{const ln=fe.transaction([po],"readonly").objectStore(po),on=Y.createCompositeKey(F);try{const Rn=ln.get(on);Rn.onerror=fr=>{We(Fn(fr,"storage-get"))},Rn.onsuccess=fr=>{const Yn=fr.target.result;Te(Yn?Yn.value:void 0)}}catch(Rn){We(Zi.create("storage-get",{originalErrorMessage:Rn?.message}))}})})()}set(F,Y){var fe=this;return(0,X.Z)(function*(){const Te=yield fe.openDbPromise;return new Promise((We,_t)=>{const on=Te.transaction([po],"readwrite").objectStore(po),Rn=fe.createCompositeKey(F);try{const fr=on.put({compositeKey:Rn,value:Y});fr.onerror=Yn=>{_t(Fn(Yn,"storage-set"))},fr.onsuccess=()=>{We()}}catch(fr){_t(Zi.create("storage-set",{originalErrorMessage:fr?.message}))}})})()}delete(F){var Y=this;return(0,X.Z)(function*(){const fe=yield Y.openDbPromise;return new Promise((Te,We)=>{const ln=fe.transaction([po],"readwrite").objectStore(po),on=Y.createCompositeKey(F);try{const Rn=ln.delete(on);Rn.onerror=fr=>{We(Fn(fr,"storage-delete"))},Rn.onsuccess=()=>{Te()}}catch(Rn){We(Zi.create("storage-delete",{originalErrorMessage:Rn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class so{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,X.Z)(function*(){const Y=F.storage.getLastFetchStatus(),fe=F.storage.getLastSuccessfulFetchTimestampMillis(),Te=F.storage.getActiveConfig(),We=yield Y;We&&(F.lastFetchStatus=We);const _t=yield fe;_t&&(F.lastSuccessfulFetchTimestampMillis=_t);const ln=yield Te;ln&&(F.activeConfig=ln)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function wa(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,X.Z)(function*(){if(!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}!function ss(){(0,_e.Xd)(new we.wA("remote-config",function R(F,{instanceIdentifier:Y}){const fe=F.getProvider("app").getImmediate(),Te=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zi.create("registration-window");if(!(0,m.hl)())throw Zi.create("indexed-db-unavailable");const{projectId:We,apiKey:_t,appId:ln}=fe.options;if(!We)throw Zi.create("registration-project-id");if(!_t)throw Zi.create("registration-api-key");if(!ln)throw Zi.create("registration-app-id");const on=new Ba(ln,fe.name,Y=Y||"firebase"),Rn=new so(on),fr=new Ie.Yd(Er);fr.logLevel=Ie.in.ERROR;const Yn=new Us(Te,_e.Jn,Y,We,_t,ln),Ws=new ro(Yn,on),Ks=new cr(Ws,on,Rn,fr),zi=new fo(fe,Ks,Rn,on,fr);return function ki(R){const F=(0,m.m9)(R);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(zi),zi},"PUBLIC").setMultipleInstances(!0)),(0,_e.KN)(Er,"0.4.4"),(0,_e.KN)(Er,"0.4.4","esm2017")}();const tc=(R,F)=>F.some(Y=>R instanceof Y);let js,Pr;const xs=new WeakMap,ri=new WeakMap,os=new WeakMap,oo=new WeakMap,ja=new WeakMap;let Qi={get(R,F,Y){if(R instanceof IDBTransaction){if("done"===F)return ri.get(R);if("objectStoreNames"===F)return R.objectStoreNames||os.get(R);if("store"===F)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return vs(R[F])},set:(R,F,Y)=>(R[F]=Y,!0),has:(R,F)=>R instanceof IDBTransaction&&("done"===F||"store"===F)||F in R};function Co(R){return"function"==typeof R?function ku(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nu(){return Pr||(Pr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...F){return R.apply(Yi(this),F),vs(xs.get(this))}:function(...F){return vs(R.apply(Yi(this),F))}:function(F,...Y){const fe=R.call(Yi(this),F,...Y);return os.set(fe,F.sort?F.sort():[F]),vs(fe)}}(R):(R instanceof IDBTransaction&&function Ol(R){if(ri.has(R))return;const F=new Promise((Y,fe)=>{const Te=()=>{R.removeEventListener("complete",We),R.removeEventListener("error",_t),R.removeEventListener("abort",_t)},We=()=>{Y(),Te()},_t=()=>{fe(R.error||new DOMException("AbortError","AbortError")),Te()};R.addEventListener("complete",We),R.addEventListener("error",_t),R.addEventListener("abort",_t)});ri.set(R,F)}(R),tc(R,function Ou(){return js||(js=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,Qi):R)}function vs(R){if(R instanceof IDBRequest)return function Vi(R){const F=new Promise((Y,fe)=>{const Te=()=>{R.removeEventListener("success",We),R.removeEventListener("error",_t)},We=()=>{Y(vs(R.result)),Te()},_t=()=>{fe(R.error),Te()};R.addEventListener("success",We),R.addEventListener("error",_t)});return F.then(Y=>{Y instanceof IDBCursor&&xs.set(Y,R)}).catch(()=>{}),ja.set(F,R),F}(R);if(oo.has(R))return oo.get(R);const F=Co(R);return F!==R&&(oo.set(R,F),ja.set(F,R)),F}const Yi=R=>ja.get(R);function Ha(R,F,{blocked:Y,upgrade:fe,blocking:Te,terminated:We}={}){const _t=indexedDB.open(R,F),ln=vs(_t);return fe&&_t.addEventListener("upgradeneeded",on=>{fe(vs(_t.result),on.oldVersion,on.newVersion,vs(_t.transaction))}),Y&&_t.addEventListener("blocked",()=>Y()),ln.then(on=>{We&&on.addEventListener("close",()=>We()),Te&&on.addEventListener("versionchange",()=>Te())}).catch(()=>{}),ln}function pl(R,{blocked:F}={}){const Y=indexedDB.deleteDatabase(R);return F&&Y.addEventListener("blocked",()=>F()),vs(Y).then(()=>{})}const gl=["get","getKey","getAll","getAllKeys","count"],Ia=["put","add","delete","clear"],nc=new Map;function Do(R,F){if(!(R instanceof IDBDatabase)||F in R||"string"!=typeof F)return;if(nc.get(F))return nc.get(F);const Y=F.replace(/FromIndex$/,""),fe=F!==Y,Te=Ia.includes(Y);if(!(Y in(fe?IDBIndex:IDBObjectStore).prototype)||!Te&&!gl.includes(Y))return;const We=function(){var _t=(0,X.Z)(function*(ln,...on){const Rn=this.transaction(ln,Te?"readwrite":"readonly");let fr=Rn.store;return fe&&(fr=fr.index(on.shift())),(yield Promise.all([fr[Y](...on),Te&&Rn.done]))[0]});return function(on){return _t.apply(this,arguments)}}();return nc.set(F,We),We}!function wr(R){Qi=R(Qi)}(R=>({...R,get:(F,Y,fe)=>Do(F,Y)||R.get(F,Y,fe),has:(F,Y)=>!!Do(F,Y)||R.has(F,Y)}));const rc="/firebase-messaging-sw.js",ic="/firebase-cloud-messaging-push-scope",Uc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bc="https://fcmregistrations.googleapis.com/v1",Ri="google.c.a.c_id",_d="google.c.a.c_l",yd="google.c.a.ts";var kl=function(R){return R.PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",R}(kl||{});function Bo(R){const F=new Uint8Array(R);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jc(R){const Y=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(Y),Te=new Uint8Array(fe.length);for(let We=0;We<fe.length;++We)Te[We]=fe.charCodeAt(We);return Te}const ra="fcm_token_details_db",ml=5,vd="fcm_token_object_Store";function du(){return du=(0,X.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(We=>We.name).includes(ra))return null;let F=null;return(yield Ha(ra,ml,{upgrade:(fe=(0,X.Z)(function*(Te,We,_t,ln){var on;if(We<2||!Te.objectStoreNames.contains(vd))return;const Rn=ln.objectStore(vd),fr=yield Rn.index("fcmSenderId").get(R);if(yield Rn.clear(),fr)if(2===We){const Yn=fr;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;F={token:Yn.fcmToken,createTime:null!==(on=Yn.createTime)&&void 0!==on?on:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:Bo(Yn.vapidKey)}}}else if(3===We){const Yn=fr;F={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:Bo(Yn.auth),p256dh:Bo(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:Bo(Yn.vapidKey)}}}else if(4===We){const Yn=fr;F={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:Bo(Yn.auth),p256dh:Bo(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:Bo(Yn.vapidKey)}}}}),function(We,_t,ln,on){return fe.apply(this,arguments)})})).close(),yield pl(ra),yield pl("fcm_vapid_details_db"),yield pl("undefined"),function ia(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:F}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var fe}),du.apply(this,arguments)}const Ao="firebase-messaging-database",hu=1,Rs="firebase-messaging-store";let _i=null;function jo(){return _i||(_i=Ha(Ao,hu,{upgrade:(R,F)=>{0===F&&R.createObjectStore(Rs)}})),_i}function Es(R){return $a.apply(this,arguments)}function $a(){return $a=(0,X.Z)(function*(R){const F=Vl(R),fe=yield(yield jo()).transaction(Rs).objectStore(Rs).get(F);if(fe)return fe;{const Te=yield function sc(R){return du.apply(this,arguments)}(R.appConfig.senderId);if(Te)return yield Ll(R,Te),Te}}),$a.apply(this,arguments)}function Ll(R,F){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,X.Z)(function*(R,F){const Y=Vl(R),Te=(yield jo()).transaction(Rs,"readwrite");return yield Te.objectStore(Rs).put(F,Y),yield Te.done,F})).apply(this,arguments)}function Ta(){return(Ta=(0,X.Z)(function*(R){const F=Vl(R),fe=(yield jo()).transaction(Rs,"readwrite");yield fe.objectStore(Rs).delete(F),yield fe.done})).apply(this,arguments)}function Vl({appConfig:R}){return R.appId}const Ji=new m.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ho(R,F){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,X.Z)(function*(R,F){const Y=yield Ul(R),fe=yl(F),Te={method:"POST",headers:Y,body:JSON.stringify(fe)};let We;try{We=yield(yield fetch(Fu(R.appConfig),Te)).json()}catch(_t){throw Ji.create("token-subscribe-failed",{errorInfo:_t?.toString()})}if(We.error)throw Ji.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw Ji.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function sa(){return(sa=(0,X.Z)(function*(R,F){const Y=yield Ul(R),fe=yl(F.subscriptionOptions),Te={method:"PATCH",headers:Y,body:JSON.stringify(fe)};let We;try{We=yield(yield fetch(`${Fu(R.appConfig)}/${F.token}`,Te)).json()}catch(_t){throw Ji.create("token-update-failed",{errorInfo:_t?.toString()})}if(We.error)throw Ji.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw Ji.create("token-update-no-token");return We.token})).apply(this,arguments)}function _l(R,F){return fs.apply(this,arguments)}function fs(){return(fs=(0,X.Z)(function*(R,F){const fe={method:"DELETE",headers:yield Ul(R)};try{const We=yield(yield fetch(`${Fu(R.appConfig)}/${F}`,fe)).json();if(We.error)throw Ji.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Te){throw Ji.create("token-unsubscribe-failed",{errorInfo:Te?.toString()})}})).apply(this,arguments)}function Fu({projectId:R}){return`${Bc}/projects/${R}/registrations`}function Ul(R){return oa.apply(this,arguments)}function oa(){return(oa=(0,X.Z)(function*({appConfig:R,installations:F}){const Y=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function yl({p256dh:R,auth:F,endpoint:Y,vapidKey:fe}){const Te={web:{endpoint:Y,auth:F,p256dh:R}};return fe!==Uc&&(Te.web.applicationPubKey=fe),Te}const fu=6048e5;function go(){return go=(0,X.Z)(function*(R){const F=yield function Aa(R,F){return Vu.apply(this,arguments)}(R.swRegistration,R.vapidKey),Y={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:F.endpoint,auth:Bo(F.getKey("auth")),p256dh:Bo(F.getKey("p256dh"))},fe=yield Es(R.firebaseDependencies);if(fe){if(function x(R,F){return F.vapidKey===R.vapidKey&&F.endpoint===R.endpoint&&F.auth===R.auth&&F.p256dh===R.p256dh}(fe.subscriptionOptions,Y))return Date.now()>=fe.createTime+fu?function pu(R,F){return Ga.apply(this,arguments)}(R,{token:fe.token,createTime:Date.now(),subscriptionOptions:Y}):fe.token;try{yield _l(R.firebaseDependencies,fe.token)}catch(Te){console.warn(Te)}return qa(R.firebaseDependencies,Y)}return qa(R.firebaseDependencies,Y)}),go.apply(this,arguments)}function za(){return za=(0,X.Z)(function*(R){const F=yield Es(R.firebaseDependencies);F&&(yield _l(R.firebaseDependencies,F.token),yield function Ns(R){return Ta.apply(this,arguments)}(R.firebaseDependencies));const Y=yield R.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()}),za.apply(this,arguments)}function Ga(){return Ga=(0,X.Z)(function*(R,F){try{const Y=yield function di(R,F){return sa.apply(this,arguments)}(R.firebaseDependencies,F),fe=Object.assign(Object.assign({},F),{token:Y,createTime:Date.now()});return yield Ll(R.firebaseDependencies,fe),Y}catch(Y){throw yield function ps(R){return za.apply(this,arguments)}(R),Y}}),Ga.apply(this,arguments)}function qa(R,F){return oc.apply(this,arguments)}function oc(){return(oc=(0,X.Z)(function*(R,F){const fe={token:yield Ho(R,F),createTime:Date.now(),subscriptionOptions:F};return yield Ll(R,fe),fe.token})).apply(this,arguments)}function Vu(){return(Vu=(0,X.Z)(function*(R,F){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jc(F)})})).apply(this,arguments)}function G(R){const F={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function me(R,F){if(!F.notification)return;R.notification={};const Y=F.notification.title;Y&&(R.notification.title=Y);const fe=F.notification.body;fe&&(R.notification.body=fe);const Te=F.notification.image;Te&&(R.notification.image=Te);const We=F.notification.icon;We&&(R.notification.icon=We)}(F,R),function B(R,F){F.data&&(R.data=F.data)}(F,R),function he(R,F){var Y,fe,Te,We,_t;if(!(F.fcmOptions||null!==(Y=F.notification)&&void 0!==Y&&Y.click_action))return;R.fcmOptions={};const ln=null!==(Te=null===(fe=F.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Te?Te:null===(We=F.notification)||void 0===We?void 0:We.click_action;ln&&(R.fcmOptions.link=ln);const on=null===(_t=F.fcmOptions)||void 0===_t?void 0:_t.analytics_label;on&&(R.fcmOptions.analyticsLabel=on)}(F,R),F}function Et(R,F){const Y=[];for(let fe=0;fe<R.length;fe++)Y.push(R.charAt(fe)),fe<F.length&&Y.push(F.charAt(fe));return Y.join("")}function Mr(R){return Ji.create("missing-app-config-values",{valueName:R})}Et("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Et("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gr{constructor(F,Y,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Te=function Jt(R){if(!R||!R.options)throw Mr("App Configuration Object");if(!R.name)throw Mr("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=R;for(const fe of F)if(!Y[fe])throw Mr(fe);return{appName:R.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Te,installations:Y,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function xn(){return(xn=(0,X.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(rc,{scope:ic}),R.swRegistration.update().catch(()=>{})}catch(F){throw Ji.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function Ir(){return(Ir=(0,X.Z)(function*(R,F){if(!F&&!R.swRegistration&&(yield function Xr(R){return xn.apply(this,arguments)}(R)),F||!R.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Ji.create("invalid-sw-registration");R.swRegistration=F}})).apply(this,arguments)}function ks(){return(ks=(0,X.Z)(function*(R,F){F?R.vapidKey=F:R.vapidKey||(R.vapidKey=Uc)})).apply(this,arguments)}function ei(){return ei=(0,X.Z)(function*(R,F){if(!navigator)throw Ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ji.create("permission-blocked");return yield function Ui(R,F){return ks.apply(this,arguments)}(R,F?.vapidKey),yield function ii(R,F){return Ir.apply(this,arguments)}(R,F?.serviceWorkerRegistration),function Da(R){return go.apply(this,arguments)}(R)}),ei.apply(this,arguments)}function as(){return(as=(0,X.Z)(function*(R,F,Y){const fe=function dn(R){switch(R){case kl.NOTIFICATION_CLICKED:return"notification_open";case kl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:Y[Ri],message_name:Y[_d],message_time:Y[yd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ai(){return ai=(0,X.Z)(function*(R,F){const Y=F.data;if(!Y.isFirebaseMessaging)return;R.onMessageHandler&&Y.messageType===kl.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(G(Y)):R.onMessageHandler.next(G(Y)));const fe=Y.data;(function Pe(R){return"object"==typeof R&&!!R&&Ri in R})(fe)&&"1"===fe["google.c.a.e"]&&(yield function $i(R,F,Y){return as.apply(this,arguments)}(R,Y.messageType,fe))}),ai.apply(this,arguments)}const an="@firebase/messaging",Dt=R=>{const F=new Gr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function sn(R,F){return ai.apply(this,arguments)}(F,Y)),F},ws=R=>{const F=R.getProvider("messaging").getImmediate();return{getToken:fe=>function Nt(R,F){return ei.apply(this,arguments)}(F,fe)}};function Wa(){return $o.apply(this,arguments)}function $o(){return($o=(0,X.Z)(function*(){try{yield(0,m.eu)()}catch{return!1}return typeof window<"u"&&(0,m.hl)()&&(0,m.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ed(){(0,_e.Xd)(new we.wA("messaging",Dt,"PUBLIC")),(0,_e.Xd)(new we.wA("messaging-internal",ws,"PRIVATE")),(0,_e.KN)(an,"0.12.4"),(0,_e.KN)(an,"0.12.4","esm2017")}();const or="analytics",Bu="firebase_id",ir="origin",Pi=6e4,Mn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zo="https://www.googletagmanager.com/gtag/js",Zn=new Ie.Yd("@firebase/analytics"),Ar=new m.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function tn(R){if(!R.startsWith(zo)){const F=Ar.create("invalid-gtag-resource",{gtagURL:R});return Zn.warn(F.message),""}return R}function vl(R){return Promise.all(R.map(F=>F.catch(Y=>Y)))}function Pt(){return(Pt=(0,X.Z)(function*(R,F,Y,fe,Te,We){const _t=fe[Te];try{if(_t)yield F[_t];else{const on=(yield vl(Y)).find(Rn=>Rn.measurementId===Te);on&&(yield F[on.appId])}}catch(ln){Zn.error(ln)}R("config",Te,We)})).apply(this,arguments)}function wl(){return(wl=(0,X.Z)(function*(R,F,Y,fe,Te){try{let We=[];if(Te&&Te.send_to){let _t=Te.send_to;Array.isArray(_t)||(_t=[_t]);const ln=yield vl(Y);for(const on of _t){const Rn=ln.find(Yn=>Yn.measurementId===on),fr=Rn&&F[Rn.appId];if(!fr){We=[];break}We.push(fr)}}0===We.length&&(We=Object.values(F)),yield Promise.all(We),R("event",fe,Te||{})}catch(We){Zn.error(We)}})).apply(this,arguments)}const un=30,Za=new class Kn{constructor(F={},Y=1e3){this.throttleMetadata=F,this.intervalMillis=Y}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,Y){this.throttleMetadata[F]=Y}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function rt(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function mo(){return(mo=(0,X.Z)(function*(R){var F;const{appId:Y,apiKey:fe}=R,Te={method:"GET",headers:rt(fe)},We=Mn.replace("{app-id}",Y),_t=yield fetch(We,Te);if(200!==_t.status&&304!==_t.status){let ln="";try{const on=yield _t.json();null!==(F=on.error)&&void 0!==F&&F.message&&(ln=on.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:ln})}return _t.json()})).apply(this,arguments)}function Po(){return(Po=(0,X.Z)(function*(R,F=Za,Y){const{appId:fe,apiKey:Te,measurementId:We}=R.options;if(!fe)throw Ar.create("no-app-id");if(!Te){if(We)return{measurementId:We,appId:fe};throw Ar.create("no-api-key")}const _t=F.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new V;return setTimeout((0,X.Z)(function*(){ln.abort()}),void 0!==Y?Y:Pi),Il({appId:fe,apiKey:Te,measurementId:We},_t,ln,F)})).apply(this,arguments)}function Il(R,F,Y){return ls.apply(this,arguments)}function ls(){return ls=(0,X.Z)(function*(R,{throttleEndTimeMillis:F,backoffCount:Y},fe,Te=Za){var We;const{appId:_t,measurementId:ln}=R;try{yield function D(R,F){return new Promise((Y,fe)=>{const Te=Math.max(F-Date.now(),0),We=setTimeout(Y,Te);R.addEventListener(()=>{clearTimeout(We),fe(Ar.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(fe,F)}catch(on){if(ln)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${on?.message}]`),{appId:_t,measurementId:ln};throw on}try{const on=yield function Xd(R){return mo.apply(this,arguments)}(R);return Te.deleteThrottleMetadata(_t),on}catch(on){const Rn=on;if(!function P(R){if(!(R instanceof m.ZR&&R.customData))return!1;const F=Number(R.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Rn)){if(Te.deleteThrottleMetadata(_t),ln)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Rn?.message}]`),{appId:_t,measurementId:ln};throw on}const fr=503===Number(null===(We=Rn?.customData)||void 0===We?void 0:We.httpStatus)?(0,m.$s)(Y,Te.intervalMillis,un):(0,m.$s)(Y,Te.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+fr,backoffCount:Y+1};return Te.setThrottleMetadata(_t,Yn),Zn.debug(`Calling attemptFetch again in ${fr} millis`),Il(R,Yn,fe,Te)}}),ls.apply(this,arguments)}class V{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let O,Qa;function re(){return(re=(0,X.Z)(function*(R,F,Y,fe,Te){if(Te&&Te.global)R("event",Y,fe);else{const We=yield F;R("event",Y,Object.assign(Object.assign({},fe),{send_to:We}))}})).apply(this,arguments)}function Ya(){return(Ya=(0,X.Z)(function*(){if(!(0,m.hl)())return Zn.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,m.eu)()}catch(R){return Zn.warn(Ar.create("indexeddb-unavailable",{errorInfo:R?.toString()}).message),!1}return!0})).apply(this,arguments)}function Tl(){return Tl=(0,X.Z)(function*(R,F,Y,fe,Te,We,_t){var ln;const on=function Hs(R){return Po.apply(this,arguments)}(R);on.then(Ks=>{Y[Ks.measurementId]=Ks.appId,R.options.measurementId&&Ks.measurementId!==R.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ks=>Zn.error(Ks)),F.push(on);const Rn=function _o(){return Ya.apply(this,arguments)}().then(Ks=>{if(Ks)return fe.getId()}),[fr,Yn]=yield Promise.all([on,Rn]);(function xo(R){const F=window.document.getElementsByTagName("script");for(const Y of Object.values(F))if(Y.src&&Y.src.includes(zo)&&Y.src.includes(R))return Y;return null})(We)||function Bl(R,F){const Y=function So(R,F){let Y;return window.trustedTypes&&(Y=window.trustedTypes.createPolicy(R,F)),Y}("firebase-js-sdk-policy",{createScriptURL:tn}),fe=document.createElement("script"),Te=`${zo}?l=${R}&id=${F}`;fe.src=Y?Y?.createScriptURL(Te):Te,fe.async=!0,document.head.appendChild(fe)}(We,fr.measurementId),Qa&&(Te("consent","default",Qa),function aa(R){Qa=R}(void 0)),Te("js",new Date);const Ws=null!==(ln=_t?.config)&&void 0!==ln?ln:{};return Ws[ir]="firebase",Ws.update=!0,null!=Yn&&(Ws[Bu]=Yn),Te("config",fr.measurementId,Ws),O&&(Te("set",O),function lc(R){O=R}(void 0)),fr.measurementId}),Tl.apply(this,arguments)}class wd{constructor(F){this.app=F}_delete(){return delete Ja[this.app.options.appId],Promise.resolve()}}let Ja={},eh=[];const th={};let mu,la,uc="dataLayer",_u=!1;function $c(R,F,Y){!function Hl(){const R=[];if((0,m.ru)()&&R.push("This is a browser extension environment."),(0,m.zI)()||R.push("Cookies are not available."),R.length>0){const F=R.map((fe,Te)=>`(${Te+1}) ${fe}`).join(" "),Y=Ar.create("invalid-analytics-context",{errorInfo:F});Zn.warn(Y.message)}}();const fe=R.options.appId;if(!fe)throw Ar.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Ar.create("no-api-key");Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ja[fe])throw Ar.create("already-exists",{id:fe});if(!_u){!function ac(R){let F=[];Array.isArray(window[R])?F=window[R]:window[R]=F}(uc);const{wrappedGtag:We,gtagCore:_t}=function yi(R,F,Y,fe,Te){let We=function(..._t){window[fe].push(arguments)};return window[Te]&&"function"==typeof window[Te]&&(We=window[Te]),window[Te]=function Hc(R,F,Y,fe){function We(){return We=(0,X.Z)(function*(_t,...ln){try{if("event"===_t){const[on,Rn]=ln;yield function Fr(R,F,Y,fe,Te){return wl.apply(this,arguments)}(R,F,Y,on,Rn)}else if("config"===_t){const[on,Rn]=ln;yield function El(R,F,Y,fe,Te,We){return Pt.apply(this,arguments)}(R,F,Y,fe,on,Rn)}else if("consent"===_t){const[on]=ln;R("consent","update",on)}else if("get"===_t){const[on,Rn,fr]=ln;R("get",on,Rn,fr)}else if("set"===_t){const[on]=ln;R("set",on)}else R(_t,...ln)}catch(on){Zn.error(on)}}),We.apply(this,arguments)}return function Te(_t){return We.apply(this,arguments)}}(We,R,F,Y),{gtagCore:We,wrappedGtag:window[Te]}}(Ja,eh,th,uc,"gtag");la=We,mu=_t,_u=!0}return Ja[fe]=function Xi(R,F,Y,fe,Te,We,_t){return Tl.apply(this,arguments)}(R,eh,th,F,mu,uc,Y),new wd(R)}function zs(){return ua.apply(this,arguments)}function ua(){return(ua=(0,X.Z)(function*(){if((0,m.ru)()||!(0,m.zI)()||!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}const Gc="@firebase/analytics";!function Is(){(0,_e.Xd)(new we.wA(or,(F,{options:Y})=>$c(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,_e.Xd)(new we.wA("analytics-internal",function R(F){try{const Y=F.getProvider(or).getImmediate();return{logEvent:(fe,Te,We)=>function zc(R,F,Y,fe){R=(0,m.m9)(R),function z(R,F,Y,fe,Te){return re.apply(this,arguments)}(la,Ja[R.app.options.appId],F,Y,fe).catch(Te=>Zn.error(Te))}(Y,fe,Te,We)}}catch(Y){throw Ar.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,_e.KN)(Gc,"0.10.0"),(0,_e.KN)(Gc,"0.10.0","esm2017")}();var Id=U(1954),Mi=U(2631);const Ts=new class $l extends Mi.v{}(class Xa extends Id.o{constructor(F,Y){super(F,Y),this.scheduler=F,this.work=Y}schedule(F,Y=0){return Y>0?super.schedule(F,Y):(this.delay=Y,this.state=F,this.scheduler.flush(this),this)}execute(F,Y){return Y>0||this.closed?super.execute(F,Y):this._execute(F,Y)}requestAsyncId(F,Y,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(F,Y,fe):(F.flush(this),0)}});var Hu=U(6321),Go=U(5592),zl=U(9397),ha=U(5137),$u=U(3093);const el=new w.GfV("7.6.1"),qo="__angularfire_symbol__analyticsIsSupportedValue",Gl="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",ql="__angularfire_symbol__remoteConfigIsSupported",Sa="__angularfire_symbol__messagingIsSupportedValue",vu="__angularfire_symbol__messagingIsSupported";function Wc(R,F,Y){if(F){if(1===F.length)return F[0];const We=F.filter(_t=>_t.app===Y);if(1===We.length)return We[0]}return Y.container.getProvider(R).getImmediate({optional:!0})}globalThis[Gl]||(globalThis[Gl]=zs().then(R=>globalThis[qo]=R).catch(()=>globalThis[qo]=!1)),globalThis[vu]||(globalThis[vu]=Wa().then(R=>globalThis[Sa]=R).catch(()=>globalThis[Sa]=!1)),globalThis[ql]||(globalThis[ql]=wa().then(R=>globalThis[bl]=R).catch(()=>globalThis[bl]=!1));const nh=(R,F)=>{const Y=F?[F]:(0,ae.C6)(),fe=[];return Y.forEach(Te=>{Te.container.getProvider(R).instances.forEach(_t=>{fe.includes(_t)||fe.push(_t)})}),fe};function Kl(){}class Wo{constructor(F,Y=Ts){this.zone=F,this.delegate=Y}now(){return this.delegate.now()}schedule(F,Y,fe){const Te=this.zone;return this.delegate.schedule(function(_t){Te.runGuarded(()=>{F.apply(this,[_t])})},Y,fe)}}class Gh{constructor(F){this.zone=F,this.task=null}call(F,Y){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kl,{},Kl,Kl)),Y.pipe((0,zl.b)({next:fe,complete:fe,error:fe})).subscribe(F).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qs=(()=>{class R{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Wo(Zone.current)),this.insideAngular=Y.run(()=>new Wo(Zone.current,Hu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(Y){return new(Y||R)(w.LFG(w.R0b))},R.\u0275prov=w.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Gu(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Zl(R){return Gu().ngZone.run(()=>R())}function Li(R){return Gu(),function xa(R){return function(Y){return(Y=Y.lift(new Gh(R.ngZone))).pipe((0,ha.R)(R.outsideAngular),(0,$u.Q)(R.insideAngular))}}(Gu())(R)}const Ra=(R,F)=>function(){const fe=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Zl(()=>R.apply(void 0,fe))},Ql=(R,F)=>function(){let Y;const fe=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof fe[We]&&(F&&(Y||(Y=Zl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kl,{},Kl,Kl)))),fe[We]=Ra(fe[We],Y));const Te=function Kc(R){return Gu().ngZone.runOutsideAngular(()=>R())}(()=>R.apply(this,fe));if(!F){if(Te instanceof Go.y){const We=Gu();return Te.pipe((0,ha.R)(We.outsideAngular),(0,$u.Q)(We.insideAngular))}return Zl(()=>Te)}return Te instanceof Go.y?Te.pipe(Li):Te instanceof Promise?Zl(()=>new Promise((We,_t)=>Te.then(ln=>Zl(()=>We(ln)),ln=>Zl(()=>_t(ln))))):"function"==typeof Te&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),Te.apply(this,arguments)}:Zl(()=>Te)}},6710:(Kt,qe,U)=>{U.d(qe,{$:()=>rc,A:()=>ge,D:()=>at,I:()=>co,J:()=>Gt,L:()=>Yt,N:()=>gn,P:()=>Xi,Q:()=>Ba,R:()=>Wt,U:()=>cu,V:()=>wa,W:()=>Uo,X:()=>na,Y:()=>Ou,Z:()=>Nu,_:()=>ja,a:()=>Ka,a0:()=>Uc,a1:()=>Ri,a2:()=>Lu,a3:()=>vd,a4:()=>du,a5:()=>Ao,a6:()=>Rs,a7:()=>jo,a8:()=>$a,a9:()=>Fl,aA:()=>Ee,aB:()=>Gl,aC:()=>kt,aD:()=>mr,aE:()=>zl,aF:()=>zh,aG:()=>es,aH:()=>Sn,aL:()=>ao,aO:()=>js,aa:()=>Ns,ab:()=>Vl,ac:()=>ba,ad:()=>di,ae:()=>_l,af:()=>Fu,ai:()=>fu,aj:()=>go,ak:()=>ps,an:()=>ku,ao:()=>me,aq:()=>ks,ar:()=>an,as:()=>St,at:()=>Rt,au:()=>Oe,av:()=>Ae,aw:()=>Yn,ax:()=>vu,ay:()=>An,az:()=>ht,b:()=>Vh,c:()=>la,d:()=>$c,e:()=>jh,f:()=>Gc,g:()=>$l,h:()=>Id,i:()=>Ro,j:()=>Hu,k:()=>fa,l:()=>ti,m:()=>hc,p:()=>ve,r:()=>Mo,s:()=>Qn,u:()=>_o});var w=U(5861),ae=U(9058),X=U(7592),_e=U(7582),m=U(7879),we=U(4537);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const at=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Tt=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new ae.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new m.Yd("@firebase/auth");function wt(S,...E){Ve.logLevel<=m.in.ERROR&&Ve.error(`Auth (${X.SDK_VERSION}): ${S}`,...E)}function Ae(S,...E){throw vt(S,...E)}function ht(S,...E){return vt(S,...E)}function je(S,E,T){const M=Object.assign(Object.assign({},Tt()),{[E]:T});return new ae.LL("auth","Firebase",M).create(E,{appName:S.name})}function ut(S,E,T){if(!(E instanceof T))throw T.name!==E.constructor.name&&Ae(S,"argument-error"),je(S,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(S,...E){if("string"!=typeof S){const T=E[0],M=[...E.slice(1)];return M[0]&&(M[0].appName=S.name),S._errorFactory.create(T,...M)}return ke.create(S,...E)}function Ee(S,E,...T){if(!S)throw vt(E,...T)}function ft(S){const E="INTERNAL ASSERTION FAILED: "+S;throw wt(E),new Error(E)}function St(S,E){S||ft(E)}function zt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function _n(){return"http:"===Ln()||"https:"===Ln()}function Ln(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class tr{constructor(E,T){this.shortDelay=E,this.longDelay=T,St(T>E,"Short delay should be less than long delay!"),this.isMobile=(0,ae.uI)()||(0,ae.b$)()}get(){return function En(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,ae.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jr(S,E){St(S.emulator,"Emulator should always be set here");const{url:T}=S.emulator;return E?`${T}${E.startsWith("/")?E.slice(1):E}`:T}class Ze{static initialize(E,T,M){this.fetchImpl=E,T&&(this.headersImpl=T),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tt=new tr(3e4,6e4);function Je(S,E){return S.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:S.tenantId}):E}function yt(S,E,T,M){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,w.Z)(function*(S,E,T,M,J={}){return Lt(S,J,(0,w.Z)(function*(){let le={},$e={};M&&("GET"===E?$e=M:le={body:JSON.stringify(M)});const pt=(0,ae.xO)(Object.assign({key:S.config.apiKey},$e)).slice(1),Xt=yield S._getAdditionalHeaders();return Xt["Content-Type"]="application/json",S.languageCode&&(Xt["X-Firebase-Locale"]=S.languageCode),Ze.fetch()(qn(S,S.config.apiHost,T,pt),Object.assign({method:E,headers:Xt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Lt(S,E,T){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,w.Z)(function*(S,E,T){S._canInitEmulator=!1;const M=Object.assign(Object.assign({},Xe),E);try{const J=new Qt(S),le=yield Promise.race([T(),J.promise]);J.clearNetworkTimeout();const $e=yield le.json();if("needConfirmation"in $e)throw Jn(S,"account-exists-with-different-credential",$e);if(le.ok&&!("errorMessage"in $e))return $e;{const pt=le.ok?$e.errorMessage:$e.error.message,[Xt,Vt]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xt)throw Jn(S,"credential-already-in-use",$e);if("EMAIL_EXISTS"===Xt)throw Jn(S,"email-already-in-use",$e);if("USER_DISABLED"===Xt)throw Jn(S,"user-disabled",$e);const Vn=M[Xt]||Xt.toLowerCase().replace(/[_\s]+/g,"-");if(Vt)throw je(S,Vn,Vt);Ae(S,Vn)}}catch(J){if(J instanceof ae.ZR)throw J;Ae(S,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function en(S,E,T,M){return vn.apply(this,arguments)}function vn(){return(vn=(0,w.Z)(function*(S,E,T,M,J={}){const le=yield yt(S,E,T,M,J);return"mfaPendingCredential"in le&&Ae(S,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function qn(S,E,T,M){const J=`${E}${T}?${M}`;return S.config.emulator?jr(S.config,J):`${S.config.apiScheme}://${J}`}class Qt{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((T,M)=>{this.timer=setTimeout(()=>M(ht(this.auth,"network-request-failed")),tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(S,E,T){const M={appName:S.name};T.email&&(M.email=T.email),T.phoneNumber&&(M.phoneNumber=T.phoneNumber);const J=ht(S,E,M);return J.customData._tokenResponse=T,J}function Xn(){return(Xn=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Hr(){return(Hr=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function yr(S){if(S)try{const E=new Date(Number(S));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function zr(){return(zr=(0,w.Z)(function*(S,E=!1){const T=(0,ae.m9)(S),M=yield T.getIdToken(E),J=nn(M);Ee(J&&J.exp&&J.auth_time&&J.iat,T.auth,"internal-error");const le="object"==typeof J.firebase?J.firebase:void 0,$e=le?.sign_in_provider;return{claims:J,token:M,authTime:yr(wn(J.auth_time)),issuedAtTime:yr(wn(J.iat)),expirationTime:yr(wn(J.exp)),signInProvider:$e||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function wn(S){return 1e3*Number(S)}function nn(S){const[E,T,M]=S.split(".");if(void 0===E||void 0===T||void 0===M)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,ae.tV)(T);return J?JSON.parse(J):(wt("Failed to decode base64 JWT payload"),null)}catch(J){return wt("Caught error parsing JWT payload as JSON",J?.toString()),null}}function Bn(S,E){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,w.Z)(function*(S,E,T=!1){if(T)return E;try{return yield E}catch(M){throw M instanceof ae.ZR&&function On({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(M)&&S.auth.currentUser===S&&(yield S.auth.signOut()),M}})).apply(this,arguments)}class Nn{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var T;if(E){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const J=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(E=!1){var T=this;if(!this.isRunning)return;const M=this.getInterval(E);this.timerId=setTimeout((0,w.Z)(function*(){yield T.iteration()}),M)}iteration(){var E=this;return(0,w.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===T?.code&&E.schedule(!0))}E.schedule()})()}}class vr{constructor(E,T){this.createdAt=E,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=yr(this.lastLoginAt),this.creationTime=yr(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qr(S){return er.apply(this,arguments)}function er(){return er=(0,w.Z)(function*(S){var E;const T=S.auth,M=yield S.getIdToken(),J=yield Bn(S,function $r(S,E){return Ii.apply(this,arguments)}(T,{idToken:M}));Ee(J?.users.length,T,"internal-error");const le=J.users[0];S._notifyReloadListener(le);const $e=null!==(E=le.providerUserInfo)&&void 0!==E&&E.length?function Ti(S){return S.map(E=>{var{providerId:T}=E,M=(0,_e._T)(E,["providerId"]);return{providerId:T,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(le.providerUserInfo):[],pt=function gr(S,E){return[...S.filter(M=>!E.some(J=>J.providerId===M.providerId)),...E]}(S.providerData,$e),Vn=!!S.isAnonymous&&!(S.email&&le.passwordHash||pt?.length),Or={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:pt,metadata:new vr(le.createdAt,le.lastLoginAt),isAnonymous:Vn};Object.assign(S,Or)}),er.apply(this,arguments)}function Wn(){return(Wn=(0,w.Z)(function*(S){const E=(0,ae.m9)(S);yield Qr(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function hr(){return(hr=(0,w.Z)(function*(S,E){const T=yield Lt(S,{},(0,w.Z)(function*(){const M=(0,ae.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:J,apiKey:le}=S.config,$e=qn(S,J,"/v1/token",`key=${le}`),pt=yield S._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",Ze.fetch()($e,{method:"POST",headers:pt,body:M})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}class Un{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){Ee(E.idToken,"internal-error"),Ee(typeof E.idToken<"u","internal-error"),Ee(typeof E.refreshToken<"u","internal-error");const T="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function Cn(S){const E=nn(S);return Ee(E,"internal-error"),Ee(typeof E.exp<"u","internal-error"),Ee(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,T)}getToken(E,T=!1){var M=this;return(0,w.Z)(function*(){return Ee(!M.accessToken||M.refreshToken,E,"user-token-expired"),T||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(E,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,T){var M=this;return(0,w.Z)(function*(){const{accessToken:J,refreshToken:le,expiresIn:$e}=yield function Si(S,E){return hr.apply(this,arguments)}(E,T);M.updateTokensAndExpiration(J,le,Number($e))})()}updateTokensAndExpiration(E,T,M){this.refreshToken=T||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(E,T){const{refreshToken:M,accessToken:J,expirationTime:le}=T,$e=new Un;return M&&(Ee("string"==typeof M,"internal-error",{appName:E}),$e.refreshToken=M),J&&(Ee("string"==typeof J,"internal-error",{appName:E}),$e.accessToken=J),le&&(Ee("number"==typeof le,"internal-error",{appName:E}),$e.expirationTime=le),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new Un,this.toJSON())}_performRefresh(){return ft("not implemented")}}function st(S,E){Ee("string"==typeof S||typeof S>"u","internal-error",{appName:E})}class Se{constructor(E){var{uid:T,auth:M,stsTokenManager:J}=E,le=(0,_e._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=M,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new vr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(E){var T=this;return(0,w.Z)(function*(){const M=yield Bn(T,T.stsTokenManager.getToken(T.auth,E));return Ee(M,T.auth,"internal-error"),T.accessToken!==M&&(T.accessToken=M,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),M})()}getIdTokenResult(E){return function hi(S){return zr.apply(this,arguments)}(this,E)}reload(){return function li(S){return Wn.apply(this,arguments)}(this)}_assign(E){this!==E&&(Ee(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(T=>Object.assign({},T)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const T=new Se(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return T.metadata._copy(this.metadata),T}_onReload(E){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,T=!1){var M=this;return(0,w.Z)(function*(){let J=!1;E.idToken&&E.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(E),J=!0),T&&(yield Qr(M)),yield M.auth._persistUserIfCurrent(M),J&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var E=this;return(0,w.Z)(function*(){const T=yield E.getIdToken();return yield Bn(E,function rr(S,E){return Xn.apply(this,arguments)}(E.auth,{idToken:T})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,T){var M,J,le,$e,pt,Xt,Vt,Vn;const Or=null!==(M=T.displayName)&&void 0!==M?M:void 0,lo=null!==(J=T.email)&&void 0!==J?J:void 0,yo=null!==(le=T.phoneNumber)&&void 0!==le?le:void 0,sh=null!==($e=T.photoURL)&&void 0!==$e?$e:void 0,Pa=null!==(pt=T.tenantId)&&void 0!==pt?pt:void 0,Vf=null!==(Xt=T._redirectEventId)&&void 0!==Xt?Xt:void 0,wu=null!==(Vt=T.createdAt)&&void 0!==Vt?Vt:void 0,bd=null!==(Vn=T.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:pa,emailVerified:pc,isAnonymous:Zc,providerData:Uf,stsTokenManager:wm}=T;Ee(pa&&wm,E,"internal-error");const Tr=Un.fromJSON(this.name,wm);Ee("string"==typeof pa,E,"internal-error"),st(Or,E.name),st(lo,E.name),Ee("boolean"==typeof pc,E,"internal-error"),Ee("boolean"==typeof Zc,E,"internal-error"),st(yo,E.name),st(sh,E.name),st(Pa,E.name),st(Vf,E.name),st(wu,E.name),st(bd,E.name);const ng=new Se({uid:pa,auth:E,email:lo,emailVerified:pc,displayName:Or,isAnonymous:Zc,photoURL:sh,phoneNumber:yo,tenantId:Pa,stsTokenManager:Tr,createdAt:wu,lastLoginAt:bd});return Uf&&Array.isArray(Uf)&&(ng.providerData=Uf.map(rg=>Object.assign({},rg))),Vf&&(ng._redirectEventId=Vf),ng}static _fromIdTokenResponse(E,T,M=!1){return(0,w.Z)(function*(){const J=new Un;J.updateFromServerResponse(T);const le=new Se({uid:T.localId,auth:E,stsTokenManager:J,isAnonymous:M});return yield Qr(le),le})()}}const gt=new Map;function kt(S){St(S instanceof Function,"Expected a class definition");let E=gt.get(S);return E?(St(E instanceof S,"Instance stored in cache mismatched with class"),E):(E=new S,gt.set(S,E),E)}const gn=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(T,M){var J=this;return(0,w.Z)(function*(){J.storage[T]=M})()}_get(T){var M=this;return(0,w.Z)(function*(){const J=M.storage[T];return void 0===J?null:J})()}_remove(T){var M=this;return(0,w.Z)(function*(){delete M.storage[T]})()}_addListener(T,M){}_removeListener(T,M){}}return S.type="NONE",S})();function mr(S,E,T){return`firebase:${S}:${E}:${T}`}class be{constructor(E,T,M){this.persistence=E,this.auth=T,this.userKey=M;const{config:J,name:le}=this.auth;this.fullUserKey=mr(this.userKey,J.apiKey,le),this.fullPersistenceKey=mr("persistence",J.apiKey,le),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,w.Z)(function*(){const T=yield E.persistence._get(E.fullUserKey);return T?Se._fromJSON(E.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var T=this;return(0,w.Z)(function*(){if(T.persistence===E)return;const M=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=E,M?T.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,T,M="authUser"){return(0,w.Z)(function*(){if(!T.length)return new be(kt(gn),E,M);const J=(yield Promise.all(T.map(function(){var Vt=(0,w.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return Vt.apply(this,arguments)}}()))).filter(Vt=>Vt);let le=J[0]||kt(gn);const $e=mr(M,E.config.apiKey,E.name);let pt=null;for(const Vt of T)try{const Vn=yield Vt._get($e);if(Vn){const Or=Se._fromJSON(E,Vn);Vt!==le&&(pt=Or),le=Vt;break}}catch{}const Xt=J.filter(Vt=>Vt._shouldAllowMigration);return le._shouldAllowMigration&&Xt.length?(le=Xt[0],pt&&(yield le._set($e,pt.toJSON())),yield Promise.all(T.map(function(){var Vt=(0,w.Z)(function*(Vn){if(Vn!==le)try{yield Vn._remove($e)}catch{}});return function(Vn){return Vt.apply(this,arguments)}}())),new be(le,E,M)):new be(le,E,M)})()}}function ie(S){const E=S.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(de(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(q(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(ot(E))return"Blackberry";if($t(E))return"Webos";if(Z(E))return"Safari";if((E.includes("chrome/")||j(E))&&!E.includes("edge/"))return"Chrome";if(Oe(E))return"Android";{const M=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function q(S=(0,ae.z$)()){return/firefox\//i.test(S)}function Z(S=(0,ae.z$)()){const E=S.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function j(S=(0,ae.z$)()){return/crios\//i.test(S)}function de(S=(0,ae.z$)()){return/iemobile/i.test(S)}function Oe(S=(0,ae.z$)()){return/android/i.test(S)}function ot(S=(0,ae.z$)()){return/blackberry/i.test(S)}function $t(S=(0,ae.z$)()){return/webos/i.test(S)}function Rt(S=(0,ae.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function An(S=(0,ae.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function Re(S=(0,ae.z$)()){return Rt(S)||Oe(S)||$t(S)||ot(S)||/windows phone/i.test(S)||de(S)}function W(S,E=[]){let T;switch(S){case"Browser":T=ie((0,ae.z$)());break;case"Worker":T=`${ie((0,ae.z$)())}-${S}`;break;default:T=S}const M=E.length?E.join(","):"FirebaseCore-web";return`${T}/JsCore/${X.SDK_VERSION}/${M}`}function De(){return(De=(0,w.Z)(function*(S){return(yield yt(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(S,E){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,w.Z)(function*(S,E){return yt(S,"GET","/v2/recaptchaConfig",Je(S,E))})).apply(this,arguments)}function It(S){return void 0!==S&&void 0!==S.getResponse}function Pn(S){return void 0!==S&&void 0!==S.enterprise}class cn{constructor(E){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.emailPasswordEnabled=E.recaptchaEnforcementState.some(T=>"EMAIL_PASSWORD_PROVIDER"===T.provider&&"OFF"!==T.enforcementState)}}function mi(S){return new Promise((E,T)=>{const M=document.createElement("script");M.setAttribute("src",S),M.onload=E,M.onerror=J=>{const le=ht("internal-error");le.customData=J,T(le)},M.type="text/javascript",M.charset="UTF-8",function Yr(){var S,E;return null!==(E=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==E?E:document}().appendChild(M)})}function Ur(S){return`__${S}${Math.floor(1e6*Math.random())}`}class lr{constructor(E){this.type="recaptcha-enterprise",this.auth=Sn(E)}verify(E="verify",T=!1){var M=this;return(0,w.Z)(function*(){function le(){return le=(0,w.Z)(function*(pt){if(!T){if(null==pt.tenantId&&null!=pt._agentRecaptchaConfig)return pt._agentRecaptchaConfig.siteKey;if(null!=pt.tenantId&&void 0!==pt._tenantRecaptchaConfigs[pt.tenantId])return pt._tenantRecaptchaConfigs[pt.tenantId].siteKey}return new Promise(function(){var Xt=(0,w.Z)(function*(Vt,Vn){Ue(pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Or=>{if(void 0!==Or.recaptchaKey){const lo=new cn(Or);return null==pt.tenantId?pt._agentRecaptchaConfig=lo:pt._tenantRecaptchaConfigs[pt.tenantId]=lo,Vt(lo.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(Or=>{Vn(Or)})});return function(Vt,Vn){return Xt.apply(this,arguments)}}())}),le.apply(this,arguments)}function $e(pt,Xt,Vt){const Vn=window.grecaptcha;Pn(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(pt,{action:E}).then(Or=>{Xt(Or)}).catch(()=>{Xt("NO_RECAPTCHA")})}):Vt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pt,Xt)=>{(function J(pt){return le.apply(this,arguments)})(M.auth).then(Vt=>{if(!T&&Pn(window.grecaptcha))$e(Vt,pt,Xt);else{if(typeof window>"u")return void Xt(new Error("RecaptchaVerifier is only supported in browser"));mi("https://www.google.com/recaptcha/enterprise.js?render="+Vt).then(()=>{$e(Vt,pt,Xt)}).catch(Vn=>{Xt(Vn)})}}).catch(Vt=>{Xt(Vt)})})})()}}function ur(S,E,T){return fi.apply(this,arguments)}function fi(){return(fi=(0,w.Z)(function*(S,E,T,M=!1){const J=new lr(S);let le;try{le=yield J.verify(T)}catch{le=yield J.verify(T,!0)}const $e=Object.assign({},E);return Object.assign($e,M?{captchaResp:le}:{captchaResponse:le}),Object.assign($e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$e})).apply(this,arguments)}class Ss{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,T){const M=le=>new Promise(($e,pt)=>{try{$e(E(le))}catch(Xt){pt(Xt)}});M.onAbort=T,this.queue.push(M);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(E){var T=this;return(0,w.Z)(function*(){if(T.auth.currentUser===E)return;const M=[];try{for(const J of T.queue)yield J(E),J.onAbort&&M.push(J.onAbort)}catch(J){M.reverse();for(const le of M)try{le()}catch{}throw T.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class Rr{constructor(E,T,M,J){this.app=E,this.heartbeatServiceProvider=T,this.appCheckServiceProvider=M,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bi(this),this.idTokenSubscription=new bi(this),this.beforeStateQueue=new Ss(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(E,T){var M=this;return T&&(this._popupRedirectResolver=kt(T)),this._initializationPromise=this.queue((0,w.Z)(function*(){var J,le;if(!M._deleted&&(M.persistenceManager=yield be.create(M,E),!M._deleted)){if(null!==(J=M._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(T),M.lastNotifiedUid=(null===(le=M.currentUser)||void 0===le?void 0:le.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,w.Z)(function*(){if(E._deleted)return;const T=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||T){if(E.currentUser&&T&&E.currentUser.uid===T.uid)return E._currentUser._assign(T),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(T,!0)}})()}initializeCurrentUser(E){var T=this;return(0,w.Z)(function*(){var M;const J=yield T.assertedPersistence.getCurrentUser();let le=J,$e=!1;if(E&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const pt=null===(M=T.redirectUser)||void 0===M?void 0:M._redirectEventId,Xt=le?._redirectEventId,Vt=yield T.tryRedirectSignIn(E);(!pt||pt===Xt)&&Vt?.user&&(le=Vt.user,$e=!0)}if(!le)return T.directlySetCurrentUser(null);if(!le._redirectEventId){if($e)try{yield T.beforeStateQueue.runMiddleware(le)}catch(pt){le=J,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(pt))}return le?T.reloadAndSetCurrentUserOrClear(le):T.directlySetCurrentUser(null)}return Ee(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===le._redirectEventId?T.directlySetCurrentUser(le):T.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(E){var T=this;return(0,w.Z)(function*(){let M=null;try{M=yield T._popupRedirectResolver._completeRedirectFn(T,E,!0)}catch{yield T._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(E){var T=this;return(0,w.Z)(function*(){try{yield Qr(E)}catch(M){if("auth/network-request-failed"!==M?.code)return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function pr(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var E=this;return(0,w.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var T=this;return(0,w.Z)(function*(){const M=E?(0,ae.m9)(E):null;return M&&Ee(M.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(M&&M._clone(T))})()}_updateCurrentUser(E,T=!1){var M=this;return(0,w.Z)(function*(){if(!M._deleted)return E&&Ee(M.tenantId===E.tenantId,M,"tenant-id-mismatch"),T||(yield M.beforeStateQueue.runMiddleware(E)),M.queue((0,w.Z)(function*(){yield M.directlySetCurrentUser(E),M.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,w.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var T=this;return this.queue((0,w.Z)(function*(){yield T.assertedPersistence.setPersistence(kt(E))}))}initializeRecaptchaConfig(){var E=this;return(0,w.Z)(function*(){const T=yield Ue(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new cn(T);null==E.tenantId?E._agentRecaptchaConfig=M:E._tenantRecaptchaConfigs[E.tenantId]=M,M.emailPasswordEnabled&&new lr(E).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new ae.LL("auth","Firebase",E())}onAuthStateChanged(E,T,M){return this.registerStateListener(this.authStateSubscription,E,T,M)}beforeAuthStateChanged(E,T){return this.beforeStateQueue.pushCallback(E,T)}onIdTokenChanged(E,T,M){return this.registerStateListener(this.idTokenSubscription,E,T,M)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,T){var M=this;return(0,w.Z)(function*(){const J=yield M.getOrInitRedirectPersistenceManager(T);return null===E?J.removeCurrentUser():J.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var T=this;return(0,w.Z)(function*(){if(!T.redirectPersistenceManager){const M=E&&kt(E)||T._popupRedirectResolver;Ee(M,T,"argument-error"),T.redirectPersistenceManager=yield be.create(T,[kt(M._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(E){var T=this;return(0,w.Z)(function*(){var M,J;return T._isInitialized&&(yield T.queue((0,w.Z)(function*(){}))),(null===(M=T._currentUser)||void 0===M?void 0:M._redirectEventId)===E?T._currentUser:(null===(J=T.redirectUser)||void 0===J?void 0:J._redirectEventId)===E?T.redirectUser:null})()}_persistUserIfCurrent(E){var T=this;return(0,w.Z)(function*(){if(E===T.currentUser)return T.queue((0,w.Z)(function*(){return T.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(T=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,T,M,J){if(this._deleted)return()=>{};const le="function"==typeof T?T:T.next.bind(T),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee($e,this,"internal-error"),$e.then(()=>le(this.currentUser)),"function"==typeof T?E.addObserver(T,M,J):E.addObserver(T)}directlySetCurrentUser(E){var T=this;return(0,w.Z)(function*(){T.currentUser&&T.currentUser!==E&&T._currentUser._stopProactiveRefresh(),E&&T.isProactiveRefreshEnabled&&E._startProactiveRefresh(),T.currentUser=E,E?yield T.assertedPersistence.setCurrentUser(E):yield T.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=W(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,w.Z)(function*(){var T;const M={"X-Client-Version":E.clientVersion};E.app.options.appId&&(M["X-Firebase-gmpid"]=E.app.options.appId);const J=yield null===(T=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();J&&(M["X-Firebase-Client"]=J);const le=yield E._getAppCheckToken();return le&&(M["X-Firebase-AppCheck"]=le),M})()}_getAppCheckToken(){var E=this;return(0,w.Z)(function*(){var T;const M=yield null===(T=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getToken();return M?.error&&function Ne(S,...E){Ve.logLevel<=m.in.WARN&&Ve.warn(`Auth (${X.SDK_VERSION}): ${S}`,...E)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function Sn(S){return(0,ae.m9)(S)}class bi{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,ae.ne)(T=>this.observer=T)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function co(S,E,T){const M=Sn(S);Ee(M._canInitEmulator,M,"emulator-config-failed"),Ee(/^https?:\/\//.test(E),M,"invalid-emulator-scheme");const J=!!T?.disableWarnings,le=Fe(E),{host:$e,port:pt}=function Le(S){const E=Fe(S),T=/(\/\/)?([^?#/]+)/.exec(S.substr(E.length));if(!T)return{host:"",port:null};const M=T[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(M);if(J){const le=J[1];return{host:le,port:et(M.substr(le.length+1))}}{const[le,$e]=M.split(":");return{host:le,port:et($e)}}}(E);M.config.emulator={url:`${le}//${$e}${null===pt?"":`:${pt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$e,port:pt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function xt(){function S(){const E=document.createElement("p"),T=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function Fe(S){const E=S.indexOf(":");return E<0?"":S.substr(0,E+1)}function et(S){if(!S)return null;const E=Number(S);return isNaN(E)?null:E}class Gt{constructor(E,T){this.providerId=E,this.signInMethod=T}toJSON(){return ft("not implemented")}_getIdTokenResponse(E){return ft("not implemented")}_linkToIdToken(E,T){return ft("not implemented")}_getReauthenticationResolver(E){return ft("not implemented")}}function Hn(S,E){return _r.apply(this,arguments)}function _r(){return(_r=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:resetPassword",Je(S,E))})).apply(this,arguments)}function Er(S,E){return Br.apply(this,arguments)}function Br(){return(Br=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function qr(){return(qr=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:update",Je(S,E))})).apply(this,arguments)}function no(S,E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithPassword",Je(S,E))})).apply(this,arguments)}function Va(S,E){return dl.apply(this,arguments)}function dl(){return(dl=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:sendOobCode",Je(S,E))})).apply(this,arguments)}function ya(){return(ya=(0,w.Z)(function*(S,E){return Va(S,E)})).apply(this,arguments)}function va(S,E){return hl.apply(this,arguments)}function hl(){return(hl=(0,w.Z)(function*(S,E){return Va(S,E)})).apply(this,arguments)}function fl(S,E){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,w.Z)(function*(S,E){return Va(S,E)})).apply(this,arguments)}function ki(){return(ki=(0,w.Z)(function*(S,E){return Va(S,E)})).apply(this,arguments)}function Ci(){return(Ci=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithEmailLink",Je(S,E))})).apply(this,arguments)}function To(){return(To=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithEmailLink",Je(S,E))})).apply(this,arguments)}class Ua extends Gt{constructor(E,T,M,J=null){super("password",M),this._email=E,this._password=T,this._tenantId=J}static _fromEmailAndPassword(E,T){return new Ua(E,T,"password")}static _fromEmailAndCode(E,T,M=null){return new Ua(E,T,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E;if(T?.email&&T?.password){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(E){var T=this;return(0,w.Z)(function*(){var M;switch(T.signInMethod){case"password":const J={returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=E._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const le=yield ur(E,J,"signInWithPassword");return no(E,le)}return no(E,J).catch(function(){var le=(0,w.Z)(function*($e){if("auth/missing-recaptcha-token"===$e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pt=yield ur(E,J,"signInWithPassword");return no(E,pt)}return Promise.reject($e)});return function($e){return le.apply(this,arguments)}}());case"emailLink":return function Os(S,E){return Ci.apply(this,arguments)}(E,{email:T._email,oobCode:T._password});default:Ae(E,"internal-error")}})()}_linkToIdToken(E,T){var M=this;return(0,w.Z)(function*(){switch(M.signInMethod){case"password":return Er(E,{idToken:T,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function uu(S,E){return To.apply(this,arguments)}(E,{idToken:T,email:M._email,oobCode:M._password});default:Ae(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Wr(S,E){return ho.apply(this,arguments)}function ho(){return(ho=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithIdp",Je(S,E))})).apply(this,arguments)}class Yt extends Gt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const T=new Yt(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(T.idToken=E.idToken),E.accessToken&&(T.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(T.nonce=E.nonce),E.pendingToken&&(T.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(T.accessToken=E.oauthToken,T.secret=E.oauthTokenSecret):Ae("argument-error"),T}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E,{providerId:M,signInMethod:J}=T,le=(0,_e._T)(T,["providerId","signInMethod"]);if(!M||!J)return null;const $e=new Yt(M,J);return $e.idToken=le.idToken||void 0,$e.accessToken=le.accessToken||void 0,$e.secret=le.secret,$e.nonce=le.nonce,$e.pendingToken=le.pendingToken||null,$e}_getIdTokenResponse(E){return Wr(E,this.buildRequest())}_linkToIdToken(E,T){const M=this.buildRequest();return M.idToken=T,Wr(E,M)}_getReauthenticationResolver(E){const T=this.buildRequest();return T.autoCreate=!1,Wr(E,T)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const T={};this.idToken&&(T.id_token=this.idToken),this.accessToken&&(T.access_token=this.accessToken),this.secret&&(T.oauth_token_secret=this.secret),T.providerId=this.providerId,this.nonce&&!this.pendingToken&&(T.nonce=this.nonce),E.postBody=(0,ae.xO)(T)}return E}}function Jr(){return(Jr=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:sendVerificationCode",Je(S,E))})).apply(this,arguments)}function bo(){return(bo=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithPhoneNumber",Je(S,E))})).apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*(S,E){const T=yield en(S,"POST","/v1/accounts:signInWithPhoneNumber",Je(S,E));if(T.temporaryProof)throw Jn(S,"account-exists-with-different-credential",T);return T})).apply(this,arguments)}const Di={USER_NOT_FOUND:"user-not-found"};function fo(){return(fo=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithPhoneNumber",Je(S,Object.assign(Object.assign({},E),{operation:"REAUTH"})),Di)})).apply(this,arguments)}class Fn extends Gt{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,T){return new Fn({verificationId:E,verificationCode:T})}static _fromTokenResponse(E,T){return new Fn({phoneNumber:E,temporaryProof:T})}_getIdTokenResponse(E){return function Us(S,E){return bo.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,T){return function Bs(S,E){return ro.apply(this,arguments)}(E,Object.assign({idToken:T},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function ys(S,E){return fo.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:T,verificationId:M,verificationCode:J}=this.params;return E&&T?{temporaryProof:E,phoneNumber:T}:{sessionInfo:M,code:J}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:T,verificationCode:M,phoneNumber:J,temporaryProof:le}=E;return M||T||J||le?new Fn({verificationId:T,verificationCode:M,phoneNumber:J,temporaryProof:le}):null}}class io{constructor(E){var T,M,J,le,$e,pt;const Xt=(0,ae.zd)((0,ae.pd)(E)),Vt=null!==(T=Xt.apiKey)&&void 0!==T?T:null,Vn=null!==(M=Xt.oobCode)&&void 0!==M?M:null,Or=function po(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=Xt.mode)&&void 0!==J?J:null);Ee(Vt&&Vn&&Or,"argument-error"),this.apiKey=Vt,this.operation=Or,this.code=Vn,this.continueUrl=null!==(le=Xt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==($e=Xt.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(pt=Xt.tenantId)&&void 0!==pt?pt:null}static parseLink(E){const T=function Ea(S){const E=(0,ae.zd)((0,ae.pd)(S)).link,T=E?(0,ae.zd)((0,ae.pd)(E)).deep_link_id:null,M=(0,ae.zd)((0,ae.pd)(S)).deep_link_id;return(M?(0,ae.zd)((0,ae.pd)(M)).link:null)||M||T||E||S}(E);try{return new io(T)}catch{return null}}}let Ba=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(T,M){return Ua._fromEmailAndPassword(T,M)}static credentialWithLink(T,M){const J=io.parseLink(M);return Ee(J,"argument-error"),Ua._fromEmailAndCode(T,J.code,J.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class so{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class ss extends so{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class na extends ss{static credentialFromJSON(E){const T="string"==typeof E?JSON.parse(E):E;return Ee("providerId"in T&&"signInMethod"in T,"argument-error"),Yt._fromParams(T)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return Ee(E.idToken||E.accessToken,"argument-error"),Yt._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return na.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return na.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:T,oauthAccessToken:M,oauthTokenSecret:J,pendingToken:le,nonce:$e,providerId:pt}=E;if(!M&&!J&&!T&&!le||!pt)return null;try{return new na(pt)._credential({idToken:T,accessToken:M,nonce:$e,pendingToken:le})}catch{return null}}}let cu=(()=>{class S extends ss{constructor(){super("facebook.com")}static credential(T){return Yt._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return S.credential(T.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),wa=(()=>{class S extends ss{constructor(){super("google.com"),this.addScope("profile")}static credential(T,M){return Yt._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:T,accessToken:M})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthIdToken:M,oauthAccessToken:J}=T;if(!M&&!J)return null;try{return S.credential(M,J)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),Uo=(()=>{class S extends ss{constructor(){super("github.com")}static credential(T){return Yt._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return S.credential(T.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class js extends Gt{constructor(E,T){super(E,E),this.pendingToken=T}_getIdTokenResponse(E){return Wr(E,this.buildRequest())}_linkToIdToken(E,T){const M=this.buildRequest();return M.idToken=T,Wr(E,M)}_getReauthenticationResolver(E){const T=this.buildRequest();return T.autoCreate=!1,Wr(E,T)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E,{providerId:M,signInMethod:J,pendingToken:le}=T;return M&&J&&le&&M===J?new js(M,le):null}static _create(E,T){return new js(E,T)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ou extends so{constructor(E){Ee(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return Ou.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return Ou.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const T=js.fromJSON(E);return Ee(T,"argument-error"),T}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:T,providerId:M}=E;if(!T||!M)return null;try{return js._create(M,T)}catch{return null}}}let Nu=(()=>{class S extends ss{constructor(){super("twitter.com")}static credential(T,M){return Yt._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:T,oauthTokenSecret:M})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthAccessToken:M,oauthTokenSecret:J}=T;if(!M||!J)return null;try{return S.credential(M,J)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function xs(S,E){return ri.apply(this,arguments)}function ri(){return(ri=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signUp",Je(S,E))})).apply(this,arguments)}class os{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,T,M,J=!1){return(0,w.Z)(function*(){const le=yield Se._fromIdTokenResponse(E,M,J),$e=oo(M);return new os({user:le,providerId:$e,_tokenResponse:M,operationType:T})})()}static _forOperation(E,T,M){return(0,w.Z)(function*(){yield E._updateTokensIfNecessary(M,!0);const J=oo(M);return new os({user:E,providerId:J,_tokenResponse:M,operationType:T})})()}}function oo(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function ja(S){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,w.Z)(function*(S){var E;const T=Sn(S);if(yield T._initializationPromise,null!==(E=T.currentUser)&&void 0!==E&&E.isAnonymous)return new os({user:T.currentUser,providerId:null,operationType:"signIn"});const M=yield xs(T,{returnSecureToken:!0}),J=yield os._fromIdTokenResponse(T,"signIn",M,!0);return yield T._updateCurrentUser(J.user),J})).apply(this,arguments)}class Ol extends ae.ZR{constructor(E,T,M,J){var le;super(T.code,T.message),this.operationType=M,this.user=J,Object.setPrototypeOf(this,Ol.prototype),this.customData={appName:E.name,tenantId:null!==(le=E.tenantId)&&void 0!==le?le:void 0,_serverResponse:T.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(E,T,M,J){return new Ol(E,T,M,J)}}function Qi(S,E,T,M){return("reauthenticate"===E?T._getReauthenticationResolver(S):T._getIdTokenResponse(S)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Ol._fromErrorAndOperation(S,le,E,M):le})}function wr(S){return new Set(S.map(({providerId:E})=>E).filter(E=>!!E))}function ku(S,E){return Co.apply(this,arguments)}function Co(){return Co=(0,w.Z)(function*(S,E){const T=(0,ae.m9)(S);yield Ha(!0,T,E);const{providerUserInfo:M}=yield function dr(S,E){return Hr.apply(this,arguments)}(T.auth,{idToken:yield T.getIdToken(),deleteProvider:[E]}),J=wr(M||[]);return T.providerData=T.providerData.filter(le=>J.has(le.providerId)),J.has("phone")||(T.phoneNumber=null),yield T.auth._persistUserIfCurrent(T),T}),Co.apply(this,arguments)}function vs(S,E){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,w.Z)(function*(S,E,T=!1){const M=yield Bn(S,E._linkToIdToken(S.auth,yield S.getIdToken()),T);return os._forOperation(S,"link",M)})).apply(this,arguments)}function Ha(S,E,T){return pl.apply(this,arguments)}function pl(){return(pl=(0,w.Z)(function*(S,E,T){yield Qr(E);const J=!1===S?"provider-already-linked":"no-such-provider";Ee(wr(E.providerData).has(T)===S,E.auth,J)})).apply(this,arguments)}function gl(S,E){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,w.Z)(function*(S,E,T=!1){const{auth:M}=S,J="reauthenticate";try{const le=yield Bn(S,Qi(M,J,E,S),T);Ee(le.idToken,M,"internal-error");const $e=nn(le.idToken);Ee($e,M,"internal-error");const{sub:pt}=$e;return Ee(S.uid===pt,M,"user-mismatch"),os._forOperation(S,J,le)}catch(le){throw"auth/user-not-found"===le?.code&&Ae(M,"user-mismatch"),le}})).apply(this,arguments)}function nc(S,E){return Do.apply(this,arguments)}function Do(){return(Do=(0,w.Z)(function*(S,E,T=!1){const M="signIn",J=yield Qi(S,M,E),le=yield os._fromIdTokenResponse(S,M,J);return T||(yield S._updateCurrentUser(le.user)),le})).apply(this,arguments)}function rc(S,E){return ic.apply(this,arguments)}function ic(){return(ic=(0,w.Z)(function*(S,E){return nc(Sn(S),E)})).apply(this,arguments)}function Uc(S,E){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,w.Z)(function*(S,E){const T=(0,ae.m9)(S);return yield Ha(!1,T,E.providerId),vs(T,E)})).apply(this,arguments)}function Ri(S,E){return _d.apply(this,arguments)}function _d(){return(_d=(0,w.Z)(function*(S,E){return gl((0,ae.m9)(S),E)})).apply(this,arguments)}function Nl(){return(Nl=(0,w.Z)(function*(S,E){return en(S,"POST","/v1/accounts:signInWithCustomToken",Je(S,E))})).apply(this,arguments)}function Lu(S,E){return kl.apply(this,arguments)}function kl(){return kl=(0,w.Z)(function*(S,E){const T=Sn(S),M=yield function yd(S,E){return Nl.apply(this,arguments)}(T,{token:E,returnSecureToken:!0}),J=yield os._fromIdTokenResponse(T,"signIn",M);return yield T._updateCurrentUser(J.user),J}),kl.apply(this,arguments)}class Bo{constructor(E,T){this.factorId=E,this.uid=T.mfaEnrollmentId,this.enrollmentTime=new Date(T.enrolledAt).toUTCString(),this.displayName=T.displayName}static _fromServerResponse(E,T){return"phoneInfo"in T?jc._fromServerResponse(E,T):"totpInfo"in T?ra._fromServerResponse(E,T):Ae(E,"internal-error")}}class jc extends Bo{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,T){return new jc(T)}}class ra extends Bo{constructor(E){super("totp",E)}static _fromServerResponse(E,T){return new ra(T)}}function ml(S,E,T){var M;Ee((null===(M=T.url)||void 0===M?void 0:M.length)>0,S,"invalid-continue-uri"),Ee(typeof T.dynamicLinkDomain>"u"||T.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),E.continueUrl=T.url,E.dynamicLinkDomain=T.dynamicLinkDomain,E.canHandleCodeInApp=T.handleCodeInApp,T.iOS&&(Ee(T.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),E.iOSBundleId=T.iOS.bundleId),T.android&&(Ee(T.android.packageName.length>0,S,"missing-android-pkg-name"),E.androidInstallApp=T.android.installApp,E.androidMinimumVersionCode=T.android.minimumVersion,E.androidPackageName=T.android.packageName)}function vd(S,E,T){return sc.apply(this,arguments)}function sc(){return sc=(0,w.Z)(function*(S,E,T){var M;const J=Sn(S),le={requestType:"PASSWORD_RESET",email:E,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=J._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const $e=yield ur(J,le,"getOobCode",!0);T&&ml(J,$e,T),yield va(J,$e)}else T&&ml(J,le,T),yield va(J,le).catch(function(){var $e=(0,w.Z)(function*(pt){if("auth/missing-recaptcha-token"!==pt.code)return Promise.reject(pt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Xt=yield ur(J,le,"getOobCode",!0);T&&ml(J,Xt,T),yield va(J,Xt)}});return function(pt){return $e.apply(this,arguments)}}())}),sc.apply(this,arguments)}function du(S,E,T){return ia.apply(this,arguments)}function ia(){return(ia=(0,w.Z)(function*(S,E,T){yield Hn((0,ae.m9)(S),{oobCode:E,newPassword:T})})).apply(this,arguments)}function Ao(S,E){return hu.apply(this,arguments)}function hu(){return hu=(0,w.Z)(function*(S,E){yield function Fa(S,E){return qr.apply(this,arguments)}((0,ae.m9)(S),{oobCode:E})}),hu.apply(this,arguments)}function Rs(S,E){return _i.apply(this,arguments)}function _i(){return(_i=(0,w.Z)(function*(S,E){const T=(0,ae.m9)(S),M=yield Hn(T,{oobCode:E}),J=M.requestType;switch(Ee(J,T,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(M.newEmail,T,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(M.mfaInfo,T,"internal-error");default:Ee(M.email,T,"internal-error")}let le=null;return M.mfaInfo&&(le=Bo._fromServerResponse(Sn(T),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:le},operation:J}})).apply(this,arguments)}function jo(S,E){return Es.apply(this,arguments)}function Es(){return(Es=(0,w.Z)(function*(S,E){const{data:T}=yield Rs((0,ae.m9)(S),E);return T.email})).apply(this,arguments)}function $a(S,E,T){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,w.Z)(function*(S,E,T){var M;const J=Sn(S),le={returnSecureToken:!0,email:E,password:T,clientType:"CLIENT_TYPE_WEB"};let $e;if(null!==(M=J._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Vt=yield ur(J,le,"signUpPassword");$e=xs(J,Vt)}else $e=xs(J,le).catch(function(){var Vt=(0,w.Z)(function*(Vn){if("auth/missing-recaptcha-token"===Vn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Or=yield ur(J,le,"signUpPassword");return xs(J,Or)}return Promise.reject(Vn)});return function(Vn){return Vt.apply(this,arguments)}}());const pt=yield $e.catch(Vt=>Promise.reject(Vt)),Xt=yield os._fromIdTokenResponse(J,"signIn",pt);return yield J._updateCurrentUser(Xt.user),Xt}),Ll.apply(this,arguments)}function Fl(S,E,T){return rc((0,ae.m9)(S),Ba.credential(E,T))}function Ns(S,E,T){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,w.Z)(function*(S,E,T){var M;const J=Sn(S),le={requestType:"EMAIL_SIGNIN",email:E,clientType:"CLIENT_TYPE_WEB"};function $e(pt,Xt){Ee(Xt.handleCodeInApp,J,"argument-error"),Xt&&ml(J,pt,Xt)}if(null!==(M=J._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const pt=yield ur(J,le,"getOobCode",!0);$e(pt,T),yield fl(J,pt)}else $e(le,T),yield fl(J,le).catch(function(){var pt=(0,w.Z)(function*(Xt){if("auth/missing-recaptcha-token"!==Xt.code)return Promise.reject(Xt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Vt=yield ur(J,le,"getOobCode",!0);$e(Vt,T),yield fl(J,Vt)}});return function(Xt){return pt.apply(this,arguments)}}())}),Ta.apply(this,arguments)}function Vl(S,E){const T=io.parseLink(E);return"EMAIL_SIGNIN"===T?.operation}function ba(S,E,T){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S),J=Ba.credentialWithLink(E,T||zt());return Ee(J._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),rc(M,J)})).apply(this,arguments)}function Ca(){return(Ca=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:createAuthUri",Je(S,E))})).apply(this,arguments)}function di(S,E){return sa.apply(this,arguments)}function sa(){return sa=(0,w.Z)(function*(S,E){const M={identifier:E,continueUri:_n()?zt():"http://localhost"},{signinMethods:J}=yield function Ho(S,E){return Ca.apply(this,arguments)}((0,ae.m9)(S),M);return J||[]}),sa.apply(this,arguments)}function _l(S,E){return fs.apply(this,arguments)}function fs(){return fs=(0,w.Z)(function*(S,E){const T=(0,ae.m9)(S),J={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};E&&ml(T.auth,J,E);const{email:le}=yield function lu(S,E){return ya.apply(this,arguments)}(T.auth,J);le!==S.email&&(yield S.reload())}),fs.apply(this,arguments)}function Fu(S,E,T){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:E};T&&ml(M.auth,le,T);const{email:$e}=yield function ci(S,E){return ki.apply(this,arguments)}(M.auth,le);$e!==S.email&&(yield S.reload())}),Ul.apply(this,arguments)}function yl(){return(yl=(0,w.Z)(function*(S,E){return yt(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function fu(S,E){return Da.apply(this,arguments)}function Da(){return Da=(0,w.Z)(function*(S,{displayName:E,photoURL:T}){if(void 0===E&&void 0===T)return;const M=(0,ae.m9)(S),le={idToken:yield M.getIdToken(),displayName:E,photoUrl:T,returnSecureToken:!0},$e=yield Bn(M,function oa(S,E){return yl.apply(this,arguments)}(M.auth,le));M.displayName=$e.displayName||null,M.photoURL=$e.photoUrl||null;const pt=M.providerData.find(({providerId:Xt})=>"password"===Xt);pt&&(pt.displayName=M.displayName,pt.photoURL=M.photoURL),yield M._updateTokensIfNecessary($e)}),Da.apply(this,arguments)}function go(S,E){return za((0,ae.m9)(S),E,null)}function ps(S,E){return za((0,ae.m9)(S),null,E)}function za(S,E,T){return pu.apply(this,arguments)}function pu(){return(pu=(0,w.Z)(function*(S,E,T){const{auth:M}=S,le={idToken:yield S.getIdToken(),returnSecureToken:!0};E&&(le.email=E),T&&(le.password=T);const $e=yield Bn(S,Er(M,le));yield S._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class qa{constructor(E,T,M={}){this.isNewUser=E,this.providerId=T,this.profile=M}}class oc extends qa{constructor(E,T,M,J){super(E,T,M),this.username=J}}class Aa extends qa{constructor(E,T){super(E,"facebook.com",T)}}class Vu extends oc{constructor(E,T){super(E,"github.com",T,"string"==typeof T?.login?T?.login:null)}}class x extends qa{constructor(E,T){super(E,"google.com",T)}}class G extends oc{constructor(E,T,M){super(E,"twitter.com",T,M)}}function me(S){const{user:E,_tokenResponse:T}=S;return E.isAnonymous&&!T?{providerId:null,isNewUser:!1,profile:null}:function Ga(S){var E,T;if(!S)return null;const{providerId:M}=S,J=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},le=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!M&&S?.idToken){const $e=null===(T=null===(E=nn(S.idToken))||void 0===E?void 0:E.firebase)||void 0===T?void 0:T.sign_in_provider;if($e)return new qa(le,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!M)return null;switch(M){case"facebook.com":return new Aa(le,J);case"github.com":return new Vu(le,J);case"google.com":return new x(le,J);case"twitter.com":return new G(le,J,S.screenName||null);case"custom":case"anonymous":return new qa(le,null);default:return new qa(le,M,J)}}(T)}class Ir{constructor(E,T,M){this.type=E,this.credential=T,this.auth=M}static _fromIdtoken(E,T){return new Ir("enroll",E,T)}static _fromMfaPendingCredential(E){return new Ir("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var T,M;if(E?.multiFactorSession){if(null!==(T=E.multiFactorSession)&&void 0!==T&&T.pendingCredential)return Ir._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(M=E.multiFactorSession)&&void 0!==M&&M.idToken)return Ir._fromIdtoken(E.multiFactorSession.idToken)}return null}}class Ui{constructor(E,T,M){this.session=E,this.hints=T,this.signInResolver=M}static _fromError(E,T){const M=Sn(E),J=T.customData._serverResponse,le=(J.mfaInfo||[]).map(pt=>Bo._fromServerResponse(M,pt));Ee(J.mfaPendingCredential,M,"internal-error");const $e=Ir._fromMfaPendingCredential(J.mfaPendingCredential);return new Ui($e,le,function(){var pt=(0,w.Z)(function*(Xt){const Vt=yield Xt._process(M,$e);delete J.mfaInfo,delete J.mfaPendingCredential;const Vn=Object.assign(Object.assign({},J),{idToken:Vt.idToken,refreshToken:Vt.refreshToken});switch(T.operationType){case"signIn":const Or=yield os._fromIdTokenResponse(M,T.operationType,Vn);return yield M._updateCurrentUser(Or.user),Or;case"reauthenticate":return Ee(T.user,M,"internal-error"),os._forOperation(T.user,T.operationType,Vn);default:Ae(M,"internal-error")}});return function(Xt){return pt.apply(this,arguments)}}())}resolveSignIn(E){var T=this;return(0,w.Z)(function*(){return T.signInResolver(E)})()}}function ks(S,E){var T;const M=(0,ae.m9)(S),J=E;return Ee(E.customData.operationType,M,"argument-error"),Ee(null===(T=J.customData._serverResponse)||void 0===T?void 0:T.mfaPendingCredential,M,"argument-error"),Ui._fromError(M,J)}class sn{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(T=>{T.mfaInfo&&(this.enrolledFactors=T.mfaInfo.map(M=>Bo._fromServerResponse(E.auth,M)))})}static _fromUser(E){return new sn(E)}getSession(){var E=this;return(0,w.Z)(function*(){return Ir._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,T){var M=this;return(0,w.Z)(function*(){const J=E,le=yield M.getSession(),$e=yield Bn(M.user,J._process(M.user.auth,le,T));return yield M.user._updateTokensIfNecessary($e),M.user.reload()})()}unenroll(E){var T=this;return(0,w.Z)(function*(){const M="string"==typeof E?E:E.uid,J=yield T.user.getIdToken();try{const le=yield Bn(T.user,function dn(S,E){return yt(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(S,E))}(T.user.auth,{idToken:J,mfaEnrollmentId:M}));T.enrolledFactors=T.enrolledFactors.filter(({uid:$e})=>$e!==M),yield T.user._updateTokensIfNecessary(le),yield T.user.reload()}catch(le){throw le}})()}}const ai=new WeakMap;function an(S){const E=(0,ae.m9)(S);return ai.has(E)||ai.set(E,sn._fromUser(E)),ai.get(E)}const lt="__sak";class Dt{constructor(E,T){this.storageRetriever=E,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(lt,"1"),this.storage.removeItem(lt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,T){return this.storage.setItem(E,JSON.stringify(T)),Promise.resolve()}_get(E){const T=this.storage.getItem(E);return Promise.resolve(T?JSON.parse(T):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vh=(()=>{class S extends Dt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,M)=>this.onStorageEvent(T,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ws(){const S=(0,ae.z$)();return Z(S)||Rt(S)}()&&function se(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Re(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const M of Object.keys(this.listeners)){const J=this.storage.getItem(M),le=this.localCache[M];J!==le&&T(M,le,J)}}onStorageEvent(T,M=!1){if(!T.key)return void this.forAllChangedKeys((pt,Xt,Vt)=>{this.notifyListeners(pt,Vt)});const J=T.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem(J);if(T.newValue!==pt)null!==T.newValue?this.storage.setItem(J,T.newValue):this.storage.removeItem(J);else if(this.localCache[J]===T.newValue&&!M)return}const le=()=>{const pt=this.storage.getItem(J);!M&&this.localCache[J]===pt||this.notifyListeners(J,pt)},$e=this.storage.getItem(J);!function jn(){return(0,ae.w1)()&&10===document.documentMode}()||$e===T.newValue||T.newValue===T.oldValue?le():setTimeout(le,10)}notifyListeners(T,M){this.localCache[T]=M;const J=this.listeners[T];if(J)for(const le of Array.from(J))le(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,M,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:M,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(M)}_removeListener(T,M){this.listeners[T]&&(this.listeners[T].delete(M),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,M){var J=()=>super._set,le=this;return(0,w.Z)(function*(){yield J().call(le,T,M),le.localCache[T]=JSON.stringify(M)})()}_get(T){var M=()=>super._get,J=this;return(0,w.Z)(function*(){const le=yield M().call(J,T);return J.localCache[T]=JSON.stringify(le),le})()}_remove(T){var M=()=>super._remove,J=this;return(0,w.Z)(function*(){yield M().call(J,T),delete J.localCache[T]})()}}return S.type="LOCAL",S})(),Ka=(()=>{class S extends Dt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,M){}_removeListener(T,M){}}return S.type="SESSION",S})();let Uh=(()=>{class S{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const M=this.receivers.find(le=>le.isListeningto(T));if(M)return M;const J=new S(T);return this.receivers.push(J),J}isListeningto(T){return this.eventTarget===T}handleEvent(T){var M=this;return(0,w.Z)(function*(){const J=T,{eventId:le,eventType:$e,data:pt}=J.data,Xt=M.handlersMap[$e];if(!Xt?.size)return;J.ports[0].postMessage({status:"ack",eventId:le,eventType:$e});const Vt=Array.from(Xt).map(function(){var Or=(0,w.Z)(function*(lo){return lo(J.origin,pt)});return function(lo){return Or.apply(this,arguments)}}()),Vn=yield function Uu(S){return Promise.all(S.map(function(){var E=(0,w.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(M){return{fulfilled:!1,reason:M}}});return function(T){return E.apply(this,arguments)}}()))}(Vt);J.ports[0].postMessage({status:"done",eventId:le,eventType:$e,response:Vn})})()}_subscribe(T,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(M)}_unsubscribe(T,M){this.handlersMap[T]&&M&&this.handlersMap[T].delete(M),(!M||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function ao(S="",E=10){let T="";for(let M=0;M<E;M++)T+=Math.floor(10*Math.random());return S+T}class Bh{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,T,M=50){var J=this;return(0,w.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let $e,pt;return new Promise((Xt,Vt)=>{const Vn=ao("",20);le.port1.start();const Or=setTimeout(()=>{Vt(new Error("unsupported_event"))},M);pt={messageChannel:le,onMessage(lo){const yo=lo;if(yo.data.eventId===Vn)switch(yo.data.status){case"ack":clearTimeout(Or),$e=setTimeout(()=>{Vt(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),Xt(yo.data.response);break;default:clearTimeout(Or),clearTimeout($e),Vt(new Error("invalid_response"))}}},J.handlers.add(pt),le.port1.addEventListener("message",pt.onMessage),J.target.postMessage({eventType:E,eventId:Vn,data:T},[le.port2])}).finally(()=>{pt&&J.removeMessageHandler(pt)})})()}}function Ps(){return window}function Bu(){return typeof Ps().WorkerGlobalScope<"u"&&"function"==typeof Ps().importScripts}function Pi(){return(Pi=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Zn="firebaseLocalStorageDb",Ar="firebaseLocalStorage",tn="fbase_key";class vl{constructor(E){this.request=E}toPromise(){return new Promise((E,T)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function So(S,E){return S.transaction([Ar],E?"readwrite":"readonly").objectStore(Ar)}function ac(){const S=indexedDB.open(Zn,1);return new Promise((E,T)=>{S.addEventListener("error",()=>{T(S.error)}),S.addEventListener("upgradeneeded",()=>{const M=S.result;try{M.createObjectStore(Ar,{keyPath:tn})}catch(J){T(J)}}),S.addEventListener("success",(0,w.Z)(function*(){const M=S.result;M.objectStoreNames.contains(Ar)?E(M):(M.close(),yield function Bl(){const S=indexedDB.deleteDatabase(Zn);return new vl(S).toPromise()}(),E(yield ac()))}))})}function El(S,E,T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,w.Z)(function*(S,E,T){const M=So(S,!0).put({[tn]:E,value:T});return new vl(M).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,w.Z)(function*(S,E){const T=So(S,!1).get(E),M=yield new vl(T).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Hc(S,E){const T=So(S,!0).delete(E);return new vl(T).toPromise()}const Ro=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,w.Z)(function*(){return T.db||(T.db=yield ac()),T.db})()}_withRetries(T){var M=this;return(0,w.Z)(function*(){let J=0;for(;;)try{const le=yield M._openDb();return yield T(le)}catch(le){if(J++>3)throw le;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,w.Z)(function*(){return Bu()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,w.Z)(function*(){T.receiver=Uh._getInstance(function zo(){return Bu()?self:null}()),T.receiver._subscribe("keyChanged",function(){var M=(0,w.Z)(function*(J,le){return{keyProcessed:(yield T._poll()).includes(le.key)}});return function(J,le){return M.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var M=(0,w.Z)(function*(J,le){return["keyChanged"]});return function(J,le){return M.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,w.Z)(function*(){var M,J;if(T.activeServiceWorker=yield function ir(){return Pi.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new Bh(T.activeServiceWorker);const le=yield T.sender._send("ping",{},800);le&&null!==(M=le[0])&&void 0!==M&&M.fulfilled&&null!==(J=le[0])&&void 0!==J&&J.value.includes("keyChanged")&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var M=this;return(0,w.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Mn(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:T},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const T=yield ac();return yield El(T,lt,"1"),yield Hc(T,lt),!0}catch{}return!1})()}_withPendingWrite(T){var M=this;return(0,w.Z)(function*(){M.pendingWrites++;try{yield T()}finally{M.pendingWrites--}})()}_set(T,M){var J=this;return(0,w.Z)(function*(){return J._withPendingWrite((0,w.Z)(function*(){return yield J._withRetries(le=>El(le,T,M)),J.localCache[T]=M,J.notifyServiceWorker(T)}))})()}_get(T){var M=this;return(0,w.Z)(function*(){const J=yield M._withRetries(le=>function Fr(S,E){return wl.apply(this,arguments)}(le,T));return M.localCache[T]=J,J})()}_remove(T){var M=this;return(0,w.Z)(function*(){return M._withPendingWrite((0,w.Z)(function*(){return yield M._withRetries(J=>Hc(J,T)),delete M.localCache[T],M.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,w.Z)(function*(){const M=yield T._withRetries($e=>{const pt=So($e,!1).getAll();return new vl(pt).toPromise()});if(!M)return[];if(0!==T.pendingWrites)return[];const J=[],le=new Set;for(const{fbase_key:$e,value:pt}of M)le.add($e),JSON.stringify(T.localCache[$e])!==JSON.stringify(pt)&&(T.notifyListeners($e,pt),J.push($e));for(const $e of Object.keys(T.localCache))T.localCache[$e]&&!le.has($e)&&(T.notifyListeners($e,null),J.push($e));return J})()}notifyListeners(T,M){this.localCache[T]=M;const J=this.listeners[T];if(J)for(const le of Array.from(J))le(M)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(M)}_removeListener(T,M){this.listeners[T]&&(this.listeners[T].delete(M),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),Hs=1e12;class Po{constructor(E){this.auth=E,this.counter=Hs,this._widgets=new Map}render(E,T){const M=this.counter;return this._widgets.set(M,new Il(E,this.auth.name,T||{})),this.counter++,M}reset(E){var T;const M=E||Hs;null===(T=this._widgets.get(M))||void 0===T||T.delete(),this._widgets.delete(M)}getResponse(E){var T;return(null===(T=this._widgets.get(E||Hs))||void 0===T?void 0:T.getResponse())||""}execute(E){var T=this;return(0,w.Z)(function*(){var M;return null===(M=T._widgets.get(E||Hs))||void 0===M||M.execute(),""})()}}class Il{constructor(E,T,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof E?document.getElementById(E):E;Ee(J,"argument-error",{appName:T}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ls(S){const E=[],T="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<S;M++)E.push(T.charAt(Math.floor(62*Math.random())));return E.join("")}(50);const{callback:E,"expired-callback":T}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,T)try{T()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const D=Ur("rcb"),P=new tr(3e4,6e4);class O{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=Ps().grecaptcha)||void 0===E||!E.render)}load(E,T=""){return Ee(function z(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(T),E,"argument-error"),this.shouldResolveImmediately(T)&&It(Ps().grecaptcha)?Promise.resolve(Ps().grecaptcha):new Promise((M,J)=>{const le=Ps().setTimeout(()=>{J(ht(E,"network-request-failed"))},P.get());Ps()[D]=()=>{Ps().clearTimeout(le),delete Ps()[D];const pt=Ps().grecaptcha;if(!pt||!It(pt))return void J(ht(E,"internal-error"));const Xt=pt.render;pt.render=(Vt,Vn)=>{const Or=Xt(Vt,Vn);return this.counter++,Or},this.hostLanguage=T,M(pt)},mi(`https://www.google.com/recaptcha/api.js??${(0,ae.xO)({onload:D,render:"explicit",hl:T})}`).catch(()=>{clearTimeout(le),J(ht(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var T;return!(null===(T=Ps().grecaptcha)||void 0===T||!T.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class re{load(E){return(0,w.Z)(function*(){return new Po(E)})()}clearedOneInstance(){}}const pe="recaptcha",ze={theme:"light",type:"image"};class Wt{constructor(E,T=Object.assign({},ze),M){this.parameters=T,this.type=pe,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(M),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof E?document.getElementById(E):E;Ee(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new re:new O,this.validateStartingState()}verify(){var E=this;return(0,w.Z)(function*(){E.assertNotDestroyed();const T=yield E.render(),M=E.getAssertedRecaptcha();return M.getResponse(T)||new Promise(le=>{const $e=pt=>{pt&&(E.tokenChangeListeners.delete($e),le(pt))};E.tokenChangeListeners.add($e),E.isInvisible&&M.execute(T)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return T=>{if(this.tokenChangeListeners.forEach(M=>M(T)),"function"==typeof E)E(T);else if("string"==typeof E){const M=Ps()[E];"function"==typeof M&&M(T)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,w.Z)(function*(){if(yield E.init(),!E.widgetId){let T=E.container;if(!E.isInvisible){const M=document.createElement("div");T.appendChild(M),T=M}E.widgetId=E.getAssertedRecaptcha().render(T,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,w.Z)(function*(){Ee(_n()&&!Bu(),E.auth,"internal-error"),yield function ct(){let S=null;return new Promise(E=>{"complete"!==document.readyState?(S=()=>E(),window.addEventListener("load",S)):E()}).catch(E=>{throw S&&window.removeEventListener("load",S),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const T=yield function te(S){return De.apply(this,arguments)}(E.auth);Ee(T,E.auth,"internal-error"),E.parameters.sitekey=T})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class kn{constructor(E,T){this.verificationId=E,this.onConfirmation=T}confirm(E){const T=Fn._fromVerification(this.verificationId,E);return this.onConfirmation(T)}}function Qn(S,E,T){return si.apply(this,arguments)}function si(){return(si=(0,w.Z)(function*(S,E,T){const M=Sn(S),J=yield aa(M,E,(0,ae.m9)(T));return new kn(J,le=>rc(M,le))})).apply(this,arguments)}function ti(S,E,T){return $s.apply(this,arguments)}function $s(){return($s=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S);yield Ha(!1,M,"phone");const J=yield aa(M.auth,E,(0,ae.m9)(T));return new kn(J,le=>Uc(M,le))})).apply(this,arguments)}function Mo(S,E,T){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S),J=yield aa(M.auth,E,(0,ae.m9)(T));return new kn(J,le=>Ri(M,le))})).apply(this,arguments)}function aa(S,E,T){return lc.apply(this,arguments)}function lc(){return lc=(0,w.Z)(function*(S,E,T){var M;const J=yield T.verify();try{let le;if(Ee("string"==typeof J,S,"argument-error"),Ee(T.type===pe,S,"argument-error"),le="string"==typeof E?{phoneNumber:E}:E,"session"in le){const $e=le.session;if("phoneNumber"in le)return Ee("enroll"===$e.type,S,"internal-error"),(yield function Nt(S,E){return yt(S,"POST","/v2/accounts/mfaEnrollment:start",Je(S,E))}(S,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Ee("signin"===$e.type,S,"internal-error");const pt=(null===(M=le.multiFactorHint)||void 0===M?void 0:M.uid)||le.multiFactorUid;return Ee(pt,S,"missing-multi-factor-info"),(yield function Kn(S,E){return yt(S,"POST","/v2/accounts/mfaSignIn:start",Je(S,E))}(S,{mfaPendingCredential:$e.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield function cr(S,E){return Jr.apply(this,arguments)}(S,{phoneNumber:le.phoneNumber,recaptchaToken:J});return $e}}finally{T._reset()}}),lc.apply(this,arguments)}function _o(S,E){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,w.Z)(function*(S,E){yield vs((0,ae.m9)(S),E)})).apply(this,arguments)}let Xi=(()=>{class S{constructor(T){this.providerId=S.PROVIDER_ID,this.auth=Sn(T)}verifyPhoneNumber(T,M){return aa(this.auth,T,(0,ae.m9)(M))}static credential(T,M){return Fn._fromVerification(T,M)}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{phoneNumber:M,temporaryProof:J}=T;return M&&J?Fn._fromTokenResponse(M,J):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function Tl(S,E){return E?kt(E):(Ee(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class wd extends Gt{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Wr(E,this._buildIdpRequest())}_linkToIdToken(E,T){return Wr(E,this._buildIdpRequest(T))}_getReauthenticationResolver(E){return Wr(E,this._buildIdpRequest())}_buildIdpRequest(E){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(T.idToken=E),T}}function Ja(S){return nc(S.auth,new wd(S),S.bypassAuthState)}function eh(S){const{auth:E,user:T}=S;return Ee(T,E,"internal-error"),gl(T,new wd(S),S.bypassAuthState)}function th(S){return uc.apply(this,arguments)}function uc(){return(uc=(0,w.Z)(function*(S){const{auth:E,user:T}=S;return Ee(T,E,"internal-error"),vs(T,new wd(S),S.bypassAuthState)})).apply(this,arguments)}class jl{constructor(E,T,M,J,le=!1){this.auth=E,this.resolver=M,this.user=J,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var E=this;return new Promise(function(){var T=(0,w.Z)(function*(M,J){E.pendingPromise={resolve:M,reject:J};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(le){E.reject(le)}});return function(M,J){return T.apply(this,arguments)}}())}onAuthEvent(E){var T=this;return(0,w.Z)(function*(){const{urlResponse:M,sessionId:J,postBody:le,tenantId:$e,error:pt,type:Xt}=E;if(pt)return void T.reject(pt);const Vt={auth:T.auth,requestUri:M,sessionId:J,tenantId:$e||void 0,postBody:le||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(Xt)(Vt))}catch(Vn){T.reject(Vn)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Ja;case"linkViaPopup":case"linkViaRedirect":return th;case"reauthViaPopup":case"reauthViaRedirect":return eh;default:Ae(this.auth,"internal-error")}}resolve(E){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mu=new tr(2e3,1e4);function la(S,E,T){return _u.apply(this,arguments)}function _u(){return(_u=(0,w.Z)(function*(S,E,T){const M=Sn(S);ut(S,E,so);const J=Tl(M,T);return new cc(M,"signInViaPopup",E,J).executeNotNull()})).apply(this,arguments)}function jh(S,E,T){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S);ut(M.auth,E,so);const J=Tl(M.auth,T);return new cc(M.auth,"reauthViaPopup",E,J,M).executeNotNull()})).apply(this,arguments)}function $c(S,E,T){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S);ut(M.auth,E,so);const J=Tl(M.auth,T);return new cc(M.auth,"linkViaPopup",E,J,M).executeNotNull()})).apply(this,arguments)}let cc=(()=>{class S extends jl{constructor(T,M,J,le,$e){super(T,M,le,$e),this.provider=J,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var T=this;return(0,w.Z)(function*(){const M=yield T.execute();return Ee(M,T.auth,"internal-error"),M})()}onExecution(){var T=this;return(0,w.Z)(function*(){St(1===T.filter.length,"Popup operations only handle one event");const M=ao();T.authWindow=yield T.resolver._openPopup(T.auth,T.provider,T.filter[0],M),T.authWindow.associatedEvent=M,T.resolver._originValidation(T.auth).catch(J=>{T.reject(J)}),T.resolver._isIframeWebStorageSupported(T.auth,J=>{J||T.reject(ht(T.auth,"web-storage-unsupported"))}),T.pollUserCancellation()})()}get eventId(){var T;return(null===(T=this.authWindow)||void 0===T?void 0:T.associatedEvent)||null}cancel(){this.reject(ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const T=()=>{var M,J;this.pollId=null!==(J=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ht(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(T,mu.get())};T()}}return S.currentPopupAction=null,S})();const zs="pendingRedirect",ua=new Map;class ca extends jl{constructor(E,T,M=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,M),this.eventId=null}execute(){var E=()=>super.execute,T=this;return(0,w.Z)(function*(){let M=ua.get(T.auth._key());if(!M){try{const le=(yield function $h(S,E){return vi.apply(this,arguments)}(T.resolver,T.auth))?yield E().call(T):null;M=()=>Promise.resolve(le)}catch(J){M=()=>Promise.reject(J)}ua.set(T.auth._key(),M)}return T.bypassAuthState||ua.set(T.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(E){var T=()=>super.onAuthEvent,M=this;return(0,w.Z)(function*(){if("signInViaRedirect"===E.type)return T().call(M,E);if("unknown"!==E.type){if(E.eventId){const J=yield M.auth._redirectUserForId(E.eventId);if(J)return M.user=J,T().call(M,E);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function vi(){return(vi=(0,w.Z)(function*(S,E){const T=da(E),M=zc(S);if(!(yield M._isAvailable()))return!1;const J="true"===(yield M._get(T));return yield M._remove(T),J})).apply(this,arguments)}function yu(S,E){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,w.Z)(function*(S,E){return zc(S)._set(da(E),"true")})).apply(this,arguments)}function es(){ua.clear()}function zh(S,E){ua.set(S._key(),E)}function zc(S){return kt(S._redirectPersistence)}function da(S){return mr(zs,S.config.apiKey,S.name)}function Gc(S,E,T){return function ju(S,E,T){return Is.apply(this,arguments)}(S,E,T)}function Is(){return(Is=(0,w.Z)(function*(S,E,T){const M=Sn(S);ut(S,E,so),yield M._initializationPromise;const J=Tl(M,T);return yield yu(J,M),J._openRedirect(M,E,"signInViaRedirect")})).apply(this,arguments)}function Id(S,E,T){return function Xa(S,E,T){return Mi.apply(this,arguments)}(S,E,T)}function Mi(){return(Mi=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S);ut(M.auth,E,so),yield M.auth._initializationPromise;const J=Tl(M.auth,T);yield yu(J,M.auth);const le=yield $u(M);return J._openRedirect(M.auth,E,"reauthViaRedirect",le)})).apply(this,arguments)}function $l(S,E,T){return function Ts(S,E,T){return bs.apply(this,arguments)}(S,E,T)}function bs(){return(bs=(0,w.Z)(function*(S,E,T){const M=(0,ae.m9)(S);ut(M.auth,E,so),yield M.auth._initializationPromise;const J=Tl(M.auth,T);yield Ha(!1,M,E.providerId),yield yu(J,M.auth);const le=yield $u(M);return J._openRedirect(M.auth,E,"linkViaRedirect",le)})).apply(this,arguments)}function Hu(S,E){return Go.apply(this,arguments)}function Go(){return(Go=(0,w.Z)(function*(S,E){return yield Sn(S)._initializationPromise,zl(S,E,!1)})).apply(this,arguments)}function zl(S,E){return ha.apply(this,arguments)}function ha(){return(ha=(0,w.Z)(function*(S,E,T=!1){const M=Sn(S),J=Tl(M,E),$e=yield new ca(M,J,T).execute();return $e&&!T&&(delete $e.user._redirectEventId,yield M._persistUserIfCurrent($e.user),yield M._setRedirectUser(null,E)),$e})).apply(this,arguments)}function $u(S){return el.apply(this,arguments)}function el(){return(el=(0,w.Z)(function*(S){const E=ao(`${S.uid}:::`);return S._redirectEventId=E,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),E})).apply(this,arguments)}class Gl{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let T=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(E,M)&&(T=!0,this.sendToConsumer(E,M),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Sa(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ql(S);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=E,T=!0)),T}sendToConsumer(E,T){var M;if(E.error&&!ql(E)){const J=(null===(M=E.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";T.onError(ht(this.auth,J))}else T.onAuthEvent(E)}isEventForConsumer(E,T){const M=null===T.eventId||!!E.eventId&&E.eventId===T.eventId;return T.filter.includes(E.type)&&M}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bl(E))}saveEventToCache(E){this.cachedEventUids.add(bl(E)),this.lastProcessedEventTime=Date.now()}}function bl(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(E=>E).join("-")}function ql({type:S,error:E}){return"unknown"===S&&"auth/no-auth-event"===E?.code}function vu(S){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,w.Z)(function*(S,E={}){return yt(S,"GET","/v1/projects",E)})).apply(this,arguments)}const qc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zu=/^https?/;function Wc(){return(Wc=(0,w.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:E}=yield vu(S);for(const T of E)try{if(nh(T))return}catch{}Ae(S,"unauthorized-domain")})).apply(this,arguments)}function nh(S){const E=zt(),{protocol:T,hostname:M}=new URL(E);if(S.startsWith("chrome-extension://")){const $e=new URL(S);return""===$e.hostname&&""===M?"chrome-extension:"===T&&S.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===T&&$e.hostname===M}if(!zu.test(T))return!1;if(qc.test(S))return M===S;const J=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(M)}const Kl=new tr(3e4,6e4);function Wo(){const S=Ps().___jsl;if(S?.H)for(const E of Object.keys(S.H))if(S.H[E].r=S.H[E].r||[],S.H[E].L=S.H[E].L||[],S.H[E].r=[...S.H[E].L],S.CP)for(let T=0;T<S.CP.length;T++)S.CP[T]=null}let qs=null;const Kc=new tr(5e3,15e3),Zl="__/auth/iframe",Oo="emulator/auth/iframe",dc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Li=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xa(S){const E=S.config;Ee(E.authDomain,S,"auth-domain-config-required");const T=E.emulator?jr(E,Oo):`https://${S.config.authDomain}/${Zl}`,M={apiKey:E.apiKey,appName:S.name,v:X.SDK_VERSION},J=Li.get(S.config.apiHost);J&&(M.eid=J);const le=S._getFrameworks();return le.length&&(M.fw=le.join(",")),`${T}?${(0,ae.xO)(M).slice(1)}`}function Ql(){return Ql=(0,w.Z)(function*(S){const E=yield function Gu(S){return qs=qs||function Gh(S){return new Promise((E,T)=>{var M,J,le;function $e(){Wo(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Wo(),T(ht(S,"network-request-failed"))},timeout:Kl.get()})}if(null!==(J=null===(M=Ps().gapi)||void 0===M?void 0:M.iframes)&&void 0!==J&&J.Iframe)E(gapi.iframes.getContext());else{if(null===(le=Ps().gapi)||void 0===le||!le.load){const pt=Ur("iframefcb");return Ps()[pt]=()=>{gapi.load?$e():T(ht(S,"network-request-failed"))},mi(`https://apis.google.com/js/api.js?onload=${pt}`).catch(Xt=>T(Xt))}$e()}}).catch(E=>{throw qs=null,E})}(S),qs}(S),T=Ps().gapi;return Ee(T,S,"internal-error"),E.open({where:document.body,url:xa(S),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dc,dontclear:!0},M=>new Promise(function(){var J=(0,w.Z)(function*(le,$e){yield M.restyle({setHideOnLeave:!1});const pt=ht(S,"network-request-failed"),Xt=Ps().setTimeout(()=>{$e(pt)},Kc.get());function Vt(){Ps().clearTimeout(Xt),le(M)}M.ping(Vt).then(Vt,()=>{$e(pt)})});return function(le,$e){return J.apply(this,arguments)}}()))}),Ql.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class We{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const on="__/auth/handler",Rn="emulator/auth/handler",fr=encodeURIComponent("fac");function Yn(S,E,T,M,J,le){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,w.Z)(function*(S,E,T,M,J,le){Ee(S.config.authDomain,S,"auth-domain-config-required"),Ee(S.config.apiKey,S,"invalid-api-key");const $e={apiKey:S.config.apiKey,appName:S.name,authType:T,redirectUrl:M,v:X.SDK_VERSION,eventId:J};if(E instanceof so){E.setDefaultLanguage(S.languageCode),$e.providerId=E.providerId||"",(0,ae.xb)(E.getCustomParameters())||($e.customParameters=JSON.stringify(E.getCustomParameters()));for(const[Vn,Or]of Object.entries(le||{}))$e[Vn]=Or}if(E instanceof ss){const Vn=E.getScopes().filter(Or=>""!==Or);Vn.length>0&&($e.scopes=Vn.join(","))}S.tenantId&&($e.tid=S.tenantId);const pt=$e;for(const Vn of Object.keys(pt))void 0===pt[Vn]&&delete pt[Vn];const Xt=yield S._getAppCheckToken(),Vt=Xt?`#${fr}=${encodeURIComponent(Xt)}`:"";return`${function Ks({config:S}){return S.emulator?jr(S,Rn):`https://${S.authDomain}/${on}`}(S)}?${(0,ae.xO)(pt).slice(1)}${Vt}`})).apply(this,arguments)}const zi="webStorageSupport",fa=class Td{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ka,this._completeRedirectFn=zl,this._overrideRedirectResult=zh}_openPopup(E,T,M,J){var le=this;return(0,w.Z)(function*(){var $e;St(null===($e=le.eventManagers[E._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const pt=yield Yn(E,T,M,zt(),J);return function _t(S,E,T,M=500,J=600){const le=Math.max((window.screen.availHeight-J)/2,0).toString(),$e=Math.max((window.screen.availWidth-M)/2,0).toString();let pt="";const Xt=Object.assign(Object.assign({},R),{width:M.toString(),height:J.toString(),top:le,left:$e}),Vt=(0,ae.z$)().toLowerCase();T&&(pt=j(Vt)?"_blank":T),q(Vt)&&(E=E||"http://localhost",Xt.scrollbars="yes");const Vn=Object.entries(Xt).reduce((lo,[yo,sh])=>`${lo}${yo}=${sh},`,"");if(function Dn(S=(0,ae.z$)()){var E;return Rt(S)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(Vt)&&"_self"!==pt)return function ln(S,E){const T=document.createElement("a");T.href=S,T.target=E;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(M)}(E||"",pt),new We(null);const Or=window.open(E||"",pt,Vn);Ee(Or,S,"popup-blocked");try{Or.focus()}catch{}return new We(Or)}(E,pt,ao())})()}_openRedirect(E,T,M,J){var le=this;return(0,w.Z)(function*(){return yield le._originValidation(E),function or(S){Ps().location.href=S}(yield Yn(E,T,M,zt(),J)),new Promise(()=>{})})()}_initialize(E){const T=E._key();if(this.eventManagers[T]){const{manager:J,promise:le}=this.eventManagers[T];return J?Promise.resolve(J):(St(le,"If manager is not set, promise should be"),le)}const M=this.initAndGetManager(E);return this.eventManagers[T]={promise:M},M.catch(()=>{delete this.eventManagers[T]}),M}initAndGetManager(E){var T=this;return(0,w.Z)(function*(){const M=yield function Ra(S){return Ql.apply(this,arguments)}(E),J=new Gl(E);return M.register("authEvent",le=>(Ee(le?.authEvent,E,"invalid-auth-event"),{status:J.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[E._key()]={manager:J},T.iframes[E._key()]=M,J})()}_isIframeWebStorageSupported(E,T){this.iframes[E._key()].send(zi,{type:zi},J=>{var le;const $e=null===(le=J?.[0])||void 0===le?void 0:le[zi];void 0!==$e&&T(!!$e),Ae(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const T=E._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function tl(S){return Wc.apply(this,arguments)}(E)),this.originValidationPromises[T]}get _shouldInitProactively(){return Re()||Z()||Rt()}};class Ko{constructor(E){this.factorId=E}_process(E,T,M){switch(T.type){case"enroll":return this._finalizeEnroll(E,T.credential,M);case"signin":return this._finalizeSignIn(E,T.credential);default:return ft("unexpected MultiFactorSessionType")}}}class gs extends Ko{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new gs(E)}_finalizeEnroll(E,T,M){return function ei(S,E){return yt(S,"POST","/v2/accounts/mfaEnrollment:finalize",Je(S,E))}(E,{idToken:T,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,T){return function Za(S,E){return yt(S,"POST","/v2/accounts/mfaSignIn:finalize",Je(S,E))}(E,{mfaPendingCredential:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hc=(()=>{class S{constructor(){}static assertion(T){return gs._fromCredential(T)}}return S.FACTOR_ID="phone",S})();var rh="@firebase/auth";class tg{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var T=this;return(0,w.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const T=this.auth.onIdTokenChanged(M=>{E(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,T),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const T=this.internalListeners.get(E);T&&(this.internalListeners.delete(E),T(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ae.Pz)("authIdTokenMaxAge"),function qh(S){(0,X._registerComponent)(new we.wA("auth",(E,{options:T})=>{const M=E.getProvider("app").getImmediate(),J=E.getProvider("heartbeat"),le=E.getProvider("app-check-internal"),{apiKey:$e,authDomain:pt}=M.options;Ee($e&&!$e.includes(":"),"invalid-api-key",{appName:M.name});const Xt={apiKey:$e,authDomain:pt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W(S)},Vt=new Rr(M,J,le,Xt);return function _a(S,E){const T=E?.persistence||[],M=(Array.isArray(T)?T:[T]).map(kt);E?.errorMap&&S._updateErrorMap(E.errorMap),S._initializeWithPersistence(M,E?.popupRedirectResolver)}(Vt,T),Vt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,T,M)=>{E.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new we.wA("auth-internal",E=>{const T=Sn(E.getProvider("auth").getImmediate());return new tg(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(rh,"0.23.2",function No(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,X.registerVersion)(rh,"0.23.2","esm2017")}("Browser")},8162:(Kt,qe,U)=>{U.d(qe,{u7:()=>E_,Jj:()=>zd,IX:()=>uE,my:()=>Xs,xU:()=>Ju,Lz:()=>xu,WA:()=>Dt,F8:()=>Hg,$q:()=>Vc,W:()=>dd,EK:()=>Pi,PU:()=>em,l7:()=>zl,Ky:()=>tn,Xb:()=>Ar,Cf:()=>Kr,K9:()=>ai,Me:()=>ju,yq:()=>$i,Wi:()=>Tf,ET:()=>D_,Ab:()=>Pf,vr:()=>tm,Fc:()=>f_,hJ:()=>zy,B$:()=>c_,at:()=>$y,oe:()=>$p,AK:()=>jw,TF:()=>Cf,JU:()=>$d,ST:()=>Vp,fH:()=>Nw,Ix:()=>Gy,Wu:()=>y_,Lx:()=>mE,qY:()=>eo,GL:()=>Kd,QT:()=>TE,kl:()=>Hp,Xk:()=>b_,PL:()=>bE,UQ:()=>CE,zN:()=>DE,ad:()=>Rh,nP:()=>nm,b9:()=>pE,vh:()=>Wg,Pb:()=>p_,L$:()=>Lw,cf:()=>Xy,sc:()=>A_,Xo:()=>fE,IO:()=>Bp,iE:()=>d_,Eo:()=>kc,i3:()=>Bw,Bt:()=>Gp,pl:()=>Yg,Ub:()=>ks,qK:()=>IE,TQ:()=>__,e0:()=>gE,r7:()=>C_,Mx:()=>cE,ar:()=>kh});var ve,w=U(5861),ae=U(7592),X=U(4537),_e=U(7879),m=U(9058),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={},He=He||{},oe=we||self;function ge(l){var t=typeof l;return"array"==(t="object"!=t?t:l?Array.isArray(l)?"array":t:"null")||"object"==t&&"number"==typeof l.length}function Me(l){var t=typeof l;return"object"==t&&null!=l||"function"==t}var at="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function ke(l,t,o){return l.call.apply(l.bind,arguments)}function dt(l,t,o){if(!l)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),l.apply(t,f)}}return function(){return l.apply(t,arguments)}}function Ve(l,t,o){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ke:dt).apply(null,arguments)}function Ne(l,t){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),l.apply(this,c)}}function wt(l,t){function o(){}o.prototype=t.prototype,l.$=t.prototype,l.prototype=new o,l.prototype.constructor=l,l.ac=function(c,f,_){for(var I=Array(arguments.length-2),N=2;N<arguments.length;N++)I[N-2]=arguments[N];return t.prototype[f].apply(c,I)}}function Ae(){this.s=this.s,this.o=this.o}Ae.prototype.s=!1,Ae.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ke(l){Object.prototype.hasOwnProperty.call(l,at)&&l[at]||(l[at]=++Tt)}(this)},Ae.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const je=Array.prototype.indexOf?function(l,t){return Array.prototype.indexOf.call(l,t,void 0)}:function(l,t){if("string"==typeof l)return"string"!=typeof t||1!=t.length?-1:l.indexOf(t,0);for(let o=0;o<l.length;o++)if(o in l&&l[o]===t)return o;return-1};function ut(l){const t=l.length;if(0<t){const o=Array(t);for(let c=0;c<t;c++)o[c]=l[c];return o}return[]}function vt(l,t){for(let o=1;o<arguments.length;o++){const c=arguments[o];if(ge(c)){const f=l.length||0,_=c.length||0;l.length=f+_;for(let I=0;I<_;I++)l[f+I]=c[I]}else l.push(c)}}function Ee(l,t){this.type=l,this.g=this.target=t,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var l=!1,t=Object.defineProperty({},"passive",{get:function(){l=!0}});try{oe.addEventListener("test",()=>{},t),oe.removeEventListener("test",()=>{},t)}catch{}return l}();function St(l){return/^[\s\xa0]*$/.test(l)}function zt(){var l=oe.navigator;return l&&(l=l.userAgent)?l:""}function _n(l){return-1!=zt().indexOf(l)}function Ln(l){return Ln[" "](l),l}Ln[" "]=function(){};var yt,l,pr=_n("Opera"),tr=_n("Trident")||_n("MSIE"),jr=_n("Edge"),Ze=jr||tr,Xe=_n("Gecko")&&!(-1!=zt().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),tt=-1!=zt().toLowerCase().indexOf("webkit")&&!_n("Edge");function Je(){var l=oe.document;return l?l.documentMode:void 0}e:{var Mt="",Lt=(l=zt(),Xe?/rv:([^\);]+)(\)|;)/.exec(l):jr?/Edge\/([\d\.]+)/.exec(l):tr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):tt?/WebKit\/(\S+)/.exec(l):pr?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Lt&&(Mt=Lt?Lt[1]:""),tr){var Ot=Je();if(null!=Ot&&Ot>parseFloat(Mt)){yt=String(Ot);break e}}yt=Mt}var qn=oe.document&&tr&&(Je()||parseInt(yt,10))||void 0;function Qt(l,t){if(Ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var o=this.type=l.type,c=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=t,t=l.relatedTarget){if(Xe){e:{try{Ln(t.nodeName);var f=!0;break e}catch{}f=!1}f||(t=null)}}else"mouseover"==o?t=l.fromElement:"mouseout"==o&&(t=l.toElement);this.relatedTarget=t,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Jn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qt.$.h.call(this)}}wt(Qt,Ee);var Jn={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.$.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var rr="closure_listenable_"+(1e6*Math.random()|0),Xn=0;function dr(l,t,o,c,f){this.listener=l,this.proxy=null,this.src=t,this.type=o,this.capture=!!c,this.la=f,this.key=++Xn,this.fa=this.ia=!1}function Hr(l){l.fa=!0,l.listener=null,l.proxy=null,l.src=null,l.la=null}function $r(l,t,o){for(const c in l)t.call(o,l[c],c,l)}function yr(l){const t={};for(const o in l)t[o]=l[o];return t}const ar="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hi(l,t){let o,c;for(let f=1;f<arguments.length;f++){for(o in c=arguments[f],c)l[o]=c[o];for(let _=0;_<ar.length;_++)o=ar[_],Object.prototype.hasOwnProperty.call(c,o)&&(l[o]=c[o])}}function zr(l){this.src=l,this.g={},this.h=0}function wn(l,t){var o=t.type;if(o in l.g){var _,c=l.g[o],f=je(c,t);(_=0<=f)&&Array.prototype.splice.call(c,f,1),_&&(Hr(t),0==l.g[o].length&&(delete l.g[o],l.h--))}}function nn(l,t,o,c){for(var f=0;f<l.length;++f){var _=l[f];if(!_.fa&&_.listener==t&&_.capture==!!o&&_.la==c)return f}return-1}zr.prototype.add=function(l,t,o,c,f){var _=l.toString();(l=this.g[_])||(l=this.g[_]=[],this.h++);var I=nn(l,t,c,f);return-1<I?(t=l[I],o||(t.ia=!1)):((t=new dr(t,this.src,_,!!c,f)).ia=o,l.push(t)),t};var Cn="closure_lm_"+(1e6*Math.random()|0),Bn={};function Lr(l,t,o,c,f){if(c&&c.once)return vr(l,t,o,c,f);if(Array.isArray(t)){for(var _=0;_<t.length;_++)Lr(l,t[_],o,c,f);return null}return o=Si(o),l&&l[rr]?l.O(t,o,Me(c)?!!c.capture:!!c,f):On(l,t,o,!1,c,f)}function On(l,t,o,c,f,_){if(!t)throw Error("Invalid event type");var I=Me(f)?!!f.capture:!!f,N=gr(l);if(N||(l[Cn]=N=new zr(l)),(o=N.add(t,o,c,I,_)).proxy)return o;if(c=function Nn(){const t=Wn;return function l(o){return t.call(l.src,l.listener,o)}}(),o.proxy=c,c.src=l,c.listener=o,l.addEventListener)ft||(f=I),void 0===f&&(f=!1),l.addEventListener(t.toString(),c,f);else if(l.attachEvent)l.attachEvent(li(t.toString()),c);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(c)}return o}function vr(l,t,o,c,f){if(Array.isArray(t)){for(var _=0;_<t.length;_++)vr(l,t[_],o,c,f);return null}return o=Si(o),l&&l[rr]?l.P(t,o,Me(c)?!!c.capture:!!c,f):On(l,t,o,!0,c,f)}function Qr(l,t,o,c,f){if(Array.isArray(t))for(var _=0;_<t.length;_++)Qr(l,t[_],o,c,f);else c=Me(c)?!!c.capture:!!c,o=Si(o),l&&l[rr]?(l=l.i,(t=String(t).toString())in l.g&&-1<(o=nn(_=l.g[t],o,c,f))&&(Hr(_[o]),Array.prototype.splice.call(_,o,1),0==_.length&&(delete l.g[t],l.h--))):l&&(l=gr(l))&&(t=l.g[t.toString()],l=-1,t&&(l=nn(t,o,c,f)),(o=-1<l?t[l]:null)&&er(o))}function er(l){if("number"!=typeof l&&l&&!l.fa){var t=l.src;if(t&&t[rr])wn(t.i,l);else{var o=l.type,c=l.proxy;t.removeEventListener?t.removeEventListener(o,c,l.capture):t.detachEvent?t.detachEvent(li(o),c):t.addListener&&t.removeListener&&t.removeListener(c),(o=gr(t))?(wn(o,l),0==o.h&&(o.src=null,t[Cn]=null)):Hr(l)}}}function li(l){return l in Bn?Bn[l]:Bn[l]="on"+l}function Wn(l,t){if(l.fa)l=!0;else{t=new Qt(t,this);var o=l.listener,c=l.la||l.src;l.ia&&er(l),l=o.call(c,t)}return l}function gr(l){return(l=l[Cn])instanceof zr?l:null}var Ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function Si(l){return"function"==typeof l?l:(l[Ti]||(l[Ti]=function(t){return l.handleEvent(t)}),l[Ti])}function hr(){Ae.call(this),this.i=new zr(this),this.S=this,this.J=null}function Un(l,t){var o,c=l.J;if(c)for(o=[];c;c=c.J)o.push(c);if(l=l.S,c=t.type||t,"string"==typeof t)t=new Ee(t,l);else if(t instanceof Ee)t.target=t.target||l;else{var f=t;hi(t=new Ee(c,l),f)}if(f=!0,o)for(var _=o.length-1;0<=_;_--){var I=t.g=o[_];f=st(I,c,!0,t)&&f}if(f=st(I=t.g=l,c,!0,t)&&f,f=st(I,c,!1,t)&&f,o)for(_=0;_<o.length;_++)f=st(I=t.g=o[_],c,!1,t)&&f}function st(l,t,o,c){if(!(t=l.i.g[String(t)]))return!0;t=t.concat();for(var f=!0,_=0;_<t.length;++_){var I=t[_];if(I&&!I.fa&&I.capture==o){var N=I.listener,H=I.la||I.src;I.ia&&wn(l.i,I),f=!1!==N.call(H,c)&&f}}return f&&!c.defaultPrevented}wt(hr,Ae),hr.prototype[rr]=!0,hr.prototype.removeEventListener=function(l,t,o,c){Qr(this,l,t,o,c)},hr.prototype.N=function(){if(hr.$.N.call(this),this.i){var t,l=this.i;for(t in l.g){for(var o=l.g[t],c=0;c<o.length;c++)Hr(o[c]);delete l.g[t],l.h--}}this.J=null},hr.prototype.O=function(l,t,o,c){return this.i.add(String(l),t,!1,o,c)},hr.prototype.P=function(l,t,o,c){return this.i.add(String(l),t,!0,o,c)};var Se=oe.JSON.stringify;function kt(){var l=j;let t=null;return l.g&&(t=l.g,l.g=l.g.next,l.g||(l.h=null),t.next=null),t}var gn=new class gt{constructor(t,o){this.i=t,this.j=o,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mr,l=>l.reset());class mr{constructor(){this.next=this.g=this.h=null}set(t,o){this.h=t,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function be(l){var t=1;l=l.split(":");const o=[];for(;0<t&&l.length;)o.push(l.shift()),t--;return l.length&&o.push(l.join(":")),o}function ie(l){oe.setTimeout(()=>{throw l},0)}let q,Z=!1,j=new class rn{constructor(){this.h=this.g=null}add(t,o){const c=gn.get();c.set(t,o),this.h?this.h.next=c:this.g=c,this.h=c}},de=()=>{const l=oe.Promise.resolve(void 0);q=()=>{l.then(Oe)}};var Oe=()=>{for(var l;l=kt();){try{l.h.call(l.g)}catch(o){ie(o)}var t=gn;t.j(l),100>t.h&&(t.h++,l.next=t.g,t.g=l)}Z=!1};function ot(l,t){hr.call(this),this.h=l||1,this.g=t||oe,this.j=Ve(this.qb,this),this.l=Date.now()}function $t(l){l.ga=!1,l.T&&(l.g.clearTimeout(l.T),l.T=null)}function Rt(l,t,o){if("function"==typeof l)o&&(l=Ve(l,o));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ve(l.handleEvent,l)}return 2147483647<Number(t)?-1:oe.setTimeout(l,t||0)}function An(l){l.g=Rt(()=>{l.g=null,l.i&&(l.i=!1,An(l))},l.j);const t=l.h;l.h=null,l.m.apply(null,t)}wt(ot,hr),(ve=ot.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-l):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Un(this,"tick"),this.ga&&($t(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){ot.$.N.call(this),$t(this),delete this.g};class Dn extends Ae{constructor(t,o){super(),this.m=t,this.j=o,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(l){Ae.call(this),this.h=l,this.g={}}wt(jn,Ae);var Re=[];function se(l,t,o,c){Array.isArray(o)||(o&&(Re[0]=o.toString()),o=Re);for(var f=0;f<o.length;f++){var _=Lr(t,o[f],c||l.handleEvent,!1,l.h||l);if(!_)break;l.g[_.key]=_}}function W(l){$r(l.g,function(t,o){this.g.hasOwnProperty(o)&&er(t)},l),l.g={}}function te(){this.g=!0}function Ct(l,t,o,c){l.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Pn(l,t){if(!l.g)return t;if(!t)return null;try{var o=JSON.parse(t);if(o)for(l=0;l<o.length;l++)if(Array.isArray(o[l])){var c=o[l];if(!(2>c.length)){var f=c[1];if(Array.isArray(f)&&!(1>f.length)){var _=f[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var I=1;I<f.length;I++)f[I]=""}}}return Se(o)}catch{return t}}(l,o)+(c?" "+c:"")})}jn.prototype.N=function(){jn.$.N.call(this),W(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},te.prototype.Ea=function(){this.g=!1},te.prototype.info=function(){};var cn={},Yr=null;function mi(){return Yr=Yr||new hr}function Ur(l){Ee.call(this,cn.Ta,l)}function xi(l){const t=mi();Un(t,new Ur(t))}function rs(l,t){Ee.call(this,cn.STAT_EVENT,l),this.stat=t}function ui(l){const t=mi();Un(t,new rs(t,l))}function lr(l,t){Ee.call(this,cn.Ua,l),this.size=t}function ur(l,t){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){l()},t)}cn.Ta="serverreachability",wt(Ur,Ee),cn.STAT_EVENT="statevent",wt(rs,Ee),cn.Ua="timingevent",wt(lr,Ee);var fi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ss={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rr(){}function bi(){}Rr.prototype.h=null;var Fe,oi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _a(){Ee.call(this,"d")}function co(){Ee.call(this,"c")}function Le(){}function et(l,t,o,c){this.l=l,this.j=t,this.m=o,this.W=c||1,this.U=new jn(this),this.P=Gt,this.V=new ot(l=Ze?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}wt(_a,Ee),wt(co,Ee),wt(Le,Rr),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Fe=new Le;var Gt=45e3,Hn={},_r={};function Er(l,t,o){l.L=1,l.v=ho(Ci(t)),l.s=o,l.S=!0,Br(l,null)}function Br(l,t){l.G=Date.now(),Zi(l),l.A=Ci(l.v);var o=l.A,c=l.W;Array.isArray(c)||(c=[String(c)]),po(o.i,"t",c),l.C=0,o=l.l.J,l.h=new xt,l.g=$a(l.l,o?t:null,!l.s),0<l.O&&(l.M=new Dn(Ve(l.Pa,l,l.g),l.O)),se(l.U,l.g,"readystatechange",l.nb),t=l.I?yr(l.I):{},l.s?(l.u||(l.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",l.g.ha(l.A,l.u,l.s,t)):(l.u="GET",l.g.ha(l.A,l.u,null,t)),xi(),function De(l,t,o,c,f,_){l.info(function(){if(l.g)if(_)for(var I="",N=_.split("&"),H=0;H<N.length;H++){var Q=N[H].split("=");if(1<Q.length){var ue=Q[0];Q=Q[1];var Ce=ue.split("_");I=2<=Ce.length&&"type"==Ce[1]?I+(ue+"=")+Q+"&":I+(ue+"=redacted&")}}else I=null;else I=_;return"XMLHTTP REQ ("+c+") [attempt "+f+"]: "+t+"\n"+o+"\n"+I})}(l.j,l.u,l.A,l.m,l.W,l.s)}function Fa(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.l.Ha}function qr(l,t,o){let f,c=!0;for(;!l.J&&l.C<o.length;){if(f=no(l,o),f==_r){4==t&&(l.o=4,ui(14),c=!1),Ct(l.j,l.m,null,"[Incomplete Response]");break}if(f==Hn){l.o=4,ui(15),Ct(l.j,l.m,o,"[Invalid Chunk]"),c=!1;break}Ct(l.j,l.m,f,null),va(l,f)}Fa(l)&&f!=_r&&f!=Hn&&(l.h.g="",l.C=0),4!=t||0!=o.length||l.h.h||(l.o=1,ui(16),c=!1),l.i=l.i&&c,c?0<o.length&&!l.ba&&(l.ba=!0,(t=l.l).g==l&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),du(t),t.M=!0,ui(11))):(Ct(l.j,l.m,o,"[Invalid Chunked Response]"),ya(l),lu(l))}function no(l,t){var o=l.C,c=t.indexOf("\n",o);return-1==c?_r:(o=Number(t.substring(o,c)),isNaN(o)?Hn:(c+=1)+o>t.length?_r:(t=t.slice(c,c+o),l.C=c+o,t))}function Zi(l){l.Y=Date.now()+l.P,Va(l,l.P)}function Va(l,t){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ur(Ve(l.lb,l),t)}function dl(l){l.B&&(oe.clearTimeout(l.B),l.B=null)}function lu(l){0==l.l.H||l.J||hu(l.l,l)}function ya(l){dl(l);var t=l.M;t&&"function"==typeof t.sa&&t.sa(),l.M=null,$t(l.V),W(l.U),l.g&&(t=l.g,l.g=null,t.abort(),t.sa())}function va(l,t){try{var o=l.l;if(0!=o.H&&(o.g==l||cu(o.i,l)))if(!l.K&&cu(o.i,l)&&3==o.H){try{var c=o.Ja.g.parse(t)}catch{c=null}if(Array.isArray(c)&&3==c.length){var f=c;if(0==f[0]){e:if(!o.u){if(o.g){if(!(o.g.G+3e3<l.G))break e;Ao(o),Nl(o)}sc(o),ui(18)}}else o.Fa=f[1],0<o.Fa-o.V&&37500>f[2]&&o.G&&0==o.A&&!o.v&&(o.v=ur(Ve(o.ib,o),6e3));if(1>=na(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else _i(o,11)}else if((l.K||o.g==l)&&Ao(o),!St(t))for(f=o.Ja.g.parse(t),t=0;t<f.length;t++){let Q=f[t];if(o.V=Q[0],Q=Q[1],2==o.H)if("c"==Q[0]){o.K=Q[1],o.pa=Q[2];const ue=Q[3];null!=ue&&(o.ra=ue,o.l.info("VER="+o.ra));const Ce=Q[4];null!=Ce&&(o.Ga=Ce,o.l.info("SVER="+o.Ga));const nt=Q[5];null!=nt&&"number"==typeof nt&&0<nt&&(o.L=c=1.5*nt,o.l.info("backChannelRequestTimeoutMs_="+c)),c=o;const bt=l.g;if(bt){const qt=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qt){var _=c.i;_.g||-1==qt.indexOf("spdy")&&-1==qt.indexOf("quic")&&-1==qt.indexOf("h2")||(_.j=_.l,_.g=new Set,_.h&&(wa(_,_.h),_.h=null))}if(c.F){const yn=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;yn&&(c.Da=yn,Wr(c.I,c.F,yn))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-l.G,o.l.info("Handshake RTT: "+o.S+"ms"));var I=l;if((c=o).wa=Es(c,c.J?c.pa:null,c.Y),I.K){Uo(c.i,I);var N=I,H=c.L;H&&N.setTimeout(H),N.B&&(dl(N),Zi(N)),c.g=I}else vd(c);0<o.j.length&&kl(o)}else"stop"!=Q[0]&&"close"!=Q[0]||_i(o,7);else 3==o.H&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?_i(o,7):yd(o):"noop"!=Q[0]&&o.h&&o.h.Aa(Q),o.A=0)}xi()}catch{}}function Dr(l,t){if(l.forEach&&"function"==typeof l.forEach)l.forEach(t,void 0);else if(ge(l)||"string"==typeof l)Array.prototype.forEach.call(l,t,void 0);else for(var o=function fl(l){if(l.ta&&"function"==typeof l.ta)return l.ta();if(!l.Z||"function"!=typeof l.Z){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(ge(l)||"string"==typeof l){var t=[];l=l.length;for(var o=0;o<l;o++)t.push(o);return t}t=[],o=0;for(const c in l)t[o++]=c;return t}}}(l),c=function hl(l){if(l.Z&&"function"==typeof l.Z)return l.Z();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(ge(l)){for(var t=[],o=l.length,c=0;c<o;c++)t.push(l[c]);return t}for(c in t=[],o=0,l)t[o++]=l[c];return t}(l),f=c.length,_=0;_<f;_++)t.call(void 0,c[_],o&&o[_],l)}(ve=et.prototype).setTimeout=function(l){this.P=l},ve.nb=function(l){l=l.target;const t=this.M;t&&3==Do(l)?t.l():this.Pa(l)},ve.Pa=function(l){try{if(l==this.g)e:{const ue=Do(this.g);var t=this.g.Ia();if(this.g.da(),!(3>ue)&&(3!=ue||Ze||this.g&&(this.h.h||this.g.ja()||rc(this.g)))){this.J||4!=ue||7==t||xi(),dl(this);var o=this.g.da();this.ca=o;t:if(Fa(this)){var c=rc(this.g);l="";var f=c.length,_=4==Do(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ya(this),lu(this);var I="";break t}this.h.i=new oe.TextDecoder}for(t=0;t<f;t++)this.h.h=!0,l+=this.h.i.decode(c[t],{stream:_&&t==f-1});c.splice(0,f),this.h.g+=l,this.C=0,I=this.h.g}else I=this.g.ja();if(this.i=200==o,function Ue(l,t,o,c,f,_,I){l.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+f+"]: "+t+"\n"+o+"\n"+_+" "+I})}(this.j,this.u,this.A,this.m,this.W,ue,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var N,H=this.g;if((N=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!St(N)){var Q=N;break t}}Q=null}if(!(o=Q)){this.i=!1,this.o=3,ui(12),ya(this),lu(this);break e}Ct(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,o)}this.S?(qr(this,ue,I),Ze&&this.i&&3==ue&&(se(this.U,this.V,"tick",this.mb),this.V.start())):(Ct(this.j,this.m,I,null),va(this,I)),4==ue&&ya(this),this.i&&!this.J&&(4==ue?hu(this.l,this):(this.i=!1,Zi(this)))}else(function ic(l){const t={};l=(l.g&&2<=Do(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let c=0;c<l.length;c++){if(St(l[c]))continue;var o=be(l[c]);const f=o[0];if("string"!=typeof(o=o[1]))continue;o=o.trim();const _=t[f]||[];t[f]=_,_.push(o)}!function Ii(l,t){for(const o in l)t.call(void 0,l[o],o,l)}(t,function(c){return c.join(", ")})})(this.g),400==o&&0<I.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),ya(this),lu(this)}}}catch{}},ve.mb=function(){if(this.g){var l=Do(this.g),t=this.g.ja();this.C<t.length&&(dl(this),qr(this,l,t),this.i&&4!=l&&Zi(this))}},ve.cancel=function(){this.J=!0,ya(this)},ve.lb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function It(l,t){l.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(xi(),ui(17)),ya(this),this.o=2,lu(this)):Va(this,this.Y-l)};var ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(l){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof Os){this.h=l.h,uu(this,l.j),this.s=l.s,this.g=l.g,To(this,l.m),this.l=l.l;var t=l.i,o=new Di;o.i=t.i,t.g&&(o.g=new Map(t.g),o.h=t.h),Ua(this,o),this.o=l.o}else l&&(t=String(l).match(ci))?(this.h=!1,uu(this,t[1]||"",!0),this.s=pi(t[2]||""),this.g=pi(t[3]||"",!0),To(this,t[4]),this.l=pi(t[5]||"",!0),Ua(this,t[6]||"",!0),this.o=pi(t[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}function Ci(l){return new Os(l)}function uu(l,t,o){l.j=o?pi(t,!0):t,l.j&&(l.j=l.j.replace(/:$/,""))}function To(l,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);l.m=t}else l.m=null}function Ua(l,t,o){t instanceof Di?(l.i=t,function io(l,t){t&&!l.j&&(ys(l),l.i=null,l.g.forEach(function(o,c){var f=c.toLowerCase();c!=f&&(fo(this,c),po(this,f,o))},l)),l.j=t}(l.i,l.h)):(o||(t=Yt(t,Bs)),l.i=new Di(t,l.h))}function Wr(l,t,o){l.i.set(t,o)}function ho(l){return Wr(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function pi(l,t){return l?t?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Yt(l,t,o){return"string"==typeof l?(l=encodeURI(l).replace(t,cr),o&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function cr(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Os.prototype.toString=function(){var l=[],t=this.j;t&&l.push(Yt(t,Jr,!0),":");var o=this.g;return(o||"file"==t)&&(l.push("//"),(t=this.s)&&l.push(Yt(t,Jr,!0),"@"),l.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&l.push(":",String(o))),(o=this.l)&&(this.g&&"/"!=o.charAt(0)&&l.push("/"),l.push(Yt(o,"/"==o.charAt(0)?bo:Us,!0))),(o=this.i.toString())&&l.push("?",o),(o=this.o)&&l.push("#",Yt(o,ro)),l.join("")};var Jr=/[#\/\?@]/g,Us=/[#\?:]/g,bo=/[#\?]/g,Bs=/[#\?@]/g,ro=/#/g;function Di(l,t){this.h=this.g=null,this.i=l||null,this.j=!!t}function ys(l){l.g||(l.g=new Map,l.h=0,l.i&&function ki(l,t){if(l){l=l.split("&");for(var o=0;o<l.length;o++){var c=l[o].indexOf("="),f=null;if(0<=c){var _=l[o].substring(0,c);f=l[o].substring(c+1)}else _=l[o];t(_,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(l.i,function(t,o){l.add(decodeURIComponent(t.replace(/\+/g," ")),o)}))}function fo(l,t){ys(l),t=Ea(l,t),l.g.has(t)&&(l.i=null,l.h-=l.g.get(t).length,l.g.delete(t))}function Fn(l,t){return ys(l),t=Ea(l,t),l.g.has(t)}function po(l,t,o){fo(l,t),0<o.length&&(l.i=null,l.g.set(Ea(l,t),ut(o)),l.h+=o.length)}function Ea(l,t){return t=String(t),l.j&&(t=t.toLowerCase()),t}function Ba(l){this.l=l||so,l=oe.PerformanceNavigationTiming?0<(l=oe.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Di.prototype).add=function(l,t){ys(this),this.i=null,l=Ea(this,l);var o=this.g.get(l);return o||this.g.set(l,o=[]),o.push(t),this.h+=1,this},ve.forEach=function(l,t){ys(this),this.g.forEach(function(o,c){o.forEach(function(f){l.call(t,f,c,this)},this)},this)},ve.ta=function(){ys(this);const l=Array.from(this.g.values()),t=Array.from(this.g.keys()),o=[];for(let c=0;c<t.length;c++){const f=l[c];for(let _=0;_<f.length;_++)o.push(t[c])}return o},ve.Z=function(l){ys(this);let t=[];if("string"==typeof l)Fn(this,l)&&(t=t.concat(this.g.get(Ea(this,l))));else{l=Array.from(this.g.values());for(let o=0;o<l.length;o++)t=t.concat(l[o])}return t},ve.set=function(l,t){return ys(this),this.i=null,Fn(this,l=Ea(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[t]),this.h+=1,this},ve.get=function(l,t){return l&&0<(l=this.Z(l)).length?String(l[0]):t},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],t=Array.from(this.g.keys());for(var o=0;o<t.length;o++){var c=t[o];const _=encodeURIComponent(String(c)),I=this.Z(c);for(c=0;c<I.length;c++){var f=_;""!==I[c]&&(f+="="+encodeURIComponent(String(I[c]))),l.push(f)}}return this.i=l.join("&")};var so=10;function ss(l){return!!l.h||!!l.g&&l.g.size>=l.j}function na(l){return l.h?1:l.g?l.g.size:0}function cu(l,t){return l.h?l.h==t:!!l.g&&l.g.has(t)}function wa(l,t){l.g?l.g.add(t):l.h=t}function Uo(l,t){l.h&&l.h==t?l.h=null:l.g&&l.g.has(t)&&l.g.delete(t)}function tc(l){if(null!=l.h)return l.i.concat(l.h.F);if(null!=l.g&&0!==l.g.size){let t=l.i;for(const o of l.g.values())t=t.concat(o.F);return t}return ut(l.i)}Ba.prototype.cancel=function(){if(this.i=tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var js=class{stringify(l){return oe.JSON.stringify(l,void 0)}parse(l){return oe.JSON.parse(l,void 0)}};function Pr(){this.g=new js}function Ou(l,t,o){const c=o||"";try{Dr(l,function(f,_){let I=f;Me(f)&&(I=Se(f)),t.push(c+_+"="+encodeURIComponent(I))})}catch(f){throw t.push(c+"type="+encodeURIComponent("_badmap")),f}}function xs(l,t,o,c,f){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,f(c)}catch{}}function ri(l){this.l=l.fc||null,this.j=l.ob||!1}function os(l,t){hr.call(this),this.F=l,this.u=t,this.m=void 0,this.readyState=oo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(ri,Rr),ri.prototype.g=function(){return new os(this.l,this.j)},ri.prototype.i=function(l){return function(){return l}}({}),wt(os,hr);var oo=0;function ja(l){l.j.read().then(l.Xa.bind(l)).catch(l.ka.bind(l))}function Vi(l){l.readyState=4,l.l=null,l.j=null,l.A=null,Ol(l)}function Ol(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(ve=os.prototype).open=function(l,t){if(this.readyState!=oo)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=t,this.readyState=1,Ol(this)},ve.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(t.body=l),(this.F||oe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vi(this)),this.readyState=oo},ve.$a=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ja(this)}else l.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var t=l.value?l.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!l.done}))&&(this.response=this.responseText+=t)}l.done?Vi(this):Ol(this),3==this.readyState&&ja(this)}},ve.Za=function(l){this.g&&(this.response=this.responseText=l,Vi(this))},ve.Ya=function(l){this.g&&(this.response=l,Vi(this))},ve.ka=function(){this.g&&Vi(this)},ve.setRequestHeader=function(l,t){this.v.append(l,t)},ve.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],t=this.h.entries();for(var o=t.next();!o.done;)l.push((o=o.value)[0]+": "+o[1]),o=t.next();return l.join("\r\n")},Object.defineProperty(os.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Qi=oe.JSON.parse;function wr(l){hr.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ku,this.L=this.M=!1}wt(wr,hr);var ku="",Co=/^https?$/i,vs=["POST","PUT"];function Ha(l,t){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=t,l.m=5,pl(l),Ia(l)}function pl(l){l.F||(l.F=!0,Un(l,"complete"),Un(l,"error"))}function gl(l){if(l.h&&typeof He<"u"&&(!l.C[1]||4!=Do(l)||2!=l.da()))if(l.v&&4==Do(l))Rt(l.La,0,l);else if(Un(l,"readystatechange"),4==Do(l)){l.h=!1;try{const I=l.da();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var o;if(!(o=t)){var c;if(c=0===I){var f=String(l.I).match(ci)[1]||null;!f&&oe.self&&oe.self.location&&(f=oe.self.location.protocol.slice(0,-1)),c=!Co.test(f?f.toLowerCase():"")}o=c}if(o)Un(l,"complete"),Un(l,"success");else{l.m=6;try{var _=2<Do(l)?l.g.statusText:""}catch{_=""}l.j=_+" ["+l.da()+"]",pl(l)}}finally{Ia(l)}}}function Ia(l,t){if(l.g){nc(l);const o=l.g,c=l.C[0]?()=>{}:null;l.g=null,l.C=null,t||Un(l,"ready");try{o.onreadystatechange=c}catch{}}}function nc(l){l.g&&l.L&&(l.g.ontimeout=null),l.A&&(oe.clearTimeout(l.A),l.A=null)}function Do(l){return l.g?l.g.readyState:0}function rc(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.K){case ku:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(l){let t="";return $r(l,function(o,c){t+=c,t+=":",t+=o,t+="\r\n"}),t}function Bc(l,t,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=Uc(o),"string"==typeof l?null!=o&&encodeURIComponent(String(o)):Wr(l,t,o))}function Ri(l,t,o){return o&&o.internalChannelParams&&o.internalChannelParams[l]||t}function _d(l){this.Ga=0,this.j=[],this.l=new te,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ri("failFast",!1,l),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ri("baseRetryDelayMs",5e3,l),this.hb=Ri("retryDelaySeedMs",1e4,l),this.eb=Ri("forwardChannelMaxRetries",2,l),this.xa=Ri("forwardChannelRequestTimeoutMs",2e4,l),this.va=l&&l.xmlHttpFactory||void 0,this.Ha=l&&l.dc||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.i=new Ba(l&&l.concurrentRequestLimit),this.Ja=new Pr,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=l&&l.bc||!1,l&&l.Ea&&this.l.Ea(),l&&l.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&l&&l.detectBufferingProxy||!1,this.qa=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.qa=l.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yd(l){if(Lu(l),3==l.H){var t=l.W++,o=Ci(l.I);if(Wr(o,"SID",l.K),Wr(o,"RID",t),Wr(o,"TYPE","terminate"),ra(l,o),(t=new et(l,l.l,t)).L=2,t.v=ho(Ci(o)),o=!1,oe.navigator&&oe.navigator.sendBeacon)try{o=oe.navigator.sendBeacon(t.v.toString(),"")}catch{}!o&&oe.Image&&((new Image).src=t.v,o=!0),o||(t.g=$a(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Zi(t)}jo(l)}function Nl(l){l.g&&(du(l),l.g.cancel(),l.g=null)}function Lu(l){Nl(l),l.u&&(oe.clearTimeout(l.u),l.u=null),Ao(l),l.i.cancel(),l.m&&("number"==typeof l.m&&oe.clearTimeout(l.m),l.m=null)}function kl(l){if(!ss(l.i)&&!l.m){l.m=!0;var t=l.Na;q||de(),Z||(q(),Z=!0),j.add(t,l),l.C=0}}function jc(l,t){var o;o=t?t.m:l.W++;const c=Ci(l.I);Wr(c,"SID",l.K),Wr(c,"RID",o),Wr(c,"AID",l.V),ra(l,c),l.o&&l.s&&Bc(c,l.o,l.s),o=new et(l,l.l,o,l.C+1),null===l.o&&(o.I=l.s),t&&(l.j=t.F.concat(l.j)),t=ml(l,o,1e3),o.setTimeout(Math.round(.5*l.xa)+Math.round(.5*l.xa*Math.random())),wa(l.i,o),Er(o,c,t)}function ra(l,t){l.na&&$r(l.na,function(o,c){Wr(t,c,o)}),l.h&&Dr({},function(o,c){Wr(t,c,o)})}function ml(l,t,o){o=Math.min(l.j.length,o);var c=l.h?Ve(l.h.Va,l.h,l):null;e:{var f=l.j;let _=-1;for(;;){const I=["count="+o];-1==_?0<o?(_=f[0].g,I.push("ofs="+_)):_=0:I.push("ofs="+_);let N=!0;for(let H=0;H<o;H++){let Q=f[H].g;const ue=f[H].map;if(Q-=_,0>Q)_=Math.max(0,f[H].g-100),N=!1;else try{Ou(ue,I,"req"+Q+"_")}catch{c&&c(ue)}}if(N){c=I.join("&");break e}}}return l=l.j.splice(0,o),t.F=l,c}function vd(l){if(!l.g&&!l.u){l.ba=1;var t=l.Ma;q||de(),Z||(q(),Z=!0),j.add(t,l),l.A=0}}function sc(l){return!(l.g||l.u||3<=l.A||(l.ba++,l.u=ur(Ve(l.Ma,l),Rs(l,l.A)),l.A++,0))}function du(l){null!=l.B&&(oe.clearTimeout(l.B),l.B=null)}function ia(l){l.g=new et(l,l.l,"rpc",l.ba),null===l.o&&(l.g.I=l.s),l.g.O=0;var t=Ci(l.wa);Wr(t,"RID","rpc"),Wr(t,"SID",l.K),Wr(t,"AID",l.V),Wr(t,"CI",l.G?"0":"1"),!l.G&&l.qa&&Wr(t,"TO",l.qa),Wr(t,"TYPE","xmlhttp"),ra(l,t),l.o&&l.s&&Bc(t,l.o,l.s),l.L&&l.g.setTimeout(l.L);var o=l.g;l=l.pa,o.L=1,o.v=ho(Ci(t)),o.s=null,o.S=!0,Br(o,l)}function Ao(l){null!=l.v&&(oe.clearTimeout(l.v),l.v=null)}function hu(l,t){var o=null;if(l.g==t){Ao(l),du(l),l.g=null;var c=2}else{if(!cu(l.i,t))return;o=t.F,Uo(l.i,t),c=1}if(0!=l.H)if(t.i)if(1==c){o=t.s?t.s.length:0,t=Date.now()-t.G;var f=l.C;Un(c=mi(),new lr(c,o)),kl(l)}else vd(l);else if(3==(f=t.o)||0==f&&0<t.ca||!(1==c&&function Bo(l,t){return!(na(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.j=t.F.concat(l.j),0):1==l.H||2==l.H||l.C>=(l.cb?0:l.eb)||(l.m=ur(Ve(l.Na,l,t),Rs(l,l.C)),l.C++,0)))}(l,t)||2==c&&sc(l)))switch(o&&0<o.length&&(t=l.i,t.i=t.i.concat(o)),f){case 1:_i(l,5);break;case 4:_i(l,10);break;case 3:_i(l,6);break;default:_i(l,2)}}function Rs(l,t){let o=l.ab+Math.floor(Math.random()*l.hb);return l.isActive()||(o*=2),o*t}function _i(l,t){if(l.l.info("Error code "+t),2==t){var o=null;l.h&&(o=null);var c=Ve(l.pb,l);o||(o=new Os("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||uu(o,"https"),ho(o)),function Nu(l,t){const o=new te;if(oe.Image){const c=new Image;c.onload=Ne(xs,o,c,"TestLoadImage: loaded",!0,t),c.onerror=Ne(xs,o,c,"TestLoadImage: error",!1,t),c.onabort=Ne(xs,o,c,"TestLoadImage: abort",!1,t),c.ontimeout=Ne(xs,o,c,"TestLoadImage: timeout",!1,t),oe.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=l}else t(!1)}(o.toString(),c)}else ui(2);l.H=0,l.h&&l.h.za(t),jo(l),Lu(l)}function jo(l){if(l.H=0,l.ma=[],l.h){const t=tc(l.i);(0!=t.length||0!=l.j.length)&&(vt(l.ma,t),vt(l.ma,l.j),l.i.i.length=0,ut(l.j),l.j.length=0),l.h.ya()}}function Es(l,t,o){var c=o instanceof Os?Ci(o):new Os(o);if(""!=c.g)t&&(c.g=t+"."+c.g),To(c,c.m);else{var f=oe.location;c=f.protocol,t=t?t+"."+f.hostname:f.hostname,f=+f.port;var _=new Os(null);c&&uu(_,c),t&&(_.g=t),f&&To(_,f),o&&(_.l=o),c=_}return t=l.Da,(o=l.F)&&t&&Wr(c,o,t),Wr(c,"VER",l.ra),ra(l,c),c}function $a(l,t,o){if(t&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new wr(o&&l.Ha&&!l.va?new ri({ob:!0}):l.va)).Oa(l.J),t}function Ll(){}function Fl(){if(tr&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function Ns(l,t){hr.call(this),this.g=new _d(t),this.l=l,this.h=t&&t.messageUrlParams||null,l=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(l?l["X-WebChannel-Content-Type"]=t.messageContentType:l={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(l?l["X-WebChannel-Client-Profile"]=t.Ca:l={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=l,(l=t&&t.cc)&&!St(l)&&(this.g.o=l),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!St(t)&&(this.g.F=t,null!==(l=this.h)&&t in l&&t in(l=this.h)&&delete l[t]),this.j=new ba(this)}function Ta(l){_a.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var t=l.__sm__;if(t){e:{for(const o in t){l=o;break e}l=void 0}(this.i=l)&&(l=this.i,t=null!==t&&l in t?t[l]:void 0),this.data=t}else this.data=l}function Vl(){co.call(this),this.status=1}function ba(l){this.g=l}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ca(l,t,o){o||(o=0);var c=Array(16);if("string"==typeof t)for(var f=0;16>f;++f)c[f]=t.charCodeAt(o++)|t.charCodeAt(o++)<<8|t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<24;else for(f=0;16>f;++f)c[f]=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;var _=l.g[3],I=(t=l.g[0])+(_^(o=l.g[1])&((f=l.g[2])^_))+c[0]+3614090360&4294967295;I=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=(o=(f=(_=(t=o+(I<<7&4294967295|I>>>25))+((I=_+(f^t&(o^f))+c[1]+3905402710&4294967295)<<12&4294967295|I>>>20))+((I=f+(o^_&(t^o))+c[2]+606105819&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^f&(_^t))+c[3]+3250441966&4294967295)<<22&4294967295|I>>>10))+((I=t+(_^o&(f^_))+c[4]+4118548399&4294967295)<<7&4294967295|I>>>25))+((I=_+(f^t&(o^f))+c[5]+1200080426&4294967295)<<12&4294967295|I>>>20))+((I=f+(o^_&(t^o))+c[6]+2821735955&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^f&(_^t))+c[7]+4249261313&4294967295)<<22&4294967295|I>>>10))+((I=t+(_^o&(f^_))+c[8]+1770035416&4294967295)<<7&4294967295|I>>>25))+((I=_+(f^t&(o^f))+c[9]+2336552879&4294967295)<<12&4294967295|I>>>20))+((I=f+(o^_&(t^o))+c[10]+4294925233&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^f&(_^t))+c[11]+2304563134&4294967295)<<22&4294967295|I>>>10))+((I=t+(_^o&(f^_))+c[12]+1804603682&4294967295)<<7&4294967295|I>>>25))+((I=_+(f^t&(o^f))+c[13]+4254626195&4294967295)<<12&4294967295|I>>>20))+((I=f+(o^_&(t^o))+c[14]+2792965006&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^f&(_^t))+c[15]+1236535329&4294967295)<<22&4294967295|I>>>10))+((I=t+(f^_&(o^f))+c[1]+4129170786&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^f&(t^o))+c[6]+3225465664&4294967295)<<9&4294967295|I>>>23))+((I=f+(t^o&(_^t))+c[11]+643717713&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^t&(f^_))+c[0]+3921069994&4294967295)<<20&4294967295|I>>>12))+((I=t+(f^_&(o^f))+c[5]+3593408605&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^f&(t^o))+c[10]+38016083&4294967295)<<9&4294967295|I>>>23))+((I=f+(t^o&(_^t))+c[15]+3634488961&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^t&(f^_))+c[4]+3889429448&4294967295)<<20&4294967295|I>>>12))+((I=t+(f^_&(o^f))+c[9]+568446438&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^f&(t^o))+c[14]+3275163606&4294967295)<<9&4294967295|I>>>23))+((I=f+(t^o&(_^t))+c[3]+4107603335&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^t&(f^_))+c[8]+1163531501&4294967295)<<20&4294967295|I>>>12))+((I=t+(f^_&(o^f))+c[13]+2850285829&4294967295)<<5&4294967295|I>>>27))+((I=_+(o^f&(t^o))+c[2]+4243563512&4294967295)<<9&4294967295|I>>>23))+((I=f+(t^o&(_^t))+c[7]+1735328473&4294967295)<<14&4294967295|I>>>18))+((I=o+(_^t&(f^_))+c[12]+2368359562&4294967295)<<20&4294967295|I>>>12))+((I=t+(o^f^_)+c[5]+4294588738&4294967295)<<4&4294967295|I>>>28))+((I=_+(t^o^f)+c[8]+2272392833&4294967295)<<11&4294967295|I>>>21))+((I=f+(_^t^o)+c[11]+1839030562&4294967295)<<16&4294967295|I>>>16))+((I=o+(f^_^t)+c[14]+4259657740&4294967295)<<23&4294967295|I>>>9))+((I=t+(o^f^_)+c[1]+2763975236&4294967295)<<4&4294967295|I>>>28))+((I=_+(t^o^f)+c[4]+1272893353&4294967295)<<11&4294967295|I>>>21))+((I=f+(_^t^o)+c[7]+4139469664&4294967295)<<16&4294967295|I>>>16))+((I=o+(f^_^t)+c[10]+3200236656&4294967295)<<23&4294967295|I>>>9))+((I=t+(o^f^_)+c[13]+681279174&4294967295)<<4&4294967295|I>>>28))+((I=_+(t^o^f)+c[0]+3936430074&4294967295)<<11&4294967295|I>>>21))+((I=f+(_^t^o)+c[3]+3572445317&4294967295)<<16&4294967295|I>>>16))+((I=o+(f^_^t)+c[6]+76029189&4294967295)<<23&4294967295|I>>>9))+((I=t+(o^f^_)+c[9]+3654602809&4294967295)<<4&4294967295|I>>>28))+((I=_+(t^o^f)+c[12]+3873151461&4294967295)<<11&4294967295|I>>>21))+((I=f+(_^t^o)+c[15]+530742520&4294967295)<<16&4294967295|I>>>16))+((I=o+(f^_^t)+c[2]+3299628645&4294967295)<<23&4294967295|I>>>9))+((I=t+(f^(o|~_))+c[0]+4096336452&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(t|~f))+c[7]+1126891415&4294967295)<<10&4294967295|I>>>22))+((I=f+(t^(_|~o))+c[14]+2878612391&4294967295)<<15&4294967295|I>>>17))+((I=o+(_^(f|~t))+c[5]+4237533241&4294967295)<<21&4294967295|I>>>11))+((I=t+(f^(o|~_))+c[12]+1700485571&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(t|~f))+c[3]+2399980690&4294967295)<<10&4294967295|I>>>22))+((I=f+(t^(_|~o))+c[10]+4293915773&4294967295)<<15&4294967295|I>>>17))+((I=o+(_^(f|~t))+c[1]+2240044497&4294967295)<<21&4294967295|I>>>11))+((I=t+(f^(o|~_))+c[8]+1873313359&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(t|~f))+c[15]+4264355552&4294967295)<<10&4294967295|I>>>22))+((I=f+(t^(_|~o))+c[6]+2734768916&4294967295)<<15&4294967295|I>>>17))+((I=o+(_^(f|~t))+c[13]+1309151649&4294967295)<<21&4294967295|I>>>11))+((_=(t=o+((I=t+(f^(o|~_))+c[4]+4149444226&4294967295)<<6&4294967295|I>>>26))+((I=_+(o^(t|~f))+c[11]+3174756917&4294967295)<<10&4294967295|I>>>22))^((f=_+((I=f+(t^(_|~o))+c[2]+718787259&4294967295)<<15&4294967295|I>>>17))|~t))+c[9]+3951481745&4294967295,l.g[0]=l.g[0]+t&4294967295,l.g[1]=l.g[1]+(f+(I<<21&4294967295|I>>>11))&4294967295,l.g[2]=l.g[2]+f&4294967295,l.g[3]=l.g[3]+_&4294967295}function di(l,t){this.h=t;for(var o=[],c=!0,f=l.length-1;0<=f;f--){var _=0|l[f];c&&_==t||(o[f]=_,c=!1)}this.g=o}(ve=wr.prototype).Oa=function(l){this.M=l},ve.ha=function(l,t,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+l);t=t?t.toUpperCase():"GET",this.I=l,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fe.g(),this.C=function Sn(l){return l.h||(l.h=l.i())}(this.u?this.u:Fe),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(t,String(l),!0),this.G=!1}catch(_){return void Ha(this,_)}if(l=o||"",o=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var f in c)o.set(f,c[f]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const _ of c.keys())o.set(_,c.get(_))}c=Array.from(o.keys()).find(_=>"content-type"==_.toLowerCase()),f=oe.FormData&&l instanceof oe.FormData,!(0<=je(vs,t))||c||f||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,I]of o)this.g.setRequestHeader(_,I);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nc(this),0<this.B&&((this.L=function Yi(l){return tr&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=Rt(this.ua,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(_){Ha(this,_)}},ve.ua=function(){typeof He<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},ve.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,Un(this,"complete"),Un(this,"abort"),Ia(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ia(this,!0)),wr.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?gl(this):this.kb())},ve.kb=function(){gl(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(l){if(this.g){var t=this.g.responseText;return l&&0==t.indexOf(l)&&(t=t.substring(l.length)),Qi(t)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=_d.prototype).ra=8,ve.H=1,ve.Na=function(l){if(this.m)if(this.m=null,1==this.H){if(!l){this.W=Math.floor(1e5*Math.random()),l=this.W++;const f=new et(this,this.l,l);let _=this.s;if(this.U&&(_?(_=yr(_),hi(_,this.U)):_=this.U),null!==this.o||this.O||(f.I=_,_=null),this.P)e:{for(var t=0,o=0;o<this.j.length;o++){var c=this.j[o];if(void 0===(c="__data__"in c.map&&"string"==typeof(c=c.map.__data__)?c.length:void 0))break;if(4096<(t+=c)){t=o;break e}if(4096===t||o===this.j.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=ml(this,f,t),Wr(o=Ci(this.I),"RID",l),Wr(o,"CVER",22),this.F&&Wr(o,"X-HTTP-Session-Id",this.F),ra(this,o),_&&(this.O?t="headers="+encodeURIComponent(String(Uc(_)))+"&"+t:this.o&&Bc(o,this.o,_)),wa(this.i,f),this.bb&&Wr(o,"TYPE","init"),this.P?(Wr(o,"$req",t),Wr(o,"SID","null"),f.aa=!0,Er(f,o,null)):Er(f,o,t),this.H=2}}else 3==this.H&&(l?jc(this,l):0==this.j.length||ss(this.i)||jc(this))},ve.Ma=function(){if(this.u=null,ia(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var l=2*this.S;this.l.info("BP detection timer enabled: "+l),this.B=ur(Ve(this.jb,this),l)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ui(10),Nl(this),ia(this))},ve.ib=function(){null!=this.v&&(this.v=null,Nl(this),sc(this),ui(19))},ve.pb=function(l){l?(this.l.info("Successfully pinged google.com"),ui(2)):(this.l.info("Failed to ping google.com"),ui(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=Ll.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},Fl.prototype.g=function(l,t){return new Ns(l,t)},wt(Ns,hr),Ns.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var l=this.g,t=this.l,o=this.h||void 0;ui(0),l.Y=t,l.na=o||{},l.G=l.aa,l.I=Es(l,null,l.Y),kl(l)},Ns.prototype.close=function(){yd(this.g)},Ns.prototype.u=function(l){var t=this.g;if("string"==typeof l){var o={};o.__data__=l,l=o}else this.v&&((o={}).__data__=Se(l),l=o);t.j.push(new class{constructor(l,t){this.g=l,this.map=t}}(t.fb++,l)),3==t.H&&kl(t)},Ns.prototype.N=function(){this.g.h=null,delete this.j,yd(this.g),delete this.g,Ns.$.N.call(this)},wt(Ta,_a),wt(Vl,co),wt(ba,Ll),ba.prototype.Ba=function(){Un(this.g,"a")},ba.prototype.Aa=function(l){Un(this.g,new Ta(l))},ba.prototype.za=function(l){Un(this.g,new Vl)},ba.prototype.ya=function(){Un(this.g,"b")},wt(Ho,function Ji(){this.blockSize=-1}),Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(l,t){void 0===t&&(t=l.length);for(var o=t-this.blockSize,c=this.m,f=this.h,_=0;_<t;){if(0==f)for(;_<=o;)Ca(this,l,_),_+=this.blockSize;if("string"==typeof l){for(;_<t;)if(c[f++]=l.charCodeAt(_++),f==this.blockSize){Ca(this,c),f=0;break}}else for(;_<t;)if(c[f++]=l[_++],f==this.blockSize){Ca(this,c),f=0;break}}this.h=f,this.i+=t},Ho.prototype.l=function(){var l=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);l[0]=128;for(var t=1;t<l.length-8;++t)l[t]=0;var o=8*this.i;for(t=l.length-8;t<l.length;++t)l[t]=255&o,o/=256;for(this.j(l),l=Array(16),t=o=0;4>t;++t)for(var c=0;32>c;c+=8)l[o++]=this.g[t]>>>c&255;return l};var sa={};function _l(l){return-128<=l&&128>l?function En(l,t){var o=sa;return Object.prototype.hasOwnProperty.call(o,l)?o[l]:o[l]=t(l)}(l,function(t){return new di([0|t],0>t?-1:0)}):new di([0|l],0>l?-1:0)}function fs(l){if(isNaN(l)||!isFinite(l))return oa;if(0>l)return ps(fs(-l));for(var t=[],o=1,c=0;l>=o;c++)t[c]=l/o|0,o*=Ul;return new di(t,0)}var Ul=4294967296,oa=_l(0),yl=_l(1),fu=_l(16777216);function Da(l){if(0!=l.h)return!1;for(var t=0;t<l.g.length;t++)if(0!=l.g[t])return!1;return!0}function go(l){return-1==l.h}function ps(l){for(var t=l.g.length,o=[],c=0;c<t;c++)o[c]=~l.g[c];return new di(o,~l.h).add(yl)}function za(l,t){return l.add(ps(t))}function pu(l,t){for(;(65535&l[t])!=l[t];)l[t+1]+=l[t]>>>16,l[t]&=65535,t++}function Ga(l,t){this.g=l,this.h=t}function qa(l,t){if(Da(t))throw Error("division by zero");if(Da(l))return new Ga(oa,oa);if(go(l))return t=qa(ps(l),t),new Ga(ps(t.g),ps(t.h));if(go(t))return t=qa(l,ps(t)),new Ga(ps(t.g),t.h);if(30<l.g.length){if(go(l)||go(t))throw Error("slowDivide_ only works with positive integers.");for(var o=yl,c=t;0>=c.X(l);)o=oc(o),c=oc(c);var f=Aa(o,1),_=Aa(c,1);for(c=Aa(c,2),o=Aa(o,2);!Da(c);){var I=_.add(c);0>=I.X(l)&&(f=f.add(o),_=I),c=Aa(c,1),o=Aa(o,1)}return t=za(l,f.R(t)),new Ga(f,t)}for(f=oa;0<=l.X(t);){for(o=Math.max(1,Math.floor(l.ea()/t.ea())),c=48>=(c=Math.ceil(Math.log(o)/Math.LN2))?1:Math.pow(2,c-48),I=(_=fs(o)).R(t);go(I)||0<I.X(l);)I=(_=fs(o-=c)).R(t);Da(_)&&(_=yl),f=f.add(_),l=za(l,I)}return new Ga(f,l)}function oc(l){for(var t=l.g.length+1,o=[],c=0;c<t;c++)o[c]=l.D(c)<<1|l.D(c-1)>>>31;return new di(o,l.h)}function Aa(l,t){var o=t>>5;t%=32;for(var c=l.g.length-o,f=[],_=0;_<c;_++)f[_]=0<t?l.D(_+o)>>>t|l.D(_+o+1)<<32-t:l.D(_+o);return new di(f,l.h)}(ve=di.prototype).ea=function(){if(go(this))return-ps(this).ea();for(var l=0,t=1,o=0;o<this.g.length;o++){var c=this.D(o);l+=(0<=c?c:Ul+c)*t,t*=Ul}return l},ve.toString=function(l){if(2>(l=l||10)||36<l)throw Error("radix out of range: "+l);if(Da(this))return"0";if(go(this))return"-"+ps(this).toString(l);for(var t=fs(Math.pow(l,6)),o=this,c="";;){var f=qa(o,t).g,_=((0<(o=za(o,f.R(t))).g.length?o.g[0]:o.h)>>>0).toString(l);if(Da(o=f))return _+c;for(;6>_.length;)_="0"+_;c=_+c}},ve.D=function(l){return 0>l?0:l<this.g.length?this.g[l]:this.h},ve.X=function(l){return go(l=za(this,l))?-1:Da(l)?0:1},ve.abs=function(){return go(this)?ps(this):this},ve.add=function(l){for(var t=Math.max(this.g.length,l.g.length),o=[],c=0,f=0;f<=t;f++){var _=c+(65535&this.D(f))+(65535&l.D(f)),I=(_>>>16)+(this.D(f)>>>16)+(l.D(f)>>>16);c=I>>>16,o[f]=(I&=65535)<<16|(_&=65535)}return new di(o,-2147483648&o[o.length-1]?-1:0)},ve.R=function(l){if(Da(this)||Da(l))return oa;if(go(this))return go(l)?ps(this).R(ps(l)):ps(ps(this).R(l));if(go(l))return ps(this.R(ps(l)));if(0>this.X(fu)&&0>l.X(fu))return fs(this.ea()*l.ea());for(var t=this.g.length+l.g.length,o=[],c=0;c<2*t;c++)o[c]=0;for(c=0;c<this.g.length;c++)for(var f=0;f<l.g.length;f++){var _=this.D(c)>>>16,I=65535&this.D(c),N=l.D(f)>>>16,H=65535&l.D(f);o[2*c+2*f]+=I*H,pu(o,2*c+2*f),o[2*c+2*f+1]+=_*H,pu(o,2*c+2*f+1),o[2*c+2*f+1]+=I*N,pu(o,2*c+2*f+1),o[2*c+2*f+2]+=_*N,pu(o,2*c+2*f+2)}for(c=0;c<t;c++)o[c]=o[2*c+1]<<16|o[2*c];for(c=t;c<2*t;c++)o[c]=0;return new di(o,0)},ve.gb=function(l){return qa(this,l).h},ve.and=function(l){for(var t=Math.max(this.g.length,l.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)&l.D(c);return new di(o,this.h&l.h)},ve.or=function(l){for(var t=Math.max(this.g.length,l.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)|l.D(c);return new di(o,this.h|l.h)},ve.xor=function(l){for(var t=Math.max(this.g.length,l.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)^l.D(c);return new di(o,this.h^l.h)},Fl.prototype.createWebChannel=Fl.prototype.g,Ns.prototype.send=Ns.prototype.u,Ns.prototype.open=Ns.prototype.m,Ns.prototype.close=Ns.prototype.close,fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,Ss.COMPLETE="complete",bi.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",hr.prototype.listen=hr.prototype.O,wr.prototype.listenOnce=wr.prototype.P,wr.prototype.getLastError=wr.prototype.Sa,wr.prototype.getLastErrorCode=wr.prototype.Ia,wr.prototype.getStatus=wr.prototype.da,wr.prototype.getResponseJson=wr.prototype.Wa,wr.prototype.getResponseText=wr.prototype.ja,wr.prototype.send=wr.prototype.ha,wr.prototype.setWithCredentials=wr.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,di.prototype.add=di.prototype.add,di.prototype.multiply=di.prototype.R,di.prototype.modulo=di.prototype.gb,di.prototype.compare=di.prototype.X,di.prototype.toNumber=di.prototype.ea,di.prototype.toString=di.prototype.toString,di.prototype.getBits=di.prototype.D,di.fromNumber=fs,di.fromString=function Fu(l,t){if(0==l.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==l.charAt(0))return ps(Fu(l.substring(1),t));if(0<=l.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=fs(Math.pow(t,8)),c=oa,f=0;f<l.length;f+=8){var _=Math.min(8,l.length-f),I=parseInt(l.substring(f,f+_),t);8>_?(_=fs(Math.pow(t,_)),c=c.R(_).add(fs(I))):c=(c=c.R(o)).add(fs(I))}return c};var Vu=Ie.createWebChannelTransport=function(){return new Fl},x=Ie.getStatEventTarget=function(){return mi()},G=Ie.ErrorCode=fi,me=Ie.EventType=Ss,B=Ie.Event=cn,he=Ie.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pe=Ie.FetchXmlHttpFactory=ri,Et=Ie.WebChannel=bi,Jt=Ie.XhrIo=wr,Mr=Ie.Md5=Ho,Gr=Ie.Integer=di;const Xr="@firebase/firestore";class xn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let ii="9.23.0";const Ir=new _e.Yd("@firebase/firestore");function Ui(){return Ir.logLevel}function ks(l){Ir.setLogLevel(l)}function Nt(l,...t){if(Ir.logLevel<=_e.in.DEBUG){const o=t.map(as);Ir.debug(`Firestore (${ii}): ${l}`,...o)}}function ei(l,...t){if(Ir.logLevel<=_e.in.ERROR){const o=t.map(as);Ir.error(`Firestore (${ii}): ${l}`,...o)}}function $i(l,...t){if(Ir.logLevel<=_e.in.WARN){const o=t.map(as);Ir.warn(`Firestore (${ii}): ${l}`,...o)}}function as(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function dn(l="Unexpected state"){const t=`FIRESTORE (${ii}) INTERNAL ASSERTION FAILED: `+l;throw ei(t),new Error(t)}function sn(l,t){l||dn()}function ai(l,t){l||dn()}function an(l,t){return l}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends m.ZR{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}}class Ed{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Wa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(xn.UNAUTHENTICATED))}shutdown(){}}class $o{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,o){this.changeListener=o,t.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Vh{constructor(t){this.t=t,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){var c=this;let f=this.i;const _=Q=>this.i!==f?(f=this.i,o(Q)):Promise.resolve();let I=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new ws,t.enqueueRetryable(()=>_(this.currentUser))};const N=()=>{const Q=I;t.enqueueRetryable((0,w.Z)(function*(){yield Q.promise,yield _(c.currentUser)}))},H=Q=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(Q=>H(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?H(Q):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new ws)}},0),N()}getToken(){const t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==t?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(sn("string"==typeof c.accessToken),new Ed(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return sn(null===t||"string"==typeof t),new xn(t)}}class gu{constructor(t,o,c){this.h=t,this.l=o,this.m=c,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ka{constructor(t,o,c){this.h=t,this.l=o,this.m=c}getToken(){return Promise.resolve(new gu(this.h,this.l,this.m))}start(t,o){t.enqueueRetryable(()=>o(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uu{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uh{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,o){const c=_=>{null!=_.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const I=_.token!==this.T;return this.T=_.token,Nt("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?o(_.token):Promise.resolve()};this.o=_=>{t.enqueueRetryable(()=>c(_))};const f=_=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.I.onInit(_=>f(_)),setTimeout(()=>{if(!this.appCheck){const _=this.I.getImmediate({optional:!0});_?f(_):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(sn("string"==typeof o.token),this.T=o.token,new Uu(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bh(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(o);else for(let c=0;c<l;c++)o[c]=Math.floor(256*Math.random());return o}class Ps{static A(){const o=62*Math.floor(256/62);let c="";for(;c.length<20;){const f=Bh(40);for(let _=0;_<f.length;++_)c.length<20&&f[_]<o&&(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[_]%62))}return c}}function or(l,t){return l<t?-1:l>t?1:0}function Bu(l,t,o){return l.length===t.length&&l.every((c,f)=>o(c,t[f]))}function ir(l){return l+"\0"}class Pi{constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<-62135596800)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Pi.fromMillis(Date.now())}static fromDate(t){return Pi.fromMillis(t.getTime())}static fromMillis(t){const o=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*o));return new Pi(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?or(this.nanoseconds,t.nanoseconds):or(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mn(t)}static min(){return new Mn(new Pi(0,0))}static max(){return new Mn(new Pi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zo{constructor(t,o,c){void 0===o?o=0:o>t.length&&dn(),void 0===c?c=t.length-o:c>t.length-o&&dn(),this.segments=t,this.offset=o,this.len=c}get length(){return this.len}isEqual(t){return 0===zo.comparator(this,t)}child(t){const o=this.segments.slice(this.offset,this.limit());return t instanceof zo?t.forEach(c=>{o.push(c)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,c=this.limit();o<c;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){const c=Math.min(t.length,o.length);for(let f=0;f<c;f++){const _=t.get(f),I=o.get(f);if(_<I)return-1;if(_>I)return 1}return t.length<o.length?-1:t.length>o.length?1:0}}class Zn extends zo{construct(t,o,c){return new Zn(t,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const o=[];for(const c of t){if(c.indexOf("//")>=0)throw new Dt(lt.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(f=>f.length>0))}return new Zn(o)}static emptyPath(){return new Zn([])}}const Lf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends zo{construct(t,o,c){return new Ar(t,o,c)}static isValidIdentifier(t){return Lf.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(t){const o=[];let c="",f=0;const _=()=>{if(0===c.length)throw new Dt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let I=!1;for(;f<t.length;){const N=t[f];if("\\"===N){if(f+1===t.length)throw new Dt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const H=t[f+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new Dt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=H,f+=2}else"`"===N?(I=!I,f++):"."!==N||I?(c+=N,f++):(_(),f++)}if(_(),I)throw new Dt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ar(o)}static emptyPath(){return new Ar([])}}class tn{constructor(t){this.path=t}static fromPath(t){return new tn(Zn.fromString(t))}static fromName(t){return new tn(Zn.fromString(t).popFirst(5))}static empty(){return new tn(Zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Zn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,o){return Zn.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tn(new Zn(t.slice()))}}class vl{constructor(t,o,c,f){this.indexId=t,this.collectionGroup=o,this.fields=c,this.indexState=f}}function So(l){return l.fields.find(t=>2===t.kind)}function Bl(l){return l.fields.filter(t=>2!==t.kind)}vl.UNKNOWN_ID=-1;class El{constructor(t,o){this.fieldPath=t,this.kind=o}}class Fr{constructor(t,o){this.sequenceNumber=t,this.offset=o}static empty(){return new Fr(0,yi.min())}}function wl(l,t){const o=l.toTimestamp().seconds,c=l.toTimestamp().nanoseconds+1,f=Mn.fromTimestamp(1e9===c?new Pi(o+1,0):new Pi(o,c));return new yi(f,tn.empty(),t)}function Hc(l){return new yi(l.readTime,l.key,-1)}class yi{constructor(t,o,c){this.readTime=t,this.documentKey=o,this.largestBatchId=c}static min(){return new yi(Mn.min(),tn.empty(),-1)}static max(){return new yi(Mn.max(),tn.empty(),-1)}}function xo(l,t){let o=l.readTime.compareTo(t.readTime);return 0!==o?o:(o=tn.comparator(l.documentKey,t.documentKey),0!==o?o:or(l.largestBatchId,t.largestBatchId))}const un="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ro{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Kn(l){return Za.apply(this,arguments)}function Za(){return Za=(0,w.Z)(function*(l){if(l.code!==lt.FAILED_PRECONDITION||l.message!==un)throw l;Nt("LocalStore","Unexpectedly lost primary lease")}),Za.apply(this,arguments)}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(t){return this.next(void 0,t)}next(t,o){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(t,this.result):new rt((c,f)=>{this.nextCallback=_=>{this.wrapSuccess(t,_).next(c,f)},this.catchCallback=_=>{this.wrapFailure(o,_).next(c,f)}})}toPromise(){return new Promise((t,o)=>{this.next(t,o)})}wrapUserFunction(t){try{const o=t();return o instanceof rt?o:rt.resolve(o)}catch(o){return rt.reject(o)}}wrapSuccess(t,o){return t?this.wrapUserFunction(()=>t(o)):rt.resolve(o)}wrapFailure(t,o){return t?this.wrapUserFunction(()=>t(o)):rt.reject(o)}static resolve(t){return new rt((o,c)=>{o(t)})}static reject(t){return new rt((o,c)=>{c(t)})}static waitFor(t){return new rt((o,c)=>{let f=0,_=0,I=!1;t.forEach(N=>{++f,N.next(()=>{++_,I&&_===f&&o()},H=>c(H))}),I=!0,_===f&&o()})}static or(t){let o=rt.resolve(!1);for(const c of t)o=o.next(f=>f?rt.resolve(f):c());return o}static forEach(t,o){const c=[];return t.forEach((f,_)=>{c.push(o.call(this,f,_))}),this.waitFor(c)}static mapArray(t,o){return new rt((c,f)=>{const _=t.length,I=new Array(_);let N=0;for(let H=0;H<_;H++){const Q=H;o(t[Q]).next(ue=>{I[Q]=ue,++N,N===_&&c(I)},ue=>f(ue))}})}static doWhile(t,o){return new rt((c,f)=>{const _=()=>{!0===t()?o().next(()=>{_()},f):c()};_()})}}class Xd{constructor(t,o){this.action=t,this.transaction=o,this.aborted=!1,this.v=new ws,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{o.error?this.v.reject(new Po(t,o.error)):this.v.resolve()},this.transaction.onerror=c=>{const f=V(c.target.error);this.v.reject(new Po(t,f))}}static open(t,o,c,f){try{return new Xd(o,t.transaction(f,c))}catch(_){throw new Po(o,_)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Nt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const o=this.transaction.objectStore(t);return new ls(o)}}class mo{constructor(t,o,c){this.name=t,this.version=o,this.V=c,12.2===mo.S((0,m.z$)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Nt("SimpleDb","Removing database:",t),D(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,m.hl)())return!1;if(mo.C())return!0;const t=(0,m.z$)(),o=mo.S(t),c=0<o&&o<10,f=mo.N(t),_=0<f&&f<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||c||_)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,o){return t.store(o)}static S(t){const o=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static N(t){const o=t.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}$(t){var o=this;return(0,w.Z)(function*(){return o.db||(Nt("SimpleDb","Opening database:",o.name),o.db=yield new Promise((c,f)=>{const _=indexedDB.open(o.name,o.version);_.onsuccess=I=>{c(I.target.result)},_.onblocked=()=>{f(new Po(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=I=>{const N=I.target.error;f("VersionError"===N.name?new Dt(lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Dt(lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Po(t,N))},_.onupgradeneeded=I=>{Nt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',I.oldVersion),o.V.O(I.target.result,_.transaction,I.oldVersion,o.version).next(()=>{Nt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.F&&(o.db.onversionchange=c=>o.F(c)),o.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=o=>t(o))}runTransaction(t,o,c,f){var _=this;return(0,w.Z)(function*(){const I="readonly"===o;let N=0;for(;;){++N;try{_.db=yield _.$(t);const H=Xd.open(_.db,t,I?"readonly":"readwrite",c),Q=f(H).next(ue=>(H.P(),ue)).catch(ue=>(H.abort(ue),rt.reject(ue))).toPromise();return Q.catch(()=>{}),yield H.R,Q}catch(H){const Q=H,ue="FirebaseError"!==Q.name&&N<3;if(Nt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ue),_.close(),!ue)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Hs{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return D(this.L.delete())}}class Po extends Dt{constructor(t,o){super(lt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function Il(l){return"IndexedDbTransactionError"===l.name}class ls{constructor(t){this.store=t}put(t,o){let c;return void 0!==o?(Nt("SimpleDb","PUT",this.store.name,t,o),c=this.store.put(o,t)):(Nt("SimpleDb","PUT",this.store.name,"<auto-key>",t),c=this.store.put(t)),D(c)}add(t){return Nt("SimpleDb","ADD",this.store.name,t,t),D(this.store.add(t))}get(t){return D(this.store.get(t)).next(o=>(void 0===o&&(o=null),Nt("SimpleDb","GET",this.store.name,t,o),o))}delete(t){return Nt("SimpleDb","DELETE",this.store.name,t),D(this.store.delete(t))}count(){return Nt("SimpleDb","COUNT",this.store.name),D(this.store.count())}j(t,o){const c=this.options(t,o);if(c.index||"function"!=typeof this.store.getAll){const f=this.cursor(c),_=[];return this.W(f,(I,N)=>{_.push(N)}).next(()=>_)}{const f=this.store.getAll(c.range);return new rt((_,I)=>{f.onerror=N=>{I(N.target.error)},f.onsuccess=N=>{_(N.target.result)}})}}H(t,o){const c=this.store.getAll(t,null===o?void 0:o);return new rt((f,_)=>{c.onerror=I=>{_(I.target.error)},c.onsuccess=I=>{f(I.target.result)}})}J(t,o){Nt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(t,o);c.Y=!1;const f=this.cursor(c);return this.W(f,(_,I,N)=>N.delete())}X(t,o){let c;o?c=t:(c={},o=t);const f=this.cursor(c);return this.W(f,o)}Z(t){const o=this.cursor({});return new rt((c,f)=>{o.onerror=_=>{const I=V(_.target.error);f(I)},o.onsuccess=_=>{const I=_.target.result;I?t(I.primaryKey,I.value).next(N=>{N?I.continue():c()}):c()}})}W(t,o){const c=[];return new rt((f,_)=>{t.onerror=I=>{_(I.target.error)},t.onsuccess=I=>{const N=I.target.result;if(!N)return void f();const H=new Hs(N),Q=o(N.primaryKey,N.value,H);if(Q instanceof rt){const ue=Q.catch(Ce=>(H.done(),rt.reject(Ce)));c.push(ue)}H.isDone?f():null===H.K?N.continue():N.continue(H.K)}}).next(()=>rt.waitFor(c))}options(t,o){let c;return void 0!==t&&("string"==typeof t?c=t:o=t),{index:c,range:o}}cursor(t){let o="next";if(t.reverse&&(o="prev"),t.index){const c=this.store.index(t.index);return t.Y?c.openKeyCursor(t.range,o):c.openCursor(t.range,o)}return this.store.openCursor(t.range,o)}}function D(l){return new rt((t,o)=>{l.onsuccess=c=>{t(c.target.result)},l.onerror=c=>{const f=V(c.target.error);o(f)}})}let P=!1;function V(l){const t=mo.S((0,m.z$)());if(t>=12.2&&t<13){const o="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(o)>=0){const c=new Dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return P||(P=!0,setTimeout(()=>{throw c},0)),c}}return l}class O{constructor(t,o){this.asyncQueue=t,this.tt=o,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var o=this;Nt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,w.Z)(function*(){o.task=null;try{Nt("IndexBackiller",`Documents written: ${yield o.tt.nt()}`)}catch(c){Il(c)?Nt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield Kn(c)}yield o.et(6e4)}))}}class z{constructor(t,o){this.localStore=t,this.persistence=o}nt(t=50){var o=this;return(0,w.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>o.st(c,t))})()}st(t,o){const c=new Set;let f=o,_=!0;return rt.doWhile(()=>!0===_&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(I=>{if(null!==I&&!c.has(I))return Nt("IndexBackiller",`Processing collection: ${I}`),this.it(t,I,f).next(N=>{f-=N,c.add(I)});_=!1})).next(()=>o-f)}it(t,o,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,o).next(f=>this.localStore.localDocuments.getNextDocuments(t,o,f,c).next(_=>{const I=_.changes;return this.localStore.indexManager.updateIndexEntries(t,I).next(()=>this.rt(f,_)).next(N=>(Nt("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(t,o,N))).next(()=>I.size)}))}rt(t,o){let c=t;return o.changes.forEach((f,_)=>{const I=Hc(_);xo(I,c)>0&&(c=I)}),new yi(c.readTime,c.documentKey,Math.max(o.batchId,t.largestBatchId))}}let re=(()=>{class l{constructor(o,c){this.previousValue=o,c&&(c.sequenceNumberHandler=f=>this.ot(f),this.ut=f=>c.writeSequenceNumber(f))}ot(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue}next(){const o=++this.previousValue;return this.ut&&this.ut(o),o}}return l.ct=-1,l})();function pe(l){return null==l}function ze(l){return 0===l&&1/l==-1/0}function Wt(l){return"number"==typeof l&&Number.isInteger(l)&&!ze(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function ct(l){let t="";for(let o=0;o<l.length;o++)t.length>0&&(t=Qn(t)),t=kn(l.get(o),t);return Qn(t)}function kn(l,t){let o=t;const c=l.length;for(let f=0;f<c;f++){const _=l.charAt(f);switch(_){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=_}}return o}function Qn(l){return l+"\x01\x01"}function si(l){const t=l.length;if(sn(t>=2),2===t)return sn("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Zn.emptyPath();const o=t-2,c=[];let f="";for(let _=0;_<t;){const I=l.indexOf("\x01",_);switch((I<0||I>o)&&dn(),l.charAt(I+1)){case"\x01":const N=l.substring(_,I);let H;0===f.length?H=N:(f+=N,H=f,f=""),c.push(H);break;case"\x10":f+=l.substring(_,I),f+="\0";break;case"\x11":f+=l.substring(_,I+1);break;default:dn()}_=I+2}return new Zn(c)}const ti=["userId","batchId"];function $s(l,t){return[l,ct(t)]}function Mo(l,t,o){return[l,ct(t),o]}const Qa={},aa=["prefixPath","collectionGroup","readTime","documentId"],lc=["prefixPath","collectionGroup","documentId"],_o=["collectionGroup","readTime","prefixPath","documentId"],Ya=["canonicalId","targetId"],Xi=["targetId","path"],Tl=["path","targetId"],wd=["collectionId","parent"],Ja=["indexId","uid"],eh=["uid","sequenceNumber"],th=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uc=["indexId","uid","orderedDocumentKey"],jl=["userId","collectionPath","documentId"],mu=["userId","collectionPath","largestBatchId"],la=["userId","collectionGroup","largestBatchId"],_u=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jh=[..._u,"documentOverlays"],Hl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$c=Hl,Hh=[...$c,"indexConfiguration","indexState","indexEntries"];class cc extends Ro{constructor(t,o){super(),this.ht=t,this.currentSequenceNumber=o}}function zs(l,t){const o=an(l);return mo.M(o.ht,t)}function ua(l){let t=0;for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&t++;return t}function ca(l,t){for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&t(o,l[o])}function $h(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class vi{constructor(t,o){this.comparator=t,this.root=o||Gs.EMPTY}insert(t,o){return new vi(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,Gs.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gs.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(t,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(t){let o=0,c=this.root;for(;!c.isEmpty();){const f=this.comparator(t,c.key);if(0===f)return o+c.left.size;f<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,c)=>(t(o,c),!1))}toString(){const t=[];return this.inorderTraversal((o,c)=>(t.push(`${o}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yu(this.root,t,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yu(this.root,t,this.comparator,!0)}}class yu{constructor(t,o,c,f){this.isReverse=f,this.nodeStack=[];let _=1;for(;!t.isEmpty();)if(_=o?c(t.key,o):1,o&&f&&(_*=-1),_<0)t=this.isReverse?t.left:t.right;else{if(0===_){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gs{constructor(t,o,c,f,_){this.key=t,this.value=o,this.color=c??Gs.RED,this.left=f??Gs.EMPTY,this.right=_??Gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,c,f,_){return new Gs(t??this.key,o??this.value,c??this.color,f??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,c){let f=this;const _=c(t,f.key);return f=_<0?f.copy(null,null,null,f.left.insert(t,o,c),null):0===_?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(t,o,c)),f.fixUp()}removeMin(){if(this.left.isEmpty())return Gs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let c,f=this;if(o(t,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(t,o),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===o(t,f.key)){if(f.right.isEmpty())return Gs.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(t,o))}return f.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const t=this.left.check();if(t!==this.right.check())throw dn();return t+(this.isRed()?0:1)}}Gs.EMPTY=null,Gs.RED=!0,Gs.BLACK=!1,Gs.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(l,t,o,c,f){return this}insert(l,t,o){return new Gs(l,t)}remove(l,t){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class es{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,c)=>(t(o),!1))}forEachInRange(t,o){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const f=c.getNext();if(this.comparator(f.key,t[1])>=0)return;o(f.key)}}forEachWhile(t,o){let c;for(c=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new zh(this.data.getIterator())}getIteratorFrom(t){return new zh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(c=>{o=o.add(c)}),o}isEqual(t){if(!(t instanceof es)||this.size!==t.size)return!1;const o=this.data.getIterator(),c=t.data.getIterator();for(;o.hasNext();){const f=o.getNext().key,_=c.getNext().key;if(0!==this.comparator(f,_))return!1}return!0}toArray(){const t=[];return this.forEach(o=>{t.push(o)}),t}toString(){const t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){const o=new es(this.comparator);return o.data=t,o}}class zh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zc(l){return l.hasNext()?l.getNext():void 0}class da{constructor(t){this.fields=t,t.sort(Ar.comparator)}static empty(){return new da([])}unionWith(t){let o=new es(Ar.comparator);for(const c of this.fields)o=o.add(c);for(const c of t)o=o.add(c);return new da(o.toArray())}covers(t){for(const o of this.fields)if(o.isPrefixOf(t))return!0;return!1}isEqual(t){return Bu(this.fields,t.fields,(o,c)=>o.isEqual(c))}}class Gc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ju(){return typeof atob<"u"}class Is{constructor(t){this.binaryString=t}static fromBase64String(t){const o=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Gc("Invalid base64 string: "+f):f}}(t);return new Is(o)}static fromUint8Array(t){const o=function(c){let f="";for(let _=0;_<c.length;++_)f+=String.fromCharCode(c[_]);return f}(t);return new Is(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let c=0;c<t.length;c++)o[c]=t.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return or(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const Id=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(l){if(sn(!!l),"string"==typeof l){let t=0;const o=Id.exec(l);if(sn(!!o),o[1]){let f=o[1];f=(f+"000000000").substr(0,9),t=Number(f)}const c=new Date(l);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:Mi(l.seconds),nanos:Mi(l.nanos)}}function Mi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function $l(l){return"string"==typeof l?Is.fromBase64String(l):Is.fromUint8Array(l)}function Ts(l){var t,o;return"server_timestamp"===(null===(o=((null===(t=l?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function bs(l){const t=l.mapValue.fields.__previous_value__;return Ts(t)?bs(t):t}function Hu(l){const t=Xa(l.mapValue.fields.__local_write_time__.timestampValue);return new Pi(t.seconds,t.nanos)}class Go{constructor(t,o,c,f,_,I,N,H,Q){this.databaseId=t,this.appId=o,this.persistenceKey=c,this.host=f,this.ssl=_,this.forceLongPolling=I,this.autoDetectLongPolling=N,this.longPollingOptions=H,this.useFetchStreams=Q}}class zl{constructor(t,o){this.projectId=t,this.database=o||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$u={nullValue:"NULL_VALUE"};function el(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ts(l)?4:Gh(l)?9007199254740991:10:dn()}function qo(l,t){if(l===t)return!0;const o=el(l);if(o!==el(t))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return Hu(l).isEqual(Hu(t));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const _=Xa(c.timestampValue),I=Xa(f.timestampValue);return _.seconds===I.seconds&&_.nanos===I.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return f=t,$l(l.bytesValue).isEqual($l(f.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(c,f){return Mi(c.geoPointValue.latitude)===Mi(f.geoPointValue.latitude)&&Mi(c.geoPointValue.longitude)===Mi(f.geoPointValue.longitude)}(l,t);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return Mi(c.integerValue)===Mi(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const _=Mi(c.doubleValue),I=Mi(f.doubleValue);return _===I?ze(_)===ze(I):isNaN(_)&&isNaN(I)}return!1}(l,t);case 9:return Bu(l.arrayValue.values||[],t.arrayValue.values||[],qo);case 10:return function(c,f){const _=c.mapValue.fields||{},I=f.mapValue.fields||{};if(ua(_)!==ua(I))return!1;for(const N in _)if(_.hasOwnProperty(N)&&(void 0===I[N]||!qo(_[N],I[N])))return!1;return!0}(l,t);default:return dn()}var f}function Gl(l,t){return void 0!==(l.values||[]).find(o=>qo(o,t))}function bl(l,t){if(l===t)return 0;const o=el(l),c=el(t);if(o!==c)return or(o,c);switch(o){case 0:case 9007199254740991:return 0;case 1:return or(l.booleanValue,t.booleanValue);case 2:return function(f,_){const I=Mi(f.integerValue||f.doubleValue),N=Mi(_.integerValue||_.doubleValue);return I<N?-1:I>N?1:I===N?0:isNaN(I)?isNaN(N)?0:-1:1}(l,t);case 3:return ql(l.timestampValue,t.timestampValue);case 4:return ql(Hu(l),Hu(t));case 5:return or(l.stringValue,t.stringValue);case 6:return function(f,_){const I=$l(f),N=$l(_);return I.compareTo(N)}(l.bytesValue,t.bytesValue);case 7:return function(f,_){const I=f.split("/"),N=_.split("/");for(let H=0;H<I.length&&H<N.length;H++){const Q=or(I[H],N[H]);if(0!==Q)return Q}return or(I.length,N.length)}(l.referenceValue,t.referenceValue);case 8:return function(f,_){const I=or(Mi(f.latitude),Mi(_.latitude));return 0!==I?I:or(Mi(f.longitude),Mi(_.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return function(f,_){const I=f.values||[],N=_.values||[];for(let H=0;H<I.length&&H<N.length;++H){const Q=bl(I[H],N[H]);if(Q)return Q}return or(I.length,N.length)}(l.arrayValue,t.arrayValue);case 10:return function(f,_){if(f===ha.mapValue&&_===ha.mapValue)return 0;if(f===ha.mapValue)return 1;if(_===ha.mapValue)return-1;const I=f.fields||{},N=Object.keys(I),H=_.fields||{},Q=Object.keys(H);N.sort(),Q.sort();for(let ue=0;ue<N.length&&ue<Q.length;++ue){const Ce=or(N[ue],Q[ue]);if(0!==Ce)return Ce;const nt=bl(I[N[ue]],H[Q[ue]]);if(0!==nt)return nt}return or(N.length,Q.length)}(l.mapValue,t.mapValue);default:throw dn()}}function ql(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return or(l,t);const o=Xa(l),c=Xa(t),f=or(o.seconds,c.seconds);return 0!==f?f:or(o.nanos,c.nanos)}function Sa(l){return vu(l)}function vu(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(c){const f=Xa(c);return`time(${f.seconds},${f.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?$l(l.bytesValue).toBase64():"referenceValue"in l?tn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(t=l.geoPointValue).latitude},${t.longitude})`:"arrayValue"in l?function(c){let f="[",_=!0;for(const I of c.values||[])_?_=!1:f+=",",f+=vu(I);return f+"]"}(l.arrayValue):"mapValue"in l?function(c){const f=Object.keys(c.fields||{}).sort();let _="{",I=!0;for(const N of f)I?I=!1:_+=",",_+=`${N}:${vu(c.fields[N])}`;return _+"}"}(l.mapValue):dn();var t}function qc(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function zu(l){return!!l&&"integerValue"in l}function tl(l){return!!l&&"arrayValue"in l}function Wc(l){return!!l&&"nullValue"in l}function nh(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Kl(l){return!!l&&"mapValue"in l}function Wo(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return ca(l.mapValue.fields,(o,c)=>t.mapValue.fields[o]=Wo(c)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let o=0;o<(l.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=Wo(l.arrayValue.values[o]);return t}return Object.assign({},l)}function Gh(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function qs(l){return"nullValue"in l?$u:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?qc(zl.empty(),tn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:dn()}function Gu(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?qc(zl.empty(),tn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?ha:dn()}function Kc(l,t){const o=bl(l.value,t.value);return 0!==o?o:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function Zl(l,t){const o=bl(l.value,t.value);return 0!==o?o:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class Oo{constructor(t){this.value=t}static empty(){return new Oo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let o=this.value;for(let c=0;c<t.length-1;++c)if(o=(o.mapValue.fields||{})[t.get(c)],!Kl(o))return null;return o=(o.mapValue.fields||{})[t.lastSegment()],o||null}}set(t,o){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wo(o)}setAll(t){let o=Ar.emptyPath(),c={},f=[];t.forEach((I,N)=>{if(!o.isImmediateParentOf(N)){const H=this.getFieldsMap(o);this.applyChanges(H,c,f),c={},f=[],o=N.popLast()}I?c[N.lastSegment()]=Wo(I):f.push(N.lastSegment())});const _=this.getFieldsMap(o);this.applyChanges(_,c,f)}delete(t){const o=this.field(t.popLast());Kl(o)&&o.mapValue.fields&&delete o.mapValue.fields[t.lastSegment()]}isEqual(t){return qo(this.value,t.value)}getFieldsMap(t){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<t.length;++c){let f=o.mapValue.fields[t.get(c)];Kl(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},o.mapValue.fields[t.get(c)]=f),o=f}return o.mapValue.fields}applyChanges(t,o,c){ca(o,(f,_)=>t[f]=_);for(const f of c)delete t[f]}clone(){return new Oo(Wo(this.value))}}function dc(l){const t=[];return ca(l.fields,(o,c)=>{const f=new Ar([o]);if(Kl(c)){const _=dc(c.mapValue).fields;if(0===_.length)t.push(f);else for(const I of _)t.push(f.child(I))}else t.push(f)}),new da(t)}class Li{constructor(t,o,c,f,_,I,N){this.key=t,this.documentType=o,this.version=c,this.readTime=f,this.createTime=_,this.data=I,this.documentState=N}static newInvalidDocument(t){return new Li(t,0,Mn.min(),Mn.min(),Mn.min(),Oo.empty(),0)}static newFoundDocument(t,o,c,f){return new Li(t,1,o,Mn.min(),c,f,0)}static newNoDocument(t,o){return new Li(t,2,o,Mn.min(),Mn.min(),Oo.empty(),0)}static newUnknownDocument(t,o){return new Li(t,3,o,Mn.min(),Mn.min(),Oo.empty(),2)}convertToFoundDocument(t,o){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Li&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xa{constructor(t,o){this.position=t,this.inclusive=o}}function Ra(l,t,o){let c=0;for(let f=0;f<l.position.length;f++){const _=t[f],I=l.position[f];if(c=_.field.isKeyField()?tn.comparator(tn.fromName(I.referenceValue),o.key):bl(I,o.data.field(_.field)),"desc"===_.dir&&(c*=-1),0!==c)break}return c}function Ql(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let o=0;o<l.position.length;o++)if(!qo(l.position[o],t.position[o]))return!1;return!0}class R{constructor(t,o="asc"){this.field=t,this.dir=o}}function F(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class Y{}class fe extends Y{constructor(t,o,c){super(),this.field=t,this.op=o,this.value=c}static create(t,o,c){return t.isKeyField()?"in"===o||"not-in"===o?this.createKeyFieldInFilter(t,o,c):new Ks(t,o,c):"array-contains"===o?new Ko(t,c):"in"===o?new gs(t,c):"not-in"===o?new hc(t,c):"array-contains-any"===o?new eg(t,c):new fe(t,o,c)}static createKeyFieldInFilter(t,o,c){return"in"===o?new zi(t,c):new Td(t,c)}matches(t){const o=t.data.field(this.field);return"!="===this.op?null!==o&&this.matchesComparison(bl(o,this.value)):null!==o&&el(this.value)===el(o)&&this.matchesComparison(bl(o,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends Y{constructor(t,o){super(),this.filters=t,this.op=o,this.lt=null}static create(t,o){return new Te(t,o)}matches(t){return We(this)?void 0===this.filters.find(o=>!o.matches(t)):void 0!==this.filters.find(o=>o.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,o)=>t.concat(o.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(o=>o.isInequality());return null!==t?t.field:null}ft(t){for(const o of this.getFlattenedFilters())if(t(o))return o;return null}}function We(l){return"and"===l.op}function _t(l){return"or"===l.op}function ln(l){return on(l)&&We(l)}function on(l){for(const t of l.filters)if(t instanceof Te)return!1;return!0}function Rn(l){if(l instanceof fe)return l.field.canonicalString()+l.op.toString()+Sa(l.value);if(ln(l))return l.filters.map(t=>Rn(t)).join(",");{const t=l.filters.map(o=>Rn(o)).join(",");return`${l.op}(${t})`}}function fr(l,t){return l instanceof fe?(o=l,(c=t)instanceof fe&&o.op===c.op&&o.field.isEqual(c.field)&&qo(o.value,c.value)):l instanceof Te?function(o,c){return c instanceof Te&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((f,_,I)=>f&&fr(_,c.filters[I]),!0)}(l,t):void dn();var o,c}function Yn(l,t){const o=l.filters.concat(t);return Te.create(o,l.op)}function Ws(l){return l instanceof fe?`${(t=l).field.canonicalString()} ${t.op} ${Sa(t.value)}`:l instanceof Te?function(t){return t.op.toString()+" {"+t.getFilters().map(Ws).join(" ,")+"}"}(l):"Filter";var t}class Ks extends fe{constructor(t,o,c){super(t,o,c),this.key=tn.fromName(c.referenceValue)}matches(t){const o=tn.comparator(t.key,this.key);return this.matchesComparison(o)}}class zi extends fe{constructor(t,o){super(t,"in",o),this.keys=fa(0,o)}matches(t){return this.keys.some(o=>o.isEqual(t.key))}}class Td extends fe{constructor(t,o){super(t,"not-in",o),this.keys=fa(0,o)}matches(t){return!this.keys.some(o=>o.isEqual(t.key))}}function fa(l,t){var o;return((null===(o=t.arrayValue)||void 0===o?void 0:o.values)||[]).map(c=>tn.fromName(c.referenceValue))}class Ko extends fe{constructor(t,o){super(t,"array-contains",o)}matches(t){const o=t.data.field(this.field);return tl(o)&&Gl(o.arrayValue,this.value)}}class gs extends fe{constructor(t,o){super(t,"in",o)}matches(t){const o=t.data.field(this.field);return null!==o&&Gl(this.value.arrayValue,o)}}class hc extends fe{constructor(t,o){super(t,"not-in",o)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=t.data.field(this.field);return null!==o&&!Gl(this.value.arrayValue,o)}}class eg extends fe{constructor(t,o){super(t,"array-contains-any",o)}matches(t){const o=t.data.field(this.field);return!(!tl(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>Gl(this.value.arrayValue,c))}}class fc{constructor(t,o=null,c=[],f=[],_=null,I=null,N=null){this.path=t,this.collectionGroup=o,this.orderBy=c,this.filters=f,this.limit=_,this.startAt=I,this.endAt=N,this.dt=null}}function qu(l,t=null,o=[],c=[],f=null,_=null,I=null){return new fc(l,t,o,c,f,_,I)}function Eu(l){const t=an(l);if(null===t.dt){let o=t.path.canonicalString();null!==t.collectionGroup&&(o+="|cg:"+t.collectionGroup),o+="|f:",o+=t.filters.map(c=>Rn(c)).join(","),o+="|ob:",o+=t.orderBy.map(c=>{return(f=c).field.canonicalString()+f.dir;var f}).join(","),pe(t.limit)||(o+="|l:",o+=t.limit),t.startAt&&(o+="|lb:",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(c=>Sa(c)).join(",")),t.endAt&&(o+="|ub:",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(c=>Sa(c)).join(",")),t.dt=o}return t.dt}function rh(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<l.orderBy.length;o++)if(!F(l.orderBy[o],t.orderBy[o]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let o=0;o<l.filters.length;o++)if(!fr(l.filters[o],t.filters[o]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!Ql(l.startAt,t.startAt)&&Ql(l.endAt,t.endAt)}function ih(l){return tn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function tg(l,t){return l.filters.filter(o=>o instanceof fe&&o.field.isEqual(t))}function No(l,t,o){let c=$u,f=!0;for(const _ of tg(l,t)){let I=$u,N=!0;switch(_.op){case"<":case"<=":I=qs(_.value);break;case"==":case"in":case">=":I=_.value;break;case">":I=_.value,N=!1;break;case"!=":case"not-in":I=$u}Kc({value:c,inclusive:f},{value:I,inclusive:N})<0&&(c=I,f=N)}if(null!==o)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(t)){const I=o.position[_];Kc({value:c,inclusive:f},{value:I,inclusive:o.inclusive})<0&&(c=I,f=o.inclusive);break}return{value:c,inclusive:f}}function qh(l,t,o){let c=ha,f=!0;for(const _ of tg(l,t)){let I=ha,N=!0;switch(_.op){case">=":case">":I=Gu(_.value),N=!1;break;case"==":case"in":case"<=":I=_.value;break;case"<":I=_.value,N=!1;break;case"!=":case"not-in":I=ha}Zl({value:c,inclusive:f},{value:I,inclusive:N})>0&&(c=I,f=N)}if(null!==o)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(t)){const I=o.position[_];Zl({value:c,inclusive:f},{value:I,inclusive:o.inclusive})>0&&(c=I,f=o.inclusive);break}return{value:c,inclusive:f}}class Zo{constructor(t,o=null,c=[],f=[],_=null,I="F",N=null,H=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=f,this.limit=_,this.limitType=I,this.startAt=N,this.endAt=H,this.wt=null,this._t=null}}function Wh(l,t,o,c,f,_,I,N){return new Zo(l,t,o,c,f,_,I,N)}function nl(l){return new Zo(l)}function Ff(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Em(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}function S(l){for(const t of l.filters){const o=t.getFirstInequalityField();if(null!==o)return o}return null}function E(l){return null!==l.collectionGroup}function T(l){const t=an(l);if(null===t.wt){t.wt=[];const o=S(t),c=Em(t);if(null!==o&&null===c)o.isKeyField()||t.wt.push(new R(o)),t.wt.push(new R(Ar.keyField(),"asc"));else{let f=!1;for(const _ of t.explicitOrderBy)t.wt.push(_),_.field.isKeyField()&&(f=!0);if(!f){const _=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new R(Ar.keyField(),_))}}}return t.wt}function M(l){const t=an(l);if(!t._t)if("F"===t.limitType)t._t=qu(t.path,t.collectionGroup,T(t),t.filters,t.limit,t.startAt,t.endAt);else{const o=[];for(const _ of T(t))o.push(new R(_.field,"desc"===_.dir?"asc":"desc"));const c=t.endAt?new xa(t.endAt.position,t.endAt.inclusive):null,f=t.startAt?new xa(t.startAt.position,t.startAt.inclusive):null;t._t=qu(t.path,t.collectionGroup,o,t.filters,t.limit,c,f)}return t._t}function J(l,t){t.getFirstInequalityField(),S(l);const o=l.filters.concat([t]);return new Zo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),o,l.limit,l.limitType,l.startAt,l.endAt)}function le(l,t,o){return new Zo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,o,l.startAt,l.endAt)}function $e(l,t){return rh(M(l),M(t))&&l.limitType===t.limitType}function pt(l){return`${Eu(M(l))}|lt:${l.limitType}`}function Xt(l){return`Query(target=${function(t){let o=t.path.canonicalString();return null!==t.collectionGroup&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(c=>Ws(c)).join(", ")}]`),pe(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(c=>{return`${(f=c).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(c=>Sa(c)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(c=>Sa(c)).join(",")),`Target(${o})`}(M(l))}; limitType=${l.limitType})`}function Vt(l,t){return t.isFoundDocument()&&function(o,c){const f=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):tn.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(l,t)&&function(o,c){for(const f of T(o))if(!f.field.isKeyField()&&null===c.data.field(f.field))return!1;return!0}(l,t)&&function(o,c){for(const f of o.filters)if(!f.matches(c))return!1;return!0}(l,t)&&(c=t,!((o=l).startAt&&!function(f,_,I){const N=Ra(f,_,I);return f.inclusive?N<=0:N<0}(o.startAt,T(o),c)||o.endAt&&!function(f,_,I){const N=Ra(f,_,I);return f.inclusive?N>=0:N>0}(o.endAt,T(o),c)));var o,c}function Vn(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Or(l){return(t,o)=>{let c=!1;for(const f of T(l)){const _=lo(f,t,o);if(0!==_)return _;c=c||f.field.isKeyField()}return 0}}function lo(l,t,o){const c=l.field.isKeyField()?tn.comparator(t.key,o.key):function(f,_,I){const N=_.data.field(f),H=I.data.field(f);return null!==N&&null!==H?bl(N,H):dn()}(l.field,t,o);switch(l.dir){case"asc":return c;case"desc":return-1*c;default:return dn()}}class yo{constructor(t,o){this.mapKeyFn=t,this.equalsFn=o,this.inner={},this.innerSize=0}get(t){const o=this.mapKeyFn(t),c=this.inner[o];if(void 0!==c)for(const[f,_]of c)if(this.equalsFn(f,t))return _}has(t){return void 0!==this.get(t)}set(t,o){const c=this.mapKeyFn(t),f=this.inner[c];if(void 0===f)return this.inner[c]=[[t,o]],void this.innerSize++;for(let _=0;_<f.length;_++)if(this.equalsFn(f[_][0],t))return void(f[_]=[t,o]);f.push([t,o]),this.innerSize++}delete(t){const o=this.mapKeyFn(t),c=this.inner[o];if(void 0===c)return!1;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],t))return 1===c.length?delete this.inner[o]:c.splice(f,1),this.innerSize--,!0;return!1}forEach(t){ca(this.inner,(o,c)=>{for(const[f,_]of c)t(f,_)})}isEmpty(){return $h(this.inner)}size(){return this.innerSize}}const sh=new vi(tn.comparator);function Pa(){return sh}const Vf=new vi(tn.comparator);function wu(...l){let t=Vf;for(const o of l)t=t.insert(o.key,o);return t}function bd(l){let t=Vf;return l.forEach((o,c)=>t=t.insert(o,c.overlayedDocument)),t}function pa(){return Zc()}function pc(){return Zc()}function Zc(){return new yo(l=>l.toString(),(l,t)=>l.isEqual(t))}const Uf=new vi(tn.comparator),wm=new es(tn.comparator);function Tr(...l){let t=wm;for(const o of l)t=t.add(o);return t}const ng=new es(or);function rg(){return ng}function Bf(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ze(t)?"-0":t}}function J_(l){return{integerValue:""+l}}function X_(l,t){return Wt(t)?J_(t):Bf(l,t)}class jf{constructor(){this._=void 0}}function xv(l,t,o){return l instanceof Kh?function(c,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&Ts(f)&&(f=bs(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(o,t):l instanceof Zh?Tm(l,t):l instanceof Hf?fw(l,t):function(c,f){const _=Rv(c,f),I=ig(_)+ig(c.gt);return zu(_)&&zu(c.gt)?J_(I):Bf(c.serializer,I)}(l,t)}function Im(l,t,o){return l instanceof Zh?Tm(l,t):l instanceof Hf?fw(l,t):o}function Rv(l,t){return l instanceof gc?zu(o=t)||(c=o)&&"doubleValue"in c?t:{integerValue:0}:null;var c,o}class Kh extends jf{}class Zh extends jf{constructor(t){super(),this.elements=t}}function Tm(l,t){const o=bm(t);for(const c of l.elements)o.some(f=>qo(f,c))||o.push(c);return{arrayValue:{values:o}}}class Hf extends jf{constructor(t){super(),this.elements=t}}function fw(l,t){let o=bm(t);for(const c of l.elements)o=o.filter(f=>!qo(f,c));return{arrayValue:{values:o}}}class gc extends jf{constructor(t,o){super(),this.serializer=t,this.gt=o}}function ig(l){return Mi(l.integerValue||l.doubleValue)}function bm(l){return tl(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class $f{constructor(t,o){this.field=t,this.transform=o}}class Cm{constructor(t,o){this.version=t,this.transformResults=o}}class us{constructor(t,o){this.updateTime=t,this.exists=o}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qh(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class cs{}function Dm(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new Yh(l.key,us.none()):new oh(l.key,l.data,us.none());{const o=l.data,c=Oo.empty();let f=new es(Ar.comparator);for(let _ of t.fields)if(!f.has(_)){let I=o.field(_);null===I&&_.length>1&&(_=_.popLast(),I=o.field(_)),null===I?c.delete(_):c.set(_,I),f=f.add(_)}return new Iu(l.key,c,new da(f.toArray()),us.none())}}function Pv(l,t,o){l instanceof oh?function(c,f,_){const I=c.value.clone(),N=qf(c.fieldTransforms,f,_.transformResults);I.setAll(N),f.convertToFoundDocument(_.version,I).setHasCommittedMutations()}(l,t,o):l instanceof Iu?function(c,f,_){if(!Qh(c.precondition,f))return void f.convertToUnknownDocument(_.version);const I=qf(c.fieldTransforms,f,_.transformResults),N=f.data;N.setAll(ah(c)),N.setAll(I),f.convertToFoundDocument(_.version,N).setHasCommittedMutations()}(l,t,o):t.convertToNoDocument(o.version).setHasCommittedMutations()}function zf(l,t,o,c){return l instanceof oh?function(f,_,I,N){if(!Qh(f.precondition,_))return I;const H=f.value.clone(),Q=mc(f.fieldTransforms,N,_);return H.setAll(Q),_.convertToFoundDocument(_.version,H).setHasLocalMutations(),null}(l,t,o,c):l instanceof Iu?function(f,_,I,N){if(!Qh(f.precondition,_))return I;const H=mc(f.fieldTransforms,N,_),Q=_.data;return Q.setAll(ah(f)),Q.setAll(H),_.convertToFoundDocument(_.version,Q).setHasLocalMutations(),null===I?null:I.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ue=>ue.field))}(l,t,o,c):(I=o,Qh(l.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):I);var _,I}function Gf(l,t){let o=null;for(const c of l.fieldTransforms){const f=t.data.field(c.field),_=Rv(c.transform,f||null);null!=_&&(null===o&&(o=Oo.empty()),o.set(c.field,_))}return o||null}function Am(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(o=l.fieldTransforms)&&void 0===c||o&&c&&Bu(o,c,(f,_)=>function pw(l,t){return l.field.isEqual(t.field)&&(c=t.transform,(o=l.transform)instanceof Zh&&c instanceof Zh||o instanceof Hf&&c instanceof Hf?Bu(o.elements,c.elements,qo):o instanceof gc&&c instanceof gc?qo(o.gt,c.gt):o instanceof Kh&&c instanceof Kh);var o,c}(f,_))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var o,c}class oh extends cs{constructor(t,o,c,f=[]){super(),this.key=t,this.value=o,this.precondition=c,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Iu extends cs{constructor(t,o,c,f,_=[]){super(),this.key=t,this.data=o,this.fieldMask=c,this.precondition=f,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function ah(l){const t=new Map;return l.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=l.data.field(o);t.set(o,c)}}),t}function qf(l,t,o){const c=new Map;sn(l.length===o.length);for(let f=0;f<o.length;f++){const _=l[f],I=_.transform,N=t.data.field(_.field);c.set(_.field,Im(I,N,o[f]))}return c}function mc(l,t,o){const c=new Map;for(const f of l){const _=f.transform,I=o.data.field(f.field);c.set(f.field,xv(_,I,t))}return c}class Yh extends cs{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ey extends cs{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sg{constructor(t,o,c,f){this.batchId=t,this.localWriteTime=o,this.baseMutations=c,this.mutations=f}applyToRemoteDocument(t,o){const c=o.mutationResults;for(let f=0;f<this.mutations.length;f++){const _=this.mutations[f];_.key.isEqual(t.key)&&Pv(_,t,c[f])}}applyToLocalView(t,o){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(o=zf(c,t,o,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(o=zf(c,t,o,this.localWriteTime));return o}applyToLocalDocumentSet(t,o){const c=pc();return this.mutations.forEach(f=>{const _=t.get(f.key),I=_.overlayedDocument;let N=this.applyToLocalView(I,_.mutatedFields);N=o.has(f.key)?null:N;const H=Dm(I,N);null!==H&&c.set(f.key,H),I.isValidDocument()||I.convertToNoDocument(Mn.min())}),c}keys(){return this.mutations.reduce((t,o)=>t.add(o.key),Tr())}isEqual(t){return this.batchId===t.batchId&&Bu(this.mutations,t.mutations,(o,c)=>Am(o,c))&&Bu(this.baseMutations,t.baseMutations,(o,c)=>Am(o,c))}}class Jh{constructor(t,o,c,f){this.batch=t,this.commitVersion=o,this.mutationResults=c,this.docVersions=f}static from(t,o,c){sn(t.mutations.length===c.length);let f=Uf;const _=t.mutations;for(let I=0;I<_.length;I++)f=f.insert(_[I].key,c[I].version);return new Jh(t,o,c,f)}}class Xh{constructor(t,o){this.largestBatchId=t,this.mutation=o}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ty{constructor(t,o){this.count=t,this.unchangedNames=o}}var Ls,Ei;function og(l){switch(l){default:return dn();case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0}}function Cl(l){if(void 0===l)return ei("GRPC error has no .code"),lt.UNKNOWN;switch(l){case Ls.OK:return lt.OK;case Ls.CANCELLED:return lt.CANCELLED;case Ls.UNKNOWN:return lt.UNKNOWN;case Ls.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ls.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ls.INTERNAL:return lt.INTERNAL;case Ls.UNAVAILABLE:return lt.UNAVAILABLE;case Ls.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ls.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ls.NOT_FOUND:return lt.NOT_FOUND;case Ls.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ls.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ls.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ls.ABORTED:return lt.ABORTED;case Ls.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ls.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ls.DATA_LOSS:return lt.DATA_LOSS;default:return dn()}}(Ei=Ls||(Ls={}))[Ei.OK=0]="OK",Ei[Ei.CANCELLED=1]="CANCELLED",Ei[Ei.UNKNOWN=2]="UNKNOWN",Ei[Ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ei[Ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ei[Ei.NOT_FOUND=5]="NOT_FOUND",Ei[Ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ei[Ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ei[Ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ei[Ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ei[Ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ei[Ei.ABORTED=10]="ABORTED",Ei[Ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ei[Ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ei[Ei.INTERNAL=13]="INTERNAL",Ei[Ei.UNAVAILABLE=14]="UNAVAILABLE",Ei[Ei.DATA_LOSS=15]="DATA_LOSS";class Wf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cd}static getOrCreateInstance(){return null===Cd&&(Cd=new Wf),Cd}onExistenceFilterMismatch(t){const o=Symbol();return this.onExistenceFilterMismatchCallbacks.set(o,t),()=>this.onExistenceFilterMismatchCallbacks.delete(o)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(o=>o(t))}}let Cd=null;function ag(){return new TextEncoder}const Ma=new Gr([4294967295,4294967295],0);function lh(l){const t=ag().encode(l),o=new Mr;return o.update(t),new Uint8Array(o.digest())}function lg(l){const t=new DataView(l.buffer),o=t.getUint32(0,!0),c=t.getUint32(4,!0),f=t.getUint32(8,!0),_=t.getUint32(12,!0);return[new Gr([o,c],0),new Gr([f,_],0)]}class ug{constructor(t,o,c){if(this.bitmap=t,this.padding=o,this.hashCount=c,o<0||o>=8)throw new uh(`Invalid padding: ${o}`);if(c<0)throw new uh(`Invalid hash count: ${c}`);if(t.length>0&&0===this.hashCount)throw new uh(`Invalid hash count: ${c}`);if(0===t.length&&0!==o)throw new uh(`Invalid padding when bitmap length is 0: ${o}`);this.It=8*t.length-o,this.Tt=Gr.fromNumber(this.It)}Et(t,o,c){let f=t.add(o.multiply(Gr.fromNumber(c)));return 1===f.compare(Ma)&&(f=new Gr([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const o=lh(t),[c,f]=lg(o);for(let _=0;_<this.hashCount;_++){const I=this.Et(c,f,_);if(!this.At(I))return!1}return!0}static create(t,o,c){const f=t%8==0?0:8-t%8,_=new Uint8Array(Math.ceil(t/8)),I=new ug(_,f,o);return c.forEach(N=>I.insert(N)),I}insert(t){if(0===this.It)return;const o=lh(t),[c,f]=lg(o);for(let _=0;_<this.hashCount;_++){const I=this.Et(c,f,_);this.Rt(I)}}Rt(t){const o=Math.floor(t/8);this.bitmap[o]|=1<<t%8}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ef{constructor(t,o,c,f,_){this.snapshotVersion=t,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=f,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(t,o,c){const f=new Map;return f.set(t,Kf.createSynthesizedTargetChangeForCurrentChange(t,o,c)),new ef(Mn.min(),f,new vi(or),Pa(),Tr())}}class Kf{constructor(t,o,c,f,_){this.resumeToken=t,this.current=o,this.addedDocuments=c,this.modifiedDocuments=f,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(t,o,c){return new Kf(c,o,Tr(),Tr(),Tr())}}class _c{constructor(t,o,c,f){this.Pt=t,this.removedTargetIds=o,this.key=c,this.bt=f}}class ny{constructor(t,o){this.targetId=t,this.Vt=o}}class Sm{constructor(t,o,c=Is.EMPTY_BYTE_STRING,f=null){this.state=t,this.targetIds=o,this.resumeToken=c,this.cause=f}}class ry{constructor(){this.St=0,this.Dt=rl(),this.Ct=Is.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Tr(),o=Tr(),c=Tr();return this.Dt.forEach((f,_)=>{switch(_){case 0:t=t.add(f);break;case 2:o=o.add(f);break;case 1:c=c.add(f);break;default:dn()}}),new Kf(this.Ct,this.xt,t,o,c)}Ft(){this.Nt=!1,this.Dt=rl()}Bt(t,o){this.Nt=!0,this.Dt=this.Dt.insert(t,o)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ov{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Pa(),this.zt=tf(),this.Wt=new vi(or)}Ht(t){for(const o of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(o,t.bt):this.Yt(o,t.key,t.bt);for(const o of t.removedTargetIds)this.Yt(o,t.key,t.bt)}Xt(t){this.forEachTarget(t,o=>{const c=this.Zt(o);switch(t.state){case 0:this.te(o)&&c.$t(t.resumeToken);break;case 1:c.Ut(),c.kt||c.Ft(),c.$t(t.resumeToken);break;case 2:c.Ut(),c.kt||this.removeTarget(o);break;case 3:this.te(o)&&(c.Kt(),c.$t(t.resumeToken));break;case 4:this.te(o)&&(this.ee(o),c.$t(t.resumeToken));break;default:dn()}})}forEachTarget(t,o){t.targetIds.length>0?t.targetIds.forEach(o):this.Qt.forEach((c,f)=>{this.te(f)&&o(f)})}ne(t){var o;const c=t.targetId,f=t.Vt.count,_=this.se(c);if(_){const I=_.target;if(ih(I))if(0===f){const N=new tn(I.path);this.Yt(c,N,Li.newNoDocument(N,Mn.min()))}else sn(1===f);else{const N=this.ie(c);if(N!==f){const H=this.re(t,N);0!==H&&(this.ee(c),this.Wt=this.Wt.insert(c,2===H?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(o=Wf.instance)||void 0===o||o.notifyOnExistenceFilterMismatch(function(Q,ue,Ce){var nt,bt,qt,yn,Tn,br;const wi={localCacheCount:ue,existenceFilterCount:Ce.count},ni=Ce.unchangedNames;return ni&&(wi.bloomFilter={applied:0===Q,hashCount:null!==(nt=ni?.hashCount)&&void 0!==nt?nt:0,bitmapLength:null!==(yn=null===(qt=null===(bt=ni?.bits)||void 0===bt?void 0:bt.bitmap)||void 0===qt?void 0:qt.length)&&void 0!==yn?yn:0,padding:null!==(br=null===(Tn=ni?.bits)||void 0===Tn?void 0:Tn.padding)&&void 0!==br?br:0}),wi}(H,N,t.Vt))}}}}re(t,o){const{unchangedNames:c,count:f}=t.Vt;if(!c||!c.bits)return 1;const{bits:{bitmap:_="",padding:I=0},hashCount:N=0}=c;let H,Q;try{H=$l(_).toUint8Array()}catch(ue){if(ue instanceof Gc)return $i("Decoding the base64 bloom filter in existence filter failed ("+ue.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ue}try{Q=new ug(H,I,N)}catch(ue){return $i(ue instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",ue),1}return 0===Q.It?1:f!==o-this.oe(t.targetId,Q)?2:0}oe(t,o){const c=this.Gt.getRemoteKeysForTarget(t);let f=0;return c.forEach(_=>{const I=this.Gt.ue(),N=`projects/${I.projectId}/databases/${I.database}/documents/${_.path.canonicalString()}`;o.vt(N)||(this.Yt(t,_,null),f++)}),f}ce(t){const o=new Map;this.Qt.forEach((_,I)=>{const N=this.se(I);if(N){if(_.current&&ih(N.target)){const H=new tn(N.target.path);null!==this.jt.get(H)||this.ae(I,H)||this.Yt(I,H,Li.newNoDocument(H,t))}_.Mt&&(o.set(I,_.Ot()),_.Ft())}});let c=Tr();this.zt.forEach((_,I)=>{let N=!0;I.forEachWhile(H=>{const Q=this.se(H);return!Q||"TargetPurposeLimboResolution"===Q.purpose||(N=!1,!1)}),N&&(c=c.add(_))}),this.jt.forEach((_,I)=>I.setReadTime(t));const f=new ef(t,o,this.Wt,this.jt,c);return this.jt=Pa(),this.zt=tf(),this.Wt=new vi(or),f}Jt(t,o){if(!this.te(t))return;const c=this.ae(t,o.key)?2:0;this.Zt(t).Bt(o.key,c),this.jt=this.jt.insert(o.key,o),this.zt=this.zt.insert(o.key,this.he(o.key).add(t))}Yt(t,o,c){if(!this.te(t))return;const f=this.Zt(t);this.ae(t,o)?f.Bt(o,1):f.Lt(o),this.zt=this.zt.insert(o,this.he(o).delete(t)),c&&(this.jt=this.jt.insert(o,c))}removeTarget(t){this.Qt.delete(t)}ie(t){const o=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+o.addedDocuments.size-o.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let o=this.Qt.get(t);return o||(o=new ry,this.Qt.set(t,o)),o}he(t){let o=this.zt.get(t);return o||(o=new es(or),this.zt=this.zt.insert(t,o)),o}te(t){const o=null!==this.se(t);return o||Nt("WatchChangeAggregator","Detected inactive target",t),o}se(t){const o=this.Qt.get(t);return o&&o.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new ry),this.Gt.getRemoteKeysForTarget(t).forEach(o=>{this.Yt(t,o,null)})}ae(t,o){return this.Gt.getRemoteKeysForTarget(t).has(o)}}function tf(){return new vi(tn.comparator)}function rl(){return new vi(tn.comparator)}const Nv={asc:"ASCENDING",desc:"DESCENDING"},Zf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qf={and:"AND",or:"OR"};class gw{constructor(t,o){this.databaseId=t,this.useProto3Json=o}}function Yl(l,t){return l.useProto3Json||pe(t)?t:{value:t}}function Dd(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bi(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function Yf(l,t){return Dd(l,t.toTimestamp())}function Cs(l){return sn(!!l),Mn.fromTimestamp(function(t){const o=Xa(t);return new Pi(o.seconds,o.nanos)}(l))}function Tu(l,t){return(o=l,new Zn(["projects",o.projectId,"databases",o.database])).child("documents").child(t).canonicalString();var o}function cg(l){const t=Zn.fromString(l);return sn(vo(t)),t}function Qc(l,t){return Tu(l.databaseId,t.path)}function Dl(l,t){const o=cg(t);if(o.get(1)!==l.databaseId.projectId)throw new Dt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+l.databaseId.projectId);if(o.get(3)!==l.databaseId.database)throw new Dt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+l.databaseId.database);return new tn(Cu(o))}function dg(l,t){return Tu(l.databaseId,t)}function iy(l){const t=cg(l);return 4===t.length?Zn.emptyPath():Cu(t)}function bu(l){return new Zn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Cu(l){return sn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function ga(l,t,o){return{name:Qc(l,t),fields:o.value.mapValue.fields}}function Jf(l,t,o){const c=Dl(l,t.name),f=Cs(t.updateTime),_=t.createTime?Cs(t.createTime):Mn.min(),I=new Oo({mapValue:{fields:t.fields}}),N=Li.newFoundDocument(c,f,_,I);return o&&N.setHasCommittedMutations(),o?N.setHasCommittedMutations():N}function Yc(l,t){let o;if(t instanceof oh)o={update:ga(l,t.key,t.value)};else if(t instanceof Yh)o={delete:Qc(l,t.key)};else if(t instanceof Iu)o={update:ga(l,t.key,t.data),updateMask:uy(t.fieldMask)};else{if(!(t instanceof ey))return dn();o={verify:Qc(l,t.key)}}return t.fieldTransforms.length>0&&(o.updateTransforms=t.fieldTransforms.map(c=>function(f,_){const I=_.transform;if(I instanceof Kh)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Zh)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof Hf)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof gc)return{fieldPath:_.field.canonicalString(),increment:I.gt};throw dn()}(0,c))),t.precondition.isNone||(o.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:Yf(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:dn()),o;var f}function xm(l,t){const o=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?us.updateTime(Cs(f.updateTime)):void 0!==f.exists?us.exists(f.exists):us.none():us.none(),c=t.updateTransforms?t.updateTransforms.map(f=>function(_,I){let N=null;"setToServerValue"in I?(sn("REQUEST_TIME"===I.setToServerValue),N=new Kh):"appendMissingElements"in I?N=new Zh(I.appendMissingElements.values||[]):"removeAllFromArray"in I?N=new Hf(I.removeAllFromArray.values||[]):"increment"in I?N=new gc(_,I.increment):dn();const H=Ar.fromServerFormat(I.fieldPath);return new $f(H,N)}(l,f)):[];var f;if(t.update){const f=Dl(l,t.update.name),_=new Oo({mapValue:{fields:t.update.fields}});if(t.updateMask){const I=new da((t.updateMask.fieldPaths||[]).map(Q=>Ar.fromServerFormat(Q)));return new Iu(f,_,I,o,c)}return new oh(f,_,o,c)}if(t.delete){const f=Dl(l,t.delete);return new Yh(f,o)}if(t.verify){const f=Dl(l,t.verify);return new ey(f,o)}return dn()}function sy(l,t){return{documents:[dg(l,t.path)]}}function oy(l,t){const o={structuredQuery:{}},c=t.path;null!==t.collectionGroup?(o.parent=dg(l,c),o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o.parent=dg(l,c.popLast()),o.structuredQuery.from=[{collectionId:c.lastSegment()}]);const f=function(H){if(0!==H.length)return ly(Te.create(H,"and"))}(t.filters);f&&(o.structuredQuery.where=f);const _=function(H){if(0!==H.length)return H.map(Q=>{return{field:af((ue=Q).field),direction:nI(ue.dir)};var ue})}(t.orderBy);_&&(o.structuredQuery.orderBy=_);const I=Yl(l,t.limit);var N,H;return null!==I&&(o.structuredQuery.limit=I),t.startAt&&(o.structuredQuery.startAt={before:(N=t.startAt).inclusive,values:N.position}),t.endAt&&(o.structuredQuery.endAt={before:!(H=t.endAt).inclusive,values:H.position}),o}function sf(l){let t=iy(l.parent);const o=l.structuredQuery,c=o.from?o.from.length:0;let f=null;if(c>0){sn(1===c);const ue=o.from[0];ue.allDescendants?f=ue.collectionId:t=t.child(ue.collectionId)}let _=[];o.where&&(_=function(ue){const Ce=kv(ue);return Ce instanceof Te&&ln(Ce)?Ce.getFilters():[Ce]}(o.where));let I=[];o.orderBy&&(I=o.orderBy.map(ue=>{return new R(ep((Ce=ue).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let N=null;o.limit&&(N=function(ue){let Ce;return Ce="object"==typeof ue?ue.value:ue,pe(Ce)?null:Ce}(o.limit));let H=null;var ue;o.startAt&&(H=new xa((ue=o.startAt).values||[],!!ue.before));let Q=null;return o.endAt&&(Q=function(ue){return new xa(ue.values||[],!ue.before)}(o.endAt)),Wh(t,f,I,_,N,"F",H,Q)}function kv(l){return void 0!==l.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=ep(t.unaryFilter.field);return fe.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=ep(t.unaryFilter.field);return fe.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ep(t.unaryFilter.field);return fe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=ep(t.unaryFilter.field);return fe.create(_,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}(l):void 0!==l.fieldFilter?fe.create(ep((t=l).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==l.compositeFilter?function(t){return Te.create(t.compositeFilter.filters.map(o=>kv(o)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dn()}}(t.compositeFilter.op))}(l):dn();var t}function nI(l){return Nv[l]}function FT(l){return Zf[l]}function ay(l){return Qf[l]}function af(l){return{fieldPath:l.canonicalString()}}function ep(l){return Ar.fromServerFormat(l.fieldPath)}function ly(l){return l instanceof fe?function(t){if("=="===t.op){if(nh(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NAN"}};if(Wc(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nh(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NOT_NAN"}};if(Wc(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(t.field),op:FT(t.op),value:t.value}}}(l):l instanceof Te?function(t){const o=t.getFilters().map(c=>ly(c));return 1===o.length?o[0]:{compositeFilter:{op:ay(t.op),filters:o}}}(l):dn()}function uy(l){const t=[];return l.fields.forEach(o=>t.push(o.canonicalString())),{fieldPaths:t}}function vo(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Jl{constructor(t,o,c,f,_=Mn.min(),I=Mn.min(),N=Is.EMPTY_BYTE_STRING,H=null){this.target=t,this.targetId=o,this.purpose=c,this.sequenceNumber=f,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=N,this.expectedCount=H}withSequenceNumber(t){return new Jl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,o){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Wu{constructor(t){this.fe=t}}function Lv(l,t){const o=t.key,c={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Ut(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())c.document={name:Qc(f=l.fe,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:Dd(f,_.version.toTimestamp()),createTime:Dd(f,_.createTime.toTimestamp())};else if(t.isNoDocument())c.noDocument={path:o.path.toArray(),readTime:Gi(t.version)};else{if(!t.isUnknownDocument())return dn();c.unknownDocument={path:o.path.toArray(),version:Gi(t.version)}}var f,_;return c}function Ut(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function Gi(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Qo(l){const t=new Pi(l.seconds,l.nanoseconds);return Mn.fromTimestamp(t)}function yc(l,t){const o=(t.baseMutations||[]).map(_=>xm(l.fe,_));for(let _=0;_<t.mutations.length-1;++_)_+1<t.mutations.length&&void 0!==t.mutations[_+1].transform&&(t.mutations[_].updateTransforms=t.mutations[_+1].transform.fieldTransforms,t.mutations.splice(_+1,1),++_);const c=t.mutations.map(_=>xm(l.fe,_)),f=Pi.fromMillis(t.localWriteTimeMs);return new sg(t.batchId,f,o,c)}function In(l){const t=Qo(l.readTime),o=void 0!==l.lastLimboFreeSnapshotVersion?Qo(l.lastLimboFreeSnapshotVersion):Mn.min();let c;var f;return void 0!==l.query.documents?(sn(1===(f=l.query).documents.length),c=M(nl(iy(f.documents[0])))):c=M(sf(l.query)),new Jl(c,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,o,Is.fromBase64String(l.resumeToken))}function zn(l,t){const o=Gi(t.snapshotVersion),c=Gi(t.lastLimboFreeSnapshotVersion);let f;f=ih(t.target)?sy(l.fe,t.target):oy(l.fe,t.target);const _=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Eu(t.target),readTime:o,resumeToken:_,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:f}}function cy(l){const t=sf({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?le(t,t.limit,"L"):t}function hn(l,t){return new Xh(t.largestBatchId,xm(l.fe,t.overlayMutation))}function mt(l,t){const o=t.path.lastSegment();return[l,ct(t.path.popLast()),o]}function Bt(l,t,o,c){return{indexId:l,uid:t.uid||"",sequenceNumber:o,readTime:Gi(c.readTime),documentKey:ct(c.documentKey.path),largestBatchId:c.largestBatchId}}class ko{getBundleMetadata(t,o){return Rm(t).get(o).next(c=>{if(c)return{id:(f=c).bundleId,createTime:Qo(f.createTime),version:f.version};var f})}saveBundleMetadata(t,o){return Rm(t).put({bundleId:(c=o).id,createTime:Gi(Cs(c.createTime)),version:c.version});var c}getNamedQuery(t,o){return hg(t).get(o).next(c=>{if(c)return{name:(f=c).name,query:cy(f.bundledQuery),readTime:Qo(f.readTime)};var f})}saveNamedQuery(t,o){return hg(t).put({name:(c=o).name,readTime:Gi(Cs(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Rm(l){return zs(l,"bundles")}function hg(l){return zs(l,"namedQueries")}class tp{constructor(t,o){this.serializer=t,this.userId=o}static de(t,o){return new tp(t,o.uid||"")}getOverlay(t,o){return Xc(t).get(mt(this.userId,o)).next(c=>c?hn(this.serializer,c):null)}getOverlays(t,o){const c=pa();return rt.forEach(o,f=>this.getOverlay(t,f).next(_=>{null!==_&&c.set(f,_)})).next(()=>c)}saveOverlays(t,o,c){const f=[];return c.forEach((_,I)=>{const N=new Xh(o,I);f.push(this.we(t,N))}),rt.waitFor(f)}removeOverlaysForBatchId(t,o,c){const f=new Set;o.forEach(I=>f.add(ct(I.getCollectionPath())));const _=[];return f.forEach(I=>{const N=IDBKeyRange.bound([this.userId,I,c],[this.userId,I,c+1],!1,!0);_.push(Xc(t).J("collectionPathOverlayIndex",N))}),rt.waitFor(_)}getOverlaysForCollection(t,o,c){const f=pa(),_=ct(o),I=IDBKeyRange.bound([this.userId,_,c],[this.userId,_,Number.POSITIVE_INFINITY],!0);return Xc(t).j("collectionPathOverlayIndex",I).next(N=>{for(const H of N){const Q=hn(this.serializer,H);f.set(Q.getKey(),Q)}return f})}getOverlaysForCollectionGroup(t,o,c,f){const _=pa();let I;const N=IDBKeyRange.bound([this.userId,o,c],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Xc(t).X({index:"collectionGroupOverlayIndex",range:N},(H,Q,ue)=>{const Ce=hn(this.serializer,Q);_.size()<f||Ce.largestBatchId===I?(_.set(Ce.getKey(),Ce),I=Ce.largestBatchId):ue.done()}).next(()=>_)}we(t,o){return Xc(t).put(function(c,f,_){const[I,N,H]=mt(f,_.mutation.key);return{userId:f,collectionPath:N,documentId:H,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:Yc(c.fe,_.mutation)}}(this.serializer,this.userId,o))}}function Xc(l){return zs(l,"documentOverlays")}class lf{constructor(){}_e(t,o){this.me(t,o),o.ge()}me(t,o){if("nullValue"in t)this.ye(o,5);else if("booleanValue"in t)this.ye(o,10),o.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(o,15),o.pe(Mi(t.integerValue));else if("doubleValue"in t){const c=Mi(t.doubleValue);isNaN(c)?this.ye(o,13):(this.ye(o,15),ze(c)?o.pe(0):o.pe(c))}else if("timestampValue"in t){const c=t.timestampValue;this.ye(o,20),"string"==typeof c?o.Ie(c):(o.Ie(`${c.seconds||""}`),o.pe(c.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,o),this.Ee(o);else if("bytesValue"in t)this.ye(o,30),o.Ae($l(t.bytesValue)),this.Ee(o);else if("referenceValue"in t)this.ve(t.referenceValue,o);else if("geoPointValue"in t){const c=t.geoPointValue;this.ye(o,45),o.pe(c.latitude||0),o.pe(c.longitude||0)}else"mapValue"in t?Gh(t)?this.ye(o,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,o),this.Ee(o)):"arrayValue"in t?(this.Pe(t.arrayValue,o),this.Ee(o)):dn()}Te(t,o){this.ye(o,25),this.be(t,o)}be(t,o){o.Ie(t)}Re(t,o){const c=t.fields||{};this.ye(o,55);for(const f of Object.keys(c))this.Te(f,o),this.me(c[f],o)}Pe(t,o){const c=t.values||[];this.ye(o,50);for(const f of c)this.me(f,o)}ve(t,o){this.ye(o,37),tn.fromName(t).path.forEach(c=>{this.ye(o,60),this.be(c,o)})}ye(t,o){t.pe(o)}Ee(t){t.pe(2)}}function _w(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function Fv(l){const t=64-function(o){let c=0;for(let f=0;f<8;++f){const _=_w(255&o[f]);if(c+=_,8!==_)break}return c}(l);return Math.ceil(t/8)}lf.Ve=new lf;class yw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const o=t[Symbol.iterator]();let c=o.next();for(;!c.done;)this.De(c.value),c=o.next();this.Ce()}xe(t){const o=t[Symbol.iterator]();let c=o.next();for(;!c.done;)this.Ne(c.value),c=o.next();this.ke()}Me(t){for(const o of t){const c=o.charCodeAt(0);if(c<128)this.De(c);else if(c<2048)this.De(960|c>>>6),this.De(128|63&c);else if(o<"\ud800"||"\udbff"<o)this.De(480|c>>>12),this.De(128|63&c>>>6),this.De(128|63&c);else{const f=o.codePointAt(0);this.De(240|f>>>18),this.De(128|63&f>>>12),this.De(128|63&f>>>6),this.De(128|63&f)}}this.Ce()}$e(t){for(const o of t){const c=o.charCodeAt(0);if(c<128)this.Ne(c);else if(c<2048)this.Ne(960|c>>>6),this.Ne(128|63&c);else if(o<"\ud800"||"\udbff"<o)this.Ne(480|c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c);else{const f=o.codePointAt(0);this.Ne(240|f>>>18),this.Ne(128|63&f>>>12),this.Ne(128|63&f>>>6),this.Ne(128|63&f)}}this.ke()}Oe(t){const o=this.Fe(t),c=Fv(o);this.Be(1+c),this.buffer[this.position++]=255&c;for(let f=o.length-c;f<o.length;++f)this.buffer[this.position++]=255&o[f]}Le(t){const o=this.Fe(t),c=Fv(o);this.Be(1+c),this.buffer[this.position++]=~(255&c);for(let f=o.length-c;f<o.length;++f)this.buffer[this.position++]=~(255&o[f])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const o=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(t),c=0!=(128&o[0]);o[0]^=c?255:128;for(let f=1;f<o.length;++f)o[f]^=c?255:0;return o}De(t){const o=255&t;0===o?(this.Ue(0),this.Ue(255)):255===o?(this.Ue(255),this.Ue(0)):this.Ue(o)}Ne(t){const o=255&t;0===o?(this.Ge(0),this.Ge(255)):255===o?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const o=t+this.position;if(o<=this.buffer.length)return;let c=2*this.buffer.length;c<o&&(c=o);const f=new Uint8Array(c);f.set(this.buffer),this.buffer=f}}class Vv{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class vw{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class vc{constructor(){this.je=new yw,this.ze=new Vv(this.je),this.We=new vw(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class sr{constructor(t,o,c,f){this.indexId=t,this.documentKey=o,this.arrayValue=c,this.directionalValue=f}Je(){const t=this.directionalValue.length,o=0===t||255===this.directionalValue[t-1]?t+1:t,c=new Uint8Array(o);return c.set(this.directionalValue,0),o!==t?c.set([0],this.directionalValue.length):++c[c.length-1],new sr(this.indexId,this.documentKey,this.arrayValue,c)}}function Al(l,t){let o=l.indexId-t.indexId;return 0!==o?o:(o=Pm(l.arrayValue,t.arrayValue),0!==o?o:(o=Pm(l.directionalValue,t.directionalValue),0!==o?o:tn.comparator(l.documentKey,t.documentKey)))}function Pm(l,t){for(let o=0;o<l.length&&o<t.length;++o){const c=l[o]-t[o];if(0!==c)return c}return l.length-t.length}class Fs{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const o of t.filters){const c=o;c.isInequality()?this.Ze=c:this.Xe.push(c)}}tn(t){sn(t.collectionGroup===this.collectionId);const o=So(t);if(void 0!==o&&!this.en(o))return!1;const c=Bl(t);let f=new Set,_=0,I=0;for(;_<c.length&&this.en(c[_]);++_)f=f.add(c[_].fieldPath.canonicalString());if(_===c.length)return!0;if(void 0!==this.Ze){if(!f.has(this.Ze.field.canonicalString())){const N=c[_];if(!this.nn(this.Ze,N)||!this.sn(this.Ye[I++],N))return!1}++_}for(;_<c.length;++_)if(I>=this.Ye.length||!this.sn(this.Ye[I++],c[_]))return!1;return!0}en(t){for(const o of this.Xe)if(this.nn(o,t))return!0;return!1}nn(t,o){return!(void 0===t||!t.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,o){return!!t.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===t.dir||1===o.kind&&"desc"===t.dir)}}function Gn(l){var t,o;if(sn(l instanceof fe||l instanceof Te),l instanceof fe){if(l instanceof gs){const f=(null===(o=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===o?void 0:o.map(_=>fe.create(l.field,"==",_)))||[];return Te.create(f,"or")}return l}const c=l.filters.map(f=>Gn(f));return Te.create(c,l.op)}function fg(l){if(0===l.getFilters().length)return[];const t=mn(Gn(l));return sn(Zs(t)),gi(t)||dy(t)?[t]:t.getFilters()}function gi(l){return l instanceof fe}function dy(l){return l instanceof Te&&ln(l)}function Zs(l){return gi(l)||dy(l)||function(t){if(t instanceof Te&&_t(t)){for(const o of t.getFilters())if(!gi(o)&&!dy(o))return!1;return!0}return!1}(l)}function mn(l){if(sn(l instanceof fe||l instanceof Te),l instanceof fe)return l;if(1===l.filters.length)return mn(l.filters[0]);const t=l.filters.map(c=>mn(c));let o=Te.create(t,l.op);return o=Xl(o),Zs(o)?o:(sn(o instanceof Te),sn(We(o)),sn(o.filters.length>1),o.filters.reduce((c,f)=>ch(c,f)))}function ch(l,t){let o;return sn(l instanceof fe||l instanceof Te),sn(t instanceof fe||t instanceof Te),o=l instanceof fe?t instanceof fe?Te.create([l,t],"and"):Ec(l,t):t instanceof fe?Ec(t,l):function(c,f){if(sn(c.filters.length>0&&f.filters.length>0),We(c)&&We(f))return Yn(c,f.getFilters());const _=_t(c)?c:f,I=_t(c)?f:c,N=_.filters.map(H=>ch(H,I));return Te.create(N,"or")}(l,t),Xl(o)}function Ec(l,t){if(We(t))return Yn(t,l.getFilters());{const o=t.filters.map(c=>ch(l,c));return Te.create(o,"or")}}function Xl(l){if(sn(l instanceof fe||l instanceof Te),l instanceof fe)return l;const t=l.getFilters();if(1===t.length)return Xl(t[0]);if(on(l))return l;const o=t.map(f=>Xl(f)),c=[];return o.forEach(f=>{f instanceof fe?c.push(f):f instanceof Te&&(f.op===l.op?c.push(...f.filters):c.push(f))}),1===c.length?c[0]:Te.create(c,l.op)}class Ew{constructor(){this.rn=new dh}addToCollectionParentIndex(t,o){return this.rn.add(o),rt.resolve()}getCollectionParents(t,o){return rt.resolve(this.rn.getEntries(o))}addFieldIndex(t,o){return rt.resolve()}deleteFieldIndex(t,o){return rt.resolve()}getDocumentsMatchingTarget(t,o){return rt.resolve(null)}getIndexType(t,o){return rt.resolve(0)}getFieldIndexes(t,o){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,o){return rt.resolve(yi.min())}getMinOffsetFromCollectionGroup(t,o){return rt.resolve(yi.min())}updateCollectionGroup(t,o,c){return rt.resolve()}updateIndexEntries(t,o){return rt.resolve()}}class dh{constructor(){this.index={}}add(t){const o=t.lastSegment(),c=t.popLast(),f=this.index[o]||new es(Zn.comparator),_=!f.has(c);return this.index[o]=f.add(c),_}has(t){const o=t.lastSegment(),c=t.popLast(),f=this.index[o];return f&&f.has(c)}getEntries(t){return(this.index[t]||new es(Zn.comparator)).toArray()}}const hy=new Uint8Array(0);class pg{constructor(t,o){this.user=t,this.databaseId=o,this.on=new dh,this.un=new yo(c=>Eu(c),(c,f)=>rh(c,f)),this.uid=t.uid||""}addToCollectionParentIndex(t,o){if(!this.on.has(o)){const c=o.lastSegment(),f=o.popLast();t.addOnCommittedListener(()=>{this.on.add(o)});const _={collectionId:c,parent:ct(f)};return Uv(t).put(_)}return rt.resolve()}getCollectionParents(t,o){const c=[],f=IDBKeyRange.bound([o,""],[ir(o),""],!1,!0);return Uv(t).j(f).next(_=>{for(const I of _){if(I.collectionId!==o)break;c.push(si(I.parent))}return c})}addFieldIndex(t,o){const c=Oa(t),f={indexId:(I=o).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var I;delete f.indexId;const _=c.add(f);if(o.indexState){const I=uf(t);return _.next(N=>{I.put(Bt(N,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return _.next()}deleteFieldIndex(t,o){const c=Oa(t),f=uf(t),_=gg(t);return c.delete(o.indexId).next(()=>f.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,o){const c=gg(t);let f=!0;const _=new Map;return rt.forEach(this.cn(o),I=>this.an(t,I).next(N=>{f&&(f=!!N),_.set(I,N)})).next(()=>{if(f){let I=Tr();const N=[];return rt.forEach(_,(H,Q)=>{var ue;Nt("IndexedDbIndexManager",`Using index ${ue=H,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(ni=>`${ni.fieldPath}:${ni.kind}`).join(",")}`} to execute ${Eu(o)}`);const Ce=function(ni,Io){const hs=So(Io);if(void 0===hs)return null;for(const ms of tg(ni,hs.fieldPath))switch(ms.op){case"array-contains-any":return ms.value.arrayValue.values||[];case"array-contains":return[ms.value]}return null}(Q,H),nt=function(ni,Io){const hs=new Map;for(const ms of Bl(Io))for(const cl of tg(ni,ms.fieldPath))switch(cl.op){case"==":case"in":hs.set(ms.fieldPath.canonicalString(),cl.value);break;case"not-in":case"!=":return hs.set(ms.fieldPath.canonicalString(),cl.value),Array.from(hs.values())}return null}(Q,H),bt=function(ni,Io){const hs=[];let ms=!0;for(const cl of Bl(Io)){const Qd=0===cl.kind?No(ni,cl.fieldPath,ni.startAt):qh(ni,cl.fieldPath,ni.startAt);hs.push(Qd.value),ms&&(ms=Qd.inclusive)}return new xa(hs,ms)}(Q,H),qt=function(ni,Io){const hs=[];let ms=!0;for(const cl of Bl(Io)){const Qd=0===cl.kind?qh(ni,cl.fieldPath,ni.endAt):No(ni,cl.fieldPath,ni.endAt);hs.push(Qd.value),ms&&(ms=Qd.inclusive)}return new xa(hs,ms)}(Q,H),yn=this.hn(H,Q,bt),Tn=this.hn(H,Q,qt),br=this.ln(H,Q,nt),wi=this.fn(H.indexId,Ce,yn,bt.inclusive,Tn,qt.inclusive,br);return rt.forEach(wi,ni=>c.H(ni,o.limit).next(Io=>{Io.forEach(hs=>{const ms=tn.fromSegments(hs.documentKey);I.has(ms)||(I=I.add(ms),N.push(ms))})}))}).next(()=>N)}return rt.resolve(null)})}cn(t){let o=this.un.get(t);return o||(o=0===t.filters.length?[t]:fg(Te.create(t.filters,"and")).map(c=>qu(t.path,t.collectionGroup,t.orderBy,c.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,o),o)}fn(t,o,c,f,_,I,N){const H=(null!=o?o.length:1)*Math.max(c.length,_.length),Q=H/(null!=o?o.length:1),ue=[];for(let Ce=0;Ce<H;++Ce){const nt=o?this.dn(o[Ce/Q]):hy,bt=this.wn(t,nt,c[Ce%Q],f),qt=this._n(t,nt,_[Ce%Q],I),yn=N.map(Tn=>this.wn(t,nt,Tn,!0));ue.push(...this.createRange(bt,qt,yn))}return ue}wn(t,o,c,f){const _=new sr(t,tn.empty(),o,c);return f?_:_.Je()}_n(t,o,c,f){const _=new sr(t,tn.empty(),o,c);return f?_.Je():_}an(t,o){const c=new Fs(o),f=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(t,f).next(_=>{let I=null;for(const N of _)c.tn(N)&&(!I||N.fields.length>I.fields.length)&&(I=N);return I})}getIndexType(t,o){let c=2;const f=this.cn(o);return rt.forEach(f,_=>this.an(t,_).next(I=>{I?0!==c&&I.fields.length<function(N){let H=new es(Ar.comparator),Q=!1;for(const ue of N.filters)for(const Ce of ue.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?Q=!0:H=H.add(Ce.field));for(const ue of N.orderBy)ue.field.isKeyField()||(H=H.add(ue.field));return H.size+(Q?1:0)}(_)&&(c=1):c=0})).next(()=>null!==o.limit&&f.length>1&&2===c?1:c)}mn(t,o){const c=new vc;for(const f of Bl(t)){const _=o.data.field(f.fieldPath);if(null==_)return null;const I=c.He(f.kind);lf.Ve._e(_,I)}return c.Qe()}dn(t){const o=new vc;return lf.Ve._e(t,o.He(0)),o.Qe()}gn(t,o){const c=new vc;return lf.Ve._e(qc(this.databaseId,o),c.He(function(f){const _=Bl(f);return 0===_.length?0:_[_.length-1].kind}(t))),c.Qe()}ln(t,o,c){if(null===c)return[];let f=[];f.push(new vc);let _=0;for(const I of Bl(t)){const N=c[_++];for(const H of f)if(this.yn(o,I.fieldPath)&&tl(N))f=this.pn(f,I,N);else{const Q=H.He(I.kind);lf.Ve._e(N,Q)}}return this.In(f)}hn(t,o,c){return this.ln(t,o,c.position)}In(t){const o=[];for(let c=0;c<t.length;++c)o[c]=t[c].Qe();return o}pn(t,o,c){const f=[...t],_=[];for(const I of c.arrayValue.values||[])for(const N of f){const H=new vc;H.seed(N.Qe()),lf.Ve._e(I,H.He(o.kind)),_.push(H)}return _}yn(t,o){return!!t.filters.find(c=>c instanceof fe&&c.field.isEqual(o)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(t,o){const c=Oa(t),f=uf(t);return(o?c.j("collectionGroupIndex",IDBKeyRange.bound(o,o)):c.j()).next(_=>{const I=[];return rt.forEach(_,N=>f.get([N.indexId,this.uid]).next(H=>{I.push(function(Q,ue){const Ce=ue?new Fr(ue.sequenceNumber,new yi(Qo(ue.readTime),new tn(si(ue.documentKey)),ue.largestBatchId)):Fr.empty(),nt=Q.fields.map(([bt,qt])=>new El(Ar.fromServerFormat(bt),qt));return new vl(Q.indexId,Q.collectionGroup,nt,Ce)}(N,H))})).next(()=>I)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(o=>0===o.length?null:(o.sort((c,f)=>{const _=c.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==_?_:or(c.collectionGroup,f.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(t,o,c){const f=Oa(t),_=uf(t);return this.Tn(t).next(I=>f.j("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(N=>rt.forEach(N,H=>_.put(Bt(H.indexId,this.user,I,c)))))}updateIndexEntries(t,o){const c=new Map;return rt.forEach(o,(f,_)=>{const I=c.get(f.collectionGroup);return(I?rt.resolve(I):this.getFieldIndexes(t,f.collectionGroup)).next(N=>(c.set(f.collectionGroup,N),rt.forEach(N,H=>this.En(t,f,H).next(Q=>{const ue=this.An(_,H);return Q.isEqual(ue)?rt.resolve():this.vn(t,_,H,Q,ue)}))))})}Rn(t,o,c,f){return gg(t).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.gn(c,o.key),documentKey:o.key.path.toArray()})}Pn(t,o,c,f){return gg(t).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.gn(c,o.key),o.key.path.toArray()])}En(t,o,c){const f=gg(t);let _=new es(Al);return f.X({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.gn(c,o)])},(I,N)=>{_=_.add(new sr(c.indexId,o,N.arrayValue,N.directionalValue))}).next(()=>_)}An(t,o){let c=new es(Al);const f=this.mn(o,t);if(null==f)return c;const _=So(o);if(null!=_){const I=t.data.field(_.fieldPath);if(tl(I))for(const N of I.arrayValue.values||[])c=c.add(new sr(o.indexId,t.key,this.dn(N),f))}else c=c.add(new sr(o.indexId,t.key,hy,f));return c}vn(t,o,c,f,_){Nt("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const I=[];return function(N,H,Q,ue,Ce){const nt=N.getIterator(),bt=H.getIterator();let qt=zc(nt),yn=zc(bt);for(;qt||yn;){let Tn=!1,br=!1;if(qt&&yn){const wi=Q(qt,yn);wi<0?br=!0:wi>0&&(Tn=!0)}else null!=qt?br=!0:Tn=!0;Tn?(ue(yn),yn=zc(bt)):br?(Ce(qt),qt=zc(nt)):(qt=zc(nt),yn=zc(bt))}}(f,_,Al,N=>{I.push(this.Rn(t,o,c,N))},N=>{I.push(this.Pn(t,o,c,N))}),rt.waitFor(I)}Tn(t){let o=1;return uf(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,f,_)=>{_.done(),o=f.sequenceNumber+1}).next(()=>o)}createRange(t,o,c){c=c.sort((I,N)=>Al(I,N)).filter((I,N,H)=>!N||0!==Al(I,H[N-1]));const f=[];f.push(t);for(const I of c){const N=Al(I,t),H=Al(I,o);if(0===N)f[0]=t.Je();else if(N>0&&H<0)f.push(I),f.push(I.Je());else if(H>0)break}f.push(o);const _=[];for(let I=0;I<f.length;I+=2){if(this.bn(f[I],f[I+1]))return[];_.push(IDBKeyRange.bound([f[I].indexId,this.uid,f[I].arrayValue,f[I].directionalValue,hy,[]],[f[I+1].indexId,this.uid,f[I+1].arrayValue,f[I+1].directionalValue,hy,[]]))}return _}bn(t,o){return Al(t,o)>0}getMinOffsetFromCollectionGroup(t,o){return this.getFieldIndexes(t,o).next(fy)}getMinOffset(t,o){return rt.mapArray(this.cn(o),c=>this.an(t,c).next(f=>f||dn())).next(fy)}}function Uv(l){return zs(l,"collectionParents")}function gg(l){return zs(l,"indexEntries")}function Oa(l){return zs(l,"indexConfiguration")}function uf(l){return zs(l,"indexState")}function fy(l){sn(0!==l.length);let t=l[0].indexState.offset,o=t.largestBatchId;for(let c=1;c<l.length;c++){const f=l[c].indexState.offset;xo(f,t)<0&&(t=f),o<f.largestBatchId&&(o=f.largestBatchId)}return new yi(t.readTime,t.documentKey,o)}const ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qs{constructor(t,o,c){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=c}static withCacheSize(t){return new Qs(t,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function np(l,t,o){const c=l.store("mutations"),f=l.store("documentMutations"),_=[],I=IDBKeyRange.only(o.batchId);let N=0;const H=c.X({range:I},(ue,Ce,nt)=>(N++,nt.delete()));_.push(H.next(()=>{sn(1===N)}));const Q=[];for(const ue of o.mutations){const Ce=Mo(t,ue.key.path,o.batchId);_.push(f.delete(Ce)),Q.push(ue.key)}return rt.waitFor(_).next(()=>Q)}function Ye(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw dn();t=l.noDocument}return JSON.stringify(t).length}Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(41943040,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);class wc{constructor(t,o,c,f){this.userId=t,this.serializer=o,this.indexManager=c,this.referenceDelegate=f,this.Vn={}}static de(t,o,c,f){sn(""!==t.uid);const _=t.isAuthenticated()?t.uid:"";return new wc(_,o,c,f)}checkEmpty(t){let o=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ad(t).X({index:"userMutationsIndex",range:c},(f,_,I)=>{o=!1,I.done()}).next(()=>o)}addMutationBatch(t,o,c,f){const _=Ic(t),I=Ad(t);return I.add({}).next(N=>{sn("number"==typeof N);const H=new sg(N,o,c,f),Q=function(nt,bt,qt){const yn=qt.baseMutations.map(br=>Yc(nt.fe,br)),Tn=qt.mutations.map(br=>Yc(nt.fe,br));return{userId:bt,batchId:qt.batchId,localWriteTimeMs:qt.localWriteTime.toMillis(),baseMutations:yn,mutations:Tn}}(this.serializer,this.userId,H),ue=[];let Ce=new es((nt,bt)=>or(nt.canonicalString(),bt.canonicalString()));for(const nt of f){const bt=Mo(this.userId,nt.key.path,N);Ce=Ce.add(nt.key.path.popLast()),ue.push(I.put(Q)),ue.push(_.put(bt,Qa))}return Ce.forEach(nt=>{ue.push(this.indexManager.addToCollectionParentIndex(t,nt))}),t.addOnCommittedListener(()=>{this.Vn[N]=H.keys()}),rt.waitFor(ue).next(()=>H)})}lookupMutationBatch(t,o){return Ad(t).get(o).next(c=>c?(sn(c.userId===this.userId),yc(this.serializer,c)):null)}Sn(t,o){return this.Vn[o]?rt.resolve(this.Vn[o]):this.lookupMutationBatch(t,o).next(c=>{if(c){const f=c.keys();return this.Vn[o]=f,f}return null})}getNextMutationBatchAfterBatchId(t,o){const c=o+1,f=IDBKeyRange.lowerBound([this.userId,c]);let _=null;return Ad(t).X({index:"userMutationsIndex",range:f},(I,N,H)=>{N.userId===this.userId&&(sn(N.batchId>=c),_=yc(this.serializer,N)),H.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(t){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Ad(t).X({index:"userMutationsIndex",range:o,reverse:!0},(f,_,I)=>{c=_.batchId,I.done()}).next(()=>c)}getAllMutationBatches(t){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ad(t).j("userMutationsIndex",o).next(c=>c.map(f=>yc(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(t,o){const c=$s(this.userId,o.path),f=IDBKeyRange.lowerBound(c),_=[];return Ic(t).X({range:f},(I,N,H)=>{const[Q,ue,Ce]=I,nt=si(ue);if(Q===this.userId&&o.path.isEqual(nt))return Ad(t).get(Ce).next(bt=>{if(!bt)throw dn();sn(bt.userId===this.userId),_.push(yc(this.serializer,bt))});H.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(t,o){let c=new es(or);const f=[];return o.forEach(_=>{const I=$s(this.userId,_.path),N=IDBKeyRange.lowerBound(I),H=Ic(t).X({range:N},(Q,ue,Ce)=>{const[nt,bt,qt]=Q,yn=si(bt);nt===this.userId&&_.path.isEqual(yn)?c=c.add(qt):Ce.done()});f.push(H)}),rt.waitFor(f).next(()=>this.Dn(t,c))}getAllMutationBatchesAffectingQuery(t,o){const c=o.path,f=c.length+1,_=$s(this.userId,c),I=IDBKeyRange.lowerBound(_);let N=new es(or);return Ic(t).X({range:I},(H,Q,ue)=>{const[Ce,nt,bt]=H,qt=si(nt);Ce===this.userId&&c.isPrefixOf(qt)?qt.length===f&&(N=N.add(bt)):ue.done()}).next(()=>this.Dn(t,N))}Dn(t,o){const c=[],f=[];return o.forEach(_=>{f.push(Ad(t).get(_).next(I=>{if(null===I)throw dn();sn(I.userId===this.userId),c.push(yc(this.serializer,I))}))}),rt.waitFor(f).next(()=>c)}removeMutationBatch(t,o){return np(t.ht,this.userId,o).next(c=>(t.addOnCommittedListener(()=>{this.Cn(o.batchId)}),rt.forEach(c,f=>this.referenceDelegate.markPotentiallyOrphaned(t,f))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(o=>{if(!o)return rt.resolve();const c=IDBKeyRange.lowerBound([this.userId]),f=[];return Ic(t).X({range:c},(_,I,N)=>{if(_[0]===this.userId){const H=si(_[1]);f.push(H)}else N.done()}).next(()=>{sn(0===f.length)})})}containsKey(t,o){return Du(t,this.userId,o)}xn(t){return hh(t).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Du(l,t,o){const c=$s(t,o.path),f=c[1],_=IDBKeyRange.lowerBound(c);let I=!1;return Ic(l).X({range:_,Y:!0},(N,H,Q)=>{const[ue,Ce,nt]=N;ue===t&&Ce===f&&(I=!0),Q.done()}).next(()=>I)}function Ad(l){return zs(l,"mutations")}function Ic(l){return zs(l,"documentMutations")}function hh(l){return zs(l,"mutationQueues")}class rp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new rp(0)}static Mn(){return new rp(-1)}}class ip{constructor(t,o){this.referenceDelegate=t,this.serializer=o}allocateTargetId(t){return this.$n(t).next(o=>{const c=new rp(o.highestTargetId);return o.highestTargetId=c.next(),this.On(t,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(o=>Mn.fromTimestamp(new Pi(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(t,o,c){return this.$n(t).next(f=>(f.highestListenSequenceNumber=o,c&&(f.lastRemoteSnapshotVersion=c.toTimestamp()),o>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=o),this.On(t,f)))}addTargetData(t,o){return this.Fn(t,o).next(()=>this.$n(t).next(c=>(c.targetCount+=1,this.Bn(o,c),this.On(t,c))))}updateTargetData(t,o){return this.Fn(t,o)}removeTargetData(t,o){return this.removeMatchingKeysForTargetId(t,o.targetId).next(()=>Sd(t).delete(o.targetId)).next(()=>this.$n(t)).next(c=>(sn(c.targetCount>0),c.targetCount-=1,this.On(t,c)))}removeTargets(t,o,c){let f=0;const _=[];return Sd(t).X((I,N)=>{const H=In(N);H.sequenceNumber<=o&&null===c.get(H.targetId)&&(f++,_.push(this.removeTargetData(t,H)))}).next(()=>rt.waitFor(_)).next(()=>f)}forEachTarget(t,o){return Sd(t).X((c,f)=>{const _=In(f);o(_)})}$n(t){return sp(t).get("targetGlobalKey").next(o=>(sn(null!==o),o))}On(t,o){return sp(t).put("targetGlobalKey",o)}Fn(t,o){return Sd(t).put(zn(this.serializer,o))}Bn(t,o){let c=!1;return t.targetId>o.highestTargetId&&(o.highestTargetId=t.targetId,c=!0),t.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t.sequenceNumber,c=!0),c}getTargetCount(t){return this.$n(t).next(o=>o.targetCount)}getTargetData(t,o){const c=Eu(o),f=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let _=null;return Sd(t).X({range:f,index:"queryTargetsIndex"},(I,N,H)=>{const Q=In(N);rh(o,Q.target)&&(_=Q,H.done())}).next(()=>_)}addMatchingKeys(t,o,c){const f=[],_=cf(t);return o.forEach(I=>{const N=ct(I.path);f.push(_.put({targetId:c,path:N})),f.push(this.referenceDelegate.addReference(t,c,I))}),rt.waitFor(f)}removeMatchingKeys(t,o,c){const f=cf(t);return rt.forEach(o,_=>{const I=ct(_.path);return rt.waitFor([f.delete([c,I]),this.referenceDelegate.removeReference(t,c,_)])})}removeMatchingKeysForTargetId(t,o){const c=cf(t),f=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(f)}getMatchingKeysForTargetId(t,o){const c=IDBKeyRange.bound([o],[o+1],!1,!0),f=cf(t);let _=Tr();return f.X({range:c,Y:!0},(I,N,H)=>{const Q=si(I[1]),ue=new tn(Q);_=_.add(ue)}).next(()=>_)}containsKey(t,o){const c=ct(o.path),f=IDBKeyRange.bound([c],[ir(c)],!1,!0);let _=0;return cf(t).X({index:"documentTargetsIndex",Y:!0,range:f},([I,N],H,Q)=>{0!==I&&(_++,Q.done())}).next(()=>_>0)}le(t,o){return Sd(t).get(o).next(c=>c?In(c):null)}}function Sd(l){return zs(l,"targets")}function sp(l){return zs(l,"targetGlobal")}function cf(l){return zs(l,"targetDocuments")}function Iw([l,t],[o,c]){const f=or(l,o);return 0===f?or(t,c):f}class eu{constructor(t){this.Ln=t,this.buffer=new es(Iw),this.qn=0}Un(){return++this.qn}Kn(t){const o=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(o);else{const c=this.buffer.last();Iw(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}}get maxValue(){return this.buffer.last()[0]}}class op{constructor(t,o,c){this.garbageCollector=t,this.asyncQueue=o,this.localStore=c,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var o=this;Nt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,w.Z)(function*(){o.Gn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(c){Il(c)?Nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Kn(c)}yield o.Qn(3e5)}))}}class mg{constructor(t,o){this.jn=t,this.params=o}calculateTargetCount(t,o){return this.jn.zn(t).next(c=>Math.floor(o/100*c))}nthSequenceNumber(t,o){if(0===o)return rt.resolve(re.ct);const c=new eu(o);return this.jn.forEachTarget(t,f=>c.Kn(f.sequenceNumber)).next(()=>this.jn.Wn(t,f=>c.Kn(f))).next(()=>c.maxValue)}removeTargets(t,o,c){return this.jn.removeTargets(t,o,c)}removeOrphanedDocuments(t,o){return this.jn.removeOrphanedDocuments(t,o)}collect(t,o){return-1===this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(ww)):this.getCacheSize(t).next(c=>c<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ww):this.Hn(t,o))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,o){let c,f,_,I,N,H,Q;const ue=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),f=this.params.maximumSequenceNumbersToCollect):f=Ce,I=Date.now(),this.nthSequenceNumber(t,f))).next(Ce=>(c=Ce,N=Date.now(),this.removeTargets(t,c,o))).next(Ce=>(_=Ce,H=Date.now(),this.removeOrphanedDocuments(t,c))).next(Ce=>(Q=Date.now(),Ui()<=_e.in.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-ue}ms\n\tDetermined least recently used ${f} in `+(N-I)+`ms\n\tRemoved ${_} targets in `+(H-N)+`ms\n\tRemoved ${Ce} documents in `+(Q-H)+`ms\nTotal Duration: ${Q-ue}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:_,documentsRemoved:Ce})))}}class il{constructor(t,o){this.db=t,this.garbageCollector=function py(l,t){return new mg(l,t)}(this,o)}zn(t){const o=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(c=>o.next(f=>c+f))}Jn(t){let o=0;return this.Wn(t,c=>{o++}).next(()=>o)}forEachTarget(t,o){return this.db.getTargetCache().forEachTarget(t,o)}Wn(t,o){return this.Yn(t,(c,f)=>o(f))}addReference(t,o,c){return _g(t,c)}removeReference(t,o,c){return _g(t,c)}removeTargets(t,o,c){return this.db.getTargetCache().removeTargets(t,o,c)}markPotentiallyOrphaned(t,o){return _g(t,o)}Xn(t,o){return function(c,f){let _=!1;return hh(c).Z(I=>Du(c,I,f).next(N=>(N&&(_=!0),rt.resolve(!N)))).next(()=>_)}(t,o)}removeOrphanedDocuments(t,o){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let _=0;return this.Yn(t,(I,N)=>{if(N<=o){const H=this.Xn(t,I).next(Q=>{if(!Q)return _++,c.getEntry(t,I).next(()=>(c.removeEntry(I,Mn.min()),cf(t).delete([0,ct(I.path)])))});f.push(H)}}).next(()=>rt.waitFor(f)).next(()=>c.apply(t)).next(()=>_)}removeTarget(t,o){const c=o.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,c)}updateLimboDocument(t,o){return _g(t,o)}Yn(t,o){const c=cf(t);let f,_=re.ct;return c.X({index:"documentTargetsIndex"},([I,N],{path:H,sequenceNumber:Q})=>{0===I?(_!==re.ct&&o(new tn(si(f)),_),_=Q,f=H):_=re.ct}).next(()=>{_!==re.ct&&o(new tn(si(f)),_)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _g(l,t){return cf(l).put((c=l.currentSequenceNumber,{targetId:0,path:ct(t.path),sequenceNumber:c}));var c}class ap{constructor(){this.changes=new yo(t=>t.toString(),(t,o)=>t.isEqual(o)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,o){this.assertNotApplied(),this.changes.set(t,Li.newInvalidDocument(t).setReadTime(o))}getEntry(t,o){this.assertNotApplied();const c=this.changes.get(o);return void 0!==c?rt.resolve(c):this.getFromCache(t,o)}getEntries(t,o){return this.getAllFromCache(t,o)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ed{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,o,c){return ph(t).put(c)}removeEntry(t,o,c){return ph(t).delete(function(f,_){const I=f.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],Ut(_),I[I.length-1]]}(o,c))}updateMetadata(t,o){return this.getMetadata(t).next(c=>(c.byteSize+=o,this.Zn(t,c)))}getEntry(t,o){let c=Li.newInvalidDocument(o);return ph(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(vg(o))},(f,_)=>{c=this.ts(o,_)}).next(()=>c)}es(t,o){let c={size:0,document:Li.newInvalidDocument(o)};return ph(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(vg(o))},(f,_)=>{c={document:this.ts(o,_),size:Ye(_)}}).next(()=>c)}getEntries(t,o){let c=Pa();return this.ns(t,o,(f,_)=>{const I=this.ts(f,_);c=c.insert(f,I)}).next(()=>c)}ss(t,o){let c=Pa(),f=new vi(tn.comparator);return this.ns(t,o,(_,I)=>{const N=this.ts(_,I);c=c.insert(_,N),f=f.insert(_,Ye(I))}).next(()=>({documents:c,rs:f}))}ns(t,o,c){if(o.isEmpty())return rt.resolve();let f=new es(gy);o.forEach(H=>f=f.add(H));const _=IDBKeyRange.bound(vg(f.first()),vg(f.last())),I=f.getIterator();let N=I.getNext();return ph(t).X({index:"documentKeyIndex",range:_},(H,Q,ue)=>{const Ce=tn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;N&&gy(N,Ce)<0;)c(N,null),N=I.getNext();N&&N.isEqual(Ce)&&(c(N,Q),N=I.hasNext()?I.getNext():null),N?ue.G(vg(N)):ue.done()}).next(()=>{for(;N;)c(N,null),N=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(t,o,c,f){const _=o.path,I=[_.popLast().toArray(),_.lastSegment(),Ut(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],N=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ph(t).j(IDBKeyRange.bound(I,N,!0)).next(H=>{let Q=Pa();for(const ue of H){const Ce=this.ts(tn.fromSegments(ue.prefixPath.concat(ue.collectionGroup,ue.documentId)),ue);Ce.isFoundDocument()&&(Vt(o,Ce)||f.has(Ce.key))&&(Q=Q.insert(Ce.key,Ce))}return Q})}getAllFromCollectionGroup(t,o,c,f){let _=Pa();const I=Om(o,c),N=Om(o,yi.max());return ph(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,N,!0)},(H,Q,ue)=>{const Ce=this.ts(tn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);_=_.insert(Ce.key,Ce),_.size===f&&ue.done()}).next(()=>_)}newChangeBuffer(t){return new Mm(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(o=>o.byteSize)}getMetadata(t){return fh(t).get("remoteDocumentGlobalKey").next(o=>(sn(!!o),o))}Zn(t,o){return fh(t).put("remoteDocumentGlobalKey",o)}ts(t,o){if(o){const c=function Jc(l,t){let o;if(t.document)o=Jf(l.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const c=tn.fromSegments(t.noDocument.path),f=Qo(t.noDocument.readTime);o=Li.newNoDocument(c,f),t.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!t.unknownDocument)return dn();{const c=tn.fromSegments(t.unknownDocument.path),f=Qo(t.unknownDocument.version);o=Li.newUnknownDocument(c,f)}}return t.readTime&&o.setReadTime(function(c){const f=new Pi(c[0],c[1]);return Mn.fromTimestamp(f)}(t.readTime)),o}(this.serializer,o);if(!c.isNoDocument()||!c.version.isEqual(Mn.min()))return c}return Li.newInvalidDocument(t)}}function yg(l){return new ed(l)}class Mm extends ap{constructor(t,o){super(),this.os=t,this.trackRemovals=o,this.us=new yo(c=>c.toString(),(c,f)=>c.isEqual(f))}applyChanges(t){const o=[];let c=0,f=new es((_,I)=>or(_.canonicalString(),I.canonicalString()));return this.changes.forEach((_,I)=>{const N=this.us.get(_);if(o.push(this.os.removeEntry(t,_,N.readTime)),I.isValidDocument()){const H=Lv(this.os.serializer,I);f=f.add(_.path.popLast());const Q=Ye(H);c+=Q-N.size,o.push(this.os.addEntry(t,_,H))}else if(c-=N.size,this.trackRemovals){const H=Lv(this.os.serializer,I.convertToNoDocument(Mn.min()));o.push(this.os.addEntry(t,_,H))}}),f.forEach(_=>{o.push(this.os.indexManager.addToCollectionParentIndex(t,_))}),o.push(this.os.updateMetadata(t,c)),rt.waitFor(o)}getFromCache(t,o){return this.os.es(t,o).next(c=>(this.us.set(o,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(t,o){return this.os.ss(t,o).next(({documents:c,rs:f})=>(f.forEach((_,I)=>{this.us.set(_,{size:I,readTime:c.get(_).readTime})}),c))}}function fh(l){return zs(l,"remoteDocumentGlobal")}function ph(l){return zs(l,"remoteDocumentsV14")}function vg(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Om(l,t){const o=t.documentKey.path.toArray();return[l,Ut(t.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function gy(l,t){const o=l.path.toArray(),c=t.path.toArray();let f=0;for(let _=0;_<o.length-2&&_<c.length-2;++_)if(f=or(o[_],c[_]),f)return f;return f=or(o.length,c.length),f||(f=or(o[o.length-2],c[c.length-2]),f||or(o[o.length-1],c[c.length-1]))}class Tw{constructor(t,o){this.overlayedDocument=t,this.mutatedFields=o}}class Bv{constructor(t,o,c,f){this.remoteDocumentCache=t,this.mutationQueue=o,this.documentOverlayCache=c,this.indexManager=f}getDocument(t,o){let c=null;return this.documentOverlayCache.getOverlay(t,o).next(f=>(c=f,this.remoteDocumentCache.getEntry(t,o))).next(f=>(null!==c&&zf(c.mutation,f,da.empty(),Pi.now()),f))}getDocuments(t,o){return this.remoteDocumentCache.getEntries(t,o).next(c=>this.getLocalViewOfDocuments(t,c,Tr()).next(()=>c))}getLocalViewOfDocuments(t,o,c=Tr()){const f=pa();return this.populateOverlays(t,f,o).next(()=>this.computeViews(t,o,f,c).next(_=>{let I=wu();return _.forEach((N,H)=>{I=I.insert(N,H.overlayedDocument)}),I}))}getOverlayedDocuments(t,o){const c=pa();return this.populateOverlays(t,c,o).next(()=>this.computeViews(t,o,c,Tr()))}populateOverlays(t,o,c){const f=[];return c.forEach(_=>{o.has(_)||f.push(_)}),this.documentOverlayCache.getOverlays(t,f).next(_=>{_.forEach((I,N)=>{o.set(I,N)})})}computeViews(t,o,c,f){let _=Pa();const I=Zc(),N=Zc();return o.forEach((H,Q)=>{const ue=c.get(Q.key);f.has(Q.key)&&(void 0===ue||ue.mutation instanceof Iu)?_=_.insert(Q.key,Q):void 0!==ue?(I.set(Q.key,ue.mutation.getFieldMask()),zf(ue.mutation,Q,ue.mutation.getFieldMask(),Pi.now())):I.set(Q.key,da.empty())}),this.recalculateAndSaveOverlays(t,_).next(H=>(H.forEach((Q,ue)=>I.set(Q,ue)),o.forEach((Q,ue)=>{var Ce;return N.set(Q,new Tw(ue,null!==(Ce=I.get(Q))&&void 0!==Ce?Ce:null))}),N))}recalculateAndSaveOverlays(t,o){const c=Zc();let f=new vi((I,N)=>I-N),_=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,o).next(I=>{for(const N of I)N.keys().forEach(H=>{const Q=o.get(H);if(null===Q)return;let ue=c.get(H)||da.empty();ue=N.applyToLocalView(Q,ue),c.set(H,ue);const Ce=(f.get(N.batchId)||Tr()).add(H);f=f.insert(N.batchId,Ce)})}).next(()=>{const I=[],N=f.getReverseIterator();for(;N.hasNext();){const H=N.getNext(),Q=H.key,ue=H.value,Ce=pc();ue.forEach(nt=>{if(!_.has(nt)){const bt=Dm(o.get(nt),c.get(nt));null!==bt&&Ce.set(nt,bt),_=_.add(nt)}}),I.push(this.documentOverlayCache.saveOverlays(t,Q,Ce))}return rt.waitFor(I)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,o){return this.remoteDocumentCache.getEntries(t,o).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,o,c){return tn.isDocumentKey((f=o).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(t,o.path):E(o)?this.getDocumentsMatchingCollectionGroupQuery(t,o,c):this.getDocumentsMatchingCollectionQuery(t,o,c);var f}getNextDocuments(t,o,c,f){return this.remoteDocumentCache.getAllFromCollectionGroup(t,o,c,f).next(_=>{const I=f-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,o,c.largestBatchId,f-_.size):rt.resolve(pa());let N=-1,H=_;return I.next(Q=>rt.forEach(Q,(ue,Ce)=>(N<Ce.largestBatchId&&(N=Ce.largestBatchId),_.get(ue)?rt.resolve():this.remoteDocumentCache.getEntry(t,ue).next(nt=>{H=H.insert(ue,nt)}))).next(()=>this.populateOverlays(t,Q,_)).next(()=>this.computeViews(t,H,Q,Tr())).next(ue=>({batchId:N,changes:bd(ue)})))})}getDocumentsMatchingDocumentQuery(t,o){return this.getDocument(t,new tn(o)).next(c=>{let f=wu();return c.isFoundDocument()&&(f=f.insert(c.key,c)),f})}getDocumentsMatchingCollectionGroupQuery(t,o,c){const f=o.collectionGroup;let _=wu();return this.indexManager.getCollectionParents(t,f).next(I=>rt.forEach(I,N=>{const H=(Q=o,ue=N.child(f),new Zo(ue,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ue;return this.getDocumentsMatchingCollectionQuery(t,H,c).next(Q=>{Q.forEach((ue,Ce)=>{_=_.insert(ue,Ce)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,o,c){let f;return this.documentOverlayCache.getOverlaysForCollection(t,o.path,c.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,o,c,f))).next(_=>{f.forEach((N,H)=>{const Q=H.getKey();null===_.get(Q)&&(_=_.insert(Q,Li.newInvalidDocument(Q)))});let I=wu();return _.forEach((N,H)=>{const Q=f.get(N);void 0!==Q&&zf(Q.mutation,H,da.empty(),Pi.now()),Vt(o,H)&&(I=I.insert(N,H))}),I})}}class bw{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,o){return rt.resolve(this.cs.get(o))}saveBundleMetadata(t,o){var c;return this.cs.set(o.id,{id:(c=o).id,version:c.version,createTime:Cs(c.createTime)}),rt.resolve()}getNamedQuery(t,o){return rt.resolve(this.hs.get(o))}saveNamedQuery(t,o){return this.hs.set(o.name,{name:(c=o).name,query:cy(c.bundledQuery),readTime:Cs(c.readTime)}),rt.resolve();var c}}class Cw{constructor(){this.overlays=new vi(tn.comparator),this.ls=new Map}getOverlay(t,o){return rt.resolve(this.overlays.get(o))}getOverlays(t,o){const c=pa();return rt.forEach(o,f=>this.getOverlay(t,f).next(_=>{null!==_&&c.set(f,_)})).next(()=>c)}saveOverlays(t,o,c){return c.forEach((f,_)=>{this.we(t,o,_)}),rt.resolve()}removeOverlaysForBatchId(t,o,c){const f=this.ls.get(c);return void 0!==f&&(f.forEach(_=>this.overlays=this.overlays.remove(_)),this.ls.delete(c)),rt.resolve()}getOverlaysForCollection(t,o,c){const f=pa(),_=o.length+1,I=new tn(o.child("")),N=this.overlays.getIteratorFrom(I);for(;N.hasNext();){const H=N.getNext().value,Q=H.getKey();if(!o.isPrefixOf(Q.path))break;Q.path.length===_&&H.largestBatchId>c&&f.set(H.getKey(),H)}return rt.resolve(f)}getOverlaysForCollectionGroup(t,o,c,f){let _=new vi((Q,ue)=>Q-ue);const I=this.overlays.getIterator();for(;I.hasNext();){const Q=I.getNext().value;if(Q.getKey().getCollectionGroup()===o&&Q.largestBatchId>c){let ue=_.get(Q.largestBatchId);null===ue&&(ue=pa(),_=_.insert(Q.largestBatchId,ue)),ue.set(Q.getKey(),Q)}}const N=pa(),H=_.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((Q,ue)=>N.set(Q,ue)),!(N.size()>=f)););return rt.resolve(N)}we(t,o,c){const f=this.overlays.get(c.key);if(null!==f){const I=this.ls.get(f.largestBatchId).delete(c.key);this.ls.set(f.largestBatchId,I)}this.overlays=this.overlays.insert(c.key,new Xh(o,c));let _=this.ls.get(o);void 0===_&&(_=Tr(),this.ls.set(o,_)),this.ls.set(o,_.add(c.key))}}class Nm{constructor(){this.fs=new es(Na.ds),this.ws=new es(Na._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,o){const c=new Na(t,o);this.fs=this.fs.add(c),this.ws=this.ws.add(c)}gs(t,o){t.forEach(c=>this.addReference(c,o))}removeReference(t,o){this.ys(new Na(t,o))}ps(t,o){t.forEach(c=>this.removeReference(c,o))}Is(t){const o=new tn(new Zn([])),c=new Na(o,t),f=new Na(o,t+1),_=[];return this.ws.forEachInRange([c,f],I=>{this.ys(I),_.push(I.key)}),_}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const o=new tn(new Zn([])),c=new Na(o,t),f=new Na(o,t+1);let _=Tr();return this.ws.forEachInRange([c,f],I=>{_=_.add(I.key)}),_}containsKey(t){const o=new Na(t,0),c=this.fs.firstAfterOrEqual(o);return null!==c&&t.isEqual(c.key)}}class Na{constructor(t,o){this.key=t,this.As=o}static ds(t,o){return tn.comparator(t.key,o.key)||or(t.As,o.As)}static _s(t,o){return or(t.As,o.As)||tn.comparator(t.key,o.key)}}class rI{constructor(t,o){this.indexManager=t,this.referenceDelegate=o,this.mutationQueue=[],this.vs=1,this.Rs=new es(Na.ds)}checkEmpty(t){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,o,c,f){const _=this.vs;this.vs++;const I=new sg(_,o,c,f);this.mutationQueue.push(I);for(const N of f)this.Rs=this.Rs.add(new Na(N.key,_)),this.indexManager.addToCollectionParentIndex(t,N.key.path.popLast());return rt.resolve(I)}lookupMutationBatch(t,o){return rt.resolve(this.Ps(o))}getNextMutationBatchAfterBatchId(t,o){const f=this.bs(o+1),_=f<0?0:f;return rt.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,o){const c=new Na(o,0),f=new Na(o,Number.POSITIVE_INFINITY),_=[];return this.Rs.forEachInRange([c,f],I=>{const N=this.Ps(I.As);_.push(N)}),rt.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(t,o){let c=new es(or);return o.forEach(f=>{const _=new Na(f,0),I=new Na(f,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([_,I],N=>{c=c.add(N.As)})}),rt.resolve(this.Vs(c))}getAllMutationBatchesAffectingQuery(t,o){const c=o.path,f=c.length+1;let _=c;tn.isDocumentKey(_)||(_=_.child(""));const I=new Na(new tn(_),0);let N=new es(or);return this.Rs.forEachWhile(H=>{const Q=H.key.path;return!!c.isPrefixOf(Q)&&(Q.length===f&&(N=N.add(H.As)),!0)},I),rt.resolve(this.Vs(N))}Vs(t){const o=[];return t.forEach(c=>{const f=this.Ps(c);null!==f&&o.push(f)}),o}removeMutationBatch(t,o){sn(0===this.Ss(o.batchId,"removed")),this.mutationQueue.shift();let c=this.Rs;return rt.forEach(o.mutations,f=>{const _=new Na(f.key,o.batchId);return c=c.delete(_),this.referenceDelegate.markPotentiallyOrphaned(t,f.key)}).next(()=>{this.Rs=c})}Cn(t){}containsKey(t,o){const c=new Na(o,0),f=this.Rs.firstAfterOrEqual(c);return rt.resolve(o.isEqual(f&&f.key))}performConsistencyCheck(t){return rt.resolve()}Ss(t,o){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const o=this.bs(t);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class Eg{constructor(t){this.Ds=t,this.docs=new vi(tn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,o){const c=o.key,f=this.docs.get(c),_=f?f.size:0,I=this.Ds(o);return this.docs=this.docs.insert(c,{document:o.mutableCopy(),size:I}),this.size+=I-_,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const o=this.docs.get(t);o&&(this.docs=this.docs.remove(t),this.size-=o.size)}getEntry(t,o){const c=this.docs.get(o);return rt.resolve(c?c.document.mutableCopy():Li.newInvalidDocument(o))}getEntries(t,o){let c=Pa();return o.forEach(f=>{const _=this.docs.get(f);c=c.insert(f,_?_.document.mutableCopy():Li.newInvalidDocument(f))}),rt.resolve(c)}getDocumentsMatchingQuery(t,o,c,f){let _=Pa();const I=o.path,N=new tn(I.child("")),H=this.docs.getIteratorFrom(N);for(;H.hasNext();){const{key:Q,value:{document:ue}}=H.getNext();if(!I.isPrefixOf(Q.path))break;Q.path.length>I.length+1||xo(Hc(ue),c)<=0||(f.has(ue.key)||Vt(o,ue))&&(_=_.insert(ue.key,ue.mutableCopy()))}return rt.resolve(_)}getAllFromCollectionGroup(t,o,c,f){dn()}Cs(t,o){return rt.forEach(this.docs,c=>o(c))}newChangeBuffer(t){return new ji(this)}getSize(t){return rt.resolve(this.size)}}class ji extends ap{constructor(t){super(),this.os=t}applyChanges(t){const o=[];return this.changes.forEach((c,f)=>{f.isValidDocument()?o.push(this.os.addEntry(t,f)):this.os.removeEntry(c)}),rt.waitFor(o)}getFromCache(t,o){return this.os.getEntry(t,o)}getAllFromCache(t,o){return this.os.getEntries(t,o)}}class wg{constructor(t){this.persistence=t,this.xs=new yo(o=>Eu(o),rh),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Nm,this.targetCount=0,this.Ms=rp.kn()}forEachTarget(t,o){return this.xs.forEach((c,f)=>o(f)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Ns&&(this.Ns=o),rt.resolve()}Fn(t){this.xs.set(t.target,t);const o=t.targetId;o>this.highestTargetId&&(this.Ms=new rp(o),this.highestTargetId=o),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,o){return this.Fn(o),this.targetCount+=1,rt.resolve()}updateTargetData(t,o){return this.Fn(o),rt.resolve()}removeTargetData(t,o){return this.xs.delete(o.target),this.ks.Is(o.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,o,c){let f=0;const _=[];return this.xs.forEach((I,N)=>{N.sequenceNumber<=o&&null===c.get(N.targetId)&&(this.xs.delete(I),_.push(this.removeMatchingKeysForTargetId(t,N.targetId)),f++)}),rt.waitFor(_).next(()=>f)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,o){const c=this.xs.get(o)||null;return rt.resolve(c)}addMatchingKeys(t,o,c){return this.ks.gs(o,c),rt.resolve()}removeMatchingKeys(t,o,c){this.ks.ps(o,c);const f=this.persistence.referenceDelegate,_=[];return f&&o.forEach(I=>{_.push(f.markPotentiallyOrphaned(t,I))}),rt.waitFor(_)}removeMatchingKeysForTargetId(t,o){return this.ks.Is(o),rt.resolve()}getMatchingKeysForTargetId(t,o){const c=this.ks.Es(o);return rt.resolve(c)}containsKey(t,o){return rt.resolve(this.ks.containsKey(o))}}class km{constructor(t,o){this.$s={},this.overlays={},this.Os=new re(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new wg(this),this.indexManager=new Ew,this.remoteDocumentCache=new Eg(c=>this.referenceDelegate.Ls(c)),this.serializer=new Wu(o),this.qs=new bw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let o=this.overlays[t.toKey()];return o||(o=new Cw,this.overlays[t.toKey()]=o),o}getMutationQueue(t,o){let c=this.$s[t.toKey()];return c||(c=new rI(o,this.referenceDelegate),this.$s[t.toKey()]=c),c}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,o,c){Nt("MemoryPersistence","Starting transaction:",t);const f=new my(this.Os.next());return this.referenceDelegate.Us(),c(f).next(_=>this.referenceDelegate.Ks(f).next(()=>_)).toPromise().then(_=>(f.raiseOnCommittedEvent(),_))}Gs(t,o){return rt.or(Object.values(this.$s).map(c=>()=>c.containsKey(t,o)))}}class my extends Ro{constructor(t){super(),this.currentSequenceNumber=t}}class lp{constructor(t){this.persistence=t,this.Qs=new Nm,this.js=null}static zs(t){return new lp(t)}get Ws(){if(this.js)return this.js;throw dn()}addReference(t,o,c){return this.Qs.addReference(c,o),this.Ws.delete(c.toString()),rt.resolve()}removeReference(t,o,c){return this.Qs.removeReference(c,o),this.Ws.add(c.toString()),rt.resolve()}markPotentiallyOrphaned(t,o){return this.Ws.add(o.toString()),rt.resolve()}removeTarget(t,o){this.Qs.Is(o.targetId).forEach(f=>this.Ws.add(f.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,o.targetId).next(f=>{f.forEach(_=>this.Ws.add(_.toString()))}).next(()=>c.removeTargetData(t,o))}Us(){this.js=new Set}Ks(t){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Ws,c=>{const f=tn.fromPath(c);return this.Hs(t,f).next(_=>{_||o.removeEntry(f,Mn.min())})}).next(()=>(this.js=null,o.apply(t)))}updateLimboDocument(t,o){return this.Hs(t,o).next(c=>{c?this.Ws.delete(o.toString()):this.Ws.add(o.toString())})}Ls(t){return 0}Hs(t,o){return rt.or([()=>rt.resolve(this.Qs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(t,o),()=>this.persistence.Gs(t,o)])}}class jv{constructor(t){this.serializer=t}O(t,o,c,f){const _=new Xd("createOrUpgrade",o);var N;c<1&&f>=1&&(t.createObjectStore("owner"),(N=t).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ti,{unique:!0}),N.createObjectStore("documentMutations"),_y(t),function(N){N.createObjectStore("remoteDocuments")}(t));let I=rt.resolve();return c<3&&f>=3&&(0!==c&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(t),_y(t)),I=I.next(()=>function(N){const H=N.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Q)}(_))),c<4&&f>=4&&(0!==c&&(I=I.next(()=>function(N,H){return H.store("mutations").j().next(Q=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ti,{unique:!0});const ue=H.store("mutations"),Ce=Q.map(nt=>ue.put(nt));return rt.waitFor(Ce)})}(t,_))),I=I.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),c<5&&f>=5&&(I=I.next(()=>this.Ys(_))),c<6&&f>=6&&(I=I.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(_)))),c<7&&f>=7&&(I=I.next(()=>this.Zs(_))),c<8&&f>=8&&(I=I.next(()=>this.ti(t,_))),c<9&&f>=9&&(I=I.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(t)})),c<10&&f>=10&&(I=I.next(()=>this.ei(_))),c<11&&f>=11&&(I=I.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),c<12&&f>=12&&(I=I.next(()=>{!function(N){const H=N.createObjectStore("documentOverlays",{keyPath:jl});H.createIndex("collectionPathOverlayIndex",mu,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",la,{unique:!1})}(t)})),c<13&&f>=13&&(I=I.next(()=>function(N){const H=N.createObjectStore("remoteDocumentsV14",{keyPath:aa});H.createIndex("documentKeyIndex",lc),H.createIndex("collectionGroupIndex",_o)}(t)).next(()=>this.ni(t,_)).next(()=>t.deleteObjectStore("remoteDocuments"))),c<14&&f>=14&&(I=I.next(()=>this.si(t,_))),c<15&&f>=15&&(I=I.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Ja}).createIndex("sequenceNumberIndex",eh,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:th}).createIndex("documentKeyIndex",uc,{unique:!1})}(t))),I}Xs(t){let o=0;return t.store("remoteDocuments").X((c,f)=>{o+=Ye(f)}).next(()=>{const c={byteSize:o};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Ys(t){const o=t.store("mutationQueues"),c=t.store("mutations");return o.j().next(f=>rt.forEach(f,_=>{const I=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return c.j("userMutationsIndex",I).next(N=>rt.forEach(N,H=>{sn(H.userId===_.userId);const Q=yc(this.serializer,H);return np(t,_.userId,Q).next(()=>{})}))}))}Zs(t){const o=t.store("targetDocuments"),c=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(f=>{const _=[];return c.X((I,N)=>{const H=new Zn(I),Q=[0,ct(H)];_.push(o.get(Q).next(ue=>ue?rt.resolve():o.put({targetId:0,path:ct(H),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>rt.waitFor(_))})}ti(t,o){t.createObjectStore("collectionParents",{keyPath:wd});const c=o.store("collectionParents"),f=new dh,_=I=>{if(f.add(I)){const N=I.lastSegment(),H=I.popLast();return c.put({collectionId:N,parent:ct(H)})}};return o.store("remoteDocuments").X({Y:!0},(I,N)=>{const H=new Zn(I);return _(H.popLast())}).next(()=>o.store("documentMutations").X({Y:!0},([I,N,H],Q)=>{const ue=si(N);return _(ue.popLast())}))}ei(t){const o=t.store("targets");return o.X((c,f)=>{const _=In(f),I=zn(this.serializer,_);return o.put(I)})}ni(t,o){const c=o.store("remoteDocuments"),f=[];return c.X((_,I)=>{const N=o.store("remoteDocumentsV14"),H=(Q=I,Q.document?new tn(Zn.fromString(Q.document.name).popFirst(5)):Q.noDocument?tn.fromSegments(Q.noDocument.path):Q.unknownDocument?tn.fromSegments(Q.unknownDocument.path):dn()).path.toArray();var Q;const ue={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};f.push(N.put(ue))}).next(()=>rt.waitFor(f))}si(t,o){const c=o.store("mutations"),f=yg(this.serializer),_=new km(lp.zs,this.serializer.fe);return c.j().next(I=>{const N=new Map;return I.forEach(H=>{var Q;let ue=null!==(Q=N.get(H.userId))&&void 0!==Q?Q:Tr();yc(this.serializer,H).keys().forEach(Ce=>ue=ue.add(Ce)),N.set(H.userId,ue)}),rt.forEach(N,(H,Q)=>{const ue=new xn(Q),Ce=tp.de(this.serializer,ue),nt=_.getIndexManager(ue),bt=wc.de(ue,this.serializer,nt,_.referenceDelegate);return new Bv(f,bt,Ce,nt).recalculateAndSaveOverlaysForDocumentKeys(new cc(o,re.ct),H).next()})})}}function _y(l){l.createObjectStore("targetDocuments",{keyPath:Xi}).createIndex("documentTargetsIndex",Tl,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ya,{unique:!0}),l.createObjectStore("targetGlobal")}const up="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ys{constructor(t,o,c,f,_,I,N,H,Q,ue,Ce=15){if(this.allowTabSynchronization=t,this.persistenceKey=o,this.clientId=c,this.ii=_,this.window=I,this.document=N,this.ri=Q,this.oi=ue,this.ui=Ce,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=nt=>Promise.resolve(),!Ys.D())throw new Dt(lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new il(this,f),this.di=o+"main",this.serializer=new Wu(H),this.wi=new mo(this.di,this.ui,new jv(this.serializer)),this.Bs=new ip(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yg(this.serializer),this.qs=new ko,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ue&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dt(lt.FAILED_PRECONDITION,up);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new re(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var o=this;return this.fi=function(){var c=(0,w.Z)(function*(f){if(o.started)return t(f)});return function(f){return c.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var o=(0,w.Z)(function*(c){null===c.newVersion&&(yield t())});return function(c){return o.apply(this,arguments)}}())}setNetworkEnabled(t){var o=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,w.Z)(function*(){o.started&&(yield o.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Au(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(o=>{o||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(o=>this.isPrimary&&!o?this.Ai(t).next(()=>!1):!!o&&this.vi(t).next(()=>!0))).catch(t=>{if(Il(t))return Nt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Ig(t).get("owner").next(o=>rt.resolve(this.Ri(o)))}Pi(t){return Au(t).delete(this.clientId)}bi(){var t=this;return(0,w.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const o=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const f=zs(c,"clientMetadata");return f.j().next(_=>{const I=t.Si(_,18e5),N=_.filter(H=>-1===I.indexOf(H));return rt.forEach(N,H=>f.delete(H.clientId)).next(()=>N)})}).catch(()=>[]);if(t._i)for(const c of o)t._i.removeItem(t.Di(c.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?rt.resolve(!0):Ig(t).get("owner").next(o=>{if(null!==o&&this.Vi(o.leaseTimestampMs,5e3)&&!this.Ci(o.ownerId)){if(this.Ri(o)&&this.networkEnabled)return!0;if(!this.Ri(o)){if(!o.allowTabSynchronization)throw new Dt(lt.FAILED_PRECONDITION,up);return!1}}return!(!this.networkEnabled||!this.inForeground)||Au(t).j().next(c=>void 0===this.Si(c,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(o=>(this.isPrimary!==o&&Nt("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var t=this;return(0,w.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const c=new cc(o,re.ct);return t.Ai(c).next(()=>t.Pi(c))}),t.wi.close(),t.Mi()})()}Si(t,o){return t.filter(c=>this.Vi(c.updateTimeMs,o)&&!this.Ci(c.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>Au(t).j().next(o=>this.Si(o,18e5).map(c=>c.clientId)))}get started(){return this.Fs}getMutationQueue(t,o){return wc.de(t,this.serializer,o,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new pg(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return tp.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,o,c){Nt("IndexedDbPersistence","Starting transaction:",t);const f="readonly"===o?"readonly":"readwrite",_=15===(I=this.ui)?Hh:14===I?$c:13===I?Hl:12===I?jh:11===I?_u:void dn();var I;let N;return this.wi.runTransaction(t,f,_,H=>(N=new cc(H,this.Os?this.Os.next():re.ct),"readwrite-primary"===o?this.Ti(N).next(Q=>!!Q||this.Ei(N)).next(Q=>{if(!Q)throw ei(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Dt(lt.FAILED_PRECONDITION,un);return c(N)}).next(Q=>this.vi(N).next(()=>Q)):this.Oi(N).next(()=>c(N)))).then(H=>(N.raiseOnCommittedEvent(),H))}Oi(t){return Ig(t).get("owner").next(o=>{if(null!==o&&this.Vi(o.leaseTimestampMs,5e3)&&!this.Ci(o.ownerId)&&!this.Ri(o)&&!(this.oi||this.allowTabSynchronization&&o.allowTabSynchronization))throw new Dt(lt.FAILED_PRECONDITION,up)})}vi(t){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ig(t).put("owner",o)}static D(){return mo.D()}Ai(t){const o=Ig(t);return o.get("owner").next(c=>this.Ri(c)?(Nt("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):rt.resolve())}Vi(t,o){const c=Date.now();return!(t<c-o||t>c&&(ei(`Detected an update time that is in the future: ${t} > ${c}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const o=/(?:Version|Mobile)\/1[456]/;(0,m.G6)()&&(navigator.appVersion.match(o)||navigator.userAgent.match(o))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var o;try{const c=null!==(null===(o=this._i)||void 0===o?void 0:o.getItem(this.Di(t)));return Nt("IndexedDbPersistence",`Client '${t}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return ei("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){ei("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ig(l){return zs(l,"owner")}function Au(l){return zs(l,"clientMetadata")}function Lm(l,t){let o=l.projectId;return l.isDefaultDatabase||(o+="."+l.database),"firestore/"+t+"/"+o+"/"}class qi{constructor(t,o,c,f){this.targetId=t,this.fromCache=o,this.Fi=c,this.Bi=f}static Li(t,o){let c=Tr(),f=Tr();for(const _ of o.docChanges)switch(_.type){case 0:c=c.add(_.doc.key);break;case 1:f=f.add(_.doc.key)}return new qi(t,o.fromCache,c,f)}}class cp{constructor(){this.qi=!1}initialize(t,o){this.Ui=t,this.indexManager=o,this.qi=!0}getDocumentsMatchingQuery(t,o,c,f){return this.Ki(t,o).next(_=>_||this.Gi(t,o,f,c)).next(_=>_||this.Qi(t,o))}Ki(t,o){if(Ff(o))return rt.resolve(null);let c=M(o);return this.indexManager.getIndexType(t,c).next(f=>0===f?null:(null!==o.limit&&1===f&&(o=le(o,null,"F"),c=M(o)),this.indexManager.getDocumentsMatchingTarget(t,c).next(_=>{const I=Tr(..._);return this.Ui.getDocuments(t,I).next(N=>this.indexManager.getMinOffset(t,c).next(H=>{const Q=this.ji(o,N);return this.zi(o,Q,I,H.readTime)?this.Ki(t,le(o,null,"F")):this.Wi(t,Q,o,H)}))})))}Gi(t,o,c,f){return Ff(o)||f.isEqual(Mn.min())?this.Qi(t,o):this.Ui.getDocuments(t,c).next(_=>{const I=this.ji(o,_);return this.zi(o,I,c,f)?this.Qi(t,o):(Ui()<=_e.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),Xt(o)),this.Wi(t,I,o,wl(f,-1)))})}ji(t,o){let c=new es(Or(t));return o.forEach((f,_)=>{Vt(t,_)&&(c=c.add(_))}),c}zi(t,o,c,f){if(null===t.limit)return!1;if(c.size!==o.size)return!0;const _="F"===t.limitType?o.last():o.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(f)>0)}Qi(t,o){return Ui()<=_e.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Xt(o)),this.Ui.getDocumentsMatchingQuery(t,o,yi.min())}Wi(t,o,c,f){return this.Ui.getDocumentsMatchingQuery(t,c,f).next(_=>(o.forEach(I=>{_=_.insert(I.key,I)}),_))}}class ma{constructor(t,o,c,f){this.persistence=t,this.Hi=o,this.serializer=f,this.Ji=new vi(or),this.Yi=new yo(_=>Eu(_),rh),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(c)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>t.collect(o,this.Ji))}}function Oi(l,t,o,c){return new ma(l,t,o,c)}function yy(l,t){return td.apply(this,arguments)}function td(){return td=(0,w.Z)(function*(l,t){const o=an(l);return yield o.persistence.runTransaction("Handle user change","readonly",c=>{let f;return o.mutationQueue.getAllMutationBatches(c).next(_=>(f=_,o.tr(t),o.mutationQueue.getAllMutationBatches(c))).next(_=>{const I=[],N=[];let H=Tr();for(const Q of f){I.push(Q.batchId);for(const ue of Q.mutations)H=H.add(ue.key)}for(const Q of _){N.push(Q.batchId);for(const ue of Q.mutations)H=H.add(ue.key)}return o.localDocuments.getDocuments(c,H).next(Q=>({er:Q,removedBatchIds:I,addedBatchIds:N}))})})}),td.apply(this,arguments)}function vy(l){const t=an(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",o=>t.Bs.getLastRemoteSnapshotVersion(o))}function Js(l,t,o){let c=Tr(),f=Tr();return o.forEach(_=>c=c.add(_)),t.getEntries(l,c).next(_=>{let I=Pa();return o.forEach((N,H)=>{const Q=_.get(N);H.isFoundDocument()!==Q.isFoundDocument()&&(f=f.add(N)),H.isNoDocument()&&H.version.isEqual(Mn.min())?(t.removeEntry(N,H.readTime),I=I.insert(N,H)):!Q.isValidDocument()||H.version.compareTo(Q.version)>0||0===H.version.compareTo(Q.version)&&Q.hasPendingWrites?(t.addEntry(H),I=I.insert(N,H)):Nt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",Q.version," Watch version:",H.version)}),{nr:I,sr:f}})}function nd(l,t){const o=an(l);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===t&&(t=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function sl(l,t){const o=an(l);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let f;return o.Bs.getTargetData(c,t).next(_=>_?(f=_,rt.resolve(f)):o.Bs.allocateTargetId(c).next(I=>(f=new Jl(t,I,"TargetPurposeListen",c.currentSequenceNumber),o.Bs.addTargetData(c,f).next(()=>f))))}).then(c=>{const f=o.Ji.get(c.targetId);return(null===f||c.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(o.Ji=o.Ji.insert(c.targetId,c),o.Yi.set(t,c.targetId)),c})}function ts(l,t,o){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,w.Z)(function*(l,t,o){const c=an(l),f=c.Ji.get(t),_=o?"readwrite":"readwrite-primary";try{o||(yield c.persistence.runTransaction("Release target",_,I=>c.persistence.referenceDelegate.removeTarget(I,f)))}catch(I){if(!Il(I))throw I;Nt("LocalStore",`Failed to update sequence numbers for target ${t}: ${I}`)}c.Ji=c.Ji.remove(t),c.Yi.delete(f.target)}),Tc.apply(this,arguments)}function hf(l,t,o){const c=an(l);let f=Mn.min(),_=Tr();return c.persistence.runTransaction("Execute query","readonly",I=>function(N,H,Q){const ue=an(N),Ce=ue.Yi.get(Q);return void 0!==Ce?rt.resolve(ue.Ji.get(Ce)):ue.Bs.getTargetData(H,Q)}(c,I,M(t)).next(N=>{if(N)return f=N.lastLimboFreeSnapshotVersion,c.Bs.getMatchingKeysForTargetId(I,N.targetId).next(H=>{_=H})}).next(()=>c.Hi.getDocumentsMatchingQuery(I,t,o?f:Mn.min(),o?_:Tr())).next(N=>($v(c,Vn(t),N),{documents:N,ir:_})))}function dp(l,t){const o=an(l),c=an(o.Bs),f=o.Ji.get(t);return f?Promise.resolve(f.target):o.persistence.runTransaction("Get target data","readonly",_=>c.le(_,t).next(I=>I?I.target:null))}function bc(l,t){const o=an(l),c=o.Xi.get(t)||Mn.min();return o.persistence.runTransaction("Get new document changes","readonly",f=>o.Zi.getAllFromCollectionGroup(f,t,wl(c,-1),Number.MAX_SAFE_INTEGER)).then(f=>($v(o,t,f),f))}function $v(l,t,o){let c=l.Xi.get(t)||Mn.min();o.forEach((f,_)=>{_.readTime.compareTo(c)>0&&(c=_.readTime)}),l.Xi.set(t,c)}function rd(){return rd=(0,w.Z)(function*(l,t,o,c){const f=an(l);let _=Tr(),I=Pa();for(const Q of o){const ue=t.rr(Q.metadata.name);Q.document&&(_=_.add(ue));const Ce=t.ur(Q);Ce.setReadTime(t.cr(Q.metadata.readTime)),I=I.insert(ue,Ce)}const N=f.Zi.newChangeBuffer({trackRemovals:!0}),H=yield sl(f,(Q=c,M(nl(Zn.fromString(`__bundle__/docs/${Q}`)))));var Q;return f.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Js(Q,N,I).next(ue=>(N.apply(Q),ue)).next(ue=>f.Bs.removeMatchingKeysForTargetId(Q,H.targetId).next(()=>f.Bs.addMatchingKeys(Q,_,H.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(Q,ue.nr,ue.sr)).next(()=>ue.nr)))}),rd.apply(this,arguments)}function hp(l,t){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,w.Z)(function*(l,t,o=Tr()){const c=yield sl(l,M(cy(t.bundledQuery))),f=an(l);return f.persistence.runTransaction("Save named query","readwrite",_=>{const I=Cs(t.readTime);if(c.snapshotVersion.compareTo(I)>=0)return f.qs.saveNamedQuery(_,t);const N=c.withResumeToken(Is.EMPTY_BYTE_STRING,I);return f.Ji=f.Ji.insert(N.targetId,N),f.Bs.updateTargetData(_,N).next(()=>f.Bs.removeMatchingKeysForTargetId(_,c.targetId)).next(()=>f.Bs.addMatchingKeys(_,o,c.targetId)).next(()=>f.qs.saveNamedQuery(_,t))})}),Cc.apply(this,arguments)}function Dc(l,t){return`firestore_clients_${l}_${t}`}function pf(l,t,o){let c=`firestore_mutations_${l}_${o}`;return t.isAuthenticated()&&(c+=`_${t.uid}`),c}function Ku(l,t){return`firestore_targets_${l}_${t}`}class Fm{constructor(t,o,c,f){this.user=t,this.batchId=o,this.state=c,this.error=f}static ar(t,o,c){const f=JSON.parse(c);let _,I="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return I&&f.error&&(I="string"==typeof f.error.message&&"string"==typeof f.error.code,I&&(_=new Dt(f.error.code,f.error.message))),I?new Fm(t,o,f.state,_):(ei("SharedClientState",`Failed to parse mutation state for ID '${o}': ${c}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xd{constructor(t,o,c){this.targetId=t,this.state=o,this.error=c}static ar(t,o){const c=JSON.parse(o);let f,_="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(f=new Dt(c.error.code,c.error.message))),_?new xd(t,c.state,f):(ei("SharedClientState",`Failed to parse target state for ID '${t}': ${o}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class fp{constructor(t,o){this.clientId=t,this.activeTargetIds=o}static ar(t,o){const c=JSON.parse(o);let f="object"==typeof c&&c.activeTargetIds instanceof Array,_=rg();for(let I=0;f&&I<c.activeTargetIds.length;++I)f=Wt(c.activeTargetIds[I]),_=_.add(c.activeTargetIds[I]);return f?new fp(t,_):(ei("SharedClientState",`Failed to parse client data for instance '${t}': ${o}`),null)}}class pp{constructor(t,o){this.clientId=t,this.onlineState=o}static ar(t){const o=JSON.parse(t);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new pp(o.clientId,o.onlineState):(ei("SharedClientState",`Failed to parse online state: ${t}`),null)}}class gh{constructor(){this.activeTargetIds=rg()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Vm{constructor(t,o,c,f,_){this.window=t,this.ii=o,this.persistenceKey=c,this.wr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new vi(or),this.started=!1,this.yr=[];const I=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.pr=Dc(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new gh),this.Tr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,w.Z)(function*(){const o=yield t.syncEngine.$i();for(const f of o){if(f===t.wr)continue;const _=t.getItem(Dc(t.persistenceKey,f));if(_){const I=fp.ar(f,_);I&&(t.gr=t.gr.insert(I.clientId,I))}}t.Pr();const c=t.storage.getItem(t.vr);if(c){const f=t.br(c);f&&t.Vr(f)}for(const f of t.yr)t.mr(f);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let o=!1;return this.gr.forEach((c,f)=>{f.activeTargetIds.has(t)&&(o=!0)}),o}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,o,c){this.Dr(t,o,c),this.Cr(t)}addLocalQueryTarget(t){let o="not-current";if(this.isActiveQueryTarget(t)){const c=this.storage.getItem(Ku(this.persistenceKey,t));if(c){const f=xd.ar(t,c);f&&(o=f.state)}}return this.Nr.lr(t),this.Pr(),o}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ku(this.persistenceKey,t))}updateQueryState(t,o,c){this.kr(t,o,c)}handleUserChange(t,o,c){o.forEach(f=>{this.Cr(f)}),this.currentUser=t,c.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const o=this.storage.getItem(t);return Nt("SharedClientState","READ",t,o),o}setItem(t,o){Nt("SharedClientState","SET",t,o),this.storage.setItem(t,o)}removeItem(t){Nt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var o=this;const c=t;if(c.storageArea===this.storage){if(Nt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.pr)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,w.Z)(function*(){if(o.started){if(null!==c.key)if(o.Tr.test(c.key)){if(null==c.newValue){const f=o.Or(c.key);return o.Fr(f,null)}{const f=o.Br(c.key,c.newValue);if(f)return o.Fr(f.clientId,f)}}else if(o.Er.test(c.key)){if(null!==c.newValue){const f=o.Lr(c.key,c.newValue);if(f)return o.qr(f)}}else if(o.Ar.test(c.key)){if(null!==c.newValue){const f=o.Ur(c.key,c.newValue);if(f)return o.Kr(f)}}else if(c.key===o.vr){if(null!==c.newValue){const f=o.br(c.newValue);if(f)return o.Vr(f)}}else if(c.key===o.Ir){const f=function(_){let I=re.ct;if(null!=_)try{const N=JSON.parse(_);sn("number"==typeof N),I=N}catch(N){ei("SharedClientState","Failed to read sequence number from WebStorage",N)}return I}(c.newValue);f!==re.ct&&o.sequenceNumberHandler(f)}else if(c.key===o.Rr){const f=o.Gr(c.newValue);yield Promise.all(f.map(_=>o.syncEngine.Qr(_)))}}else o.yr.push(c)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,o,c){const f=new Fm(this.currentUser,t,o,c),_=pf(this.persistenceKey,this.currentUser,t);this.setItem(_,f.hr())}Cr(t){const o=pf(this.persistenceKey,this.currentUser,t);this.removeItem(o)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,o,c){const f=Ku(this.persistenceKey,t),_=new xd(t,o,c);this.setItem(f,_.hr())}$r(t){const o=JSON.stringify(Array.from(t));this.setItem(this.Rr,o)}Or(t){const o=this.Tr.exec(t);return o?o[1]:null}Br(t,o){const c=this.Or(t);return fp.ar(c,o)}Lr(t,o){const c=this.Er.exec(t),f=Number(c[1]);return Fm.ar(new xn(void 0!==c[2]?c[2]:null),f,o)}Ur(t,o){const c=this.Ar.exec(t),f=Number(c[1]);return xd.ar(f,o)}br(t){return pp.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var o=this;return(0,w.Z)(function*(){if(t.user.uid===o.currentUser.uid)return o.syncEngine.jr(t.batchId,t.state,t.error);Nt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,o){const c=o?this.gr.insert(t,o):this.gr.remove(t),f=this.Sr(this.gr),_=this.Sr(c),I=[],N=[];return _.forEach(H=>{f.has(H)||I.push(H)}),f.forEach(H=>{_.has(H)||N.push(H)}),this.syncEngine.Wr(I,N).then(()=>{this.gr=c})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let o=rg();return t.forEach((c,f)=>{o=o.unionWith(f.activeTargetIds)}),o}}class Rd{constructor(){this.Hr=new gh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,o,c){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,o,c){this.Jr[t]=o}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new gh,Promise.resolve()}handleUserChange(t,o,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zv{Yr(t){}shutdown(){}}class Tg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pd=null;function Zu(){return null===Pd?Pd=268435456+Math.round(2147483648*Math.random()):Pd++,"0x"+Pd.toString(16)}const Um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ey{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Lo="WebChannelConnection";class bg extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,o,c,f,_){const I=Zu(),N=this.To(t,o);Nt("RestConnection",`Sending RPC '${t}' ${I}:`,N,c);const H={};return this.Eo(H,f,_),this.Ao(t,N,H,c).then(Q=>(Nt("RestConnection",`Received RPC '${t}' ${I}: `,Q),Q),Q=>{throw $i("RestConnection",`RPC '${t}' ${I} failed with error: `,Q,"url: ",N,"request:",c),Q})}vo(t,o,c,f,_,I){return this.Io(t,o,c,f,_)}Eo(t,o,c){t["X-Goog-Api-Client"]="gl-js/ fire/"+ii,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,_)=>t[_]=f),c&&c.headers.forEach((f,_)=>t[_]=f)}To(t,o){return`${this.mo}/v1/${o}:${Um[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,o,c,f){const _=Zu();return new Promise((I,N)=>{const H=new Jt;H.setWithCredentials(!0),H.listenOnce(me.COMPLETE,()=>{try{switch(H.getLastErrorCode()){case G.NO_ERROR:const ue=H.getResponseJson();Nt(Lo,`XHR for RPC '${t}' ${_} received:`,JSON.stringify(ue)),I(ue);break;case G.TIMEOUT:Nt(Lo,`RPC '${t}' ${_} timed out`),N(new Dt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case G.HTTP_ERROR:const Ce=H.getStatus();if(Nt(Lo,`RPC '${t}' ${_} failed with status:`,Ce,"response text:",H.getResponseText()),Ce>0){let nt=H.getResponseJson();Array.isArray(nt)&&(nt=nt[0]);const bt=nt?.error;if(bt&&bt.status&&bt.message){const qt=function(yn){const Tn=yn.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(Tn)>=0?Tn:lt.UNKNOWN}(bt.status);N(new Dt(qt,bt.message))}else N(new Dt(lt.UNKNOWN,"Server responded with status "+H.getStatus()))}else N(new Dt(lt.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{Nt(Lo,`RPC '${t}' ${_} completed.`)}});const Q=JSON.stringify(f);Nt(Lo,`RPC '${t}' ${_} sending request:`,f),H.send(o,"POST",Q,c,15)})}Ro(t,o,c){const f=Zu(),_=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],I=Vu(),N=x(),H={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Q=this.longPollingOptions.timeoutSeconds;void 0!==Q&&(H.longPollingTimeout=Math.round(1e3*Q)),this.useFetchStreams&&(H.xmlHttpFactory=new Pe({})),this.Eo(H.initMessageHeaders,o,c),H.encodeInitMessageHeaders=!0;const ue=_.join("");Nt(Lo,`Creating RPC '${t}' stream ${f}: ${ue}`,H);const Ce=I.createWebChannel(ue,H);let nt=!1,bt=!1;const qt=new Ey({ro:Tn=>{bt?Nt(Lo,`Not sending because RPC '${t}' stream ${f} is closed:`,Tn):(nt||(Nt(Lo,`Opening RPC '${t}' stream ${f} transport.`),Ce.open(),nt=!0),Nt(Lo,`RPC '${t}' stream ${f} sending:`,Tn),Ce.send(Tn))},oo:()=>Ce.close()}),yn=(Tn,br,wi)=>{Tn.listen(br,ni=>{try{wi(ni)}catch(Io){setTimeout(()=>{throw Io},0)}})};return yn(Ce,Et.EventType.OPEN,()=>{bt||Nt(Lo,`RPC '${t}' stream ${f} transport opened.`)}),yn(Ce,Et.EventType.CLOSE,()=>{bt||(bt=!0,Nt(Lo,`RPC '${t}' stream ${f} transport closed`),qt.wo())}),yn(Ce,Et.EventType.ERROR,Tn=>{bt||(bt=!0,$i(Lo,`RPC '${t}' stream ${f} transport errored:`,Tn),qt.wo(new Dt(lt.UNAVAILABLE,"The operation could not be completed")))}),yn(Ce,Et.EventType.MESSAGE,Tn=>{var br;if(!bt){const wi=Tn.data[0];sn(!!wi);const Io=wi.error||(null===(br=wi[0])||void 0===br?void 0:br.error);if(Io){Nt(Lo,`RPC '${t}' stream ${f} received error:`,Io);const hs=Io.status;let ms=function(Qd){const iv=Ls[Qd];if(void 0!==iv)return Cl(iv)}(hs),cl=Io.message;void 0===ms&&(ms=lt.INTERNAL,cl="Unknown error status: "+hs+" with message "+Io.message),bt=!0,qt.wo(new Dt(ms,cl)),Ce.close()}else Nt(Lo,`RPC '${t}' stream ${f} received:`,wi),qt._o(wi)}}),yn(N,B.STAT_EVENT,Tn=>{Tn.stat===he.PROXY?Nt(Lo,`RPC '${t}' stream ${f} detected buffering proxy`):Tn.stat===he.NOPROXY&&Nt(Lo,`RPC '${t}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{qt.fo()},0),qt}}function mh(){return typeof window<"u"?window:null}function uo(){return typeof document<"u"?document:null}function _h(l){return new gw(l,!0)}class Wi{constructor(t,o,c=1e3,f=1.5,_=6e4){this.ii=t,this.timerId=o,this.Po=c,this.bo=f,this.Vo=_,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const o=Math.floor(this.So+this.ko()),c=Math.max(0,Date.now()-this.Co),f=Math.max(0,o-c);f>0&&Nt("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.So} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,f,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yh{constructor(t,o,c,f,_,I,N,H){this.ii=t,this.$o=c,this.Oo=f,this.connection=_,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=N,this.listener=H,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Wi(t,o)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,w.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,w.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,o){var c=this;return(0,w.Z)(function*(){c.Ho(),c.Jo(),c.qo.cancel(),c.Fo++,4!==t?c.qo.reset():o&&o.code===lt.RESOURCE_EXHAUSTED?(ei(o.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),c.qo.xo()):o&&o.code===lt.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.Yo(),c.stream.close(),c.stream=null),c.state=t,yield c.listener.ao(o)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),o=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,f])=>{this.Fo===o&&this.Zo(c,f)},c=>{t(()=>{const f=new Dt(lt.UNKNOWN,"Fetching auth token failed: "+c.message);return this.tu(f)})})}Zo(t,o){const c=this.Xo(this.Fo);this.stream=this.eu(t,o),this.stream.uo(()=>{c(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(f=>{c(()=>this.tu(f))}),this.stream.onMessage(f=>{c(()=>this.onMessage(f))})}Go(){var t=this;this.state=5,this.qo.No((0,w.Z)(function*(){t.state=0,t.start()}))}tu(t){return Nt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return o=>{this.ii.enqueueAndForget(()=>this.Fo===t?o():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bm extends yh{constructor(t,o,c,f,_,I){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,c,f,I),this.serializer=_}eu(t,o){return this.connection.Ro("Listen",t,o)}onMessage(t){this.qo.reset();const o=function rf(l,t){let o;if("targetChange"in t){const c="NO_CHANGE"===(H=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:dn(),f=t.targetChange.targetIds||[],_=function(H,Q){return H.useProto3Json?(sn(void 0===Q||"string"==typeof Q),Is.fromBase64String(Q||"")):(sn(void 0===Q||Q instanceof Uint8Array),Is.fromUint8Array(Q||new Uint8Array))}(l,t.targetChange.resumeToken),I=t.targetChange.cause,N=I&&function(H){const Q=void 0===H.code?lt.UNKNOWN:Cl(H.code);return new Dt(Q,H.message||"")}(I);o=new Sm(c,f,_,N||null)}else if("documentChange"in t){const c=t.documentChange,f=Dl(l,c.document.name),_=Cs(c.document.updateTime),I=c.document.createTime?Cs(c.document.createTime):Mn.min(),N=new Oo({mapValue:{fields:c.document.fields}}),H=Li.newFoundDocument(f,_,I,N);o=new _c(c.targetIds||[],c.removedTargetIds||[],H.key,H)}else if("documentDelete"in t){const c=t.documentDelete,f=Dl(l,c.document),_=c.readTime?Cs(c.readTime):Mn.min(),I=Li.newNoDocument(f,_);o=new _c([],c.removedTargetIds||[],I.key,I)}else if("documentRemove"in t){const c=t.documentRemove,f=Dl(l,c.document);o=new _c([],c.removedTargetIds||[],f,null)}else{if(!("filter"in t))return dn();{const c=t.filter,{count:f=0,unchangedNames:_}=c,I=new ty(f,_);o=new ny(c.targetId,I)}}var H;return o}(this.serializer,t),c=function(f){if(!("targetChange"in f))return Mn.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?Mn.min():_.readTime?Cs(_.readTime):Mn.min()}(t);return this.listener.nu(o,c)}su(t){const o={};o.database=bu(this.serializer),o.addTarget=function(f,_){let I;const N=_.target;if(I=ih(N)?{documents:sy(f,N)}:{query:oy(f,N)},I.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){I.resumeToken=Bi(f,_.resumeToken);const H=Yl(f,_.expectedCount);null!==H&&(I.expectedCount=H)}else if(_.snapshotVersion.compareTo(Mn.min())>0){I.readTime=Dd(f,_.snapshotVersion.toTimestamp());const H=Yl(f,_.expectedCount);null!==H&&(I.expectedCount=H)}return I}(this.serializer,t);const c=function mw(l,t){const o=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dn()}}(t.purpose);return null==o?null:{"goog-listen-tags":o}}(0,t);c&&(o.labels=c),this.Wo(o)}iu(t){const o={};o.database=bu(this.serializer),o.removeTarget=t,this.Wo(o)}}class gp extends yh{constructor(t,o,c,f,_,I){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,c,f,I),this.serializer=_,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,o){return this.connection.Ro("Write",t,o)}onMessage(t){if(sn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const o=function Xf(l,t){return l&&l.length>0?(sn(void 0!==t),l.map(o=>function(c,f){let _=Cs(c.updateTime?c.updateTime:f);return _.isEqual(Mn.min())&&(_=Cs(f)),new Cm(_,c.transformResults||[])}(o,t))):[]}(t.writeResults,t.commitTime),c=Cs(t.commitTime);return this.listener.cu(c,o)}return sn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=bu(this.serializer),this.Wo(t)}uu(t){const o={streamToken:this.lastStreamToken,writes:t.map(c=>Yc(this.serializer,c))};this.Wo(o)}}class mp extends class{}{constructor(t,o,c,f){super(),this.authCredentials=t,this.appCheckCredentials=o,this.connection=c,this.serializer=f,this.lu=!1}fu(){if(this.lu)throw new Dt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,o,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Io(t,o,c,f,_)).catch(f=>{throw"FirebaseError"===f.name?(f.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Dt(lt.UNKNOWN,f.toString())})}vo(t,o,c,f){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,I])=>this.connection.vo(t,o,c,_,I,f)).catch(_=>{throw"FirebaseError"===_.name?(_.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Dt(lt.UNKNOWN,_.toString())})}terminate(){this.lu=!0}}class ns{constructor(t,o){this.asyncQueue=t,this.onlineStateHandler=o,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const o=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ei(o),this.mu=!1):Nt("OnlineStateTracker",o)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hi{constructor(t,o,c,f,_){var I=this;this.localStore=t,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=_,this.Pu.Yr(N=>{c.enqueueAndForget((0,w.Z)(function*(){var H;Sc(I)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,w.Z)(function*(Q){const ue=an(Q);ue.vu.add(4),yield vh(ue),ue.bu.set("Unknown"),ue.vu.delete(4),yield Ac(ue)}),function(Q){return H.apply(this,arguments)})(I))}))}),this.bu=new ns(c,f)}}function Ac(l){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,w.Z)(function*(l){if(Sc(l))for(const t of l.Ru)yield t(!0)}),Cg.apply(this,arguments)}function vh(l){return wy.apply(this,arguments)}function wy(){return wy=(0,w.Z)(function*(l){for(const t of l.Ru)yield t(!1)}),wy.apply(this,arguments)}function _p(l,t){const o=an(l);o.Au.has(t.targetId)||(o.Au.set(t.targetId,t),Dg(o)?jm(o):Ld(o).Ko()&&yp(o,t))}function Md(l,t){const o=an(l),c=Ld(o);o.Au.delete(t),c.Ko()&&Iy(o,t),0===o.Au.size&&(c.Ko()?c.jo():Sc(o)&&o.bu.set("Unknown"))}function yp(l,t){if(l.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mn.min())>0){const o=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(o)}Ld(l).su(t)}function Iy(l,t){l.Vu.qt(t),Ld(l).iu(t)}function jm(l){l.Vu=new Ov({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),le:t=>l.Au.get(t)||null,ue:()=>l.datastore.serializer.databaseId}),Ld(l).start(),l.bu.gu()}function Dg(l){return Sc(l)&&!Ld(l).Uo()&&l.Au.size>0}function Sc(l){return 0===an(l).vu.size}function Ty(l){l.Vu=void 0}function Wv(l){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,w.Z)(function*(l){l.Au.forEach((t,o)=>{yp(l,t)})}),Hm.apply(this,arguments)}function Kv(l,t){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,w.Z)(function*(l,t){Ty(l),Dg(l)?(l.bu.Iu(t),jm(l)):l.bu.set("Unknown")}),Zv.apply(this,arguments)}function Dw(l,t,o){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,w.Z)(function*(l,t,o){if(l.bu.set("Online"),t instanceof Sm&&2===t.state&&t.cause)try{yield(c=(0,w.Z)(function*(f,_){const I=_.cause;for(const N of _.targetIds)f.Au.has(N)&&(yield f.remoteSyncer.rejectListen(N,I),f.Au.delete(N),f.Vu.removeTarget(N))}),function(f,_){return c.apply(this,arguments)})(l,t)}catch(c){Nt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),yield id(l,c)}else if(t instanceof _c?l.Vu.Ht(t):t instanceof ny?l.Vu.ne(t):l.Vu.Xt(t),!o.isEqual(Mn.min()))try{const c=yield vy(l.localStore);o.compareTo(c)>=0&&(yield function(f,_){const I=f.Vu.ce(_);return I.targetChanges.forEach((N,H)=>{if(N.resumeToken.approximateByteSize()>0){const Q=f.Au.get(H);Q&&f.Au.set(H,Q.withResumeToken(N.resumeToken,_))}}),I.targetMismatches.forEach((N,H)=>{const Q=f.Au.get(N);if(!Q)return;f.Au.set(N,Q.withResumeToken(Is.EMPTY_BYTE_STRING,Q.snapshotVersion)),Iy(f,N);const ue=new Jl(Q.target,N,H,Q.sequenceNumber);yp(f,ue)}),f.remoteSyncer.applyRemoteEvent(I)}(l,o))}catch(c){Nt("RemoteStore","Failed to raise snapshot:",c),yield id(l,c)}var c}),Eh.apply(this,arguments)}function id(l,t,o){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,w.Z)(function*(l,t,o){if(!Il(t))throw t;l.vu.add(1),yield vh(l),l.bu.set("Offline"),o||(o=()=>vy(l.localStore)),l.asyncQueue.enqueueRetryable((0,w.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield o(),l.vu.delete(1),yield Ac(l)}))}),Qu.apply(this,arguments)}function Od(l,t){return t().catch(o=>id(l,o,t))}function Nd(l){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,w.Z)(function*(l){const t=an(l),o=sd(t);let c=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Qv(t);)try{const f=yield nd(t.localStore,c);if(null===f){0===t.Eu.length&&o.jo();break}c=f.batchId,kd(t,f)}catch(f){yield id(t,f)}by(t)&&wh(t)}),Ag.apply(this,arguments)}function Qv(l){return Sc(l)&&l.Eu.length<10}function kd(l,t){l.Eu.push(t);const o=sd(l);o.Ko()&&o.ou&&o.uu(t.mutations)}function by(l){return Sc(l)&&!sd(l).Uo()&&l.Eu.length>0}function wh(l){sd(l).start()}function Cy(l){return gf.apply(this,arguments)}function gf(){return gf=(0,w.Z)(function*(l){sd(l).hu()}),gf.apply(this,arguments)}function Dy(l){return mf.apply(this,arguments)}function mf(){return mf=(0,w.Z)(function*(l){const t=sd(l);for(const o of l.Eu)t.uu(o.mutations)}),mf.apply(this,arguments)}function _f(l,t,o){return La.apply(this,arguments)}function La(){return La=(0,w.Z)(function*(l,t,o){const c=l.Eu.shift(),f=Jh.from(c,t,o);yield Od(l,()=>l.remoteSyncer.applySuccessfulWrite(f)),yield Nd(l)}),La.apply(this,arguments)}function Yv(l,t){return vp.apply(this,arguments)}function vp(){return vp=(0,w.Z)(function*(l,t){var o;t&&sd(l).ou&&(yield(o=(0,w.Z)(function*(c,f){if(og(_=f.code)&&_!==lt.ABORTED){const I=c.Eu.shift();sd(c).Qo(),yield Od(c,()=>c.remoteSyncer.rejectFailedWrite(I.batchId,f)),yield Nd(c)}var _}),function(c,f){return o.apply(this,arguments)})(l,t)),by(l)&&wh(l)}),vp.apply(this,arguments)}function Sg(l,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,w.Z)(function*(l,t){const o=an(l);o.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const c=Sc(o);o.vu.add(3),yield vh(o),c&&o.bu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(t),o.vu.delete(3),yield Ac(o)}),Ih.apply(this,arguments)}function $m(l,t){return Th.apply(this,arguments)}function Th(){return Th=(0,w.Z)(function*(l,t){const o=an(l);t?(o.vu.delete(2),yield Ac(o)):t||(o.vu.add(2),yield vh(o),o.bu.set("Unknown"))}),Th.apply(this,arguments)}function Ld(l){return l.Su||(l.Su=function(t,o,c){const f=an(t);return f.fu(),new Bm(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{uo:Wv.bind(null,l),ao:Kv.bind(null,l),nu:Dw.bind(null,l)}),l.Ru.push(function(){var t=(0,w.Z)(function*(o){o?(l.Su.Qo(),Dg(l)?jm(l):l.bu.set("Unknown")):(yield l.Su.stop(),Ty(l))});return function(o){return t.apply(this,arguments)}}())),l.Su}function sd(l){return l.Du||(l.Du=function(t,o,c){const f=an(t);return f.fu(),new gp(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{uo:Cy.bind(null,l),ao:Yv.bind(null,l),au:Dy.bind(null,l),cu:_f.bind(null,l)}),l.Ru.push(function(){var t=(0,w.Z)(function*(o){o?(l.Du.Qo(),yield Nd(l)):(yield l.Du.stop(),l.Eu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${l.Eu.length} pending writes`),l.Eu=[]))});return function(o){return t.apply(this,arguments)}}())),l.Du}class xg{constructor(t,o,c,f,_){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=c,this.op=f,this.removalCallback=_,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(t,o,c,f,_){const I=Date.now()+c,N=new xg(t,o,I,f,_);return N.start(c),N}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ol(l,t){if(ei("AsyncQueue",`${t}: ${l}`),Il(l))return new Dt(lt.UNAVAILABLE,`${t}: ${l}`);throw l}class Sl{constructor(t){this.comparator=t?(o,c)=>t(o,c)||tn.comparator(o.key,c.key):(o,c)=>tn.comparator(o.key,c.key),this.keyedMap=wu(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new Sl(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const o=this.keyedMap.get(t);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((o,c)=>(t(o),!1))}add(t){const o=this.delete(t.key);return o.copy(o.keyedMap.insert(t.key,t),o.sortedSet.insert(t,null))}delete(t){const o=this.get(t);return o?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(o)):this}isEqual(t){if(!(t instanceof Sl)||this.size!==t.size)return!1;const o=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;o.hasNext();){const f=o.getNext().key,_=c.getNext().key;if(!f.isEqual(_))return!1}return!0}toString(){const t=[];return this.forEach(o=>{t.push(o.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,o){const c=new Sl;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=o,c}}class Aw{constructor(){this.Cu=new vi(tn.comparator)}track(t){const o=t.doc.key,c=this.Cu.get(o);c?0!==t.type&&3===c.type?this.Cu=this.Cu.insert(o,t):3===t.type&&1!==c.type?this.Cu=this.Cu.insert(o,{type:c.type,doc:t.doc}):2===t.type&&2===c.type?this.Cu=this.Cu.insert(o,{type:2,doc:t.doc}):2===t.type&&0===c.type?this.Cu=this.Cu.insert(o,{type:0,doc:t.doc}):1===t.type&&0===c.type?this.Cu=this.Cu.remove(o):1===t.type&&2===c.type?this.Cu=this.Cu.insert(o,{type:1,doc:c.doc}):0===t.type&&1===c.type?this.Cu=this.Cu.insert(o,{type:2,doc:t.doc}):dn():this.Cu=this.Cu.insert(o,t)}xu(){const t=[];return this.Cu.inorderTraversal((o,c)=>{t.push(c)}),t}}class Eo{constructor(t,o,c,f,_,I,N,H,Q){this.query=t,this.docs=o,this.oldDocs=c,this.docChanges=f,this.mutatedKeys=_,this.fromCache=I,this.syncStateChanged=N,this.excludesMetadataChanges=H,this.hasCachedResults=Q}static fromInitialDocuments(t,o,c,f,_){const I=[];return o.forEach(N=>{I.push({type:0,doc:N})}),new Eo(t,o,Sl.emptySet(o),I,c,f,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$e(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const o=this.docChanges,c=t.docChanges;if(o.length!==c.length)return!1;for(let f=0;f<o.length;f++)if(o[f].type!==c[f].type||!o[f].doc.isEqual(c[f].doc))return!1;return!0}}class Fd{constructor(){this.Nu=void 0,this.listeners=[]}}class yf{constructor(){this.queries=new yo(t=>pt(t),$e),this.onlineState="Unknown",this.ku=new Set}}function zm(l,t){return xc.apply(this,arguments)}function xc(){return xc=(0,w.Z)(function*(l,t){const o=an(l),c=t.query;let f=!1,_=o.queries.get(c);if(_||(f=!0,_=new Fd),f)try{_.Nu=yield o.onListen(c)}catch(I){const N=ol(I,`Initialization of query '${Xt(t.query)}' failed`);return void t.onError(N)}o.queries.set(c,_),_.listeners.push(t),t.Mu(o.onlineState),_.Nu&&t.$u(_.Nu)&&Vr(o)}),xc.apply(this,arguments)}function Gm(l,t){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,w.Z)(function*(l,t){const o=an(l),c=t.query;let f=!1;const _=o.queries.get(c);if(_){const I=_.listeners.indexOf(t);I>=0&&(_.listeners.splice(I,1),f=0===_.listeners.length)}if(f)return o.queries.delete(c),o.onUnlisten(c)}),Vd.apply(this,arguments)}function od(l,t){const o=an(l);let c=!1;for(const f of t){const I=o.queries.get(f.query);if(I){for(const N of I.listeners)N.$u(f)&&(c=!0);I.Nu=f}}c&&Vr(o)}function Jv(l,t,o){const c=an(l),f=c.queries.get(t);if(f)for(const _ of f.listeners)_.onError(o);c.queries.delete(t)}function Vr(l){l.ku.forEach(t=>{t.next()})}class Xv{constructor(t,o,c){this.query=t,this.Ou=o,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=c||{}}$u(t){if(!this.options.includeMetadataChanges){const c=[];for(const f of t.docChanges)3!==f.type&&c.push(f);t=new Eo(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let o=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),o=!0):this.qu(t,this.onlineState)&&(this.Uu(t),o=!0),this.Bu=t,o}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let o=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),o=!0),o}qu(t,o){return!t.fromCache||(!this.options.Ku||!("Offline"!==o))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===o)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class Fo{constructor(t,o){this.Gu=t,this.byteLength=o}Qu(){return"metadata"in this.Gu}}class Ay{constructor(t){this.serializer=t}rr(t){return Dl(this.serializer,t)}ur(t){return t.metadata.exists?Jf(this.serializer,t.document,!1):Li.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Cs(t)}}class qm{constructor(t,o,c){this.ju=t,this.localStore=o,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sy(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let o=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++o;const c=Zn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}Wu(t){const o=new Map,c=new Ay(this.serializer);for(const f of t)if(f.metadata.queries){const _=c.rr(f.metadata.name);for(const I of f.metadata.queries){const N=(o.get(I)||Tr()).add(_);o.set(I,N)}}return o}complete(){var t=this;return(0,w.Z)(function*(){const o=yield function ff(l,t,o,c){return rd.apply(this,arguments)}(t.localStore,new Ay(t.serializer),t.documents,t.ju.id),c=t.Wu(t.documents);for(const f of t.queries)yield hp(t.localStore,f,c.get(f.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:o}})()}}function Sy(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Sw{constructor(t){this.key=t}}class Wm{constructor(t){this.key=t}}class xy{constructor(t,o){this.query=t,this.Yu=o,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Tr(),this.mutatedKeys=Tr(),this.tc=Or(t),this.ec=new Sl(this.tc)}get nc(){return this.Yu}sc(t,o){const c=o?o.ic:new Aw,f=o?o.ec:this.ec;let _=o?o.mutatedKeys:this.mutatedKeys,I=f,N=!1;const H="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,Q="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(t.inorderTraversal((ue,Ce)=>{const nt=f.get(ue),bt=Vt(this.query,Ce)?Ce:null,qt=!!nt&&this.mutatedKeys.has(nt.key),yn=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let Tn=!1;nt&&bt?nt.data.isEqual(bt.data)?qt!==yn&&(c.track({type:3,doc:bt}),Tn=!0):this.rc(nt,bt)||(c.track({type:2,doc:bt}),Tn=!0,(H&&this.tc(bt,H)>0||Q&&this.tc(bt,Q)<0)&&(N=!0)):!nt&&bt?(c.track({type:0,doc:bt}),Tn=!0):nt&&!bt&&(c.track({type:1,doc:nt}),Tn=!0,(H||Q)&&(N=!0)),Tn&&(bt?(I=I.add(bt),_=yn?_.add(ue):_.delete(ue)):(I=I.delete(ue),_=_.delete(ue)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const ue="F"===this.query.limitType?I.last():I.first();I=I.delete(ue.key),_=_.delete(ue.key),c.track({type:1,doc:ue})}return{ec:I,ic:c,zi:N,mutatedKeys:_}}rc(t,o){return t.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(t,o,c){const f=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const _=t.ic.xu();_.sort((Q,ue)=>function(Ce,nt){const bt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return bt(Ce)-bt(nt)}(Q.type,ue.type)||this.tc(Q.doc,ue.doc)),this.oc(c);const I=o?this.uc():[],N=0===this.Zu.size&&this.current?1:0,H=N!==this.Xu;return this.Xu=N,0!==_.length||H?{snapshot:new Eo(this.query,t.ec,f,_,t.mutatedKeys,0===N,H,!1,!!c&&c.resumeToken.approximateByteSize()>0),cc:I}:{cc:I}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Aw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(o=>this.Yu=this.Yu.add(o)),t.modifiedDocuments.forEach(o=>{}),t.removedDocuments.forEach(o=>this.Yu=this.Yu.delete(o)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Tr(),this.ec.forEach(c=>{this.ac(c.key)&&(this.Zu=this.Zu.add(c.key))});const o=[];return t.forEach(c=>{this.Zu.has(c)||o.push(new Wm(c))}),this.Zu.forEach(c=>{t.has(c)||o.push(new Sw(c))}),o}hc(t){this.Yu=t.ir,this.Zu=Tr();const o=this.sc(t.documents);return this.applyChanges(o,!0)}lc(){return Eo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ry{constructor(t,o,c){this.query=t,this.targetId=o,this.view=c}}class Ep{constructor(t){this.key=t,this.fc=!1}}class bh{constructor(t,o,c,f,_,I){this.localStore=t,this.remoteStore=o,this.eventManager=c,this.sharedClientState=f,this.currentUser=_,this.maxConcurrentLimboResolutions=I,this.dc={},this.wc=new yo(N=>pt(N),$e),this._c=new Map,this.mc=new Set,this.gc=new vi(tn.comparator),this.yc=new Map,this.Ic=new Nm,this.Tc={},this.Ec=new Map,this.Ac=rp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Py(l,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,w.Z)(function*(l,t){const o=xp(l);let c,f;const _=o.wc.get(t);if(_)c=_.targetId,o.sharedClientState.addLocalQueryTarget(c),f=_.view.lc();else{const I=yield sl(o.localStore,M(t)),N=o.sharedClientState.addLocalQueryTarget(I.targetId);c=I.targetId,f=yield Rg(o,t,c,"current"===N,I.resumeToken),o.isPrimaryClient&&_p(o.remoteStore,I)}return f}),Ud.apply(this,arguments)}function Rg(l,t,o,c,f){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,w.Z)(function*(l,t,o,c,f){l.Rc=(Ce,nt,bt)=>{return(qt=(0,w.Z)(function*(yn,Tn,br,wi){let ni=Tn.view.sc(br);ni.zi&&(ni=yield hf(yn.localStore,Tn.query,!1).then(({documents:ms})=>Tn.view.sc(ms,ni)));const Io=wi&&wi.targetChanges.get(Tn.targetId),hs=Tn.view.applyChanges(ni,yn.isPrimaryClient,Io);return Og(yn,Tn.targetId,hs.cc),hs.snapshot}),function(yn,Tn,br,wi){return qt.apply(this,arguments)})(l,Ce,nt,bt);var qt};const _=yield hf(l.localStore,t,!0),I=new xy(t,_.ir),N=I.sc(_.documents),H=Kf.createSynthesizedTargetChangeForCurrentChange(o,c&&"Offline"!==l.onlineState,f),Q=I.applyChanges(N,l.isPrimaryClient,H);Og(l,o,Q.cc);const ue=new Ry(t,o,I);return l.wc.set(t,ue),l._c.has(o)?l._c.get(o).push(t):l._c.set(o,[t]),Q.snapshot}),Ch.apply(this,arguments)}function My(l,t){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,w.Z)(function*(l,t){const o=an(l),c=o.wc.get(t),f=o._c.get(c.targetId);if(f.length>1)return o._c.set(c.targetId,f.filter(_=>!$e(_,t))),void o.wc.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield ts(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),Md(o.remoteStore,c.targetId),Ah(o,c.targetId)}).catch(Kn))):(Ah(o,c.targetId),yield ts(o.localStore,c.targetId,!0))}),Bd.apply(this,arguments)}function Dh(){return Dh=(0,w.Z)(function*(l,t,o){const c=Rp(l);try{const f=yield function(_,I){const N=an(_),H=Pi.now(),Q=I.reduce((nt,bt)=>nt.add(bt.key),Tr());let ue,Ce;return N.persistence.runTransaction("Locally write mutations","readwrite",nt=>{let bt=Pa(),qt=Tr();return N.Zi.getEntries(nt,Q).next(yn=>{bt=yn,bt.forEach((Tn,br)=>{br.isValidDocument()||(qt=qt.add(Tn))})}).next(()=>N.localDocuments.getOverlayedDocuments(nt,bt)).next(yn=>{ue=yn;const Tn=[];for(const br of I){const wi=Gf(br,ue.get(br.key).overlayedDocument);null!=wi&&Tn.push(new Iu(br.key,wi,dc(wi.value.mapValue),us.exists(!0)))}return N.mutationQueue.addMutationBatch(nt,H,Tn,I)}).next(yn=>{Ce=yn;const Tn=yn.applyToLocalDocumentSet(ue,qt);return N.documentOverlayCache.saveOverlays(nt,yn.batchId,Tn)})}).then(()=>({batchId:Ce.batchId,changes:bd(ue)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(f.batchId),function(_,I,N){let H=_.Tc[_.currentUser.toKey()];H||(H=new vi(or)),H=H.insert(I,N),_.Tc[_.currentUser.toKey()]=H}(c,f.batchId,o),yield Yu(c,f.changes),yield Nd(c.remoteStore)}catch(f){const _=ol(f,"Failed to persist write");o.reject(_)}}),Dh.apply(this,arguments)}function eE(l,t){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,w.Z)(function*(l,t){const o=an(l);try{const c=yield function Hv(l,t){const o=an(l),c=t.snapshotVersion;let f=o.Ji;return o.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const I=o.Zi.newChangeBuffer({trackRemovals:!0});f=o.Ji;const N=[];t.targetChanges.forEach((ue,Ce)=>{const nt=f.get(Ce);if(!nt)return;N.push(o.Bs.removeMatchingKeys(_,ue.removedDocuments,Ce).next(()=>o.Bs.addMatchingKeys(_,ue.addedDocuments,Ce)));let bt=nt.withSequenceNumber(_.currentSequenceNumber);var qt,yn,Tn;null!==t.targetMismatches.get(Ce)?bt=bt.withResumeToken(Is.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):ue.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(ue.resumeToken,c)),f=f.insert(Ce,bt),yn=bt,Tn=ue,(0===(qt=nt).resumeToken.approximateByteSize()||yn.snapshotVersion.toMicroseconds()-qt.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&N.push(o.Bs.updateTargetData(_,bt))});let H=Pa(),Q=Tr();if(t.documentUpdates.forEach(ue=>{t.resolvedLimboDocuments.has(ue)&&N.push(o.persistence.referenceDelegate.updateLimboDocument(_,ue))}),N.push(Js(_,I,t.documentUpdates).next(ue=>{H=ue.nr,Q=ue.sr})),!c.isEqual(Mn.min())){const ue=o.Bs.getLastRemoteSnapshotVersion(_).next(Ce=>o.Bs.setTargetsMetadata(_,_.currentSequenceNumber,c));N.push(ue)}return rt.waitFor(N).next(()=>I.apply(_)).next(()=>o.localDocuments.getLocalViewOfDocuments(_,H,Q)).next(()=>H)}).then(_=>(o.Ji=f,_))}(o.localStore,t);t.targetChanges.forEach((f,_)=>{const I=o.yc.get(_);I&&(sn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?I.fc=!0:f.modifiedDocuments.size>0?sn(I.fc):f.removedDocuments.size>0&&(sn(I.fc),I.fc=!1))}),yield Yu(o,c,t)}catch(c){yield Kn(c)}}),Ds.apply(this,arguments)}function wp(l,t,o){const c=an(l);if(c.isPrimaryClient&&0===o||!c.isPrimaryClient&&1===o){const f=[];c.wc.forEach((_,I)=>{const N=I.view.Mu(t);N.snapshot&&f.push(N.snapshot)}),function(_,I){const N=an(_);N.onlineState=I;let H=!1;N.queries.forEach((Q,ue)=>{for(const Ce of ue.listeners)Ce.Mu(I)&&(H=!0)}),H&&Vr(N)}(c.eventManager,t),f.length&&c.dc.nu(f),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}function xw(l,t,o){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,w.Z)(function*(l,t,o){const c=an(l);c.sharedClientState.updateQueryState(t,"rejected",o);const f=c.yc.get(t),_=f&&f.key;if(_){let I=new vi(tn.comparator);I=I.insert(_,Li.newNoDocument(_,Mn.min()));const N=Tr().add(_),H=new ef(Mn.min(),new Map,new vi(or),I,N);yield eE(c,H),c.gc=c.gc.remove(_),c.yc.delete(t),Qm(c)}else yield ts(c.localStore,t,!1).then(()=>Ah(c,t,o)).catch(Kn)}),Ip.apply(this,arguments)}function Pg(l,t){return ad.apply(this,arguments)}function ad(){return ad=(0,w.Z)(function*(l,t){const o=an(l),c=t.batch.batchId;try{const f=yield function ka(l,t){const o=an(l);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const f=t.batch.keys(),_=o.Zi.newChangeBuffer({trackRemovals:!0});return function(I,N,H,Q){const ue=H.batch,Ce=ue.keys();let nt=rt.resolve();return Ce.forEach(bt=>{nt=nt.next(()=>Q.getEntry(N,bt)).next(qt=>{const yn=H.docVersions.get(bt);sn(null!==yn),qt.version.compareTo(yn)<0&&(ue.applyToRemoteDocument(qt,H),qt.isValidDocument()&&(qt.setReadTime(H.commitVersion),Q.addEntry(qt)))})}),nt.next(()=>I.mutationQueue.removeMutationBatch(N,ue))}(o,c,t,_).next(()=>_.apply(c)).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,f,t.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(I){let N=Tr();for(let H=0;H<I.mutationResults.length;++H)I.mutationResults[H].transformResults.length>0&&(N=N.add(I.batch.mutations[H].key));return N}(t))).next(()=>o.localDocuments.getDocuments(c,f))})}(o.localStore,t);Zm(o,c,null),Km(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),yield Yu(o,f)}catch(f){yield Kn(f)}}),ad.apply(this,arguments)}function tE(l,t,o){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,w.Z)(function*(l,t,o){const c=an(l);try{const f=yield function(_,I){const N=an(_);return N.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Q;return N.mutationQueue.lookupMutationBatch(H,I).next(ue=>(sn(null!==ue),Q=ue.keys(),N.mutationQueue.removeMutationBatch(H,ue))).next(()=>N.mutationQueue.performConsistencyCheck(H)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(H,Q,I)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,Q)).next(()=>N.localDocuments.getDocuments(H,Q))})}(c.localStore,t);Zm(c,t,o),Km(c,t),c.sharedClientState.updateMutationState(t,"rejected",o),yield Yu(c,f)}catch(f){yield Kn(f)}}),Mg.apply(this,arguments)}function Rc(){return Rc=(0,w.Z)(function*(l,t){const o=an(l);Sc(o.remoteStore)||Nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(_){const I=an(_);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>I.mutationQueue.getHighestUnacknowledgedBatchId(N))}(o.localStore);if(-1===c)return void t.resolve();const f=o.Ec.get(c)||[];f.push(t),o.Ec.set(c,f)}catch(c){const f=ol(c,"Initialization of waitForPendingWrites() operation failed");t.reject(f)}}),Rc.apply(this,arguments)}function Km(l,t){(l.Ec.get(t)||[]).forEach(o=>{o.resolve()}),l.Ec.delete(t)}function Zm(l,t,o){const c=an(l);let f=c.Tc[c.currentUser.toKey()];if(f){const _=f.get(t);_&&(o?_.reject(o):_.resolve(),f=f.remove(t)),c.Tc[c.currentUser.toKey()]=f}}function Ah(l,t,o=null){l.sharedClientState.removeLocalQueryTarget(t);for(const c of l._c.get(t))l.wc.delete(c),o&&l.dc.Pc(c,o);l._c.delete(t),l.isPrimaryClient&&l.Ic.Is(t).forEach(c=>{l.Ic.containsKey(c)||bp(l,c)})}function bp(l,t){l.mc.delete(t.path.canonicalString());const o=l.gc.get(t);null!==o&&(Md(l.remoteStore,o),l.gc=l.gc.remove(t),l.yc.delete(o),Qm(l))}function Og(l,t,o){for(const c of o)c instanceof Sw?(l.Ic.addReference(c.key,t),nE(l,c)):c instanceof Wm?(Nt("SyncEngine","Document no longer in limbo: "+c.key),l.Ic.removeReference(c.key,t),l.Ic.containsKey(c.key)||bp(l,c.key)):dn()}function nE(l,t){const o=t.key,c=o.path.canonicalString();l.gc.get(o)||l.mc.has(c)||(Nt("SyncEngine","New document in limbo: "+o),l.mc.add(c),Qm(l))}function Qm(l){for(;l.mc.size>0&&l.gc.size<l.maxConcurrentLimboResolutions;){const t=l.mc.values().next().value;l.mc.delete(t);const o=new tn(Zn.fromString(t)),c=l.Ac.next();l.yc.set(c,new Ep(o)),l.gc=l.gc.insert(o,c),_p(l.remoteStore,new Jl(M(nl(o.path)),c,"TargetPurposeLimboResolution",re.ct))}}function Yu(l,t,o){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,w.Z)(function*(l,t,o){const c=an(l),f=[],_=[],I=[];var N;c.wc.isEmpty()||(c.wc.forEach((N,H)=>{I.push(c.Rc(H,t,o).then(Q=>{if((Q||o)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(H.targetId,Q?.fromCache?"not-current":"current"),Q){f.push(Q);const ue=qi.Li(H.targetId,Q);_.push(ue)}}))}),yield Promise.all(I),c.dc.nu(f),yield(N=(0,w.Z)(function*(H,Q){const ue=an(H);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>rt.forEach(Q,nt=>rt.forEach(nt.Fi,bt=>ue.persistence.referenceDelegate.addReference(Ce,nt.targetId,bt)).next(()=>rt.forEach(nt.Bi,bt=>ue.persistence.referenceDelegate.removeReference(Ce,nt.targetId,bt)))))}catch(Ce){if(!Il(Ce))throw Ce;Nt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of Q){const nt=Ce.targetId;if(!Ce.fromCache){const bt=ue.Ji.get(nt),yn=bt.withLastLimboFreeSnapshotVersion(bt.snapshotVersion);ue.Ji=ue.Ji.insert(nt,yn)}}}),function(H,Q){return N.apply(this,arguments)})(c.localStore,_))}),Ym.apply(this,arguments)}function iI(l,t){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,w.Z)(function*(l,t){const o=an(l);if(!o.currentUser.isEqual(t)){Nt("SyncEngine","User change. New user:",t.toKey());const c=yield yy(o.localStore,t);o.currentUser=t,(f=o).Ec.forEach(I=>{I.forEach(N=>{N.reject(new Dt(lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Ec.clear(),o.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),yield Yu(o,c.er)}var f}),Ms.apply(this,arguments)}function Ni(l,t){const o=an(l),c=o.yc.get(t);if(c&&c.fc)return Tr().add(c.key);{let f=Tr();const _=o._c.get(t);if(!_)return f;for(const I of _){const N=o.wc.get(I);f=f.unionWith(N.view.nc)}return f}}function Oy(l,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,w.Z)(function*(l,t){const o=an(l),c=yield hf(o.localStore,t.query,!0),f=t.view.hc(c);return o.isPrimaryClient&&Og(o,t.targetId,f.cc),f}),Ng.apply(this,arguments)}function Jm(l,t){return kg.apply(this,arguments)}function kg(){return kg=(0,w.Z)(function*(l,t){const o=an(l);return bc(o.localStore,t).then(c=>Yu(o,c))}),kg.apply(this,arguments)}function rE(l,t,o,c){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,w.Z)(function*(l,t,o,c){const f=an(l),_=yield function(I,N){const H=an(I),Q=an(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",ue=>Q.Sn(ue,N).next(Ce=>Ce?H.localDocuments.getDocuments(ue,Ce):rt.resolve(null)))}(f.localStore,t);var N;null!==_?("pending"===o?yield Nd(f.remoteStore):"acknowledged"===o||"rejected"===o?(Zm(f,t,c||null),Km(f,t),N=t,an(an(f.localStore).mutationQueue).Cn(N)):dn(),yield Yu(f,_)):Nt("SyncEngine","Cannot apply mutation batch with id: "+t)}),Sr.apply(this,arguments)}function Cp(){return Cp=(0,w.Z)(function*(l,t){const o=an(l);if(xp(o),Rp(o),!0===t&&!0!==o.vc){const c=o.sharedClientState.getAllActiveQueryTargets(),f=yield Pc(o,c.toArray());o.vc=!0,yield $m(o.remoteStore,!0);for(const _ of f)_p(o.remoteStore,_)}else if(!1===t&&!1!==o.vc){const c=[];let f=Promise.resolve();o._c.forEach((_,I)=>{o.sharedClientState.isLocalQueryTarget(I)?c.push(I):f=f.then(()=>(Ah(o,I),ts(o.localStore,I,!0))),Md(o.remoteStore,I)}),yield f,yield Pc(o,c),function(_){const I=an(_);I.yc.forEach((N,H)=>{Md(I.remoteStore,H)}),I.Ic.Ts(),I.yc=new Map,I.gc=new vi(tn.comparator)}(o),o.vc=!1,yield $m(o.remoteStore,!1)}}),Cp.apply(this,arguments)}function Pc(l,t,o){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,w.Z)(function*(l,t,o){const c=an(l),f=[],_=[];for(const I of t){let N;const H=c._c.get(I);if(H&&0!==H.length){N=yield sl(c.localStore,M(H[0]));for(const Q of H){const ue=c.wc.get(Q),Ce=yield Oy(c,ue);Ce.snapshot&&_.push(Ce.snapshot)}}else{const Q=yield dp(c.localStore,I);N=yield sl(c.localStore,Q),yield Rg(c,Dp(Q),I,!1,N.resumeToken)}f.push(N)}return c.dc.nu(_),f}),Sh.apply(this,arguments)}function Dp(l){return Wh(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function vf(l){const t=an(l);return an(an(t.localStore).persistence).$i()}function Ef(l,t,o,c){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,w.Z)(function*(l,t,o,c){const f=an(l);if(f.vc)return void Nt("SyncEngine","Ignoring unexpected query state notification.");const _=f._c.get(t);if(_&&_.length>0)switch(o){case"current":case"not-current":{const I=yield bc(f.localStore,Vn(_[0])),N=ef.createSynthesizedRemoteEventForCurrentChange(t,"current"===o,Is.EMPTY_BYTE_STRING);yield Yu(f,I,N);break}case"rejected":yield ts(f.localStore,t,!0),Ah(f,t,c);break;default:dn()}}),Ap.apply(this,arguments)}function Sp(l,t,o){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,w.Z)(function*(l,t,o){const c=xp(l);if(c.vc){for(const f of t){if(c._c.has(f)){Nt("SyncEngine","Adding an already active target "+f);continue}const _=yield dp(c.localStore,f),I=yield sl(c.localStore,_);yield Rg(c,Dp(_),I.targetId,!1,I.resumeToken),_p(c.remoteStore,I)}for(const f of o)c._c.has(f)&&(yield ts(c.localStore,f,!1).then(()=>{Md(c.remoteStore,f),Ah(c,f)}).catch(Kn))}}),Xm.apply(this,arguments)}function xp(l){const t=an(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=eE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ni.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xw.bind(null,t),t.dc.nu=od.bind(null,t.eventManager),t.dc.Pc=Jv.bind(null,t.eventManager),t}function Rp(l){const t=an(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tE.bind(null,t),t}class Pp{constructor(){this.synchronizeTabs=!1}initialize(t){var o=this;return(0,w.Z)(function*(){o.serializer=_h(t.databaseInfo.databaseId),o.sharedClientState=o.createSharedClientState(t),o.persistence=o.createPersistence(t),yield o.persistence.start(),o.localStore=o.createLocalStore(t),o.gcScheduler=o.createGarbageCollectionScheduler(t,o.localStore),o.indexBackfillerScheduler=o.createIndexBackfillerScheduler(t,o.localStore)})()}createGarbageCollectionScheduler(t,o){return null}createIndexBackfillerScheduler(t,o){return null}createLocalStore(t){return Oi(this.persistence,new cp,t.initialUser,this.serializer)}createPersistence(t){return new km(lp.zs,this.serializer)}createSharedClientState(t){return new Rd}terminate(){var t=this;return(0,w.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Fy extends Pp{constructor(t,o,c){super(),this.Vc=t,this.cacheSizeBytes=o,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(t){var o=()=>super.initialize,c=this;return(0,w.Z)(function*(){yield o().call(c,t),yield c.Vc.initialize(c,t),yield Rp(c.Vc.syncEngine),yield Nd(c.Vc.remoteStore),yield c.persistence.Ii(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Oi(this.persistence,new cp,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,o){return new op(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,o)}createIndexBackfillerScheduler(t,o){const c=new z(o,this.persistence);return new O(t.asyncQueue,c)}createPersistence(t){const o=Lm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new Ys(this.synchronizeTabs,o,t.clientId,c,t.asyncQueue,mh(),uo(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Rd}}class e_ extends Fy{constructor(t,o){super(t,o,!1),this.Vc=t,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(t){var o=()=>super.initialize,c=this;return(0,w.Z)(function*(){yield o().call(c,t);const f=c.Vc.syncEngine;c.sharedClientState instanceof Vm&&(c.sharedClientState.syncEngine={jr:rE.bind(null,f),zr:Ef.bind(null,f),Wr:Sp.bind(null,f),$i:vf.bind(null,f),Qr:Jm.bind(null,f)},yield c.sharedClientState.start()),yield c.persistence.Ii(function(){var _=(0,w.Z)(function*(I){yield function Ny(l,t){return Cp.apply(this,arguments)}(c.Vc.syncEngine,I),c.gcScheduler&&(I&&!c.gcScheduler.started?c.gcScheduler.start():I||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(I&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():I||c.indexBackfillerScheduler.stop())});return function(I){return _.apply(this,arguments)}}())})()}createSharedClientState(t){const o=mh();if(!Vm.D(o))throw new Dt(lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Lm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Vm(o,t.asyncQueue,c,t.clientId,t.initialUser)}}class Mc{initialize(t,o){var c=this;return(0,w.Z)(function*(){c.localStore||(c.localStore=t.localStore,c.sharedClientState=t.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!t.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>wp(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,c.syncEngine),yield $m(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(t){return new yf}createDatastore(t){const o=_h(t.databaseInfo.databaseId),c=new bg(t.databaseInfo);return new mp(t.authCredentials,t.appCheckCredentials,c,o)}createRemoteStore(t){return o=this.localStore,c=this.datastore,f=t.asyncQueue,_=N=>wp(this.syncEngine,N,0),I=Tg.D()?new Tg:new zv,new Hi(o,c,f,_,I);var o,c,f,_,I}createSyncEngine(t,o){return function(c,f,_,I,N,H,Q){const ue=new bh(c,f,_,I,N,H);return Q&&(ue.vc=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,o)}terminate(){return(t=(0,w.Z)(function*(o){const c=an(o);Nt("RemoteStore","RemoteStore shutting down."),c.vu.add(5),yield vh(c),c.Pu.shutdown(),c.bu.set("Unknown")}),function(o){return t.apply(this,arguments)})(this.remoteStore);var t}}function t_(l,t=10240){let o=0;return{read:()=>(0,w.Z)(function*(){if(o<l.byteLength){const c={value:l.slice(o,o+t),done:!1};return o+=t,c}return{done:!0}})(),cancel:()=>(0,w.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class n_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ei("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,o){this.muted||setTimeout(()=>{this.muted||t(o)},0)}}class wo{constructor(t,o){this.Cc=t,this.serializer=o,this.metadata=new ws,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(c=>{c&&c.Qu()?this.metadata.resolve(c.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Gu)}`))},c=>this.metadata.reject(c))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,w.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,w.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,w.Z)(function*(){const o=yield t.kc();if(null===o)return null;const c=t.xc.decode(o),f=Number(c);isNaN(f)&&t.Mc(`length string (${c}) is not valid number`);const _=yield t.$c(f);return new Fo(JSON.parse(_),o.length+f)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,w.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const o=t.Oc();o<0&&t.Mc("Reached the end of bundle when a length string is expected.");const c=t.buffer.slice(0,o);return t.buffer=t.buffer.slice(o),c})()}$c(t){var o=this;return(0,w.Z)(function*(){for(;o.buffer.length<t;)(yield o.Fc())&&o.Mc("Reached the end of bundle when more is expected.");const c=o.xc.decode(o.buffer.slice(0,t));return o.buffer=o.buffer.slice(t),c})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,w.Z)(function*(){const o=yield t.Cc.read();if(!o.done){const c=new Uint8Array(t.buffer.length+o.value.length);c.set(t.buffer),c.set(o.value,t.buffer.length),t.buffer=c}return o.done})()}}class Vy{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var o=this;return(0,w.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new Dt(lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(f=(0,w.Z)(function*(_,I){const N=an(_),H=bu(N.serializer)+"/documents",Q={documents:I.map(bt=>Qc(N.serializer,bt))},ue=yield N.vo("BatchGetDocuments",H,Q,I.length),Ce=new Map;ue.forEach(bt=>{const qt=function nf(l,t){return"found"in t?function(o,c){sn(!!c.found);const f=Dl(o,c.found.name),_=Cs(c.found.updateTime),I=c.found.createTime?Cs(c.found.createTime):Mn.min(),N=new Oo({mapValue:{fields:c.found.fields}});return Li.newFoundDocument(f,_,I,N)}(l,t):"missing"in t?function(o,c){sn(!!c.missing),sn(!!c.readTime);const f=Dl(o,c.missing),_=Cs(c.readTime);return Li.newNoDocument(f,_)}(l,t):dn()}(N.serializer,bt);Ce.set(qt.key.toString(),qt)});const nt=[];return I.forEach(bt=>{const qt=Ce.get(bt.toString());sn(!!qt),nt.push(qt)}),nt}),function(_,I){return f.apply(this,arguments)})(o.datastore,t);var f;return c.forEach(f=>o.recordVersion(f)),c})()}set(t,o){this.write(o.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,o){try{this.write(o.toMutation(t,this.preconditionForUpdate(t)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(t.toString())}delete(t){this.write(new Yh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,w.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const o=t.readVersions;var c;t.mutations.forEach(c=>{o.delete(c.key.toString())}),o.forEach((c,f)=>{const _=tn.fromPath(f);t.mutations.push(new ey(_,t.precondition(_)))}),yield(c=(0,w.Z)(function*(f,_){const I=an(f),N=bu(I.serializer)+"/documents",H={writes:_.map(Q=>Yc(I.serializer,Q))};yield I.Io("Commit",N,H)}),function(f,_){return c.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let o;if(t.isFoundDocument())o=t.version;else{if(!t.isNoDocument())throw dn();o=Mn.min()}const c=this.readVersions.get(t.key.toString());if(c){if(!o.isEqual(c))throw new Dt(lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),o)}precondition(t){const o=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&o?o.isEqual(Mn.min())?us.exists(!1):us.updateTime(o):us.none()}preconditionForUpdate(t){const o=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&o){if(o.isEqual(Mn.min()))throw new Dt(lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return us.updateTime(o)}return us.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class iE{constructor(t,o,c,f,_){this.asyncQueue=t,this.datastore=o,this.options=c,this.updateFunction=f,this.deferred=_,this.Bc=c.maxAttempts,this.qo=new Wi(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,w.Z)(function*(){const o=new Vy(t.datastore),c=t.qc(o);c&&c.then(f=>{t.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{t.deferred.resolve(f)}).catch(_=>{t.Uc(_)}))}).catch(f=>{t.Uc(f)})}))}qc(t){try{const o=this.updateFunction(t);return!pe(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const o=t.code;return"aborted"===o||"failed-precondition"===o||"already-exists"===o||!og(o)}return!1}}class Mp{constructor(t,o,c,f){var _=this;this.authCredentials=t,this.appCheckCredentials=o,this.asyncQueue=c,this.databaseInfo=f,this.user=xn.UNAUTHENTICATED,this.clientId=Ps.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var I=(0,w.Z)(function*(N){Nt("FirestoreClient","Received user=",N.uid),yield _.authCredentialListener(N),_.user=N});return function(N){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(c,I=>(Nt("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var t=this;return(0,w.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const o=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),o.resolve()}catch(c){const f=ol(c,"Failed to shutdown persistence");o.reject(f)}})),o.promise}}function tu(l,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,w.Z)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const o=yield l.getConfiguration();yield t.initialize(o);let c=o.initialUser;l.setCredentialChangeListener(function(){var f=(0,w.Z)(function*(_){c.isEqual(_)||(yield yy(t.localStore,_),c=_)});return function(_){return f.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),Lg.apply(this,arguments)}function r_(l,t){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,w.Z)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const o=yield i_(l);Nt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield l.getConfiguration();yield t.initialize(o,c),l.setCredentialChangeListener(f=>Sg(t.remoteStore,f)),l.setAppCheckTokenChangeListener((f,_)=>Sg(t.remoteStore,_)),l._onlineComponents=t}),Yo.apply(this,arguments)}function Uy(l){return"FirebaseError"===l.name?l.code===lt.FAILED_PRECONDITION||l.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function i_(l){return By.apply(this,arguments)}function By(){return By=(0,w.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tu(l,l._uninitializedComponentsProvider._offline)}catch(t){const o=t;if(!Uy(o))throw o;$i("Error using user provided cache. Falling back to memory cache: "+o),yield tu(l,new Pp)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield tu(l,new Pp);return l._offlineComponents}),By.apply(this,arguments)}function Op(l){return s_.apply(this,arguments)}function s_(){return s_=(0,w.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield r_(l,l._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield r_(l,new Mc))),l._onlineComponents}),s_.apply(this,arguments)}function Np(l){return i_(l).then(t=>t.persistence)}function kp(l){return i_(l).then(t=>t.localStore)}function sE(l){return Op(l).then(t=>t.remoteStore)}function Fg(l){return Op(l).then(t=>t.syncEngine)}function wf(l){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,w.Z)(function*(l){const t=yield Op(l),o=t.eventManager;return o.onListen=Py.bind(null,t.syncEngine),o.onUnlisten=My.bind(null,t.syncEngine),o}),Vg.apply(this,arguments)}function aE(l,t,o={}){const c=new ws;return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(f,_,I,N,H){const Q=new n_({next:Ce=>{_.enqueueAndForget(()=>Gm(f,ue));const nt=Ce.docs.has(I);!nt&&Ce.fromCache?H.reject(new Dt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&Ce.fromCache&&N&&"server"===N.source?H.reject(new Dt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Ce)},error:Ce=>H.reject(Ce)}),ue=new Xv(nl(I.path),Q,{includeMetadataChanges:!0,Ku:!0});return zm(f,ue)}(yield wf(l),l.asyncQueue,t,o,c)})),c.promise}function al(l,t,o={}){const c=new ws;return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(f,_,I,N,H){const Q=new n_({next:Ce=>{_.enqueueAndForget(()=>Gm(f,ue)),Ce.fromCache&&"server"===N.source?H.reject(new Dt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Ce)},error:Ce=>H.reject(Ce)}),ue=new Xv(I,Q,{includeMetadataChanges:!0,Ku:!0});return zm(f,ue)}(yield wf(l),l.asyncQueue,t,o,c)})),c.promise}function l_(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const Hy=new Map;function If(l,t,o){if(!o)throw new Dt(lt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function Tf(l,t,o,c){if(!0===t&&!0===c)throw new Dt(lt.INVALID_ARGUMENT,`${l} and ${o} cannot be used together.`)}function bf(l){if(!tn.isDocumentKey(l))throw new Dt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Hd(l){if(tn.isDocumentKey(l))throw new Dt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Oc(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(o=l).constructor?o.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var o;return"function"==typeof l?"a function":dn()}function Kr(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new Dt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Oc(l);throw new Dt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${o}`)}}return l}function u_(l,t){if(t<=0)throw new Dt(lt.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class Lp{constructor(t){var o,c;if(void 0===t.host){if(void 0!==t.ssl)throw new Dt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(o=t.ssl)||void 0===o||o;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Tf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=l_(null!==(c=t.experimentalLongPollingOptions)&&void 0!==c?c:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Dt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Dt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Dt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xl{constructor(t,o,c,f){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=c,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Dt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lp(t),void 0!==t.credentials&&(this._authCredentials=function(o){if(!o)return new Wa;switch(o.type){case"firstParty":return new Ka(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Dt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=Hy.get(t);o&&(Nt("ComponentProvider","Removing Datastore"),Hy.delete(t),o.terminate())}(this),Promise.resolve()}}function $y(l,t,o,c={}){var f;const _=(l=Kr(l,xl))._getSettings(),I=`${t}:${o}`;if("firestore.googleapis.com"!==_.host&&_.host!==I&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},_),{host:I,ssl:!1})),c.mockUserToken){let N,H;if("string"==typeof c.mockUserToken)N=c.mockUserToken,H=xn.MOCK_USER;else{N=(0,m.Sg)(c.mockUserToken,null===(f=l._app)||void 0===f?void 0:f.options.projectId);const Q=c.mockUserToken.sub||c.mockUserToken.user_id;if(!Q)throw new Dt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");H=new xn(Q)}l._authCredentials=new $o(new Ed(N,H))}}class Xs{constructor(t,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xs(this.firestore,t,this._key)}}class Jo{constructor(t,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new Jo(this.firestore,t,this._query)}}class Nc extends Jo{constructor(t,o,c){super(t,o,nl(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xs(this.firestore,null,new tn(t))}withConverter(t){return new Nc(this.firestore,t,this._path)}}function zy(l,t,...o){if(l=(0,m.m9)(l),If("collection","path",t),l instanceof xl){const c=Zn.fromString(t,...o);return Hd(c),new Nc(l,null,c)}{if(!(l instanceof Xs||l instanceof Nc))throw new Dt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(Zn.fromString(t,...o));return Hd(c),new Nc(l.firestore,null,c)}}function c_(l,t){if(l=Kr(l,xl),If("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Dt(lt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jo(l,null,(o=t,new Zo(Zn.emptyPath(),o)));var o}function $d(l,t,...o){if(l=(0,m.m9)(l),1===arguments.length&&(t=Ps.A()),If("doc","path",t),l instanceof xl){const c=Zn.fromString(t,...o);return bf(c),new Xs(l,null,new tn(c))}{if(!(l instanceof Xs||l instanceof Nc))throw new Dt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(Zn.fromString(t,...o));return bf(c),new Xs(l.firestore,l instanceof Nc?l.converter:null,new tn(c))}}function kc(l,t){return l=(0,m.m9)(l),t=(0,m.m9)(t),(l instanceof Xs||l instanceof Nc)&&(t instanceof Xs||t instanceof Nc)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function d_(l,t){return l=(0,m.m9)(l),t=(0,m.m9)(t),l instanceof Jo&&t instanceof Jo&&l.firestore===t.firestore&&$e(l._query,t._query)&&l.converter===t.converter}class Ug{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Wi(this,"async_queue_retry"),this.Xc=()=>{const o=uo();o&&Nt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.qo.Mo()};const t=uo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const o=uo();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const o=new ws;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,w.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(o){if(!Il(o))throw o;Nt("AsyncQueue","Operation failed with retryable error: "+o)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const o=this.Gc.then(()=>(this.Hc=!0,t().catch(c=>{throw this.Wc=c,this.Hc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(_){let I=_.message||"";return _.stack&&(I=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),I}(c)),c}).then(c=>(this.Hc=!1,c))));return this.Gc=o,o}enqueueAfterDelay(t,o,c){this.Zc(),this.Yc.indexOf(t)>-1&&(o=0);const f=xg.createAndSchedule(this,t,o,c,_=>this.na(_));return this.zc.push(f),f}Zc(){this.Wc&&dn()}verifyOperationInProgress(){}sa(){var t=this;return(0,w.Z)(function*(){let o;do{o=t.Gc,yield o}while(o!==t.Gc)})()}ia(t){for(const o of this.zc)if(o.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this.zc)if(o.skipDelay(),"all"!==t&&o.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const o=this.zc.indexOf(t);this.zc.splice(o,1)}}function lE(l){return function(t,o){if("object"!=typeof t||null===t)return!1;const c=t;for(const f of["next","error","complete"])if(f in c&&"function"==typeof c[f])return!0;return!1}(l)}class Ow{constructor(){this._progressObserver={},this._taskCompletionResolver=new ws,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,o,c){this._progressObserver={next:t,error:o,complete:c}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,o){return this._taskCompletionResolver.promise.then(t,o)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}const uE=-1;class Ki extends xl{constructor(t,o,c,f){super(t,o,c,f),this.type="firestore",this._queue=new Ug,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||h_(this),this._firestoreClient.terminate()}}function Rh(l,t){const o="object"==typeof l?l:(0,ae.getApp)(),c="string"==typeof l?l:t||"(default)",f=(0,ae._getProvider)(o,"firestore").getImmediate({identifier:c});if(!f._initialized){const _=(0,m.P0)("firestore");_&&$y(f,..._)}return f}function eo(l){return l._firestoreClient||h_(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function h_(l){var t,o,c;const f=l._freezeSettings(),_=(N=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new Go(l._databaseId,N,l._persistenceKey,(Q=f).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,l_(Q.experimentalLongPollingOptions),Q.useFetchStreams));var N,Q;l._firestoreClient=new Mp(l._authCredentials,l._appCheckCredentials,l._queue,_),null!==(o=f.cache)&&void 0!==o&&o._offlineComponentProvider&&null!==(c=f.cache)&&void 0!==c&&c._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.cache.kind,_offline:f.cache._offlineComponentProvider,_online:f.cache._onlineComponentProvider})}function Vp(l,t){g_(l=Kr(l,Ki));const o=eo(l);if(o._uninitializedComponentsProvider)throw new Dt(lt.FAILED_PRECONDITION,"SDK cache is already specified.");$i("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=l._freezeSettings(),f=new Mc;return Bg(o,f,new Fy(f,c.cacheSizeBytes,t?.forceOwnership))}function Nw(l){g_(l=Kr(l,Ki));const t=eo(l);if(t._uninitializedComponentsProvider)throw new Dt(lt.FAILED_PRECONDITION,"SDK cache is already specified.");$i("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=l._freezeSettings(),c=new Mc;return Bg(t,c,new e_(c,o.cacheSizeBytes))}function Bg(l,t,o){const c=new ws;return l.asyncQueue.enqueue((0,w.Z)(function*(){try{yield tu(l,o),yield r_(l,t),c.resolve()}catch(f){const _=f;if(!Uy(_))throw _;$i("Error enabling indexeddb cache. Falling back to memory cache: "+_),c.reject(_)}})).then(()=>c.promise)}function f_(l){if(l._initialized&&!l._terminated)throw new Dt(lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ws;return l._queue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{yield(o=(0,w.Z)(function*(c){if(!mo.D())return Promise.resolve();const f=c+"main";yield mo.delete(f)}),function(c){return o.apply(this,arguments)})(Lm(l._databaseId,l._persistenceKey)),t.resolve()}catch(o){t.reject(o)}var o})),t.promise}function cE(l){return function(t){const o=new ws;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function Tp(l,t){return Rc.apply(this,arguments)}(yield Fg(t),o)})),o.promise}(eo(l=Kr(l,Ki)))}function Gy(l){return function oE(l){return l.asyncQueue.enqueue((0,w.Z)(function*(){const t=yield Np(l),o=yield sE(l);return t.setNetworkEnabled(!0),function(c){const f=an(c);return f.vu.delete(0),Ac(f)}(o)}))}(eo(l=Kr(l,Ki)))}function Cf(l){return function Rw(l){return l.asyncQueue.enqueue((0,w.Z)(function*(){const t=yield Np(l),o=yield sE(l);return t.setNetworkEnabled(!1),(c=(0,w.Z)(function*(f){const _=an(f);_.vu.add(0),yield vh(_),_.bu.set("Offline")}),function(f){return c.apply(this,arguments)})(o);var c}))}(eo(l=Kr(l,Ki)))}function p_(l,t){const o=eo(l=Kr(l,Ki)),c=new Ow;return function Mw(l,t,o,c){const f=function(_,I){let N;return N="string"==typeof _?ag().encode(_):_,H=function(H,Q){if(H instanceof Uint8Array)return t_(H,Q);if(H instanceof ArrayBuffer)return t_(new Uint8Array(H),Q);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new wo(H,I);var H}(o,_h(t));l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){!function ky(l,t,o){const c=an(l);var f;(f=(0,w.Z)(function*(_,I,N){try{const H=yield I.getMetadata();if(yield function(nt,bt){const qt=an(nt),yn=Cs(bt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",Tn=>qt.qs.getBundleMetadata(Tn,bt.id)).then(Tn=>!!Tn&&Tn.createTime.compareTo(yn)>=0)}(_.localStore,H))return yield I.close(),N._completeWith({taskState:"Success",documentsLoaded:(nt=H).totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}),Promise.resolve(new Set);N._updateProgress(Sy(H));const Q=new qm(H,_.localStore,I.serializer);let ue=yield I.bc();for(;ue;){const nt=yield Q.zu(ue);nt&&N._updateProgress(nt),ue=yield I.bc()}const Ce=yield Q.complete();return yield Yu(_,Ce.Ju,void 0),yield function(nt,bt){const qt=an(nt);return qt.persistence.runTransaction("Save bundle","readwrite",yn=>qt.qs.saveBundleMetadata(yn,bt))}(_.localStore,H),N._completeWith(Ce.progress),Promise.resolve(Ce.Hu)}catch(H){return $i("SyncEngine",`Loading bundle failed with ${H}`),N._failWith(H),Promise.resolve(new Set)}var nt}),function(_,I,N){return f.apply(this,arguments)})(c,t,o).then(f=>{c.sharedClientState.notifyBundleLoaded(f)})}(yield Fg(l),f,c)}))}(o,l._databaseId,t,c),c}function Lw(l,t){return function jy(l,t){return l.asyncQueue.enqueue((0,w.Z)(function*(){return function(o,c){const f=an(o);return f.persistence.runTransaction("Get named query","readonly",_=>f.qs.getNamedQuery(_,c))}(yield kp(l),t)}))}(eo(l=Kr(l,Ki)),t).then(o=>o?new Jo(l,null,o.query):null)}function g_(l){if(l._initialized||l._terminated)throw new Dt(lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zd(Is.fromBase64String(t))}catch(o){throw new Dt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new zd(Is.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class xu{constructor(...t){for(let o=0;o<t.length;++o)if(0===t[o].length)throw new Dt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nu{constructor(t){this._methodName=t}}class Hg{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new Dt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new Dt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return or(this._lat,t._lat)||or(this._long,t._long)}}const $g=/^__.*__$/;class ll{constructor(t,o,c){this.data=t,this.fieldMask=o,this.fieldTransforms=c}toMutation(t,o){return null!==this.fieldMask?new Iu(t,this.data,this.fieldMask,o,this.fieldTransforms):new oh(t,this.data,o,this.fieldTransforms)}}class qy{constructor(t,o,c){this.data=t,this.fieldMask=o,this.fieldTransforms=c}toMutation(t,o){return new Iu(t,this.data,this.fieldMask,o,this.fieldTransforms)}}function zg(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class Df{constructor(t,o,c,f,_,I){this.settings=t,this.databaseId=o,this.serializer=c,this.ignoreUndefinedProperties=f,void 0===_&&this.ua(),this.fieldTransforms=_||[],this.fieldMask=I||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new Df(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(t),f=this.aa({path:c,la:!1});return f.fa(t),f}da(t){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(t),f=this.aa({path:c,la:!1});return f.ua(),f}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return xf(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(o=>t.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>t.isPrefixOf(o.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(zg(this.ca)&&$g.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class dE{constructor(t,o,c){this.databaseId=t,this.ignoreUndefinedProperties=o,this.serializer=c||_h(t)}ya(t,o,c,f=!1){return new Df({ca:t,methodName:o,ga:c,path:Ar.emptyPath(),la:!1,ma:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ru(l){const t=l._freezeSettings(),o=_h(l._databaseId);return new dE(l._databaseId,!!t.ignoreUndefinedProperties,o)}function Gd(l,t,o,c,f,_={}){const I=l.ya(_.merge||_.mergeFields?2:0,t,o,f);Rl("Data must be an object, but it was:",I,c);const N=qg(c,I);let H,Q;if(_.merge)H=new da(I.fieldMask),Q=I.fieldTransforms;else if(_.mergeFields){const ue=[];for(const Ce of _.mergeFields){const nt=Mh(t,Ce,o);if(!I.contains(nt))throw new Dt(lt.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);iu(ue,nt)||ue.push(nt)}H=new da(ue),Q=I.fieldTransforms.filter(Ce=>H.covers(Ce.field))}else H=null,Q=I.fieldTransforms;return new ll(new Oo(N),H,Q)}class Af extends nu{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Af}}function qd(l,t,o){return new Df({ca:3,ga:t.settings.ga,methodName:l._methodName,la:o},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Wy extends nu{_toFieldTransform(t){return new $f(t.path,new Kh)}isEqual(t){return t instanceof Wy}}class Gg extends nu{constructor(t,o){super(t),this.pa=o}_toFieldTransform(t){const o=qd(this,t,!0),c=this.pa.map(_=>Sf(_,o)),f=new Zh(c);return new $f(t.path,f)}isEqual(t){return this===t}}class Ky extends nu{constructor(t,o){super(t),this.pa=o}_toFieldTransform(t){const o=qd(this,t,!0),c=this.pa.map(_=>Sf(_,o)),f=new Hf(c);return new $f(t.path,f)}isEqual(t){return this===t}}class Wd extends nu{constructor(t,o){super(t),this.Ia=o}_toFieldTransform(t){const o=new gc(t.serializer,X_(t.serializer,this.Ia));return new $f(t.path,o)}isEqual(t){return this===t}}function Zy(l,t,o,c){const f=l.ya(1,t,o);Rl("Data must be an object, but it was:",f,c);const _=[],I=Oo.empty();ca(c,(H,Q)=>{const ue=Lc(t,H,o);Q=(0,m.m9)(Q);const Ce=f.da(ue);if(Q instanceof Af)_.push(ue);else{const nt=Sf(Q,Ce);null!=nt&&(_.push(ue),I.set(ue,nt))}});const N=new da(_);return new qy(I,N,f.fieldTransforms)}function Up(l,t,o,c,f,_){const I=l.ya(1,t,o),N=[Mh(t,c,o)],H=[f];if(_.length%2!=0)throw new Dt(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<_.length;nt+=2)N.push(Mh(t,_[nt])),H.push(_[nt+1]);const Q=[],ue=Oo.empty();for(let nt=N.length-1;nt>=0;--nt)if(!iu(Q,N[nt])){const bt=N[nt];let qt=H[nt];qt=(0,m.m9)(qt);const yn=I.da(bt);if(qt instanceof Af)Q.push(bt);else{const Tn=Sf(qt,yn);null!=Tn&&(Q.push(bt),ue.set(bt,Tn))}}const Ce=new da(Q);return new qy(ue,Ce,I.fieldTransforms)}function Qy(l,t,o,c=!1){return Sf(o,l.ya(c?4:3,t))}function Sf(l,t){if(hE(l=(0,m.m9)(l)))return Rl("Unsupported field value:",t,l),qg(l,t);if(l instanceof nu)return function(o,c){if(!zg(c.ca))throw c._a(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c._a(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(o,c){const f=[];let _=0;for(const I of o){let N=Sf(I,c.wa(_));null==N&&(N={nullValue:"NULL_VALUE"}),f.push(N),_++}return{arrayValue:{values:f}}}(l,t)}return function(o,c){if(null===(o=(0,m.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return X_(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Pi.fromDate(o);return{timestampValue:Dd(c.serializer,f)}}if(o instanceof Pi){const f=new Pi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Dd(c.serializer,f)}}if(o instanceof Hg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof zd)return{bytesValue:Bi(c.serializer,o._byteString)};if(o instanceof Xs){const f=c.databaseId,_=o.firestore._databaseId;if(!_.isEqual(f))throw c._a(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Tu(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c._a(`Unsupported field value: ${Oc(o)}`)}(l,t)}function qg(l,t){const o={};return $h(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ca(l,(c,f)=>{const _=Sf(f,t.ha(c));null!=_&&(o[c]=_)}),{mapValue:{fields:o}}}function hE(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Pi||l instanceof Hg||l instanceof zd||l instanceof Xs||l instanceof nu)}function Rl(l,t,o){if(!hE(o)||"object"!=typeof(c=o)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Oc(o);throw t._a("an object"===c?l+" a custom object":l+" "+c)}var c}function Mh(l,t,o){if((t=(0,m.m9)(t))instanceof xu)return t._internalPath;if("string"==typeof t)return Lc(l,t);throw xf("Field path arguments must be of type string or ",l,!1,void 0,o)}const ul=new RegExp("[~\\*/\\[\\]]");function Lc(l,t,o){if(t.search(ul)>=0)throw xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,o);try{return new xu(...t.split("."))._internalPath}catch{throw xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,o)}}function xf(l,t,o,c,f){const _=c&&!c.isEmpty(),I=void 0!==f;let N=`Function ${t}() called with invalid data`;o&&(N+=" (via `toFirestore()`)"),N+=". ";let H="";return(_||I)&&(H+=" (found",_&&(H+=` in field ${c}`),I&&(H+=` in document ${f}`),H+=")"),new Dt(lt.INVALID_ARGUMENT,N+l+H)}function iu(l,t){return l.some(o=>o.isEqual(t))}class Ru{constructor(t,o,c,f,_){this._firestore=t,this._userDataWriter=o,this._key=c,this._document=f,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Xs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const o=this._document.data.field(ud("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o)}}}class ld extends Ru{data(){return super.data()}}function ud(l,t){return"string"==typeof t?Lc(l,t):t instanceof xu?t._internalPath:t._delegate._internalPath}function Oh(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Dt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nh{}class Fc extends Nh{}function Bp(l,t,...o){let c=[];t instanceof Nh&&c.push(t),c=c.concat(o),function(f){const _=f.filter(N=>N instanceof ds).length,I=f.filter(N=>N instanceof cd).length;if(_>1||_>0&&I>0)throw new Dt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const f of c)l=f._apply(l);return l}class cd extends Fc{constructor(t,o,c){super(),this._field=t,this._op=o,this._value=c,this.type="where"}static _create(t,o,c){return new cd(t,o,c)}_apply(t){const o=this._parse(t);return _E(t._query,o),new Jo(t.firestore,t.converter,J(t._query,o))}_parse(t){const o=ru(t.firestore);return function(f,_,I,N,H,Q,ue){let Ce;if(H.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Dt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Yy(ue,Q);const nt=[];for(const bt of ue)nt.push(v_(N,f,bt));Ce={arrayValue:{values:nt}}}else Ce=v_(N,f,ue)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Yy(ue,Q),Ce=Qy(I,"where",ue,"in"===Q||"not-in"===Q);return fe.create(H,Q,Ce)}(t._query,0,o,t.firestore._databaseId,this._field,this._op,this._value)}}function kh(l,t,o){const c=t,f=ud("where",l);return cd._create(f,c,o)}class ds extends Nh{constructor(t,o){super(),this.type=t,this._queryConstraints=o}static _create(t,o){return new ds(t,o)}_parse(t){const o=this._queryConstraints.map(c=>c._parse(t)).filter(c=>c.getFilters().length>0);return 1===o.length?o[0]:Te.create(o,this._getOperator())}_apply(t){const o=this._parse(t);return 0===o.getFilters().length?t:(function(c,f){let _=c;const I=f.getFlattenedFilters();for(const N of I)_E(_,N),_=J(_,N)}(t._query,o),new Jo(t.firestore,t.converter,J(t._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class m_ extends Fc{constructor(t,o){super(),this._field=t,this._direction=o,this.type="orderBy"}static _create(t,o){return new m_(t,o)}_apply(t){const o=function(c,f,_){if(null!==c.startAt)throw new Dt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Dt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new R(f,_);return function(N,H){if(null===Em(N)){const Q=S(N);null!==Q&&yE(0,Q,H.field)}}(c,I),I}(t._query,this._field,this._direction);return new Jo(t.firestore,t.converter,function(c,f){const _=c.explicitOrderBy.concat([f]);return new Zo(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,o))}}function fE(l,t="asc"){const o=t,c=ud("orderBy",l);return m_._create(c,o)}class Rf extends Fc{constructor(t,o,c){super(),this.type=t,this._limit=o,this._limitType=c}static _create(t,o,c){return new Rf(t,o,c)}_apply(t){return new Jo(t.firestore,t.converter,le(t._query,this._limit,this._limitType))}}function pE(l){return u_("limit",l),Rf._create("limit",l,"F")}function Wg(l){return u_("limitToLast",l),Rf._create("limitToLast",l,"L")}class Lh extends Fc{constructor(t,o,c){super(),this.type=t,this._docOrFields=o,this._inclusive=c}static _create(t,o,c){return new Lh(t,o,c)}_apply(t){const o=Kg(t,this.type,this._docOrFields,this._inclusive);return new Jo(t.firestore,t.converter,(f=o,new Zo((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)));var c,f}}function gE(...l){return Lh._create("startAt",l,!0)}function __(...l){return Lh._create("startAfter",l,!1)}class jp extends Fc{constructor(t,o,c){super(),this.type=t,this._docOrFields=o,this._inclusive=c}static _create(t,o,c){return new jp(t,o,c)}_apply(t){const o=Kg(t,this.type,this._docOrFields,this._inclusive);return new Jo(t.firestore,t.converter,(f=o,new Zo((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)));var c,f}}function mE(...l){return jp._create("endBefore",l,!1)}function y_(...l){return jp._create("endAt",l,!0)}function Kg(l,t,o,c){if(o[0]=(0,m.m9)(o[0]),o[0]instanceof Ru)return function(f,_,I,N,H){if(!N)throw new Dt(lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const Q=[];for(const ue of T(f))if(ue.field.isKeyField())Q.push(qc(_,N.key));else{const Ce=N.data.field(ue.field);if(Ts(Ce))throw new Dt(lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const nt=ue.field.canonicalString();throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}Q.push(Ce)}return new xa(Q,H)}(l._query,l.firestore._databaseId,t,o[0]._document,c);{const f=ru(l.firestore);return function(_,I,N,H,Q,ue){const Ce=_.explicitOrderBy;if(Q.length>Ce.length)throw new Dt(lt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let bt=0;bt<Q.length;bt++){const qt=Q[bt];if(Ce[bt].field.isKeyField()){if("string"!=typeof qt)throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof qt}`);if(!E(_)&&-1!==qt.indexOf("/"))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${qt}' contains a slash.`);const yn=_.path.child(Zn.fromString(qt));if(!tn.isDocumentKey(yn))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${yn}' is not because it contains an odd number of segments.`);const Tn=new tn(yn);nt.push(qc(I,Tn))}else{const yn=Qy(N,H,qt);nt.push(yn)}}return new xa(nt,ue)}(l._query,l.firestore._databaseId,f,t,o,c)}}function v_(l,t,o){if("string"==typeof(o=(0,m.m9)(o))){if(""===o)throw new Dt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E(t)&&-1!==o.indexOf("/"))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const c=t.path.child(Zn.fromString(o));if(!tn.isDocumentKey(c))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return qc(l,new tn(c))}if(o instanceof Xs)return qc(l,o._key);throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oc(o)}.`)}function Yy(l,t){if(!Array.isArray(l)||0===l.length)throw new Dt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _E(l,t){if(t.isInequality()){const c=S(l),f=t.field;if(null!==c&&!c.isEqual(f))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${f.toString()}'`);const _=Em(l);null!==_&&yE(0,f,_)}const o=function(c,f){for(const _ of c)for(const I of _.getFlattenedFilters())if(f.indexOf(I.op)>=0)return I.op;return null}(l.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw new Dt(lt.INVALID_ARGUMENT,o===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${o.toString()}' filters.`)}function yE(l,t,o){if(!o.isEqual(t))throw new Dt(lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class E_{convertValue(t,o="none"){switch(el(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,o);case 5:return t.stringValue;case 6:return this.convertBytes($l(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,o);case 10:return this.convertObject(t.mapValue,o);default:throw dn()}}convertObject(t,o){return this.convertObjectMap(t.fields,o)}convertObjectMap(t,o="none"){const c={};return ca(t,(f,_)=>{c[f]=this.convertValue(_,o)}),c}convertGeoPoint(t){return new Hg(Mi(t.latitude),Mi(t.longitude))}convertArray(t,o){return(t.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(t,o){switch(o){case"previous":const c=bs(t);return null==c?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(Hu(t));default:return null}}convertTimestamp(t){const o=Xa(t);return new Pi(o.seconds,o.nanos)}convertDocumentKey(t,o){const c=Zn.fromString(t);sn(vo(c));const f=new zl(c.get(1),c.get(3)),_=new tn(c.popFirst(5));return f.isEqual(o)||ei(`Document ${_} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),_}}function Zg(l,t,o){let c;return c=l?o&&(o.merge||o.mergeFields)?l.toFirestore(t,o):l.toFirestore(t):t,c}class Qg extends E_{constructor(t){super(),this.firestore=t}convertBytes(t){return new zd(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new Xs(this.firestore,null,o)}}class Pu{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ju extends Ru{constructor(t,o,c,f,_,I){super(t,o,c,f,I),this._firestore=t,this._firestoreImpl=t,this.metadata=_}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const o=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){const c=this._document.data.field(ud("DocumentSnapshot.get",t));if(null!==c)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class Vc extends Ju{data(t={}){return super.data(t)}}class dd{constructor(t,o,c,f){this._firestore=t,this._userDataWriter=o,this._snapshot=f,this.metadata=new Pu(f.hasPendingWrites,f.fromCache),this.query=c}get docs(){const t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,o){this._snapshot.docs.forEach(c=>{t.call(o,new Vc(this._firestore,this._userDataWriter,c.key,c,new Pu(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Dt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(c,f){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(I=>({type:"added",doc:new Vc(c._firestore,c._userDataWriter,I.doc.key,I.doc,new Pu(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(I=>f||3!==I.type).map(I=>{const N=new Vc(c._firestore,c._userDataWriter,I.doc.key,I.doc,new Pu(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter);let H=-1,Q=-1;return 0!==I.type&&(H=_.indexOf(I.doc.key),_=_.delete(I.doc.key)),1!==I.type&&(_=_.add(I.doc),Q=_.indexOf(I.doc.key)),{type:wE(I.type),doc:N,oldIndex:H,newIndex:Q}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function wE(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function IE(l,t){return l instanceof Ju&&t instanceof Ju?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof dd&&t instanceof dd&&l._firestore===t._firestore&&d_(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}function TE(l){l=Kr(l,Xs);const t=Kr(l.firestore,Ki);return aE(eo(t),l._key).then(o=>Jg(t,l,o))}class hd extends E_{constructor(t){super(),this.firestore=t}convertBytes(t){return new zd(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new Xs(this.firestore,null,o)}}function Hp(l){l=Kr(l,Xs);const t=Kr(l.firestore,Ki),o=eo(t),c=new hd(t);return function Pw(l,t){const o=new ws;return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(c=(0,w.Z)(function*(f,_,I){try{const N=yield function(H,Q){const ue=an(H);return ue.persistence.runTransaction("read document","readonly",Ce=>ue.localDocuments.getDocument(Ce,Q))}(f,_);N.isFoundDocument()?I.resolve(N):N.isNoDocument()?I.resolve(null):I.reject(new Dt(lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const H=ol(N,`Failed to get document '${_} from cache`);I.reject(H)}}),function(f,_,I){return c.apply(this,arguments)})(yield kp(l),t,o);var c})),o.promise}(o,l._key).then(f=>new Ju(t,c,l._key,f,new Pu(null!==f&&f.hasLocalMutations,!0),l.converter))}function b_(l){l=Kr(l,Xs);const t=Kr(l.firestore,Ki);return aE(eo(t),l._key,{source:"server"}).then(o=>Jg(t,l,o))}function bE(l){l=Kr(l,Jo);const t=Kr(l.firestore,Ki),o=eo(t),c=new hd(t);return Oh(l._query),al(o,l._query).then(f=>new dd(t,c,l,f))}function CE(l){l=Kr(l,Jo);const t=Kr(l.firestore,Ki),o=eo(t),c=new hd(t);return function xh(l,t){const o=new ws;return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(c=(0,w.Z)(function*(f,_,I){try{const N=yield hf(f,_,!0),H=new xy(_,N.ir),Q=H.sc(N.documents),ue=H.applyChanges(Q,!1);I.resolve(ue.snapshot)}catch(N){const H=ol(N,`Failed to execute query '${_} against cache`);I.reject(H)}}),function(f,_,I){return c.apply(this,arguments)})(yield kp(l),t,o);var c})),o.promise}(o,l._query).then(f=>new dd(t,c,l,f))}function DE(l){l=Kr(l,Jo);const t=Kr(l.firestore,Ki),o=eo(t),c=new hd(t);return al(o,l._query,{source:"server"}).then(f=>new dd(t,c,l,f))}function Yg(l,t,o){l=Kr(l,Xs);const c=Kr(l.firestore,Ki),f=Zg(l.converter,t,o);return Kd(c,[Gd(ru(c),"setDoc",l._key,f,null!==l.converter,o).toMutation(l._key,us.none())])}function C_(l,t,o,...c){l=Kr(l,Xs);const f=Kr(l.firestore,Ki),_=ru(f);let I;return I="string"==typeof(t=(0,m.m9)(t))||t instanceof xu?Up(_,"updateDoc",l._key,t,o,c):Zy(_,"updateDoc",l._key,t),Kd(f,[I.toMutation(l._key,us.exists(!0))])}function $p(l){return Kd(Kr(l.firestore,Ki),[new Yh(l._key,us.none())])}function D_(l,t){const o=Kr(l.firestore,Ki),c=$d(l),f=Zg(l.converter,t);return Kd(o,[Gd(ru(l.firestore),"addDoc",c._key,f,null!==l.converter,{}).toMutation(c._key,us.exists(!1))]).then(()=>c)}function Xy(l,...t){var o,c,f;l=(0,m.m9)(l);let _={includeMetadataChanges:!1},I=0;"object"!=typeof t[I]||lE(t[I])||(_=t[I],I++);const N={includeMetadataChanges:_.includeMetadataChanges};if(lE(t[I])){const Ce=t[I];t[I]=null===(o=Ce.next)||void 0===o?void 0:o.bind(Ce),t[I+1]=null===(c=Ce.error)||void 0===c?void 0:c.bind(Ce),t[I+2]=null===(f=Ce.complete)||void 0===f?void 0:f.bind(Ce)}let H,Q,ue;if(l instanceof Xs)Q=Kr(l.firestore,Ki),ue=nl(l._key.path),H={next:Ce=>{t[I]&&t[I](Jg(Q,l,Ce))},error:t[I+1],complete:t[I+2]};else{const Ce=Kr(l,Jo);Q=Kr(Ce.firestore,Ki),ue=Ce._query;const nt=new hd(Q);H={next:bt=>{t[I]&&t[I](new dd(Q,nt,Ce,bt))},error:t[I+1],complete:t[I+2]},Oh(l._query)}return function(Ce,nt,bt,qt){const yn=new n_(qt),Tn=new Xv(nt,yn,bt);return Ce.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return zm(yield wf(Ce),Tn)})),()=>{yn.Dc(),Ce.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Gm(yield wf(Ce),Tn)}))}}(eo(Q),ue,N,H)}function A_(l,t){return function a_(l,t){const o=new n_(t);return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return c=yield wf(l),f=o,an(c).ku.add(f),void f.next();var c,f})),()=>{o.Dc(),l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return c=yield wf(l),f=o,void an(c).ku.delete(f);var c,f}))}}(eo(l=Kr(l,Ki)),lE(t)?t:{next:t})}function Kd(l,t){return function(o,c){const f=new ws;return o.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function Su(l,t,o){return Dh.apply(this,arguments)}(yield Fg(o),c,f)})),f.promise}(eo(l),t)}function Jg(l,t,o){const c=o.docs.get(t._key),f=new hd(l);return new Ju(l,f,t._key,c,new Pu(o.hasPendingWrites,o.fromCache),t.converter)}const R_={maxAttempts:5};class em{constructor(t,o){this._firestore=t,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=ru(t)}set(t,o,c){this._verifyNotCommitted();const f=Zd(t,this._firestore),_=Zg(f.converter,o,c),I=Gd(this._dataReader,"WriteBatch.set",f._key,_,null!==f.converter,c);return this._mutations.push(I.toMutation(f._key,us.none())),this}update(t,o,c,...f){this._verifyNotCommitted();const _=Zd(t,this._firestore);let I;return I="string"==typeof(o=(0,m.m9)(o))||o instanceof xu?Up(this._dataReader,"WriteBatch.update",_._key,o,c,f):Zy(this._dataReader,"WriteBatch.update",_._key,o),this._mutations.push(I.toMutation(_._key,us.exists(!0))),this}delete(t){this._verifyNotCommitted();const o=Zd(t,this._firestore);return this._mutations=this._mutations.concat(new Yh(o._key,us.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(l,t){if((l=(0,m.m9)(l)).firestore!==t)throw new Dt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class P_ extends class{constructor(t,o){this._firestore=t,this._transaction=o,this._dataReader=ru(t)}get(t){const o=Zd(t,this._firestore),c=new Qg(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return dn();const _=f[0];if(_.isFoundDocument())return new Ru(this._firestore,c,_.key,_,o.converter);if(_.isNoDocument())return new Ru(this._firestore,c,o._key,null,o.converter);throw dn()})}set(t,o,c){const f=Zd(t,this._firestore),_=Zg(f.converter,o,c),I=Gd(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,c);return this._transaction.set(f._key,I),this}update(t,o,c,...f){const _=Zd(t,this._firestore);let I;return I="string"==typeof(o=(0,m.m9)(o))||o instanceof xu?Up(this._dataReader,"Transaction.update",_._key,o,c,f):Zy(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,I),this}delete(t){const o=Zd(t,this._firestore);return this._transaction.delete(o._key),this}}{constructor(t,o){super(t,o),this._firestore=t}get(t){const o=Zd(t,this._firestore),c=new hd(this._firestore);return super.get(t).then(f=>new Ju(this._firestore,c,o._key,f._document,new Pu(!1,!1),o.converter))}}function Bw(l,t,o){l=Kr(l,Ki);const c=Object.assign(Object.assign({},R_),o);return function(f){if(f.maxAttempts<1)throw new Dt(lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(f,_,I){const N=new ws;return f.asyncQueue.enqueueAndForget((0,w.Z)(function*(){const H=yield function o_(l){return Op(l).then(t=>t.datastore)}(f);new iE(f.asyncQueue,H,I,_,N).run()})),N.promise}(eo(l),f=>t(new P_(l,f)),c)}function jw(){return new Af("deleteField")}function Gp(){return new Wy("serverTimestamp")}function tm(...l){return new Gg("arrayUnion",l)}function Pf(...l){return new Ky("arrayRemove",l)}function nm(l){return new Wd("increment",l)}!function(l,t=!0){ii=ae.SDK_VERSION,(0,ae._registerComponent)(new X.wA("firestore",(o,{instanceIdentifier:c,options:f})=>{const _=o.getProvider("app").getImmediate(),I=new Ki(new Vh(o.getProvider("auth-internal")),new Uh(o.getProvider("app-check-internal")),function(N,H){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new Dt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(N.options.projectId,H)}(_,c),_);return f=Object.assign({useFetchStreams:t},f),I._setSettings(f),I},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Xr,"3.13.0",l),(0,ae.registerVersion)(Xr,"3.13.0","esm2017")}()},9058:(Kt,qe,U)=>{U.d(qe,{$s:()=>kt,BH:()=>je,G6:()=>jr,L:()=>He,LL:()=>Mt,P0:()=>wt,Pz:()=>ht,Sg:()=>ut,UG:()=>ft,US:()=>we,ZB:()=>Me,ZR:()=>yt,aH:()=>Ae,b$:()=>_n,eu:()=>Xe,hl:()=>Ze,jU:()=>St,m9:()=>mr,ne:()=>Bn,pd:()=>nn,r3:()=>dr,ru:()=>zt,tV:()=>oe,uI:()=>Ee,vZ:()=>yr,w1:()=>En,xO:()=>zr,xb:()=>$r,z$:()=>vt,zI:()=>tt,zd:()=>wn});const _e=function(be){const ie=[];let q=0;for(let Z=0;Z<be.length;Z++){let j=be.charCodeAt(Z);j<128?ie[q++]=j:j<2048?(ie[q++]=j>>6|192,ie[q++]=63&j|128):55296==(64512&j)&&Z+1<be.length&&56320==(64512&be.charCodeAt(Z+1))?(j=65536+((1023&j)<<10)+(1023&be.charCodeAt(++Z)),ie[q++]=j>>18|240,ie[q++]=j>>12&63|128,ie[q++]=j>>6&63|128,ie[q++]=63&j|128):(ie[q++]=j>>12|224,ie[q++]=j>>6&63|128,ie[q++]=63&j|128)}return ie},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,ie){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let j=0;j<be.length;j+=3){const de=be[j],Oe=j+1<be.length,ot=Oe?be[j+1]:0,$t=j+2<be.length,Rt=$t?be[j+2]:0;let jn=(15&ot)<<2|Rt>>6,Re=63&Rt;$t||(Re=64,Oe||(jn=64)),Z.push(q[de>>2],q[(3&de)<<4|ot>>4],q[jn],q[Re])}return Z.join("")},encodeString(be,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(be):this.encodeByteArray(_e(be),ie)},decodeString(be,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(be):function(be){const ie=[];let q=0,Z=0;for(;q<be.length;){const j=be[q++];if(j<128)ie[Z++]=String.fromCharCode(j);else if(j>191&&j<224){const de=be[q++];ie[Z++]=String.fromCharCode((31&j)<<6|63&de)}else if(j>239&&j<365){const $t=((7&j)<<18|(63&be[q++])<<12|(63&be[q++])<<6|63&be[q++])-65536;ie[Z++]=String.fromCharCode(55296+($t>>10)),ie[Z++]=String.fromCharCode(56320+(1023&$t))}else{const de=be[q++],Oe=be[q++];ie[Z++]=String.fromCharCode((15&j)<<12|(63&de)<<6|63&Oe)}}return ie.join("")}(this.decodeStringToByteArray(be,ie))},decodeStringToByteArray(be,ie){this.init_();const q=ie?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let j=0;j<be.length;){const de=q[be.charAt(j++)],ot=j<be.length?q[be.charAt(j)]:0;++j;const Rt=j<be.length?q[be.charAt(j)]:64;++j;const Dn=j<be.length?q[be.charAt(j)]:64;if(++j,null==de||null==ot||null==Rt||null==Dn)throw new Ie;Z.push(de<<2|ot>>4),64!==Rt&&(Z.push(ot<<4&240|Rt>>2),64!==Dn&&Z.push(Rt<<6&192|Dn))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(be){return function(be){const ie=_e(be);return we.encodeByteArray(ie,!0)}(be).replace(/\./g,"")},oe=function(be){try{return we.decodeString(be,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function Me(be,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return ie}for(const q in ie)!ie.hasOwnProperty(q)||!Ke(q)||(be[q]=Me(be[q],ie[q]));return be}function Ke(be){return"__proto__"!==be}const Ve=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=be&&oe(be[1]);return ie&&JSON.parse(ie)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},wt=be=>{const ie=(be=>{var ie,q;return null===(q=null===(ie=Ve())||void 0===ie?void 0:ie.emulatorHosts)||void 0===q?void 0:q[be]})(be);if(!ie)return;const q=ie.lastIndexOf(":");if(q<=0||q+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const Z=parseInt(ie.substring(q+1),10);return"["===ie[0]?[ie.substring(1,q-1),Z]:[ie.substring(0,q),Z]},Ae=()=>{var be;return null===(be=Ve())||void 0===be?void 0:be.config},ht=be=>{var ie;return null===(ie=Ve())||void 0===ie?void 0:ie[`_${be}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,q)=>{this.resolve=ie,this.reject=q})}wrapCallback(ie){return(q,Z)=>{q?this.reject(q):this.resolve(Z),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(q):ie(q,Z))}}}function ut(be,ie){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=ie||"demo-project",j=be.iat||0,de=be.sub||be.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:j,exp:j+3600,auth_time:j,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},be);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Oe)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function ft(){var be;const ie=null===(be=Ve())||void 0===be?void 0:be.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function zt(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function En(){const be=vt();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function jr(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){try{return"object"==typeof indexedDB}catch{return!1}}function Xe(){return new Promise((be,ie)=>{try{let q=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(Z);j.onsuccess=()=>{j.result.close(),q||self.indexedDB.deleteDatabase(Z),be(!0)},j.onupgradeneeded=()=>{q=!1},j.onerror=()=>{var de;ie((null===(de=j.error)||void 0===de?void 0:de.message)||"")}}catch(q){ie(q)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yt extends Error{constructor(ie,q,Z){super(q),this.code=ie,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(ie,q,Z){this.service=ie,this.serviceName=q,this.errors=Z}create(ie,...q){const Z=q[0]||{},j=`${this.service}/${ie}`,de=this.errors[ie],Oe=de?function Lt(be,ie){return be.replace(Ot,(q,Z)=>{const j=ie[Z];return null!=j?String(j):`<${Z}?>`})}(de,Z):"Error";return new yt(j,`${this.serviceName}: ${Oe} (${j}).`,Z)}}const Ot=/\{\$([^}]+)}/g;function dr(be,ie){return Object.prototype.hasOwnProperty.call(be,ie)}function $r(be){for(const ie in be)if(Object.prototype.hasOwnProperty.call(be,ie))return!1;return!0}function yr(be,ie){if(be===ie)return!0;const q=Object.keys(be),Z=Object.keys(ie);for(const j of q){if(!Z.includes(j))return!1;const de=be[j],Oe=ie[j];if(ar(de)&&ar(Oe)){if(!yr(de,Oe))return!1}else if(de!==Oe)return!1}for(const j of Z)if(!q.includes(j))return!1;return!0}function ar(be){return null!==be&&"object"==typeof be}function zr(be){const ie=[];for(const[q,Z]of Object.entries(be))Array.isArray(Z)?Z.forEach(j=>{ie.push(encodeURIComponent(q)+"="+encodeURIComponent(j))}):ie.push(encodeURIComponent(q)+"="+encodeURIComponent(Z));return ie.length?"&"+ie.join("&"):""}function wn(be){const ie={};return be.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[j,de]=Z.split("=");ie[decodeURIComponent(j)]=decodeURIComponent(de)}}),ie}function nn(be){const ie=be.indexOf("?");if(!ie)return"";const q=be.indexOf("#",ie);return be.substring(ie,q>0?q:void 0)}function Bn(be,ie){const q=new Lr(be,ie);return q.subscribe.bind(q)}class Lr{constructor(ie,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{ie(this)}).catch(Z=>{this.error(Z)})}next(ie){this.forEachObserver(q=>{q.next(ie)})}error(ie){this.forEachObserver(q=>{q.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,q,Z){let j;if(void 0===ie&&void 0===q&&void 0===Z)throw new Error("Missing Observer.");j=function Nn(be,ie){if("object"!=typeof be||null===be)return!1;for(const q of ie)if(q in be&&"function"==typeof be[q])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:q,complete:Z},void 0===j.next&&(j.next=vr),void 0===j.error&&(j.error=vr),void 0===j.complete&&(j.complete=vr);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),de}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,ie)}sendOne(ie,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{q(this.observers[ie])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const Un=1e3,st=2,Se=144e5,gt=.5;function kt(be,ie=Un,q=st){const Z=ie*Math.pow(q,be),j=Math.round(gt*Z*(Math.random()-.5)*2);return Math.min(Se,Z+j)}function mr(be){return be&&be._delegate?be._delegate:be}},7402:(Kt,qe,U)=>{U.d(qe,{a:()=>we});var w=U(8180),ae=U(7398),X=U(5879),_e=U(6049),m=U(3914);let we=(()=>{var Ie;class ve{constructor(oe,ge){this.authService=oe,this.router=ge}canActivate(oe,ge){return this.authService.user.pipe((0,w.q)(1),(0,ae.U)(Me=>!!Me||this.router.createUrlTree(["/login"])))}}return(Ie=ve).\u0275fac=function(oe){return new(oe||Ie)(X.LFG(_e.e),X.LFG(m.F0))},Ie.\u0275prov=X.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),ve})()},6049:(Kt,qe,U)=>{U.d(qe,{e:()=>Me});var w=U(5861),ae=U(653),X=U(5619),_e=U(6306),m=U(9397),we=U(8504);class Ie{constructor(at,Tt,ke,dt){this.email=at,this.id=Tt,this._token=ke,this._tokenExpirationDate=dt}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}var ve=U(5879),He=U(9862),oe=U(3914),ge=U(7188);let Me=(()=>{var Ke;class at{constructor(ke,dt,Ve){this.http=ke,this.router=dt,this.firestore=Ve,this.users=localStorage.getItem("users")||"",this.user=new X.X(null)}getUsers(){this.http.get("http://localhost:3000/users").subscribe(ke=>this.objUsers=ke)}signUserDetails(ke){var dt=this;return(0,w.Z)(function*(){return dt.firestore.collection("users").add(ke).then(()=>{console.log("user created")}).catch(Ve=>{console.log(Ve)})})()}signup(ke){const dt=ke.email,Ve=ke.inputPassword;return this.signUserDetails({firstName:ke.firstName,lastName:ke.lastName,email:dt}),this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key="+ae.N.API_KEY,{email:dt,password:Ve,returnSecureToken:!0}).pipe((0,_e.K)(this.handleError),(0,m.b)(Ae=>{this.handleAuth(Ae.email,Ae.localId,Ae.idToken,+Ae.expiresIn)}))}handleError(ke){let dt="An unknown error occured!";if(!ke.error||!ke.error.error)return(0,we._)(dt);switch(ke.error.error.message){case"EMAIL_EXISTS":dt="The email address is already in use!";break;case"OPERATION_NOT_ALLOWED":dt="Password sign-in is disabled for this project!";break;case"INVALID_EMAIL":dt="Please enter a valid email";break;case"EMAIL_NOT_FOUND":dt="user not found!";break;case"INVALID_PASSWORD":dt="Invalid password!";break;case"USER_DISABLED":dt="User has been disabled";break;default:dt=ke.error.error.message}return(0,we._)("INVALID_LOGIN_CREDENTIALS"==ke.error.error.message?"Invalid Login Credentials!":dt)}handleAuth(ke,dt,Ve,Ne){const wt=new Date((new Date).getTime()+1e3*Ne),Ae=new Ie(ke,dt,Ve,wt);this.user.next(Ae),this.autoLogout(1e3*Ne),localStorage.setItem("loggedData",JSON.stringify(Ae))}getLoggedUser(ke){return this.firestore.collection("users",dt=>dt.where("email","==",ke)).valueChanges()}login(ke,dt){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:ke,password:dt,returnSecureToken:!0}).pipe((0,_e.K)(this.handleError),(0,m.b)(Ve=>{this.handleAuth(Ve.email,Ve.localId,Ve.idToken,+Ve.expiresIn),this.getLoggedUser(ke).subscribe(Ne=>{let wt=JSON.stringify(Ne);localStorage.setItem("currentUser",wt)}),this.user.next(Ve.idToken),this.router.navigate(["/"])}))}autoLogout(ke){console.log("autoLogout"),this.tokenExpirationTimer=setTimeout(()=>{this.logout()},ke)}isLogged(){return console.log("islog"),localStorage.getItem("loggedData")}logout(){console.log("logout"),localStorage.removeItem("loggedData"),this.user.next(null),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogin(){console.log("autoLogin");const ke=localStorage.getItem("loggedData"),dt=ke?JSON.parse(ke):null;if(!dt)return;const Ve=new Ie(dt.email,dt.userId,dt._token,new Date(dt._tokenExpirationDate));if(Ve.token){const Ne=new Date(dt._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(Ne),this.user.next(Ve)}}}return(Ke=at).\u0275fac=function(ke){return new(ke||Ke)(ve.LFG(He.eN),ve.LFG(oe.F0),ve.LFG(ge.ST))},Ke.\u0275prov=ve.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),at})()},9537:(Kt,qe,U)=>{U.d(qe,{P:()=>Tt});var w=U(5879),ae=U(3414),X=U(3914),_e=U(6049),m=U(6814);function we(ke,dt){1&ke&&(w.TgZ(0,"div",3),w._UZ(1,"img",4),w.TgZ(2,"p",5),w._uU(3,"Your cart is empty."),w.qZA(),w.TgZ(4,"p",6),w._uU(5," Go to homepage? "),w.TgZ(6,"a",7),w._uU(7,"Click here..."),w.qZA()()())}function Ie(ke,dt){if(1&ke){const Ve=w.EpF();w.TgZ(0,"button",22),w.NdJ("click",function(){w.CHM(Ve);const wt=w.oxw().index,Ae=w.oxw(2);return w.KtG(Ae.productCart(wt,"remove"))}),w._uU(1," - "),w.qZA()}}function ve(ke,dt){1&ke&&(w.TgZ(0,"span"),w._uU(1,"Out of Stock"),w.qZA())}function He(ke,dt){if(1&ke){const Ve=w.EpF();w.TgZ(0,"button",23),w.NdJ("click",function(){w.CHM(Ve);const wt=w.oxw().index,Ae=w.oxw(2);return w.KtG(Ae.productCart(wt,"add"))}),w._uU(1," + "),w.qZA()}if(2&ke){const Ve=w.oxw().$implicit;w.Q6J("disabled",Ve.amount==Ve.stock)}}function oe(ke,dt){1&ke&&(w.TgZ(0,"span",24),w._uU(1,"Max QTY"),w.qZA())}function ge(ke,dt){if(1&ke&&(w.TgZ(0,"tr",15)(1,"td"),w._UZ(2,"img",16),w.qZA(),w.TgZ(3,"td"),w._uU(4),w.qZA(),w.TgZ(5,"td"),w._uU(6),w.qZA(),w.TgZ(7,"td"),w._uU(8),w.qZA(),w.TgZ(9,"td"),w.YNc(10,Ie,2,0,"button",17),w.YNc(11,ve,2,0,"span",18),w.YNc(12,He,2,1,"button",19),w._UZ(13,"br"),w.YNc(14,oe,2,0,"span",20),w.qZA(),w.TgZ(15,"td",21),w._uU(16),w.qZA()()),2&ke){const Ve=dt.$implicit;w.xp6(2),w.s9C("src",Ve.images[0],w.LSH),w.xp6(2),w.Oqu(Ve.title),w.xp6(2),w.Oqu(Ve.amount),w.xp6(2),w.Oqu(Ve.price),w.xp6(2),w.Q6J("ngIf",0!=Ve.stock),w.xp6(1),w.Q6J("ngIf",0==Ve.stock),w.xp6(1),w.Q6J("ngIf",0!=Ve.stock),w.xp6(2),w.Q6J("ngIf",Ve.amount==Ve.stock),w.xp6(2),w.hij("$",Ve.amount*Ve.price,"")}}function Me(ke,dt){if(1&ke&&(w.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"table",11)(4,"thead")(5,"tr",12)(6,"th",13),w._uU(7,"Image"),w.qZA(),w.TgZ(8,"th",13),w._uU(9,"Name"),w.qZA(),w.TgZ(10,"th",13),w._uU(11,"Amount"),w.qZA(),w.TgZ(12,"th",13),w._uU(13,"Price"),w.qZA(),w.TgZ(14,"th",13),w._uU(15,"Actions"),w.qZA(),w.TgZ(16,"th",13),w._uU(17,"Total"),w.qZA()()(),w.TgZ(18,"tbody"),w.YNc(19,ge,17,9,"tr",14),w.qZA()()()()()),2&ke){const Ve=w.oxw();w.xp6(19),w.Q6J("ngForOf",Ve.dataSource)}}function Ke(ke,dt){if(1&ke&&(w.TgZ(0,"span",32),w._uU(1),w.qZA()),2&ke){const Ve=w.oxw(2);w.xp6(1),w.hij("",Ve.onOrder," ")}}function at(ke,dt){if(1&ke){const Ve=w.EpF();w.TgZ(0,"div",25)(1,"div",26)(2,"p",27),w._uU(3,"Total Amount:"),w.qZA(),w.TgZ(4,"p",28),w._uU(5),w.ALo(6,"currency"),w.qZA()(),w.TgZ(7,"div",29),w.YNc(8,Ke,2,1,"span",30),w.TgZ(9,"button",31),w.NdJ("click",function(){w.CHM(Ve);const wt=w.oxw();return w.KtG(wt.placeOrderHandler())}),w._uU(10," Place Order "),w.qZA()()()}if(2&ke){const Ve=w.oxw();w.xp6(5),w.hij(" ",w.xi3(6,2,Ve.totalAmount,"USD")," "),w.xp6(3),w.Q6J("ngIf",Ve.onOrder)}}let Tt=(()=>{var ke;class dt{ngOnInit(){this.tableSync(),this.prods=this.cart.cartdata,this.getTotal()}constructor(Ne,wt,Ae){this.cart=Ne,this.router=wt,this.auth=Ae,this.displayedColumns=["image","title","amount","price","actions","total"],this.onOrder=null}tableSync(){this.cart.cart$.subscribe(Ne=>{this.dataSource=Ne,console.log(Ne)})}productCart(Ne,wt){this.cart.data(this.dataSource[Ne],wt),this.prods=this.cart.cartdata;const Ae=[...this.prods];this.dataSource=Ae,this.getTotal()}getTotal(){this.totalAmount=0,this.prods.map(Ne=>{this.totalAmount+=Ne.amount*Ne.price})}placeOrderHandler(){this.auth.user.subscribe(Ne=>{Ne?(this.onOrder="Redirecting to Order page...",setTimeout(()=>{this.router.navigate(["order"])},300)):(this.onOrder="User not logged in.Redirecting to Login page...",setTimeout(()=>{this.router.navigate(["login"])},300))})}}return(ke=dt).\u0275fac=function(Ne){return new(Ne||ke)(w.Y36(ae.b),w.Y36(X.F0),w.Y36(_e.e))},ke.\u0275cmp=w.Xpm({type:ke,selectors:[["app-cart"]],decls:3,vars:3,consts:[["class","text-center mt-5 pt-5",4,"ngIf"],["class","container mx-auto bg-white",4,"ngIf"],["class","card py-3 my-2 container mx-auto",4,"ngIf"],[1,"text-center","mt-5","pt-5"],["src","\\assets\\cart-icon.png","alt","empty cart","height","300px",1,"mt-5","pt-5"],[1,"m-0","fw-bold","h4"],[1,"h6","mt-3"],["href","products?page=1",1,"text-decoration-none","text-info"],[1,"container","mx-auto","bg-white"],[1,"row"],[1,""],[1,"table"],[1,"text-center"],["scope","col"],["class","text-center align-middle",4,"ngFor","ngForOf"],[1,"text-center","align-middle"],["width","100px","alt","",3,"src"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[4,"ngIf"],["class","btn btn-success btn-sm mx-1",3,"disabled","click",4,"ngIf"],["class","fw-light",4,"ngIf"],[1,"fw-bold"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm","mx-1",3,"disabled","click"],[1,"fw-light"],[1,"card","py-3","my-2","container","mx-auto"],[1,"d-flex","flex-row","justify-content-between"],[1,"display-6","fw-medium","px-3"],[1,"display-6","px-3"],[1,"col-12"],["class","text-black ms-4 fw-semibold",4,"ngIf"],[1,"btn","btn-primary","float-end","col-2",3,"click"],[1,"text-black","ms-4","fw-semibold"]],template:function(Ne,wt){1&Ne&&(w.YNc(0,we,8,0,"div",0),w.YNc(1,Me,20,1,"div",1),w.YNc(2,at,11,5,"div",2)),2&Ne&&(w.Q6J("ngIf",0===wt.dataSource.length),w.xp6(1),w.Q6J("ngIf",wt.dataSource.length>0),w.xp6(1),w.Q6J("ngIf",wt.dataSource.length>0))},dependencies:[m.sg,m.O5,m.H9]}),dt})()},3749:(Kt,qe,U)=>{U.d(qe,{R:()=>ae});var w=U(5879);let ae=(()=>{var X;class _e{}return(X=_e).\u0275fac=function(we){return new(we||X)},X.\u0275cmp=w.Xpm({type:X,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"loader"],[1,"bar1"],[1,"bar2"],[1,"bar3"],[1,"bar4"],[1,"bar5"],[1,"bar6"],[1,"bar7"],[1,"bar8"],[1,"bar9"],[1,"bar10"],[1,"bar11"],[1,"bar12"]],template:function(we,Ie){1&we&&(w.TgZ(0,"div",0),w._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),w.qZA())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;top:5em;border-radius:10px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8%;height:24%;background:rgb(0,0,0);position:absolute;left:50%;top:30%;opacity:0;border-radius:50px;box-shadow:0 0 3px #0003;animation:_ngcontent-%COMP%_fade458 1s linear infinite}@keyframes _ngcontent-%COMP%_fade458{0%{opacity:1}to{opacity:.25}}.loader[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{transform:rotate(0) translateY(-130%);animation-delay:0s}.loader[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{transform:rotate(30deg) translateY(-130%);animation-delay:-1.1s}.loader[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{transform:rotate(60deg) translateY(-130%);animation-delay:-1s}.loader[_ngcontent-%COMP%]   .bar4[_ngcontent-%COMP%]{transform:rotate(90deg) translateY(-130%);animation-delay:-.9s}.loader[_ngcontent-%COMP%]   .bar5[_ngcontent-%COMP%]{transform:rotate(120deg) translateY(-130%);animation-delay:-.8s}.loader[_ngcontent-%COMP%]   .bar6[_ngcontent-%COMP%]{transform:rotate(150deg) translateY(-130%);animation-delay:-.7s}.loader[_ngcontent-%COMP%]   .bar7[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-130%);animation-delay:-.6s}.loader[_ngcontent-%COMP%]   .bar8[_ngcontent-%COMP%]{transform:rotate(210deg) translateY(-130%);animation-delay:-.5s}.loader[_ngcontent-%COMP%]   .bar9[_ngcontent-%COMP%]{transform:rotate(240deg) translateY(-130%);animation-delay:-.4s}.loader[_ngcontent-%COMP%]   .bar10[_ngcontent-%COMP%]{transform:rotate(270deg) translateY(-130%);animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .bar11[_ngcontent-%COMP%]{transform:rotate(300deg) translateY(-130%);animation-delay:-.2s}.loader[_ngcontent-%COMP%]   .bar12[_ngcontent-%COMP%]{transform:rotate(330deg) translateY(-130%);animation-delay:-.1s}"]}),_e})()},3414:(Kt,qe,U)=>{U.d(qe,{b:()=>m});var w=U(5879),ae=U(5619),X=U(7188),_e=U(3914);let m=(()=>{var we;class Ie{constructor(He,oe){this.firebase=He,this.router=oe,this.storedPro=localStorage.getItem("cart")||"[]",this.prods=JSON.parse(this.storedPro),this.cartdata=this.prods,this.cart$=new ae.X(this.cartdata),this.items=new w.vpe}data(He,oe){const ge=this.cartdata.find(({id:Me})=>Me===He.id);if("add"===oe)ge?ge.amount+=1:this.cartdata.push({...He,amount:1});else{let Me=this.cartdata.findIndex(Ke=>Ke.id===He.id);1==ge?.amount?this.cartdata.splice(Me,1):ge&&(ge.amount-=1)}localStorage.setItem("cart",JSON.stringify(this.cartdata)),this.cart$.next(this.cartdata),this.items.emit(this.cartdata.length)}handleOrder(He,oe,ge){this.firebase.collection("products").ref.where("id","==",He).get().then(Me=>{Me.forEach(Ke=>{const at=Ke.id;console.log(at),this.firebase.doc(`products/${at}`).update({stock:ge-oe})}),this.items.emit(0)}).catch(Me=>{console.log(Me)}),localStorage.removeItem("cart"),this.router.navigate(["/"])}}return(we=Ie).\u0275fac=function(He){return new(He||we)(w.LFG(X.ST),w.LFG(_e.F0))},we.\u0275prov=w.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),Ie})()},2158:(Kt,qe,U)=>{U.d(qe,{M:()=>X});var w=U(5879),ae=U(7188);let X=(()=>{var _e;class m{constructor(Ie){this.firebase=Ie,this.currentUserEmail=JSON.parse(localStorage.getItem("currentUser"))[0].email}saveOrderData(Ie){var He=(new Date).toLocaleString();let oe={...Ie,email:this.currentUserEmail,id:this.firebase.createId(),orderId:Math.round(1e10*Math.random()),orderTime:He};console.log(oe),this.firebase.collection("userData").add(oe).then(()=>{console.log("Order Success!")})}getUserOrderData(){return this.firebase.collection("userData",Ie=>Ie.where("email","==",this.currentUserEmail)).valueChanges()}}return(_e=m).\u0275fac=function(Ie){return new(Ie||_e)(w.LFG(ae.ST))},_e.\u0275prov=w.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),m})()},653:(Kt,qe,U)=>{U.d(qe,{N:()=>w});const w={production:!1,API_KEY:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",firebaseConfig:{apiKey:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",authDomain:"anywhere-ecom.firebaseapp.com",projectId:"anywhere-ecom",storageBucket:"anywhere-ecom.appspot.com",messagingSenderId:"24709365004",appId:"1:24709365004:web:12005ff74089fc9deedd29"}}},6917:(Kt,qe,U)=>{var w=U(6593),ae=U(9862),X=U(3914),_e=U(7402),m=U(5879),we=U(6049),Ie=U(6814),ve=U(2459),He=U(5592),oe=U(7453),ge=U(4829),Me=U(9940),Ke=U(8251),at=U(7400),Tt=U(2714),dt=U(7398);let Ve=(()=>{var r;class e{constructor(s,u){this._renderer=s,this._elementRef=u,this.onChange=p=>{},this.onTouched=()=>{}}setProperty(s,u){this._renderer.setProperty(this._elementRef.nativeElement,s,u)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(m.Qsj),m.Y36(m.SBq))},r.\u0275dir=m.lG2({type:r}),e})(),Ne=(()=>{var r;class e extends Ve{}return(r=e).\u0275fac=function(){let n;return function(u){return(n||(n=m.n5z(r)))(u||r)}}(),r.\u0275dir=m.lG2({type:r,features:[m.qOj]}),e})();const wt=new m.OlP("NgValueAccessor"),je={provide:wt,useExisting:(0,m.Gpc)(()=>Ee),multi:!0},vt=new m.OlP("CompositionEventMode");let Ee=(()=>{var r;class e extends Ve{constructor(s,u,p){super(s,u),this._compositionMode=p,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ut(){const r=(0,Ie.q)()?(0,Ie.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(vt,8))},r.\u0275dir=m.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,u){1&s&&m.NdJ("input",function(y){return u._handleInput(y.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(y){return u._compositionEnd(y.target.value)})},features:[m._Bn([je]),m.qOj]}),e})();function ft(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function St(r){return null!=r&&"number"==typeof r.length}const zt=new m.OlP("NgValidators"),_n=new m.OlP("NgAsyncValidators"),Ln=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class En{static min(e){return function pr(r){return e=>{if(ft(e.value)||ft(r))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<r?{min:{min:r,actual:e.value}}:null}}(e)}static max(e){return function tr(r){return e=>{if(ft(e.value)||ft(r))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>r?{max:{max:r,actual:e.value}}:null}}(e)}static required(e){return jr(e)}static requiredTrue(e){return function Ze(r){return!0===r.value?null:{required:!0}}(e)}static email(e){return Xe(e)}static minLength(e){return tt(e)}static maxLength(e){return function Je(r){return e=>St(e.value)&&e.value.length>r?{maxlength:{requiredLength:r,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yt(r){if(!r)return Mt;let e,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),e=new RegExp(n)):(n=r.toString(),e=r),s=>{if(ft(s.value))return null;const u=s.value;return e.test(u)?null:{pattern:{requiredPattern:n,actualValue:u}}}}(e)}static nullValidator(e){return null}static compose(e){return Jn(e)}static composeAsync(e){return Xn(e)}}function jr(r){return ft(r.value)?{required:!0}:null}function Xe(r){return ft(r.value)||Ln.test(r.value)?null:{email:!0}}function tt(r){return e=>ft(e.value)||!St(e.value)?null:e.value.length<r?{minlength:{requiredLength:r,actualLength:e.value.length}}:null}function Mt(r){return null}function Lt(r){return null!=r}function Ot(r){return(0,m.QGY)(r)?(0,ve.D)(r):r}function en(r){let e={};return r.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function vn(r,e){return e.map(n=>n(r))}function Qt(r){return r.map(e=>function qn(r){return!r.validate}(e)?e:n=>e.validate(n))}function Jn(r){if(!r)return null;const e=r.filter(Lt);return 0==e.length?null:function(n){return en(vn(n,e))}}function rr(r){return null!=r?Jn(Qt(r)):null}function Xn(r){if(!r)return null;const e=r.filter(Lt);return 0==e.length?null:function(n){return function ke(...r){const e=(0,Me.jO)(r),{args:n,keys:s}=(0,oe.D)(r),u=new He.y(p=>{const{length:y}=n;if(!y)return void p.complete();const C=new Array(y);let k=y,$=y;for(let ee=0;ee<y;ee++){let ce=!1;(0,ge.Xf)(n[ee]).subscribe((0,Ke.x)(p,xe=>{ce||(ce=!0,$--),C[ee]=xe},()=>k--,void 0,()=>{(!k||!ce)&&($||p.next(s?(0,Tt.n)(s,C):C),p.complete())}))}});return e?u.pipe((0,at.Z)(e)):u}(vn(n,e).map(Ot)).pipe((0,dt.U)(en))}}function dr(r){return null!=r?Xn(Qt(r)):null}function Hr(r,e){return null===r?[e]:Array.isArray(r)?[...r,e]:[r,e]}function $r(r){return r._rawValidators}function Ii(r){return r._rawAsyncValidators}function yr(r){return r?Array.isArray(r)?r:[r]:[]}function ar(r,e){return Array.isArray(r)?r.includes(e):r===e}function hi(r,e){const n=yr(e);return yr(r).forEach(u=>{ar(n,u)||n.push(u)}),n}function zr(r,e){return yr(e).filter(n=>!ar(r,n))}class wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class nn extends wn{get formDirective(){return null}get path(){return null}}class Cn extends wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bn{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nn=(()=>{var r;class e extends Bn{constructor(s){super(s)}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(Cn,2))},r.\u0275dir=m.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,u){2&s&&m.ekj("ng-untouched",u.isUntouched)("ng-touched",u.isTouched)("ng-pristine",u.isPristine)("ng-dirty",u.isDirty)("ng-valid",u.isValid)("ng-invalid",u.isInvalid)("ng-pending",u.isPending)},features:[m.qOj]}),e})(),vr=(()=>{var r;class e extends Bn{constructor(s){super(s)}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(nn,10))},r.\u0275dir=m.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,u){2&s&&m.ekj("ng-untouched",u.isUntouched)("ng-touched",u.isTouched)("ng-pristine",u.isPristine)("ng-dirty",u.isDirty)("ng-valid",u.isValid)("ng-invalid",u.isInvalid)("ng-pending",u.isPending)("ng-submitted",u.isSubmitted)},features:[m.qOj]}),e})();const ie="VALID",q="INVALID",Z="PENDING",j="DISABLED";function de(r){return(Rt(r)?r.validators:r)||null}function ot(r,e){return(Rt(e)?e.asyncValidators:r)||null}function Rt(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class jn{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ie}get invalid(){return this.status===q}get pending(){return this.status==Z}get disabled(){return this.status===j}get enabled(){return this.status!==j}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zr(e,this._rawAsyncValidators))}hasValidator(e){return ar(this._rawValidators,e)}hasAsyncValidator(e){return ar(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Z,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=j,this.errors=null,this._forEachChild(s=>{s.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ie,this._forEachChild(s=>{s.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ie||this.status===Z)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j:ie}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Z,this._hasOwnPendingAsyncValidator=!0;const n=Ot(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((s,u)=>s&&s._find(u),this)}getError(e,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?j:this.errors?q:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Z)?Z:this._anyControlsHaveStatus(q)?q:ie}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rt(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Oe(r){return Array.isArray(r)?rr(r):r||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $t(r){return Array.isArray(r)?dr(r):r||null}(this._rawAsyncValidators)}}class Re extends jn{constructor(e,n,s){super(de(n),ot(s,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,s={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function Dn(r,e,n){r._forEachChild((s,u)=>{if(void 0===n[u])throw new m.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(s=>{(function An(r,e,n){const s=r.controls;if(!(e?Object.keys(s):s).length)throw new m.vHH(1e3,"");if(!s[n])throw new m.vHH(1001,"")})(this,!0,s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(s=>{const u=this.controls[s];u&&u.patchValue(e[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((s,u)=>{s.reset(e[u],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,s)=>(e[s]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&e(s,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,s]of Object.entries(this.controls))if(this.contains(n)&&e(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,s,u)=>((s.enabled||this.disabled)&&(n[u]=s.value),n))}_reduceChildren(e,n){let s=e;return this._forEachChild((u,p)=>{s=n(s,u,p)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ue=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ct}),Ct="always";function It(r,e){return[...e.path,r]}function Pn(r,e,n=Ct){Ur(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(r.disabled),function rs(r,e){e.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&lr(r,e)})}(r,e),function ur(r,e){const n=(s,u)=>{e.valueAccessor.writeValue(s),u&&e.viewToModelUpdate(s)};r.registerOnChange(n),e._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,e),function ui(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&lr(r,e),"submit"!==r.updateOn&&r.markAsTouched()})}(r,e),function mi(r,e){if(e.valueAccessor.setDisabledState){const n=s=>{e.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,e)}function cn(r,e,n=!0){const s=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(s),e.valueAccessor.registerOnTouched(s)),xi(r,e),r&&(e._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Yr(r,e){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ur(r,e){const n=$r(r);null!==e.validator?r.setValidators(Hr(n,e.validator)):"function"==typeof n&&r.setValidators([n]);const s=Ii(r);null!==e.asyncValidator?r.setAsyncValidators(Hr(s,e.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const u=()=>r.updateValueAndValidity();Yr(e._rawValidators,u),Yr(e._rawAsyncValidators,u)}function xi(r,e){let n=!1;if(null!==r){if(null!==e.validator){const u=$r(r);if(Array.isArray(u)&&u.length>0){const p=u.filter(y=>y!==e.validator);p.length!==u.length&&(n=!0,r.setValidators(p))}}if(null!==e.asyncValidator){const u=Ii(r);if(Array.isArray(u)&&u.length>0){const p=u.filter(y=>y!==e.asyncValidator);p.length!==u.length&&(n=!0,r.setAsyncValidators(p))}}}const s=()=>{};return Yr(e._rawValidators,s),Yr(e._rawAsyncValidators,s),n}function lr(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function fi(r,e){Ur(r,e)}function co(r,e){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Le(r,e){r._syncPendingControls(),e.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function et(r,e){if(!e)return null;let n,s,u;return Array.isArray(e),e.forEach(p=>{p.constructor===Ee?n=p:function Fe(r){return Object.getPrototypeOf(r.constructor)===Ne}(p)?s=p:u=p}),u||s||n||null}const Hn={provide:nn,useExisting:(0,m.Gpc)(()=>Er)},_r=(()=>Promise.resolve())();let Er=(()=>{var r;class e extends nn{constructor(s,u,p){super(),this.callSetDisabledState=p,this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new Re({},rr(s),dr(u))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(s){_r.then(()=>{const u=this._findContainer(s.path);s.control=u.registerControl(s.name,s.control),Pn(s.control,s,this.callSetDisabledState),s.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(s)})}getControl(s){return this.form.get(s.path)}removeControl(s){_r.then(()=>{const u=this._findContainer(s.path);u&&u.removeControl(s.name),this._directives.delete(s)})}addFormGroup(s){_r.then(()=>{const u=this._findContainer(s.path),p=new Re({});fi(p,s),u.registerControl(s.name,p),p.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(s){_r.then(()=>{const u=this._findContainer(s.path);u&&u.removeControl(s.name)})}getFormGroup(s){return this.form.get(s.path)}updateModel(s,u){_r.then(()=>{this.form.get(s.path).setValue(u)})}setValue(s){this.control.setValue(s)}onSubmit(s){return this.submitted=!0,Le(this.form,this._directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(s){return s.pop(),s.length?this.form.get(s):this.form}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(zt,10),m.Y36(_n,10),m.Y36(Ue,8))},r.\u0275dir=m.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,u){1&s&&m.NdJ("submit",function(y){return u.onSubmit(y)})("reset",function(){return u.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Hn]),m.qOj]}),e})();function Br(r,e){const n=r.indexOf(e);n>-1&&r.splice(n,1)}function Fa(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const qr=class extends jn{constructor(e=null,n,s){super(de(n),ot(s,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rt(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Fa(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Br(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Br(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Fa(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Dr={provide:Cn,useExisting:(0,m.Gpc)(()=>ki)},ci=(()=>Promise.resolve())();let ki=(()=>{var r;class e extends Cn{constructor(s,u,p,y,C,k){super(),this._changeDetectorRef=C,this.callSetDisabledState=k,this.control=new qr,this._registered=!1,this.name="",this.update=new m.vpe,this._parent=s,this._setValidators(u),this._setAsyncValidators(p),this.valueAccessor=et(0,y)}ngOnChanges(s){if(this._checkForErrors(),!this._registered||"name"in s){if(this._registered&&(this._checkName(),this.formDirective)){const u=s.name.previousValue;this.formDirective.removeControl({name:u,path:this._getPath(u)})}this._setUpControl()}"isDisabled"in s&&this._updateDisabled(s),co(s,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(s){ci.then(()=>{this.control.setValue(s,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(s){const u=s.isDisabled.currentValue,p=0!==u&&(0,m.VuI)(u);ci.then(()=>{p&&!this.control.disabled?this.control.disable():!p&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(s){return this._parent?It(s,this._parent):[s]}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(nn,9),m.Y36(zt,10),m.Y36(_n,10),m.Y36(wt,10),m.Y36(m.sBO,8),m.Y36(Ue,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([Dr]),m.qOj,m.TTD]}),e})(),Os=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275dir=m.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Wr=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({}),e})();const Jr=new m.OlP("NgModelWithFormControlWarning"),Bs={provide:nn,useExisting:(0,m.Gpc)(()=>ro)};let ro=(()=>{var r;class e extends nn{constructor(s,u,p){super(),this.callSetDisabledState=p,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(s),this._setAsyncValidators(u)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const u=this.form.get(s.path);return Pn(u,s,this.callSetDisabledState),u.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),u}getControl(s){return this.form.get(s.path)}removeControl(s){cn(s.control||null,s,!1),function xt(r,e){const n=r.indexOf(e);n>-1&&r.splice(n,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,u){this.form.get(s.path).setValue(u)}onSubmit(s){return this.submitted=!0,Le(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const u=s.control,p=this.form.get(s.path);u!==p&&(cn(u||null,s),(r=>r instanceof qr)(p)&&(Pn(p,s,this.callSetDisabledState),s.control=p))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const u=this.form.get(s.path);fi(u,s),u.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const u=this.form.get(s.path);u&&function Ss(r,e){return xi(r,e)}(u,s)&&u.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ur(this.form,this),this._oldForm&&xi(this._oldForm,this)}_checkFormPresent(){}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(zt,10),m.Y36(_n,10),m.Y36(Ue,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(s,u){1&s&&m.NdJ("submit",function(y){return u.onSubmit(y)})("reset",function(){return u.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Bs]),m.qOj,m.TTD]}),e})();const Ea={provide:Cn,useExisting:(0,m.Gpc)(()=>io)};let io=(()=>{var r;class e extends Cn{set isDisabled(s){}constructor(s,u,p,y,C){super(),this._ngModelWarningConfig=C,this._added=!1,this.name=null,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(u),this._setAsyncValidators(p),this.valueAccessor=et(0,y)}ngOnChanges(s){this._added||this._setUpControl(),co(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return It(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(r=e)._ngModelWarningSentOnce=!1,r.\u0275fac=function(s){return new(s||r)(m.Y36(nn,13),m.Y36(zt,10),m.Y36(_n,10),m.Y36(wt,10),m.Y36(Jr,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Ea]),m.qOj,m.TTD]}),e})();const is={provide:wt,useExisting:(0,m.Gpc)(()=>ss),multi:!0};function Ba(r,e){return null==r?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${r}: ${e}`.slice(0,50))}let ss=(()=>{var r;class e extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){this.value=s;const p=Ba(this._getOptionId(s),s);this.setProperty("value",p)}registerOnChange(s){this.onChange=u=>{this.value=this._getOptionValue(u),s(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(s){for(const u of this._optionMap.keys())if(this._compareWith(this._optionMap.get(u),s))return u;return null}_getOptionValue(s){const u=function so(r){return r.split(":")[0]}(s);return this._optionMap.has(u)?this._optionMap.get(u):s}}return(r=e).\u0275fac=function(){let n;return function(u){return(n||(n=m.n5z(r)))(u||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,u){1&s&&m.NdJ("change",function(y){return u.onChange(y.target.value)})("blur",function(){return u.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([is]),m.qOj]}),e})(),na=(()=>{var r;class e{constructor(s,u,p){this._element=s,this._renderer=u,this._select=p,this._select&&(this.id=this._select._registerOption())}set ngValue(s){null!=this._select&&(this._select._optionMap.set(this.id,s),this._setElementValue(Ba(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._setElementValue(s),this._select&&this._select.writeValue(this._select.value)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(ss,9))},r.\u0275dir=m.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const cu={provide:wt,useExisting:(0,m.Gpc)(()=>js),multi:!0};function wa(r,e){return null==r?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${r}: ${e}`.slice(0,50))}let js=(()=>{var r;class e extends Ne{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(s){this._compareWith=s}writeValue(s){let u;if(this.value=s,Array.isArray(s)){const p=s.map(y=>this._getOptionId(y));u=(y,C)=>{y._setSelected(p.indexOf(C.toString())>-1)}}else u=(p,y)=>{p._setSelected(!1)};this._optionMap.forEach(u)}registerOnChange(s){this.onChange=u=>{const p=[],y=u.selectedOptions;if(void 0!==y){const C=y;for(let k=0;k<C.length;k++){const ee=this._getOptionValue(C[k].value);p.push(ee)}}else{const C=u.options;for(let k=0;k<C.length;k++){const $=C[k];if($.selected){const ee=this._getOptionValue($.value);p.push(ee)}}}this.value=p,s(p)}}_registerOption(s){const u=(this._idCounter++).toString();return this._optionMap.set(u,s),u}_getOptionId(s){for(const u of this._optionMap.keys())if(this._compareWith(this._optionMap.get(u)._value,s))return u;return null}_getOptionValue(s){const u=function Uo(r){return r.split(":")[0]}(s);return this._optionMap.has(u)?this._optionMap.get(u)._value:s}}return(r=e).\u0275fac=function(){let n;return function(u){return(n||(n=m.n5z(r)))(u||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,u){1&s&&m.NdJ("change",function(y){return u.onChange(y.target)})("blur",function(){return u.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([cu]),m.qOj]}),e})(),Pr=(()=>{var r;class e{constructor(s,u,p){this._element=s,this._renderer=u,this._select=p,this._select&&(this.id=this._select._registerOption(this))}set ngValue(s){null!=this._select&&(this._value=s,this._setElementValue(wa(this.id,s)),this._select.writeValue(this._select.value))}set value(s){this._select?(this._value=s,this._setElementValue(wa(this.id,s)),this._select.writeValue(this._select.value)):this._setElementValue(s)}_setElementValue(s){this._renderer.setProperty(this._element.nativeElement,"value",s)}_setSelected(s){this._renderer.setProperty(this._element.nativeElement,"selected",s)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(js,9))},r.\u0275dir=m.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();let xs=(()=>{var r;class e{constructor(){this._validator=Mt}ngOnChanges(s){if(this.inputName in s){const u=this.normalizeInput(s[this.inputName].currentValue);this._enabled=this.enabled(u),this._validator=this._enabled?this.createValidator(u):Mt,this._onChange&&this._onChange()}}validate(s){return this._validator(s)}registerOnValidatorChange(s){this._onChange=s}enabled(s){return null!=s}}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275dir=m.lG2({type:r,features:[m.TTD]}),e})();const Vi={provide:zt,useExisting:(0,m.Gpc)(()=>Qi),multi:!0};let Qi=(()=>{var r;class e extends xs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.VuI,this.createValidator=s=>jr}enabled(s){return s}}return(r=e).\u0275fac=function(){let n;return function(u){return(n||(n=m.n5z(r)))(u||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,u){2&s&&m.uIk("required",u._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([Vi]),m.qOj]}),e})();const ku={provide:zt,useExisting:(0,m.Gpc)(()=>Co),multi:!0};let Co=(()=>{var r;class e extends xs{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=m.VuI,this.createValidator=s=>Xe}enabled(s){return s}}return(r=e).\u0275fac=function(){let n;return function(u){return(n||(n=m.n5z(r)))(u||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[m._Bn([ku]),m.qOj]}),e})();const vs={provide:zt,useExisting:(0,m.Gpc)(()=>Yi),multi:!0};let Yi=(()=>{var r;class e extends xs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=s=>function Ou(r){return"number"==typeof r?r:parseInt(r,10)}(s),this.createValidator=s=>tt(s)}}return(r=e).\u0275fac=function(){let n;return function(u){return(n||(n=m.n5z(r)))(u||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(s,u){2&s&&m.uIk("minlength",u._enabled?u.minlength:null)},inputs:{minlength:"minlength"},features:[m._Bn([vs]),m.qOj]}),e})(),ic=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[Wr]}),e})(),Bo=(()=>{var r;class e{static withConfig(s){return{ngModule:e,providers:[{provide:Ue,useValue:s.callSetDisabledState??Ct}]}}}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[ic]}),e})(),jc=(()=>{var r;class e{static withConfig(s){return{ngModule:e,providers:[{provide:Jr,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:Ue,useValue:s.callSetDisabledState??Ct}]}}}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[ic]}),e})();function ra(r,e){if(1&r&&(m.TgZ(0,"span",18),m._uU(1),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Oqu(n.errorMessage)}}let ml=(()=>{var r;class e{constructor(s,u){this.auth=s,this.router=u,this.errorMessage="",this.isError=!1,this.isEmail=!0}formOp(s){this.auth.login(s.value.email,s.value.password).subscribe(y=>{},y=>{this.errorMessage=y,this.isError=!0})}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(we.e),m.Y36(X.F0))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","my-0"],[1,"text-primary","fw-bolder","display-3"],[1,"h6","text-secondary","my-2"],["href","/signup",1,"text-decoration-none"],["id","box",1,"col-xl-6","col-lg-6","col-md-10","col-sm-12","my-5","rounded"],["id","form",3,"ngSubmit"],["authForm","ngForm"],["class","text-danger small",4,"ngIf"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","ngModel","","name","email","placeholder","Enter Email","email","","required","",1,"form-control","rounded-4","py-3"],["for","password",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","password","ngModel","","name","password","placeholder","Enter Password","required","","password","","minlength","8",1,"form-control","rounded-4","py-3"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["href","/signup",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"]],template:function(s,u){if(1&s){const p=m.EpF();m.TgZ(0,"div",0)(1,"p",1),m._uU(2,"WELCOME BACK"),m.qZA(),m.TgZ(3,"h1",2),m._uU(4," Account Login "),m.TgZ(5,"span",3),m._uU(6,"."),m.qZA()(),m.TgZ(7,"p",4),m._uU(8,"Don't have an Account? "),m.TgZ(9,"a",5),m._uU(10,"Create New Account"),m.qZA()(),m.TgZ(11,"div",6)(12,"form",7,8),m.NdJ("ngSubmit",function(){m.CHM(p);const C=m.MAs(13);return m.KtG(u.formOp(C))}),m.YNc(14,ra,2,1,"span",9),m.TgZ(15,"div",10)(16,"label",11),m._uU(17,"Email"),m.qZA(),m._UZ(18,"input",12),m.qZA(),m.TgZ(19,"div",10)(20,"label",13),m._uU(21,"Password"),m.qZA(),m._UZ(22,"input",14),m.qZA(),m.TgZ(23,"div",15)(24,"a",16),m._uU(25,"Change Method"),m.qZA(),m.TgZ(26,"button",17),m._uU(27,"Next"),m.qZA()()()()()}if(2&s){const p=m.MAs(13);m.xp6(14),m.Q6J("ngIf",u.isError),m.xp6(12),m.Q6J("disabled",!p.valid)}},dependencies:[Ie.O5,Os,Ee,Nn,vr,Qi,Yi,Co,ki,Er]}),e})();function vd(r,e){if(1&r&&(m.TgZ(0,"span",29),m._uU(1),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Oqu(n.errorMessage)}}function sc(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Name cannot contain numbers. "),m.qZA())}function du(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," First Name is required "),m.qZA())}function ia(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,sc,2,0,"span",15),m.YNc(2,du,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("firstName").errors.pattern),m.xp6(1),m.Q6J("ngIf",n.authForm.get("firstName").errors.required)}}function Ao(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Name cannot contain numbers. "),m.qZA())}function hu(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Last Name is required "),m.qZA())}function Rs(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,Ao,2,0,"span",15),m.YNc(2,hu,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("lastName").errors.pattern),m.xp6(1),m.Q6J("ngIf",n.authForm.get("lastName").errors.required)}}function _i(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Enter a valid Email "),m.qZA())}function jo(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Email is required "),m.qZA())}function Es(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,_i,2,0,"span",15),m.YNc(2,jo,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("email").errors.email),m.xp6(1),m.Q6J("ngIf",n.authForm.get("email").errors.required)}}function $a(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Passoword is required "),m.qZA())}function Ll(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Passoword should match the criteria and should be 8 chars long "),m.qZA())}function Fl(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,$a,2,0,"span",15),m.YNc(2,Ll,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("inputPassword").errors.required),m.xp6(1),m.Q6J("ngIf",n.authForm.get("inputPassword").errors.pattern||n.authForm.get("inputPassword").errors.minlength)}}function Ns(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Confirm Passoword is required "),m.qZA())}function Ta(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Both password should match "),m.qZA())}function Vl(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,Ns,2,0,"span",15),m.YNc(2,Ta,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("confirmPassword").errors.required),m.xp6(1),m.Q6J("ngIf",n.ifMatched&&n.authForm.get("inputPassword").valid)}}let ba=(()=>{var r;class e{constructor(s){this.auth=s,this.confirmPassword="",this.isError=!1,this.inputPassword="",this.ifMatched=!0,this.passwordRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/,this.isValid=!1,this.numEx=/^[A-Za-z]+$/}ngOnInit(){this.authForm=new Re({firstName:new qr(null,[En.required,En.pattern(this.numEx)]),lastName:new qr(null,[En.required,En.pattern(this.numEx)]),email:new qr(null,[En.required,En.email]),inputPassword:new qr(null,[En.required,En.pattern(this.passwordRegex)]),confirmPassword:new qr(null,[En.required,En.pattern(this.passwordRegex)])})}onSubmit(){console.log(this.authForm),this.auth.signup(this.authForm.value).subscribe(s=>{},s=>{this.errorMessage=s,this.isError=!0})}passwordMatch(){this.ifMatched=this.confirmPassword===this.inputPassword}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(we.e))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-sign-up"]],decls:52,vars:8,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold"],[1,"text-primary","fw-bolder","display-4"],[1,"h6","text-secondary"],["routerLink","/login",1,"text-decoration-none"],[1,"col-xl-6","col-md-10","col-sm-12","my-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["class","text-danger small",4,"ngIf"],[1,"col-11","d-flex","justify-content-between"],[1,"col-5"],[1,"form-group",3,"has-error"],["for","firstName",1,"col-sm-5","col-form-label","fw-semibold"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter First Name","required","",1,"form-control","rounded-4","py-3"],["class","small text-danger",4,"ngIf"],["for","lastName",1,"col-sm-5","col-form-label","fw-semibold"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter Last Name","required","",1,"form-control","rounded-4","py-3"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","formControlName","email","placeholder","Enter Email","required","","email","",1,"form-control","rounded-4","py-3"],["for","inputPassword",1,"col-sm-5","col-form-label","fw-semibold"],["title","A mixture of both uppercase and lowercase letters.\n  A mixture of letters and numbers.\n  Inclusion of at least one special character, e.g., ! @ # ? ]","data-bs-placement","bottom",1,"tt"],["type","password","id","inputPassword","formControlName","inputPassword","placeholder","Enter Password","required","","minlength","8","password","",1,"form-control","rounded-4","py-3",3,"ngModelChange"],["for","confirmPassword",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter Password","required","","minlength","8",1,"form-control","rounded-4","py-3",3,"ngModelChange"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["routerLink","/login",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"],[1,"small","text-danger"]],template:function(s,u){1&s&&(m.TgZ(0,"div",0)(1,"p",1),m._uU(2,"START FOR FREE"),m.qZA(),m.TgZ(3,"h1",2),m._uU(4," Create new account "),m.TgZ(5,"span",3),m._uU(6,"."),m.qZA()(),m.TgZ(7,"p",4),m._uU(8," Already A Member? "),m.TgZ(9,"a",5),m._uU(10,"Log In"),m.qZA()(),m.TgZ(11,"div",6)(12,"form",7),m.NdJ("ngSubmit",function(){return u.onSubmit()}),m.TgZ(13,"div",8),m.YNc(14,vd,2,1,"span",9),m.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),m._uU(19,"First Name"),m.qZA(),m._UZ(20,"input",14),m.qZA(),m.YNc(21,ia,3,2,"span",15),m.qZA(),m.TgZ(22,"div",11)(23,"div",12)(24,"label",16),m._uU(25,"Last Name"),m.qZA(),m._UZ(26,"input",17),m.qZA(),m.YNc(27,Rs,3,2,"span",15),m.qZA()(),m.TgZ(28,"div",18)(29,"div",12)(30,"label",19),m._uU(31,"Email"),m.qZA(),m._UZ(32,"input",20),m.qZA(),m.YNc(33,Es,3,2,"span",15),m.qZA()(),m.TgZ(34,"div",18)(35,"div",12)(36,"label",21),m._uU(37,"Password"),m.qZA(),m.TgZ(38,"span",22)(39,"input",23),m.NdJ("ngModelChange",function(){return u.passwordMatch()}),m.qZA()()(),m.YNc(40,Fl,3,2,"span",15),m.qZA(),m.TgZ(41,"div",18)(42,"div",12)(43,"label",24),m._uU(44,"Confirm Password"),m.qZA(),m.TgZ(45,"input",25),m.NdJ("ngModelChange",function(){return u.passwordMatch()}),m.qZA()(),m.YNc(46,Vl,3,2,"span",15),m.qZA(),m.TgZ(47,"div",26)(48,"a",27),m._uU(49,"Change Method"),m.qZA(),m.TgZ(50,"button",28),m._uU(51," Create Account "),m.qZA()()()()()),2&s&&(m.xp6(12),m.Q6J("formGroup",u.authForm),m.xp6(2),m.Q6J("ngIf",u.isError),m.xp6(7),m.Q6J("ngIf",!u.authForm.get("firstName").valid&&u.authForm.get("firstName").touched),m.xp6(6),m.Q6J("ngIf",!u.authForm.get("lastName").valid&&u.authForm.get("lastName").touched),m.xp6(6),m.Q6J("ngIf",!u.authForm.get("email").valid&&u.authForm.get("email").touched),m.xp6(7),m.Q6J("ngIf",!u.authForm.get("inputPassword").valid&&u.authForm.get("inputPassword").touched),m.xp6(6),m.Q6J("ngIf",!u.authForm.get("confirmPassword").valid&&u.authForm.get("confirmPassword").touched),m.xp6(4),m.Q6J("disabled",!u.authForm.valid||!u.ifMatched))},dependencies:[Ie.O5,X.rH,Os,Ee,Nn,vr,Qi,Yi,Co,ro,io]}),e})();var Ji=U(9537);let Ho=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-error-page"]],decls:11,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3","text-center"],[1,"display-4"],["href","/",1,"btn","btn-primary"]],template:function(s,u){1&s&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),m._uU(4,"404"),m.qZA(),m.TgZ(5,"h2"),m._uU(6,"Page Not Found"),m.qZA(),m.TgZ(7,"p"),m._uU(8,"We're sorry, but the page you're looking for could not be found."),m.qZA(),m.TgZ(9,"a",4),m._uU(10,"Go back to the homepage"),m.qZA()()()())},encapsulation:2}),e})();var Ca=U(3414),di=U(2158);function sa(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Name is required "),m.qZA())}function _l(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,sa,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("name").errors.required)}}function fs(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Email is required "),m.qZA())}function Fu(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Enter a valid Email "),m.qZA())}function Ul(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,fs,2,0,"span",7),m.YNc(2,Fu,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("email").errors.required),m.xp6(1),m.Q6J("ngIf",n.orderForm.get("email").errors.email)}}function oa(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," House No. is required "),m.qZA())}function yl(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,oa,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("house_number").errors.required)}}function fu(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Area, Sector is required "),m.qZA())}function Da(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,fu,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("area_sector").errors.required)}}function go(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," City is required. "),m.qZA())}function ps(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,go,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("city").errors.required)}}function za(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," PinCode is required. "),m.qZA())}function pu(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," PinCode should be numeric. "),m.qZA())}function Ga(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,za,2,0,"span",7),m.YNc(2,pu,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("pincode").errors.required),m.xp6(1),m.Q6J("ngIf",n.orderForm.get("pincode").errors.pattern)}}function qa(r,e){if(1&r&&(m.TgZ(0,"option",36),m._uU(1),m.qZA()),2&r){const n=e.$implicit;m.Q6J("value",n.value),m.xp6(1),m.hij(" ",n.value," ")}}function oc(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," State is required. "),m.qZA())}function Aa(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,oc,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("state").errors.required)}}function Vu(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Country is required. "),m.qZA())}function x(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,Vu,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("country").errors.required)}}function G(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Contact is required "),m.qZA())}function me(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,G,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("contact").errors.required)}}let B=(()=>{var r;class e{constructor(s,u){this.cartData=s,this.userData=u,this.productId="",this.numRegex=/\d+$/,this.totalItems=0,this.objOrderData=[],this.totalAmount=0,this.stateJson={AN:"Andaman and Nicobar Islands",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CG:"Chandigarh",CH:"Chhattisgarh",DN:"Dadra and Nagar Haveli",DD:"Daman and Diu",DL:"Delhi",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JK:"Jammu and Kashmir",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",LA:"Ladakh",LD:"Lakshadweep",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PY:"Puducherry",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TS:"Telangana",TR:"Tripura",UP:"Uttar Pradesh",UK:"Uttarakhand",WB:"West Bengal"}}ngOnInit(){let s=localStorage.getItem("currentUser"),u=JSON.parse(s),p=localStorage.getItem("cart")||"";this.objOrderData=JSON.parse(p),this.objOrderData.map(y=>this.totalAmount+=y.price*y.amount),this.orderForm=new Re({name:new qr("",En.required),email:new qr("",[En.required,En.email]),house_number:new qr("",En.required),area_sector:new qr("",En.required),city:new qr("",En.required),pincode:new qr(null,[En.required,En.pattern(this.numRegex)]),state:new qr("",En.required),country:new qr("",En.required),contact:new qr(null,[En.required,En.pattern(this.numRegex)])}),this.orderForm.patchValue({name:`${u[0].firstName} ${u[0].lastName}`,email:`${u[0].email}`}),this.totalItems=this.cartData.cartdata.length}formHandler(){let s=this.cartData.cartdata,u=0;s.map(y=>{u+=y.amount*y.price}),this.userData.saveOrderData({cartItems:s,deliveryDetail:this.orderForm.value,totalAmount:u}),s.map(y=>{console.log(y.id),this.cartData.handleOrder(y.id,y.amount,y.stock)}),console.log(this.orderForm.value)}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(Ca.b),m.Y36(di.M))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-order"]],decls:72,vars:15,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-12","my-3","col-lg-7","bg-white","mx-auto","rounded","px-3","py-4","shadow"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","email",1,"form-label"],["type","text","formControlName","email","id","email",1,"form-control"],[1,"row","py-1"],[1,"col-12","col-lg-6"],["for","house_number",1,"form-label"],["type","text","formControlName","house_number","id","house_number",1,"form-control"],["for","area_sector",1,"form-label"],["type","text","formControlName","area_sector","id","area_sector",1,"form-control"],["for","city",1,"form-label"],["type","text","formControlName","city","id","city",1,"form-control"],["for","pincode",1,"form-label"],["type","text","formControlName","pincode","id","pincode",1,"form-control"],["for","state",1,"form-label"],["formControlName","state",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","country",1,"form-label"],["type","text","formControlName","country","id","country",1,"form-control"],["for","contact",1,"form-label"],["type","text","formControlName","contact","id","contact",1,"form-control"],[1,"col-12","col-lg-4","bg-white","px-3","py-4","h-75","my-auto","rounded","shadow"],[1,"fw-bold","mb-4"],[1,"list-group","col-10","mx-auto"],[1,"row","my-0","p-0","list-group-item"],[1,"col-4","mt-1"],[1,"col","text-end","fw-bold"],[1,"row","mt-5"],[1,"btn","btn-success","col-6","mx-auto",3,"disabled","click"],[1,"small","text-danger"],[3,"value"]],template:function(s,u){1&s&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),m.NdJ("ngSubmit",function(){return u.formHandler()}),m.TgZ(4,"div",4)(5,"label",5),m._uU(6,"Name"),m.qZA(),m._UZ(7,"input",6),m.YNc(8,_l,2,1,"span",7),m.qZA(),m.TgZ(9,"div",4)(10,"label",8),m._uU(11,"Email"),m.qZA(),m._UZ(12,"input",9),m.YNc(13,Ul,3,2,"span",7),m.qZA(),m.TgZ(14,"div",10)(15,"div",11)(16,"label",12),m._uU(17,"House no."),m.qZA(),m._UZ(18,"input",13),m.YNc(19,yl,2,1,"span",7),m.qZA(),m.TgZ(20,"div",11)(21,"label",14),m._uU(22,"Area, Sector"),m.qZA(),m._UZ(23,"input",15),m.YNc(24,Da,2,1,"span",7),m.qZA()(),m.TgZ(25,"div",1)(26,"div",11)(27,"label",16),m._uU(28,"City"),m.qZA(),m._UZ(29,"input",17),m.YNc(30,ps,2,1,"span",7),m.qZA(),m.TgZ(31,"div",11)(32,"label",18),m._uU(33,"PinCode"),m.qZA(),m._UZ(34,"input",19),m.YNc(35,Ga,3,2,"span",7),m.qZA()(),m.TgZ(36,"div",1)(37,"div",11)(38,"label",20),m._uU(39,"State"),m.qZA(),m.TgZ(40,"select",21),m.YNc(41,qa,2,2,"option",22),m.ALo(42,"keyvalue"),m.qZA(),m.YNc(43,Aa,2,1,"span",7),m.qZA(),m.TgZ(44,"div",11)(45,"label",23),m._uU(46,"Country"),m.qZA(),m._UZ(47,"input",24),m.YNc(48,x,2,1,"span",7),m.qZA()(),m.TgZ(49,"div",4)(50,"label",25),m._uU(51,"Contact"),m.qZA(),m._UZ(52,"input",26),m.YNc(53,me,2,1,"span",7),m.qZA()()(),m.TgZ(54,"div",27)(55,"div",1)(56,"h3",28),m._uU(57,"Order Total"),m.qZA(),m.TgZ(58,"ul",29)(59,"li",30)(60,"p",31),m._uU(61,"Total Amount:"),m.qZA(),m.TgZ(62,"p",32),m._uU(63),m.qZA()(),m.TgZ(64,"li",30)(65,"p",31),m._uU(66,"Shipping:"),m.qZA(),m.TgZ(67,"p",32),m._uU(68,"Free Shipping"),m.qZA()()(),m.TgZ(69,"div",33)(70,"button",34),m.NdJ("click",function(){return u.formHandler()}),m._uU(71," Place Order "),m.qZA()()()()()()),2&s&&(m.xp6(3),m.Q6J("formGroup",u.orderForm),m.xp6(5),m.Q6J("ngIf",!u.orderForm.get("name").valid&&u.orderForm.get("name").touched),m.xp6(5),m.Q6J("ngIf",!u.orderForm.get("email").valid&&u.orderForm.get("email").touched),m.xp6(6),m.Q6J("ngIf",!u.orderForm.get("house_number").valid&&u.orderForm.get("house_number").touched),m.xp6(5),m.Q6J("ngIf",!u.orderForm.get("area_sector").valid&&u.orderForm.get("area_sector").touched),m.xp6(6),m.Q6J("ngIf",!u.orderForm.get("city").valid&&u.orderForm.get("city").touched),m.xp6(5),m.Q6J("ngIf",!u.orderForm.get("pincode").valid&&u.orderForm.get("pincode").touched),m.xp6(6),m.Q6J("ngForOf",m.lcZ(42,13,u.stateJson)),m.xp6(2),m.Q6J("ngIf",!u.orderForm.get("state").valid&&u.orderForm.get("state").touched),m.xp6(5),m.Q6J("ngIf",!u.orderForm.get("country").valid&&u.orderForm.get("country").touched),m.xp6(5),m.Q6J("ngIf",!u.orderForm.get("contact").valid&&u.orderForm.get("contact").touched),m.xp6(10),m.hij("$",u.totalAmount,""),m.xp6(7),m.Q6J("disabled",!u.orderForm.valid))},dependencies:[Ie.sg,Ie.O5,Os,na,Pr,Ee,ss,Nn,vr,ro,io,Ie.Nd]}),e})();function Jt(r){return Array.isArray(r)?r:[r]}var xn=U(8645),ii=U(2572),Ir=U(5211),Ui=U(8180),ks=U(2181),ei=U(6321),$i=U(9360),dn=U(7921),sn=U(9773);let ai;try{ai=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ai=!1}let an=(()=>{var r;class e{constructor(s){this._platformId=s,this.isBrowser=this._platformId?(0,Ie.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ai)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(r=e).\u0275fac=function(s){return new(s||r)(m.LFG(m.Lbi))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const Mn=new Set;let zo,Zn=(()=>{var r;class e{constructor(s,u){this._platform=s,this._nonce=u,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ar}matchMedia(s){return(this._platform.WEBKIT||this._platform.BLINK)&&function Lf(r,e){if(!Mn.has(r))try{zo||(zo=document.createElement("style"),e&&(zo.nonce=e),zo.setAttribute("type","text/css"),document.head.appendChild(zo)),zo.sheet&&(zo.sheet.insertRule(`@media ${r} {body{ }}`,0),Mn.add(r))}catch(n){console.error(n)}}(s,this._nonce),this._matchMedia(s)}}return(r=e).\u0275fac=function(s){return new(s||r)(m.LFG(an),m.LFG(m.Ojb,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function Ar(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let tn=(()=>{var r;class e{constructor(s,u){this._mediaMatcher=s,this._zone=u,this._queries=new Map,this._destroySubject=new xn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(s){return vl(Jt(s)).some(p=>this._registerQuery(p).mql.matches)}observe(s){const p=vl(Jt(s)).map(C=>this._registerQuery(C).observable);let y=(0,ii.a)(p);return y=(0,Ir.z)(y.pipe((0,Ui.q)(1)),y.pipe(function Nt(r){return(0,ks.h)((e,n)=>r<=n)}(1),function as(r,e=ei.z){return(0,$i.e)((n,s)=>{let u=null,p=null,y=null;const C=()=>{if(u){u.unsubscribe(),u=null;const $=p;p=null,s.next($)}};function k(){const $=y+r,ee=e.now();if(ee<$)return u=this.schedule(void 0,$-ee),void s.add(u);C()}n.subscribe((0,Ke.x)(s,$=>{p=$,y=e.now(),u||(u=e.schedule(k,r),s.add(u))},()=>{C(),s.complete()},void 0,()=>{p=u=null}))})}(0))),y.pipe((0,dt.U)(C=>{const k={matches:!1,breakpoints:{}};return C.forEach(({matches:$,query:ee})=>{k.matches=k.matches||$,k.breakpoints[ee]=$}),k}))}_registerQuery(s){if(this._queries.has(s))return this._queries.get(s);const u=this._mediaMatcher.matchMedia(s),y={observable:new He.y(C=>{const k=$=>this._zone.run(()=>C.next($));return u.addListener(k),()=>{u.removeListener(k)}}).pipe((0,dn.O)(u),(0,dt.U)(({matches:C})=>({query:s,matches:C})),(0,sn.R)(this._destroySubject)),mql:u};return this._queries.set(s,y),y}}return(r=e).\u0275fac=function(s){return new(s||r)(m.LFG(Zn),m.LFG(m.R0b))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function vl(r){return r.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}const So={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var un,Bl=U(9397),ac=U(3997),El=U(5861),Pt=U(4303),Fr=U(4537),wl=U(7879),Hc=U(9058),yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xo={},Ro=Ro||{},Kn=yi||self;function Za(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function rt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var mo="closure_uid_"+(1e9*Math.random()>>>0),Hs=0;function Po(r,e,n){return r.call.apply(r.bind,arguments)}function Il(r,e,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function ls(r,e,n){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Po:Il).apply(null,arguments)}function D(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function P(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(s,u,p){for(var y=Array(arguments.length-2),C=2;C<arguments.length;C++)y[C-2]=arguments[C];return e.prototype[u].apply(s,y)}}function V(){this.s=this.s,this.o=this.o}V.prototype.s=!1,V.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Xd(r){Object.prototype.hasOwnProperty.call(r,mo)&&r[mo]||(r[mo]=++Hs)}(this)},V.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function re(r){const e=r.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=r[s];return n}return[]}function pe(r,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Za(s)){const u=r.length||0,p=s.length||0;r.length=u+p;for(let y=0;y<p;y++)r[u+y]=s[y]}else r.push(s)}}function ze(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var Wt=function(){if(!Kn.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Kn.addEventListener("test",()=>{},e),Kn.removeEventListener("test",()=>{},e)}catch{}return r}();function ct(r){return/^[\s\xa0]*$/.test(r)}function kn(){var r=Kn.navigator;return r&&(r=r.userAgent)?r:""}function Qn(r){return-1!=kn().indexOf(r)}function si(r){return si[" "](r),r}si[" "]=function(){};var Xi,r,$s=Qn("Opera"),Mo=Qn("Trident")||Qn("MSIE"),Qa=Qn("Edge"),aa=Qa||Mo,lc=Qn("Gecko")&&!(-1!=kn().toLowerCase().indexOf("webkit")&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),_o=-1!=kn().toLowerCase().indexOf("webkit")&&!Qn("Edge");function Ya(){var r=Kn.document;return r?r.documentMode:void 0}e:{var Tl="",wd=(r=kn(),lc?/rv:([^\);]+)(\)|;)/.exec(r):Qa?/Edge\/([\d\.]+)/.exec(r):Mo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):_o?/WebKit\/(\S+)/.exec(r):$s?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(wd&&(Tl=wd?wd[1]:""),Mo){var Ja=Ya();if(null!=Ja&&Ja>parseFloat(Tl)){Xi=String(Ja);break e}}Xi=Tl}var uc=Kn.document&&Mo&&(Ya()||parseInt(Xi,10))||void 0;function jl(r,e){if(ze.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(lc){e:{try{si(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:mu[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&jl.$.h.call(this)}}P(jl,ze);var mu={2:"touch",3:"pen",4:"mouse"};jl.prototype.h=function(){jl.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var la="closure_listenable_"+(1e6*Math.random()|0),_u=0;function jh(r,e,n,s,u){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=u,this.key=++_u,this.fa=this.ia=!1}function Hl(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function $c(r,e,n){for(const s in r)e.call(n,r[s],s,r)}function cc(r){const e={};for(const n in r)e[n]=r[n];return e}const zs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(r,e){let n,s;for(let u=1;u<arguments.length;u++){for(n in s=arguments[u],s)r[n]=s[n];for(let p=0;p<zs.length;p++)n=zs[p],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function ca(r){this.src=r,this.g={},this.h=0}function $h(r,e){var n=e.type;if(n in r.g){var p,s=r.g[n],u=z(s,e);(p=0<=u)&&Array.prototype.splice.call(s,u,1),p&&(Hl(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function vi(r,e,n,s){for(var u=0;u<r.length;++u){var p=r[u];if(!p.fa&&p.listener==e&&p.capture==!!n&&p.la==s)return u}return-1}ca.prototype.add=function(r,e,n,s,u){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var y=vi(r,e,s,u);return-1<y?(e=r[y],n||(e.ia=!1)):((e=new jh(e,this.src,p,!!s,u)).ia=n,r.push(e)),e};var yu="closure_lm_"+(1e6*Math.random()|0),Gs={};function es(r,e,n,s,u){if(s&&s.once)return da(r,e,n,s,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)es(r,e[p],n,s,u);return null}return n=$l(n),r&&r[la]?r.O(e,n,rt(s)?!!s.capture:!!s,u):zh(r,e,n,!1,s,u)}function zh(r,e,n,s,u,p){if(!e)throw Error("Invalid event type");var y=rt(u)?!!u.capture:!!u,C=Xa(r);if(C||(r[yu]=C=new ca(r)),(n=C.add(e,n,s,y,p)).proxy)return n;if(s=function zc(){const e=Id;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)Wt||(u=y),void 0===u&&(u=!1),r.addEventListener(e.toString(),s,u);else if(r.attachEvent)r.attachEvent(Is(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function da(r,e,n,s,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)da(r,e[p],n,s,u);return null}return n=$l(n),r&&r[la]?r.P(e,n,rt(s)?!!s.capture:!!s,u):zh(r,e,n,!0,s,u)}function Gc(r,e,n,s,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)Gc(r,e[p],n,s,u);else s=rt(s)?!!s.capture:!!s,n=$l(n),r&&r[la]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=vi(p=r.g[e],n,s,u))&&(Hl(p[n]),Array.prototype.splice.call(p,n,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=Xa(r))&&(e=r.g[e.toString()],r=-1,e&&(r=vi(e,n,s,u)),(n=-1<r?e[r]:null)&&ju(n))}function ju(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[la])$h(e.i,r);else{var n=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(n,s,r.capture):e.detachEvent?e.detachEvent(Is(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Xa(e))?($h(n,r),0==n.h&&(n.src=null,e[yu]=null)):Hl(r)}}}function Is(r){return r in Gs?Gs[r]:Gs[r]="on"+r}function Id(r,e){if(r.fa)r=!0;else{e=new jl(e,this);var n=r.listener,s=r.la||r.src;r.ia&&ju(r),r=n.call(s,e)}return r}function Xa(r){return(r=r[yu])instanceof ca?r:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(r){return"function"==typeof r?r:(r[Mi]||(r[Mi]=function(e){return r.handleEvent(e)}),r[Mi])}function Ts(){V.call(this),this.i=new ca(this),this.S=this,this.J=null}function bs(r,e){var n,s=r.J;if(s)for(n=[];s;s=s.J)n.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new ze(e,r);else if(e instanceof ze)e.target=e.target||r;else{var u=e;ua(e=new ze(s,r),u)}if(u=!0,n)for(var p=n.length-1;0<=p;p--){var y=e.g=n[p];u=Hu(y,s,!0,e)&&u}if(u=Hu(y=e.g=r,s,!0,e)&&u,u=Hu(y,s,!1,e)&&u,n)for(p=0;p<n.length;p++)u=Hu(y=e.g=n[p],s,!1,e)&&u}function Hu(r,e,n,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var y=e[p];if(y&&!y.fa&&y.capture==n){var C=y.listener,k=y.la||y.src;y.ia&&$h(r.i,y),u=!1!==C.call(k,s)&&u}}return u&&!s.defaultPrevented}P(Ts,V),Ts.prototype[la]=!0,Ts.prototype.removeEventListener=function(r,e,n,s){Gc(this,r,e,n,s)},Ts.prototype.N=function(){if(Ts.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],s=0;s<n.length;s++)Hl(n[s]);delete r.g[e],r.h--}}this.J=null},Ts.prototype.O=function(r,e,n,s){return this.i.add(String(r),e,!1,n,s)},Ts.prototype.P=function(r,e,n,s){return this.i.add(String(r),e,!0,n,s)};var Go=Kn.JSON.stringify;function ha(){var r=vu;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var el=new class zl{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qo,r=>r.reset());class qo{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Gl(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function bl(r){Kn.setTimeout(()=>{throw r},0)}let ql,Sa=!1,vu=new class $u{constructor(){this.h=this.g=null}add(e,n){const s=el.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},Wl=()=>{const r=Kn.Promise.resolve(void 0);ql=()=>{r.then(qc)}};var qc=()=>{for(var r;r=ha();){try{r.h.call(r.g)}catch(n){bl(n)}var e=el;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Sa=!1};function zu(r,e){Ts.call(this),this.h=r||1,this.g=e||Kn,this.j=ls(this.qb,this),this.l=Date.now()}function tl(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Wc(r,e,n){if("function"==typeof r)n&&(r=ls(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ls(r.handleEvent,r)}return 2147483647<Number(e)?-1:Kn.setTimeout(r,e||0)}function nh(r){r.g=Wc(()=>{r.g=null,r.i&&(r.i=!1,nh(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}P(zu,Ts),(un=zu.prototype).ga=!1,un.T=null,un.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bs(this,"tick"),this.ga&&(tl(this),this.start()))}},un.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},un.N=function(){zu.$.N.call(this),tl(this),delete this.g};class Kl extends V{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nh(this)}N(){super.N(),this.g&&(Kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wo(r){V.call(this),this.h=r,this.g={}}P(Wo,V);var Gh=[];function qs(r,e,n,s){Array.isArray(n)||(n&&(Gh[0]=n.toString()),n=Gh);for(var u=0;u<n.length;u++){var p=es(e,n[u],s||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function Gu(r){$c(r.g,function(e,n){this.g.hasOwnProperty(n)&&ju(e)},r),r.g={}}function Kc(){this.g=!0}function dc(r,e,n,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xa(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var y=1;y<u.length;y++)u[y]=""}}}return Go(n)}catch{return e}}(r,n)+(s?" "+s:"")})}Wo.prototype.N=function(){Wo.$.N.call(this),Gu(this)},Wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kc.prototype.Ea=function(){this.g=!1},Kc.prototype.info=function(){};var Ra={},Ql=null;function R(){return Ql=Ql||new Ts}function F(r){ze.call(this,Ra.Ta,r)}function Y(r){const e=R();bs(e,new F(e))}function fe(r,e){ze.call(this,Ra.STAT_EVENT,r),this.stat=e}function Te(r){const e=R();bs(e,new fe(e,r))}function We(r,e){ze.call(this,Ra.Ua,r),this.size=e}function _t(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Kn.setTimeout(function(){r()},e)}Ra.Ta="serverreachability",P(F,ze),Ra.STAT_EVENT="statevent",P(fe,ze),Ra.Ua="timingevent",P(We,ze);var ln={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},on={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rn(){}function Yn(){}Rn.prototype.h=null;var Td,Ws={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ks(){ze.call(this,"d")}function zi(){ze.call(this,"c")}function fa(){}function Ko(r,e,n,s){this.l=r,this.j=e,this.m=n,this.W=s||1,this.U=new Wo(this),this.P=hc,this.V=new zu(r=aa?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}P(Ks,ze),P(zi,ze),P(fa,Rn),fa.prototype.g=function(){return new XMLHttpRequest},fa.prototype.i=function(){return{}},Td=new fa;var hc=45e3,eg={},fc={};function qu(r,e,n){r.L=1,r.v=Vn(le(e)),r.s=n,r.S=!0,Eu(r,null)}function Eu(r,e){r.G=Date.now(),No(r),r.A=le(r.v);var n=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),wm(n.i,"t",s),r.C=0,n=r.l.J,r.h=new gs,r.g=ry(r.l,n?e:null,!r.s),0<r.O&&(r.M=new Kl(ls(r.Pa,r,r.g),r.O)),qs(r.U,r.g,"readystatechange",r.nb),e=r.I?cc(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Y(),function Zl(r,e,n,s,u,p){r.info(function(){if(r.g)if(p)for(var y="",C=p.split("&"),k=0;k<C.length;k++){var $=C[k].split("=");if(1<$.length){var ee=$[0];$=$[1];var ce=ee.split("_");y=2<=ce.length&&"type"==ce[1]?y+(ee+"=")+$+"&":y+(ee+"=redacted&")}}else y=null;else y=p;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+y})}(r.j,r.u,r.A,r.m,r.W,r.s)}function rh(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ih(r,e,n){let u,s=!0;for(;!r.J&&r.C<n.length;){if(u=tg(r,n),u==fc){4==e&&(r.o=4,Te(14),s=!1),dc(r.j,r.m,null,"[Incomplete Response]");break}if(u==eg){r.o=4,Te(15),dc(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}dc(r.j,r.m,u,null),Ff(r,u)}rh(r)&&u!=fc&&u!=eg&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,Te(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lg(e),e.M=!0,Te(11))):(dc(r.j,r.m,n,"[Invalid Chunked Response]"),nl(r),Wh(r))}function tg(r,e){var n=r.C,s=e.indexOf("\n",n);return-1==s?fc:(n=Number(e.substring(n,s)),isNaN(n)?eg:(s+=1)+n>e.length?fc:(e=e.slice(s,s+n),r.C=s+n,e))}function No(r){r.Y=Date.now()+r.P,qh(r,r.P)}function qh(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=_t(ls(r.lb,r),e)}function Zo(r){r.B&&(Kn.clearTimeout(r.B),r.B=null)}function Wh(r){0==r.l.H||r.J||ef(r.l,r)}function nl(r){Zo(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,tl(r.V),Gu(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Ff(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||xv(n.i,r)))if(!r.K&&xv(n.i,r)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;uh(n),Ls(n)}lh(n),Te(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=_t(ls(n.ib,n),6e3));if(1>=jf(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _c(n,11)}else if((r.K||n.g==r)&&uh(n),!ct(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let $=u[e];if(n.V=$[0],$=$[1],2==n.H)if("c"==$[0]){n.K=$[1],n.pa=$[2];const ee=$[3];null!=ee&&(n.ra=ee,n.l.info("VER="+n.ra));const ce=$[4];null!=ce&&(n.Ga=ce,n.l.info("SVER="+n.Ga));const xe=$[5];null!=xe&&"number"==typeof xe&&0<xe&&(n.L=s=1.5*xe,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const it=r.g;if(it){const Ht=it.g?it.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var p=s.i;p.g||-1==Ht.indexOf("spdy")&&-1==Ht.indexOf("quic")&&-1==Ht.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Im(p,p.h),p.h=null))}if(s.F){const fn=it.g?it.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(s.Da=fn,Vt(s.I,s.F,fn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var y=r;if((s=n).wa=Sm(s,s.J?s.pa:null,s.Y),y.K){Rv(s.i,y);var C=y,k=s.L;k&&C.setTimeout(k),C.B&&(Zo(C),No(C)),s.g=y}else Ma(s);0<n.j.length&&og(n)}else"stop"!=$[0]&&"close"!=$[0]||_c(n,7);else 3==n.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?_c(n,7):ty(n):"noop"!=$[0]&&n.h&&n.h.Aa($),n.A=0)}Y()}catch{}}function E(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Za(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function S(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Za(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const s in r)e[n++]=s;return e}}}(r),s=function Em(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Za(r)){for(var e=[],n=r.length,s=0;s<n;s++)e.push(r[s]);return e}for(s in e=[],n=0,r)e[n++]=r[s];return e}(r),u=s.length,p=0;p<u;p++)e.call(void 0,s[p],n&&n[p],r)}(un=Ko.prototype).setTimeout=function(r){this.P=r},un.nb=function(r){r=r.target;const e=this.M;e&&3==mc(r)?e.l():this.Pa(r)},un.Pa=function(r){try{if(r==this.g)e:{const ee=mc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||aa||this.g&&(this.h.h||this.g.ja()||Yh(this.g)))){this.J||4!=ee||7==e||Y(),Zo(this);var n=this.g.da();this.ca=n;t:if(rh(this)){var s=Yh(this.g);r="";var u=s.length,p=4==mc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nl(this),Wh(this);var y="";break t}this.h.i=new Kn.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:p&&e==u-1});s.splice(0,u),this.h.g+=r,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==n,function Oo(r,e,n,s,u,p,y){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+p+" "+y})}(this.j,this.u,this.A,this.m,this.W,ee,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var C,k=this.g;if((C=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(C)){var $=C;break t}}$=null}if(!(n=$)){this.i=!1,this.o=3,Te(12),nl(this),Wh(this);break e}dc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ff(this,n)}this.S?(ih(this,ee,y),aa&&this.i&&3==ee&&(qs(this.U,this.V,"tick",this.mb),this.V.start())):(dc(this.j,this.m,y,null),Ff(this,y)),4==ee&&nl(this),this.i&&!this.J&&(4==ee?ef(this.l,this):(this.i=!1,No(this)))}else(function ey(r){const e={};r=(r.g&&2<=mc(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(ct(r[s]))continue;var n=Gl(r[s]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const p=e[u]||[];e[u]=p,p.push(n)}!function Hh(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<y.indexOf("Unknown SID")?(this.o=3,Te(12)):(this.o=0,Te(13)),nl(this),Wh(this)}}}catch{}},un.mb=function(){if(this.g){var r=mc(this.g),e=this.g.ja();this.C<e.length&&(Zo(this),ih(this,r,e),this.i&&4!=r&&No(this))}},un.cancel=function(){this.J=!0,nl(this)},un.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Li(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Y(),Te(17)),nl(this),this.o=2,Wh(this)):qh(this,this.Y-r)};var T=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof J){this.h=r.h,$e(this,r.j),this.s=r.s,this.g=r.g,pt(this,r.m),this.l=r.l;var e=r.i,n=new pa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Xt(this,n),this.o=r.o}else r&&(e=String(r).match(T))?(this.h=!1,$e(this,e[1]||"",!0),this.s=Or(e[2]||""),this.g=Or(e[3]||"",!0),pt(this,e[4]),this.l=Or(e[5]||"",!0),Xt(this,e[6]||"",!0),this.o=Or(e[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}function le(r){return new J(r)}function $e(r,e,n){r.j=n?Or(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function pt(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Xt(r,e,n){e instanceof pa?(r.i=e,function ng(r,e){e&&!r.j&&(pc(r),r.i=null,r.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(Zc(this,s),wm(this,u,n))},r)),r.j=e}(r.i,r.h)):(n||(e=lo(e,wu)),r.i=new pa(e,r.h))}function Vt(r,e,n){r.i.set(e,n)}function Vn(r){return Vt(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Or(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function lo(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,yo),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function yo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}J.prototype.toString=function(){var r=[],e=this.j;e&&r.push(lo(e,sh,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(lo(e,sh,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(lo(n,"/"==n.charAt(0)?Vf:Pa,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",lo(n,bd)),r.join("")};var sh=/[#\/\?@]/g,Pa=/[#\?:]/g,Vf=/[#\?]/g,wu=/[#\?@]/g,bd=/#/g;function pa(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function pc(r){r.g||(r.g=new Map,r.h=0,r.i&&function M(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),u=null;if(0<=s){var p=r[n].substring(0,s);u=r[n].substring(s+1)}else p=r[n];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zc(r,e){pc(r),e=Tr(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Uf(r,e){return pc(r),e=Tr(r,e),r.g.has(e)}function wm(r,e,n){Zc(r,e),0<n.length&&(r.i=null,r.g.set(Tr(r,e),re(n)),r.h+=n.length)}function Tr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Bf(r){this.l=r||J_,r=Kn.PerformanceNavigationTiming?0<(r=Kn.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Kn.g&&Kn.g.Ka&&Kn.g.Ka()&&Kn.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(un=pa.prototype).add=function(r,e){pc(this),this.i=null,r=Tr(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},un.forEach=function(r,e){pc(this),this.g.forEach(function(n,s){n.forEach(function(u){r.call(e,u,s,this)},this)},this)},un.ta=function(){pc(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const u=r[s];for(let p=0;p<u.length;p++)n.push(e[s])}return n},un.Z=function(r){pc(this);let e=[];if("string"==typeof r)Uf(this,r)&&(e=e.concat(this.g.get(Tr(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},un.set=function(r,e){return pc(this),this.i=null,Uf(this,r=Tr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},un.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},un.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const p=encodeURIComponent(String(s)),y=this.Z(s);for(s=0;s<y.length;s++){var u=p;""!==y[s]&&(u+="="+encodeURIComponent(String(y[s]))),r.push(u)}}return this.i=r.join("&")};var J_=10;function X_(r){return!!r.h||!!r.g&&r.g.size>=r.j}function jf(r){return r.h?1:r.g?r.g.size:0}function xv(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Im(r,e){r.g?r.g.add(e):r.h=e}function Rv(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Kh(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return re(r.i)}Bf.prototype.cancel=function(){if(this.i=Kh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Zh=class{stringify(r){return Kn.JSON.stringify(r,void 0)}parse(r){return Kn.JSON.parse(r,void 0)}};function Tm(){this.g=new Zh}function Hf(r,e,n){const s=n||"";try{E(r,function(u,p){let y=u;rt(u)&&(y=Go(u)),e.push(s+p+"="+encodeURIComponent(y))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function gc(r,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function ig(r){this.l=r.ec||null,this.j=r.ob||!1}function bm(r,e){Ts.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=$f,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P(ig,Rn),ig.prototype.g=function(){return new bm(this.l,this.j)},ig.prototype.i=function(r){return function(){return r}}({}),P(bm,Ts);var $f=0;function pw(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Cm(r){r.readyState=4,r.l=null,r.j=null,r.A=null,us(r)}function us(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(un=bm.prototype).open=function(r,e){if(this.readyState!=$f)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,us(this)},un.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Kn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},un.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cm(this)),this.readyState=$f},un.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Kn.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pw(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},un.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Cm(this):us(this),3==this.readyState&&pw(this)}},un.Za=function(r){this.g&&(this.response=this.responseText=r,Cm(this))},un.Ya=function(r){this.g&&(this.response=r,Cm(this))},un.ka=function(){this.g&&Cm(this)},un.setRequestHeader=function(r,e){this.v.append(r,e)},un.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},un.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Qh=Kn.JSON.parse;function cs(r){Ts.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dm,this.L=this.M=!1}P(cs,Ts);var Dm="",Pv=/^https?$/i,zf=["POST","PUT"];function Am(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,oh(r),ah(r)}function oh(r){r.F||(r.F=!0,bs(r,"complete"),bs(r,"error"))}function Iu(r){if(r.h&&typeof Ro<"u"&&(!r.C[1]||4!=mc(r)||2!=r.da()))if(r.v&&4==mc(r))Wc(r.La,0,r);else if(bs(r,"readystatechange"),4==mc(r)){r.h=!1;try{const y=r.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===y){var u=String(r.I).match(T)[1]||null;!u&&Kn.self&&Kn.self.location&&(u=Kn.self.location.protocol.slice(0,-1)),s=!Pv.test(u?u.toLowerCase():"")}n=s}if(n)bs(r,"complete"),bs(r,"success");else{r.m=6;try{var p=2<mc(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.da()+"]",oh(r)}}finally{ah(r)}}}function ah(r,e){if(r.g){qf(r);const n=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||bs(r,"ready");try{n.onreadystatechange=s}catch{}}}function qf(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Kn.clearTimeout(r.A),r.A=null)}function mc(r){return r.g?r.g.readyState:0}function Yh(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Dm:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function sg(r){let e="";return $c(r,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Jh(r,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=sg(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Vt(r,e,n))}function Xh(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Mv(r){this.Ga=0,this.j=[],this.l=new Kc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xh("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xh("baseRetryDelayMs",5e3,r),this.hb=Xh("retryDelaySeedMs",1e4,r),this.eb=Xh("forwardChannelMaxRetries",2,r),this.xa=Xh("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Bf(r&&r.concurrentRequestLimit),this.Ja=new Tm,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ty(r){if(Ei(r),3==r.H){var e=r.W++,n=le(r.I);if(Vt(n,"SID",r.K),Vt(n,"RID",e),Vt(n,"TYPE","terminate"),Cd(r,n),(e=new Ko(r,r.l,e)).L=2,e.v=Vn(le(n)),n=!1,Kn.navigator&&Kn.navigator.sendBeacon)try{n=Kn.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Kn.Image&&((new Image).src=e.v,n=!0),n||(e.g=ry(e.l,null),e.g.ha(e.v)),e.G=Date.now(),No(e)}ny(r)}function Ls(r){r.g&&(lg(r),r.g.cancel(),r.g=null)}function Ei(r){Ls(r),r.u&&(Kn.clearTimeout(r.u),r.u=null),uh(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Kn.clearTimeout(r.m),r.m=null)}function og(r){if(!X_(r.i)&&!r.m){r.m=!0;var e=r.Na;ql||Wl(),Sa||(ql(),Sa=!0),vu.add(e,r),r.C=0}}function Wf(r,e){var n;n=e?e.m:r.W++;const s=le(r.I);Vt(s,"SID",r.K),Vt(s,"RID",n),Vt(s,"AID",r.V),Cd(r,s),r.o&&r.s&&Jh(s,r.o,r.s),n=new Ko(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ag(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Im(r.i,n),qu(n,s,e)}function Cd(r,e){r.na&&$c(r.na,function(n,s){Vt(e,s,n)}),r.h&&E({},function(n,s){Vt(e,s,n)})}function ag(r,e,n){n=Math.min(r.j.length,n);var s=r.h?ls(r.h.Va,r.h,r):null;e:{var u=r.j;let p=-1;for(;;){const y=["count="+n];-1==p?0<n?(p=u[0].g,y.push("ofs="+p)):p=0:y.push("ofs="+p);let C=!0;for(let k=0;k<n;k++){let $=u[k].g;const ee=u[k].map;if($-=p,0>$)p=Math.max(0,u[k].g-100),C=!1;else try{Hf(ee,y,"req"+$+"_")}catch{s&&s(ee)}}if(C){s=y.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,s}function Ma(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ql||Wl(),Sa||(ql(),Sa=!0),vu.add(e,r),r.A=0}}function lh(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=_t(ls(r.Ma,r),Kf(r,r.A)),r.A++,0))}function lg(r){null!=r.B&&(Kn.clearTimeout(r.B),r.B=null)}function ug(r){r.g=new Ko(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=le(r.wa);Vt(e,"RID","rpc"),Vt(e,"SID",r.K),Vt(e,"AID",r.V),Vt(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Vt(e,"TO",r.qa),Vt(e,"TYPE","xmlhttp"),Cd(r,e),r.o&&r.s&&Jh(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=Vn(le(e)),n.s=null,n.S=!0,Eu(n,r)}function uh(r){null!=r.v&&(Kn.clearTimeout(r.v),r.v=null)}function ef(r,e){var n=null;if(r.g==e){uh(r),lg(r),r.g=null;var s=2}else{if(!xv(r.i,e))return;n=e.F,Rv(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=r.C;bs(s=R(),new We(s,n)),og(r)}else Ma(r);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function Cl(r,e){return!(jf(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=_t(ls(r.Na,r,e),Kf(r,r.C)),r.C++,0)))}(r,e)||2==s&&lh(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),u){case 1:_c(r,5);break;case 4:_c(r,10);break;case 3:_c(r,6);break;default:_c(r,2)}}function Kf(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function _c(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var s=ls(r.pb,r);n||(n=new J("//www.google.com/images/cleardot.gif"),Kn.location&&"http"==Kn.location.protocol||$e(n,"https"),Vn(n)),function fw(r,e){const n=new Kc;if(Kn.Image){const s=new Image;s.onload=D(gc,n,s,"TestLoadImage: loaded",!0,e),s.onerror=D(gc,n,s,"TestLoadImage: error",!1,e),s.onabort=D(gc,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=D(gc,n,s,"TestLoadImage: timeout",!1,e),Kn.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(n.toString(),s)}else Te(2);r.H=0,r.h&&r.h.za(e),ny(r),Ei(r)}function ny(r){if(r.H=0,r.ma=[],r.h){const e=Kh(r.i);(0!=e.length||0!=r.j.length)&&(pe(r.ma,e),pe(r.ma,r.j),r.i.i.length=0,re(r.j),r.j.length=0),r.h.ya()}}function Sm(r,e,n){var s=n instanceof J?le(n):new J(n);if(""!=s.g)e&&(s.g=e+"."+s.g),pt(s,s.m);else{var u=Kn.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new J(null);s&&$e(p,s),e&&(p.g=e),u&&pt(p,u),n&&(p.l=n),s=p}return e=r.Da,(n=r.F)&&e&&Vt(s,n,e),Vt(s,"VER",r.ra),Cd(r,s),s}function ry(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cs(n&&r.Ha&&!r.va?new ig({ob:!0}):r.va)).Oa(r.J),e}function Ov(){}function tf(){if(Mo&&!(10<=Number(uc)))throw Error("Environmental error: no available transport.")}function rl(r,e){Ts.call(this),this.g=new Mv(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!ct(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ct(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Qf(this)}function Nv(r){Ks.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Zf(){zi.call(this),this.status=1}function Qf(r){this.g=r}function Yl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Dd(r,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)s[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var p=r.g[3],y=(e=r.g[0])+(p^(n=r.g[1])&((u=r.g[2])^p))+s[0]+3614090360&4294967295;y=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=(n=(u=(p=(e=n+(y<<7&4294967295|y>>>25))+((y=p+(u^e&(n^u))+s[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=u+(n^p&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=n+(e^u&(p^e))+s[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^n&(u^p))+s[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(n^u))+s[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=u+(n^p&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=n+(e^u&(p^e))+s[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^n&(u^p))+s[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(n^u))+s[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=u+(n^p&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=n+(e^u&(p^e))+s[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^n&(u^p))+s[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(n^u))+s[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=u+(n^p&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=n+(e^u&(p^e))+s[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(u^p&(n^u))+s[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=p+(n^u&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^n&(p^e))+s[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=n+(p^e&(u^p))+s[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(n^u))+s[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=p+(n^u&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^n&(p^e))+s[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=n+(p^e&(u^p))+s[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(n^u))+s[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=p+(n^u&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^n&(p^e))+s[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=n+(p^e&(u^p))+s[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(n^u))+s[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=p+(n^u&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^n&(p^e))+s[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=n+(p^e&(u^p))+s[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(n^u^p)+s[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^n^u)+s[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=n+(u^p^e)+s[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(n^u^p)+s[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^n^u)+s[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=n+(u^p^e)+s[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(n^u^p)+s[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^n^u)+s[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=n+(u^p^e)+s[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(n^u^p)+s[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^n^u)+s[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^n)+s[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=n+(u^p^e)+s[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(u^(n|~p))+s[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=p+(n^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~n))+s[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=n+(p^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(n|~p))+s[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=p+(n^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~n))+s[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=n+(p^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(n|~p))+s[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=p+(n^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~n))+s[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=n+(p^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((p=(e=n+((y=e+(u^(n|~p))+s[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=p+(n^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((u=p+((y=u+(e^(p|~n))+s[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(u+(y<<21&4294967295|y>>>11))&4294967295,r.g[2]=r.g[2]+u&4294967295,r.g[3]=r.g[3]+p&4294967295}function Bi(r,e){this.h=e;for(var n=[],s=!0,u=r.length-1;0<=u;u--){var p=0|r[u];s&&p==e||(n[u]=p,s=!1)}this.g=n}(un=cs.prototype).Oa=function(r){this.M=r},un.ha=function(r,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Td.g(),this.C=function fr(r){return r.h||(r.h=r.i())}(this.u?this.u:Td),this.g.onreadystatechange=ls(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(p){return void Am(this,p)}if(r=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)n.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const p of s.keys())n.set(p,s.get(p))}s=Array.from(n.keys()).find(p=>"content-type"==p.toLowerCase()),u=Kn.FormData&&r instanceof Kn.FormData,!(0<=z(zf,e))||s||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,y]of n)this.g.setRequestHeader(p,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qf(this),0<this.B&&((this.L=function Gf(r){return Mo&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ls(this.ua,this)):this.A=Wc(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){Am(this,p)}},un.ua=function(){typeof Ro<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))},un.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,bs(this,"complete"),bs(this,"abort"),ah(this))},un.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ah(this,!0)),cs.$.N.call(this)},un.La=function(){this.s||(this.G||this.v||this.l?Iu(this):this.kb())},un.kb=function(){Iu(this)},un.isActive=function(){return!!this.g},un.da=function(){try{return 2<mc(this)?this.g.status:-1}catch{return-1}},un.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},un.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Qh(e)}},un.Ia=function(){return this.m},un.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(un=Mv.prototype).ra=8,un.H=1,un.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const u=new Ko(this,this.l,r);let p=this.s;if(this.U&&(p?(p=cc(p),ua(p,this.U)):p=this.U),null!==this.o||this.O||(u.I=p,p=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ag(this,u,e),Vt(n=le(this.I),"RID",r),Vt(n,"CVER",22),this.F&&Vt(n,"X-HTTP-Session-Id",this.F),Cd(this,n),p&&(this.O?e="headers="+encodeURIComponent(String(sg(p)))+"&"+e:this.o&&Jh(n,this.o,p)),Im(this.i,u),this.bb&&Vt(n,"TYPE","init"),this.P?(Vt(n,"$req",e),Vt(n,"SID","null"),u.aa=!0,qu(u,n,null)):qu(u,n,e),this.H=2}}else 3==this.H&&(r?Wf(this,r):0==this.j.length||X_(this.i)||Wf(this))},un.Ma=function(){if(this.u=null,ug(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=_t(ls(this.jb,this),r)}},un.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Te(10),Ls(this),ug(this))},un.ib=function(){null!=this.v&&(this.v=null,Ls(this),lh(this),Te(19))},un.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Te(2)):(this.l.info("Failed to ping google.com"),Te(1))},un.isActive=function(){return!!this.h&&this.h.isActive(this)},(un=Ov.prototype).Ba=function(){},un.Aa=function(){},un.za=function(){},un.ya=function(){},un.isActive=function(){return!0},un.Va=function(){},tf.prototype.g=function(r,e){return new rl(r,e)},P(rl,Ts),rl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;Te(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=Sm(r,null,r.Y),og(r)},rl.prototype.close=function(){ty(this.g)},rl.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=Go(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&og(e)},rl.prototype.N=function(){this.g.h=null,delete this.j,ty(this.g),delete this.g,rl.$.N.call(this)},P(Nv,Ks),P(Zf,zi),P(Qf,Ov),Qf.prototype.Ba=function(){bs(this.g,"a")},Qf.prototype.Aa=function(r){bs(this.g,new Nv(r))},Qf.prototype.za=function(r){bs(this.g,new Zf)},Qf.prototype.ya=function(){bs(this.g,"b")},P(Yl,function gw(){this.blockSize=-1}),Yl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yl.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,s=this.m,u=this.h,p=0;p<e;){if(0==u)for(;p<=n;)Dd(this,r,p),p+=this.blockSize;if("string"==typeof r){for(;p<e;)if(s[u++]=r.charCodeAt(p++),u==this.blockSize){Dd(this,s),u=0;break}}else for(;p<e;)if(s[u++]=r[p++],u==this.blockSize){Dd(this,s),u=0;break}}this.h=u,this.i+=e},Yl.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)r[n++]=this.g[e]>>>s&255;return r};var Yf={};function Cs(r){return-128<=r&&128>r?function ti(r,e){var n=Yf;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Bi([0|e],0>e?-1:0)}):new Bi([0|r],0>r?-1:0)}function Tu(r){if(isNaN(r)||!isFinite(r))return Dl;if(0>r)return ga(Tu(-r));for(var e=[],n=1,s=0;r>=n;s++)e[s]=r/n|0,n*=Qc;return new Bi(e,0)}var Qc=4294967296,Dl=Cs(0),dg=Cs(1),iy=Cs(16777216);function bu(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Cu(r){return-1==r.h}function ga(r){for(var e=r.g.length,n=[],s=0;s<e;s++)n[s]=~r.g[s];return new Bi(n,~r.h).add(dg)}function Jf(r,e){return r.add(ga(e))}function nf(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function rf(r,e){this.g=r,this.h=e}function Yc(r,e){if(bu(e))throw Error("division by zero");if(bu(r))return new rf(Dl,Dl);if(Cu(r))return e=Yc(ga(r),e),new rf(ga(e.g),ga(e.h));if(Cu(e))return e=Yc(r,ga(e)),new rf(ga(e.g),e.h);if(30<r.g.length){if(Cu(r)||Cu(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dg,s=e;0>=s.X(r);)n=xm(n),s=xm(s);var u=Xf(n,1),p=Xf(s,1);for(s=Xf(s,2),n=Xf(n,2);!bu(s);){var y=p.add(s);0>=y.X(r)&&(u=u.add(n),p=y),s=Xf(s,1),n=Xf(n,1)}return e=Jf(r,u.R(e)),new rf(u,e)}for(u=Dl;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),y=(p=Tu(n)).R(e);Cu(y)||0<y.X(r);)y=(p=Tu(n-=s)).R(e);bu(p)&&(p=dg),u=u.add(p),r=Jf(r,y)}return new rf(u,r)}function xm(r){for(var e=r.g.length+1,n=[],s=0;s<e;s++)n[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Bi(n,r.h)}function Xf(r,e){var n=e>>5;e%=32;for(var s=r.g.length-n,u=[],p=0;p<s;p++)u[p]=0<e?r.D(p+n)>>>e|r.D(p+n+1)<<32-e:r.D(p+n);return new Bi(u,r.h)}(un=Bi.prototype).ea=function(){if(Cu(this))return-ga(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);r+=(0<=s?s:Qc+s)*e,e*=Qc}return r},un.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(bu(this))return"0";if(Cu(this))return"-"+ga(this).toString(r);for(var e=Tu(Math.pow(r,6)),n=this,s="";;){var u=Yc(n,e).g,p=((0<(n=Jf(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(bu(n=u))return p+s;for(;6>p.length;)p="0"+p;s=p+s}},un.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},un.X=function(r){return Cu(r=Jf(this,r))?-1:bu(r)?0:1},un.abs=function(){return Cu(this)?ga(this):this},un.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0,u=0;u<=e;u++){var p=s+(65535&this.D(u))+(65535&r.D(u)),y=(p>>>16)+(this.D(u)>>>16)+(r.D(u)>>>16);s=y>>>16,n[u]=(y&=65535)<<16|(p&=65535)}return new Bi(n,-2147483648&n[n.length-1]?-1:0)},un.R=function(r){if(bu(this)||bu(r))return Dl;if(Cu(this))return Cu(r)?ga(this).R(ga(r)):ga(ga(this).R(r));if(Cu(r))return ga(this.R(ga(r)));if(0>this.X(iy)&&0>r.X(iy))return Tu(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<r.g.length;u++){var p=this.D(s)>>>16,y=65535&this.D(s),C=r.D(u)>>>16,k=65535&r.D(u);n[2*s+2*u]+=y*k,nf(n,2*s+2*u),n[2*s+2*u+1]+=p*k,nf(n,2*s+2*u+1),n[2*s+2*u+1]+=y*C,nf(n,2*s+2*u+1),n[2*s+2*u+2]+=p*C,nf(n,2*s+2*u+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Bi(n,0)},un.gb=function(r){return Yc(this,r).h},un.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&r.D(s);return new Bi(n,this.h&r.h)},un.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|r.D(s);return new Bi(n,this.h|r.h)},un.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^r.D(s);return new Bi(n,this.h^r.h)},tf.prototype.createWebChannel=tf.prototype.g,rl.prototype.send=rl.prototype.u,rl.prototype.open=rl.prototype.m,rl.prototype.close=rl.prototype.close,ln.NO_ERROR=0,ln.TIMEOUT=8,ln.HTTP_ERROR=6,on.COMPLETE="complete",Yn.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",Ts.prototype.listen=Ts.prototype.O,cs.prototype.listenOnce=cs.prototype.P,cs.prototype.getLastError=cs.prototype.Sa,cs.prototype.getLastErrorCode=cs.prototype.Ia,cs.prototype.getStatus=cs.prototype.da,cs.prototype.getResponseJson=cs.prototype.Wa,cs.prototype.getResponseText=cs.prototype.ja,cs.prototype.send=cs.prototype.ha,cs.prototype.setWithCredentials=cs.prototype.Oa,Yl.prototype.digest=Yl.prototype.l,Yl.prototype.reset=Yl.prototype.reset,Yl.prototype.update=Yl.prototype.j,Bi.prototype.add=Bi.prototype.add,Bi.prototype.multiply=Bi.prototype.R,Bi.prototype.modulo=Bi.prototype.gb,Bi.prototype.compare=Bi.prototype.X,Bi.prototype.toNumber=Bi.prototype.ea,Bi.prototype.toString=Bi.prototype.toString,Bi.prototype.getBits=Bi.prototype.D,Bi.fromNumber=Tu,Bi.fromString=function cg(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ga(cg(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tu(Math.pow(e,8)),s=Dl,u=0;u<r.length;u+=8){var p=Math.min(8,r.length-u),y=parseInt(r.substring(u,u+p),e);8>p?(p=Tu(Math.pow(e,p)),s=s.R(p).add(Tu(y))):s=(s=s.R(n)).add(Tu(y))}return s},xo.createWebChannelTransport=function(){return new tf},xo.getStatEventTarget=function(){return R()},xo.ErrorCode=ln,xo.EventType=on,xo.Event=Ra,xo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xo.FetchXmlHttpFactory=ig,xo.WebChannel=Yn,xo.XhrIo=cs,xo.Md5=Yl;var ly=xo.Integer=Bi;const uy="@firebase/firestore";class vo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vo.UNAUTHENTICATED=new vo(null),vo.GOOGLE_CREDENTIALS=new vo("google-credentials-uid"),vo.FIRST_PARTY=new vo("first-party-uid"),vo.MOCK_USER=new vo("mock-user");let Jl="10.4.0";const Wu=new wl.Yd("@firebase/firestore");function Ut(r,...e){if(Wu.logLevel<=wl.in.DEBUG){const n=e.map(yc);Wu.debug(`Firestore (${Jl}): ${r}`,...n)}}function Gi(r,...e){if(Wu.logLevel<=wl.in.ERROR){const n=e.map(yc);Wu.error(`Firestore (${Jl}): ${r}`,...n)}}function yc(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function In(r="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+r;throw Gi(e),new Error(e)}function zn(r,e){r||In()}const mt_CANCELLED="cancelled",mt_INVALID_ARGUMENT="invalid-argument",mt_FAILED_PRECONDITION="failed-precondition",mt_UNAVAILABLE="unavailable";class Bt extends Hc.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Rm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vo.UNAUTHENTICATED))}shutdown(){}}class Xc{constructor(e){this.t=e,this.currentUser=vo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let u=this.i;const p=$=>this.i!==u?(u=this.i,n($)):Promise.resolve();let y=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new ko,e.enqueueRetryable(()=>p(this.currentUser))};const C=()=>{const $=y;e.enqueueRetryable((0,El.Z)(function*(){yield $.promise,yield p(s.currentUser)}))},k=$=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit($=>k($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?k($):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new ko)}},0),C()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(zn("string"==typeof s.accessToken),new Rm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zn(null===e||"string"==typeof e),new vo(e)}}class lf{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=vo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _w{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new lf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=p=>{null!=p.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const y=p.token!==this.R;return this.R=p.token,Ut("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?n(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const u=p=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zn("string"==typeof n.token),this.R=n.token,new Fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class vc{static V(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=vw(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function sr(r,e){return r<e?-1:r>e?1:0}class fg{constructor(e,n,s){void 0===n?n=0:n>e.length&&In(),void 0===s?s=e.length-n:s>e.length-n&&In(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===fg.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fg?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const p=e.get(u),y=n.get(u);if(p<y)return-1;if(p>y)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gi extends fg{construct(e,n,s){return new gi(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Bt(mt_INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(u=>u.length>0))}return new gi(n)}static emptyPath(){return new gi([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(gi.fromString(e))}static fromName(e){return new mn(gi.fromString(e).popFirst(5))}static empty(){return new mn(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return gi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new gi(e.slice()))}}function hh(r){return"IndexedDbTransactionError"===r.name}class qi{constructor(e,n){this.comparator=e,this.root=n||ma.EMPTY}insert(e,n){return new qi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ma.BLACK,null,null))}remove(e){return new qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ma.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=n?s(e.key,n):1,n&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ma{constructor(e,n,s,u,p){this.key=e,this.value=n,this.color=s??ma.RED,this.left=u??ma.EMPTY,this.right=p??ma.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,p){return new ma(e??this.key,n??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const p=s(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===p?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ma.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ma.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ma.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ma.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const e=this.left.check();if(e!==this.right.check())throw In();return e+(this.isRed()?0:1)}}ma.EMPTY=null,ma.RED=!0,ma.BLACK=!1,ma.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(e,n,s,u,p){return this}insert(e,n,s){return new ma(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oi{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oi(this.comparator);return n.data=e,n}}class yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Js{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new vy("Invalid base64 string: "+p):p}}(e);return new Js(n)}static fromUint8Array(e){const n=function(u){let p="";for(let y=0;y<u.length;++y)p+=String.fromCharCode(u[y]);return p}(e);return new Js(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function ts(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}Js.EMPTY_BYTE_STRING=new Js("");class $v{constructor(e,n,s,u,p,y,C,k,$){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=y,this.autoDetectLongPolling=C,this.longPollingOptions=k,this.useFetchStreams=$}}class ff{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}var Ms,Ni;new qi(mn.comparator),new qi(mn.comparator),new qi(mn.comparator),new Oi(mn.comparator),new Oi(sr),(Ni=Ms||(Ms={}))[Ni.OK=0]="OK",Ni[Ni.CANCELLED=1]="CANCELLED",Ni[Ni.UNKNOWN=2]="UNKNOWN",Ni[Ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ni[Ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ni[Ni.NOT_FOUND=5]="NOT_FOUND",Ni[Ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ni[Ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ni[Ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ni[Ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ni[Ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ni[Ni.ABORTED=10]="ABORTED",Ni[Ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ni[Ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ni[Ni.INTERNAL=13]="INTERNAL",Ni[Ni.UNAVAILABLE=14]="UNAVAILABLE",Ni[Ni.DATA_LOSS=15]="DATA_LOSS",new ly([4294967295,4294967295],0);class kc{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(ts(e.integerValue));else if("doubleValue"in e){const s=ts(e.doubleValue);isNaN(s)?this.At(n,13):(this.At(n,15),function mg(r){return 0===r&&1/r==-1/0}(s)?n.Rt(0):n.Rt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.At(n,20),"string"==typeof s?n.Vt(s):(n.Vt(`${s.seconds||""}`),n.Rt(s.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(function Tc(r){return"string"==typeof r?Js.fromBase64String(r):Js.fromUint8Array(r)}(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.At(n,45),n.Rt(s.latitude||0),n.Rt(s.longitude||0)}else"mapValue"in e?function Um(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):In()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const s=e.fields||{};this.At(n,55);for(const u of Object.keys(s))this.ft(u,n),this.Tt(s[u],n)}bt(e,n){const s=e.values||[];this.At(n,50);for(const u of s)this.Tt(u,n)}wt(e,n){this.At(n,37),mn.fromName(e).path.forEach(s=>{this.At(n,60),this.Dt(s,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}kc.Ct=new kc,new Uint8Array(0);class ll{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ll(e,ll.DEFAULT_COLLECTION_PERCENTILE,ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xg(){return typeof document<"u"?document:null}ll.DEFAULT_COLLECTION_PERCENTILE=10,ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ll.DEFAULT=new ll(41943040,ll.DEFAULT_COLLECTION_PERCENTILE,ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ll.DISABLED=new ll(-1,0,0);class rv{constructor(e,n,s=1e3,u=1.5,p=6e4){this._i=e,this.timerId=n,this.xo=s,this.Oo=u,this.No=p,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),s=Math.max(0,Date.now()-this.ko),u=Math.max(0,n-s);u>0&&Ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,u,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class zw{constructor(e,n,s,u,p){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,p){const y=Date.now()+s,C=new zw(e,n,y,u,p);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(mt_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class h0{constructor(e,n,s,u){var p=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=vo.UNAUTHENTICATED,this.clientId=vc.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,El.Z)(function*(C){Ut("FirestoreClient","Received user=",C.uid),yield p.authCredentialListener(C),p.user=C});return function(C){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(Ut("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,El.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(mt_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,El.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const u=function sm(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),hh(r))return new Bt(mt_UNAVAILABLE,`${e}: ${r}`);throw r}(s,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function hv(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const _0=new Map;class xI{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(mt_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(mt_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function DI(r,e,n,s){if(!0===e&&!0===s)throw new Bt(mt_INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=hv(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Bt(mt_INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Bt(mt_INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Bt(mt_INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U_{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(mt_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(mt_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xI(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new hg;switch(s.type){case"firstParty":return new _w(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Bt(mt_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_0.get(n);s&&(Ut("ComponentProvider","Removing Datastore"),_0.delete(n),s.terminate())}(this),Promise.resolve()}}class ED{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new rv(this,"async_queue_retry"),this.ou=()=>{const n=Xg();n&&Ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=Xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=Xg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new ko;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,El.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(n){if(!hh(n))throw n;Ut("AsyncQueue","Operation failed with retryable error: "+n)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(s=>{throw this.nu=s,this.ru=!1,Gi("INTERNAL UNHANDLED ERROR: ",function(y){let C=y.message||"";return y.stack&&(C=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),C}(s)),s}).then(s=>(this.ru=!1,s))));return this.Za=n,n}enqueueAfterDelay(e,n,s){this._u(),this.su.indexOf(e)>-1&&(n=0);const u=zw.createAndSchedule(this,e,n,s,p=>this.cu(p));return this.tu.push(u),u}_u(){this.nu&&In()}verifyOperationInProgress(){}lu(){var e=this;return(0,El.Z)(function*(){let n;do{n=e.Za,yield n}while(n!==e.Za)})()}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class Vs extends U_{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new ED,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function PI(r){var e,n,s;const u=r._freezeSettings(),p=(k=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new $v(r._databaseId,k,r._persistenceKey,(ee=u).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,hv(ee.experimentalLongPollingOptions),ee.useFetchStreams));var k,ee;r._firestoreClient=new h0(r._authCredentials,r._appCheckCredentials,r._queue,p),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(e,n=!0){Jl=Pt.Jn,(0,Pt.Xd)(new Fr.wA("firestore",(s,{instanceIdentifier:u,options:p})=>{const y=s.getProvider("app").getImmediate(),C=new Vs(new Xc(s.getProvider("auth-internal")),new yw(s.getProvider("app-check-internal")),function($,ee){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new Bt(mt_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff($.options.projectId,ee)}(y,u),y);return p=Object.assign({useFetchStreams:n},p),C._setSettings(p),C},"PUBLIC").setMultipleInstances(!0)),(0,Pt.KN)(uy,"4.2.0",e),(0,Pt.KN)(uy,"4.2.0","esm2017")}();var k0=U(7188);let XI=(()=>{var r;class e{constructor(s,u,p){this.http=s,this.actRoute=u,this.firestore=p,this.prodRef=this.firestore}getProducts(){let s;return this.actRoute.queryParams.subscribe(u=>{s=u}),s.price_min&&s.sort&&s.category&&s.price_max?(console.log(s),this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).where("price","<=",+s.price_max).orderBy("price","desc"==s.sort?"desc":"asc").where("category","==",s.category)).valueChanges()):s.price_min&&s.sort&&s.category?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).orderBy("price","desc"==s.sort?"desc":"asc").where("category","==",s.category)).valueChanges():s.sort&&s.category&&s.price_max?this.firestore.collection("products",u=>u.where("price","<=",+s.price_max).orderBy("price","desc"==s.sort?"desc":"asc").where("category","==",s.category)).valueChanges():s.price_min&&s.sort&&s.price_max?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).where("price","<=",+s.price_max).orderBy("price","desc"==s.sort?"desc":"asc")).valueChanges():s.price_min&&s.price_max&&s.category?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).where("price","<=",+s.price_max).where("category","==",s.category)).valueChanges():s.price_min&&s.sort?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).orderBy("price","desc"==s.sort?"desc":"asc")).valueChanges():s.price_max&&s.sort?this.firestore.collection("products",u=>u.where("price",">=",+s.price_max).orderBy("price","desc"==s.sort?"desc":"asc")).valueChanges():s.price_min&&s.price_max?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).where("price","<=",+s.price_max)).valueChanges():s.category&&s.price_min?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min).where("category","==",s.category)).valueChanges():s.category&&s.price_max?this.firestore.collection("products",u=>u.where("price","<=",+s.price_max).where("category","==",s.category)).valueChanges():s.category&&s.sort?this.firestore.collection("products",u=>u.where("category","==",s.category).orderBy("price","desc"==s.sort?"desc":"asc")).valueChanges():s.price_min?this.firestore.collection("products",u=>u.where("price",">=",+s.price_min)).valueChanges():s.price_max?this.firestore.collection("products",u=>u.where("price","<=",+s.price_max)).valueChanges():s.category?this.firestore.collection("products",u=>u.where("category","==",s.category)).valueChanges():s.sort?this.firestore.collection("products",u=>u.orderBy("price","desc"==s.sort?"desc":"asc")).valueChanges():this.firestore.collectionGroup("products").valueChanges()}getCategories(){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").valueChanges()}}return(r=e).\u0275fac=function(s){return new(s||r)(m.LFG(ae.eN),m.LFG(X.gz),m.LFG(k0.ST))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function gm(r){return(gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function Ge(r,e,n){return(e=function Zb(r){var e=function L0(r,e){if("object"!==gm(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var s=n.call(r,e||"default");if("object"!==gm(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"===gm(e)?e:String(e)}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var Yb=U(671);function V0(r,e=ei.z,n){const s=function F0(r=0,e,n=ei.P){let s=-1;return null!=e&&((0,Yb.K)(e)?n=e:s=e),new He.y(u=>{let p=function eT(r){return r instanceof Date&&!isNaN(r)}(r)?+r-n.now():r;p<0&&(p=0);let y=0;return n.schedule(function(){u.closed||(u.next(y++),0<=s?this.schedule(void 0,s):u.complete())},p)})}(r,e);return function Qb(r,e){return(0,$i.e)((n,s)=>{const{leading:u=!0,trailing:p=!1}=e??{};let y=!1,C=null,k=null,$=!1;const ee=()=>{k?.unsubscribe(),k=null,p&&(it(),$&&s.complete())},ce=()=>{k=null,$&&s.complete()},xe=Ht=>k=(0,ge.Xf)(r(Ht)).subscribe((0,Ke.x)(s,ee,ce)),it=()=>{if(y){y=!1;const Ht=C;C=null,s.next(Ht),!$&&xe(Ht)}};n.subscribe((0,Ke.x)(s,Ht=>{y=!0,C=Ht,(!k||k.closed)&&(u?it():xe(Ht))},()=>{$=!0,(!(p&&y&&k)||k.closed)&&s.complete()}))})}(()=>s,n)}var Xu=typeof window<"u"?window:{screen:{},navigator:{}},mm=(Xu.matchMedia||function(){return{matches:!1}}).bind(Xu),U0=!1,B0=function(){};Xu.addEventListener&&Xu.addEventListener("p",B0,{get passive(){return U0=!0}}),Xu.removeEventListener&&Xu.removeEventListener("p",B0,!1);var j0=U0,aw="ontouchstart"in Xu,tT=(aw||"TouchEvent"in Xu&&mm("(any-pointer: coarse)"),Xu.navigator.userAgent||"");mm("(pointer: coarse)").matches&&/iPad|Macintosh/.test(tT)&&Math.min(Xu.screen.width||0,Xu.screen.height||0);function KD(r,e){}function ZD(r,e){1&r&&m.YNc(0,KD,0,0,"ng-template")}(mm("(pointer: coarse)").matches||!mm("(pointer: fine)").matches&&aw)&&/Windows.*Firefox/.test(tT),mm("(any-pointer: fine)").matches||mm("(any-hover: hover)");const QD=function(r,e,n){return{tooltip:r,placement:e,content:n}};function wv(r,e){if(1&r&&(m.ynx(0),m.YNc(1,ZD,1,0,null,1),m.BQk()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",m.kEZ(2,QD,n.tooltip,n.placement,n.content))}}function nC(r,e){if(1&r&&(m.ynx(0),m.TgZ(1,"div",2),m._uU(2),m.qZA(),m.BQk()),2&r){const n=m.oxw();m.xp6(1),m.uIk("title",n.tooltip)("data-tooltip-placement",n.placement),m.xp6(1),m.hij(" ",n.content," ")}}const $0=["tooltipTemplate"],rC=["leftOuterSelectionBar"],rT=["rightOuterSelectionBar"],iC=["fullBar"],sC=["selectionBar"],oC=["minHandle"],z0=["maxHandle"],iT=["floorLabel"],aC=["ceilLabel"],lw=["minHandleLabel"],G0=["maxHandleLabel"],YD=["combinedLabel"],sT=["ticksElement"];function lC(r,e){if(1&r&&m._UZ(0,"ngx-slider-tooltip-wrapper",32),2&r){const n=m.oxw().$implicit,s=m.oxw();m.Q6J("template",s.tooltipTemplate)("tooltip",n.valueTooltip)("placement",n.valueTooltipPlacement)("content",n.value)}}function oT(r,e){if(1&r&&m._UZ(0,"span",33),2&r){const n=m.oxw().$implicit;m.Q6J("innerText",n.legend)}}function Z_(r,e){if(1&r&&m._UZ(0,"span",34),2&r){const n=m.oxw().$implicit;m.Q6J("innerHTML",n.legend,m.oJD)}}const uC=function(r){return{"ngx-slider-selected":r}};function aT(r,e){if(1&r&&(m.TgZ(0,"span",27),m._UZ(1,"ngx-slider-tooltip-wrapper",28),m.YNc(2,lC,1,4,"ngx-slider-tooltip-wrapper",29),m.YNc(3,oT,1,1,"span",30),m.YNc(4,Z_,1,1,"span",31),m.qZA()),2&r){const n=e.$implicit,s=m.oxw();m.Q6J("ngClass",m.VKq(8,uC,n.selected))("ngStyle",n.style),m.xp6(1),m.Q6J("template",s.tooltipTemplate)("tooltip",n.tooltip)("placement",n.tooltipPlacement),m.xp6(1),m.Q6J("ngIf",null!=n.value),m.xp6(1),m.Q6J("ngIf",null!=n.legend&&!1===s.allowUnsafeHtmlInSlider),m.xp6(1),m.Q6J("ngIf",null!=n.legend&&(null==s.allowUnsafeHtmlInSlider||s.allowUnsafeHtmlInSlider))}}var md=function(r){return r[r.Low=0]="Low",r[r.High=1]="High",r[r.Floor=2]="Floor",r[r.Ceil=3]="Ceil",r[r.TickValue=4]="TickValue",r}(md||{});class q0{constructor(){Ge(this,"floor",0),Ge(this,"ceil",null),Ge(this,"step",1),Ge(this,"minRange",null),Ge(this,"maxRange",null),Ge(this,"pushRange",!1),Ge(this,"minLimit",null),Ge(this,"maxLimit",null),Ge(this,"translate",null),Ge(this,"combineLabels",null),Ge(this,"getLegend",null),Ge(this,"getStepLegend",null),Ge(this,"stepsArray",null),Ge(this,"bindIndexForStepsArray",!1),Ge(this,"draggableRange",!1),Ge(this,"draggableRangeOnly",!1),Ge(this,"showSelectionBar",!1),Ge(this,"showSelectionBarEnd",!1),Ge(this,"showSelectionBarFromValue",null),Ge(this,"showOuterSelectionBars",!1),Ge(this,"hidePointerLabels",!1),Ge(this,"hideLimitLabels",!1),Ge(this,"autoHideLimitLabels",!0),Ge(this,"readOnly",!1),Ge(this,"disabled",!1),Ge(this,"showTicks",!1),Ge(this,"showTicksValues",!1),Ge(this,"tickStep",null),Ge(this,"tickValueStep",null),Ge(this,"ticksArray",null),Ge(this,"ticksTooltip",null),Ge(this,"ticksValuesTooltip",null),Ge(this,"vertical",!1),Ge(this,"getSelectionBarColor",null),Ge(this,"getTickColor",null),Ge(this,"getPointerColor",null),Ge(this,"keyboardSupport",!0),Ge(this,"scale",1),Ge(this,"rotate",0),Ge(this,"enforceStep",!0),Ge(this,"enforceRange",!0),Ge(this,"enforceStepsArray",!0),Ge(this,"noSwitching",!1),Ge(this,"onlyBindHandles",!1),Ge(this,"rightToLeft",!1),Ge(this,"reversedControls",!1),Ge(this,"boundPointerLabels",!0),Ge(this,"logScale",!1),Ge(this,"customValueToPosition",null),Ge(this,"customPositionToValue",null),Ge(this,"precisionLimit",12),Ge(this,"selectionBarGradient",null),Ge(this,"ariaLabel","ngx-slider"),Ge(this,"ariaLabelledBy",null),Ge(this,"ariaLabelHigh","ngx-slider-max"),Ge(this,"ariaLabelledByHigh",null),Ge(this,"handleDimension",null),Ge(this,"barDimension",null),Ge(this,"animate",!0),Ge(this,"animateOnMove",!1)}}const lT=new m.OlP("AllowUnsafeHtmlInSlider");var $n=function(r){return r[r.Min=0]="Min",r[r.Max=1]="Max",r}($n||{});class cC{constructor(){Ge(this,"value",void 0),Ge(this,"highValue",void 0),Ge(this,"pointerType",void 0)}}class jt{static isNullOrUndefined(e){return null==e}static areArraysEqual(e,n){if(e.length!==n.length)return!1;for(let s=0;s<e.length;++s)if(e[s]!==n[s])return!1;return!0}static linearValueToPosition(e,n,s){return(e-n)/(s-n)}static logValueToPosition(e,n,s){return((e=Math.log(e))-(n=Math.log(n)))/((s=Math.log(s))-n)}static linearPositionToValue(e,n,s){return e*(s-n)+n}static logPositionToValue(e,n,s){return n=Math.log(n),s=Math.log(s),Math.exp(e*(s-n)+n)}static findStepIndex(e,n){const s=n.map(p=>Math.abs(e-p.value));let u=0;for(let p=0;p<n.length;p++)s[p]!==s[u]&&s[p]<s[u]&&(u=p);return u}}class Jp{static isTouchEvent(e){return void 0!==window.TouchEvent?e instanceof TouchEvent:void 0!==e.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Vo{static roundToPrecisionLimit(e,n){return+e.toPrecision(n)}static isModuloWithinPrecisionLimit(e,n,s){const u=Math.pow(10,-s);return Math.abs(e%n)<=u||Math.abs(Math.abs(e%n)-n)<=u}static clampToRange(e,n,s){return Math.min(Math.max(e,n),s)}}class W0{constructor(){Ge(this,"eventName",null),Ge(this,"events",null),Ge(this,"eventsSubscription",null),Ge(this,"teardownCallback",null)}}class uT{constructor(e){Ge(this,"renderer",void 0),this.renderer=e}attachPassiveEventListener(e,n,s,u){if(!0!==j0)return this.attachEventListener(e,n,s,u);const p=new W0;p.eventName=n,p.events=new xn.x;const y=C=>{p.events.next(C)};return e.addEventListener(n,y,{passive:!0,capture:!1}),p.teardownCallback=()=>{e.removeEventListener(n,y,{passive:!0,capture:!1})},p.eventsSubscription=p.events.pipe(jt.isNullOrUndefined(u)?(0,Bl.b)(()=>{}):V0(u,void 0,{leading:!0,trailing:!0})).subscribe(C=>{s(C)}),p}detachEventListener(e){jt.isNullOrUndefined(e.eventsSubscription)||(e.eventsSubscription.unsubscribe(),e.eventsSubscription=null),jt.isNullOrUndefined(e.events)||(e.events.complete(),e.events=null),jt.isNullOrUndefined(e.teardownCallback)||(e.teardownCallback(),e.teardownCallback=null)}attachEventListener(e,n,s,u){const p=new W0;return p.eventName=n,p.events=new xn.x,p.teardownCallback=this.renderer.listen(e,n,C=>{p.events.next(C)}),p.eventsSubscription=p.events.pipe(jt.isNullOrUndefined(u)?(0,Bl.b)(()=>{}):V0(u,void 0,{leading:!0,trailing:!0})).subscribe(C=>{s(C)}),p}}let Nf=(()=>{var r;class e{get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}constructor(s,u,p){Ge(this,"elemRef",void 0),Ge(this,"renderer",void 0),Ge(this,"changeDetectionRef",void 0),Ge(this,"_position",0),Ge(this,"_dimension",0),Ge(this,"_alwaysHide",!1),Ge(this,"_vertical",!1),Ge(this,"_scale",1),Ge(this,"_rotate",0),Ge(this,"opacity",1),Ge(this,"visibility","visible"),Ge(this,"left",""),Ge(this,"bottom",""),Ge(this,"height",""),Ge(this,"width",""),Ge(this,"transform",""),Ge(this,"eventListenerHelper",void 0),Ge(this,"eventListeners",[]),this.elemRef=s,this.renderer=u,this.changeDetectionRef=p,this.eventListenerHelper=new uT(this.renderer)}setAlwaysHide(s){this._alwaysHide=s,this.visibility=s?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(s){this._vertical=s,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(s){this._scale=s}setRotate(s){this._rotate=s,this.transform="rotate("+s+"deg)"}getRotate(){return this._rotate}setPosition(s){this._position!==s&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=s,this._vertical?this.bottom=Math.round(s)+"px":this.left=Math.round(s)+"px"}calculateDimension(){const s=this.getBoundingClientRect();this._dimension=this.vertical?(s.bottom-s.top)*this.scale:(s.right-s.left)*this.scale}setDimension(s){this._dimension!==s&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=s,this._vertical?this.height=Math.round(s)+"px":this.width=Math.round(s)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(s,u,p){const y=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,s,u,p);this.eventListeners.push(y)}onPassive(s,u,p){const y=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,s,u,p);this.eventListeners.push(y)}off(s){let u,p;jt.isNullOrUndefined(s)?(u=[],p=this.eventListeners):(u=this.eventListeners.filter(y=>y.eventName!==s),p=this.eventListeners.filter(y=>y.eventName===s));for(const y of p)this.eventListenerHelper.detachEventListener(y);this.eventListeners=u}isRefDestroyed(){return jt.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return r=e,Ge(e,"\u0275fac",function(s){return new(s||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO))}),Ge(e,"\u0275dir",m.lG2({type:r,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(s,u){2&s&&m.Udp("opacity",u.opacity)("visibility",u.visibility)("left",u.left)("bottom",u.bottom)("height",u.height)("width",u.width)("transform",u.transform)}})),e})(),uw=(()=>{var r;class e extends Nf{focus(){this.elemRef.nativeElement.focus()}constructor(s,u,p){super(s,u,p),Ge(this,"active",!1),Ge(this,"role",""),Ge(this,"tabindex",""),Ge(this,"ariaOrientation",""),Ge(this,"ariaLabel",""),Ge(this,"ariaLabelledBy",""),Ge(this,"ariaValueNow",""),Ge(this,"ariaValueText",""),Ge(this,"ariaValueMin",""),Ge(this,"ariaValueMax","")}}return r=e,Ge(e,"\u0275fac",function(s){return new(s||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO))}),Ge(e,"\u0275dir",m.lG2({type:r,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(s,u){2&s&&(m.uIk("role",u.role)("tabindex",u.tabindex)("aria-orientation",u.ariaOrientation)("aria-label",u.ariaLabel)("aria-labelledby",u.ariaLabelledBy)("aria-valuenow",u.ariaValueNow)("aria-valuetext",u.ariaValueText)("aria-valuemin",u.ariaValueMin)("aria-valuemax",u.ariaValueMax),m.ekj("ngx-slider-active",u.active))},features:[m.qOj]})),e})(),Q_=(()=>{var r;class e extends Nf{get value(){return this._value}constructor(s,u,p,y){super(s,u,p),Ge(this,"allowUnsafeHtmlInSlider",void 0),Ge(this,"_value",null),this.allowUnsafeHtmlInSlider=y}setValue(s){let u=!1;!this.alwaysHide&&(jt.isNullOrUndefined(this.value)||this.value.length!==s.length||this.value.length>0&&0===this.dimension)&&(u=!0),this._value=s,!1===this.allowUnsafeHtmlInSlider?this.elemRef.nativeElement.innerText=s:this.elemRef.nativeElement.innerHTML=s,u&&this.calculateDimension()}}return r=e,Ge(e,"\u0275fac",function(s){return new(s||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(lT,8))}),Ge(e,"\u0275dir",m.lG2({type:r,selectors:[["","ngxSliderLabel",""]],features:[m.qOj]})),e})(),dC=(()=>{var r;class e{constructor(){Ge(this,"template",void 0),Ge(this,"tooltip",void 0),Ge(this,"placement",void 0),Ge(this,"content",void 0)}}return r=e,Ge(e,"\u0275fac",function(s){return new(s||r)}),Ge(e,"\u0275cmp",m.Xpm({type:r,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(s,u){1&s&&(m.YNc(0,wv,2,6,"ng-container",0),m.YNc(1,nC,3,3,"ng-container",0)),2&s&&(m.Q6J("ngIf",u.template),m.xp6(1),m.Q6J("ngIf",!u.template))},dependencies:[Ie.O5,Ie.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})),e})();class cT{constructor(){Ge(this,"selected",!1),Ge(this,"style",{}),Ge(this,"tooltip",null),Ge(this,"tooltipPlacement",null),Ge(this,"value",null),Ge(this,"valueTooltip",null),Ge(this,"valueTooltipPlacement",null),Ge(this,"legend",null)}}class dT{constructor(){Ge(this,"active",!1),Ge(this,"value",0),Ge(this,"difference",0),Ge(this,"position",0),Ge(this,"lowLimit",0),Ge(this,"highLimit",0)}}class Iv{constructor(){Ge(this,"value",void 0),Ge(this,"highValue",void 0)}static compare(e,n){return!(jt.isNullOrUndefined(e)&&jt.isNullOrUndefined(n)||jt.isNullOrUndefined(e)!==jt.isNullOrUndefined(n))&&e.value===n.value&&e.highValue===n.highValue}}class K0 extends Iv{constructor(...e){super(...e),Ge(this,"forceChange",void 0)}static compare(e,n){return!(jt.isNullOrUndefined(e)&&jt.isNullOrUndefined(n)||jt.isNullOrUndefined(e)!==jt.isNullOrUndefined(n))&&e.value===n.value&&e.highValue===n.highValue&&e.forceChange===n.forceChange}}const pC={provide:wt,useExisting:(0,m.Gpc)(()=>hT),multi:!0};let hT=(()=>{var r;class e{set manualRefresh(s){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=s.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(s){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=s.subscribe(u=>{this.focusPointer(u)})}get range(){return!jt.isNullOrUndefined(this.value)&&!jt.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}constructor(s,u,p,y,C){Ge(this,"renderer",void 0),Ge(this,"elementRef",void 0),Ge(this,"changeDetectionRef",void 0),Ge(this,"zone",void 0),Ge(this,"allowUnsafeHtmlInSlider",void 0),Ge(this,"value",null),Ge(this,"valueChange",new m.vpe),Ge(this,"highValue",null),Ge(this,"highValueChange",new m.vpe),Ge(this,"options",new q0),Ge(this,"userChangeStart",new m.vpe),Ge(this,"userChange",new m.vpe),Ge(this,"userChangeEnd",new m.vpe),Ge(this,"manualRefreshSubscription",void 0),Ge(this,"triggerFocusSubscription",void 0),Ge(this,"initHasRun",!1),Ge(this,"inputModelChangeSubject",new xn.x),Ge(this,"inputModelChangeSubscription",null),Ge(this,"outputModelChangeSubject",new xn.x),Ge(this,"outputModelChangeSubscription",null),Ge(this,"viewLowValue",null),Ge(this,"viewHighValue",null),Ge(this,"viewOptions",new q0),Ge(this,"handleHalfDimension",0),Ge(this,"maxHandlePosition",0),Ge(this,"currentTrackingPointer",null),Ge(this,"currentFocusPointer",null),Ge(this,"firstKeyDown",!1),Ge(this,"touchId",null),Ge(this,"dragging",new dT),Ge(this,"leftOuterSelectionBarElement",void 0),Ge(this,"rightOuterSelectionBarElement",void 0),Ge(this,"fullBarElement",void 0),Ge(this,"selectionBarElement",void 0),Ge(this,"minHandleElement",void 0),Ge(this,"maxHandleElement",void 0),Ge(this,"floorLabelElement",void 0),Ge(this,"ceilLabelElement",void 0),Ge(this,"minHandleLabelElement",void 0),Ge(this,"maxHandleLabelElement",void 0),Ge(this,"combinedLabelElement",void 0),Ge(this,"ticksElement",void 0),Ge(this,"tooltipTemplate",void 0),Ge(this,"sliderElementVerticalClass",!1),Ge(this,"sliderElementAnimateClass",!1),Ge(this,"sliderElementWithLegendClass",!1),Ge(this,"sliderElementDisabledAttr",null),Ge(this,"sliderElementAriaLabel","ngx-slider"),Ge(this,"barStyle",{}),Ge(this,"minPointerStyle",{}),Ge(this,"maxPointerStyle",{}),Ge(this,"fullBarTransparentClass",!1),Ge(this,"selectionBarDraggableClass",!1),Ge(this,"ticksUnderValuesClass",!1),Ge(this,"intermediateTicks",!1),Ge(this,"ticks",[]),Ge(this,"eventListenerHelper",null),Ge(this,"onMoveEventListener",null),Ge(this,"onEndEventListener",null),Ge(this,"moving",!1),Ge(this,"resizeObserver",null),Ge(this,"onTouchedCallback",null),Ge(this,"onChangeCallback",null),this.renderer=s,this.elementRef=u,this.changeDetectionRef=p,this.zone=y,this.allowUnsafeHtmlInSlider=C,this.eventListenerHelper=new uT(this.renderer)}ngOnInit(){this.viewOptions=new q0,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(s){!jt.isNullOrUndefined(s.options)&&JSON.stringify(s.options.previousValue)!==JSON.stringify(s.options.currentValue)&&this.onChangeOptions(),(!jt.isNullOrUndefined(s.value)||!jt.isNullOrUndefined(s.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(s){s instanceof Array?(this.value=s[0],this.highValue=s[1]):this.value=s,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(s){this.onChangeCallback=s}registerOnTouched(s){this.onTouchedCallback=s}setDisabledState(s){this.viewOptions.disabled=s,this.updateDisabledState()}setAriaLabel(s){this.viewOptions.ariaLabel=s,this.updateAriaLabel()}onResize(s){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe((0,ac.x)(K0.compare),(0,ks.h)(s=>!s.forceChange&&!s.internalChange)).subscribe(s=>this.applyInputModelChange(s))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe((0,ac.x)(K0.compare)).subscribe(s=>this.publishOutputModelChange(s))}subscribeResizeObserver(){Jp.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Jp.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){jt.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){jt.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){jt.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){jt.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){jt.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){jt.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(s){return s===$n.Min?this.minHandleElement:s===$n.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===$n.Min?this.viewLowValue:this.currentTrackingPointer===$n.Max?this.viewHighValue:null}modelValueToViewValue(s){return jt.isNullOrUndefined(s)?NaN:jt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+s:jt.findStepIndex(+s,this.viewOptions.stepsArray)}viewValueToModelValue(s){return jt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?s:this.getStepValue(s)}getStepValue(s){const u=this.viewOptions.stepsArray[s];return jt.isNullOrUndefined(u)?NaN:u.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(s){const u=this.normaliseModelValues(s),p=!Iv.compare(s,u);p&&(this.value=u.value,this.highValue=u.highValue),this.viewLowValue=this.modelValueToViewValue(u.value),this.viewHighValue=this.range?this.modelValueToViewValue(u.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:u.value,highValue:u.highValue,forceChange:p,userEventInitiated:!1})}publishOutputModelChange(s){const u=()=>{this.valueChange.emit(s.value),this.range&&this.highValueChange.emit(s.highValue),jt.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[s.value,s.highValue]:s.value),jt.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[s.value,s.highValue]:s.value)};s.userEventInitiated?(u(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{u()})}normaliseModelValues(s){const u=new Iv;if(u.value=s.value,u.highValue=s.highValue,!jt.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const p=jt.findStepIndex(u.value,this.viewOptions.stepsArray);if(u.value=this.viewOptions.stepsArray[p].value,this.range){const y=jt.findStepIndex(u.highValue,this.viewOptions.stepsArray);u.highValue=this.viewOptions.stepsArray[y].value}}return u}if(this.viewOptions.enforceStep&&(u.value=this.roundStep(u.value),this.range&&(u.highValue=this.roundStep(u.highValue))),this.viewOptions.enforceRange&&(u.value=Vo.clampToRange(u.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(u.highValue=Vo.clampToRange(u.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&s.value>s.highValue))if(this.viewOptions.noSwitching)u.value=u.highValue;else{const p=s.value;u.value=s.highValue,u.highValue=p}return u}renormaliseModelValues(){const s={value:this.value,highValue:this.highValue},u=this.normaliseModelValues(s);Iv.compare(u,s)||(this.value=u.value,this.highValue=u.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const s=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const u=this.getOptionsInfluencingEventBindings(this.viewOptions),p=!jt.areArraysEqual(s,u);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(p)}applyOptions(){if(this.viewOptions=new q0,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!jt.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!jt.isNullOrUndefined(this.viewOptions.tickStep)||!jt.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),jt.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),jt.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(s,u)=>s+" - "+u),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,jt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=s=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(s):s))}applyFloorCeilOptions(){if(jt.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),jt.isNullOrUndefined(this.viewOptions.ceil)||jt.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,jt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=s=>String(s))}resetSlider(s=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),s&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions()}focusPointer(s){s!==$n.Min&&s!==$n.Max&&(s=$n.Min),s===$n.Min?this.minHandleElement.focus():this.range&&s===$n.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){jt.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const s=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(s||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(s||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(s||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const s of this.getAllSliderElements())jt.isNullOrUndefined(s)||s.setVertical(this.viewOptions.vertical)}updateScale(){for(const s of this.getAllSliderElements())s.setScale(this.viewOptions.scale)}updateRotate(){for(const s of this.getAllSliderElements())s.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",jt.isNullOrUndefined(this.viewOptions.ariaLabel)?jt.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",jt.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?jt.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,md.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,md.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){jt.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const s=this.minHandleElement.dimension;this.handleHalfDimension=s/2,jt.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-s,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const s=jt.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,u=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&s.reverse();const p=jt.isNullOrUndefined(this.viewOptions.tickValueStep)?jt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let y=!1;const C=s.map(k=>{let $=this.valueToPosition(k);this.viewOptions.vertical&&($=this.maxHandlePosition-$);const ee=u+"("+Math.round($)+"px)",ce=new cT;ce.selected=this.isTickSelected(k),ce.style={"-webkit-transform":ee,"-moz-transform":ee,"-o-transform":ee,"-ms-transform":ee,transform:ee},ce.selected&&!jt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(ce.style["background-color"]=this.getSelectionBarColor()),!ce.selected&&!jt.isNullOrUndefined(this.viewOptions.getTickColor)&&(ce.style["background-color"]=this.getTickColor(k)),jt.isNullOrUndefined(this.viewOptions.ticksTooltip)||(ce.tooltip=this.viewOptions.ticksTooltip(k),ce.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!jt.isNullOrUndefined(p)&&Vo.isModuloWithinPrecisionLimit(k,p,this.viewOptions.precisionLimit)&&(ce.value=this.getDisplayValue(k,md.TickValue),jt.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(ce.valueTooltip=this.viewOptions.ticksValuesTooltip(k),ce.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let xe=null;if(jt.isNullOrUndefined(this.viewOptions.stepsArray))jt.isNullOrUndefined(this.viewOptions.getLegend)||(xe=this.viewOptions.getLegend(k));else{const it=this.viewOptions.stepsArray[k];jt.isNullOrUndefined(this.viewOptions.getStepLegend)?jt.isNullOrUndefined(it)||(xe=it.legend):xe=this.viewOptions.getStepLegend(it)}return jt.isNullOrUndefined(xe)||(ce.legend=xe,y=!0),ce});if(this.sliderElementWithLegendClass!==y&&setTimeout(()=>{this.sliderElementWithLegendClass=y}),jt.isNullOrUndefined(this.ticks)||this.ticks.length!==C.length)this.ticks=C,this.isRefDestroyed()||this.changeDetectionRef.detectChanges();else for(let k=0;k<C.length;++k)Object.assign(this.ticks[k],C[k])}getTicksArray(){const s=jt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,u=[],p=1+Math.floor(Vo.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/s,this.viewOptions.precisionLimit));for(let y=0;y<p;++y)u.push(Vo.roundToPrecisionLimit(this.viewOptions.floor+s*y,this.viewOptions.precisionLimit));return u}isTickSelected(s){if(!this.range)if(jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(s>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&s<=this.viewLowValue)return!0}else{const u=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>u&&s>=u&&s<=this.viewLowValue)return!0;if(this.viewLowValue<u&&s<=u&&s>=this.viewLowValue)return!0}return!!(this.range&&s>=this.viewLowValue&&s<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,md.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,md.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(s,u){s===$n.Min?this.updateLowHandle(u):s===$n.Max&&this.updateHighHandle(u),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(s,u){const p=s===$n.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,y=u-p/2+this.handleHalfDimension,C=this.fullBarElement.dimension-p;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&s===$n.Min||!this.viewOptions.rightToLeft&&s===$n.Max?Math.min(y,C):Math.min(Math.max(y,0),C):y}updateLowHandle(s){this.minHandleElement.setPosition(s),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,md.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos($n.Min,s)),jt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor($n.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(s){this.maxHandleElement.setPosition(s),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,md.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos($n.Max,s)),jt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor($n.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let s=!1,u=!1;const p=this.isLabelBelowFloorLabel(this.minHandleLabelElement),y=this.isLabelAboveCeilLabel(this.minHandleLabelElement),C=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),k=this.isLabelBelowFloorLabel(this.combinedLabelElement),$=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(p?(s=!0,this.floorLabelElement.hide()):(s=!1,this.floorLabelElement.show()),y?(u=!0,this.ceilLabelElement.hide()):(u=!1,this.ceilLabelElement.show()),this.range){const ee=this.combinedLabelElement.isVisible()?$:C,ce=this.combinedLabelElement.isVisible()?k:p;ee?this.ceilLabelElement.hide():u||this.ceilLabelElement.show(),ce?this.floorLabelElement.hide():s||this.floorLabelElement.show()}}isLabelBelowFloorLabel(s){const u=s.position,y=this.floorLabelElement.position;return this.viewOptions.rightToLeft?u+s.dimension>=y-2:u<=y+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(s){const u=s.position,y=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?u<=y+this.ceilLabelElement.dimension+2:u+s.dimension>=y-2}updateSelectionBar(){let s=0,u=0;const p=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,y=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)u=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),s=y;else if(jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))p?(u=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),s=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(u=this.minHandleElement.position+this.handleHalfDimension,s=0);else{const C=this.viewOptions.showSelectionBarFromValue,k=this.valueToPosition(C);(this.viewOptions.rightToLeft?this.viewLowValue<=C:this.viewLowValue>C)?(u=this.minHandleElement.position-k,s=k+this.handleHalfDimension):(u=k-this.minHandleElement.position,s=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(u),this.selectionBarElement.setPosition(s),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(s),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(s+u)),this.leftOuterSelectionBarElement.setPosition(s+u)):(this.leftOuterSelectionBarElement.setDimension(s),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(s+u)),this.rightOuterSelectionBarElement.setPosition(s+u))),jt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!jt.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const C=jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),k=C-s>0&&!p||C-s<=0&&p;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?k?"bottom":"top":k?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(C+u+s+(k?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=C-s+(k?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const C=this.getSelectionBarColor();this.barStyle={backgroundColor:C}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(s){return this.viewOptions.getPointerColor(s===$n.Max?this.highValue:this.value,s)}getTickColor(s){return this.viewOptions.getTickColor(s)}updateCombinedLabel(){let s=null;if(s=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,s){const u=this.getDisplayValue(this.viewLowValue,md.Low),p=this.getDisplayValue(this.viewHighValue,md.High),y=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(p,u):this.viewOptions.combineLabels(u,p);this.combinedLabelElement.setValue(y);const C=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(C),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(s,u){return!jt.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(s=this.getStepValue(s)),this.viewOptions.translate(s,u)}roundStep(s,u){const p=jt.isNullOrUndefined(u)?this.viewOptions.step:u;let y=Vo.roundToPrecisionLimit((s-this.viewOptions.floor)/p,this.viewOptions.precisionLimit);return y=Math.round(y)*p,Vo.roundToPrecisionLimit(this.viewOptions.floor+y,this.viewOptions.precisionLimit)}valueToPosition(s){let u=jt.linearValueToPosition;jt.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(u=jt.logValueToPosition):u=this.viewOptions.customValueToPosition;let p=u(s=Vo.clampToRange(s,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return jt.isNullOrUndefined(p)&&(p=0),this.viewOptions.rightToLeft&&(p=1-p),p*this.maxHandlePosition}positionToValue(s){let u=s/this.maxHandlePosition;this.viewOptions.rightToLeft&&(u=1-u);let p=jt.linearPositionToValue;jt.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(p=jt.logPositionToValue):p=this.viewOptions.customPositionToValue;const y=p(u,this.viewOptions.floor,this.viewOptions.ceil);return jt.isNullOrUndefined(y)?0:y}getEventXY(s,u){if(s instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?s.clientY:s.clientX;let p=0;const y=s.touches;if(!jt.isNullOrUndefined(u))for(let C=0;C<y.length;C++)if(y[C].identifier===u){p=C;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?y[p].clientY:y[p].clientX}getEventPosition(s,u){const p=this.elementRef.nativeElement.getBoundingClientRect(),y=this.viewOptions.vertical||0!==this.viewOptions.rotate?p.bottom:p.left;let C=0;return C=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(s,u)+y:this.getEventXY(s,u)-y,C*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(s){if(!this.range)return $n.Min;const u=this.getEventPosition(s),p=Math.abs(u-this.minHandleElement.position),y=Math.abs(u-this.maxHandleElement.position);return p<y?$n.Min:p>y?$n.Max:this.viewOptions.rightToLeft?u>this.minHandleElement.position?$n.Min:$n.Max:u<this.minHandleElement.position?$n.Min:$n.Max}bindEvents(){const s=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",u=>this.onBarStart(null,s,u,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",u=>this.onBarStart($n.Min,s,u,!0,!0)),this.maxHandleElement.on("mousedown",u=>this.onBarStart($n.Max,s,u,!0,!0))):(this.minHandleElement.on("mousedown",u=>this.onStart($n.Min,u,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",u=>this.onStart($n.Max,u,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",u=>this.onStart(null,u,!0,!0,!0)),this.ticksElement.on("mousedown",u=>this.onStart(null,u,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",u=>this.onBarStart(null,s,u,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",u=>this.onBarStart($n.Min,s,u,!0,!0)),this.maxHandleElement.onPassive("touchstart",u=>this.onBarStart($n.Max,s,u,!0,!0))):(this.minHandleElement.onPassive("touchstart",u=>this.onStart($n.Min,u,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",u=>this.onStart($n.Max,u,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",u=>this.onStart(null,u,!0,!0,!0)),this.ticksElement.onPassive("touchstart",u=>this.onStart(null,u,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus($n.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus($n.Max)))}getOptionsInfluencingEventBindings(s){return[s.disabled,s.readOnly,s.draggableRange,s.draggableRangeOnly,s.onlyBindHandles,s.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const s of this.getAllSliderElements())jt.isNullOrUndefined(s)||s.off()}onBarStart(s,u,p,y,C,k,$){u?this.onDragStart(s,p,y,C):this.onStart(s,p,y,C,k,$)}onStart(s,u,p,y,C,k){u.stopPropagation(),!Jp.isTouchEvent(u)&&!j0&&u.preventDefault(),this.moving=!1,this.calculateViewDimensions(),jt.isNullOrUndefined(s)&&(s=this.getNearestHandle(u)),this.currentTrackingPointer=s;const $=this.getPointerElement(s);if($.active=!0,this.viewOptions.keyboardSupport&&$.focus(),p){this.unsubscribeOnMove();const ee=ce=>this.dragging.active?this.onDragMove(ce):this.onMove(ce);this.onMoveEventListener=Jp.isTouchEvent(u)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",ee):this.eventListenerHelper.attachEventListener(document,"mousemove",ee)}if(y){this.unsubscribeOnEnd();const ee=ce=>this.onEnd(ce);this.onEndEventListener=Jp.isTouchEvent(u)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",ee):this.eventListenerHelper.attachEventListener(document,"mouseup",ee)}this.userChangeStart.emit(this.getChangeContext()),Jp.isTouchEvent(u)&&!jt.isNullOrUndefined(u.changedTouches)&&jt.isNullOrUndefined(this.touchId)&&(this.touchId=u.changedTouches[0].identifier),C&&this.onMove(u,!0),k&&this.onEnd(u)}onMove(s,u){let p=null;if(Jp.isTouchEvent(s)){const ee=s.changedTouches;for(let ce=0;ce<ee.length;ce++)if(ee[ce].identifier===this.touchId){p=ee[ce];break}if(jt.isNullOrUndefined(p))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const y=jt.isNullOrUndefined(p)?this.getEventPosition(s):this.getEventPosition(s,p.identifier);let C;y<=0?C=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:y>=this.maxHandlePosition?C=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(C=this.positionToValue(y),C=u&&!jt.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(C,this.viewOptions.tickStep):this.roundStep(C)),this.positionTrackingHandle(C)}onEnd(s){Jp.isTouchEvent(s)&&s.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(s){const u=this.getPointerElement(s);u.on("blur",()=>this.onPointerBlur(u)),u.on("keydown",p=>this.onKeyboardEvent(p)),u.on("keyup",()=>this.onKeyUp()),u.active=!0,this.currentTrackingPointer=s,this.currentFocusPointer=s,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(s){s.off("blur"),s.off("keydown"),s.off("keyup"),s.active=!1,jt.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(s){const u=this.viewOptions.ceil-this.viewOptions.floor;let p=s+this.viewOptions.step,y=s-this.viewOptions.step,C=s+u/10,k=s-u/10;this.viewOptions.reversedControls&&(p=s-this.viewOptions.step,y=s+this.viewOptions.step,C=s-u/10,k=s+u/10);const $={UP:p,DOWN:y,LEFT:y,RIGHT:p,PAGEUP:C,PAGEDOWN:k,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&($.LEFT=p,$.RIGHT=y,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&($.UP=y,$.DOWN=p)),$}onKeyboardEvent(s){const u=this.getCurrentTrackingValue(),p=jt.isNullOrUndefined(s.keyCode)?s.which:s.keyCode,$=this.getKeyActions(u)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[p]];if(jt.isNullOrUndefined($)||jt.isNullOrUndefined(this.currentTrackingPointer))return;s.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const ee=Vo.clampToRange($,this.viewOptions.floor,this.viewOptions.ceil),ce=this.roundStep(ee);if(this.viewOptions.draggableRangeOnly){const xe=this.viewHighValue-this.viewLowValue;let it,Ht;this.currentTrackingPointer===$n.Min?(it=ce,Ht=ce+xe,Ht>this.viewOptions.ceil&&(Ht=this.viewOptions.ceil,it=Ht-xe)):this.currentTrackingPointer===$n.Max&&(Ht=ce,it=ce-xe,it<this.viewOptions.floor&&(it=this.viewOptions.floor,Ht=it+xe)),this.positionTrackingBar(it,Ht)}else this.positionTrackingHandle(ce)}onDragStart(s,u,p,y){const C=this.getEventPosition(u);this.dragging=new dT,this.dragging.active=!0,this.dragging.value=this.positionToValue(C),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-C:C-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?C-this.maxHandleElement.position:this.maxHandleElement.position-C,this.onStart(s,u,p,y)}getMinValue(s,u,p){const y=this.viewOptions.rightToLeft;let C=null;return C=u?p?y?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:y?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(y?s+this.dragging.lowLimit:s-this.dragging.lowLimit),this.roundStep(C)}getMaxValue(s,u,p){const y=this.viewOptions.rightToLeft;let C=null;return C=u?p?y?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:y?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:y?this.positionToValue(s+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(s-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(C)}onDragMove(s){const u=this.getEventPosition(s);let p,y,C,k;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(p=this.dragging.lowLimit,y=this.dragging.highLimit,C=this.maxHandleElement,k=this.minHandleElement):(p=this.dragging.highLimit,y=this.dragging.lowLimit,C=this.minHandleElement,k=this.maxHandleElement);const ee=u>=this.maxHandlePosition-p;let ce,xe;if(u<=y){if(0===C.position)return;ce=this.getMinValue(u,!0,!1),xe=this.getMaxValue(u,!0,!1)}else if(ee){if(k.position===this.maxHandlePosition)return;xe=this.getMaxValue(u,!0,!0),ce=this.getMinValue(u,!0,!0)}else ce=this.getMinValue(u,!1,!1),xe=this.getMaxValue(u,!1,!1);this.positionTrackingBar(ce,xe)}positionTrackingBar(s,u){!jt.isNullOrUndefined(this.viewOptions.minLimit)&&s<this.viewOptions.minLimit&&(u=Vo.roundToPrecisionLimit((s=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!jt.isNullOrUndefined(this.viewOptions.maxLimit)&&u>this.viewOptions.maxLimit&&(s=Vo.roundToPrecisionLimit((u=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=s,this.viewHighValue=u,this.applyViewChange(),this.updateHandles($n.Min,this.valueToPosition(s)),this.updateHandles($n.Max,this.valueToPosition(u))}positionTrackingHandle(s){s=this.applyMinMaxLimit(s),this.range&&(this.viewOptions.pushRange?s=this.applyPushRange(s):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===$n.Min&&s>this.viewHighValue?s=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===$n.Max&&s<this.viewLowValue&&(s=this.applyMinMaxRange(this.viewLowValue))),s=this.applyMinMaxRange(s),this.currentTrackingPointer===$n.Min&&s>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles($n.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=$n.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===$n.Max&&s<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles($n.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=$n.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==s&&(this.currentTrackingPointer===$n.Min?(this.viewLowValue=s,this.applyViewChange()):this.currentTrackingPointer===$n.Max&&(this.viewHighValue=s,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(s)),this.updateAriaAttributes())}applyMinMaxLimit(s){return!jt.isNullOrUndefined(this.viewOptions.minLimit)&&s<this.viewOptions.minLimit?this.viewOptions.minLimit:!jt.isNullOrUndefined(this.viewOptions.maxLimit)&&s>this.viewOptions.maxLimit?this.viewOptions.maxLimit:s}applyMinMaxRange(s){const p=Math.abs(s-(this.currentTrackingPointer===$n.Min?this.viewHighValue:this.viewLowValue));if(!jt.isNullOrUndefined(this.viewOptions.minRange)&&p<this.viewOptions.minRange){if(this.currentTrackingPointer===$n.Min)return Vo.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===$n.Max)return Vo.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!jt.isNullOrUndefined(this.viewOptions.maxRange)&&p>this.viewOptions.maxRange){if(this.currentTrackingPointer===$n.Min)return Vo.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===$n.Max)return Vo.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return s}applyPushRange(s){const u=this.currentTrackingPointer===$n.Min?this.viewHighValue-s:s-this.viewLowValue,p=jt.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,y=this.viewOptions.maxRange;return u<p?(this.currentTrackingPointer===$n.Min?(this.viewHighValue=Vo.roundToPrecisionLimit(Math.min(s+p,this.viewOptions.ceil),this.viewOptions.precisionLimit),s=Vo.roundToPrecisionLimit(this.viewHighValue-p,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($n.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===$n.Max&&(this.viewLowValue=Vo.roundToPrecisionLimit(Math.max(s-p,this.viewOptions.floor),this.viewOptions.precisionLimit),s=Vo.roundToPrecisionLimit(this.viewLowValue+p,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($n.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!jt.isNullOrUndefined(y)&&u>y&&(this.currentTrackingPointer===$n.Min?(this.viewHighValue=Vo.roundToPrecisionLimit(s+y,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($n.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===$n.Max&&(this.viewLowValue=Vo.roundToPrecisionLimit(s-y,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($n.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),s}getChangeContext(){const s=new cC;return s.pointerType=this.currentTrackingPointer,s.value=+this.value,this.range&&(s.highValue=+this.highValue),s}}return r=e,Ge(e,"\u0275fac",function(s){return new(s||r)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(lT,8))}),Ge(e,"\u0275cmp",m.Xpm({type:r,selectors:[["ngx-slider"]],contentQueries:function(s,u,p){if(1&s&&m.Suo(p,$0,5),2&s){let y;m.iGM(y=m.CRH())&&(u.tooltipTemplate=y.first)}},viewQuery:function(s,u){if(1&s&&(m.Gf(rC,5,Nf),m.Gf(rT,5,Nf),m.Gf(iC,5,Nf),m.Gf(sC,5,Nf),m.Gf(oC,5,uw),m.Gf(z0,5,uw),m.Gf(iT,5,Q_),m.Gf(aC,5,Q_),m.Gf(lw,5,Q_),m.Gf(G0,5,Q_),m.Gf(YD,5,Q_),m.Gf(sT,5,Nf)),2&s){let p;m.iGM(p=m.CRH())&&(u.leftOuterSelectionBarElement=p.first),m.iGM(p=m.CRH())&&(u.rightOuterSelectionBarElement=p.first),m.iGM(p=m.CRH())&&(u.fullBarElement=p.first),m.iGM(p=m.CRH())&&(u.selectionBarElement=p.first),m.iGM(p=m.CRH())&&(u.minHandleElement=p.first),m.iGM(p=m.CRH())&&(u.maxHandleElement=p.first),m.iGM(p=m.CRH())&&(u.floorLabelElement=p.first),m.iGM(p=m.CRH())&&(u.ceilLabelElement=p.first),m.iGM(p=m.CRH())&&(u.minHandleLabelElement=p.first),m.iGM(p=m.CRH())&&(u.maxHandleLabelElement=p.first),m.iGM(p=m.CRH())&&(u.combinedLabelElement=p.first),m.iGM(p=m.CRH())&&(u.ticksElement=p.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(s,u){1&s&&m.NdJ("resize",function(y){return u.onResize(y)},!1,m.Jf7),2&s&&(m.uIk("disabled",u.sliderElementDisabledAttr)("aria-label",u.sliderElementAriaLabel),m.ekj("vertical",u.sliderElementVerticalClass)("animate",u.sliderElementAnimateClass)("with-legend",u.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[m._Bn([pC]),m.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(s,u){1&s&&(m.TgZ(0,"span",0,1),m._UZ(2,"span",2),m.qZA(),m.TgZ(3,"span",3,4),m._UZ(5,"span",2),m.qZA(),m.TgZ(6,"span",5,6),m._UZ(8,"span",2),m.qZA(),m.TgZ(9,"span",7,8),m._UZ(11,"span",9),m.qZA(),m._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),m.TgZ(26,"span",24,25),m.YNc(28,aT,5,10,"span",26),m.qZA()),2&s&&(m.xp6(6),m.ekj("ngx-slider-transparent",u.fullBarTransparentClass),m.xp6(3),m.ekj("ngx-slider-draggable",u.selectionBarDraggableClass),m.xp6(2),m.Q6J("ngStyle",u.barStyle),m.xp6(1),m.Q6J("ngStyle",u.minPointerStyle),m.xp6(2),m.Udp("display",u.range?"inherit":"none"),m.Q6J("ngStyle",u.maxPointerStyle),m.xp6(12),m.ekj("ngx-slider-ticks-values-under",u.ticksUnderValuesClass),m.Q6J("hidden",!u.showTicks),m.xp6(2),m.Q6J("ngForOf",u.ticks))},dependencies:[Ie.mk,Ie.sg,Ie.O5,Ie.PC,Nf,uw,Q_,dC],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}'],changeDetection:0})),e})(),JD=(()=>{var r;class e{}return r=e,Ge(e,"\u0275fac",function(s){return new(s||r)}),Ge(e,"\u0275mod",m.oAB({type:r})),Ge(e,"\u0275inj",m.cJS({imports:[Ie.ez]})),e})();var fT=U(3749);function XD(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",40),m.NdJ("change",function(){const p=m.CHM(n).$implicit,y=m.oxw(4);return m.KtG(y.categoryFilter(p))}),m.TgZ(1,"label",41)(2,"input",42),m.NdJ("change",function(){m.CHM(n);const u=m.oxw(4);return m.KtG(u.onCheckboxChange())}),m.qZA(),m.TgZ(3,"span",43),m._uU(4),m.ALo(5,"uppercase"),m.qZA()()()}if(2&r){const n=e.$implicit,s=m.oxw(4);m.xp6(1),m.s9C("for",n.name),m.xp6(1),m.s9C("id",n.name),m.Q6J("checked",s.defCategoryRoute===n.name),m.xp6(2),m.hij(" ",m.lcZ(5,4,n.name)," ")}}function eA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"ngx-slider",44),m.NdJ("valueChange",function(u){m.CHM(n);const p=m.oxw(4);return m.KtG(p.minValue=u)})("highValueChange",function(u){m.CHM(n);const p=m.oxw(4);return m.KtG(p.maxValue=u)})("userChange",function(u){m.CHM(n);const p=m.oxw(4);return m.KtG(p.priceRangeFilter(u))}),m.qZA()}if(2&r){const n=m.oxw(4);m.Q6J("value",n.minValue)("highValue",n.maxValue)("options",n.options)}}function tA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",15)(1,"div")(2,"p",16),m._uU(3,"FILTERS"),m.qZA(),m.TgZ(4,"div",17)(5,"div",18)(6,"div",19)(7,"h2",20)(8,"button",21),m._uU(9," CATEGORIES "),m.qZA()()(),m.TgZ(10,"div",22)(11,"div",23),m.YNc(12,XD,6,6,"div",24),m.qZA()()()(),m.TgZ(13,"div",17)(14,"div",25)(15,"div",26)(16,"h2",20)(17,"button",27),m._uU(18," PRICE "),m.qZA()(),m.TgZ(19,"div",28)(20,"div",23)(21,"div",29),m.YNc(22,eA,1,3,"ngx-slider",30),m.qZA(),m.TgZ(23,"div",31)(24,"div",32)(25,"input",33,34),m.NdJ("change",function(){m.CHM(n);const u=m.MAs(26),p=m.oxw(3);return m.KtG(p.priceFilter(+u.value,"min"))}),m.qZA(),m.TgZ(27,"label",35),m._uU(28,"Min Price"),m.qZA()(),m.TgZ(29,"span",36),m._uU(30,"to"),m.qZA(),m.TgZ(31,"div",32)(32,"input",37,38),m.NdJ("change",function(){m.CHM(n);const u=m.MAs(33),p=m.oxw(3);return m.KtG(p.priceFilter(+u.value,"max"))}),m.qZA(),m.TgZ(34,"label",39),m._uU(35,"Max Price"),m.qZA()()()()()()()()()()}if(2&r){const n=m.MAs(26),s=m.oxw(3);m.xp6(12),m.Q6J("ngForOf",s.categories),m.xp6(10),m.Q6J("ngIf",s.isBrowser),m.xp6(3),m.s9C("value",s.minValue),m.s9C("max",+s.maxValue-100),m.xp6(7),m.s9C("value",s.maxValue),m.s9C("min",+n.value+100)}}function nA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",12)(1,"div",3)(2,"div",13),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(2);return m.KtG(u.toggleSideBar())}),m.qZA(),m.YNc(3,tA,36,6,"div",14),m.qZA()()}if(2&r){const n=m.oxw(2);m.xp6(3),m.Q6J("ngIf",n.products||n.isLoading)}}function rA(r,e){1&r&&(m.TgZ(0,"div",45)(1,"p",46),m._uU(2,"No More Products."),m.qZA(),m.TgZ(3,"p",47),m._uU(4," Redirect to "),m.TgZ(5,"a",48),m._uU(6,"HomePage"),m.qZA(),m._uU(7," ? "),m.qZA()())}function iA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"span")(1,"span",64),m._uU(2),m.ALo(3,"uppercase"),m.ALo(4,"uppercase"),m.TgZ(5,"button",65),m.NdJ("click",function(){const p=m.CHM(n).$implicit,y=m.oxw(4);return m.KtG(y.removeFilter(p.id))}),m.qZA()()()}if(2&r){const n=e.$implicit;m.xp6(2),m.AsE(" ",m.lcZ(3,2,n.key),": ",m.lcZ(4,4,n.value)," ")}}function sA(r,e){if(1&r&&(m.TgZ(0,"li",62),m.YNc(1,iA,6,6,"span",63),m.qZA()),2&r){const n=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",n.selectedFiltersSorted)}}function oA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"button",87),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(2).index,p=m.oxw(3);return m.KtG(p.toggleCart(u))}),m._uU(1," Add to Cart "),m.qZA()}}function aA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div")(1,"button",88),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(2).index,p=m.oxw(3);return m.KtG(p.productCart(u,"remove"))}),m._uU(2," - "),m.qZA(),m.TgZ(3,"span",89),m._uU(4),m.qZA(),m.TgZ(5,"button",90),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(2).index,p=m.oxw(3);return m.KtG(p.productCart(u,"add"))}),m._uU(6," + "),m.qZA()()}if(2&r){const n=m.oxw(2).$implicit;m.xp6(4),m.Oqu(n.amount||1),m.xp6(1),m.Q6J("disabled",n.amount==n.stock)}}function pT(r,e){if(1&r&&(m.TgZ(0,"div"),m.YNc(1,oA,2,0,"button",86),m.YNc(2,aA,7,2,"div",84),m.qZA()),2&r){const n=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf",!n.isAdd),m.xp6(1),m.Q6J("ngIf",n.isAdd)}}function Z0(r,e){1&r&&(m.TgZ(0,"span",47),m._uU(1,"Max Stock"),m.qZA())}function gT(r,e){1&r&&(m.TgZ(0,"span",47),m._uU(1,"Out of Stock"),m.qZA())}function gC(r,e){if(1&r&&(m.TgZ(0,"li",66)(1,"a",67),m._uU(2,"..."),m.qZA(),m.TgZ(3,"div",68)(4,"div",69),m._UZ(5,"img",70),m.qZA(),m.TgZ(6,"div",71)(7,"div",3)(8,"div",72)(9,"p",73),m._uU(10),m.qZA(),m.TgZ(11,"div",74)(12,"span",75),m._UZ(13,"img",76),m._uU(14,"Assured"),m.qZA(),m.TgZ(15,"span",77),m._uU(16,"4.4 "),m._UZ(17,"img",78),m.qZA()(),m.TgZ(18,"ul",79)(19,"li",80),m._uU(20," Lorem ipsum dolor sit, amet consectetur elit. "),m.qZA(),m.TgZ(21,"li",80),m._uU(22," Lorem ipsum dolor sit, amet. "),m.qZA(),m.TgZ(23,"li",80),m._uU(24,"Lorem ipsum."),m.qZA()()(),m.TgZ(25,"div",81)(26,"div")(27,"p",82),m._uU(28),m.qZA()(),m.TgZ(29,"div",83),m.YNc(30,pT,3,2,"div",84),m.YNc(31,Z0,2,0,"span",85),m.YNc(32,gT,2,0,"span",85),m.qZA()()()()()()),2&r){const n=e.$implicit,s=e.index;m.xp6(1),m.MGl("routerLink","../product/",n.id,""),m.xp6(4),m.s9C("src",n.images[0],m.LSH),m.s9C("alt",n.title),m.uIk("loading",s>3?"lazy":null)("fetchpriority",s<3?"high":null),m.xp6(5),m.hij(" ",n.title," "),m.xp6(18),m.hij("$",n.price,""),m.xp6(2),m.Q6J("ngIf",0!=n.stock),m.xp6(1),m.Q6J("ngIf",n.amount==n.stock),m.xp6(1),m.Q6J("ngIf",0==n.stock)}}function cw(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",49)(1,"ul",50)(2,"li",51)(3,"div",52)(4,"div",53),m._uU(5," Sort By "),m.qZA(),m.TgZ(6,"div",54)(7,"div",55),m._UZ(8,"input",56),m.TgZ(9,"label",57),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(2);return m.KtG(u.addSort("asec"))}),m._uU(10,"Price - Low to High "),m.qZA(),m._UZ(11,"input",58),m.TgZ(12,"label",59),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(2);return m.KtG(u.addSort("desc"))}),m._uU(13,"Price - High to Low"),m.qZA()()()()(),m.YNc(14,sA,2,1,"li",60),m.YNc(15,gC,33,10,"li",61),m.qZA()()}if(2&r){const n=m.oxw(2);m.xp6(8),m.Q6J("checked","asec"===n.sortMeth),m.xp6(3),m.Q6J("checked","desc"===n.sortMeth),m.xp6(3),m.Q6J("ngIf",n.selectedFiltersSorted.length>0),m.xp6(1),m.Q6J("ngForOf",n.products)}}function mC(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"li",96),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(3);return m.KtG(u.page("prev"))}),m.TgZ(1,"a",97),m._uU(2,"Previous"),m.qZA()()}}function lA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"a",100),m.NdJ("click",function(){m.CHM(n);const u=m.oxw().$implicit,p=m.oxw(3);return m.KtG(p.numbPage(u))}),m._uU(1),m.qZA()}if(2&r){const n=m.oxw().$implicit;m.xp6(1),m.Oqu(n)}}function uA(r,e){if(1&r&&(m.TgZ(0,"li",98),m.YNc(1,lA,2,1,"a",99),m.qZA()),2&r){const n=m.oxw(3);m.xp6(1),m.Q6J("ngIf",1!==n.totalPages)}}function _C(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"li",96),m.NdJ("click",function(){m.CHM(n);const u=m.oxw(3);return m.KtG(u.page("next"))}),m.TgZ(1,"a",97),m._uU(2,"Next"),m.qZA()()}}function mT(r,e){if(1&r&&(m.TgZ(0,"div",91)(1,"nav",92)(2,"ul",93),m.YNc(3,mC,3,0,"li",94),m.YNc(4,uA,2,1,"li",95),m.YNc(5,_C,3,0,"li",94),m.qZA()()()),2&r){const n=m.oxw(2);m.xp6(3),m.Q6J("ngIf",n.pageId>1),m.xp6(1),m.Q6J("ngForOf",n.pagesArray),m.xp6(1),m.Q6J("ngIf",n.pageId!=n.totalPages&&1!==n.totalPages||n.products&&0==n.products.length)}}function yC(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),m.NdJ("click",function(){m.CHM(n);const u=m.oxw();return m.KtG(u.toggleSideBar())}),m._UZ(4,"img",6),m.qZA()(),m.YNc(5,nA,4,1,"div",7),m.YNc(6,rA,8,0,"div",8),m.TgZ(7,"div",9),m.YNc(8,cw,16,4,"div",10),m.YNc(9,mT,6,3,"div",11),m.qZA()()()}if(2&r){const n=m.oxw();m.xp6(5),m.Q6J("ngIf",n.products&&n.categories&&n.categories.length>0),m.xp6(1),m.Q6J("ngIf",n.products&&0===n.products.length&&!n.isLoading),m.xp6(2),m.Q6J("ngIf",n.products&&n.products.length>0),m.xp6(1),m.Q6J("ngIf",n.products&&0!=n.products.length)}}function vC(r,e){1&r&&(m.TgZ(0,"div",101),m._UZ(1,"app-loader"),m.qZA())}const EC=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:(()=>{var r;class e{constructor(s,u,p,y,C,k){this.cartServ=s,this.route=u,this.router=p,this.productService=y,this.breakpointObserver=C,this.platformId=k,this.pageId=1,this.isLoading=!1,this.minValue=0,this.maxValue=0,this.defCategoryRoute="",this.isSideBarOpen=!1,this.selectedFilters={},this.selectedFiltersSorted=[],this.Breakpoints=So,this.currentBreakpoint="",this.breakpoint$=this.breakpointObserver.observe([So.Large,So.Medium,So.Small,"(min-width: 500px)"]).pipe((0,Bl.b)($=>console.log($)),(0,ac.x)()),this.viewportLength="",this.isBrowser=(0,Ie.NF)(k)}ngOnInit(){this.getData(),this.getCategories(),this.options={floor:0,ceil:2e3,step:100,translate:s=>"$ "+s},this.breakpoint$.subscribe(()=>this.breakpointChanged())}ngOnDestroy(){this.ObsSubs.unsubscribe()}toggleSideBar(){this.isSideBarOpen=!this.isSideBarOpen;let s=document.getElementById("sideBar").classList;s.contains("resposiveSideBar")?s.remove("resposiveSideBar"):s.add("resposiveSideBar")}getData(){this.minValue=0,this.maxValue=0,this.route.queryParams.subscribe(s=>{s.price_min&&s.price_max?(this.minValue=+s.price_min,this.maxValue=+s.price_max):s.price_min?(this.minValue=+s.price_min,this.maxValue=2e3):s.price_max?(this.maxValue=+s.price_max,this.minValue=0):(this.minValue=0,this.maxValue=2e3),this.selectedFilters=s,this.selectedFiltersSorted=[];for(const p in this.selectedFilters)"category"==p?this.selectedFiltersSorted.push({key:p,value:this.selectedFilters[p],id:p}):"price_min"==p?this.selectedFiltersSorted.push({key:"Min Price",value:this.selectedFilters[p],id:p}):"sort"==p?this.selectedFiltersSorted.push({key:p,value:"asec"==this.selectedFilters[p]?"Low To High":"High To Low",id:p}):"price_max"==p&&this.selectedFiltersSorted.push({key:"Max Price",value:this.selectedFilters[p],id:p});this.pageId=s.page,this.sortMeth=s.sort;let u=localStorage.getItem("cart")||"[]";this.prods=JSON.parse(u),this.defCategoryRoute="",this.ObsSubs=this.productService.getProducts().subscribe(p=>{this.products=p,this.viewportLength=230*this.products.length+"px",console.log(this.viewportLength),this.productsSorted=p.map(y=>{let C=this.prods.findIndex(({id:k})=>k===y.id);return C>=0?{...y,isAdd:!0,amount:this.prods[C].amount}:{...y,isAdd:!1}}),this.isLoading=!1})}),this.getCategories()}productCart(s,u){this.cartServ.data(this.products[s],u),this.getData()}toggleCart(s){this.productCart(s,"add"),this.products[s].isAdd=!this.products[s].isAdd}page(s){isNaN(this.pageId)&&(this.pageId=1),this.isLoading=!0,this.router.navigate(["/products"],"next"===s?{queryParams:{page:+this.pageId+1},queryParamsHandling:"merge"}:{queryParams:{page:+this.pageId-1},queryParamsHandling:"merge"}),this.getCategories(),this.isLoading=!1}numbPage(s){this.isLoading=!0,this.router.navigate(["/products"],{queryParams:{page:s},queryParamsHandling:"merge"}),this.isLoading=!1}priceFilter(s,u){let p=0;this.route.queryParams.subscribe(y=>{p=y.page}),"max"==u?2e3==s?this.removeFilter("price_max"):this.router.navigate(["/products"],{queryParams:{price_max:`${s}`},queryParamsHandling:"merge"}):"min"==u&&(0==s?this.removeFilter("price_min"):this.router.navigate(["/products"],{queryParams:{price_min:`${s}`},queryParamsHandling:"merge"}))}priceRangeFilter(s){1==s.pointerType?this.priceFilter(s.highValue,"max"):this.priceFilter(s.value,"min")}getCategories(){this.productService.getCategories().subscribe(s=>{this.categories=Object.keys(s).map(u=>({id:u,name:s[u],checked:this.defCategoryRoute==s[u]})),this.route.queryParams.subscribe(u=>{let p=u.category,y=this.categories.find(C=>C.name===p);y&&(this.defCategoryRoute=y.name)})})}categoryFilter(s){this.router.navigate(["/products"],{queryParams:{category:s.checked?s.name:null,page:null},queryParamsHandling:"merge"})}addSort(s){this.router.navigate(["products"],{queryParams:{sort:s,page:null},queryParamsHandling:"merge"})}onCheckboxChange(){for(let s=0;s<this.categories.length;s++)this.categories[s].checked=this.defCategoryRoute!=this.categories[s].name}removeFilter(s){"category"==s?this.router.navigate(["products"],{queryParams:{category:null},queryParamsHandling:"merge"}):"price_min"==s?this.router.navigate(["products"],{queryParams:{price_min:null},queryParamsHandling:"merge"}):"sort"==s?this.router.navigate(["products"],{queryParams:{sort:null},queryParamsHandling:"merge"}):"price_max"==s&&this.router.navigate(["products"],{queryParams:{price_max:null},queryParamsHandling:"merge"})}breakpointChanged(){this.breakpointObserver.isMatched(So.Large)?this.currentBreakpoint=So.Large:this.breakpointObserver.isMatched(So.Medium)?this.currentBreakpoint=So.Medium:this.breakpointObserver.isMatched(So.Small)?this.currentBreakpoint=So.Small:this.breakpointObserver.isMatched("(min-width: 500px)")&&(this.currentBreakpoint="(min-width: 500px)")}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(Ca.b),m.Y36(X.gz),m.Y36(X.F0),m.Y36(XI),m.Y36(tn),m.Y36(m.Lbi))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-products"]],decls:2,vars:2,consts:[["class","container-xxl text-center",4,"ngIf"],["class","col-1 mx-auto",4,"ngIf"],[1,"container-xxl","text-center"],[1,"row"],[1,"col-12","d-flex","flex-row-reverse","d-xl-none","d-block"],["id","btn","aria-label","toggle sidebar","type","button",1,"btn","d-xl-none","d-block","bg-white",3,"click"],["src","../../assets/menu.png","alt","","width","16px","height","16px"],["class","col-2","id","sideBar",4,"ngIf"],["class","mt-5 pt-5 ms-5 ps-5",4,"ngIf"],[1,"col-12","col-lg-10"],["class","col-xl-10 col-lg-10 col-12 mx-auto",4,"ngIf"],["class","col-12 d-flex justify-content-center my-3",4,"ngIf"],["id","sideBar",1,"col-2"],["id","overlay",1,"col-12",3,"click"],["class","col-2 py-4 px-3 h-100 ms-0 me-5 rounded text-start","id","filterBar",4,"ngIf"],["id","filterBar",1,"col-2","py-4","px-3","h-100","ms-0","me-5","rounded","text-start"],[1,"h4","fw-medium","ms-2","fw-semibold"],[1,"col-12"],["id","accordionExample",1,"accordion","border","my-2","rounded"],[1,"accordion-item","rounded"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[3,"change",4,"ngFor","ngForOf"],["id","accordion",1,"accordion","rounded"],[1,"accordion-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsePrice","aria-expanded","true","aria-controls","collapsePrice",1,"accordion-button"],["id","collapsePrice","data-bs-parent","#accordion",1,"accordion-collapse","collapse","show"],[1,"custom-slider"],[3,"value","highValue","options","valueChange","highValueChange","userChange",4,"ngIf"],[1,"col-12","d-flex","text-center"],[1,"col-5"],["type","number","id","minUserValue","step","100","min","0",1,"form-control","border","col-12",3,"value","max","change"],["minUserValue",""],["for","maxUserValue",1,"col-12","fw-semibold","small"],[1,"text-secondary","m-2"],["step","100","type","number","id","maxUserValue","max","2000",1,"col-12","form-control","border",3,"value","min","change"],["maxUserValue",""],["for","minUserValue",1,"col-12","fw-semibold","small"],[3,"change"],[1,"form-control","p-0",3,"for"],["type","checkbox",1,"checkbox",3,"id","checked","change"],[1,"mt-1"],[3,"value","highValue","options","valueChange","highValueChange","userChange"],[1,"mt-5","pt-5","ms-5","ps-5"],[1,"text-black","display-5"],[1,"text-black"],["href","/products",1,"text-decoration-none","text-primary","fw-semibold"],[1,"col-xl-10","col-lg-10","col-12","mx-auto"],[1,"col-12","col-lg-8","col-lg-12","mx-auto","list-group"],[1,"list-group-item","py-0"],[1,"row","p-0"],[1,"col-lg-2","col-3","text-start","ms","fw-bolder","btn","disabled","border-0","py-3"],[1,"col-xl-5","col-md-8","col-lg-6","col-9"],["role","group","id","btnGroup","aria-label","Basic radio toggle button group ",1,"btn-group"],["type","radio","name","sortRadio","id","sortAsec",1,"btn-check",3,"checked"],["for","sortAsec","id","sortAsecLabel",1,"btn","border-0","py-3",3,"click"],["type","radio","name","sortRadio","id","sortDesc",1,"btn-check",3,"checked"],["for","sortDesc",1,"btn","border-0","py-3",3,"click"],["class","list-group-item text-start py-3",4,"ngIf"],["class","list-group-item px-1",4,"ngFor","ngForOf"],[1,"list-group-item","text-start","py-3"],[4,"ngFor","ngForOf"],[1,"d-inline-block","bg-success-subtle","rounded-pill","fw-semibold","small","px-3","py-2","m-1","lh-1"],[1,"btn","p-0","filterButton","m-0","btn-close","btn-sm","ms-2","me-1",3,"click"],[1,"list-group-item","px-1"],[1,"detailAnchor","text-white","text-decoration-none",3,"routerLink"],[1,"mx-sm-auto","row","text-decoration-none","text-black"],["id","productDetail",1,"col-sm-3","col-12"],["width","200px","height","200px",1,"mx-sm-auto",3,"src","alt"],[1,"col-sm-8","col-12"],[1,"col-sm-7","col-12","text-center","text-lg-start"],[1,"fw-semibold","h6","pt-2","text-wrap","text-lg-start","text-center"],[1,"col-12","my-2"],[1,"bg-primary","text-white","small","rounded-pill","py-1","px-2","fw-semibold","mx-2"],["src","../../assets/logo.svg","width","15px","alt","assured logo","height","15px",1,"me-1","mb-1"],[1,"badge","bg-success","my-1"],["src","../../assets/star.png","width","16px","height","16px","alt","star"],[1,"list-group","ms-4","d-none","d-xl-block"],[1,"py-1"],[1,"col-sm-5","col-12","py-2","py-xl-5","mt-0","mt-xl-1"],[1,"fw-semibold","h5"],["id","addToCartButton",1,"mt-0","mt-lg-4"],[4,"ngIf"],["class","text-black",4,"ngIf"],["class","btn btn-primary rounded-pill fw-semibold btn-sm py-md-2 px-md-4 px-3 py-1",3,"click",4,"ngIf"],[1,"btn","btn-primary","rounded-pill","fw-semibold","btn-sm","py-md-2","px-md-4","px-3","py-1",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"mx-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"col-12","d-flex","justify-content-center","my-3"],["aria-label","Page navigation example"],["id","pagination",1,"pagination"],["class","page-item",3,"click",4,"ngIf"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link"],[1,"page-item"],["class","page-link",3,"click",4,"ngIf"],[1,"page-link",3,"click"],[1,"col-1","mx-auto"]],template:function(s,u){1&s&&(m.YNc(0,yC,10,4,"div",0),m.YNc(1,vC,2,0,"div",1)),2&s&&(m.Q6J("ngIf",u.products||!u.isLoading),m.xp6(1),m.Q6J("ngIf",!u.products||u.isLoading))},dependencies:[Ie.sg,Ie.O5,X.rH,hT,fT.R,Ie.gd],styles:['#filterBar[_ngcontent-%COMP%]{position:fixed;left:0;background-color:#feffff!important}.btn-check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#007bff;border-radius:0;border-bottom:3px solid #007bff!important}a.list-group-item[_ngcontent-%COMP%]:hover{background-color:#fafafa!important;transform:scale(1.005);cursor:pointer;border-radius:10px}.detailAnchor[_ngcontent-%COMP%]{top:0;height:100%;width:100%;left:0;z-index:150;position:absolute}#productDetail[_ngcontent-%COMP%]{position:relative}#addToCartButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:200;position:relative}[_ngcontent-%COMP%]:root{--form-control-color: rebeccapurple;--form-control-disabled: #959495}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0}.form-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1em auto;gap:.8em;border:none}input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:var(--form-background);margin:5px auto;font:inherit;color:currentColor;width:1.15em;height:1.15em;border-radius:.15em;border:.15em currentColor solid;display:grid;place-content:center}label[_ngcontent-%COMP%]:hover{cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#007bff}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";width:.65em;height:.65em;clip-path:polygon(14% 44%,0 65%,50% 100%,100% 16%,80% 0%,43% 62%);transform:scale(0);transform-origin:bottom left;transition:.12s transform ease-in-out;box-shadow:inset 1em 1em var(--form-control-color);background-color:#fff}input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:scale(1)}input[type=checkbox][_ngcontent-%COMP%]:focus{outline-offset:max(2px,.15em)}@media screen and (max-width: 1200px){#filterBar[_ngcontent-%COMP%]{width:40vw;position:absolute;z-index:500;display:block}#sideBar[_ngcontent-%COMP%]{transition:all .33s;display:block;width:100vw;height:100vh;position:fixed;left:-100%;padding-top:10px;top:0;display:flex;z-index:500}#overlay[_ngcontent-%COMP%]{width:100%;background-color:#000000e6}.resposiveSideBar[_ngcontent-%COMP%]{left:0!important}#productDetail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}}@media screen and (max-width: 600px){#filterBar[_ngcontent-%COMP%]{width:60vw}}#btn[_ngcontent-%COMP%]{z-index:1000!important;background-color:transparent;width:10%;display:block}  .custom-slider .ngx-slider .ngx-slider-selection{background:#007bff!important}  .custom-slider .ngx-slider .ngx-slider-pointer{background:#ffffff!important;width:10px!important;padding:5px!important;border:1px solid rgb(169,169,169);top:-3px!important;position:absolute!important;height:10px!important}  .custom-slider .ngx-slider .ngx-slider-active{background:#ffffff!important}  .custom-slider .ngx-slider .ngx-slider-active:after{display:none}#pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}']}),e})()},{path:"cart",component:Ji.P,loadChildren:()=>U.e(562).then(U.bind(U,5562)).then(r=>r.CartModule)},{path:"login",component:ml},{path:"signup",component:ba},{path:"order",component:B,canActivate:[_e.a]},{path:"product/:id",loadChildren:()=>U.e(603).then(U.bind(U,2603)).then(r=>r.ProductsModule)},{path:"user-profile",loadChildren:()=>U.e(218).then(U.bind(U,3218)).then(r=>r.CustomerModule),canActivate:[_e.a]},{path:"**",component:Ho,pathMatch:"full"}];let Tv=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[X.Bz.forRoot(EC,{initialNavigation:"enabledBlocking"}),X.Bz]}),e})();function dw(r,e){1&r&&(m.TgZ(0,"span"),m._uU(1,"s"),m.qZA())}function wC(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div")(1,"div")(2,"button",32),m.NdJ("click",function(){m.CHM(n);const u=m.oxw().index,p=m.oxw(2);return m.KtG(p.productCart(u,"remove"))}),m._uU(3," - "),m.qZA(),m.TgZ(4,"span",33),m._uU(5),m.qZA(),m.TgZ(6,"button",34),m.NdJ("click",function(){m.CHM(n);const u=m.oxw().index,p=m.oxw(2);return m.KtG(p.productCart(u,"add"))}),m._uU(7," + "),m.qZA()()()}if(2&r){const n=m.oxw().$implicit;m.xp6(5),m.Oqu(n.amount||1),m.xp6(1),m.Q6J("disabled",n.amount==n.stock)}}function IC(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1,"Max Stock"),m.qZA())}function TC(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1,"Out of Stock"),m.qZA())}function bC(r,e){if(1&r&&(m.TgZ(0,"div",21)(1,"div",22)(2,"div",23),m._UZ(3,"img",24),m.qZA(),m.TgZ(4,"div",25)(5,"div",26),m._uU(6),m.qZA(),m.TgZ(7,"div",27)(8,"div",28),m.YNc(9,wC,8,2,"div",17),m.YNc(10,IC,2,0,"span",29),m.YNc(11,TC,2,0,"span",29),m.qZA(),m.TgZ(12,"div",30)(13,"div",31),m._uU(14),m.qZA(),m.TgZ(15,"div",31),m._uU(16),m.qZA()()()()()()),2&r){const n=e.$implicit;m.xp6(3),m.s9C("src",n.images[0],m.LSH),m.xp6(3),m.Oqu(n.title),m.xp6(3),m.Q6J("ngIf",0!=n.stock),m.xp6(1),m.Q6J("ngIf",n.amount==n.stock),m.xp6(1),m.Q6J("ngIf",0==n.stock),m.xp6(3),m.hij("$",n.price,""),m.xp6(2),m.hij(" Total: $",n.amount*n.price," ")}}function CC(r,e){1&r&&(m.TgZ(0,"span"),m._uU(1,"s"),m.qZA())}function DC(r,e){if(1&r&&(m.TgZ(0,"span"),m._uU(1),m.YNc(2,CC,2,0,"span",17),m._uU(3," in cart "),m.qZA()),2&r){const n=m.oxw(2);m.xp6(1),m.hij(" ",n.items-3," more item"),m.xp6(1),m.Q6J("ngIf",n.items-3>1)}}function Q0(r,e){if(1&r&&(m.TgZ(0,"div",14)(1,"div",15)(2,"p",16),m._uU(3),m.YNc(4,dw,2,0,"span",17),m.qZA(),m.TgZ(5,"p",16),m._uU(6),m.qZA()(),m.YNc(7,bC,17,7,"div",18),m.TgZ(8,"div",19),m.YNc(9,DC,4,2,"span",17),m.TgZ(10,"a",20),m._uU(11," Go to cart "),m.qZA()()()),2&r){const n=m.oxw();m.xp6(3),m.hij(" ",n.items," item"),m.xp6(1),m.Q6J("ngIf",n.items>1),m.xp6(2),m.hij("$",n.totalAmount,""),m.xp6(1),m.Q6J("ngForOf",n.headerCart),m.xp6(2),m.Q6J("ngIf",n.items>3)}}function AC(r,e){1&r&&(m.TgZ(0,"div",36)(1,"p",37),m._uU(2,"Cart is Empty."),m.qZA()())}function SC(r,e){1&r&&(m.TgZ(0,"a",38),m._UZ(1,"img",39),m.qZA())}function xC(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"button",40),m.NdJ("click",function(){m.CHM(n);const u=m.oxw();return m.KtG(u.logout())}),m._uU(1," Logout "),m.qZA()}}function RC(r,e){1&r&&(m.TgZ(0,"button",41),m._uU(1," Login "),m.qZA())}let PC=(()=>{var r;class e{constructor(s,u){this.cart=s,this.auth=u,this.items=this.cart.cartdata.length,this.isAuth=!1,this.headerCart=[],this.cartData=localStorage.getItem("cart"),this.objCart=JSON.parse(this.cartData),this.totalAmount=0}ngOnInit(){this.auth.user.subscribe(s=>{this.isAuth=!!s}),this.cart.cart$.subscribe(s=>{this.items=s.length,this.dataSource=s,this.totalAmount=0,s.map(u=>{this.totalAmount+=u.price*u.amount}),this.headerCart=s.length>3?s.slice(0,3):s,console.log(this.totalAmount)})}logout(){this.auth.logout()}productCart(s,u){this.cart.data(this.dataSource[s],u),this.ngOnInit()}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(Ca.b),m.Y36(we.e))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-header"]],decls:16,vars:6,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container"],["routerLink","/",1,"navbar-brand","fw-bold"],["src","\\assets\\logo.svg","alt","Anywhere-logo","width","40px","height","40px"],[1,"ms-0"],["id","btns"],["routerLink","/cart",1,"btn","text-decoration-none","bg-white","rounded-pill"],["src","../../assets/shopping-cart.png","alt","shopping-cart","width","20px","height","20px"],[1,"popover","bg-transparent"],["class","bg-white innerDiv py-2",4,"ngIf"],["class","bg-white p-3 border mt-1 rounded text-center",4,"ngIf"],["class","btn bg-white ms-1 rounded-pill","routerLink","/user-profile",4,"ngIf"],["class","btn bg-white ms-1 rounded-pill",3,"click",4,"ngIf"],["class","btn ms-1 bg-white rounded-pill","routerLink","/login",4,"ngIf"],[1,"bg-white","innerDiv","py-2"],[1,"d-flex","justify-content-between","header","px-3"],[1,"h6","fw-semibold"],[4,"ngIf"],["class","my-1 px-3",4,"ngFor","ngForOf"],[1,"p-3","col-12","fw-semibold","bg-white","justify-content-between","d-flex"],["routerLink","/cart",1,"btn","btn-primary","btn-sm"],[1,"my-1","px-3"],[1,"row","border-bottom","py-3"],[1,"col-4"],["alt","",1,"img-fluid",3,"src"],[1,"col-8"],[1,"col-12","fw-semibold"],[1,"col-12"],["id","addToCartButton",1,"my-2"],["class","text-black",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mx-3"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"text-black"],[1,"bg-white","p-3","border","mt-1","rounded","text-center"],[1,"h4"],["routerLink","/user-profile",1,"btn","bg-white","ms-1","rounded-pill"],["src","../../assets/user.png","alt","user","width","20px","height","20px"],[1,"btn","bg-white","ms-1","rounded-pill",3,"click"],["routerLink","/login",1,"btn","ms-1","bg-white","rounded-pill"]],template:function(s,u){1&s&&(m.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),m._UZ(3,"img",3),m._uU(4," Anywhere App "),m.qZA(),m.TgZ(5,"div",4)(6,"span",5)(7,"button",6),m._UZ(8,"img",7),m._uU(9),m.qZA(),m.TgZ(10,"div",8),m.YNc(11,Q0,12,5,"div",9),m.YNc(12,AC,3,0,"div",10),m.qZA()(),m.YNc(13,SC,2,0,"a",11),m.YNc(14,xC,2,0,"button",12),m.YNc(15,RC,2,0,"button",13),m.qZA()()()),2&s&&(m.xp6(9),m.hij(" ",u.items," "),m.xp6(2),m.Q6J("ngIf",u.headerCart.length>0),m.xp6(1),m.Q6J("ngIf",0===u.headerCart.length),m.xp6(1),m.Q6J("ngIf",u.isAuth),m.xp6(1),m.Q6J("ngIf",u.isAuth),m.xp6(1),m.Q6J("ngIf",!u.isAuth))},dependencies:[Ie.sg,Ie.O5,X.rH],styles:[".navbar[_ngcontent-%COMP%]{z-index:500!important}.popover[_ngcontent-%COMP%]{z-index:5;position:relative;display:none;width:450px;min-width:350px;border:none;padding-top:10px;top:80%}.popover[_ngcontent-%COMP%]   .innerDiv[_ngcontent-%COMP%]{position:relative;top:100%;height:100%;border:1px solid rgba(0,0,0,.1);border-radius:3px;width:100%}.popover[_ngcontent-%COMP%]   .innerDiv[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:.5px solid rgb(161,161,161)!important}#btns[_ngcontent-%COMP%]:hover   .popover[_ngcontent-%COMP%], .popover[_ngcontent-%COMP%]:hover   .popover[_ngcontent-%COMP%]{position:absolute;display:block;right:10%}"]}),e})(),MC=(()=>{var r;class e{constructor(s){this.auth=s,this.title="eCom"}ngOnInit(){this.auth.autoLogin()}}return(r=e).\u0275fac=function(s){return new(s||r)(m.Y36(we.e))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"fixed-top"],[1,"container-fluid","mt-4","pt-5"],[1,"row"]],template:function(s,u){1&s&&(m.TgZ(0,"div",0),m._UZ(1,"app-header"),m.qZA(),m.TgZ(2,"div",1)(3,"div",2),m._UZ(4,"router-outlet"),m.qZA()())},dependencies:[X.lC,PC]}),e})();var bv=U(8726),_T=U(6304),ym=U(2793),yT=U(4097);U(6710),U(7592);class Y0{constructor(){return(0,ym.vb)("auth")}}var QC=U(2194),eI=U(8162);class Dv{constructor(e){return e}}const Av="firestore",xT=new m.OlP("angularfire2.firestore-instances");function YC(r){return(e,n)=>{const s=e.runOutsideAngular(()=>r(n));return new Dv(s)}}const JC={provide:class RA{constructor(){return(0,ym.vb)(Av)}},deps:[[new m.FiY,xT]]},XC={provide:Dv,useFactory:function RT(r,e){const n=(0,ym.JM)(Av,r,e);return n&&new Dv(n)},deps:[[new m.FiY,xT],bv.Ot]};let eD=(()=>{class r{constructor(){(0,yT.KN)("angularfire",ym.q4.full,"fst")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({providers:[XC,JC]}),r})();function PT(r,...e){return{ngModule:eD,providers:[{provide:xT,useFactory:YC(r),multi:!0,deps:[m.R0b,m.zs3,ym.HU,bv.z6,[new m.FiY,Y0],[new m.FiY,QC.nm],...e]}]}}const kT=(0,ym.u3)(eI.ad,!0);var h=U(653),g=U(1954),v=U(7394);const b={schedule(r){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:s}=b;s&&(e=s.requestAnimationFrame,n=s.cancelAnimationFrame);const u=e(p=>{n=void 0,r(p)});return new v.w0(()=>n?.(u))},requestAnimationFrame(...r){const{delegate:e}=b;return(e?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:e}=b;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var L=U(2631);new class K extends L.v{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let u;e=e||s.shift();do{if(u=e.execute(e.state,e.delay))break}while((e=s[0])&&e.id===n&&s.shift());if(this._active=!1,u){for(;(e=s[0])&&e.id===n&&s.shift();)e.unsubscribe();throw u}}}(class A extends g.o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,s=0){return null!==s&&s>0?super.requestAsyncId(e,n,s):(e.actions.push(this),e._scheduled||(e._scheduled=b.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,s=0){var u;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(e,n,s);const{actions:p}=e;null!=n&&(null===(u=p[p.length-1])||void 0===u?void 0:u.id)!==n&&(b.cancelAnimationFrame(n),e._scheduled=void 0)}});let Qe,Be=1;const At={};function Zt(r){return r in At&&(delete At[r],!0)}const bn={setImmediate(r){const e=Be++;return At[e]=!0,Qe||(Qe=Promise.resolve()),Qe.then(()=>Zt(e)&&r()),e},clearImmediate(r){Zt(r)}},{setImmediate:Ft,clearImmediate:Nr}=bn,Zr={setImmediate(...r){const{delegate:e}=Zr;return(e?.setImmediate||Ft)(...r)},clearImmediate(r){const{delegate:e}=Zr;return(e?.clearImmediate||Nr)(r)},delegate:void 0};new class ec extends L.v{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let u;e=e||s.shift();do{if(u=e.execute(e.state,e.delay))break}while((e=s[0])&&e.id===n&&s.shift());if(this._active=!1,u){for(;(e=s[0])&&e.id===n&&s.shift();)e.unsubscribe();throw u}}}(class _s extends g.o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,s=0){return null!==s&&s>0?super.requestAsyncId(e,n,s):(e.actions.push(this),e._scheduled||(e._scheduled=Zr.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,s=0){var u;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(e,n,s);const{actions:p}=e;null!=n&&(null===(u=p[p.length-1])||void 0===u?void 0:u.id)!==n&&(Zr.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});let QA=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({}),e})(),YA=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({}),e})(),BS=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[QA,YA,QA,YA]}),e})(),jS=(()=>{var r;class e{}return(r=e).\u0275fac=function(s){return new(s||r)},r.\u0275mod=m.oAB({type:r,bootstrap:[MC]}),r.\u0275inj=m.cJS({imports:[w.b2,Tv,Bo,ae.JF,_T.hO,BS,JD,jc,PT(()=>kT()),_T.hO.initializeApp(h.N.firebaseConfig),(0,bv.hX)(()=>(0,bv.ZF)(h.N.firebaseConfig))]}),e})();w.q6().bootstrapModule(jS).catch(r=>console.error(r))},5619:(Kt,qe,U)=>{U.d(qe,{X:()=>ae});var w=U(8645);class ae extends w.x{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const m=super._subscribe(_e);return!m.closed&&_e.next(this._value),m}getValue(){const{hasError:_e,thrownError:m,_value:we}=this;if(_e)throw m;return this._throwIfClosed(),we}next(_e){super.next(this._value=_e)}}},5592:(Kt,qe,U)=>{U.d(qe,{y:()=>ve});var w=U(305),ae=U(7394),X=U(4850),_e=U(8407),m=U(2653),we=U(4674),Ie=U(1441);let ve=(()=>{class Me{constructor(at){at&&(this._subscribe=at)}lift(at){const Tt=new Me;return Tt.source=this,Tt.operator=at,Tt}subscribe(at,Tt,ke){const dt=function ge(Me){return Me&&Me instanceof w.Lv||function oe(Me){return Me&&(0,we.m)(Me.next)&&(0,we.m)(Me.error)&&(0,we.m)(Me.complete)}(Me)&&(0,ae.Nn)(Me)}(at)?at:new w.Hp(at,Tt,ke);return(0,Ie.x)(()=>{const{operator:Ve,source:Ne}=this;dt.add(Ve?Ve.call(dt,Ne):Ne?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(at){try{return this._subscribe(at)}catch(Tt){at.error(Tt)}}forEach(at,Tt){return new(Tt=He(Tt))((ke,dt)=>{const Ve=new w.Hp({next:Ne=>{try{at(Ne)}catch(wt){dt(wt),Ve.unsubscribe()}},error:dt,complete:ke});this.subscribe(Ve)})}_subscribe(at){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(at)}[X.L](){return this}pipe(...at){return(0,_e.U)(at)(this)}toPromise(at){return new(at=He(at))((Tt,ke)=>{let dt;this.subscribe(Ve=>dt=Ve,Ve=>ke(Ve),()=>Tt(dt))})}}return Me.create=Ke=>new Me(Ke),Me})();function He(Me){var Ke;return null!==(Ke=Me??m.config.Promise)&&void 0!==Ke?Ke:Promise}},8645:(Kt,qe,U)=>{U.d(qe,{x:()=>Ie});var w=U(5592),ae=U(7394);const _e=(0,U(2306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=U(9039),we=U(1441);let Ie=(()=>{class He extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Me=new ve(this,this);return Me.operator=ge,Me}_throwIfClosed(){if(this.closed)throw new _e}next(ge){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ge)}})}error(ge){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ge)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Me,isStopped:Ke,observers:at}=this;return Me||Ke?ae.Lc:(this.currentObservers=null,at.push(ge),new ae.w0(()=>{this.currentObservers=null,(0,m.P)(at,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Me,thrownError:Ke,isStopped:at}=this;Me?ge.error(Ke):at&&ge.complete()}asObservable(){const ge=new w.y;return ge.source=this,ge}}return He.create=(oe,ge)=>new ve(oe,ge),He})();class ve extends Ie{constructor(oe,ge){super(),this.destination=oe,this.source=ge}next(oe){var ge,Me;null===(Me=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Me||Me.call(ge,oe)}error(oe){var ge,Me;null===(Me=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Me||Me.call(ge,oe)}complete(){var oe,ge;null===(ge=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===ge||ge.call(oe)}_subscribe(oe){var ge,Me;return null!==(Me=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(oe))&&void 0!==Me?Me:ae.Lc}}},305:(Kt,qe,U)=>{U.d(qe,{Hp:()=>ke,Lv:()=>Me});var w=U(4674),ae=U(7394),X=U(2653),_e=U(3894),m=U(2420);const we=He("C",void 0,void 0);function He(Ae,ht,je){return{kind:Ae,value:ht,error:je}}var oe=U(7599),ge=U(1441);class Me extends ae.w0{constructor(ht){super(),this.isStopped=!1,ht?(this.destination=ht,(0,ae.Nn)(ht)&&ht.add(this)):this.destination=wt}static create(ht,je,ut){return new ke(ht,je,ut)}next(ht){this.isStopped?Ne(function ve(Ae){return He("N",Ae,void 0)}(ht),this):this._next(ht)}error(ht){this.isStopped?Ne(function Ie(Ae){return He("E",void 0,Ae)}(ht),this):(this.isStopped=!0,this._error(ht))}complete(){this.isStopped?Ne(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ht){this.destination.next(ht)}_error(ht){try{this.destination.error(ht)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function at(Ae,ht){return Ke.call(Ae,ht)}class Tt{constructor(ht){this.partialObserver=ht}next(ht){const{partialObserver:je}=this;if(je.next)try{je.next(ht)}catch(ut){dt(ut)}}error(ht){const{partialObserver:je}=this;if(je.error)try{je.error(ht)}catch(ut){dt(ut)}else dt(ht)}complete(){const{partialObserver:ht}=this;if(ht.complete)try{ht.complete()}catch(je){dt(je)}}}class ke extends Me{constructor(ht,je,ut){let vt;if(super(),(0,w.m)(ht)||!ht)vt={next:ht??void 0,error:je??void 0,complete:ut??void 0};else{let Ee;this&&X.config.useDeprecatedNextContext?(Ee=Object.create(ht),Ee.unsubscribe=()=>this.unsubscribe(),vt={next:ht.next&&at(ht.next,Ee),error:ht.error&&at(ht.error,Ee),complete:ht.complete&&at(ht.complete,Ee)}):vt=ht}this.destination=new Tt(vt)}}function dt(Ae){X.config.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Ae):(0,_e.h)(Ae)}function Ne(Ae,ht){const{onStoppedNotification:je}=X.config;je&&oe.z.setTimeout(()=>je(Ae,ht))}const wt={closed:!0,next:m.Z,error:function Ve(Ae){throw Ae},complete:m.Z}},7394:(Kt,qe,U)=>{U.d(qe,{Lc:()=>we,w0:()=>m,Nn:()=>Ie});var w=U(4674);const X=(0,U(2306).d)(He=>function(ge){He(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Me,Ke)=>`${Ke+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var _e=U(9039);class m{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const at of ge)at.remove(this);else ge.remove(this);const{initialTeardown:Me}=this;if((0,w.m)(Me))try{Me()}catch(at){oe=at instanceof X?at.errors:[at]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const at of Ke)try{ve(at)}catch(Tt){oe=oe??[],Tt instanceof X?oe=[...oe,...Tt.errors]:oe.push(Tt)}}if(oe)throw new X(oe)}}add(oe){var ge;if(oe&&oe!==this)if(this.closed)ve(oe);else{if(oe instanceof m){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(oe)}}_hasParent(oe){const{_parentage:ge}=this;return ge===oe||Array.isArray(ge)&&ge.includes(oe)}_addParent(oe){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(oe),ge):ge?[ge,oe]:oe}_removeParent(oe){const{_parentage:ge}=this;ge===oe?this._parentage=null:Array.isArray(ge)&&(0,_e.P)(ge,oe)}remove(oe){const{_finalizers:ge}=this;ge&&(0,_e.P)(ge,oe),oe instanceof m&&oe._removeParent(this)}}m.EMPTY=(()=>{const He=new m;return He.closed=!0,He})();const we=m.EMPTY;function Ie(He){return He instanceof m||He&&"closed"in He&&(0,w.m)(He.remove)&&(0,w.m)(He.add)&&(0,w.m)(He.unsubscribe)}function ve(He){(0,w.m)(He)?He():He.unsubscribe()}},2653:(Kt,qe,U)=>{U.d(qe,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Kt,qe,U)=>{U.d(qe,{a:()=>oe});var w=U(5592),ae=U(7453),X=U(2459),_e=U(2737),m=U(7400),we=U(9940),Ie=U(2714),ve=U(8251),He=U(7103);function oe(...Ke){const at=(0,we.yG)(Ke),Tt=(0,we.jO)(Ke),{args:ke,keys:dt}=(0,ae.D)(Ke);if(0===ke.length)return(0,X.D)([],at);const Ve=new w.y(function ge(Ke,at,Tt=_e.y){return ke=>{Me(at,()=>{const{length:dt}=Ke,Ve=new Array(dt);let Ne=dt,wt=dt;for(let Ae=0;Ae<dt;Ae++)Me(at,()=>{const ht=(0,X.D)(Ke[Ae],at);let je=!1;ht.subscribe((0,ve.x)(ke,ut=>{Ve[Ae]=ut,je||(je=!0,wt--),wt||ke.next(Tt(Ve.slice()))},()=>{--Ne||ke.complete()}))},ke)},ke)}}(ke,at,dt?Ne=>(0,Ie.n)(dt,Ne):_e.y));return Tt?Ve.pipe((0,m.Z)(Tt)):Ve}function Me(Ke,at,Tt){Ke?(0,He.f)(Tt,Ke,at):at()}},5211:(Kt,qe,U)=>{U.d(qe,{z:()=>m});var w=U(7537),X=U(9940),_e=U(2459);function m(...we){return function ae(){return(0,w.J)(1)}()((0,_e.D)(we,(0,X.yG)(we)))}},6232:(Kt,qe,U)=>{U.d(qe,{E:()=>ae});const ae=new(U(5592).y)(m=>m.complete())},2459:(Kt,qe,U)=>{U.d(qe,{D:()=>ht});var w=U(4829),ae=U(3093),X=U(5137),we=U(5592),ve=U(4971),He=U(4674),oe=U(7103);function Me(je,ut){if(!je)throw new Error("Iterable cannot be null");return new we.y(vt=>{(0,oe.f)(vt,ut,()=>{const Ee=je[Symbol.asyncIterator]();(0,oe.f)(vt,ut,()=>{Ee.next().then(ft=>{ft.done?vt.complete():vt.next(ft.value)})},0,!0)})})}var Ke=U(8382),at=U(4026),Tt=U(4266),ke=U(3664),dt=U(5726),Ve=U(9853),Ne=U(541);function ht(je,ut){return ut?function Ae(je,ut){if(null!=je){if((0,Ke.c)(je))return function _e(je,ut){return(0,w.Xf)(je).pipe((0,X.R)(ut),(0,ae.Q)(ut))}(je,ut);if((0,Tt.z)(je))return function Ie(je,ut){return new we.y(vt=>{let Ee=0;return ut.schedule(function(){Ee===je.length?vt.complete():(vt.next(je[Ee++]),vt.closed||this.schedule())})})}(je,ut);if((0,at.t)(je))return function m(je,ut){return(0,w.Xf)(je).pipe((0,X.R)(ut),(0,ae.Q)(ut))}(je,ut);if((0,dt.D)(je))return Me(je,ut);if((0,ke.T)(je))return function ge(je,ut){return new we.y(vt=>{let Ee;return(0,oe.f)(vt,ut,()=>{Ee=je[ve.h](),(0,oe.f)(vt,ut,()=>{let ft,St;try{({value:ft,done:St}=Ee.next())}catch(zt){return void vt.error(zt)}St?vt.complete():vt.next(ft)},0,!0)}),()=>(0,He.m)(Ee?.return)&&Ee.return()})}(je,ut);if((0,Ne.L)(je))return function wt(je,ut){return Me((0,Ne.Q)(je),ut)}(je,ut)}throw(0,Ve.z)(je)}(je,ut):(0,w.Xf)(je)}},4829:(Kt,qe,U)=>{U.d(qe,{Xf:()=>Ke});var w=U(7582),ae=U(4266),X=U(4026),_e=U(5592),m=U(8382),we=U(5726),Ie=U(9853),ve=U(3664),He=U(541),oe=U(4674),ge=U(3894),Me=U(4850);function Ke(Ae){if(Ae instanceof _e.y)return Ae;if(null!=Ae){if((0,m.c)(Ae))return function at(Ae){return new _e.y(ht=>{const je=Ae[Me.L]();if((0,oe.m)(je.subscribe))return je.subscribe(ht);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ae.z)(Ae))return function Tt(Ae){return new _e.y(ht=>{for(let je=0;je<Ae.length&&!ht.closed;je++)ht.next(Ae[je]);ht.complete()})}(Ae);if((0,X.t)(Ae))return function ke(Ae){return new _e.y(ht=>{Ae.then(je=>{ht.closed||(ht.next(je),ht.complete())},je=>ht.error(je)).then(null,ge.h)})}(Ae);if((0,we.D)(Ae))return Ve(Ae);if((0,ve.T)(Ae))return function dt(Ae){return new _e.y(ht=>{for(const je of Ae)if(ht.next(je),ht.closed)return;ht.complete()})}(Ae);if((0,He.L)(Ae))return function Ne(Ae){return Ve((0,He.Q)(Ae))}(Ae)}throw(0,Ie.z)(Ae)}function Ve(Ae){return new _e.y(ht=>{(function wt(Ae,ht){var je,ut,vt,Ee;return(0,w.mG)(this,void 0,void 0,function*(){try{for(je=(0,w.KL)(Ae);!(ut=yield je.next()).done;)if(ht.next(ut.value),ht.closed)return}catch(ft){vt={error:ft}}finally{try{ut&&!ut.done&&(Ee=je.return)&&(yield Ee.call(je))}finally{if(vt)throw vt.error}}ht.complete()})})(Ae,ht).catch(je=>ht.error(je))})}},3019:(Kt,qe,U)=>{U.d(qe,{T:()=>we});var w=U(7537),ae=U(4829),X=U(6232),_e=U(9940),m=U(2459);function we(...Ie){const ve=(0,_e.yG)(Ie),He=(0,_e._6)(Ie,1/0),oe=Ie;return oe.length?1===oe.length?(0,ae.Xf)(oe[0]):(0,w.J)(He)((0,m.D)(oe,ve)):X.E}},2096:(Kt,qe,U)=>{U.d(qe,{of:()=>X});var w=U(9940),ae=U(2459);function X(..._e){const m=(0,w.yG)(_e);return(0,ae.D)(_e,m)}},8504:(Kt,qe,U)=>{U.d(qe,{_:()=>X});var w=U(5592),ae=U(4674);function X(_e,m){const we=(0,ae.m)(_e)?_e:()=>_e,Ie=ve=>ve.error(we());return new w.y(m?ve=>m.schedule(Ie,0,ve):Ie)}},8251:(Kt,qe,U)=>{U.d(qe,{x:()=>ae});var w=U(305);function ae(_e,m,we,Ie,ve){return new X(_e,m,we,Ie,ve)}class X extends w.Lv{constructor(m,we,Ie,ve,He,oe){super(m),this.onFinalize=He,this.shouldUnsubscribe=oe,this._next=we?function(ge){try{we(ge)}catch(Me){m.error(Me)}}:super._next,this._error=ve?function(ge){try{ve(ge)}catch(Me){m.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ge){m.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}},6306:(Kt,qe,U)=>{U.d(qe,{K:()=>_e});var w=U(4829),ae=U(8251),X=U(9360);function _e(m){return(0,X.e)((we,Ie)=>{let oe,ve=null,He=!1;ve=we.subscribe((0,ae.x)(Ie,void 0,void 0,ge=>{oe=(0,w.Xf)(m(ge,_e(m)(we))),ve?(ve.unsubscribe(),ve=null,oe.subscribe(Ie)):He=!0})),He&&(ve.unsubscribe(),ve=null,oe.subscribe(Ie))})}},6328:(Kt,qe,U)=>{U.d(qe,{b:()=>X});var w=U(1631),ae=U(4674);function X(_e,m){return(0,ae.m)(m)?(0,w.z)(_e,m,1):(0,w.z)(_e,1)}},3572:(Kt,qe,U)=>{U.d(qe,{d:()=>X});var w=U(9360),ae=U(8251);function X(_e){return(0,w.e)((m,we)=>{let Ie=!1;m.subscribe((0,ae.x)(we,ve=>{Ie=!0,we.next(ve)},()=>{Ie||we.next(_e),we.complete()}))})}},3997:(Kt,qe,U)=>{U.d(qe,{x:()=>_e});var w=U(2737),ae=U(9360),X=U(8251);function _e(we,Ie=w.y){return we=we??m,(0,ae.e)((ve,He)=>{let oe,ge=!0;ve.subscribe((0,X.x)(He,Me=>{const Ke=Ie(Me);(ge||!we(oe,Ke))&&(ge=!1,oe=Ke,He.next(Me))}))})}function m(we,Ie){return we===Ie}},2181:(Kt,qe,U)=>{U.d(qe,{h:()=>X});var w=U(9360),ae=U(8251);function X(_e,m){return(0,w.e)((we,Ie)=>{let ve=0;we.subscribe((0,ae.x)(Ie,He=>_e.call(m,He,ve++)&&Ie.next(He)))})}},4716:(Kt,qe,U)=>{U.d(qe,{x:()=>ae});var w=U(9360);function ae(X){return(0,w.e)((_e,m)=>{try{_e.subscribe(m)}finally{m.add(X)}})}},1374:(Kt,qe,U)=>{U.d(qe,{P:()=>Ie});var w=U(6973),ae=U(2181),X=U(8180),_e=U(3572),m=U(3026),we=U(2737);function Ie(ve,He){const oe=arguments.length>=2;return ge=>ge.pipe(ve?(0,ae.h)((Me,Ke)=>ve(Me,Ke,ge)):we.y,(0,X.q)(1),oe?(0,_e.d)(He):(0,m.T)(()=>new w.K))}},7398:(Kt,qe,U)=>{U.d(qe,{U:()=>X});var w=U(9360),ae=U(8251);function X(_e,m){return(0,w.e)((we,Ie)=>{let ve=0;we.subscribe((0,ae.x)(Ie,He=>{Ie.next(_e.call(m,He,ve++))}))})}},7537:(Kt,qe,U)=>{U.d(qe,{J:()=>X});var w=U(1631),ae=U(2737);function X(_e=1/0){return(0,w.z)(ae.y,_e)}},1631:(Kt,qe,U)=>{U.d(qe,{z:()=>ve});var w=U(7398),ae=U(4829),X=U(9360),_e=U(7103),m=U(8251),Ie=U(4674);function ve(He,oe,ge=1/0){return(0,Ie.m)(oe)?ve((Me,Ke)=>(0,w.U)((at,Tt)=>oe(Me,at,Ke,Tt))((0,ae.Xf)(He(Me,Ke))),ge):("number"==typeof oe&&(ge=oe),(0,X.e)((Me,Ke)=>function we(He,oe,ge,Me,Ke,at,Tt,ke){const dt=[];let Ve=0,Ne=0,wt=!1;const Ae=()=>{wt&&!dt.length&&!Ve&&oe.complete()},ht=ut=>Ve<Me?je(ut):dt.push(ut),je=ut=>{at&&oe.next(ut),Ve++;let vt=!1;(0,ae.Xf)(ge(ut,Ne++)).subscribe((0,m.x)(oe,Ee=>{Ke?.(Ee),at?ht(Ee):oe.next(Ee)},()=>{vt=!0},void 0,()=>{if(vt)try{for(Ve--;dt.length&&Ve<Me;){const Ee=dt.shift();Tt?(0,_e.f)(oe,Tt,()=>je(Ee)):je(Ee)}Ae()}catch(Ee){oe.error(Ee)}}))};return He.subscribe((0,m.x)(oe,ht,()=>{wt=!0,Ae()})),()=>{ke?.()}}(Me,Ke,He,ge)))}},3093:(Kt,qe,U)=>{U.d(qe,{Q:()=>_e});var w=U(7103),ae=U(9360),X=U(8251);function _e(m,we=0){return(0,ae.e)((Ie,ve)=>{Ie.subscribe((0,X.x)(ve,He=>(0,w.f)(ve,m,()=>ve.next(He),we),()=>(0,w.f)(ve,m,()=>ve.complete(),we),He=>(0,w.f)(ve,m,()=>ve.error(He),we)))})}},6699:(Kt,qe,U)=>{U.d(qe,{R:()=>_e});var w=U(9360),ae=U(8251);function _e(m,we){return(0,w.e)(function X(m,we,Ie,ve,He){return(oe,ge)=>{let Me=Ie,Ke=we,at=0;oe.subscribe((0,ae.x)(ge,Tt=>{const ke=at++;Ke=Me?m(Ke,Tt,ke):(Me=!0,Tt),ve&&ge.next(Ke)},He&&(()=>{Me&&ge.next(Ke),ge.complete()})))}}(m,we,arguments.length>=2,!0))}},3020:(Kt,qe,U)=>{U.d(qe,{B:()=>m});var w=U(4829),ae=U(8645),X=U(305),_e=U(9360);function m(Ie={}){const{connector:ve=(()=>new ae.x),resetOnError:He=!0,resetOnComplete:oe=!0,resetOnRefCountZero:ge=!0}=Ie;return Me=>{let Ke,at,Tt,ke=0,dt=!1,Ve=!1;const Ne=()=>{at?.unsubscribe(),at=void 0},wt=()=>{Ne(),Ke=Tt=void 0,dt=Ve=!1},Ae=()=>{const ht=Ke;wt(),ht?.unsubscribe()};return(0,_e.e)((ht,je)=>{ke++,!Ve&&!dt&&Ne();const ut=Tt=Tt??ve();je.add(()=>{ke--,0===ke&&!Ve&&!dt&&(at=we(Ae,ge))}),ut.subscribe(je),!Ke&&ke>0&&(Ke=new X.Hp({next:vt=>ut.next(vt),error:vt=>{Ve=!0,Ne(),at=we(wt,He,vt),ut.error(vt)},complete:()=>{dt=!0,Ne(),at=we(wt,oe),ut.complete()}}),(0,w.Xf)(ht).subscribe(Ke))})(Me)}}function we(Ie,ve,...He){if(!0===ve)return void Ie();if(!1===ve)return;const oe=new X.Hp({next:()=>{oe.unsubscribe(),Ie()}});return(0,w.Xf)(ve(...He)).subscribe(oe)}},7921:(Kt,qe,U)=>{U.d(qe,{O:()=>_e});var w=U(5211),ae=U(9940),X=U(9360);function _e(...m){const we=(0,ae.yG)(m);return(0,X.e)((Ie,ve)=>{(we?(0,w.z)(m,Ie,we):(0,w.z)(m,Ie)).subscribe(ve)})}},5137:(Kt,qe,U)=>{U.d(qe,{R:()=>ae});var w=U(9360);function ae(X,_e=0){return(0,w.e)((m,we)=>{we.add(X.schedule(()=>m.subscribe(we),_e))})}},4664:(Kt,qe,U)=>{U.d(qe,{w:()=>_e});var w=U(4829),ae=U(9360),X=U(8251);function _e(m,we){return(0,ae.e)((Ie,ve)=>{let He=null,oe=0,ge=!1;const Me=()=>ge&&!He&&ve.complete();Ie.subscribe((0,X.x)(ve,Ke=>{He?.unsubscribe();let at=0;const Tt=oe++;(0,w.Xf)(m(Ke,Tt)).subscribe(He=(0,X.x)(ve,ke=>ve.next(we?we(Ke,ke,Tt,at++):ke),()=>{He=null,Me()}))},()=>{ge=!0,Me()}))})}},8180:(Kt,qe,U)=>{U.d(qe,{q:()=>_e});var w=U(6232),ae=U(9360),X=U(8251);function _e(m){return m<=0?()=>w.E:(0,ae.e)((we,Ie)=>{let ve=0;we.subscribe((0,X.x)(Ie,He=>{++ve<=m&&(Ie.next(He),m<=ve&&Ie.complete())}))})}},9773:(Kt,qe,U)=>{U.d(qe,{R:()=>m});var w=U(9360),ae=U(8251),X=U(4829),_e=U(2420);function m(we){return(0,w.e)((Ie,ve)=>{(0,X.Xf)(we).subscribe((0,ae.x)(ve,()=>ve.complete(),_e.Z)),!ve.closed&&Ie.subscribe(ve)})}},9397:(Kt,qe,U)=>{U.d(qe,{b:()=>m});var w=U(4674),ae=U(9360),X=U(8251),_e=U(2737);function m(we,Ie,ve){const He=(0,w.m)(we)||Ie||ve?{next:we,error:Ie,complete:ve}:we;return He?(0,ae.e)((oe,ge)=>{var Me;null===(Me=He.subscribe)||void 0===Me||Me.call(He);let Ke=!0;oe.subscribe((0,X.x)(ge,at=>{var Tt;null===(Tt=He.next)||void 0===Tt||Tt.call(He,at),ge.next(at)},()=>{var at;Ke=!1,null===(at=He.complete)||void 0===at||at.call(He),ge.complete()},at=>{var Tt;Ke=!1,null===(Tt=He.error)||void 0===Tt||Tt.call(He,at),ge.error(at)},()=>{var at,Tt;Ke&&(null===(at=He.unsubscribe)||void 0===at||at.call(He)),null===(Tt=He.finalize)||void 0===Tt||Tt.call(He)}))}):_e.y}},3026:(Kt,qe,U)=>{U.d(qe,{T:()=>_e});var w=U(6973),ae=U(9360),X=U(8251);function _e(we=m){return(0,ae.e)((Ie,ve)=>{let He=!1;Ie.subscribe((0,X.x)(ve,oe=>{He=!0,ve.next(oe)},()=>He?ve.complete():ve.error(we())))})}function m(){return new w.K}},1954:(Kt,qe,U)=>{U.d(qe,{o:()=>m});var w=U(7394);class ae extends w.w0{constructor(Ie,ve){super()}schedule(Ie,ve=0){return this}}const X={setInterval(we,Ie,...ve){const{delegate:He}=X;return He?.setInterval?He.setInterval(we,Ie,...ve):setInterval(we,Ie,...ve)},clearInterval(we){const{delegate:Ie}=X;return(Ie?.clearInterval||clearInterval)(we)},delegate:void 0};var _e=U(9039);class m extends ae{constructor(Ie,ve){super(Ie,ve),this.scheduler=Ie,this.work=ve,this.pending=!1}schedule(Ie,ve=0){var He;if(this.closed)return this;this.state=Ie;const oe=this.id,ge=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(ge,oe,ve)),this.pending=!0,this.delay=ve,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(ge,this.id,ve),this}requestAsyncId(Ie,ve,He=0){return X.setInterval(Ie.flush.bind(Ie,this),He)}recycleAsyncId(Ie,ve,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return ve;null!=ve&&X.clearInterval(ve)}execute(Ie,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Ie,ve);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,ve){let oe,He=!1;try{this.work(Ie)}catch(ge){He=!0,oe=ge||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:ve}=this,{actions:He}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(He,this),null!=Ie&&(this.id=this.recycleAsyncId(ve,Ie,null)),this.delay=null,super.unsubscribe()}}}},2631:(Kt,qe,U)=>{U.d(qe,{v:()=>X});var w=U(4552);class ae{constructor(m,we=ae.now){this.schedulerActionCtor=m,this.now=we}schedule(m,we=0,Ie){return new this.schedulerActionCtor(this,m).schedule(Ie,we)}}ae.now=w.l.now;class X extends ae{constructor(m,we=ae.now){super(m,we),this.actions=[],this._active=!1}flush(m){const{actions:we}=this;if(this._active)return void we.push(m);let Ie;this._active=!0;do{if(Ie=m.execute(m.state,m.delay))break}while(m=we.shift());if(this._active=!1,Ie){for(;m=we.shift();)m.unsubscribe();throw Ie}}}},6321:(Kt,qe,U)=>{U.d(qe,{P:()=>_e,z:()=>X});var w=U(1954);const X=new(U(2631).v)(w.o),_e=X},4552:(Kt,qe,U)=>{U.d(qe,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},7599:(Kt,qe,U)=>{U.d(qe,{z:()=>w});const w={setTimeout(ae,X,..._e){const{delegate:m}=w;return m?.setTimeout?m.setTimeout(ae,X,..._e):setTimeout(ae,X,..._e)},clearTimeout(ae){const{delegate:X}=w;return(X?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4971:(Kt,qe,U)=>{U.d(qe,{h:()=>ae});const ae=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Kt,qe,U)=>{U.d(qe,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Kt,qe,U)=>{U.d(qe,{K:()=>ae});const ae=(0,U(2306).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Kt,qe,U)=>{U.d(qe,{_6:()=>we,jO:()=>_e,yG:()=>m});var w=U(4674),ae=U(671);function X(Ie){return Ie[Ie.length-1]}function _e(Ie){return(0,w.m)(X(Ie))?Ie.pop():void 0}function m(Ie){return(0,ae.K)(X(Ie))?Ie.pop():void 0}function we(Ie,ve){return"number"==typeof X(Ie)?Ie.pop():ve}},7453:(Kt,qe,U)=>{U.d(qe,{D:()=>m});const{isArray:w}=Array,{getPrototypeOf:ae,prototype:X,keys:_e}=Object;function m(Ie){if(1===Ie.length){const ve=Ie[0];if(w(ve))return{args:ve,keys:null};if(function we(Ie){return Ie&&"object"==typeof Ie&&ae(Ie)===X}(ve)){const He=_e(ve);return{args:He.map(oe=>ve[oe]),keys:He}}}return{args:Ie,keys:null}}},9039:(Kt,qe,U)=>{function w(ae,X){if(ae){const _e=ae.indexOf(X);0<=_e&&ae.splice(_e,1)}}U.d(qe,{P:()=>w})},2306:(Kt,qe,U)=>{function w(ae){const _e=ae(m=>{Error.call(m),m.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}U.d(qe,{d:()=>w})},2714:(Kt,qe,U)=>{function w(ae,X){return ae.reduce((_e,m,we)=>(_e[m]=X[we],_e),{})}U.d(qe,{n:()=>w})},1441:(Kt,qe,U)=>{U.d(qe,{O:()=>_e,x:()=>X});var w=U(2653);let ae=null;function X(m){if(w.config.useDeprecatedSynchronousErrorHandling){const we=!ae;if(we&&(ae={errorThrown:!1,error:null}),m(),we){const{errorThrown:Ie,error:ve}=ae;if(ae=null,Ie)throw ve}}else m()}function _e(m){w.config.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=m)}},7103:(Kt,qe,U)=>{function w(ae,X,_e,m=0,we=!1){const Ie=X.schedule(function(){_e(),we?ae.add(this.schedule(null,m)):this.unsubscribe()},m);if(ae.add(Ie),!we)return Ie}U.d(qe,{f:()=>w})},2737:(Kt,qe,U)=>{function w(ae){return ae}U.d(qe,{y:()=>w})},4266:(Kt,qe,U)=>{U.d(qe,{z:()=>w});const w=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},5726:(Kt,qe,U)=>{U.d(qe,{D:()=>ae});var w=U(4674);function ae(X){return Symbol.asyncIterator&&(0,w.m)(X?.[Symbol.asyncIterator])}},4674:(Kt,qe,U)=>{function w(ae){return"function"==typeof ae}U.d(qe,{m:()=>w})},8382:(Kt,qe,U)=>{U.d(qe,{c:()=>X});var w=U(4850),ae=U(4674);function X(_e){return(0,ae.m)(_e[w.L])}},3664:(Kt,qe,U)=>{U.d(qe,{T:()=>X});var w=U(4971),ae=U(4674);function X(_e){return(0,ae.m)(_e?.[w.h])}},4026:(Kt,qe,U)=>{U.d(qe,{t:()=>ae});var w=U(4674);function ae(X){return(0,w.m)(X?.then)}},541:(Kt,qe,U)=>{U.d(qe,{L:()=>_e,Q:()=>X});var w=U(7582),ae=U(4674);function X(m){return(0,w.FC)(this,arguments,function*(){const Ie=m.getReader();try{for(;;){const{value:ve,done:He}=yield(0,w.qq)(Ie.read());if(He)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ve)}}finally{Ie.releaseLock()}})}function _e(m){return(0,ae.m)(m?.getReader)}},671:(Kt,qe,U)=>{U.d(qe,{K:()=>ae});var w=U(4674);function ae(X){return X&&(0,w.m)(X.schedule)}},9360:(Kt,qe,U)=>{U.d(qe,{A:()=>ae,e:()=>X});var w=U(4674);function ae(_e){return(0,w.m)(_e?.lift)}function X(_e){return m=>{if(ae(m))return m.lift(function(we){try{return _e(we,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Kt,qe,U)=>{U.d(qe,{Z:()=>_e});var w=U(7398);const{isArray:ae}=Array;function _e(m){return(0,w.U)(we=>function X(m,we){return ae(we)?m(...we):m(we)}(m,we))}},2420:(Kt,qe,U)=>{function w(){}U.d(qe,{Z:()=>w})},8407:(Kt,qe,U)=>{U.d(qe,{U:()=>X,z:()=>ae});var w=U(2737);function ae(..._e){return X(_e)}function X(_e){return 0===_e.length?w.y:1===_e.length?_e[0]:function(we){return _e.reduce((Ie,ve)=>ve(Ie),we)}}},3894:(Kt,qe,U)=>{U.d(qe,{h:()=>X});var w=U(2653),ae=U(7599);function X(_e){ae.z.setTimeout(()=>{const{onUnhandledError:m}=w.config;if(!m)throw _e;m(_e)})}},9853:(Kt,qe,U)=>{function w(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(qe,{z:()=>w})},6814:(Kt,qe,U)=>{U.d(qe,{Do:()=>ke,EM:()=>ss,H9:()=>Jr,HT:()=>_e,JF:()=>Uo,K0:()=>we,Mx:()=>xi,NF:()=>Ea,Nd:()=>ho,O5:()=>oi,PC:()=>Er,PM:()=>io,S$:()=>Ke,V_:()=>ve,Ye:()=>dt,b0:()=>Tt,bD:()=>ys,ez:()=>Di,gd:()=>fl,mk:()=>lr,q:()=>X,sg:()=>Rr,tP:()=>Br,w_:()=>m});var w=U(5879);let ae=null;function X(){return ae}function _e(x){ae||(ae=x)}class m{}const we=new w.OlP("DocumentToken");let Ie=(()=>{var x;class G{historyGo(B){throw new Error("Not implemented")}}return(x=G).\u0275fac=function(B){return new(B||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(He)},providedIn:"platform"}),G})();const ve=new w.OlP("Location Initialized");let He=(()=>{var x;class G extends Ie{constructor(){super(),this._doc=(0,w.f3M)(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(B){const he=X().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",B,!1),()=>he.removeEventListener("popstate",B)}onHashChange(B){const he=X().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",B,!1),()=>he.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,he,Pe){this._history.pushState(B,he,Pe)}replaceState(B,he,Pe){this._history.replaceState(B,he,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return(x=G).\u0275fac=function(B){return new(B||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return new x},providedIn:"platform"}),G})();function oe(x,G){if(0==x.length)return G;if(0==G.length)return x;let me=0;return x.endsWith("/")&&me++,G.startsWith("/")&&me++,2==me?x+G.substring(1):1==me?x+G:x+"/"+G}function ge(x){const G=x.match(/#|\?|$/),me=G&&G.index||x.length;return x.slice(0,me-("/"===x[me-1]?1:0))+x.slice(me)}function Me(x){return x&&"?"!==x[0]?"?"+x:x}let Ke=(()=>{var x;class G{historyGo(B){throw new Error("Not implemented")}}return(x=G).\u0275fac=function(B){return new(B||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Tt)},providedIn:"root"}),G})();const at=new w.OlP("appBaseHref");let Tt=(()=>{var x;class G extends Ke{constructor(B,he){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=he??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return oe(this._baseHref,B)}path(B=!1){const he=this._platformLocation.pathname+Me(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&B?`${he}${Pe}`:he}pushState(B,he,Pe,Et){const Jt=this.prepareExternalUrl(Pe+Me(Et));this._platformLocation.pushState(B,he,Jt)}replaceState(B,he,Pe,Et){const Jt=this.prepareExternalUrl(Pe+Me(Et));this._platformLocation.replaceState(B,he,Jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return(x=G).\u0275fac=function(B){return new(B||x)(w.LFG(Ie),w.LFG(at,8))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),G})(),ke=(()=>{var x;class G extends Ke{constructor(B,he){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(B){const he=oe(this._baseHref,B);return he.length>0?"#"+he:he}pushState(B,he,Pe,Et){let Jt=this.prepareExternalUrl(Pe+Me(Et));0==Jt.length&&(Jt=this._platformLocation.pathname),this._platformLocation.pushState(B,he,Jt)}replaceState(B,he,Pe,Et){let Jt=this.prepareExternalUrl(Pe+Me(Et));0==Jt.length&&(Jt=this._platformLocation.pathname),this._platformLocation.replaceState(B,he,Jt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return(x=G).\u0275fac=function(B){return new(B||x)(w.LFG(Ie),w.LFG(at,8))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),G})(),dt=(()=>{var x;class G{constructor(B){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const he=this._locationStrategy.getBaseHref();this._basePath=function Ae(x){if(new RegExp("^(https?:)?//").test(x)){const[,me]=x.split(/\/\/[^\/]+/);return me}return x}(ge(wt(he))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,he=""){return this.path()==this.normalize(B+Me(he))}normalize(B){return G.stripTrailingSlash(function Ne(x,G){if(!x||!G.startsWith(x))return G;const me=G.substring(x.length);return""===me||["/",";","?","#"].includes(me[0])?me:G}(this._basePath,wt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,he="",Pe=null){this._locationStrategy.pushState(Pe,"",B,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Me(he)),Pe)}replaceState(B,he="",Pe=null){this._locationStrategy.replaceState(Pe,"",B,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Me(he)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)})),()=>{const he=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(he,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",he){this._urlChangeListeners.forEach(Pe=>Pe(B,he))}subscribe(B,he,Pe){return this._subject.subscribe({next:B,error:he,complete:Pe})}}return(x=G).normalizeQueryParams=Me,x.joinWithSlash=oe,x.stripTrailingSlash=ge,x.\u0275fac=function(B){return new(B||x)(w.LFG(Ke))},x.\u0275prov=w.Yz7({token:x,factory:function(){return function Ve(){return new dt((0,w.LFG)(Ke))}()},providedIn:"root"}),G})();function wt(x){return x.replace(/\/index.html$/,"")}const ht={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=function(x){return x[x.Decimal=0]="Decimal",x[x.Percent=1]="Percent",x[x.Currency=2]="Currency",x[x.Scientific=3]="Scientific",x}(je||{}),St=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(St||{});function yt(x,G){const me=(0,w.cg1)(x),B=me[w.wAp.NumberSymbols][G];if(typeof B>"u"){if(G===St.CurrencyDecimal)return me[w.wAp.NumberSymbols][St.Decimal];if(G===St.CurrencyGroup)return me[w.wAp.NumberSymbols][St.Group]}return B}const j=/^(\d+)?\.((\d+)(-(\d+))?)?$/,de=22,Oe=".",ot="0",$t=";",Rt=",",An="#";function se(x,G,me,B,he){const Et=function De(x,G="-"){const me={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},B=x.split($t),he=B[0],Pe=B[1],Et=-1!==he.indexOf(Oe)?he.split(Oe):[he.substring(0,he.lastIndexOf(ot)+1),he.substring(he.lastIndexOf(ot)+1)],Jt=Et[0],Mr=Et[1]||"";me.posPre=Jt.substring(0,Jt.indexOf(An));for(let Xr=0;Xr<Mr.length;Xr++){const xn=Mr.charAt(Xr);xn===ot?me.minFrac=me.maxFrac=Xr+1:xn===An?me.maxFrac=Xr+1:me.posSuf+=xn}const Gr=Jt.split(Rt);if(me.gSize=Gr[1]?Gr[1].length:0,me.lgSize=Gr[2]||Gr[1]?(Gr[2]||Gr[1]).length:0,Pe){const Xr=he.length-me.posPre.length-me.posSuf.length,xn=Pe.indexOf(An);me.negPre=Pe.substring(0,xn).replace(/'/g,""),me.negSuf=Pe.slice(xn+Xr).replace(/'/g,"")}else me.negPre=G+me.posPre,me.negSuf=me.posSuf;return me}(function Mt(x,G){return(0,w.cg1)(x)[w.wAp.NumberFormats][G]}(G,je.Currency),yt(G,St.MinusSign));return Et.minFrac=function yr(x){let G;const me=ht[x];return me&&(G=me[2]),"number"==typeof G?G:2}(B),Et.maxFrac=Et.minFrac,function Re(x,G,me,B,he,Pe,Et=!1){let Jt="",Mr=!1;if(isFinite(x)){let Gr=function Ct(x){let B,he,Pe,Et,Jt,G=Math.abs(x)+"",me=0;for((he=G.indexOf(Oe))>-1&&(G=G.replace(Oe,"")),(Pe=G.search(/e/i))>0?(he<0&&(he=Pe),he+=+G.slice(Pe+1),G=G.substring(0,Pe)):he<0&&(he=G.length),Pe=0;G.charAt(Pe)===ot;Pe++);if(Pe===(Jt=G.length))B=[0],he=1;else{for(Jt--;G.charAt(Jt)===ot;)Jt--;for(he-=Pe,B=[],Et=0;Pe<=Jt;Pe++,Et++)B[Et]=Number(G.charAt(Pe))}return he>de&&(B=B.splice(0,de-1),me=he-1,he=1),{digits:B,exponent:me,integerLen:he}}(x);Et&&(Gr=function Ue(x){if(0===x.digits[0])return x;const G=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===G?x.digits.push(0,0):1===G&&x.digits.push(0),x.integerLen+=2),x}(Gr));let Xr=G.minInt,xn=G.minFrac,ii=G.maxFrac;if(Pe){const $i=Pe.match(j);if(null===$i)throw new Error(`${Pe} is not a valid digit info`);const as=$i[1],dn=$i[3],sn=$i[5];null!=as&&(Xr=Pn(as)),null!=dn&&(xn=Pn(dn)),null!=sn?ii=Pn(sn):null!=dn&&xn>ii&&(ii=xn)}!function It(x,G,me){if(G>me)throw new Error(`The minimum number of digits after fraction (${G}) is higher than the maximum (${me}).`);let B=x.digits,he=B.length-x.integerLen;const Pe=Math.min(Math.max(G,he),me);let Et=Pe+x.integerLen,Jt=B[Et];if(Et>0){B.splice(Math.max(x.integerLen,Et));for(let xn=Et;xn<B.length;xn++)B[xn]=0}else{he=Math.max(0,he),x.integerLen=1,B.length=Math.max(1,Et=Pe+1),B[0]=0;for(let xn=1;xn<Et;xn++)B[xn]=0}if(Jt>=5)if(Et-1<0){for(let xn=0;xn>Et;xn--)B.unshift(0),x.integerLen++;B.unshift(1),x.integerLen++}else B[Et-1]++;for(;he<Math.max(0,Pe);he++)B.push(0);let Mr=0!==Pe;const Gr=G+x.integerLen,Xr=B.reduceRight(function(xn,ii,Ir,Ui){return Ui[Ir]=(ii+=xn)<10?ii:ii-10,Mr&&(0===Ui[Ir]&&Ir>=Gr?Ui.pop():Mr=!1),ii>=10?1:0},0);Xr&&(B.unshift(Xr),x.integerLen++)}(Gr,xn,ii);let Ir=Gr.digits,Ui=Gr.integerLen;const ks=Gr.exponent;let Nt=[];for(Mr=Ir.every($i=>!$i);Ui<Xr;Ui++)Ir.unshift(0);for(;Ui<0;Ui++)Ir.unshift(0);Ui>0?Nt=Ir.splice(Ui,Ir.length):(Nt=Ir,Ir=[0]);const ei=[];for(Ir.length>=G.lgSize&&ei.unshift(Ir.splice(-G.lgSize,Ir.length).join(""));Ir.length>G.gSize;)ei.unshift(Ir.splice(-G.gSize,Ir.length).join(""));Ir.length&&ei.unshift(Ir.join("")),Jt=ei.join(yt(me,B)),Nt.length&&(Jt+=yt(me,he)+Nt.join("")),ks&&(Jt+=yt(me,St.Exponential)+"+"+ks)}else Jt=yt(me,St.Infinity);return Jt=x<0&&!Mr?G.negPre+Jt+G.negSuf:G.posPre+Jt+G.posSuf,Jt}(x,Et,G,St.CurrencyGroup,St.CurrencyDecimal,he).replace("\xa4",me).replace("\xa4","").trim()}function Pn(x){const G=parseInt(x);if(isNaN(G))throw new Error("Invalid integer literal when parsing "+x);return G}function xi(x,G){G=encodeURIComponent(G);for(const me of x.split(";")){const B=me.indexOf("="),[he,Pe]=-1==B?[me,""]:[me.slice(0,B),me.slice(B+1)];if(he.trim()===G)return decodeURIComponent(Pe)}return null}const rs=/\s+/,ui=[];let lr=(()=>{var x;class G{constructor(B,he,Pe,Et){this._iterableDiffers=B,this._keyValueDiffers=he,this._ngEl=Pe,this._renderer=Et,this.initialClasses=ui,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(rs):ui}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(rs):B}ngDoCheck(){for(const he of this.initialClasses)this._updateState(he,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const he of B)this._updateState(he,!0);else if(null!=B)for(const he of Object.keys(B))this._updateState(he,!!B[he]);this._applyStateDiff()}_updateState(B,he){const Pe=this.stateMap.get(B);void 0!==Pe?(Pe.enabled!==he&&(Pe.changed=!0,Pe.enabled=he),Pe.touched=!0):this.stateMap.set(B,{enabled:he,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const he=B[0],Pe=B[1];Pe.changed?(this._toggleClass(he,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(he,!1),this.stateMap.delete(he)),Pe.touched=!1}}_toggleClass(B,he){(B=B.trim()).length>0&&B.split(rs).forEach(Pe=>{he?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),G})();class Ss{constructor(G,me,B,he){this.$implicit=G,this.ngForOf=me,this.index=B,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rr=(()=>{var x;class G{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,he,Pe){this._viewContainer=B,this._template=he,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const he=this._viewContainer;B.forEachOperation((Pe,Et,Jt)=>{if(null==Pe.previousIndex)he.createEmbeddedView(this._template,new Ss(Pe.item,this._ngForOf,-1,-1),null===Jt?void 0:Jt);else if(null==Jt)he.remove(null===Et?void 0:Et);else if(null!==Et){const Mr=he.get(Et);he.move(Mr,Jt),Sn(Mr,Pe)}});for(let Pe=0,Et=he.length;Pe<Et;Pe++){const Mr=he.get(Pe).context;Mr.index=Pe,Mr.count=Et,Mr.ngForOf=this._ngForOf}B.forEachIdentityChange(Pe=>{Sn(he.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(B,he){return!0}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),G})();function Sn(x,G){x.context.$implicit=G.item}let oi=(()=>{var x;class G{constructor(B,he){this._viewContainer=B,this._context=new _a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){co("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){co("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,he){return!0}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.s_b),w.Y36(w.Rgc))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),G})();class _a{constructor(){this.$implicit=null,this.ngIf=null}}function co(x,G){if(G&&!G.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,w.AaK)(G)}'.`)}let Er=(()=>{var x;class G{constructor(B,he,Pe){this._ngEl=B,this._differs=he,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,he){const[Pe,Et]=B.split("."),Jt=-1===Pe.indexOf("-")?void 0:w.JOm.DashCase;null!=he?this._renderer.setStyle(this._ngEl.nativeElement,Pe,Et?`${he}${Et}`:he,Jt):this._renderer.removeStyle(this._ngEl.nativeElement,Pe,Jt)}_applyChanges(B){B.forEachRemovedItem(he=>this._setStyle(he.key,null)),B.forEachAddedItem(he=>this._setStyle(he.key,he.currentValue)),B.forEachChangedItem(he=>this._setStyle(he.key,he.currentValue))}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),G})(),Br=(()=>{var x;class G{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const he=this._viewContainerRef;if(this._viewRef&&he.remove(he.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Pe,ngTemplateOutletContext:Et,ngTemplateOutletInjector:Jt}=this;this._viewRef=he.createEmbeddedView(Pe,Et,Jt?{injector:Jt}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.s_b))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),G})();function qr(x,G){return new w.vHH(2100,!1)}let fl=(()=>{var x;class G{transform(B){if(null==B)return null;if("string"!=typeof B)throw qr();return B.toUpperCase()}}return(x=G).\u0275fac=function(B){return new(B||x)},x.\u0275pipe=w.Yjl({name:"uppercase",type:x,pure:!0,standalone:!0}),G})(),ho=(()=>{var x;class G{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=pi}transform(B,he=pi){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Pe=this.differ.diff(B),Et=he!==this.compareFn;return Pe&&(this.keyValues=[],Pe.forEachItem(Jt=>{this.keyValues.push(function Wr(x,G){return{key:x,value:G}}(Jt.key,Jt.currentValue))})),(Pe||Et)&&(this.keyValues.sort(he),this.compareFn=he),this.keyValues}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.aQg,16))},x.\u0275pipe=w.Yjl({name:"keyvalue",type:x,pure:!1,standalone:!0}),G})();function pi(x,G){const me=x.key,B=G.key;if(me===B)return 0;if(void 0===me)return 1;if(void 0===B)return-1;if(null===me)return 1;if(null===B)return-1;if("string"==typeof me&&"string"==typeof B)return me<B?-1:1;if("number"==typeof me&&"number"==typeof B)return me-B;if("boolean"==typeof me&&"boolean"==typeof B)return me<B?-1:1;const he=String(me),Pe=String(B);return he==Pe?0:he<Pe?-1:1}let Jr=(()=>{var x;class G{constructor(B,he="USD"){this._locale=B,this._defaultCurrencyCode=he}transform(B,he=this._defaultCurrencyCode,Pe="symbol",Et,Jt){if(!function Us(x){return!(null==x||""===x||x!=x)}(B))return null;Jt=Jt||this._locale,"boolean"==typeof Pe&&(Pe=Pe?"symbol":"code");let Mr=he||this._defaultCurrencyCode;"code"!==Pe&&(Mr="symbol"===Pe||"symbol-narrow"===Pe?function $r(x,G,me="en"){const B=function vn(x){return(0,w.cg1)(x)[w.wAp.Currencies]}(me)[x]||ht[x]||[],he=B[1];return"narrow"===G&&"string"==typeof he?he:B[0]||x}(Mr,"symbol"===Pe?"wide":"narrow",Jt):Pe);try{return se(function bo(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}(B),Jt,Mr,he,Et)}catch(Gr){throw qr()}}}return(x=G).\u0275fac=function(B){return new(B||x)(w.Y36(w.soG,16),w.Y36(w.EJc,16))},x.\u0275pipe=w.Yjl({name:"currency",type:x,pure:!0,standalone:!0}),G})();let Di=(()=>{var x;class G{}return(x=G).\u0275fac=function(B){return new(B||x)},x.\u0275mod=w.oAB({type:x}),x.\u0275inj=w.cJS({}),G})();const ys="browser",fo="server";function Ea(x){return x===ys}function io(x){return x===fo}let ss=(()=>{var x;class G{}return(x=G).\u0275prov=(0,w.Yz7)({token:x,providedIn:"root",factory:()=>new na((0,w.LFG)(we),window)}),G})();class na{constructor(G,me){this.document=G,this.window=me,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const me=function cu(x,G){const me=x.getElementById(G)||x.getElementsByName(G)[0];if(me)return me;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const B=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let he=B.currentNode;for(;he;){const Pe=he.shadowRoot;if(Pe){const Et=Pe.getElementById(G)||Pe.querySelector(`[name="${G}"]`);if(Et)return Et}he=B.nextNode()}}return null}(this.document,G);me&&(this.scrollToElement(me),me.focus())}setHistoryScrollRestoration(G){this.supportsScrolling()&&(this.window.history.scrollRestoration=G)}scrollToElement(G){const me=G.getBoundingClientRect(),B=me.left+this.window.pageXOffset,he=me.top+this.window.pageYOffset,Pe=this.offset();this.window.scrollTo(B-Pe[0],he-Pe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Uo{}},9862:(Kt,qe,U)=>{U.d(qe,{JF:()=>j,eN:()=>Ze});var w=U(5879),ae=U(2096),X=U(2459),_e=U(5592),m=U(6328),we=U(2181),Ie=U(7398),ve=U(4716),He=U(4664),oe=U(6814);class ge{}class Me{}class Ke{constructor(se){this.normalizedNames=new Map,this.lazyUpdate=null,se?"string"==typeof se?this.lazyInit=()=>{this.headers=new Map,se.split("\n").forEach(W=>{const te=W.indexOf(":");if(te>0){const De=W.slice(0,te),Ue=De.toLowerCase(),Ct=W.slice(te+1).trim();this.maybeSetNormalizedName(De,Ue),this.headers.has(Ue)?this.headers.get(Ue).push(Ct):this.headers.set(Ue,[Ct])}})}:typeof Headers<"u"&&se instanceof Headers?(this.headers=new Map,se.forEach((W,te)=>{this.setHeaderEntries(te,W)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(se).forEach(([W,te])=>{this.setHeaderEntries(W,te)})}:this.headers=new Map}has(se){return this.init(),this.headers.has(se.toLowerCase())}get(se){this.init();const W=this.headers.get(se.toLowerCase());return W&&W.length>0?W[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(se){return this.init(),this.headers.get(se.toLowerCase())||null}append(se,W){return this.clone({name:se,value:W,op:"a"})}set(se,W){return this.clone({name:se,value:W,op:"s"})}delete(se,W){return this.clone({name:se,value:W,op:"d"})}maybeSetNormalizedName(se,W){this.normalizedNames.has(W)||this.normalizedNames.set(W,se)}init(){this.lazyInit&&(this.lazyInit instanceof Ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(se=>this.applyUpdate(se)),this.lazyUpdate=null))}copyFrom(se){se.init(),Array.from(se.headers.keys()).forEach(W=>{this.headers.set(W,se.headers.get(W)),this.normalizedNames.set(W,se.normalizedNames.get(W))})}clone(se){const W=new Ke;return W.lazyInit=this.lazyInit&&this.lazyInit instanceof Ke?this.lazyInit:this,W.lazyUpdate=(this.lazyUpdate||[]).concat([se]),W}applyUpdate(se){const W=se.name.toLowerCase();switch(se.op){case"a":case"s":let te=se.value;if("string"==typeof te&&(te=[te]),0===te.length)return;this.maybeSetNormalizedName(se.name,W);const De=("a"===se.op?this.headers.get(W):void 0)||[];De.push(...te),this.headers.set(W,De);break;case"d":const Ue=se.value;if(Ue){let Ct=this.headers.get(W);if(!Ct)return;Ct=Ct.filter(It=>-1===Ue.indexOf(It)),0===Ct.length?(this.headers.delete(W),this.normalizedNames.delete(W)):this.headers.set(W,Ct)}else this.headers.delete(W),this.normalizedNames.delete(W)}}setHeaderEntries(se,W){const te=(Array.isArray(W)?W:[W]).map(Ue=>Ue.toString()),De=se.toLowerCase();this.headers.set(De,te),this.maybeSetNormalizedName(se,De)}forEach(se){this.init(),Array.from(this.normalizedNames.keys()).forEach(W=>se(this.normalizedNames.get(W),this.headers.get(W)))}}class Tt{encodeKey(se){return Ne(se)}encodeValue(se){return Ne(se)}decodeKey(se){return decodeURIComponent(se)}decodeValue(se){return decodeURIComponent(se)}}const dt=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ne(Re){return encodeURIComponent(Re).replace(dt,(se,W)=>Ve[W]??se)}function wt(Re){return`${Re}`}class Ae{constructor(se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=se.encoder||new Tt,se.fromString){if(se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke(Re,se){const W=new Map;return Re.length>0&&Re.replace(/^\?/,"").split("&").forEach(De=>{const Ue=De.indexOf("="),[Ct,It]=-1==Ue?[se.decodeKey(De),""]:[se.decodeKey(De.slice(0,Ue)),se.decodeValue(De.slice(Ue+1))],Pn=W.get(Ct)||[];Pn.push(It),W.set(Ct,Pn)}),W}(se.fromString,this.encoder)}else se.fromObject?(this.map=new Map,Object.keys(se.fromObject).forEach(W=>{const te=se.fromObject[W],De=Array.isArray(te)?te.map(wt):[wt(te)];this.map.set(W,De)})):this.map=null}has(se){return this.init(),this.map.has(se)}get(se){this.init();const W=this.map.get(se);return W?W[0]:null}getAll(se){return this.init(),this.map.get(se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(se,W){return this.clone({param:se,value:W,op:"a"})}appendAll(se){const W=[];return Object.keys(se).forEach(te=>{const De=se[te];Array.isArray(De)?De.forEach(Ue=>{W.push({param:te,value:Ue,op:"a"})}):W.push({param:te,value:De,op:"a"})}),this.clone(W)}set(se,W){return this.clone({param:se,value:W,op:"s"})}delete(se,W){return this.clone({param:se,value:W,op:"d"})}toString(){return this.init(),this.keys().map(se=>{const W=this.encoder.encodeKey(se);return this.map.get(se).map(te=>W+"="+this.encoder.encodeValue(te)).join("&")}).filter(se=>""!==se).join("&")}clone(se){const W=new Ae({encoder:this.encoder});return W.cloneFrom=this.cloneFrom||this,W.updates=(this.updates||[]).concat(se),W}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(se=>this.map.set(se,this.cloneFrom.map.get(se))),this.updates.forEach(se=>{switch(se.op){case"a":case"s":const W=("a"===se.op?this.map.get(se.param):void 0)||[];W.push(wt(se.value)),this.map.set(se.param,W);break;case"d":if(void 0===se.value){this.map.delete(se.param);break}{let te=this.map.get(se.param)||[];const De=te.indexOf(wt(se.value));-1!==De&&te.splice(De,1),te.length>0?this.map.set(se.param,te):this.map.delete(se.param)}}}),this.cloneFrom=this.updates=null)}}class je{constructor(){this.map=new Map}set(se,W){return this.map.set(se,W),this}get(se){return this.map.has(se)||this.map.set(se,se.defaultValue()),this.map.get(se)}delete(se){return this.map.delete(se),this}has(se){return this.map.has(se)}keys(){return this.map.keys()}}function vt(Re){return typeof ArrayBuffer<"u"&&Re instanceof ArrayBuffer}function Ee(Re){return typeof Blob<"u"&&Re instanceof Blob}function ft(Re){return typeof FormData<"u"&&Re instanceof FormData}class zt{constructor(se,W,te,De){let Ue;if(this.url=W,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=se.toUpperCase(),function ut(Re){switch(Re){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||De?(this.body=void 0!==te?te:null,Ue=De):Ue=te,Ue&&(this.reportProgress=!!Ue.reportProgress,this.withCredentials=!!Ue.withCredentials,Ue.responseType&&(this.responseType=Ue.responseType),Ue.headers&&(this.headers=Ue.headers),Ue.context&&(this.context=Ue.context),Ue.params&&(this.params=Ue.params)),this.headers||(this.headers=new Ke),this.context||(this.context=new je),this.params){const Ct=this.params.toString();if(0===Ct.length)this.urlWithParams=W;else{const It=W.indexOf("?");this.urlWithParams=W+(-1===It?"?":It<W.length-1?"&":"")+Ct}}else this.params=new Ae,this.urlWithParams=W}serializeBody(){return null===this.body?null:vt(this.body)||Ee(this.body)||ft(this.body)||function St(Re){return typeof URLSearchParams<"u"&&Re instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ft(this.body)?null:Ee(this.body)?this.body.type||null:vt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(se={}){const W=se.method||this.method,te=se.url||this.url,De=se.responseType||this.responseType,Ue=void 0!==se.body?se.body:this.body,Ct=void 0!==se.withCredentials?se.withCredentials:this.withCredentials,It=void 0!==se.reportProgress?se.reportProgress:this.reportProgress;let Pn=se.headers||this.headers,cn=se.params||this.params;const Yr=se.context??this.context;return void 0!==se.setHeaders&&(Pn=Object.keys(se.setHeaders).reduce((mi,Ur)=>mi.set(Ur,se.setHeaders[Ur]),Pn)),se.setParams&&(cn=Object.keys(se.setParams).reduce((mi,Ur)=>mi.set(Ur,se.setParams[Ur]),cn)),new zt(W,te,Ue,{params:cn,headers:Pn,context:Yr,reportProgress:It,responseType:De,withCredentials:Ct})}}var _n=function(Re){return Re[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re}(_n||{});class Ln{constructor(se,W=200,te="OK"){this.headers=se.headers||new Ke,this.status=void 0!==se.status?se.status:W,this.statusText=se.statusText||te,this.url=se.url||null,this.ok=this.status>=200&&this.status<300}}class En extends Ln{constructor(se={}){super(se),this.type=_n.ResponseHeader}clone(se={}){return new En({headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class pr extends Ln{constructor(se={}){super(se),this.type=_n.Response,this.body=void 0!==se.body?se.body:null}clone(se={}){return new pr({body:void 0!==se.body?se.body:this.body,headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class tr extends Ln{constructor(se){super(se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${se.url||"(unknown url)"}`:`Http failure response for ${se.url||"(unknown url)"}: ${se.status} ${se.statusText}`,this.error=se.error||null}}function jr(Re,se){return{body:se,headers:Re.headers,context:Re.context,observe:Re.observe,params:Re.params,reportProgress:Re.reportProgress,responseType:Re.responseType,withCredentials:Re.withCredentials}}let Ze=(()=>{var Re;class se{constructor(te){this.handler=te}request(te,De,Ue={}){let Ct;if(te instanceof zt)Ct=te;else{let cn,Yr;cn=Ue.headers instanceof Ke?Ue.headers:new Ke(Ue.headers),Ue.params&&(Yr=Ue.params instanceof Ae?Ue.params:new Ae({fromObject:Ue.params})),Ct=new zt(te,De,void 0!==Ue.body?Ue.body:null,{headers:cn,context:Ue.context,params:Yr,reportProgress:Ue.reportProgress,responseType:Ue.responseType||"json",withCredentials:Ue.withCredentials})}const It=(0,ae.of)(Ct).pipe((0,m.b)(cn=>this.handler.handle(cn)));if(te instanceof zt||"events"===Ue.observe)return It;const Pn=It.pipe((0,we.h)(cn=>cn instanceof pr));switch(Ue.observe||"body"){case"body":switch(Ct.responseType){case"arraybuffer":return Pn.pipe((0,Ie.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return Pn.pipe((0,Ie.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return Pn.pipe((0,Ie.U)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));default:return Pn.pipe((0,Ie.U)(cn=>cn.body))}case"response":return Pn;default:throw new Error(`Unreachable: unhandled observe type ${Ue.observe}}`)}}delete(te,De={}){return this.request("DELETE",te,De)}get(te,De={}){return this.request("GET",te,De)}head(te,De={}){return this.request("HEAD",te,De)}jsonp(te,De){return this.request("JSONP",te,{params:(new Ae).append(De,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,De={}){return this.request("OPTIONS",te,De)}patch(te,De,Ue={}){return this.request("PATCH",te,jr(Ue,De))}post(te,De,Ue={}){return this.request("POST",te,jr(Ue,De))}put(te,De,Ue={}){return this.request("PUT",te,jr(Ue,De))}}return(Re=se).\u0275fac=function(te){return new(te||Re)(w.LFG(ge))},Re.\u0275prov=w.Yz7({token:Re,factory:Re.\u0275fac}),se})();function en(Re,se){return se(Re)}function vn(Re,se){return(W,te)=>se.intercept(W,{handle:De=>Re(De,te)})}const Qt=new w.OlP(""),Jn=new w.OlP(""),rr=new w.OlP("");function Xn(){let Re=null;return(se,W)=>{null===Re&&(Re=((0,w.f3M)(Qt,{optional:!0})??[]).reduceRight(vn,en));const te=(0,w.f3M)(w.HDt),De=te.add();return Re(se,W).pipe((0,ve.x)(()=>te.remove(De)))}}let dr=(()=>{var Re;class se extends ge{constructor(te,De){super(),this.backend=te,this.injector=De,this.chain=null,this.pendingTasks=(0,w.f3M)(w.HDt)}handle(te){if(null===this.chain){const Ue=Array.from(new Set([...this.injector.get(Jn),...this.injector.get(rr,[])]));this.chain=Ue.reduceRight((Ct,It)=>function qn(Re,se,W){return(te,De)=>W.runInContext(()=>se(te,Ue=>Re(Ue,De)))}(Ct,It,this.injector),en)}const De=this.pendingTasks.add();return this.chain(te,Ue=>this.backend.handle(Ue)).pipe((0,ve.x)(()=>this.pendingTasks.remove(De)))}}return(Re=se).\u0275fac=function(te){return new(te||Re)(w.LFG(Me),w.LFG(w.lqb))},Re.\u0275prov=w.Yz7({token:Re,factory:Re.\u0275fac}),se})();const Lr=/^\)\]\}',?\n/;let Nn=(()=>{var Re;class se{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new w.vHH(-2800,!1);const De=this.xhrFactory;return(De.\u0275loadImpl?(0,X.D)(De.\u0275loadImpl()):(0,ae.of)(null)).pipe((0,He.w)(()=>new _e.y(Ct=>{const It=De.build();if(It.open(te.method,te.urlWithParams),te.withCredentials&&(It.withCredentials=!0),te.headers.forEach((lr,ur)=>It.setRequestHeader(lr,ur.join(","))),te.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const lr=te.detectContentTypeHeader();null!==lr&&It.setRequestHeader("Content-Type",lr)}if(te.responseType){const lr=te.responseType.toLowerCase();It.responseType="json"!==lr?lr:"text"}const Pn=te.serializeBody();let cn=null;const Yr=()=>{if(null!==cn)return cn;const lr=It.statusText||"OK",ur=new Ke(It.getAllResponseHeaders()),fi=function On(Re){return"responseURL"in Re&&Re.responseURL?Re.responseURL:/^X-Request-URL:/m.test(Re.getAllResponseHeaders())?Re.getResponseHeader("X-Request-URL"):null}(It)||te.url;return cn=new En({headers:ur,status:It.status,statusText:lr,url:fi}),cn},mi=()=>{let{headers:lr,status:ur,statusText:fi,url:Ss}=Yr(),Rr=null;204!==ur&&(Rr=typeof It.response>"u"?It.responseText:It.response),0===ur&&(ur=Rr?200:0);let Sn=ur>=200&&ur<300;if("json"===te.responseType&&"string"==typeof Rr){const bi=Rr;Rr=Rr.replace(Lr,"");try{Rr=""!==Rr?JSON.parse(Rr):null}catch(oi){Rr=bi,Sn&&(Sn=!1,Rr={error:oi,text:Rr})}}Sn?(Ct.next(new pr({body:Rr,headers:lr,status:ur,statusText:fi,url:Ss||void 0})),Ct.complete()):Ct.error(new tr({error:Rr,headers:lr,status:ur,statusText:fi,url:Ss||void 0}))},Ur=lr=>{const{url:ur}=Yr(),fi=new tr({error:lr,status:It.status||0,statusText:It.statusText||"Unknown Error",url:ur||void 0});Ct.error(fi)};let xi=!1;const rs=lr=>{xi||(Ct.next(Yr()),xi=!0);let ur={type:_n.DownloadProgress,loaded:lr.loaded};lr.lengthComputable&&(ur.total=lr.total),"text"===te.responseType&&It.responseText&&(ur.partialText=It.responseText),Ct.next(ur)},ui=lr=>{let ur={type:_n.UploadProgress,loaded:lr.loaded};lr.lengthComputable&&(ur.total=lr.total),Ct.next(ur)};return It.addEventListener("load",mi),It.addEventListener("error",Ur),It.addEventListener("timeout",Ur),It.addEventListener("abort",Ur),te.reportProgress&&(It.addEventListener("progress",rs),null!==Pn&&It.upload&&It.upload.addEventListener("progress",ui)),It.send(Pn),Ct.next({type:_n.Sent}),()=>{It.removeEventListener("error",Ur),It.removeEventListener("abort",Ur),It.removeEventListener("load",mi),It.removeEventListener("timeout",Ur),te.reportProgress&&(It.removeEventListener("progress",rs),null!==Pn&&It.upload&&It.upload.removeEventListener("progress",ui)),It.readyState!==It.DONE&&It.abort()}})))}}return(Re=se).\u0275fac=function(te){return new(te||Re)(w.LFG(oe.JF))},Re.\u0275prov=w.Yz7({token:Re,factory:Re.\u0275fac}),se})();const vr=new w.OlP("XSRF_ENABLED"),er=new w.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wn=new w.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gr{}let Ti=(()=>{var Re;class se{constructor(te,De,Ue){this.doc=te,this.platform=De,this.cookieName=Ue,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,oe.Mx)(te,this.cookieName),this.lastCookieString=te),this.lastToken}}return(Re=se).\u0275fac=function(te){return new(te||Re)(w.LFG(oe.K0),w.LFG(w.Lbi),w.LFG(er))},Re.\u0275prov=w.Yz7({token:Re,factory:Re.\u0275fac}),se})();function Si(Re,se){const W=Re.url.toLowerCase();if(!(0,w.f3M)(vr)||"GET"===Re.method||"HEAD"===Re.method||W.startsWith("http://")||W.startsWith("https://"))return se(Re);const te=(0,w.f3M)(gr).getToken(),De=(0,w.f3M)(Wn);return null!=te&&!Re.headers.has(De)&&(Re=Re.clone({headers:Re.headers.set(De,te)})),se(Re)}var Un=function(Re){return Re[Re.Interceptors=0]="Interceptors",Re[Re.LegacyInterceptors=1]="LegacyInterceptors",Re[Re.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Re[Re.NoXsrfProtection=3]="NoXsrfProtection",Re[Re.JsonpSupport=4]="JsonpSupport",Re[Re.RequestsMadeViaParent=5]="RequestsMadeViaParent",Re[Re.Fetch=6]="Fetch",Re}(Un||{});function st(Re,se){return{\u0275kind:Re,\u0275providers:se}}function Se(...Re){const se=[Ze,Nn,dr,{provide:ge,useExisting:dr},{provide:Me,useExisting:Nn},{provide:Jn,useValue:Si,multi:!0},{provide:vr,useValue:!0},{provide:gr,useClass:Ti}];for(const W of Re)se.push(...W.\u0275providers);return(0,w.MR2)(se)}const kt=new w.OlP("LEGACY_INTERCEPTOR_FN");let j=(()=>{var Re;class se{}return(Re=se).\u0275fac=function(te){return new(te||Re)},Re.\u0275mod=w.oAB({type:Re}),Re.\u0275inj=w.cJS({providers:[Se(st(Un.LegacyInterceptors,[{provide:kt,useFactory:Xn},{provide:Jn,useExisting:kt,multi:!0}]))]}),se})()},5879:(Kt,qe,U)=>{U.d(qe,{$8M:()=>Li,$WT:()=>Os,$Z:()=>Sh,AFp:()=>Cc,ALo:()=>Lb,AaK:()=>Me,AsE:()=>lv,BQk:()=>em,CHM:()=>wl,CRH:()=>U0,EJc:()=>mC,EpF:()=>Gp,F4k:()=>Pf,FYo:()=>Ag,FiY:()=>pt,Gf:()=>Xu,GfV:()=>wh,Gpc:()=>Tt,HDt:()=>mT,JOm:()=>qf,Jf7:()=>Rg,KtG:()=>Hc,LFG:()=>ot,LSH:()=>Om,Lbi:()=>Ku,Lck:()=>z_,MAs:()=>ev,MGl:()=>N,MMx:()=>Ib,MR2:()=>df,NdJ:()=>nm,Ojb:()=>fp,OlP:()=>ji,Oqu:()=>av,P3R:()=>Nm,PXZ:()=>gA,Q6J:()=>SE,QGY:()=>tm,Qsj:()=>Qv,R0b:()=>Fo,RDi:()=>vw,Rgc:()=>sw,SBq:()=>Od,Sil:()=>vC,Suo:()=>mm,TTD:()=>Xr,TgZ:()=>nv,Udp:()=>Kw,VKq:()=>xb,VuI:()=>WA,X6Q:()=>TA,XFs:()=>wn,Xpm:()=>no,Xq5:()=>Wd,Xts:()=>wg,Y36:()=>Pc,YKP:()=>wb,YNc:()=>A_,Yjl:()=>fl,Yz7:()=>Qt,Z0I:()=>dr,ZZ4:()=>MT,_Bn:()=>Eb,_UZ:()=>Xg,_c5:()=>kA,_uU:()=>OE,aQg:()=>OT,c2e:()=>gT,cJS:()=>rr,cg1:()=>h0,dDg:()=>hA,dqk:()=>Nn,eFA:()=>VC,eJc:()=>nT,ekj:()=>sv,eoX:()=>OC,f3M:()=>Rt,g9A:()=>pf,h0i:()=>Jd,hGG:()=>LA,hij:()=>NE,iGM:()=>V0,ifc:()=>Ue,ip1:()=>pT,jDz:()=>_v,kEZ:()=>G_,kL8:()=>zE,lG2:()=>hl,lcZ:()=>Fb,lqb:()=>nd,lri:()=>wT,n5z:()=>Kc,oAB:()=>lu,oJD:()=>ph,oxw:()=>o,q4F:()=>Cy,qFp:()=>ZA,qLn:()=>Fd,qOj:()=>nu,qZA:()=>x_,rWj:()=>IT,rg0:()=>he,s9C:()=>I,sBO:()=>bA,s_b:()=>P0,soG:()=>cw,tb:()=>CT,tp0:()=>Vt,uIk:()=>Ru,vHH:()=>Ae,vpe:()=>od,wAp:()=>cm,xi3:()=>W_,xp6:()=>Ny,ynx:()=>R_,z2F:()=>Cv,zSh:()=>td,zs3:()=>ol});var w=U(8645),ae=U(7394),X=U(5592),_e=U(3019),m=U(5619),we=U(2096),Ie=U(3020),ve=U(4664),He=U(3997);function oe(i){for(let a in i)if(i[a]===oe)return a;throw Error("Could not find renamed property on target object.")}function ge(i,a){for(const d in a)a.hasOwnProperty(d)&&!i.hasOwnProperty(d)&&(i[d]=a[d])}function Me(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Me).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const a=i.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Ke(i,a){return null==i||""===i?null===a?"":a:null==a||""===a?i:i+" "+a}const at=oe({__forward_ref__:oe});function Tt(i){return i.__forward_ref__=Tt,i.toString=function(){return Me(this())},i}function ke(i){return dt(i)?i():i}function dt(i){return"function"==typeof i&&i.hasOwnProperty(at)&&i.__forward_ref__===Tt}function Ve(i){return i&&!!i.\u0275providers}const wt="https://g.co/ng/security#xss";class Ae extends Error{constructor(a,d){super(function ht(i,a){return`NG0${Math.abs(i)}${a?": "+a:""}`}(a,d)),this.code=a}}function je(i){return"string"==typeof i?i:null==i?"":String(i)}function St(i,a){throw new Ae(-201,!1)}function Lt(i,a){null==i&&function Ot(i,a,d,h){throw new Error(`ASSERTION ERROR: ${i}`+(null==h?"":` [Expected=> ${d} ${h} ${a} <=Actual]`))}(a,i,null,"!=")}function Qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function rr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xn(i){return Hr(i,yr)||Hr(i,hi)}function dr(i){return null!==Xn(i)}function Hr(i,a){return i.hasOwnProperty(a)?i[a]:null}function Ii(i){return i&&(i.hasOwnProperty(ar)||i.hasOwnProperty(zr))?i[ar]:null}const yr=oe({\u0275prov:oe}),ar=oe({\u0275inj:oe}),hi=oe({ngInjectableDef:oe}),zr=oe({ngInjectorDef:oe});var wn=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(wn||{});let nn;function Bn(i){const a=nn;return nn=i,a}function Lr(i,a,d){const h=Xn(i);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&wn.Optional?null:void 0!==a?a:void St(Me(i))}const Nn=globalThis,kt={},rn="__NG_DI_FLAG__",gn="ngTempTokenPath",be=/\n/gm,q="__source";let Z;function de(i){const a=Z;return Z=i,a}function Oe(i,a=wn.Default){if(void 0===Z)throw new Ae(-203,!1);return null===Z?Lr(i,void 0,a):Z.get(i,a&wn.Optional?null:void 0,a)}function ot(i,a=wn.Default){return(function Cn(){return nn}()||Oe)(ke(i),a)}function Rt(i,a=wn.Default){return ot(i,An(a))}function An(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Dn(i){const a=[];for(let d=0;d<i.length;d++){const h=ke(i[d]);if(Array.isArray(h)){if(0===h.length)throw new Ae(900,!1);let g,v=wn.Default;for(let b=0;b<h.length;b++){const A=h[b],L=Re(A);"number"==typeof L?-1===L?g=A.token:v|=L:g=A}a.push(ot(g,v))}else a.push(ot(h))}return a}function jn(i,a){return i[rn]=a,i.prototype[rn]=a,i}function Re(i){return i[rn]}function te(i){return{toString:i}.toString()}var De=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(De||{}),Ue=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ue||{});const Ct={},It=[],Pn=oe({\u0275cmp:oe}),cn=oe({\u0275dir:oe}),Yr=oe({\u0275pipe:oe}),mi=oe({\u0275mod:oe}),Ur=oe({\u0275fac:oe}),xi=oe({__NG_ELEMENT_ID__:oe}),rs=oe({__NG_ENV_ID__:oe});function ui(i,a,d){let h=i.length;for(;;){const g=i.indexOf(a,d);if(-1===g)return g;if(0===g||i.charCodeAt(g-1)<=32){const v=a.length;if(g+v===h||i.charCodeAt(g+v)<=32)return g}d=g+1}}function lr(i,a,d){let h=0;for(;h<d.length;){const g=d[h];if("number"==typeof g){if(0!==g)break;h++;const v=d[h++],b=d[h++],A=d[h++];i.setAttribute(a,b,A,v)}else{const v=g,b=d[++h];fi(v)?i.setProperty(a,v,b):i.setAttribute(a,v,b),h++}}return h}function ur(i){return 3===i||4===i||6===i}function fi(i){return 64===i.charCodeAt(0)}function Ss(i,a){if(null!==a&&0!==a.length)if(null===i||0===i.length)i=a.slice();else{let d=-1;for(let h=0;h<a.length;h++){const g=a[h];"number"==typeof g?d=g:0===d||Rr(i,d,g,null,-1===d||2===d?a[++h]:null)}}return i}function Rr(i,a,d,h,g){let v=0,b=i.length;if(-1===a)b=-1;else for(;v<i.length;){const A=i[v++];if("number"==typeof A){if(A===a){b=-1;break}if(A>a){b=v-1;break}}}for(;v<i.length;){const A=i[v];if("number"==typeof A)break;if(A===d){if(null===h)return void(null!==g&&(i[v+1]=g));if(h===i[v+1])return void(i[v+2]=g)}v++,null!==h&&v++,null!==g&&v++}-1!==b&&(i.splice(b,0,a),v=b+1),i.splice(v++,0,d),null!==h&&i.splice(v++,0,h),null!==g&&i.splice(v++,0,g)}const Sn="ng-template";function bi(i,a,d){let h=0,g=!0;for(;h<i.length;){let v=i[h++];if("string"==typeof v&&g){const b=i[h++];if(d&&"class"===v&&-1!==ui(b.toLowerCase(),a,0))return!0}else{if(1===v){for(;h<i.length&&"string"==typeof(v=i[h++]);)if(v.toLowerCase()===a)return!0;return!1}"number"==typeof v&&(g=!1)}}return!1}function oi(i){return 4===i.type&&i.value!==Sn}function _a(i,a,d){return a===(4!==i.type||d?i.value:Sn)}function co(i,a,d){let h=4;const g=i.attrs||[],v=function Gt(i){for(let a=0;a<i.length;a++)if(ur(i[a]))return a;return i.length}(g);let b=!1;for(let A=0;A<a.length;A++){const L=a[A];if("number"!=typeof L){if(!b)if(4&h){if(h=2|1&h,""!==L&&!_a(i,L,d)||""===L&&1===a.length){if(Fe(h))return!1;b=!0}}else{const K=8&h?L:a[++A];if(8&h&&null!==i.attrs){if(!bi(i.attrs,K,d)){if(Fe(h))return!1;b=!0}continue}const ye=Le(8&h?"class":L,g,oi(i),d);if(-1===ye){if(Fe(h))return!1;b=!0;continue}if(""!==K){let Be;Be=ye>v?"":g[ye+1].toLowerCase();const Qe=8&h?Be:null;if(Qe&&-1!==ui(Qe,K,0)||2&h&&K!==Be){if(Fe(h))return!1;b=!0}}}}else{if(!b&&!Fe(h)&&!Fe(L))return!1;if(b&&Fe(L))continue;b=!1,h=L|1&h}}return Fe(h)||b}function Fe(i){return 0==(1&i)}function Le(i,a,d,h){if(null===a)return-1;let g=0;if(h||!d){let v=!1;for(;g<a.length;){const b=a[g];if(b===i)return g;if(3===b||6===b)v=!0;else{if(1===b||2===b){let A=a[++g];for(;"string"==typeof A;)A=a[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=v?1:2}return-1}return function Hn(i,a){let d=i.indexOf(4);if(d>-1)for(d++;d<i.length;){const h=i[d];if("number"==typeof h)return-1;if(h===a)return d;d++}return-1}(a,i)}function et(i,a,d=!1){for(let h=0;h<a.length;h++)if(co(i,a[h],d))return!0;return!1}function Er(i,a){return i?":not("+a.trim()+")":a}function Br(i){let a=i[0],d=1,h=2,g="",v=!1;for(;d<i.length;){let b=i[d];if("string"==typeof b)if(2&h){const A=i[++d];g+="["+b+(A.length>0?'="'+A+'"':"")+"]"}else 8&h?g+="."+b:4&h&&(g+=" "+b);else""!==g&&!Fe(b)&&(a+=Er(v,g),g=""),h=b,v=v||!Fe(h);d++}return""!==g&&(a+=Er(v,g)),a}function no(i){return te(()=>{const a=uu(i),d={...a,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===De.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ue.Emulated,styles:i.styles||It,_:null,schemas:i.schemas||null,tView:null,id:""};To(d);const h=i.dependencies;return d.directiveDefs=Ua(h,!1),d.pipeDefs=Ua(h,!0),d.id=function ho(i){let a=0;const d=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const g of d)a=Math.imul(31,a)+g.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function Va(i){return Dr(i)||ci(i)}function dl(i){return null!==i}function lu(i){return te(()=>({type:i.type,bootstrap:i.bootstrap||It,declarations:i.declarations||It,imports:i.imports||It,exports:i.exports||It,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function va(i,a){if(null==i)return Ct;const d={};for(const h in i)if(i.hasOwnProperty(h)){let g=i[h],v=g;Array.isArray(g)&&(v=g[1],g=g[0]),d[g]=h,a&&(a[g]=v)}return d}function hl(i){return te(()=>{const a=uu(i);return To(a),a})}function fl(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Dr(i){return i[Pn]||null}function ci(i){return i[cn]||null}function ki(i){return i[Yr]||null}function Os(i){const a=Dr(i)||ci(i)||ki(i);return null!==a&&a.standalone}function Ci(i,a){const d=i[mi]||null;if(!d&&!0===a)throw new Error(`Type ${Me(i)} does not have '\u0275mod' property.`);return d}function uu(i){const a={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:i.inputs||Ct,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||It,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:va(i.inputs,a),outputs:va(i.outputs)}}function To(i){i.features?.forEach(a=>a(i))}function Ua(i,a){if(!i)return null;const d=a?ki:Va;return()=>("function"==typeof i?i():i).map(h=>d(h)).filter(dl)}const pi=0,Yt=1,cr=2,Jr=3,Us=4,bo=5,Bs=6,ro=7,Di=8,ys=9,fo=10,Fn=11,po=12,Ea=13,io=14,is=15,Ba=16,so=17,ss=18,na=19,cu=20,wa=21,Uo=22,tc=23,js=24,Pr=25,Nu=1,xs=2,ri=7,oo=9,Vi=11;function Qi(i){return Array.isArray(i)&&"object"==typeof i[Nu]}function wr(i){return Array.isArray(i)&&!0===i[Nu]}function ku(i){return 0!=(4&i.flags)}function Co(i){return i.componentOffset>-1}function vs(i){return 1==(1&i.flags)}function Yi(i){return!!i.template}function Ha(i){return 0!=(512&i[cr])}function ia(i,a){return i.hasOwnProperty(Ur)?i[Ur]:null}let _i=null,jo=!1;function Es(i){const a=_i;return _i=i,a}const $a={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fl(i){if(!_l(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Ho(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Vl(i){i.dirty=!0,function Ns(i){if(void 0===i.liveConsumerNode)return;const a=jo;jo=!0;try{for(const d of i.liveConsumerNode)d.dirty||Vl(d)}finally{jo=a}}(i),i.consumerMarkedDirty?.(i)}function ba(i){return i&&(i.nextProducerIndex=0),Es(i)}function Ji(i,a){if(Es(a),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(_l(i))for(let d=i.nextProducerIndex;d<i.producerNode.length;d++)sa(i.producerNode[d],i.producerIndexOfThis[d]);for(let d=i.nextProducerIndex;d<i.producerNode.length;d++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Ho(i){fs(i);for(let a=0;a<i.producerNode.length;a++){const d=i.producerNode[a],h=i.producerLastReadVersion[a];if(h!==d.version||(Fl(d),h!==d.version))return!0}return!1}function Ca(i){if(fs(i),_l(i))for(let a=0;a<i.producerNode.length;a++)sa(i.producerNode[a],i.producerIndexOfThis[a]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function sa(i,a){if(function Fu(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),fs(i),1===i.liveConsumerNode.length)for(let h=0;h<i.producerNode.length;h++)sa(i.producerNode[h],i.producerIndexOfThis[h]);const d=i.liveConsumerNode.length-1;if(i.liveConsumerNode[a]=i.liveConsumerNode[d],i.liveConsumerIndexOfThis[a]=i.liveConsumerIndexOfThis[d],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,a<i.liveConsumerNode.length){const h=i.liveConsumerIndexOfThis[a],g=i.liveConsumerNode[a];fs(g),g.producerIndexOfThis[h]=a}}function _l(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function fs(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let ps=null;function he(i){const a=Es(null);try{return i()}finally{Es(a)}}const Et=()=>{},Jt={...$a,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Et};class Gr{constructor(a,d,h){this.previousValue=a,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function Xr(){return xn}function xn(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ir),ii}function ii(){const i=ks(this),a=i?.current;if(a){const d=i.previous;if(d===Ct)i.previous=a;else for(let h in a)d[h]=a[h];i.current=null,this.ngOnChanges(a)}}function Ir(i,a,d,h){const g=this.declaredInputs[d],v=ks(i)||function Nt(i,a){return i[Ui]=a}(i,{previous:Ct,current:null}),b=v.current||(v.current={}),A=v.previous,L=A[g];b[g]=new Gr(L&&L.currentValue,a,A===Ct),i[h]=a}Xr.ngInherit=!0;const Ui="__ngSimpleChanges__";function ks(i){return i[Ui]||null}const as=function(i,a,d){};function ai(i){for(;Array.isArray(i);)i=i[pi];return i}function lt(i,a){return ai(a[i])}function Dt(i,a){return ai(a[i.index])}function Ed(i,a){return i.data[a]}function Wa(i,a){return i[a]}function $o(i,a){const d=a[i];return Qi(d)?d:d[pi]}function Uu(i,a){return null==a?null:i[a]}function Uh(i){i[so]=0}function ao(i){1024&i[cr]||(i[cr]|=1024,Ps(i,1))}function Bh(i){1024&i[cr]&&(i[cr]&=-1025,Ps(i,-1))}function Ps(i,a){let d=i[Jr];if(null===d)return;d[bo]+=a;let h=d;for(d=d[Jr];null!==d&&(1===a&&1===h[bo]||-1===a&&0===h[bo]);)d[bo]+=a,h=d,d=d[Jr]}const ir={lFrame:ti(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ar(){return ir.bindingsEnabled}function Pt(){return ir.lFrame.lView}function Fr(){return ir.lFrame.tView}function wl(i){return ir.lFrame.contextLView=i,i[Di]}function Hc(i){return ir.lFrame.contextLView=null,i}function yi(){let i=xo();for(;null!==i&&64===i.type;)i=i.parent;return i}function xo(){return ir.lFrame.currentTNode}function Ro(i,a){const d=ir.lFrame;d.currentTNode=i,d.isParent=a}function Kn(){return ir.lFrame.isParent}function Za(){ir.lFrame.isParent=!1}function Hs(){const i=ir.lFrame;let a=i.bindingRootIndex;return-1===a&&(a=i.bindingRootIndex=i.tView.bindingStartIndex),a}function ls(){return ir.lFrame.bindingIndex++}function D(i){const a=ir.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+i,d}function O(i,a){const d=ir.lFrame;d.bindingIndex=d.bindingRootIndex=i,re(a)}function re(i){ir.lFrame.currentDirectiveIndex=i}function ze(){return ir.lFrame.currentQueryIndex}function Wt(i){ir.lFrame.currentQueryIndex=i}function ct(i){const a=i[Yt];return 2===a.type?a.declTNode:1===a.type?i[Bs]:null}function kn(i,a,d){if(d&wn.SkipSelf){let g=a,v=i;for(;!(g=g.parent,null!==g||d&wn.Host||(g=ct(v),null===g||(v=v[io],10&g.type))););if(null===g)return!1;a=g,i=v}const h=ir.lFrame=si();return h.currentTNode=a,h.lView=i,!0}function Qn(i){const a=si(),d=i[Yt];ir.lFrame=a,a.currentTNode=d.firstChild,a.lView=i,a.tView=d,a.contextLView=i,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function si(){const i=ir.lFrame,a=null===i?null:i.child;return null===a?ti(i):a}function ti(i){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=a),a}function $s(){const i=ir.lFrame;return ir.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Mo=$s;function Qa(){const i=$s();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function _o(){return ir.lFrame.selectedIndex}function Ya(i){ir.lFrame.selectedIndex=i}function Xi(){const i=ir.lFrame;return Ed(i.tView,i.selectedIndex)}let uc=!0;function jl(){return uc}function mu(i){uc=i}function _u(i,a){for(let d=a.directiveStart,h=a.directiveEnd;d<h;d++){const v=i.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:A,ngAfterViewInit:L,ngAfterViewChecked:K,ngOnDestroy:ne}=v;b&&(i.contentHooks??=[]).push(-d,b),A&&((i.contentHooks??=[]).push(d,A),(i.contentCheckHooks??=[]).push(d,A)),L&&(i.viewHooks??=[]).push(-d,L),K&&((i.viewHooks??=[]).push(d,K),(i.viewCheckHooks??=[]).push(d,K)),null!=ne&&(i.destroyHooks??=[]).push(d,ne)}}function jh(i,a,d){Hh(i,a,3,d)}function Hl(i,a,d,h){(3&i[cr])===d&&Hh(i,a,d,h)}function $c(i,a){let d=i[cr];(3&d)===a&&(d&=8191,d+=1,i[cr]=d)}function Hh(i,a,d,h){const v=h??-1,b=a.length-1;let A=0;for(let L=void 0!==h?65535&i[so]:0;L<b;L++)if("number"==typeof a[L+1]){if(A=a[L],null!=h&&A>=h)break}else a[L]<0&&(i[so]+=65536),(A<v||-1==v)&&(zs(i,d,a,L),i[so]=(4294901760&i[so])+L+2),L++}function cc(i,a){as(4,i,a);const d=Es(null);try{a.call(i)}finally{Es(d),as(5,i,a)}}function zs(i,a,d,h){const g=d[h]<0,v=d[h+1],A=i[g?-d[h]:d[h]];g?i[cr]>>13<i[so]>>16&&(3&i[cr])===a&&(i[cr]+=8192,cc(A,v)):cc(A,v)}const ua=-1;class ca{constructor(a,d,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Gc(i){return i!==ua}function ju(i){return 32767&i}function Id(i,a){let d=function Is(i){return i>>16}(i),h=a;for(;d>0;)h=h[io],d--;return h}let Xa=!0;function Mi(i){const a=Xa;return Xa=i,a}const Ts=255,bs=5;let Hu=0;const Go={};function ha(i,a){const d=el(i,a);if(-1!==d)return d;const h=a[Yt];h.firstCreatePass&&(i.injectorIndex=a.length,$u(h.data,i),$u(a,null),$u(h.blueprint,null));const g=qo(i,a),v=i.injectorIndex;if(Gc(g)){const b=ju(g),A=Id(g,a),L=A[Yt].data;for(let K=0;K<8;K++)a[v+K]=A[b+K]|L[b+K]}return a[v+8]=g,v}function $u(i,a){i.push(0,0,0,0,0,0,0,0,a)}function el(i,a){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===a[i.injectorIndex+8]?-1:i.injectorIndex}function qo(i,a){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let d=0,h=null,g=a;for(;null!==g;){if(h=dc(g),null===h)return ua;if(d++,g=g[io],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return ua}function Gl(i,a,d){!function zl(i,a,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(xi)&&(h=d[xi]),null==h&&(h=d[xi]=Hu++);const g=h&Ts;a.data[i+(g>>bs)]|=1<<g}(i,a,d)}function ql(i,a,d){if(d&wn.Optional||void 0!==i)return i;St()}function Sa(i,a,d,h){if(d&wn.Optional&&void 0===h&&(h=null),!(d&(wn.Self|wn.Host))){const g=i[ys],v=Bn(void 0);try{return g?g.get(a,h,d&wn.Optional):Lr(a,h,d&wn.Optional)}finally{Bn(v)}}return ql(h,0,d)}function vu(i,a,d,h=wn.Default,g){if(null!==i){if(2048&a[cr]&&!(h&wn.Self)){const b=function Oo(i,a,d,h,g){let v=i,b=a;for(;null!==v&&null!==b&&2048&b[cr]&&!(512&b[cr]);){const A=Wl(v,b,d,h|wn.Self,Go);if(A!==Go)return A;let L=v.parent;if(!L){const K=b[cu];if(K){const ne=K.get(d,Go,h);if(ne!==Go)return ne}L=dc(b),b=b[io]}v=L}return g}(i,a,d,h,Go);if(b!==Go)return b}const v=Wl(i,a,d,h,Go);if(v!==Go)return v}return Sa(a,d,h,g)}function Wl(i,a,d,h,g){const v=function Wc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const a=i.hasOwnProperty(xi)?i[xi]:void 0;return"number"==typeof a?a>=0?a&Ts:Gu:a}(d);if("function"==typeof v){if(!kn(a,i,h))return h&wn.Host?ql(g,0,h):Sa(a,d,h,g);try{let b;if(b=v(h),null!=b||h&wn.Optional)return b;St()}finally{Mo()}}else if("number"==typeof v){let b=null,A=el(i,a),L=ua,K=h&wn.Host?a[is][Bs]:null;for((-1===A||h&wn.SkipSelf)&&(L=-1===A?qo(i,a):a[A+8],L!==ua&&Kl(h,!1)?(b=a[Yt],A=ju(L),a=Id(L,a)):A=-1);-1!==A;){const ne=a[Yt];if(nh(v,A,ne.data)){const ye=qc(A,a,d,b,h,K);if(ye!==Go)return ye}L=a[A+8],L!==ua&&Kl(h,a[Yt].data[A+8]===K)&&nh(v,A,a)?(b=ne,A=ju(L),a=Id(L,a)):A=-1}}return g}function qc(i,a,d,h,g,v){const b=a[Yt],A=b.data[i+8],ne=zu(A,b,d,null==h?Co(A)&&Xa:h!=b&&0!=(3&A.type),g&wn.Host&&v===A);return null!==ne?tl(a,b,ne,A):Go}function zu(i,a,d,h,g){const v=i.providerIndexes,b=a.data,A=1048575&v,L=i.directiveStart,ne=v>>20,Be=g?A+ne:i.directiveEnd;for(let Qe=h?A:A+ne;Qe<Be;Qe++){const At=b[Qe];if(Qe<L&&d===At||Qe>=L&&At.type===d)return Qe}if(g){const Qe=b[L];if(Qe&&Yi(Qe)&&Qe.type===d)return L}return null}function tl(i,a,d,h){let g=i[d];const v=a.data;if(function $h(i){return i instanceof ca}(g)){const b=g;b.resolving&&function vt(i,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${i}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${i}${d}`)}(function ut(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():je(i)}(v[d]));const A=Mi(b.canSeeViewProviders);b.resolving=!0;const K=b.injectImpl?Bn(b.injectImpl):null;kn(i,h,wn.Default);try{g=i[d]=b.factory(void 0,v,i,h),a.firstCreatePass&&d>=h.directiveStart&&function la(i,a,d){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:v}=a.type.prototype;if(h){const b=xn(a);(d.preOrderHooks??=[]).push(i,b),(d.preOrderCheckHooks??=[]).push(i,b)}g&&(d.preOrderHooks??=[]).push(0-i,g),v&&((d.preOrderHooks??=[]).push(i,v),(d.preOrderCheckHooks??=[]).push(i,v))}(d,v[d],a)}finally{null!==K&&Bn(K),Mi(A),b.resolving=!1,Mo()}}return g}function nh(i,a,d){return!!(d[a+(i>>bs)]&1<<i)}function Kl(i,a){return!(i&wn.Self||i&wn.Host&&a)}class qs{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,h){return vu(this._tNode,this._lView,a,An(h),d)}}function Gu(){return new qs(yi(),Pt())}function Kc(i){return te(()=>{const a=i.prototype.constructor,d=a[Ur]||Zl(a),h=Object.prototype;let g=Object.getPrototypeOf(i.prototype).constructor;for(;g&&g!==h;){const v=g[Ur]||Zl(g);if(v&&v!==d)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function Zl(i){return dt(i)?()=>{const a=Zl(ke(i));return a&&a()}:ia(i)}function dc(i){const a=i[Yt],d=a.type;return 2===d?a.declTNode:1===d?i[Bs]:null}function Li(i){return function bl(i,a){if("class"===a)return i.classes;if("style"===a)return i.styles;const d=i.attrs;if(d){const h=d.length;let g=0;for(;g<h;){const v=d[g];if(ur(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<h&&"string"==typeof d[g];)g++;else{if(v===a)return d[g+1];g+=2}}}return null}(yi(),i)}const Ra="__parameters__";function Y(i,a,d){return te(()=>{const h=function F(i){return function(...d){if(i){const h=i(...d);for(const g in h)this[g]=h[g]}}}(a);function g(...v){if(this instanceof g)return h.apply(this,v),this;const b=new g(...v);return A.annotation=b,A;function A(L,K,ne){const ye=L.hasOwnProperty(Ra)?L[Ra]:Object.defineProperty(L,Ra,{value:[]})[Ra];for(;ye.length<=ne;)ye.push(null);return(ye[ne]=ye[ne]||[]).push(b),L}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=i,g.annotationCls=g,g})}function hc(i,a){i.forEach(d=>Array.isArray(d)?hc(d,a):a(d))}function eg(i,a,d){a>=i.length?i.push(d):i.splice(a,0,d)}function fc(i,a){return a>=i.length-1?i.pop():i.splice(a,1)[0]}function No(i,a,d){let h=Zo(i,a);return h>=0?i[1|h]=d:(h=~h,function ih(i,a,d,h){let g=i.length;if(g==a)i.push(d,h);else if(1===g)i.push(h,i[0]),i[0]=d;else{for(g--,i.push(i[g-1],i[g]);g>a;)i[g]=i[g-2],g--;i[a]=d,i[a+1]=h}}(i,h,a,d)),h}function qh(i,a){const d=Zo(i,a);if(d>=0)return i[1|d]}function Zo(i,a){return function nl(i,a,d){let h=0,g=i.length>>d;for(;g!==h;){const v=h+(g-h>>1),b=i[v<<d];if(a===b)return v<<d;b>a?g=v:h=v+1}return~(g<<d)}(i,a,1)}const pt=jn(Y("Optional"),8),Vt=jn(Y("SkipSelf"),4);function Iu(i){return 128==(128&i.flags)}var qf=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(qf||{});const mc=/^>|^->|<!--|-->|--!>|<!-$/g,Yh=/(<|>)/g,ey="\u200b$1\u200b";const Jh=new Map;let Xh=0;const ag="__ngContext__";function Ma(i,a){Qi(a)?(i[ag]=a[na],function ty(i){Jh.set(i[na],i)}(a)):i[ag]=a}let tf;function rl(i,a){return tf(i,a)}function Zf(i){const a=i[Jr];return wr(a)?a[Jr]:a}function Yl(i){return Bi(i[po])}function Dd(i){return Bi(i[Us])}function Bi(i){for(;null!==i&&!wr(i);)i=i[Us];return i}function Yf(i,a,d,h,g){if(null!=h){let v,b=!1;wr(h)?v=h:Qi(h)&&(b=!0,h=h[pi]);const A=ai(h);0===i&&null!==d?null==g?mw(a,d,A):sf(a,d,A,g||null,!0):1===i&&null!==d?sf(a,d,A,g||null,!0):2===i?function Gi(i,a,d){const h=ay(i,a);h&&function nI(i,a,d,h){i.removeChild(a,d,h)}(i,h,a,d)}(a,A,b):3===i&&a.destroyNode(A),null!=v&&function hn(i,a,d,h,g){const v=d[ri];v!==ai(d)&&Yf(a,i,h,v,g);for(let A=Vi;A<d.length;A++){const L=d[A];In(L[Yt],L,i,a,h,v)}}(a,i,v,d,g)}}function cg(i,a){return i.createComment(function sg(i){return i.replace(mc,a=>a.replace(Yh,ey))}(a))}function Qc(i,a,d){return i.createElement(a,d)}function Jf(i,a){const d=i[oo],h=d.indexOf(a);Bh(a),d.splice(h,1)}function nf(i,a){if(i.length<=Vi)return;const d=Vi+a,h=i[d];if(h){const g=h[Ba];null!==g&&g!==i&&Jf(g,h),a>0&&(i[d-1][Us]=h[Us]);const v=fc(i,Vi+a);!function Dl(i,a){In(i,a,a[Fn],2,null,null),a[pi]=null,a[Bs]=null}(h[Yt],h);const b=v[ss];null!==b&&b.detachView(v[Yt]),h[Jr]=null,h[Us]=null,h[cr]&=-129}return h}function rf(i,a){if(!(256&a[cr])){const d=a[Fn];a[tc]&&Ca(a[tc]),a[js]&&Ca(a[js]),d.destroyNode&&In(i,a,d,3,null,null),function bu(i){let a=i[po];if(!a)return Yc(i[Yt],i);for(;a;){let d=null;if(Qi(a))d=a[po];else{const h=a[Vi];h&&(d=h)}if(!d){for(;a&&!a[Us]&&a!==i;)Qi(a)&&Yc(a[Yt],a),a=a[Jr];null===a&&(a=i),Qi(a)&&Yc(a[Yt],a),d=a&&a[Us]}a=d}}(a)}}function Yc(i,a){if(!(256&a[cr])){a[cr]&=-129,a[cr]|=256,function Xf(i,a){let d;if(null!=i&&null!=(d=i.destroyHooks))for(let h=0;h<d.length;h+=2){const g=a[d[h]];if(!(g instanceof ca)){const v=d[h+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const A=g[v[b]],L=v[b+1];as(4,A,L);try{L.call(A)}finally{as(5,A,L)}}else{as(4,g,v);try{v.call(g)}finally{as(5,g,v)}}}}}(i,a),function xm(i,a){const d=i.cleanup,h=a[ro];if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const b=d[v+3];b>=0?h[b]():h[-b].unsubscribe(),v+=2}else d[v].call(h[d[v+1]]);null!==h&&(a[ro]=null);const g=a[wa];if(null!==g){a[wa]=null;for(let v=0;v<g.length;v++)(0,g[v])()}}(i,a),1===a[Yt].type&&a[Fn].destroy();const d=a[Ba];if(null!==d&&wr(a[Jr])){d!==a[Jr]&&Jf(d,a);const h=a[ss];null!==h&&h.detachView(i)}!function Ei(i){Jh.delete(i[na])}(a)}}function sy(i,a,d){return function oy(i,a,d){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return d[pi];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:v}=i.data[h.directiveStart+g];if(v===Ue.None||v===Ue.Emulated)return null}return Dt(h,d)}}(i,a.parent,d)}function sf(i,a,d,h,g){i.insertBefore(a,d,h,g)}function mw(i,a,d){i.appendChild(a,d)}function kv(i,a,d,h,g){null!==h?sf(i,a,d,h,g):mw(i,a,d)}function ay(i,a){return i.parentNode(a)}let vo,hg,Vv,sr,uy=function ly(i,a,d){return 40&i.type?Dt(i,d):null};function Wu(i,a,d,h){const g=sy(i,h,a),v=a[Fn],A=function ep(i,a,d){return uy(i,a,d)}(h.parent||a[Bs],h,a);if(null!=g)if(Array.isArray(d))for(let L=0;L<d.length;L++)kv(v,g,d[L],A,!1);else kv(v,g,d,A,!1);void 0!==vo&&vo(v,h,a,d,g)}function Jc(i,a){if(null!==a){const d=a.type;if(3&d)return Dt(a,i);if(4&d)return Ut(-1,i[a.index]);if(8&d){const h=a.child;if(null!==h)return Jc(i,h);{const g=i[a.index];return wr(g)?Ut(-1,g):ai(g)}}if(32&d)return rl(a,i)()||ai(i[a.index]);{const h=Lv(i,a);return null!==h?Array.isArray(h)?h[0]:Jc(Zf(i[is]),h):Jc(i,a.next)}}return null}function Lv(i,a){return null!==a?i[is][Bs].projection[a.projection]:null}function Ut(i,a){const d=Vi+i+1;if(d<a.length){const h=a[d],g=h[Yt].firstChild;if(null!==g)return Jc(h,g)}return a[ri]}function yc(i,a,d,h,g,v,b){for(;null!=d;){const A=h[d.index],L=d.type;if(b&&0===a&&(A&&Ma(ai(A),h),d.flags|=2),32!=(32&d.flags))if(8&L)yc(i,a,d.child,h,g,v,!1),Yf(a,i,g,A,v);else if(32&L){const K=rl(d,h);let ne;for(;ne=K();)Yf(a,i,g,ne,v);Yf(a,i,g,A,v)}else 16&L?cy(i,a,h,d,g,v):Yf(a,i,g,A,v);d=b?d.projectionNext:d.next}}function In(i,a,d,h,g,v){yc(d,h,i.firstChild,a,g,v,!1)}function cy(i,a,d,h,g,v){const b=d[is],L=b[Bs].projection[h.projection];if(Array.isArray(L))for(let K=0;K<L.length;K++)Yf(a,i,g,L[K],v);else{let K=L;const ne=b[Jr];Iu(h)&&(K.flags|=128),yc(i,a,K,ne,g,v,!0)}}function ko(i,a,d){""===d?i.removeAttribute(a,"class"):i.setAttribute(a,"class",d)}function Rm(i,a,d){const{mergedAttrs:h,classes:g,styles:v}=d;null!==h&&lr(i,a,h),null!==g&&ko(i,a,g),null!==v&&function Bt(i,a,d){i.setAttribute(a,"style",d)}(i,a,v)}function Xc(i){return function tp(){if(void 0===hg&&(hg=null,Nn.trustedTypes))try{hg=Nn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return hg}()?.createHTML(i)||i}function vw(i){Vv=i}function vc(){if(void 0!==Vv)return Vv;if(typeof document<"u")return document;throw new Ae(210,!1)}function Al(){if(void 0===sr&&(sr=null,Nn.trustedTypes))try{sr=Nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return sr}function Pm(i){return Al()?.createHTML(i)||i}function Gn(i){return Al()?.createScriptURL(i)||i}class fg{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}function Ec(i){return i instanceof fg?i.changingThisBreaksApplicationSecurity:i}function Xl(i,a){const d=function Ew(i){return i instanceof fg&&i.getTypeName()||null}(i);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${wt})`)}return d===a}class uf{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(Xc(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class fy{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=Xc(a),d}}const Qs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function np(i){return(i=String(i)).match(Qs)?i:"unsafe:"+i}function Ye(i){const a={};for(const d of i.split(","))a[d]=!0;return a}function wc(...i){const a={};for(const d of i)for(const h in d)d.hasOwnProperty(h)&&(a[h]=!0);return a}const Du=Ye("area,br,col,hr,img,wbr"),Ad=Ye("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ic=Ye("rp,rt"),Sd=wc(Du,wc(Ad,Ye("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wc(Ic,Ye("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wc(Ic,Ad)),sp=Ye("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eu=wc(sp,Ye("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ye("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),op=Ye("script,style,template");class mg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Sd.hasOwnProperty(d))return this.sanitizedSomething=!0,!op.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=a.attributes;for(let g=0;g<h.length;g++){const v=h.item(g),b=v.name,A=b.toLowerCase();if(!eu.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let L=v.value;sp[A]&&(L=np(L)),this.buf.push(" ",b,'="',_g(L),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Sd.hasOwnProperty(d)&&!Du.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(_g(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,il=/([^\#-~ |!])/g;function _g(i){return i.replace(/&/g,"&amp;").replace(py,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(il,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ap;function yg(i){return"content"in i&&function Mm(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var fh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(fh||{});function ph(i){const a=Eg();return a?Pm(a.sanitize(fh.HTML,i)||""):Xl(i,"HTML")?Pm(Ec(i)):function ed(i,a){let d=null;try{ap=ap||function Oa(i){const a=new fy(i);return function ww(){try{return!!(new window.DOMParser).parseFromString(Xc(""),"text/html")}catch{return!1}}()?new uf(a):a}(i);let h=a?String(a):"";d=ap.getInertBodyElement(h);let g=5,v=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=v,v=d.innerHTML,d=ap.getInertBodyElement(h)}while(h!==v);return Xc((new mg).sanitizeChildren(yg(d)||d))}finally{if(d){const h=yg(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}(vc(),je(i))}function Om(i){const a=Eg();return a?a.sanitize(fh.URL,i)||"":Xl(i,"URL")?Ec(i):np(je(i))}function gy(i){const a=Eg();if(a)return Gn(a.sanitize(fh.RESOURCE_URL,i)||"");if(Xl(i,"ResourceURL"))return Gn(Ec(i));throw new Ae(904,!1)}function Nm(i,a,d){return function Cw(i,a){return"src"===a&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===a&&("base"===i||"link"===i)?gy:Om}(a,d)(i)}function Eg(){const i=Pt();return i&&i[fo].sanitizer}class ji{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Qt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wg=new ji("ENVIRONMENT_INITIALIZER"),km=new ji("INJECTOR",-1),my=new ji("INJECTOR_DEF_TYPES");class lp{get(a,d=kt){if(d===kt){const h=new Error(`NullInjectorError: No provider for ${Me(a)}!`);throw h.name="NullInjectorError",h}return d}}function df(i){return{\u0275providers:i}}function jv(...i){return{\u0275providers:_y(0,i),\u0275fromNgModule:!0}}function _y(i,...a){const d=[],h=new Set;let g;const v=b=>{d.push(b)};return hc(a,b=>{const A=b;Ys(A,v,[],h)&&(g||=[],g.push(A))}),void 0!==g&&up(g,v),d}function up(i,a){for(let d=0;d<i.length;d++){const{ngModule:h,providers:g}=i[d];Au(g,v=>{a(v,h)})}}function Ys(i,a,d,h){if(!(i=ke(i)))return!1;let g=null,v=Ii(i);const b=!v&&Dr(i);if(v||b){if(b&&!b.standalone)return!1;g=i}else{const L=i.ngModule;if(v=Ii(L),!v)return!1;g=L}const A=h.has(g);if(b){if(A)return!1;if(h.add(g),b.dependencies){const L="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const K of L)Ys(K,a,d,h)}}else{if(!v)return!1;{if(null!=v.imports&&!A){let K;h.add(g);try{hc(v.imports,ne=>{Ys(ne,a,d,h)&&(K||=[],K.push(ne))})}finally{}void 0!==K&&up(K,a)}if(!A){const K=ia(g)||(()=>new g);a({provide:g,useFactory:K,deps:It},g),a({provide:my,useValue:g,multi:!0},g),a({provide:wg,useValue:()=>ot(g),multi:!0},g)}const L=v.providers;if(null!=L&&!A){const K=i;Au(L,ne=>{a(ne,K)})}}}return g!==i&&void 0!==i.providers}function Au(i,a){for(let d of i)Ve(d)&&(d=d.\u0275providers),Array.isArray(d)?Au(d,a):a(d)}const Lm=oe({provide:String,useValue:oe});function qi(i){return null!==i&&"object"==typeof i&&Lm in i}function Oi(i){return"function"==typeof i}const td=new ji("Set Injector scope."),ka={},vy={};let Hv;function Js(){return void 0===Hv&&(Hv=new lp),Hv}class nd{}class sl extends nd{get destroyed(){return this._destroyed}constructor(a,d,h,g){super(),this.parent=d,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hp(a,b=>this.processProvider(b)),this.records.set(km,bc(void 0,this)),g.has("environment")&&this.records.set(nd,bc(void 0,this));const v=this.records.get(td);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(my.multi,It,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=de(this),h=Bn(void 0);try{return a()}finally{de(d),Bn(h)}}get(a,d=kt,h=wn.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(rs))return a[rs](this);h=An(h);const v=de(this),b=Bn(void 0);try{if(!(h&wn.SkipSelf)){let L=this.records.get(a);if(void 0===L){const K=function rd(i){return"function"==typeof i||"object"==typeof i&&i instanceof ji}(a)&&Xn(a);L=K&&this.injectableDefInScope(K)?bc(ts(a),ka):null,this.records.set(a,L)}if(null!=L)return this.hydrate(a,L)}return(h&wn.Self?Js():this.parent).get(a,d=h&wn.Optional&&d===kt?null:d)}catch(A){if("NullInjectorError"===A.name){if((A[gn]=A[gn]||[]).unshift(Me(a)),v)throw A;return function se(i,a,d,h){const g=i[gn];throw a[q]&&g.unshift(a[q]),i.message=function W(i,a,d,h=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let g=Me(a);if(Array.isArray(a))g=a.map(Me).join(" -> ");else if("object"==typeof a){let v=[];for(let b in a)if(a.hasOwnProperty(b)){let A=a[b];v.push(b+":"+("string"==typeof A?JSON.stringify(A):Me(A)))}g=`{${v.join(", ")}}`}return`${d}${h?"("+h+")":""}[${g}]: ${i.replace(be,"\n  ")}`}("\n"+i.message,g,d,h),i.ngTokenPath=g,i[gn]=null,i}(A,a,"R3InjectorError",this.source)}throw A}finally{Bn(b),de(v)}}resolveInjectorInitializers(){const a=de(this),d=Bn(void 0);try{const g=this.get(wg.multi,It,wn.Self);for(const v of g)v()}finally{de(a),Bn(d)}}toString(){const a=[],d=this.records;for(const h of d.keys())a.push(Me(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(a){let d=Oi(a=ke(a))?a:ke(a&&a.provide);const h=function hf(i){return qi(i)?bc(void 0,i.useValue):bc(dp(i),ka)}(a);if(Oi(a)||!0!==a.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=bc(void 0,ka,!0),g.factory=()=>Dn(g.multi),this.records.set(d,g)),d=a,g.multi.push(a)}this.records.set(d,h)}hydrate(a,d){return d.value===ka&&(d.value=vy,d.value=d.factory()),"object"==typeof d.value&&d.value&&function ff(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ke(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function ts(i){const a=Xn(i),d=null!==a?a.factory:ia(i);if(null!==d)return d;if(i instanceof ji)throw new Ae(204,!1);if(i instanceof Function)return function Tc(i){const a=i.length;if(a>0)throw function qu(i,a){const d=[];for(let h=0;h<i;h++)d.push(a);return d}(a,"?"),new Ae(204,!1);const d=function $r(i){return i&&(i[yr]||i[hi])||null}(i);return null!==d?()=>d.factory(i):()=>new i}(i);throw new Ae(204,!1)}function dp(i,a,d){let h;if(Oi(i)){const g=ke(i);return ia(g)||ts(g)}if(qi(i))h=()=>ke(i.useValue);else if(function ma(i){return!(!i||!i.useFactory)}(i))h=()=>i.useFactory(...Dn(i.deps||[]));else if(function cp(i){return!(!i||!i.useExisting)}(i))h=()=>ot(ke(i.useExisting));else{const g=ke(i&&(i.useClass||i.provide));if(!function $v(i){return!!i.deps}(i))return ia(g)||ts(g);h=()=>new g(...Dn(i.deps))}return h}function bc(i,a,d=!1){return{factory:i,value:a,multi:d?[]:void 0}}function hp(i,a){for(const d of i)Array.isArray(d)?hp(d,a):d&&Ve(d)?hp(d.\u0275providers,a):a(d)}const Cc=new ji("AppId",{providedIn:"root",factory:()=>Dc}),Dc="ng",pf=new ji("Platform Initializer"),Ku=new ji("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fp=new ji("CSP nonce",{providedIn:"root",factory:()=>vc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Gv=(i,a,d)=>null;function Hi(i,a,d=!1){return Gv(i,a,d)}class Ty{}class Wv{}class Dw{resolveComponentFactory(a){throw function Hm(i){const a=Error(`No component factory found for ${Me(i)}.`);return a.ngComponent=i,a}(a)}}let Eh=(()=>{class a{}return a.NULL=new Dw,a})();function id(){return Qu(yi(),Pt())}function Qu(i,a){return new Od(Dt(i,a))}let Od=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=id,a})();function Nd(i){return i instanceof Od?i.nativeElement:i}class Ag{}let Qv=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function kd(){const i=Pt(),d=$o(yi().index,i);return(Qi(d)?d:i)[Fn]}(),a})(),by=(()=>{var i;class a{}return(i=a).\u0275prov=Qt({token:i,providedIn:"root",factory:()=>null}),a})();class wh{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Cy=new wh("16.2.5"),gf={};function sd(i,a=null,d=null,h){const g=xg(i,a,d,h);return g.resolveInjectorInitializers(),g}function xg(i,a=null,d=null,h,g=new Set){const v=[d||It,jv(i)];return h=h||("object"==typeof i?void 0:Me(i)),new sl(v,a||Js(),h||null,g)}let ol=(()=>{var i;class a{static create(h,g){if(Array.isArray(h))return sd({name:""},g,h,"");{const v=h.name??"";return sd({name:v},h.parent,h.providers,v)}}}return(i=a).THROW_IF_NOT_FOUND=kt,i.NULL=new lp,i.\u0275prov=Qt({token:i,providedIn:"any",factory:()=>ot(km)}),i.__NG_ELEMENT_ID__=-1,a})();function Eo(i){return i.ngOriginalError}class Fd{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&Eo(a);for(;d&&Eo(d);)d=Eo(d);return d||null}}function Vd(i){return a=>{setTimeout(i,void 0,a)}}const od=class Gm extends w.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,h){let g=a,v=d||(()=>null),b=h;if(a&&"object"==typeof a){const L=a;g=L.next?.bind(L),v=L.error?.bind(L),b=L.complete?.bind(L)}this.__isAsync&&(v=Vd(v),g&&(g=Vd(g)),b&&(b=Vd(b)));const A=super.subscribe({next:g,error:v,complete:b});return a instanceof ae.w0&&a.add(A),A}};function Jv(...i){}class Fo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new od(!1),this.onMicrotaskEmpty=new od(!1),this.onStable=new od(!1),this.onError=new od(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&d,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Vr(){const i="function"==typeof Nn.requestAnimationFrame;let a=Nn[i?"requestAnimationFrame":"setTimeout"],d=Nn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const g=d[Zone.__symbol__("OriginalDelegate")];g&&(d=g)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function Sw(i){const a=()=>{!function Sy(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Nn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wm(i),i.isCheckStableRunning=!0,qm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,g,v,b,A)=>{if(function Ud(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(A))return d.invokeTask(g,v,b,A);try{return xy(i),d.invokeTask(g,v,b,A)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||i.shouldCoalesceRunChangeDetection)&&a(),Ry(i)}},onInvoke:(d,h,g,v,b,A,L)=>{try{return xy(i),d.invoke(g,v,b,A,L)}finally{i.shouldCoalesceRunChangeDetection&&a(),Ry(i)}},onHasTask:(d,h,g,v)=>{d.hasTask(g,v),h===g&&("microTask"==v.change?(i._hasPendingMicrotasks=v.microTask,Wm(i),qm(i)):"macroTask"==v.change&&(i.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,h,g,v)=>(d.handleError(g,v),i.runOutsideAngular(()=>i.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new Ae(909,!1)}run(a,d,h){return this._inner.run(a,d,h)}runTask(a,d,h,g){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+g,a,Ay,Jv,Jv);try{return v.runTask(b,d,h)}finally{v.cancelTask(b)}}runGuarded(a,d,h){return this._inner.runGuarded(a,d,h)}runOutsideAngular(a){return this._outer.run(a)}}const Ay={};function qm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function xy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ry(i){i._nesting--,qm(i)}class Ep{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new od,this.onMicrotaskEmpty=new od,this.onStable=new od,this.onError=new od}run(a,d,h){return a.apply(d,h)}runGuarded(a,d,h){return a.apply(d,h)}runOutsideAngular(a){return a()}runTask(a,d,h,g){return a.apply(d,h)}}const bh=new ji("",{providedIn:"root",factory:Py});function Py(){const i=Rt(Fo);let a=!0;const d=new X.y(g=>{a=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{g.next(a),g.complete()})}),h=new X.y(g=>{let v;i.runOutsideAngular(()=>{v=i.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(a=!0,g.next(!0))})})});const b=i.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),a&&(a=!1,i.runOutsideAngular(()=>{g.next(!1)}))});return()=>{v.unsubscribe(),b.unsubscribe()}});return(0,_e.T)(d,h.pipe((0,Ie.B)()))}function Rg(i){return i.ownerDocument.defaultView}function Su(i){return i instanceof Function?i():i}let Ip=(()=>{var i;class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(i=a).\u0275prov=Qt({token:i,providedIn:"root",factory:()=>new i}),a})();function Pg(i){for(;i;){i[cr]|=64;const a=Zf(i);if(Ha(i)&&!a)return i;i=a}return null}const Mg=new ji("",{providedIn:"root",factory:()=>!1});let Ms=null;function Oy(i,a){return i[a]??rE()}function Ng(i,a){const d=rE();d.producerNode?.length&&(i[a]=Ms,d.lView=i,Ms=kg())}const Jm={...$a,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Pg(i.lView)},lView:null};function kg(){return Object.create(Jm)}function rE(){return Ms??=kg(),Ms}const Sr={};function Ny(i){Cp(Fr(),Pt(),_o()+i,!1)}function Cp(i,a,d,h){if(!h)if(3==(3&a[cr])){const v=i.preOrderCheckHooks;null!==v&&jh(a,v,d)}else{const v=i.preOrderHooks;null!==v&&Hl(a,v,0,d)}Ya(d)}function Pc(i,a=wn.Default){const d=Pt();return null===d?ot(i,a):vu(yi(),d,ke(i),a)}function Sh(){throw new Error("invalid")}function vf(i,a,d,h,g,v,b,A,L,K,ne){const ye=a.blueprint.slice();return ye[pi]=g,ye[cr]=140|h,(null!==K||i&&2048&i[cr])&&(ye[cr]|=2048),Uh(ye),ye[Jr]=ye[io]=i,ye[Di]=d,ye[fo]=b||i&&i[fo],ye[Fn]=A||i&&i[Fn],ye[ys]=L||i&&i[ys]||null,ye[Bs]=v,ye[na]=function Mv(){return Xh++}(),ye[Uo]=ne,ye[cu]=K,ye[is]=2==a.type?i[is]:ye,ye}function Ef(i,a,d,h,g){let v=i.data[a];if(null===v)v=function Ap(i,a,d,h,g){const v=xo(),b=Kn(),L=i.data[a]=function iE(i,a,d,h,g,v){let b=a?a.injectorIndex:-1,A=0;return function tn(){return null!==ir.skipHydrationRootTNode}()&&(A|=128),{type:d,index:h,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,d,a,h,g);return null===i.firstChild&&(i.firstChild=L),null!==v&&(b?null==v.child&&null!==L.parent&&(v.child=L):null===v.next&&(v.next=L,L.prev=v)),L}(i,a,d,h,g),function P(){return ir.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=d,v.value=h,v.attrs=g;const b=function un(){const i=ir.lFrame,a=i.currentTNode;return i.isParent?a:a.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return Ro(v,!0),v}function Sp(i,a,d,h){if(0===d)return-1;const g=a.length;for(let v=0;v<d;v++)a.push(h),i.blueprint.push(h),i.data.push(null);return g}function Xm(i,a,d,h,g){const v=Oy(a,tc),b=_o(),A=2&h;try{Ya(-1),A&&a.length>Pr&&Cp(i,a,Pr,!1),as(A?2:0,g);const K=A?v:null,ne=ba(K);try{null!==K&&(K.dirty=!1),d(h,g)}finally{Ji(K,ne)}}finally{A&&null===a[tc]&&Ng(a,tc),Ya(b),as(A?3:1,g)}}function xp(i,a,d){if(ku(a)){const h=Es(null);try{const v=a.directiveEnd;for(let b=a.directiveStart;b<v;b++){const A=i.data[b];A.contentQueries&&A.contentQueries(1,d[b],b)}}finally{Es(h)}}}function Rp(i,a,d){Ar()&&(function sE(i,a,d,h){const g=d.directiveStart,v=d.directiveEnd;Co(d)&&function xh(i,a,d){const h=Dt(a,i),g=Pp(d);let b=16;d.signals?b=4096:d.onPush&&(b=64);const A=If(i,vf(i,g,null,b,h,a,null,i[fo].rendererFactory.createRenderer(h,d),null,null,null));i[a.index]=A}(a,d,i.data[g+d.componentOffset]),i.firstCreatePass||ha(d,a),Ma(h,a);const b=d.initialInputs;for(let A=g;A<v;A++){const L=i.data[A],K=tl(a,i,A,d);Ma(K,a),null!==b&&Mw(0,A-g,K,L,0,b),Yi(L)&&($o(d.index,a)[Di]=tl(a,i,A,d))}}(i,a,d,Dt(d,a)),64==(64&d.flags)&&Fg(i,a,d))}function ky(i,a,d=Dt){const h=a.localNames;if(null!==h){let g=a.index+1;for(let v=0;v<h.length;v+=2){const b=h[v+1],A=-1===b?d(a,i):i[b];i[g++]=A}}}function Pp(i){const a=i.tView;return null===a||a.incompleteFirstPass?i.tView=Ly(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):a}function Ly(i,a,d,h,g,v,b,A,L,K,ne){const ye=Pr+h,Be=ye+g,Qe=function Fy(i,a){const d=[];for(let h=0;h<a;h++)d.push(h<i?null:Sr);return d}(ye,Be),At="function"==typeof K?K():K;return Qe[Yt]={type:i,blueprint:Qe,template:d,queries:null,viewQuery:A,declTNode:a,data:Qe.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:L,consts:At,incompleteFirstPass:!1,ssrId:ne}}let t_=i=>null;function Mp(i,a,d,h){for(let g in i)if(i.hasOwnProperty(g)){d=null===d?{}:d;const v=i[g];null===h?tu(d,a,g,v):h.hasOwnProperty(g)&&tu(d,a,h[g],v)}return d}function tu(i,a,d,h){i.hasOwnProperty(d)?i[d].push(a,h):i[d]=[a,h]}function Yo(i,a,d,h,g,v,b,A){const L=Dt(a,d);let ne,K=a.inputs;!A&&null!=K&&(ne=K[h])?(Lp(i,d,ne,h,g),Co(a)&&function Uy(i,a){const d=$o(a,i);16&d[cr]||(d[cr]|=64)}(d,a.index)):3&a.type&&(h=function r_(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(h),g=null!=b?b(g,a.value||"",h):g,v.setProperty(L,h,g))}function Op(i,a,d,h){if(Ar()){const g=null===h?null:{"":-1},v=function wf(i,a){const d=i.directiveRegistry;let h=null,g=null;if(d)for(let v=0;v<d.length;v++){const b=d[v];if(et(a,b.selectors,!1))if(h||(h=[]),Yi(b))if(null!==b.findHostDirectiveDefs){const A=[];g=g||new Map,b.findHostDirectiveDefs(b,A,g),h.unshift(...A,b),Vg(i,a,A.length)}else h.unshift(b),Vg(i,a,0);else g=g||new Map,b.findHostDirectiveDefs?.(b,h,g),h.push(b)}return null===h?null:[h,g]}(i,d);let b,A;null===v?b=A=null:[b,A]=v,null!==b&&s_(i,a,d,b,g,A),g&&function oE(i,a,d){if(a){const h=i.localNames=[];for(let g=0;g<a.length;g+=2){const v=d[a[g+1]];if(null==v)throw new Ae(-301,!1);h.push(a[g],v)}}}(d,h,g)}d.mergedAttrs=Ss(d.mergedAttrs,d.attrs)}function s_(i,a,d,h,g,v){for(let K=0;K<h.length;K++)Gl(ha(d,a),i,h[K].type);!function Pw(i,a,d){i.flags|=1,i.directiveStart=a,i.directiveEnd=a+d,i.providerIndexes=a}(d,i.data.length,h.length);for(let K=0;K<h.length;K++){const ne=h[K];ne.providersResolver&&ne.providersResolver(ne)}let b=!1,A=!1,L=Sp(i,a,h.length,null);for(let K=0;K<h.length;K++){const ne=h[K];d.mergedAttrs=Ss(d.mergedAttrs,ne.hostAttrs),aE(i,d,a,L,ne),Rw(L,ne,g),null!==ne.contentQueries&&(d.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(d.flags|=64);const ye=ne.type.prototype;!b&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((i.preOrderHooks??=[]).push(d.index),b=!0),!A&&(ye.ngOnChanges||ye.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(d.index),A=!0),L++}!function Lg(i,a,d){const g=a.directiveEnd,v=i.data,b=a.attrs,A=[];let L=null,K=null;for(let ne=a.directiveStart;ne<g;ne++){const ye=v[ne],Be=d?d.get(ye):null,At=Be?Be.outputs:null;L=Mp(ye.inputs,ne,L,Be?Be.inputs:null),K=Mp(ye.outputs,ne,K,At);const Zt=null===L||null===b||oi(a)?null:jd(L,ne,b);A.push(Zt)}null!==L&&(L.hasOwnProperty("class")&&(a.flags|=8),L.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=A,a.inputs=L,a.outputs=K}(i,d,v)}function Fg(i,a,d){const h=d.directiveStart,g=d.directiveEnd,v=d.index,b=function z(){return ir.lFrame.currentDirectiveIndex}();try{Ya(v);for(let A=h;A<g;A++){const L=i.data[A],K=a[A];re(A),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&o_(L,K)}}finally{Ya(-1),re(b)}}function o_(i,a){null!==i.hostBindings&&i.hostBindings(1,a)}function Vg(i,a,d){a.componentOffset=d,(i.components??=[]).push(a.index)}function Rw(i,a,d){if(d){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)d[a.exportAs[h]]=i;Yi(a)&&(d[""]=i)}}function aE(i,a,d,h,g){i.data[h]=g;const v=g.factory||(g.factory=ia(g.type)),b=new ca(v,Yi(g),Pc);i.blueprint[h]=b,d[h]=b,function Np(i,a,d,h,g){const v=g.hostBindings;if(v){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const A=~a.index;(function kp(i){let a=i.length;for(;a>0;){const d=i[--a];if("number"==typeof d&&d<0)return d}return 0})(b)!=A&&b.push(A),b.push(d,h,v)}}(i,a,h,Sp(i,d,g.hostVars,Sr),g)}function al(i,a,d,h,g,v){const b=Dt(i,a);!function a_(i,a,d,h,g,v,b){if(null==v)i.removeAttribute(a,g,d);else{const A=null==b?je(v):b(v,h||"",g);i.setAttribute(a,g,A,d)}}(a[Fn],b,v,i.value,d,h,g)}function Mw(i,a,d,h,g,v){const b=v[a];if(null!==b)for(let A=0;A<b.length;)jy(h,d,b[A++],b[A++],b[A++])}function jy(i,a,d,h,g){const v=Es(null);try{const b=i.inputTransforms;null!==b&&b.hasOwnProperty(h)&&(g=b[h].call(a,g)),null!==i.setInput?i.setInput(a,g,d,h):a[h]=g}finally{Es(v)}}function jd(i,a,d){let h=null,g=0;for(;g<d.length;){const v=d[g];if(0!==v)if(5!==v){if("number"==typeof v)break;if(i.hasOwnProperty(v)){null===h&&(h=[]);const b=i[v];for(let A=0;A<b.length;A+=2)if(b[A]===a){h.push(v,b[A+1],d[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function l_(i,a,d,h){return[i,!0,!1,a,null,0,h,d,null,null,null]}function Hy(i,a){const d=i.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const v=d[h+1];if(-1!==v){const b=i.data[v];Wt(d[h]),b.contentQueries(2,a[v],v)}}}function If(i,a){return i[po]?i[Ea][Us]=a:i[po]=a,i[Ea]=a,a}function Tf(i,a,d){Wt(0);const h=Es(null);try{a(i,d)}finally{Es(h)}}function Hd(i){return i[ro]||(i[ro]=[])}function Oc(i){return i.cleanup||(i.cleanup=[])}function u_(i,a){const d=i[ys],h=d?d.get(Fd,null):null;h&&h.handleError(a)}function Lp(i,a,d,h,g){for(let v=0;v<d.length;){const b=d[v++],A=d[v++];jy(i.data[b],a[b],h,A,g)}}function xl(i,a,d){const h=lt(a,i);!function Tu(i,a,d){i.setValue(a,d)}(i[Fn],h,d)}function $y(i,a){const d=$o(a,i),h=d[Yt];!function Xs(i,a){for(let d=a.length;d<i.blueprint.length;d++)a.push(i.blueprint[d])}(h,d);const g=d[pi];null!==g&&null===d[Uo]&&(d[Uo]=Hi(g,d[ys])),Jo(h,d,d[Di])}function Jo(i,a,d){Qn(a);try{const h=i.viewQuery;null!==h&&Tf(1,h,d);const g=i.template;null!==g&&Xm(i,a,g,1,d),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Hy(i,a),i.staticViewQueries&&Tf(2,i.viewQuery,d);const v=i.components;null!==v&&function Nc(i,a){for(let d=0;d<a.length;d++)$y(i,a[d])}(a,v)}catch(h){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),h}finally{a[cr]&=-5,Qa()}}let zy=(()=>{var i;class a{constructor(){this.all=new Set,this.queue=new Map}create(h,g,v){const b=typeof Zone>"u"?null:Zone.current,A=function Pe(i,a,d){const h=Object.create(Jt);d&&(h.consumerAllowSignalWrites=!0),h.fn=i,h.schedule=a;const g=b=>{h.cleanupFn=b};return h.ref={notify:()=>Vl(h),run:()=>{if(h.dirty=!1,h.hasRun&&!Ho(h))return;h.hasRun=!0;const b=ba(h);try{h.cleanupFn(),h.cleanupFn=Et,h.fn(g)}finally{Ji(h,b)}},cleanup:()=>h.cleanupFn()},h.ref}(h,ne=>{this.all.has(ne)&&this.queue.set(ne,b)},v);let L;this.all.add(A),A.notify();const K=()=>{A.cleanup(),L?.(),this.all.delete(A),this.queue.delete(A)};return L=g?.onDestroy(K),{destroy:K}}flush(){if(0!==this.queue.size)for(const[h,g]of this.queue)this.queue.delete(h),g?g.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=a).\u0275prov=Qt({token:i,providedIn:"root",factory:()=>new i}),a})();function $d(i,a,d){let h=d?i.styles:null,g=d?i.classes:null,v=0;if(null!==a)for(let b=0;b<a.length;b++){const A=a[b];"number"==typeof A?v=A:1==v?g=Ke(g,A):2==v&&(h=Ke(h,A+": "+a[++b]+";"))}d?i.styles=h:i.stylesWithoutHost=h,d?i.classes=g:i.classesWithoutHost=g}function kc(i,a,d,h,g=!1){for(;null!==d;){const v=a[d.index];null!==v&&h.push(ai(v)),wr(v)&&d_(v,h);const b=d.type;if(8&b)kc(i,a,d.child,h);else if(32&b){const A=rl(d,a);let L;for(;L=A();)h.push(L)}else if(16&b){const A=Lv(a,d);if(Array.isArray(A))h.push(...A);else{const L=Zf(a[is]);kc(L[Yt],L,A,h,!0)}}d=g?d.projectionNext:d.next}return h}function d_(i,a){for(let d=Vi;d<i.length;d++){const h=i[d],g=h[Yt].firstChild;null!==g&&kc(h[Yt],h,g,a)}i[ri]!==i[pi]&&a.push(i[ri])}function Ug(i,a,d,h=!0){const g=a[fo],v=g.rendererFactory,b=g.afterRenderEventManager;v.begin?.(),b?.begin();try{uE(i,a,i.template,d)}catch(L){throw h&&u_(a,L),L}finally{v.end?.(),g.effectManager?.flush(),b?.end()}}function uE(i,a,d,h){const g=a[cr];if(256!=(256&g)){a[fo].effectManager?.flush(),Qn(a);try{Uh(a),function Il(i){return ir.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==d&&Xm(i,a,d,2,h);const b=3==(3&g);if(b){const K=i.preOrderCheckHooks;null!==K&&jh(a,K,null)}else{const K=i.preOrderHooks;null!==K&&Hl(a,K,0,null),$c(a,0)}if(function Fp(i){for(let a=Yl(i);null!==a;a=Dd(a)){if(!a[xs])continue;const d=a[oo];for(let h=0;h<d.length;h++){ao(d[h])}}}(a),Ki(a,2),null!==i.contentQueries&&Hy(i,a),b){const K=i.contentCheckHooks;null!==K&&jh(a,K)}else{const K=i.contentHooks;null!==K&&Hl(a,K,1),$c(a,1)}!function Dp(i,a){const d=i.hostBindingOpCodes;if(null===d)return;const h=Oy(a,js);try{for(let g=0;g<d.length;g++){const v=d[g];if(v<0)Ya(~v);else{const b=v,A=d[++g],L=d[++g];O(A,b),h.dirty=!1;const K=ba(h);try{L(2,a[b])}finally{Ji(h,K)}}}}finally{null===a[js]&&Ng(a,js),Ya(-1)}}(i,a);const A=i.components;null!==A&&h_(a,A,0);const L=i.viewQuery;if(null!==L&&Tf(2,L,h),b){const K=i.viewCheckHooks;null!==K&&jh(a,K)}else{const K=i.viewHooks;null!==K&&Hl(a,K,2),$c(a,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),a[cr]&=-73,Bh(a)}finally{Qa()}}}function Ki(i,a){for(let d=Yl(i);null!==d;d=Dd(d))for(let h=Vi;h<d.length;h++)eo(d[h],a)}function Rh(i,a,d){eo($o(a,i),d)}function eo(i,a){if(!function gu(i){return 128==(128&i[cr])}(i))return;const d=i[Yt],h=i[cr];if(80&h&&0===a||1024&h||2===a)uE(d,i,d.template,i[Di]);else if(i[bo]>0){Ki(i,1);const g=d.components;null!==g&&h_(i,g,1)}}function h_(i,a,d){for(let h=0;h<a.length;h++)Rh(i,a[h],d)}class Vp{get rootNodes(){const a=this._lView,d=a[Yt];return kc(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Di]}set context(a){this._lView[Di]=a}get destroyed(){return 256==(256&this._lView[cr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Jr];if(wr(a)){const d=a[8],h=d?d.indexOf(this):-1;h>-1&&(nf(a,h),fc(d,h))}this._attachedToViewContainer=!1}rf(this._lView[Yt],this._lView)}onDestroy(a){!function or(i,a){if(256==(256&i[cr]))throw new Ae(911,!1);null===i[wa]&&(i[wa]=[]),i[wa].push(a)}(this._lView,a)}markForCheck(){Pg(this._cdRefInjectingView||this._lView)}detach(){this._lView[cr]&=-129}reattach(){this._lView[cr]|=128}detectChanges(){Ug(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iy(i,a){In(i,a,a[Fn],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=a}}class Nw extends Vp{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ug(a[Yt],a,a[Di],!1)}checkNoChanges(){}get context(){return null}}class Bg extends Eh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Dr(a);return new Cf(d,this.ngModule)}}function f_(i){const a=[];for(let d in i)i.hasOwnProperty(d)&&a.push({propName:i[d],templateName:d});return a}class Gy{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,h){h=An(h);const g=this.injector.get(a,gf,h);return g!==gf||d===gf?g:this.parentInjector.get(a,d,h)}}class Cf extends Wv{get inputs(){const a=this.componentDef,d=a.inputTransforms,h=f_(a.inputs);if(null!==d)for(const g of h)d.hasOwnProperty(g.propName)&&(g.transform=d[g.propName]);return h}get outputs(){return f_(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function Fa(i){return i.map(Br).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,h,g){let v=(g=g||this.ngModule)instanceof nd?g:g?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const b=v?new Gy(a,v):a,A=b.get(Ag,null);if(null===A)throw new Ae(407,!1);const ye={rendererFactory:A,sanitizer:b.get(by,null),effectManager:b.get(zy,null),afterRenderEventManager:b.get(Ip,null)},Be=A.createRenderer(null,this.componentDef),Qe=this.componentDef.selectors[0][0]||"div",At=h?function e_(i,a,d,h){const v=h.get(Mg,!1)||d===Ue.ShadowDom,b=i.selectRootElement(a,v);return function Mc(i){t_(i)}(b),b}(Be,h,this.componentDef.encapsulation,b):Qc(Be,Qe,function cE(i){const a=i.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Qe)),nr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ft=null;null!==At&&(Ft=Hi(At,b,!0));const Nr=Ly(0,null,null,1,0,null,null,null,null,null,null),Zr=vf(null,Nr,null,nr,null,null,ye,Be,b,null,Ft);let _s,ec;Qn(Zr);try{const kf=this.componentDef;let Sv,LT=null;kf.findHostDirectiveDefs?(Sv=[],LT=new Map,kf.findHostDirectiveDefs(kf,Sv,LT),Sv.push(kf)):Sv=[kf];const hD=function p_(i,a){const d=i[Yt],h=Pr;return i[h]=a,Ef(d,h,2,"#host",null)}(Zr,At),fD=function Lw(i,a,d,h,g,v,b){const A=g[Yt];!function g_(i,a,d,h){for(const g of i)a.mergedAttrs=Ss(a.mergedAttrs,g.hostAttrs);null!==a.mergedAttrs&&($d(a,a.mergedAttrs,!0),null!==d&&Rm(h,d,a))}(h,i,a,b);let L=null;null!==a&&(L=Hi(a,g[ys]));const K=v.rendererFactory.createRenderer(a,d);let ne=16;d.signals?ne=4096:d.onPush&&(ne=64);const ye=vf(g,Pp(d),null,ne,g[i.index],i,v,K,null,null,L);return A.firstCreatePass&&Vg(A,i,h.length-1),If(g,ye),g[i.index]=ye}(hD,At,kf,Sv,Zr,ye,Be);ec=Ed(Nr,Pr),At&&function Fw(i,a,d,h){if(h)lr(i,d,["ng-version",Cy.full]);else{const{attrs:g,classes:v}=function qr(i){const a=[],d=[];let h=1,g=2;for(;h<i.length;){let v=i[h];if("string"==typeof v)2===g?""!==v&&a.push(v,i[++h]):8===g&&d.push(v);else{if(!Fe(g))break;g=v}h++}return{attrs:a,classes:d}}(a.selectors[0]);g&&lr(i,d,g),v&&v.length>0&&ko(i,d,v.join(" "))}}(Be,kf,At,h),void 0!==d&&function zd(i,a,d){const h=i.projection=[];for(let g=0;g<a.length;g++){const v=d[g];h.push(null!=v?Array.from(v):null)}}(ec,this.ngContentSelectors,d),_s=function Ph(i,a,d,h,g,v){const b=yi(),A=g[Yt],L=Dt(b,g);s_(A,g,b,d,null,h);for(let ne=0;ne<d.length;ne++)Ma(tl(g,A,b.directiveStart+ne,b),g);Fg(A,g,b),L&&Ma(L,g);const K=tl(g,A,b.directiveStart+b.componentOffset,b);if(i[Di]=g[Di]=K,null!==v)for(const ne of v)ne(K,a);return xp(A,b,i),K}(fD,kf,Sv,LT,Zr,[xu]),Jo(Nr,Zr,null)}finally{Qa()}return new kw(this.componentType,_s,Qu(ec,Zr),Zr,ec)}}class kw extends Ty{constructor(a,d,h,g,v){super(),this.location=h,this._rootLView=g,this._tNode=v,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new Nw(g),this.componentType=a}setInput(a,d){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const v=this._rootLView;Lp(v[Yt],v,g,a,d),this.previousInputValues.set(a,d),Pg($o(this._tNode.index,v))}}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function xu(){const i=yi();_u(Pt()[Yt],i)}function nu(i){let a=function jg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),d=!0;const h=[i];for(;a;){let g;if(Yi(i))g=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ae(903,!1);g=a.\u0275dir}if(g){if(d){h.push(g);const b=i;b.inputs=$g(i.inputs),b.inputTransforms=$g(i.inputTransforms),b.declaredInputs=$g(i.declaredInputs),b.outputs=$g(i.outputs);const A=g.hostBindings;A&&zg(i,A);const L=g.viewQuery,K=g.contentQueries;if(L&&ll(i,L),K&&qy(i,K),ge(i.inputs,g.inputs),ge(i.declaredInputs,g.declaredInputs),ge(i.outputs,g.outputs),null!==g.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),ge(b.inputTransforms,g.inputTransforms)),Yi(g)&&g.data.animation){const ne=i.data;ne.animation=(ne.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let b=0;b<v.length;b++){const A=v[b];A&&A.ngInherit&&A(i),A===nu&&(d=!1)}}a=Object.getPrototypeOf(a)}!function Hg(i){let a=0,d=null;for(let h=i.length-1;h>=0;h--){const g=i[h];g.hostVars=a+=g.hostVars,g.hostAttrs=Ss(g.hostAttrs,d=Ss(d,g.hostAttrs))}}(h)}function $g(i){return i===Ct?{}:i===It?[]:i}function ll(i,a){const d=i.viewQuery;i.viewQuery=d?(h,g)=>{a(h,g),d(h,g)}:a}function qy(i,a){const d=i.contentQueries;i.contentQueries=d?(h,g,v)=>{a(h,g,v),d(h,g,v)}:a}function zg(i,a){const d=i.hostBindings;i.hostBindings=d?(h,g)=>{a(h,g),d(h,g)}:a}function Wd(i){const a=i.inputConfig,d={};for(const h in a)if(a.hasOwnProperty(h)){const g=a[h];Array.isArray(g)&&g[2]&&(d[h]=g[2])}i.inputTransforms=d}function Up(i){return!!qg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function qg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Rl(i,a,d){return i[a]=d}function ul(i,a,d){return!Object.is(i[a],d)&&(i[a]=d,!0)}function Lc(i,a,d,h){const g=ul(i,a,d);return ul(i,a+1,h)||g}function Ru(i,a,d,h){const g=Pt();return ul(g,ls(),a)&&(Fr(),al(Xi(),g,i,a,d,h)),Ru}function ud(i,a,d,h){return ul(i,ls(),d)?a+je(d)+h:Sr}function Oh(i,a,d,h,g,v){const A=Lc(i,function Po(){return ir.lFrame.bindingIndex}(),d,g);return D(2),A?a+je(d)+h+je(g)+v:Sr}function A_(i,a,d,h,g,v,b,A){const L=Pt(),K=Fr(),ne=i+Pr,ye=K.firstCreatePass?function Xy(i,a,d,h,g,v,b,A,L){const K=a.consts,ne=Ef(a,i,4,b||null,Uu(K,A));Op(a,d,ne,Uu(K,L)),_u(a,ne);const ye=ne.tView=Ly(2,ne,h,g,v,a.directiveRegistry,a.pipeRegistry,null,a.schemas,K,null);return null!==a.queries&&(a.queries.template(a,ne),ye.queries=a.queries.embeddedTView(ne)),ne}(ne,K,L,a,d,h,g,v,b):K.data[ne];Ro(ye,!1);const Be=Kd(K,L,ye,i);jl()&&Wu(K,L,Be,ye),Ma(Be,L),If(L,L[ne]=l_(Be,L,Be,ye)),vs(ye)&&Rp(K,L,ye),null!=b&&ky(L,ye,A)}let Kd=function Jg(i,a,d,h){return mu(!0),a[Fn].createComment("")};function ev(i){return Wa(function rt(){return ir.lFrame.contextLView}(),Pr+i)}function SE(i,a,d){const h=Pt();return ul(h,ls(),a)&&Yo(Fr(),Xi(),h,i,a,h[Fn],d,!1),SE}function tv(i,a,d,h,g){const b=g?"class":"style";Lp(i,d,a.inputs[b],b,h)}function nv(i,a,d,h){const g=Pt(),v=Fr(),b=Pr+i,A=g[Fn],L=v.firstCreatePass?function Pl(i,a,d,h,g,v){const b=a.consts,L=Ef(a,i,2,h,Uu(b,g));return Op(a,d,L,Uu(b,v)),null!==L.attrs&&$d(L,L.attrs,!1),null!==L.mergedAttrs&&$d(L,L.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,L),L}(b,v,g,a,d,h):v.data[b],K=zp(v,g,L,A,a,i);g[b]=K;const ne=vs(L);return Ro(L,!0),Rm(A,K,L),32!=(32&L.flags)&&jl()&&Wu(v,g,K,L),0===function zo(){return ir.lFrame.elementDepthCount}()&&Ma(K,g),function Zn(){ir.lFrame.elementDepthCount++}(),ne&&(Rp(v,g,L),xp(v,L,g)),null!==h&&ky(g,L),nv}function x_(){let i=yi();Kn()?Za():(i=i.parent,Ro(i,!1));const a=i;(function vl(i){return ir.skipHydrationRootTNode===i})(a)&&function El(){ir.skipHydrationRootTNode=null}(),function Lf(){ir.lFrame.elementDepthCount--}();const d=Fr();return d.firstCreatePass&&(_u(d,i),ku(i)&&d.queries.elementEnd(i)),null!=a.classesWithoutHost&&function es(i){return 0!=(8&i.flags)}(a)&&tv(d,a,Pt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function zh(i){return 0!=(16&i.flags)}(a)&&tv(d,a,Pt(),a.stylesWithoutHost,!1),x_}function Xg(i,a,d,h){return nv(i,a,d,h),x_(),Xg}let zp=(i,a,d,h,g,v)=>(mu(!0),Qc(h,g,function th(){return ir.lFrame.currentNamespace}()));function R_(i,a,d){const h=Pt(),g=Fr(),v=i+Pr,b=g.firstCreatePass?function aI(i,a,d,h,g){const v=a.consts,b=Uu(v,h),A=Ef(a,i,8,"ng-container",b);return null!==b&&$d(A,b,!0),Op(a,d,A,Uu(v,g)),null!==a.queries&&a.queries.elementStart(a,A),A}(v,g,h,a,d):g.data[v];Ro(b,!0);const A=P_(g,h,b,i);return h[v]=A,jl()&&Wu(g,h,A,b),Ma(A,h),vs(b)&&(Rp(g,h,b),xp(g,b,h)),null!=d&&ky(h,b),R_}function em(){let i=yi();const a=Fr();return Kn()?Za():(i=i.parent,Ro(i,!1)),a.firstCreatePass&&(_u(a,i),ku(i)&&a.queries.elementEnd(i)),em}let P_=(i,a,d,h)=>(mu(!0),cg(a[Fn],""));function Gp(){return Pt()}function tm(i){return!!i&&"function"==typeof i.then}function Pf(i){return!!i&&"function"==typeof i.subscribe}function nm(i,a,d,h){const g=Pt(),v=Fr(),b=yi();return function rm(i,a,d,h,g,v,b){const A=vs(h),K=i.firstCreatePass&&Oc(i),ne=a[Di],ye=Hd(a);let Be=!0;if(3&h.type||b){const Zt=Dt(h,a),bn=b?b(Zt):Zt,nr=ye.length,Ft=b?Zr=>b(ai(Zr[h.index])):h.index;let Nr=null;if(!b&&A&&(Nr=function O_(i,a,d,h){const g=i.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const b=g[v];if(b===d&&g[v+1]===h){const A=a[ro],L=g[v+2];return A.length>L?A[L]:null}"string"==typeof b&&(v+=2)}return null}(i,a,g,h.index)),null!==Nr)(Nr.__ngLastListenerFn__||Nr).__ngNextListenerFn__=v,Nr.__ngLastListenerFn__=v,Be=!1;else{v=t(h,a,ne,v,!1);const Zr=d.listen(bn,g,v);ye.push(v,Zr),K&&K.push(g,Ft,nr,nr+1)}}else v=t(h,a,ne,v,!1);const Qe=h.outputs;let At;if(Be&&null!==Qe&&(At=Qe[g])){const Zt=At.length;if(Zt)for(let bn=0;bn<Zt;bn+=2){const _s=a[At[bn]][At[bn+1]].subscribe(v),ec=ye.length;ye.push(v,_s),K&&K.push(g,h.index,ec,-(ec+1))}}}(v,g,g[Fn],b,i,a,h),nm}function l(i,a,d,h){try{return as(6,a,d),!1!==d(h)}catch(g){return u_(i,g),!1}finally{as(7,a,d)}}function t(i,a,d,h,g){return function v(b){if(b===Function)return h;Pg(i.componentOffset>-1?$o(i.index,a):a);let L=l(a,d,h,b),K=v.__ngNextListenerFn__;for(;K;)L=l(a,d,K,b)&&L,K=K.__ngNextListenerFn__;return g&&!1===L&&b.preventDefault(),L}}function o(i=1){return function aa(i){return(ir.lFrame.contextLView=function lc(i,a){for(;i>0;)a=a[io],i--;return a}(i,ir.lFrame.contextLView))[Di]}(i)}function I(i,a,d){return N(i,"",a,"",d),I}function N(i,a,d,h,g){const v=Pt(),b=ud(v,a,d,h);return b!==Sr&&Yo(Fr(),Xi(),v,i,b,v[Fn],g,!1),N}function Tn(i,a){return i<<17|a<<2}function br(i){return i>>17&32767}function Io(i){return 2|i}function hs(i){return(131068&i)>>2}function ms(i,a){return-131069&i|a<<2}function Qd(i){return 1|i}function xE(i,a,d,h,g){const v=i[d+1],b=null===a;let A=h?br(v):hs(v),L=!1;for(;0!==A&&(!1===L||b);){const ne=i[A+1];$w(i[A],a)&&(L=!0,i[A+1]=h?Qd(ne):Io(ne)),A=h?br(ne):hs(ne)}L&&(i[d+1]=h?Io(v):Qd(v))}function $w(i,a){return null===i||null==a||(Array.isArray(i)?i[1]:i)===a||!(!Array.isArray(i)||"string"!=typeof a)&&Zo(i,a)>=0}function Kw(i,a,d){return pd(i,a,d,!1),Kw}function sv(i,a){return pd(i,a,null,!0),sv}function pd(i,a,d,h){const g=Pt(),v=Fr(),b=D(2);v.firstUpdatePass&&function Qw(i,a,d,h){const g=i.data;if(null===g[d+1]){const v=g[_o()],b=function Zw(i,a){return a>=i.expandoStartIndex}(i,d);(function hI(i,a){return 0!=(i.flags&(a?8:16))})(v,h)&&null===a&&!b&&(a=!1),a=function BT(i,a,d,h){const g=function pe(i){const a=ir.lFrame.currentDirectiveIndex;return-1===a?null:i[a]}(i);let v=h?a.residualClasses:a.residualStyles;if(null===g)0===(h?a.classBindings:a.styleBindings)&&(d=am(d=ov(null,i,a,d,h),a.attrs,h),v=null);else{const b=a.directiveStylingLast;if(-1===b||i[b]!==g)if(d=ov(g,i,a,d,h),null===v){let L=function jT(i,a,d){const h=d?a.classBindings:a.styleBindings;if(0!==hs(h))return i[br(h)]}(i,a,h);void 0!==L&&Array.isArray(L)&&(L=ov(null,i,a,L[1],h),L=am(L,a.attrs,h),function HT(i,a,d,h){i[br(d?a.classBindings:a.styleBindings)]=h}(i,a,h,L))}else v=function $T(i,a,d){let h;const g=a.directiveEnd;for(let v=1+a.directiveStylingLast;v<g;v++)h=am(h,i[v].hostAttrs,d);return am(h,a.attrs,d)}(i,a,h)}return void 0!==v&&(h?a.residualClasses=v:a.residualStyles=v),d}(g,v,a,h),function Hw(i,a,d,h,g,v){let b=v?a.classBindings:a.styleBindings,A=br(b),L=hs(b);i[h]=d;let ne,K=!1;if(Array.isArray(d)?(ne=d[1],(null===ne||Zo(d,ne)>0)&&(K=!0)):ne=d,g)if(0!==L){const Be=br(i[A+1]);i[h+1]=Tn(Be,A),0!==Be&&(i[Be+1]=ms(i[Be+1],h)),i[A+1]=function ni(i,a){return 131071&i|a<<17}(i[A+1],h)}else i[h+1]=Tn(A,0),0!==A&&(i[A+1]=ms(i[A+1],h)),A=h;else i[h+1]=Tn(L,0),0===A?A=h:i[L+1]=ms(i[L+1],h),L=h;K&&(i[h+1]=Io(i[h+1])),xE(i,ne,h,!0),xE(i,ne,h,!1),function lI(i,a,d,h,g){const v=g?i.residualClasses:i.residualStyles;null!=v&&"string"==typeof a&&Zo(v,a)>=0&&(d[h+1]=Qd(d[h+1]))}(a,ne,i,h,v),b=Tn(A,L),v?a.classBindings=b:a.styleBindings=b}(g,v,a,d,b,h)}}(v,i,b,h),a!==Sr&&ul(g,b,a)&&function ME(i,a,d,h,g,v,b,A){if(!(3&a.type))return;const L=i.data,K=L[A+1],ne=function cl(i){return 1==(1&i)}(K)?Xw(L,a,d,g,hs(K),b):void 0;L_(ne)||(L_(v)||function wi(i){return 2==(2&i)}(K)&&(v=Xw(L,null,d,g,A,b)),function mt(i,a,d,h,g){if(a)g?i.addClass(d,h):i.removeClass(d,h);else{let v=-1===h.indexOf("-")?void 0:qf.DashCase;null==g?i.removeStyle(d,h,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=qf.Important),i.setStyle(d,h,g,v))}}(h,b,lt(_o(),d),g,v))}(v,v.data[_o()],g,g[Fn],i,g[b+1]=function dI(i,a){return null==i||""===i||("string"==typeof a?i+=a:"object"==typeof i&&(i=Me(Ec(i)))),i}(a,d),h,b)}function ov(i,a,d,h,g){let v=null;const b=d.directiveEnd;let A=d.directiveStylingLast;for(-1===A?A=d.directiveStart:A++;A<b&&(v=a[A],h=am(h,v.hostAttrs,g),v!==i);)A++;return null!==i&&(d.directiveStylingLast=A),h}function am(i,a,d){const h=d?1:2;let g=-1;if(null!==a)for(let v=0;v<a.length;v++){const b=a[v];"number"==typeof b?g=b:g===h&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),No(i,b,!!d||a[++v]))}return void 0===i?null:i}function Xw(i,a,d,h,g,v){const b=null===a;let A;for(;g>0;){const L=i[g],K=Array.isArray(L),ne=K?L[1]:L,ye=null===ne;let Be=d[g+1];Be===Sr&&(Be=ye?It:void 0);let Qe=ye?qh(Be,h):ne===h?Be:void 0;if(K&&!L_(Qe)&&(Qe=qh(L,h)),L_(Qe)&&(A=Qe,b))return A;const At=i[g+1];g=b?br(At):hs(At)}if(null!==a){let L=v?a.residualClasses:a.residualStyles;null!=L&&(A=qh(L,h))}return A}function L_(i){return void 0!==i}function OE(i,a=""){const d=Pt(),h=Fr(),g=i+Pr,v=h.firstCreatePass?Ef(h,g,1,a,null):h.data[g],b=fI(h,d,v,a,i);d[g]=b,jl()&&Wu(h,d,b,v),Ro(v,!1)}let fI=(i,a,d,h,g)=>(mu(!0),function Cs(i,a){return i.createText(a)}(a[Fn],h));function av(i){return NE("",i,""),av}function NE(i,a,d){const h=Pt(),g=ud(h,i,a,d);return g!==Sr&&xl(h,_o(),g),NE}function lv(i,a,d,h,g){const v=Pt(),b=Oh(v,i,a,d,h,g);return b!==Sr&&xl(v,_o(),b),lv}const Wp=void 0;var eb=["en",[["a","p"],["AM","PM"],Wp],[["AM","PM"],Wp,Wp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wp,"{1} 'at' {0}",Wp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $E(i){const d=Math.floor(Math.abs(i)),h=i.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let F_={};function h0(i){const a=function p0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let d=GE(a);if(d)return d;const h=a.split("-")[0];if(d=GE(h),d)return d;if("en"===h)return eb;throw new Ae(701,!1)}function zE(i){return h0(i)[cm.PluralCase]}function GE(i){return i in F_||(F_[i]=Nn.ng&&Nn.ng.common&&Nn.ng.common.locales&&Nn.ng.common.locales[i]),F_[i]}var cm=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(cm||{});const Kp="en-US";let dm=Kp;function $_(i,a,d,h,g){if(i=ke(i),Array.isArray(i))for(let v=0;v<i.length;v++)$_(i[v],a,d,h,g);else{const v=Fr(),b=Pt(),A=yi();let L=Oi(i)?i:ke(i.provide);const K=dp(i),ne=1048575&A.providerIndexes,ye=A.directiveStart,Be=A.providerIndexes>>20;if(Oi(i)||!i.multi){const Qe=new ca(K,g,Pc),At=b0(L,a,g?ne:ne+Be,ye);-1===At?(Gl(ha(A,b),v,L),tw(v,i,a.length),a.push(L),A.directiveStart++,A.directiveEnd++,g&&(A.providerIndexes+=1048576),d.push(Qe),b.push(Qe)):(d[At]=Qe,b[At]=Qe)}else{const Qe=b0(L,a,ne+Be,ye),At=b0(L,a,ne,ne+Be),bn=At>=0&&d[At];if(g&&!bn||!g&&!(Qe>=0&&d[Qe])){Gl(ha(A,b),v,L);const nr=function SD(i,a,d,h,g){const v=new ca(i,d,Pc);return v.multi=[],v.index=a,v.componentProviders=0,jI(v,g,h&&!d),v}(g?HI:nw,d.length,g,h,K);!g&&bn&&(d[At].providerFactory=nr),tw(v,i,a.length,0),a.push(L),A.directiveStart++,A.directiveEnd++,g&&(A.providerIndexes+=1048576),d.push(nr),b.push(nr)}else tw(v,i,Qe>-1?Qe:At,jI(d[g?At:Qe],K,!g&&h));!g&&h&&bn&&d[At].componentProviders++}}}function tw(i,a,d,h){const g=Oi(a),v=function yy(i){return!!i.useClass}(a);if(g||v){const L=(v?ke(a.useClass):a).prototype.ngOnDestroy;if(L){const K=i.destroyHooks||(i.destroyHooks=[]);if(!g&&a.multi){const ne=K.indexOf(d);-1===ne?K.push(d,[h,L]):K[ne+1].push(h,L)}else K.push(d,L)}}}function jI(i,a,d){return d&&i.componentProviders++,i.multi.push(a)-1}function b0(i,a,d,h){for(let g=d;g<h;g++)if(a[g]===i)return g;return-1}function nw(i,a,d,h){return C0(this.multi,[])}function HI(i,a,d,h){const g=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,A=tl(d,d[Yt],this.providerFactory.index,h);v=A.slice(0,b),C0(g,v);for(let L=b;L<A.length;L++)v.push(A[L])}else v=[],C0(g,v);return v}function C0(i,a){for(let d=0;d<i.length;d++)a.push((0,i[d])());return a}function Eb(i,a=[]){return d=>{d.providersResolver=(h,g)=>function ew(i,a,d){const h=Fr();if(h.firstCreatePass){const g=Yi(i);$_(d,h.data,h.blueprint,g,!0),$_(a,h.data,h.blueprint,g,!1)}}(h,g?g(i):i,a)}}class Jd{}class wb{}function z_(i,a){return new $I(i,a??null,[])}class $I extends Jd{constructor(a,d,h){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bg(this);const g=Ci(a);this._bootstrapComponents=Su(g.bootstrap),this._r3Injector=xg(a,d,[{provide:Jd,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver},...h],Me(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class gv extends wb{constructor(a){super(),this.moduleType=a}create(a){return new $I(this.moduleType,a,[])}}class mv extends Jd{constructor(a){super(),this.componentFactoryResolver=new Bg(this),this.instance=null;const d=new sl([...a.providers,{provide:Jd,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],a.parent||Js(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ib(i,a,d=null){return new mv({providers:i,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let RD=(()=>{var i;class a{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const g=_y(0,h.type),v=g.length>0?Ib([g],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,v)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return(i=a).\u0275prov=Qt({token:i,providedIn:"environment",factory:()=>new i(ot(nd))}),a})();function _v(i){i.getStandaloneInjector=a=>a.get(RD).getOrCreateStandaloneInjector(i)}function xb(i,a,d,h){return Pb(Pt(),Hs(),i,a,d,h)}function G_(i,a,d,h,g,v){return function Ob(i,a,d,h,g,v,b,A){const L=a+d;return function xf(i,a,d,h,g){const v=Lc(i,a,d,h);return ul(i,a+2,g)||v}(i,L,g,v,b)?Rl(i,L+3,A?h.call(A,g,v,b):h(g,v,b)):iw(i,L+3)}(Pt(),Hs(),i,a,d,h,g,v)}function iw(i,a){const d=i[a];return d===Sr?void 0:d}function Pb(i,a,d,h,g,v){const b=a+d;return ul(i,b,g)?Rl(i,b+1,v?h.call(v,g):h(g)):iw(i,b+1)}function Lb(i,a){const d=Fr();let h;const g=i+Pr;d.firstCreatePass?(h=function LD(i,a){if(a)for(let d=a.length-1;d>=0;d--){const h=a[d];if(i===h.name)return h}}(a,d.pipeRegistry),d.data[g]=h,h.onDestroy&&(d.destroyHooks??=[]).push(g,h.onDestroy)):h=d.data[g];const v=h.factory||(h.factory=ia(h.type)),A=Bn(Pc);try{const L=Mi(!1),K=v();return Mi(L),function S_(i,a,d,h){d>=i.data.length&&(i.data[d]=null,i.blueprint[d]=null),a[d]=h}(d,Pt(),g,K),K}finally{Bn(A)}}function Fb(i,a,d){const h=i+Pr,g=Pt(),v=Wa(g,h);return vv(g,h)?Pb(g,Hs(),a,v.transform,d,v):v.transform(d)}function W_(i,a,d,h){const g=i+Pr,v=Pt(),b=Wa(v,g);return vv(v,g)?function Mb(i,a,d,h,g,v,b){const A=a+d;return Lc(i,A,g,v)?Rl(i,A+2,b?h.call(b,g,v):h(g,v)):iw(i,A+2)}(v,Hs(),a,b.transform,d,h,b):b.transform(d,h)}function vv(i,a){return i[Yt].data[a].pure}function Ub(){return this._results[Symbol.iterator]()}class x0{get changes(){return this._changes||(this._changes=new od)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=x0.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=Ub)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const h=this;h.dirty=!1;const g=function gs(i){return i.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ko(i,a,d){if(i.length!==a.length)return!1;for(let h=0;h<i.length;h++){let g=i[h],v=a[h];if(d&&(g=d(g),v=d(v)),v!==g)return!1}return!0}(h._results,g,d))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function VD(i,a,d,h=!0){const g=a[Yt];if(function Cu(i,a,d,h){const g=Vi+h,v=d.length;h>0&&(d[g-1][Us]=a),h<v-Vi?(a[Us]=d[g],eg(d,Vi+h,a)):(d.push(a),a[Us]=null),a[Jr]=d;const b=a[Ba];null!==b&&d!==b&&function ga(i,a){const d=i[oo];a[is]!==a[Jr][Jr][is]&&(i[xs]=!0),null===d?i[oo]=[a]:d.push(a)}(b,a);const A=a[ss];null!==A&&A.insertView(i),a[cr]|=128}(g,a,i,d),h){const v=Ut(d,i),b=a[Fn],A=ay(b,i[ri]);null!==A&&function dg(i,a,d,h,g,v){h[pi]=g,h[Bs]=a,In(i,h,d,1,g,v)}(g,i[Bs],b,a,A,v)}}let sw=(()=>{class a{}return a.__NG_ELEMENT_ID__=$b,a})();const jb=sw,Hb=class extends jb{constructor(a,d,h){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,h){const g=function Bb(i,a,d,h){const g=a.tView,A=vf(i,g,d,4096&i[cr]?4096:16,null,a,null,null,null,h?.injector??null,h?.hydrationInfo??null);A[Ba]=i[a.index];const K=i[ss];return null!==K&&(A[ss]=K.createEmbeddedView(g)),Jo(g,A,d),A}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:h});return new Vp(g)}};function $b(){return R0(yi(),Pt())}function R0(i,a){return 4&i.type?new Hb(a,i,Qu(i,a)):null}let P0=(()=>{class a{}return a.__NG_ELEMENT_ID__=$D,a})();function $D(){return Kb(yi(),Pt())}const QI=P0,YI=class extends QI{constructor(a,d,h){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=h}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const a=qo(this._hostTNode,this._hostLView);if(Gc(a)){const d=Id(a,this._hostLView),h=ju(a);return new qs(d[Yt].data[h+8],d)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=Wb(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-Vi}createEmbeddedView(a,d,h){let g,v;"number"==typeof h?g=h:null!=h&&(g=h.index,v=h.injector);const A=a.createEmbeddedViewImpl(d||{},v,null);return this.insertImpl(A,g,false),A}createComponent(a,d,h,g,v){const b=a&&!function fa(i){return"function"==typeof i}(a);let A;if(b)A=d;else{const Zt=d||{};A=Zt.index,h=Zt.injector,g=Zt.projectableNodes,v=Zt.environmentInjector||Zt.ngModuleRef}const L=b?a:new Cf(Dr(a)),K=h||this.parentInjector;if(!v&&null==L.ngModule){const bn=(b?K:this.parentInjector).get(nd,null);bn&&(v=bn)}Dr(L.componentType??{});const Qe=L.create(K,g,null,v);return this.insertImpl(Qe.hostView,A,false),Qe}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,h){const g=a._lView;if(function Ka(i){return wr(i[Jr])}(g)){const L=this.indexOf(a);if(-1!==L)this.detach(L);else{const K=g[Jr],ne=new YI(K,K[Bs],K[Jr]);ne.detach(ne.indexOf(a))}}const b=this._adjustIndex(d),A=this._lContainer;return VD(A,g,b,!h),a.attachToViewContainerRef(),eg(JI(A),b,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=Wb(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),h=nf(this._lContainer,d);h&&(fc(JI(this._lContainer),d),rf(h[Yt],h))}detach(a){const d=this._adjustIndex(a,-1),h=nf(this._lContainer,d);return h&&null!=fc(JI(this._lContainer),d)?new Vp(h):null}_adjustIndex(a,d=0){return a??this.length+d}};function Wb(i){return i[8]}function JI(i){return i[8]||(i[8]=[])}function Kb(i,a){let d;const h=a[i.index];return wr(h)?d=h:(d=l_(h,a,null,i),a[i.index]=d,If(a,d)),M0(d,a,i,h),new YI(d,i,a)}let M0=function O0(i,a,d,h){if(i[ri])return;let g;g=8&d.type?ai(h):function zD(i,a){const d=i[Fn],h=d.createComment(""),g=Dt(a,i);return sf(d,ay(d,g),h,function af(i,a){return i.nextSibling(a)}(d,g),!1),h}(a,d),i[ri]=g};class K_{constructor(a){this.queryList=a,this.matches=null}clone(){return new K_(this.queryList)}setDirty(){this.queryList.setDirty()}}class k0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const h=null!==a.contentQueries?a.contentQueries[0]:d.length,g=[];for(let v=0;v<h;v++){const b=d.getByIndex(v);g.push(this.queries[b.indexInDeclarationView].clone())}return new k0(g)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==aw(a,d).matches&&this.queries[d].setDirty()}}class XI{constructor(a,d,h=null){this.predicate=a,this.flags=d,this.read=h}}class gm{constructor(a=[]){this.queries=a}elementStart(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let h=0;h<this.length;h++){const g=null!==d?d.length:0,v=this.getByIndex(h).embeddedTView(a,g);v&&(v.indexInDeclarationView=h,null!==d?d.push(v):d=[v])}return null!==d?new gm(d):null}template(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class L0{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new L0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const v=h[g];this.matchTNodeWithReadOption(a,d,Zb(d,v)),this.matchTNodeWithReadOption(a,d,zu(d,a,v,!1,!1))}else h===sw?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,zu(d,a,h,!1,!1))}matchTNodeWithReadOption(a,d,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===Od||g===P0||g===sw&&4&d.type)this.addMatch(d.index,-2);else{const v=zu(d,a,g,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,h)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function Zb(i,a){const d=i.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===a)return d[h+1];return null}function Qb(i,a,d,h){return-1===d?function Ge(i,a){return 11&i.type?Qu(i,a):4&i.type?R0(i,a):null}(a,i):-2===d?function Yb(i,a,d){return d===Od?Qu(a,i):d===sw?R0(a,i):d===P0?Kb(a,i):void 0}(i,a,h):tl(i,i[Yt],d,a)}function eT(i,a,d,h){const g=a[ss].queries[h];if(null===g.matches){const v=i.data,b=d.matches,A=[];for(let L=0;L<b.length;L+=2){const K=b[L];A.push(K<0?null:Qb(a,v[K],b[L+1],d.metadata.read))}g.matches=A}return g.matches}function F0(i,a,d,h){const g=i.queries.getByIndex(d),v=g.matches;if(null!==v){const b=eT(i,a,g,d);for(let A=0;A<v.length;A+=2){const L=v[A];if(L>0)h.push(b[A/2]);else{const K=v[A+1],ne=a[-L];for(let ye=Vi;ye<ne.length;ye++){const Be=ne[ye];Be[Ba]===Be[Jr]&&F0(Be[Yt],Be,K,h)}if(null!==ne[oo]){const ye=ne[oo];for(let Be=0;Be<ye.length;Be++){const Qe=ye[Be];F0(Qe[Yt],Qe,K,h)}}}}}return h}function V0(i){const a=Pt(),d=Fr(),h=ze();Wt(h+1);const g=aw(d,h);if(i.dirty&&function Vh(i){return 4==(4&i[cr])}(a)===(2==(2&g.metadata.flags))){if(null===g.matches)i.reset([]);else{const v=g.crossesNgTemplate?F0(d,a,h,[]):eT(d,a,g,h);i.reset(v,Nd),i.notifyOnChanges()}return!0}return!1}function Xu(i,a,d){const h=Fr();h.firstCreatePass&&(j0(h,new XI(i,a,d),-1),2==(2&a)&&(h.staticViewQueries=!0)),B0(h,Pt(),a)}function mm(i,a,d,h){const g=Fr();if(g.firstCreatePass){const v=yi();j0(g,new XI(a,d,h),v.index),function qD(i,a){const d=i.contentQueries||(i.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(i.queries.length-1,a)}(g,i),2==(2&d)&&(g.staticContentQueries=!0)}B0(g,Pt(),d)}function U0(){return function Jb(i,a){return i[ss].queries[a].queryList}(Pt(),ze())}function B0(i,a,d){const h=new x0(4==(4&d));(function Vy(i,a,d,h){const g=Hd(a);g.push(d),i.firstCreatePass&&Oc(i).push(h,g.length-1)})(i,a,h,h.destroy),null===a[ss]&&(a[ss]=new k0),a[ss].queries.push(new K_(h))}function j0(i,a,d){null===i.queries&&(i.queries=new gm),i.queries.track(new L0(a,d))}function aw(i,a){return i.queries.getByIndex(a)}function nT(i){return!!Ci(i)}const pT=new ji("Application Initializer");let Z0=(()=>{var i;class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g}),this.appInits=Rt(pT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const v of this.appInits){const b=v();if(tm(b))h.push(b);else if(Pf(b)){const A=new Promise((L,K)=>{b.subscribe({complete:L,error:K})});h.push(A)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{g()}).catch(v=>{this.reject(v)}),0===h.length&&g(),this.initialized=!0}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),a})(),gT=(()=>{var i;class a{log(h){console.log(h)}warn(h){console.warn(h)}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),a})();const cw=new ji("LocaleId",{providedIn:"root",factory:()=>Rt(cw,wn.Optional|wn.SkipSelf)||function gC(){return typeof $localize<"u"&&$localize.locale||Kp}()}),mC=new ji("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let mT=(()=>{var i;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new m.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),a})();class yC{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let vC=(()=>{var i;class a{compileModuleSync(h){return new gv(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const g=this.compileModuleSync(h),b=Su(Ci(h).declarations).reduce((A,L)=>{const K=Dr(L);return K&&A.push(new Cf(K)),A},[]);return new yC(g,b)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),a})();const wT=new ji(""),IT=new ji("");let TT,hA=(()=>{var i;class a{constructor(h,g,v){this._ngZone=h,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TT||(function NC(i){TT=i}(v),v.addToWindow(g)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,v){let b=-1;g&&g>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==b),h(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:h,timeoutId:b,updateCb:v})}whenStable(h,g,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,g,v){return[]}}return(i=a).\u0275fac=function(h){return new(h||i)(ot(Fo),ot(OC),ot(IT))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),a})(),OC=(()=>{var i;class a{constructor(){this._applications=new Map}registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return TT?.findTestabilityInTree(this,h,g)??null}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),a})(),vm=null;const kC=new ji("AllowMultipleToken"),bT=new ji("PlatformDestroyListeners"),CT=new ji("appBootstrapListener");class gA{constructor(a,d){this.name=a,this.token=d}}function VC(i,a,d=[]){const h=`Platform: ${a}`,g=new ji(h);return(v=[])=>{let b=DT();if(!b||b.injector.get(kC,!1)){const A=[...d,...v,{provide:g,useValue:!0}];i?i(A):function mA(i){if(vm&&!vm.get(kC,!1))throw new Ae(400,!1);(function LC(){!function pu(i){ps=i}(()=>{throw new Ae(600,!1)})})(),vm=i;const a=i.get(BC);(function FC(i){i.get(pf,null)?.forEach(d=>d())})(i)}(function UC(i=[],a){return ol.create({name:a,providers:[{provide:td,useValue:"platform"},{provide:bT,useValue:new Set([()=>vm=null])},...i]})}(A,h))}return function yA(i){const a=DT();if(!a)throw new Ae(401,!1);return a}()}}function DT(){return vm?.get(BC)??null}let BC=(()=>{var i;class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,g){const v=function vA(i="zone.js",a){return"noop"===i?new Ep:"zone.js"===i?new Fo(a):i}(g?.ngZone,function jC(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:g?.ngZoneEventCoalescing,runCoalescing:g?.ngZoneRunCoalescing}));return v.run(()=>{const b=function xD(i,a,d){return new $I(i,a,d)}(h.moduleType,this.injector,function qC(i){return[{provide:Fo,useFactory:i},{provide:wg,multi:!0,useFactory:()=>{const a=Rt(wA,{optional:!0});return()=>a.initialize()}},{provide:GC,useFactory:EA},{provide:bh,useFactory:Py}]}(()=>v)),A=b.injector.get(Fd,null);return v.runOutsideAngular(()=>{const L=v.onError.subscribe({next:K=>{A.handleError(K)}});b.onDestroy(()=>{J0(this._modules,b),L.unsubscribe()})}),function HC(i,a,d){try{const h=d();return tm(h)?h.catch(g=>{throw a.runOutsideAngular(()=>i.handleError(g)),g}):h}catch(h){throw a.runOutsideAngular(()=>i.handleError(h)),h}}(A,v,()=>{const L=b.injector.get(Z0);return L.runInitializers(),L.donePromise.then(()=>(function WE(i){Lt(i,"Expected localeId to be defined"),"string"==typeof i&&(dm=i.toLowerCase().replace(/_/g,"-"))}(b.injector.get(cw,Kp)||Kp),this._moduleDoBootstrap(b),b))})})}bootstrapModule(h,g=[]){const v=$C({},g);return function fA(i,a,d){const h=new gv(d);return Promise.resolve(h)}(0,0,h).then(b=>this.bootstrapModuleFactory(b,v))}_moduleDoBootstrap(h){const g=h.injector.get(Cv);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(v=>g.bootstrap(v));else{if(!h.instance.ngDoBootstrap)throw new Ae(-403,!1);h.instance.ngDoBootstrap(g)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const h=this._injector.get(bT,null);h&&(h.forEach(g=>g()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=a).\u0275fac=function(h){return new(h||i)(ot(ol))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),a})();function $C(i,a){return Array.isArray(a)?a.reduce($C,i):{...i,...a}}let Cv=(()=>{var i;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rt(GC),this.zoneIsStable=Rt(bh),this.componentTypes=[],this.components=[],this.isStable=Rt(mT).hasPendingTasks.pipe((0,ve.w)(h=>h?(0,we.of)(!1):this.zoneIsStable),(0,He.x)(),(0,Ie.B)()),this._injector=Rt(nd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,g){const v=h instanceof Wv;if(!this._injector.get(Z0).done)throw!v&&Os(h),new Ae(405,!1);let A;A=v?h:this._injector.get(Eh).resolveComponentFactory(h),this.componentTypes.push(A.componentType);const L=function pA(i){return i.isBoundToModule}(A)?void 0:this._injector.get(Jd),ne=A.create(ol.NULL,[],g||A.selector,L),ye=ne.location.nativeElement,Be=ne.injector.get(wT,null);return Be?.registerApplication(ye),ne.onDestroy(()=>{this.detachView(ne.hostView),J0(this.components,ne),Be?.unregisterApplication(ye)}),this._loadComponent(ne),ne}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;J0(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const g=this._injector.get(CT,[]);g.push(...this._bootstrapListeners),g.forEach(v=>v(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>J0(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new Ae(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),a})();function J0(i,a){const d=i.indexOf(a);d>-1&&i.splice(d,1)}const GC=new ji("",{providedIn:"root",factory:()=>Rt(Fd).handleError.bind(void 0)});function EA(){const i=Rt(Fo),a=Rt(Fd);return d=>i.runOutsideAngular(()=>a.handleError(d))}let wA=(()=>{var i;class a{constructor(){this.zone=Rt(Fo),this.applicationRef=Rt(Cv)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=a).\u0275fac=function(h){return new(h||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),a})();function TA(){return!1}let bA=(()=>{class a{}return a.__NG_ELEMENT_ID__=CA,a})();function CA(i){return function DA(i,a,d){if(Co(i)&&!d){const h=$o(i.index,a);return new Vp(h,h)}return 47&i.type?new Vp(a[is],a):null}(yi(),Pt(),16==(16&i))}class RT{constructor(){}supports(a){return Up(a)}create(a){return new JC(a)}}const YC=(i,a)=>a;class JC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||YC}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,h=this._removalsHead,g=0,v=null;for(;d||h;){const b=!h||d&&d.currentIndex<tD(h,g,v)?d:h,A=tD(b,g,v),L=b.currentIndex;if(b===h)g--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)g++;else{v||(v=[]);const K=A-g,ne=L-g;if(K!=ne){for(let Be=0;Be<K;Be++){const Qe=Be<v.length?v[Be]:v[Be]=0,At=Qe+Be;ne<=At&&At<K&&(v[Be]=Qe+1)}v[b.previousIndex]=ne-K}}A!==L&&a(b,A,L)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!Up(a))throw new Ae(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let g,v,b,d=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let A=0;A<this.length;A++)v=a[A],b=this._trackByFn(A,v),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,v,b,A)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,b,A),h=!0),d=d._next}else g=0,function Sf(i,a){if(Array.isArray(i))for(let d=0;d<i.length;d++)a(i[d]);else{const d=i[Symbol.iterator]();let h;for(;!(h=d.next()).done;)a(h.value)}}(a,A=>{b=this._trackByFn(g,A),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,A,b,g)),Object.is(d.item,A)||this._addIdentityChange(d,A)):(d=this._mismatch(d,A,b,g),h=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,h,g){let v;return null===a?v=this._itTail:(v=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,v,g)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,v,g)):a=this._addAfter(new XC(d,h),v,g),a}_verifyReinsertion(a,d,h,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==v?a=this._reinsertAfter(v,a._prev,g):a.currentIndex!=g&&(a.currentIndex=g,this._addToMoves(a,g)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const g=a._prevRemoved,v=a._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(a,d,h),this._addToMoves(a,h),a}_moveAfter(a,d,h){return this._unlink(a),this._insertAfter(a,d,h),this._addToMoves(a,h),a}_addAfter(a,d,h){return this._insertAfter(a,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,h){const g=null===d?this._itHead:d._next;return a._next=g,a._prev=d,null===g?this._itTail=a:g._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new PT),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,h=a._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class XC{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eD{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const d=a._prevDup,h=a._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class PT{constructor(){this.map=new Map}put(a){const d=a.trackById;let h=this.map.get(d);h||(h=new eD,this.map.set(d,h)),h.add(a)}get(a,d){const g=this.map.get(a);return g?g.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(i,a,d){const h=i.previousIndex;if(null===h)return h;let g=0;return d&&h<d.length&&(g=d[h]),h+a+g}class nD{constructor(){}supports(a){return a instanceof Map||qg(a)}create(){return new PA}}class PA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||qg(a)))throw new Ae(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(g,h);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const h=a._prev;return d._next=a,d._prev=h,a._prev=d,h&&(h._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const g=this._records.get(a);this._maybeAddToChanges(g,d);const v=g._prev,b=g._next;return v&&(v._next=b),b&&(b._prev=v),g._next=null,g._prev=null,g}const h=new MA(a);return this._records.set(a,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(h=>d(a[h],h))}}class MA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rD(){return new MT([new RT])}let MT=(()=>{var i;class a{constructor(h){this.factories=h}static create(h,g){if(null!=g){const v=g.factories.slice();h=h.concat(v)}return new a(h)}static extend(h){return{provide:a,useFactory:g=>a.create(h,g||rD()),deps:[[a,new Vt,new pt]]}}find(h){const g=this.factories.find(v=>v.supports(h));if(null!=g)return g;throw new Ae(901,!1)}}return(i=a).\u0275prov=Qt({token:i,providedIn:"root",factory:rD}),a})();function iD(){return new OT([new nD])}let OT=(()=>{var i;class a{constructor(h){this.factories=h}static create(h,g){if(g){const v=g.factories.slice();h=h.concat(v)}return new a(h)}static extend(h){return{provide:a,useFactory:g=>a.create(h,g||iD()),deps:[[a,new Vt,new pt]]}}find(h){const g=this.factories.find(v=>v.supports(h));if(g)return g;throw new Ae(901,!1)}}return(i=a).\u0275prov=Qt({token:i,providedIn:"root",factory:iD}),a})();const kA=VC(null,"core",[]);let LA=(()=>{var i;class a{constructor(h){}}return(i=a).\u0275fac=function(h){return new(h||i)(ot(Cv))},i.\u0275mod=lu({type:i}),i.\u0275inj=rr({}),a})();function WA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function ZA(i){const a=Dr(i);if(!a)return null;const d=new Cf(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(Kt,qe,U)=>{U.d(qe,{Z:()=>Tt});var w=U(9058),ae=U(4537),X=U(7592),_e=U(7879);class m{constructor(dt,Ve){this._delegate=dt,this.firebase=Ve,(0,X._addComponent)(dt,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(dt){this._delegate.automaticDataCollectionEnabled=dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(dt=>{this._delegate.checkDestroyed(),dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(dt,Ve=X._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(dt);return!wt.isInitialized()&&"EXPLICIT"===(null===(Ne=wt.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:Ve})}_removeServiceInstance(dt,Ve=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(dt).clearInstance(Ve)}_addComponent(dt){(0,X._addComponent)(this._delegate,dt)}_addOrOverwriteComponent(dt){(0,X._addOrOverwriteComponent)(this._delegate,dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function He(){const ke=function ve(ke){const dt={},Ve={__esModule:!0,initializeApp:function Ae(vt,Ee={}){const ft=X.initializeApp(vt,Ee);if((0,w.r3)(dt,ft.name))return dt[ft.name];const St=new ke(ft,Ve);return dt[ft.name]=St,St},app:wt,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function je(vt){const Ee=vt.name,ft=Ee.replace("-compat","");if(X._registerComponent(vt)&&"PUBLIC"===vt.type){const St=(zt=wt())=>{if("function"!=typeof zt[ft])throw Ie.create("invalid-app-argument",{appName:Ee});return zt[ft]()};void 0!==vt.serviceProps&&(0,w.ZB)(St,vt.serviceProps),Ve[ft]=St,ke.prototype[ft]=function(...zt){return this._getService.bind(this,Ee).apply(this,vt.multipleInstances?zt:[])}}return"PUBLIC"===vt.type?Ve[ft]:null},removeApp:function Ne(vt){delete dt[vt]},useAsService:function ut(vt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:X}};function wt(vt){if(!(0,w.r3)(dt,vt=vt||X._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:vt});return dt[vt]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function ht(){return Object.keys(dt).map(vt=>dt[vt])}}),wt.App=ke,Ve}(m);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function dt(Ve){(0,w.ZB)(ke,Ve)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),ke}(),ge=new _e.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Tt=oe;!function at(ke){(0,X.registerVersion)("@firebase/app-compat","0.2.13",ke)}()},7592:(Kt,qe,U)=>{U.r(qe),U.d(qe,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>yt,_addOrOverwriteComponent:()=>Mt,_apps:()=>tt,_clearComponents:()=>vn,_components:()=>Je,_getProvider:()=>Ot,_registerComponent:()=>Lt,_removeServiceInstance:()=>en,deleteApp:()=>$r,getApp:()=>dr,getApps:()=>Hr,initializeApp:()=>Xn,onLog:()=>ar,registerVersion:()=>yr,setLogLevel:()=>hi});var w=U(5861),ae=U(4537),X=U(7879),_e=U(9058),m=U(1878);class we{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function Ie(st){const Se=st.getComponent();return"VERSION"===Se?.type}(gt)){const kt=gt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(gt=>gt).join(" ")}}const ve="@firebase/app",oe=new X.Yd("@firebase/app"),Ze="[DEFAULT]",Xe={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Je=new Map;function yt(st,Se){try{st.container.addComponent(Se)}catch(gt){oe.debug(`Component ${Se.name} failed to register with FirebaseApp ${st.name}`,gt)}}function Mt(st,Se){st.container.addOrOverwriteComponent(Se)}function Lt(st){const Se=st.name;if(Je.has(Se))return oe.debug(`There were multiple attempts to register component ${Se}.`),!1;Je.set(Se,st);for(const gt of tt.values())yt(gt,st);return!0}function Ot(st,Se){const gt=st.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),st.container.getProvider(Se)}function en(st,Se,gt=Ze){Ot(st,Se).clearInstance(gt)}function vn(){Je.clear()}const Qt=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jn{constructor(Se,gt,kt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},gt),this._name=gt.name,this._automaticDataCollectionEnabled=gt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const rr="9.23.0";function Xn(st,Se={}){let gt=st;"object"!=typeof Se&&(Se={name:Se});const kt=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},Se),rn=kt.name;if("string"!=typeof rn||!rn)throw Qt.create("bad-app-name",{appName:String(rn)});if(gt||(gt=(0,_e.aH)()),!gt)throw Qt.create("no-options");const gn=tt.get(rn);if(gn){if((0,_e.vZ)(gt,gn.options)&&(0,_e.vZ)(kt,gn.config))return gn;throw Qt.create("duplicate-app",{appName:rn})}const mr=new ae.H0(rn);for(const ie of Je.values())mr.addComponent(ie);const be=new Jn(gt,kt,mr);return tt.set(rn,be),be}function dr(st=Ze){const Se=tt.get(st);if(!Se&&st===Ze&&(0,_e.aH)())return Xn();if(!Se)throw Qt.create("no-app",{appName:st});return Se}function Hr(){return Array.from(tt.values())}function $r(st){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(st){const Se=st.name;tt.has(Se)&&(tt.delete(Se),yield Promise.all(st.container.getProviders().map(gt=>gt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function yr(st,Se,gt){var kt;let rn=null!==(kt=Xe[st])&&void 0!==kt?kt:st;gt&&(rn+=`-${gt}`);const gn=rn.match(/\s|\//),mr=Se.match(/\s|\//);if(gn||mr){const be=[`Unable to register library "${rn}" with version "${Se}":`];return gn&&be.push(`library name "${rn}" contains illegal characters (whitespace or "/")`),gn&&mr&&be.push("and"),mr&&be.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void oe.warn(be.join(" "))}Lt(new ae.wA(`${rn}-version`,()=>({library:rn,version:Se}),"VERSION"))}function ar(st,Se){if(null!==st&&"function"!=typeof st)throw Qt.create("invalid-log-argument");(0,X.Am)(st,Se)}function hi(st){(0,X.Ub)(st)}const zr="firebase-heartbeat-database",wn=1,nn="firebase-heartbeat-store";let Cn=null;function Bn(){return Cn||(Cn=(0,m.X3)(zr,wn,{upgrade:(st,Se)=>{0===Se&&st.createObjectStore(nn)}}).catch(st=>{throw Qt.create("idb-open",{originalErrorMessage:st.message})})),Cn}function On(){return(On=(0,w.Z)(function*(st){try{return yield(yield Bn()).transaction(nn).objectStore(nn).get(Qr(st))}catch(Se){if(Se instanceof _e.ZR)oe.warn(Se.message);else{const gt=Qt.create("idb-get",{originalErrorMessage:Se?.message});oe.warn(gt.message)}}})).apply(this,arguments)}function Nn(st,Se){return vr.apply(this,arguments)}function vr(){return(vr=(0,w.Z)(function*(st,Se){try{const kt=(yield Bn()).transaction(nn,"readwrite");yield kt.objectStore(nn).put(Se,Qr(st)),yield kt.done}catch(gt){if(gt instanceof _e.ZR)oe.warn(gt.message);else{const kt=Qt.create("idb-set",{originalErrorMessage:gt?.message});oe.warn(kt.message)}}})).apply(this,arguments)}function Qr(st){return`${st.name}!${st.options.appId}`}class Wn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new Si(gt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Se=this;return(0,w.Z)(function*(){const kt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),rn=gr();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==rn&&!Se._heartbeatsCache.heartbeats.some(gn=>gn.date===rn))return Se._heartbeatsCache.heartbeats.push({date:rn,agent:kt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(gn=>{const mr=new Date(gn.date).valueOf();return Date.now()-mr<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,w.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const gt=gr(),{heartbeatsToSend:kt,unsentEntries:rn}=function Ti(st,Se=1024){const gt=[];let kt=st.slice();for(const rn of st){const gn=gt.find(mr=>mr.agent===rn.agent);if(gn){if(gn.dates.push(rn.date),hr(gt)>Se){gn.dates.pop();break}}else if(gt.push({agent:rn.agent,dates:[rn.date]}),hr(gt)>Se){gt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:gt,unsentEntries:kt}}(Se._heartbeatsCache.heartbeats),gn=(0,_e.L)(JSON.stringify({version:2,heartbeats:kt}));return Se._heartbeatsCache.lastSentHeartbeatDate=gt,rn.length>0?(Se._heartbeatsCache.heartbeats=rn,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),gn})()}}function gr(){return(new Date).toISOString().substring(0,10)}class Si{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,w.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Lr(st){return On.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var gt=this;return(0,w.Z)(function*(){var kt;if(yield gt._canUseIndexedDBPromise){const gn=yield gt.read();return Nn(gt.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:gn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var gt=this;return(0,w.Z)(function*(){var kt;if(yield gt._canUseIndexedDBPromise){const gn=yield gt.read();return Nn(gt.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...Se.heartbeats]})}})()}}function hr(st){return(0,_e.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Un(st){Lt(new ae.wA("platform-logger",Se=>new we(Se),"PRIVATE")),Lt(new ae.wA("heartbeat",Se=>new Wn(Se),"PRIVATE")),yr(ve,"0.9.13",st),yr(ve,"0.9.13","esm2017"),yr("fire-js","")}("")},4097:(Kt,qe,U)=>{U.d(qe,{C6:()=>w.getApps,KN:()=>w.registerVersion,Mq:()=>w.getApp,ZF:()=>w.initializeApp});var w=U(7592);(0,w.registerVersion)("firebase","9.23.0","app")},120:(Kt,qe,U)=>{U.d(qe,{Z:()=>w.Z});var w=U(3399);w.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(Kt,qe,U)=>{U.r(qe);var w=U(5861),ae=U(3399),X=U(6710),_e=U(9058),Ie=(U(7592),U(7879),U(4537));function ve(){return window}function ge(){return ge=(0,w.Z)(function*(q,Z,j){var de;const{BuildInfo:Oe}=ve();(0,X.as)(Z.sessionId,"AuthEvent did not contain a session ID");const ot=yield function Ve(q){return Ne.apply(this,arguments)}(Z.sessionId),$t={};return(0,X.at)()?$t.ibi=Oe.packageName:(0,X.au)()?$t.apn=Oe.packageName:(0,X.av)(q,"operation-not-supported-in-this-environment"),Oe.displayName&&($t.appDisplayName=Oe.displayName),$t.sessionId=ot,(0,X.aw)(q,j,Z.type,void 0,null!==(de=Z.eventId)&&void 0!==de?de:void 0,$t)}),ge.apply(this,arguments)}function Ke(){return(Ke=(0,w.Z)(function*(q){const{BuildInfo:Z}=ve(),j={};(0,X.at)()?j.iosBundleId=Z.packageName:(0,X.au)()?j.androidPackageName=Z.packageName:(0,X.av)(q,"operation-not-supported-in-this-environment"),yield(0,X.ax)(q,j)})).apply(this,arguments)}function ke(){return(ke=(0,w.Z)(function*(q,Z,j){const{cordova:de}=ve();let Oe=()=>{};try{yield new Promise((ot,$t)=>{let Rt=null;function An(){var Re;ot();const se=null===(Re=de.plugins.browsertab)||void 0===Re?void 0:Re.close;"function"==typeof se&&se(),"function"==typeof j?.close&&j.close()}function Dn(){Rt||(Rt=window.setTimeout(()=>{$t((0,X.az)(q,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===document?.visibilityState&&Dn()}Z.addPassiveListener(An),document.addEventListener("resume",Dn,!1),(0,X.au)()&&document.addEventListener("visibilitychange",jn,!1),Oe=()=>{Z.removePassiveListener(An),document.removeEventListener("resume",Dn,!1),document.removeEventListener("visibilitychange",jn,!1),Rt&&window.clearTimeout(Rt)}})}finally{Oe()}})).apply(this,arguments)}function Ne(){return(Ne=(0,w.Z)(function*(q){const Z=function wt(q){if((0,X.as)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(q);const Z=new ArrayBuffer(q.length),j=new Uint8Array(Z);for(let de=0;de<q.length;de++)j[de]=q.charCodeAt(de);return j}(q),j=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array(j)).map(Oe=>Oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ht extends X.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,w.Z)(function*(){yield Z.initPromise})()}}function vt(q){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*(q){const Z=yield zt()._get(_n(q));return Z&&(yield zt()._remove(_n(q))),Z})).apply(this,arguments)}function St(){const q=[];for(let j=0;j<20;j++){const de=Math.floor(62*Math.random());q.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return q.join("")}function zt(){return(0,X.aC)(X.b)}function _n(q){return(0,X.aD)("authEvent",q.config.apiKey,q.name)}function pr(q){if(!q?.includes("?"))return{};const[Z,...j]=q.split("?");return(0,_e.zd)(j.join("?"))}const Ze=class jr{constructor(){this._redirectPersistence=X.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=X.aE,this._overrideRedirectResult=X.aF}_initialize(Z){var j=this;return(0,w.Z)(function*(){const de=Z._key();let Oe=j.eventManagers.get(de);return Oe||(Oe=new ht(Z),j.eventManagers.set(de,Oe),j.attachCallbackListeners(Z,Oe)),Oe})()}_openPopup(Z){(0,X.av)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,j,de,Oe){var ot=this;return(0,w.Z)(function*(){!function dt(q){var Z,j,de,Oe,ot,$t,Rt,An,Dn,jn;const Re=ve();(0,X.aA)("function"==typeof(null===(Z=Re?.universalLinks)||void 0===Z?void 0:Z.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,X.aA)(typeof(null===(j=Re?.BuildInfo)||void 0===j?void 0:j.packageName)<"u",q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,X.aA)("function"==typeof(null===(ot=null===(Oe=null===(de=Re?.cordova)||void 0===de?void 0:de.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===ot?void 0:ot.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,X.aA)("function"==typeof(null===(An=null===(Rt=null===($t=Re?.cordova)||void 0===$t?void 0:$t.plugins)||void 0===Rt?void 0:Rt.browsertab)||void 0===An?void 0:An.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,X.aA)("function"==typeof(null===(jn=null===(Dn=Re?.cordova)||void 0===Dn?void 0:Dn.InAppBrowser)||void 0===jn?void 0:jn.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const $t=yield ot._initialize(Z);yield $t.initialized(),$t.resetRedirect(),(0,X.aG)(),yield ot._originValidation(Z);const Rt=function je(q,Z,j=null){return{type:Z,eventId:j,urlResponse:null,sessionId:St(),postBody:null,tenantId:q.tenantId,error:(0,X.az)(q,"no-auth-event")}}(Z,de,Oe);yield function ut(q,Z){return zt()._set(_n(q),Z)}(Z,Rt);const An=yield function oe(q,Z,j){return ge.apply(this,arguments)}(Z,Rt,j),Dn=yield function at(q){const{cordova:Z}=ve();return new Promise(j=>{Z.plugins.browsertab.isAvailable(de=>{let Oe=null;de?Z.plugins.browsertab.openUrl(q):Oe=Z.InAppBrowser.open(q,(0,X.ay)()?"_blank":"_system","location=yes"),j(Oe)})})}(An);return function Tt(q,Z,j){return ke.apply(this,arguments)}(Z,$t,Dn)})()}_isIframeWebStorageSupported(Z,j){throw new Error("Method not implemented.")}_originValidation(Z){const j=Z._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function Me(q){return Ke.apply(this,arguments)}(Z)),this.originValidationPromises[j]}attachCallbackListeners(Z,j){const{universalLinks:de,handleOpenURL:Oe,BuildInfo:ot}=ve(),$t=setTimeout((0,w.Z)(function*(){yield vt(Z),j.onEvent(Xe())}),500),Rt=function(){var jn=(0,w.Z)(function*(Re){clearTimeout($t);const se=yield vt(Z);let W=null;se&&Re?.url&&(W=function ft(q,Z){var j,de;const Oe=function En(q){const Z=pr(q),j=Z.link?decodeURIComponent(Z.link):void 0,de=pr(j).link,Oe=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return pr(Oe).link||Oe||de||j||q}(Z);if(Oe.includes("/__/auth/callback")){const ot=pr(Oe),$t=ot.firebaseError?function Ln(q){try{return JSON.parse(q)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,Rt=null===(de=null===(j=$t?.code)||void 0===j?void 0:j.split("auth/"))||void 0===de?void 0:de[1],An=Rt?(0,X.az)(Rt):null;return An?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:An,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:Oe,postBody:null}}return null}(se,Re.url)),j.onEvent(W||Xe())});return function(se){return jn.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Rt);const An=Oe,Dn=`${ot.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var jn=(0,w.Z)(function*(Re){if(Re.toLowerCase().startsWith(Dn)&&Rt({url:Re}),"function"==typeof An)try{An(Re)}catch(se){console.error(se)}});return function(Re){return jn.apply(this,arguments)}}()}};function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,X.az)("no-auth-event")}}function Lt(){var q;return(null===(q=self?.location)||void 0===q?void 0:q.protocol)||null}function en(q=(0,_e.z$)()){return!("file:"!==Lt()&&"ionic:"!==Lt()&&"capacitor:"!==Lt()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function rr(){try{const q=self.localStorage,Z=X.aL();if(q)return q.setItem(Z,"1"),q.removeItem(Z),!function Jn(q=(0,_e.z$)()){return function qn(){return(0,_e.w1)()&&11===document?.documentMode}()||function Qt(q=(0,_e.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,_e.hl)()}catch{return Xn()&&(0,_e.hl)()}return!1}function Xn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function dr(){return(function Ot(){return"http:"===Lt()||"https:"===Lt()}()||(0,_e.ru)()||en())&&!function vn(){return(0,_e.b$)()||(0,_e.UG)()}()&&rr()&&!Xn()}function Hr(){return en()&&typeof document<"u"}function Ii(){return(Ii=(0,w.Z)(function*(){return!!Hr()&&new Promise(q=>{const Z=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),q(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},hi=X.aA,zr="persistence";function nn(q){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,w.Z)(function*(q){yield q._initializationPromise;const Z=Lr(),j=X.aD(zr,q.config.apiKey,q.name);Z&&Z.setItem(j,q._getPersistence())})).apply(this,arguments)}function Lr(){var q;try{return(null===(q=function yr(){return typeof window<"u"?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch{return null}}const On=X.aA;class Nn{constructor(){this.browserResolver=X.aC(X.k),this.cordovaResolver=X.aC(Ze),this.underlyingResolver=null,this._redirectPersistence=X.a,this._completeRedirectFn=X.aE,this._overrideRedirectResult=X.aF}_initialize(Z){var j=this;return(0,w.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,j,de,Oe){var ot=this;return(0,w.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(Z,j,de,Oe)})()}_openRedirect(Z,j,de,Oe){var ot=this;return(0,w.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(Z,j,de,Oe)})()}_isIframeWebStorageSupported(Z,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,j)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return Hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return On(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,w.Z)(function*(){if(Z.underlyingResolver)return;const j=yield function $r(){return Ii.apply(this,arguments)}();Z.underlyingResolver=j?Z.cordovaResolver:Z.browserResolver})()}}function vr(q){return q.unwrap()}function er(q){return Wn(q)}function Wn(q){const{_tokenResponse:Z}=q instanceof _e.ZR?q.customData:q;if(!Z)return null;if(!(q instanceof _e.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return X.P.credentialFromResult(q);const j=Z.providerId;if(!j||j===X.p.PASSWORD)return null;let de;switch(j){case X.p.GOOGLE:de=X.V;break;case X.p.FACEBOOK:de=X.U;break;case X.p.GITHUB:de=X.W;break;case X.p.TWITTER:de=X.Z;break;default:const{oauthIdToken:Oe,oauthAccessToken:ot,oauthTokenSecret:$t,pendingToken:Rt,nonce:An}=Z;return ot||$t||Oe||Rt?Rt?j.startsWith("saml.")?X.aO._create(j,Rt):X.L._fromParams({providerId:j,signInMethod:j,pendingToken:Rt,idToken:Oe,accessToken:ot}):new X.X(j).credential({idToken:Oe,accessToken:ot,rawNonce:An}):null}return q instanceof _e.ZR?de.credentialFromError(q):de.credentialFromResult(q)}function gr(q,Z){return Z.catch(j=>{throw j instanceof _e.ZR&&function li(q,Z){var j;const de=null===(j=Z.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===Z?.code)Z.resolver=new hr(q,X.aq(q,Z));else if(de){const Oe=Wn(Z),ot=Z;Oe&&(ot.credential=Oe,ot.tenantId=de.tenantId||void 0,ot.email=de.email||void 0,ot.phoneNumber=de.phoneNumber||void 0)}}(q,j),j}).then(j=>{const Oe=j.user;return{operationType:j.operationType,credential:er(j),additionalUserInfo:X.ao(j),user:Un.getOrCreate(Oe)}})}function Ti(q,Z){return Si.apply(this,arguments)}function Si(){return(Si=(0,w.Z)(function*(q,Z){const j=yield Z;return{verificationId:j.verificationId,confirm:de=>gr(q,j.confirm(de))}})).apply(this,arguments)}class hr{constructor(Z,j){this.resolver=j,this.auth=function Qr(q){return q.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return gr(vr(this.auth),this.resolver.resolveSignIn(Z))}}class Un{constructor(Z){this._delegate=Z,this.multiFactor=X.ar(Z)}static getOrCreate(Z){return Un.USER_MAP.has(Z)||Un.USER_MAP.set(Z,new Un(Z)),Un.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var j=this;return(0,w.Z)(function*(){return gr(j.auth,X.a0(j._delegate,Z))})()}linkWithPhoneNumber(Z,j){var de=this;return(0,w.Z)(function*(){return Ti(de.auth,X.l(de._delegate,Z,j))})()}linkWithPopup(Z){var j=this;return(0,w.Z)(function*(){return gr(j.auth,X.d(j._delegate,Z,Nn))})()}linkWithRedirect(Z){var j=this;return(0,w.Z)(function*(){return yield nn(X.aH(j.auth)),X.g(j._delegate,Z,Nn)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var j=this;return(0,w.Z)(function*(){return gr(j.auth,X.a1(j._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,j){return Ti(this.auth,X.r(this._delegate,Z,j))}reauthenticateWithPopup(Z){return gr(this.auth,X.e(this._delegate,Z,Nn))}reauthenticateWithRedirect(Z){var j=this;return(0,w.Z)(function*(){return yield nn(X.aH(j.auth)),X.h(j._delegate,Z,Nn)})()}sendEmailVerification(Z){return X.ae(this._delegate,Z)}unlink(Z){var j=this;return(0,w.Z)(function*(){return yield X.an(j._delegate,Z),j})()}updateEmail(Z){return X.aj(this._delegate,Z)}updatePassword(Z){return X.ak(this._delegate,Z)}updatePhoneNumber(Z){return X.u(this._delegate,Z)}updateProfile(Z){return X.ai(this._delegate,Z)}verifyBeforeUpdateEmail(Z,j){return X.af(this._delegate,Z,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Un.USER_MAP=new WeakMap;const st=X.aA;let Se=(()=>{class q{constructor(j,de){if(this.app=j,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=j.options;st(Oe,"invalid-api-key",{appName:j.name}),st(Oe,"invalid-api-key",{appName:j.name});const ot=typeof window<"u"?Nn:void 0;this._delegate=de.initialize({options:{persistence:kt(Oe,j.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(X.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Un.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,de){X.I(this._delegate,j,de)}applyActionCode(j){return X.a5(this._delegate,j)}checkActionCode(j){return X.a6(this._delegate,j)}confirmPasswordReset(j,de){return X.a4(this._delegate,j,de)}createUserWithEmailAndPassword(j,de){var Oe=this;return(0,w.Z)(function*(){return gr(Oe._delegate,X.a8(Oe._delegate,j,de))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return X.ad(this._delegate,j)}isSignInWithEmailLink(j){return X.ab(this._delegate,j)}getRedirectResult(){var j=this;return(0,w.Z)(function*(){st(dr(),j._delegate,"operation-not-supported-in-this-environment");const de=yield X.j(j._delegate,Nn);return de?gr(j._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function tt(q,Z){(0,X.aH)(q)._logFramework(Z)}(this._delegate,j)}onAuthStateChanged(j,de,Oe){const{next:ot,error:$t,complete:Rt}=gt(j,de,Oe);return this._delegate.onAuthStateChanged(ot,$t,Rt)}onIdTokenChanged(j,de,Oe){const{next:ot,error:$t,complete:Rt}=gt(j,de,Oe);return this._delegate.onIdTokenChanged(ot,$t,Rt)}sendSignInLinkToEmail(j,de){return X.aa(this._delegate,j,de)}sendPasswordResetEmail(j,de){return X.a3(this._delegate,j,de||void 0)}setPersistence(j){var de=this;return(0,w.Z)(function*(){let Oe;switch(function wn(q,Z){hi(Object.values(ar).includes(Z),q,"invalid-persistence-type"),(0,_e.b$)()?hi(Z!==ar.SESSION,q,"unsupported-persistence-type"):(0,_e.UG)()?hi(Z===ar.NONE,q,"unsupported-persistence-type"):Xn()?hi(Z===ar.NONE||Z===ar.LOCAL&&(0,_e.hl)(),q,"unsupported-persistence-type"):hi(Z===ar.NONE||rr(),q,"unsupported-persistence-type")}(de._delegate,j),j){case ar.SESSION:Oe=X.a;break;case ar.LOCAL:Oe=(yield X.aC(X.i)._isAvailable())?X.i:X.b;break;case ar.NONE:Oe=X.N;break;default:return X.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return gr(this._delegate,X._(this._delegate))}signInWithCredential(j){return gr(this._delegate,X.$(this._delegate,j))}signInWithCustomToken(j){return gr(this._delegate,X.a2(this._delegate,j))}signInWithEmailAndPassword(j,de){return gr(this._delegate,X.a9(this._delegate,j,de))}signInWithEmailLink(j,de){return gr(this._delegate,X.ac(this._delegate,j,de))}signInWithPhoneNumber(j,de){return Ti(this._delegate,X.s(this._delegate,j,de))}signInWithPopup(j){var de=this;return(0,w.Z)(function*(){return st(dr(),de._delegate,"operation-not-supported-in-this-environment"),gr(de._delegate,X.c(de._delegate,j,Nn))})()}signInWithRedirect(j){var de=this;return(0,w.Z)(function*(){return st(dr(),de._delegate,"operation-not-supported-in-this-environment"),yield nn(de._delegate),X.f(de._delegate,j,Nn)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return X.a7(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=ar,q})();function gt(q,Z,j){let de=q;"function"!=typeof q&&({next:de,error:Z,complete:j}=q);const Oe=de;return{next:$t=>Oe($t&&Un.getOrCreate($t)),error:Z,complete:j}}function kt(q,Z){const j=function Bn(q,Z){const j=Lr();if(!j)return[];const de=X.aD(zr,q,Z);switch(j.getItem(de)){case ar.NONE:return[X.N];case ar.LOCAL:return[X.i,X.a];case ar.SESSION:return[X.a];default:return[]}}(q,Z);if(typeof self<"u"&&!j.includes(X.i)&&j.push(X.i),typeof window<"u")for(const de of[X.b,X.a])j.includes(de)||j.push(de);return j.includes(X.N)||j.push(X.N),j}class rn{constructor(){this.providerId="phone",this._delegate=new X.P(vr(ae.Z.auth()))}static credential(Z,j){return X.P.credential(Z,j)}verifyPhoneNumber(Z,j){return this._delegate.verifyPhoneNumber(Z,j)}unwrap(){return this._delegate}}rn.PHONE_SIGN_IN_METHOD=X.P.PHONE_SIGN_IN_METHOD,rn.PROVIDER_ID=X.P.PROVIDER_ID;const gn=X.aA;class mr{constructor(Z,j,de=ae.Z.app()){var Oe;gn(null===(Oe=de.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new X.R(Z,j,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ie(q){q.INTERNAL.registerComponent(new Ie.wA("auth-compat",Z=>{const j=Z.getProvider("app-compat").getImmediate(),de=Z.getProvider("auth");return new Se(j,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:X.A.EMAIL_SIGNIN,PASSWORD_RESET:X.A.PASSWORD_RESET,RECOVER_EMAIL:X.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:X.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:X.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:X.A.VERIFY_EMAIL}},EmailAuthProvider:X.Q,FacebookAuthProvider:X.U,GithubAuthProvider:X.W,GoogleAuthProvider:X.V,OAuthProvider:X.X,SAMLAuthProvider:X.Y,PhoneAuthProvider:rn,PhoneMultiFactorGenerator:X.m,RecaptchaVerifier:mr,TwitterAuthProvider:X.Z,Auth:Se,AuthCredential:X.J,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.4.2")}(ae.Z)},6593:(Kt,qe,U)=>{U.d(qe,{Dx:()=>ar,b2:()=>dr,q6:()=>Qt});var w=U(5879),ae=U(6814);class X extends ae.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends X{static makeCurrent(){(0,ae.HT)(new _e)}onAndCancel(q,Z,j){return q.addEventListener(Z,j),()=>{q.removeEventListener(Z,j)}}dispatchEvent(q,Z){q.dispatchEvent(Z)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,Z){return(Z=Z||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,Z){return"window"===Z?window:"document"===Z?q:"body"===Z?q.body:null}getBaseHref(q){const Z=function we(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==Z?null:function ve(ie){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",ie);const q=Ie.pathname;return"/"===q.charAt(0)?q:`/${q}`}(Z)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,ae.Mx)(document.cookie,q)}}let Ie,m=null,oe=(()=>{var ie;class q{build(){return new XMLHttpRequest}}return(ie=q).\u0275fac=function(j){return new(j||ie)},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac}),q})();const ge=new w.OlP("EventManagerPlugins");let Me=(()=>{var ie;class q{constructor(j,de){this._zone=de,this._eventNameToPlugin=new Map,j.forEach(Oe=>{Oe.manager=this}),this._plugins=j.slice().reverse()}addEventListener(j,de,Oe){return this._findPluginFor(de).addEventListener(j,de,Oe)}getZone(){return this._zone}_findPluginFor(j){let de=this._eventNameToPlugin.get(j);if(de)return de;if(de=this._plugins.find(ot=>ot.supports(j)),!de)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(j,de),de}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(ge),w.LFG(w.R0b))},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac}),q})();class Ke{constructor(q){this._doc=q}}const at="ng-app-id";let Tt=(()=>{var ie;class q{constructor(j,de,Oe,ot={}){this.doc=j,this.appId=de,this.nonce=Oe,this.platformId=ot,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.PM)(ot),this.resetHostNodes()}addStyles(j){for(const de of j)1===this.changeUsageCount(de,1)&&this.onStyleAdded(de)}removeStyles(j){for(const de of j)this.changeUsageCount(de,-1)<=0&&this.onStyleRemoved(de)}ngOnDestroy(){const j=this.styleNodesInDOM;j&&(j.forEach(de=>de.remove()),j.clear());for(const de of this.getAllStyles())this.onStyleRemoved(de);this.resetHostNodes()}addHost(j){this.hostNodes.add(j);for(const de of this.getAllStyles())this.addStyleToHost(j,de)}removeHost(j){this.hostNodes.delete(j)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(j){for(const de of this.hostNodes)this.addStyleToHost(de,j)}onStyleRemoved(j){const de=this.styleRef;de.get(j)?.elements?.forEach(Oe=>Oe.remove()),de.delete(j)}collectServerRenderedStyles(){const j=this.doc.head?.querySelectorAll(`style[${at}="${this.appId}"]`);if(j?.length){const de=new Map;return j.forEach(Oe=>{null!=Oe.textContent&&de.set(Oe.textContent,Oe)}),de}return null}changeUsageCount(j,de){const Oe=this.styleRef;if(Oe.has(j)){const ot=Oe.get(j);return ot.usage+=de,ot.usage}return Oe.set(j,{usage:de,elements:[]}),de}getStyleElement(j,de){const Oe=this.styleNodesInDOM,ot=Oe?.get(de);if(ot?.parentNode===j)return Oe.delete(de),ot.removeAttribute(at),ot;{const $t=this.doc.createElement("style");return this.nonce&&$t.setAttribute("nonce",this.nonce),$t.textContent=de,this.platformIsServer&&$t.setAttribute(at,this.appId),$t}}addStyleToHost(j,de){const Oe=this.getStyleElement(j,de);j.appendChild(Oe);const ot=this.styleRef,$t=ot.get(de)?.elements;$t?$t.push(Oe):ot.set(de,{elements:[Oe],usage:1})}resetHostNodes(){const j=this.hostNodes;j.clear(),j.add(this.doc.head)}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(ae.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac}),q})();const ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dt=/%COMP%/g,ht=new w.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vt(ie,q){return q.map(Z=>Z.replace(dt,ie))}let Ee=(()=>{var ie;class q{constructor(j,de,Oe,ot,$t,Rt,An,Dn=null){this.eventManager=j,this.sharedStylesHost=de,this.appId=Oe,this.removeStylesOnCompDestroy=ot,this.doc=$t,this.platformId=Rt,this.ngZone=An,this.nonce=Dn,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.PM)(Rt),this.defaultRenderer=new ft(j,$t,An,this.platformIsServer)}createRenderer(j,de){if(!j||!de)return this.defaultRenderer;this.platformIsServer&&de.encapsulation===w.ifc.ShadowDom&&(de={...de,encapsulation:w.ifc.Emulated});const Oe=this.getOrCreateRenderer(j,de);return Oe instanceof pr?Oe.applyToHost(j):Oe instanceof En&&Oe.applyStyles(),Oe}getOrCreateRenderer(j,de){const Oe=this.rendererByCompId;let ot=Oe.get(de.id);if(!ot){const $t=this.doc,Rt=this.ngZone,An=this.eventManager,Dn=this.sharedStylesHost,jn=this.removeStylesOnCompDestroy,Re=this.platformIsServer;switch(de.encapsulation){case w.ifc.Emulated:ot=new pr(An,Dn,de,this.appId,jn,$t,Rt,Re);break;case w.ifc.ShadowDom:return new Ln(An,Dn,j,de,$t,Rt,this.nonce,Re);default:ot=new En(An,Dn,de,jn,$t,Rt,Re)}Oe.set(de.id,ot)}return ot}ngOnDestroy(){this.rendererByCompId.clear()}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(Me),w.LFG(Tt),w.LFG(w.AFp),w.LFG(ht),w.LFG(ae.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac}),q})();class ft{constructor(q,Z,j,de){this.eventManager=q,this.doc=Z,this.ngZone=j,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,Z){return Z?this.doc.createElementNS(ke[Z]||Z,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,Z){(_n(q)?q.content:q).appendChild(Z)}insertBefore(q,Z,j){q&&(_n(q)?q.content:q).insertBefore(Z,j)}removeChild(q,Z){q&&q.removeChild(Z)}selectRootElement(q,Z){let j="string"==typeof q?this.doc.querySelector(q):q;if(!j)throw new w.vHH(-5104,!1);return Z||(j.textContent=""),j}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,Z,j,de){if(de){Z=de+":"+Z;const Oe=ke[de];Oe?q.setAttributeNS(Oe,Z,j):q.setAttribute(Z,j)}else q.setAttribute(Z,j)}removeAttribute(q,Z,j){if(j){const de=ke[j];de?q.removeAttributeNS(de,Z):q.removeAttribute(`${j}:${Z}`)}else q.removeAttribute(Z)}addClass(q,Z){q.classList.add(Z)}removeClass(q,Z){q.classList.remove(Z)}setStyle(q,Z,j,de){de&(w.JOm.DashCase|w.JOm.Important)?q.style.setProperty(Z,j,de&w.JOm.Important?"important":""):q.style[Z]=j}removeStyle(q,Z,j){j&w.JOm.DashCase?q.style.removeProperty(Z):q.style[Z]=""}setProperty(q,Z,j){q[Z]=j}setValue(q,Z){q.nodeValue=Z}listen(q,Z,j){if("string"==typeof q&&!(q=(0,ae.q)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${Z}`);return this.eventManager.addEventListener(q,Z,this.decoratePreventDefault(j))}decoratePreventDefault(q){return Z=>{if("__ngUnwrap__"===Z)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(Z)):q(Z))&&Z.preventDefault()}}}function _n(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class Ln extends ft{constructor(q,Z,j,de,Oe,ot,$t,Rt){super(q,Oe,ot,Rt),this.sharedStylesHost=Z,this.hostEl=j,this.shadowRoot=j.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const An=vt(de.id,de.styles);for(const Dn of An){const jn=document.createElement("style");$t&&jn.setAttribute("nonce",$t),jn.textContent=Dn,this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,Z){return super.appendChild(this.nodeOrShadowRoot(q),Z)}insertBefore(q,Z,j){return super.insertBefore(this.nodeOrShadowRoot(q),Z,j)}removeChild(q,Z){return super.removeChild(this.nodeOrShadowRoot(q),Z)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class En extends ft{constructor(q,Z,j,de,Oe,ot,$t,Rt){super(q,Oe,ot,$t),this.sharedStylesHost=Z,this.removeStylesOnCompDestroy=de,this.styles=Rt?vt(Rt,j.styles):j.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pr extends En{constructor(q,Z,j,de,Oe,ot,$t,Rt){const An=de+"-"+j.id;super(q,Z,j,Oe,ot,$t,Rt,An),this.contentAttr=function je(ie){return"_ngcontent-%COMP%".replace(dt,ie)}(An),this.hostAttr=function ut(ie){return"_nghost-%COMP%".replace(dt,ie)}(An)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,Z){const j=super.createElement(q,Z);return super.setAttribute(j,this.contentAttr,""),j}}let tr=(()=>{var ie;class q extends Ke{constructor(j){super(j)}supports(j){return!0}addEventListener(j,de,Oe){return j.addEventListener(de,Oe,!1),()=>this.removeEventListener(j,de,Oe)}removeEventListener(j,de,Oe){return j.removeEventListener(de,Oe)}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(ae.K0))},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac}),q})();const jr=["alt","control","meta","shift"],Ze={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xe={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let tt=(()=>{var ie;class q extends Ke{constructor(j){super(j)}supports(j){return null!=q.parseEventName(j)}addEventListener(j,de,Oe){const ot=q.parseEventName(de),$t=q.eventCallback(ot.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.q)().onAndCancel(j,ot.domEventName,$t))}static parseEventName(j){const de=j.toLowerCase().split("."),Oe=de.shift();if(0===de.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const ot=q._normalizeKey(de.pop());let $t="",Rt=de.indexOf("code");if(Rt>-1&&(de.splice(Rt,1),$t="code."),jr.forEach(Dn=>{const jn=de.indexOf(Dn);jn>-1&&(de.splice(jn,1),$t+=Dn+".")}),$t+=ot,0!=de.length||0===ot.length)return null;const An={};return An.domEventName=Oe,An.fullKey=$t,An}static matchEventFullKeyCode(j,de){let Oe=Ze[j.key]||j.key,ot="";return de.indexOf("code.")>-1&&(Oe=j.code,ot="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),jr.forEach($t=>{$t!==Oe&&(0,Xe[$t])(j)&&(ot+=$t+".")}),ot+=Oe,ot===de)}static eventCallback(j,de,Oe){return ot=>{q.matchEventFullKeyCode(ot,j)&&Oe.runGuarded(()=>de(ot))}}static _normalizeKey(j){return"esc"===j?"escape":j}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(ae.K0))},ie.\u0275prov=w.Yz7({token:ie,factory:ie.\u0275fac}),q})();const Qt=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:ae.bD},{provide:w.g9A,useValue:function Ot(){_e.makeCurrent()},multi:!0},{provide:ae.K0,useFactory:function vn(){return(0,w.RDi)(document),document},deps:[]}]),Jn=new w.OlP(""),rr=[{provide:w.rWj,useClass:class He{addToWindow(q){w.dqk.getAngularTestability=(j,de=!0)=>{const Oe=q.findTestabilityInTree(j,de);if(null==Oe)throw new w.vHH(5103,!1);return Oe},w.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(j=>{const de=w.dqk.getAllAngularTestabilities();let Oe=de.length,ot=!1;const $t=function(Rt){ot=ot||Rt,Oe--,0==Oe&&j(ot)};de.forEach(Rt=>{Rt.whenStable($t)})})}findTestabilityInTree(q,Z,j){return null==Z?null:q.getTestability(Z)??(j?(0,ae.q)().isShadowRoot(Z)?this.findTestabilityInTree(q,Z.host,!0):this.findTestabilityInTree(q,Z.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],Xn=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function en(){return new w.qLn},deps:[]},{provide:ge,useClass:tr,multi:!0,deps:[ae.K0,w.R0b,w.Lbi]},{provide:ge,useClass:tt,multi:!0,deps:[ae.K0]},Ee,Tt,Me,{provide:w.FYo,useExisting:Ee},{provide:ae.JF,useClass:oe,deps:[]},[]];let dr=(()=>{var ie;class q{constructor(j){}static withServerTransition(j){return{ngModule:q,providers:[{provide:w.AFp,useValue:j.appId}]}}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(Jn,12))},ie.\u0275mod=w.oAB({type:ie}),ie.\u0275inj=w.cJS({providers:[...Xn,...rr],imports:[ae.ez,w.hGG]}),q})(),ar=(()=>{var ie;class q{constructor(j){this._doc=j}getTitle(){return this._doc.title}setTitle(j){this._doc.title=j||""}}return(ie=q).\u0275fac=function(j){return new(j||ie)(w.LFG(ae.K0))},ie.\u0275prov=w.Yz7({token:ie,factory:function(j){let de=null;return de=j?new j:function yr(){return new ar((0,w.LFG)(ae.K0))}(),de},providedIn:"root"}),q})();typeof window<"u"&&window},3914:(Kt,qe,U)=>{U.d(qe,{gz:()=>To,F0:()=>sn,rH:()=>lt,Bz:()=>Hc,lC:()=>bo});var w=U(5879),ae=U(5592),X=U(4674),m=U(2459),we=U(2096),Ie=U(5619),ve=U(2572),He=U(6973),oe=U(5211),ge=U(4829);function Me(D){return new ae.y(P=>{(0,ge.Xf)(D()).subscribe(P)})}var Ke=U(8407),at=U(8504),Tt=U(6232),ke=U(7394),dt=U(9360),Ve=U(8251);function Ne(){return(0,dt.e)((D,P)=>{let V=null;D._refCount++;const O=(0,Ve.x)(P,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(V=null);const z=D._connection,re=V;V=null,z&&(!re||z===re)&&z.unsubscribe(),P.unsubscribe()});D.subscribe(O),O.closed||(V=D.connect())})}class wt extends ae.y{constructor(P,V){super(),this.source=P,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,dt.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ke.w0;const V=this.getSubject();P.add(this.source.subscribe((0,Ve.x)(V,void 0,()=>{this._teardown(),V.complete()},O=>{this._teardown(),V.error(O)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ke.w0.EMPTY)}return P}refCount(){return Ne()(this)}}var Ae=U(8645),ht=U(6814),je=U(7398),ut=U(4664),vt=U(8180),Ee=U(7921),ft=U(2181),St=U(1631),zt=U(1374),_n=U(6328),Ln=U(9397),En=U(6306),pr=U(6699),tr=U(3572);function jr(D){return D<=0?()=>Tt.E:(0,dt.e)((P,V)=>{let O=[];P.subscribe((0,Ve.x)(V,z=>{O.push(z),D<O.length&&O.shift()},()=>{for(const z of O)V.next(z);V.complete()},void 0,()=>{O=null}))})}var Ze=U(3026),Xe=U(2737),yt=U(4716),Mt=U(9773),Lt=U(7537),Ot=U(6593);const en="primary",vn=Symbol("RouteTitle");class qn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V[0]:V}return null}getAll(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function Qt(D){return new qn(D)}function Jn(D,P,V){const O=V.path.split("/");if(O.length>D.length||"full"===V.pathMatch&&(P.hasChildren()||O.length<D.length))return null;const z={};for(let re=0;re<O.length;re++){const pe=O[re],ze=D[re];if(pe.startsWith(":"))z[pe.substring(1)]=ze;else if(pe!==ze.path)return null}return{consumed:D.slice(0,O.length),posParams:z}}function Xn(D,P){const V=D?Object.keys(D):void 0,O=P?Object.keys(P):void 0;if(!V||!O||V.length!=O.length)return!1;let z;for(let re=0;re<V.length;re++)if(z=V[re],!dr(D[z],P[z]))return!1;return!0}function dr(D,P){if(Array.isArray(D)&&Array.isArray(P)){if(D.length!==P.length)return!1;const V=[...D].sort(),O=[...P].sort();return V.every((z,re)=>O[re]===z)}return D===P}function Hr(D){return D.length>0?D[D.length-1]:null}function $r(D){return function _e(D){return!!D&&(D instanceof ae.y||(0,X.m)(D.lift)&&(0,X.m)(D.subscribe))}(D)?D:(0,w.QGY)(D)?(0,m.D)(Promise.resolve(D)):(0,we.of)(D)}const Ii={exact:function zr(D,P,V){if(!Qr(D.segments,P.segments)||!Bn(D.segments,P.segments,V)||D.numberOfChildren!==P.numberOfChildren)return!1;for(const O in P.children)if(!D.children[O]||!zr(D.children[O],P.children[O],V))return!1;return!0},subset:nn},yr={exact:function hi(D,P){return Xn(D,P)},subset:function wn(D,P){return Object.keys(P).length<=Object.keys(D).length&&Object.keys(P).every(V=>dr(D[V],P[V]))},ignored:()=>!0};function ar(D,P,V){return Ii[V.paths](D.root,P.root,V.matrixParams)&&yr[V.queryParams](D.queryParams,P.queryParams)&&!("exact"===V.fragment&&D.fragment!==P.fragment)}function nn(D,P,V){return Cn(D,P,P.segments,V)}function Cn(D,P,V,O){if(D.segments.length>V.length){const z=D.segments.slice(0,V.length);return!(!Qr(z,V)||P.hasChildren()||!Bn(z,V,O))}if(D.segments.length===V.length){if(!Qr(D.segments,V)||!Bn(D.segments,V,O))return!1;for(const z in P.children)if(!D.children[z]||!nn(D.children[z],P.children[z],O))return!1;return!0}{const z=V.slice(0,D.segments.length),re=V.slice(D.segments.length);return!!(Qr(D.segments,z)&&Bn(D.segments,z,O)&&D.children[en])&&Cn(D.children[en],P,re,O)}}function Bn(D,P,V){return P.every((O,z)=>yr[V](D[z].parameters,O.parameters))}class Lr{constructor(P=new On([],{}),V={},O=null){this.root=P,this.queryParams=V,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qt(this.queryParams)),this._queryParamMap}toString(){return gr.serialize(this)}}class On{constructor(P,V){this.segments=P,this.children=V,this.parent=null,Object.values(V).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ti(this)}}class Nn{constructor(P,V){this.path=P,this.parameters=V}get parameterMap(){return this._parameterMap||(this._parameterMap=Qt(this.parameters)),this._parameterMap}toString(){return rn(this)}}function Qr(D,P){return D.length===P.length&&D.every((V,O)=>V.path===P[O].path)}let li=(()=>{var D;class P{}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return new Wn},providedIn:"root"}),P})();class Wn{parse(P){const V=new $t(P);return new Lr(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(P){const V=`/${Si(P.root,!0)}`,O=function mr(D){const P=Object.keys(D).map(V=>{const O=D[V];return Array.isArray(O)?O.map(z=>`${Un(V)}=${Un(z)}`).join("&"):`${Un(V)}=${Un(O)}`}).filter(V=>!!V);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${V}${O}${"string"==typeof P.fragment?`#${function st(D){return encodeURI(D)}(P.fragment)}`:""}`}}const gr=new Wn;function Ti(D){return D.segments.map(P=>rn(P)).join("/")}function Si(D,P){if(!D.hasChildren())return Ti(D);if(P){const V=D.children[en]?Si(D.children[en],!1):"",O=[];return Object.entries(D.children).forEach(([z,re])=>{z!==en&&O.push(`${z}:${Si(re,!1)}`)}),O.length>0?`${V}(${O.join("//")})`:V}{const V=function er(D,P){let V=[];return Object.entries(D.children).forEach(([O,z])=>{O===en&&(V=V.concat(P(z,O)))}),Object.entries(D.children).forEach(([O,z])=>{O!==en&&(V=V.concat(P(z,O)))}),V}(D,(O,z)=>z===en?[Si(D.children[en],!1)]:[`${z}:${Si(O,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[en]?`${Ti(D)}/${V[0]}`:`${Ti(D)}/(${V.join("//")})`}}function hr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Un(D){return hr(D).replace(/%3B/gi,";")}function Se(D){return hr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gt(D){return decodeURIComponent(D)}function kt(D){return gt(D.replace(/\+/g,"%20"))}function rn(D){return`${Se(D.path)}${function gn(D){return Object.keys(D).map(P=>`;${Se(P)}=${Se(D[P])}`).join("")}(D.parameters)}`}const be=/^[^\/()?;#]+/;function ie(D){const P=D.match(be);return P?P[0]:""}const q=/^[^\/()?;=#]+/,j=/^[^=?&#]+/,Oe=/^[^&#]+/;class $t{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(P.length>0||Object.keys(V).length>0)&&(O[en]=new On(P,V)),O}parseSegment(){const P=ie(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(P),new Nn(gt(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const V=function Z(D){const P=D.match(q);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let O="";if(this.consumeOptional("=")){const z=ie(this.remaining);z&&(O=z,this.capture(O))}P[gt(V)]=gt(O)}parseQueryParam(P){const V=function de(D){const P=D.match(j);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let O="";if(this.consumeOptional("=")){const pe=function ot(D){const P=D.match(Oe);return P?P[0]:""}(this.remaining);pe&&(O=pe,this.capture(O))}const z=kt(V),re=kt(O);if(P.hasOwnProperty(z)){let pe=P[z];Array.isArray(pe)||(pe=[pe],P[z]=pe),pe.push(re)}else P[z]=re}parseParens(P){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=ie(this.remaining),z=this.remaining[O.length];if("/"!==z&&")"!==z&&";"!==z)throw new w.vHH(4010,!1);let re;O.indexOf(":")>-1?(re=O.slice(0,O.indexOf(":")),this.capture(re),this.capture(":")):P&&(re=en);const pe=this.parseChildren();V[re]=1===Object.keys(pe).length?pe[en]:new On([],pe),this.consumeOptional("//")}return V}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new w.vHH(4011,!1)}}function Rt(D){return D.segments.length>0?new On([],{[en]:D}):D}function An(D){const P={};for(const O of Object.keys(D.children)){const re=An(D.children[O]);if(O===en&&0===re.segments.length&&re.hasChildren())for(const[pe,ze]of Object.entries(re.children))P[pe]=ze;else(re.segments.length>0||re.hasChildren())&&(P[O]=re)}return function Dn(D){if(1===D.numberOfChildren&&D.children[en]){const P=D.children[en];return new On(D.segments.concat(P.segments),P.children)}return D}(new On(D.segments,P))}function jn(D){return D instanceof Lr}function se(D){let P;const z=Rt(function V(re){const pe={};for(const Wt of re.children){const ct=V(Wt);pe[Wt.outlet]=ct}const ze=new On(re.url,pe);return re===D&&(P=ze),ze}(D.root));return P??z}function W(D,P,V,O){let z=D;for(;z.parent;)z=z.parent;if(0===P.length)return Ue(z,z,z,V,O);const re=function Pn(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new It(!0,0,D);let P=0,V=!1;const O=D.reduce((z,re,pe)=>{if("object"==typeof re&&null!=re){if(re.outlets){const ze={};return Object.entries(re.outlets).forEach(([Wt,ct])=>{ze[Wt]="string"==typeof ct?ct.split("/"):ct}),[...z,{outlets:ze}]}if(re.segmentPath)return[...z,re.segmentPath]}return"string"!=typeof re?[...z,re]:0===pe?(re.split("/").forEach((ze,Wt)=>{0==Wt&&"."===ze||(0==Wt&&""===ze?V=!0:".."===ze?P++:""!=ze&&z.push(ze))}),z):[...z,re]},[]);return new It(V,P,O)}(P);if(re.toRoot())return Ue(z,z,new On([],{}),V,O);const pe=function Yr(D,P,V){if(D.isAbsolute)return new cn(P,!0,0);if(!V)return new cn(P,!1,NaN);if(null===V.parent)return new cn(V,!0,0);const O=te(D.commands[0])?0:1;return function mi(D,P,V){let O=D,z=P,re=V;for(;re>z;){if(re-=z,O=O.parent,!O)throw new w.vHH(4005,!1);z=O.segments.length}return new cn(O,!1,z-re)}(V,V.segments.length-1+O,D.numberOfDoubleDots)}(re,z,D),ze=pe.processChildren?rs(pe.segmentGroup,pe.index,re.commands):xi(pe.segmentGroup,pe.index,re.commands);return Ue(z,pe.segmentGroup,ze,V,O)}function te(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function De(D){return"object"==typeof D&&null!=D&&D.outlets}function Ue(D,P,V,O,z){let pe,re={};O&&Object.entries(O).forEach(([Wt,ct])=>{re[Wt]=Array.isArray(ct)?ct.map(kn=>`${kn}`):`${ct}`}),pe=D===P?V:Ct(D,P,V);const ze=Rt(An(pe));return new Lr(ze,re,z)}function Ct(D,P,V){const O={};return Object.entries(D.children).forEach(([z,re])=>{O[z]=re===P?V:Ct(re,P,V)}),new On(D.segments,O)}class It{constructor(P,V,O){if(this.isAbsolute=P,this.numberOfDoubleDots=V,this.commands=O,P&&O.length>0&&te(O[0]))throw new w.vHH(4003,!1);const z=O.find(De);if(z&&z!==Hr(O))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cn{constructor(P,V,O){this.segmentGroup=P,this.processChildren=V,this.index=O}}function xi(D,P,V){if(D||(D=new On([],{})),0===D.segments.length&&D.hasChildren())return rs(D,P,V);const O=function ui(D,P,V){let O=0,z=P;const re={match:!1,pathIndex:0,commandIndex:0};for(;z<D.segments.length;){if(O>=V.length)return re;const pe=D.segments[z],ze=V[O];if(De(ze))break;const Wt=`${ze}`,ct=O<V.length-1?V[O+1]:null;if(z>0&&void 0===Wt)break;if(Wt&&ct&&"object"==typeof ct&&void 0===ct.outlets){if(!Ss(Wt,ct,pe))return re;O+=2}else{if(!Ss(Wt,{},pe))return re;O++}z++}return{match:!0,pathIndex:z,commandIndex:O}}(D,P,V),z=V.slice(O.commandIndex);if(O.match&&O.pathIndex<D.segments.length){const re=new On(D.segments.slice(0,O.pathIndex),{});return re.children[en]=new On(D.segments.slice(O.pathIndex),D.children),rs(re,0,z)}return O.match&&0===z.length?new On(D.segments,{}):O.match&&!D.hasChildren()?lr(D,P,V):O.match?rs(D,0,z):lr(D,P,V)}function rs(D,P,V){if(0===V.length)return new On(D.segments,{});{const O=function Ur(D){return De(D[0])?D[0].outlets:{[en]:D}}(V),z={};if(Object.keys(O).some(re=>re!==en)&&D.children[en]&&1===D.numberOfChildren&&0===D.children[en].segments.length){const re=rs(D.children[en],P,V);return new On(D.segments,re.children)}return Object.entries(O).forEach(([re,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(z[re]=xi(D.children[re],P,pe))}),Object.entries(D.children).forEach(([re,pe])=>{void 0===O[re]&&(z[re]=pe)}),new On(D.segments,z)}}function lr(D,P,V){const O=D.segments.slice(0,P);let z=0;for(;z<V.length;){const re=V[z];if(De(re)){const Wt=ur(re.outlets);return new On(O,Wt)}if(0===z&&te(V[0])){O.push(new Nn(D.segments[P].path,fi(V[0]))),z++;continue}const pe=De(re)?re.outlets[en]:`${re}`,ze=z<V.length-1?V[z+1]:null;pe&&ze&&te(ze)?(O.push(new Nn(pe,fi(ze))),z+=2):(O.push(new Nn(pe,{})),z++)}return new On(O,{})}function ur(D){const P={};return Object.entries(D).forEach(([V,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(P[V]=lr(new On([],{}),0,O))}),P}function fi(D){const P={};return Object.entries(D).forEach(([V,O])=>P[V]=`${O}`),P}function Ss(D,P,V){return D==V.path&&Xn(P,V.parameters)}const Rr="imperative";class Sn{constructor(P,V){this.id=P,this.url=V}}class bi extends Sn{constructor(P,V,O="imperative",z=null){super(P,V),this.type=0,this.navigationTrigger=O,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends Sn{constructor(P,V,O){super(P,V),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _a extends Sn{constructor(P,V,O,z){super(P,V),this.reason=O,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Sn{constructor(P,V,O,z){super(P,V),this.reason=O,this.code=z,this.type=16}}class Fe extends Sn{constructor(P,V,O,z){super(P,V),this.error=O,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Le extends Sn{constructor(P,V,O,z){super(P,V),this.urlAfterRedirects=O,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et extends Sn{constructor(P,V,O,z){super(P,V),this.urlAfterRedirects=O,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends Sn{constructor(P,V,O,z,re){super(P,V),this.urlAfterRedirects=O,this.state=z,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gt extends Sn{constructor(P,V,O,z){super(P,V),this.urlAfterRedirects=O,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends Sn{constructor(P,V,O,z){super(P,V),this.urlAfterRedirects=O,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _r{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Er{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Br{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fa{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(P,V,O){this.routerEvent=P,this.position=V,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Va{}class dl{constructor(P){this.url=P}}class ya{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new va,this.attachRef=null}}let va=(()=>{var D;class P{constructor(){this.contexts=new Map}onChildOutletCreated(O,z){const re=this.getOrCreateContext(O);re.outlet=z,this.contexts.set(O,re)}onChildOutletDestroyed(O){const z=this.getContext(O);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let z=this.getContext(O);return z||(z=new ya,this.contexts.set(O,z)),z}getContext(O){return this.contexts.get(O)||null}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();class hl{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const V=this.pathFromRoot(P);return V.length>1?V[V.length-2]:null}children(P){const V=fl(P,this._root);return V?V.children.map(O=>O.value):[]}firstChild(P){const V=fl(P,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(P){const V=Dr(P,this._root);return V.length<2?[]:V[V.length-2].children.map(z=>z.value).filter(z=>z!==P)}pathFromRoot(P){return Dr(P,this._root).map(V=>V.value)}}function fl(D,P){if(D===P.value)return P;for(const V of P.children){const O=fl(D,V);if(O)return O}return null}function Dr(D,P){if(D===P.value)return[P];for(const V of P.children){const O=Dr(D,V);if(O.length)return O.unshift(P),O}return[]}class ci{constructor(P,V){this.value=P,this.children=V}toString(){return`TreeNode(${this.value})`}}function ki(D){const P={};return D&&D.children.forEach(V=>P[V.value.outlet]=V),P}class Os extends hl{constructor(P,V){super(P),this.snapshot=V,Yt(this,P)}toString(){return this.snapshot.toString()}}function Ci(D,P){const V=function uu(D,P){const pe=new ho([],{},{},"",{},en,P,null,{});return new pi("",new ci(pe,[]))}(0,P),O=new Ie.X([new Nn("",{})]),z=new Ie.X({}),re=new Ie.X({}),pe=new Ie.X({}),ze=new Ie.X(""),Wt=new To(O,z,pe,ze,re,en,P,V.root);return Wt.snapshot=V.root,new Os(new ci(Wt,[]),V)}class To{constructor(P,V,O,z,re,pe,ze,Wt){this.urlSubject=P,this.paramsSubject=V,this.queryParamsSubject=O,this.fragmentSubject=z,this.dataSubject=re,this.outlet=pe,this.component=ze,this._futureSnapshot=Wt,this.title=this.dataSubject?.pipe((0,je.U)(ct=>ct[vn]))??(0,we.of)(void 0),this.url=P,this.params=V,this.queryParams=O,this.fragment=z,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(P=>Qt(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(P=>Qt(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ua(D,P="emptyOnly"){const V=D.pathFromRoot;let O=0;if("always"!==P)for(O=V.length-1;O>=1;){const z=V[O],re=V[O-1];if(z.routeConfig&&""===z.routeConfig.path)O--;else{if(re.component)break;O--}}return function Wr(D){return D.reduce((P,V)=>({params:{...P.params,...V.params},data:{...P.data,...V.data},resolve:{...V.data,...P.resolve,...V.routeConfig?.data,...V._resolvedData}}),{params:{},data:{},resolve:{}})}(V.slice(O))}class ho{get title(){return this.data?.[vn]}constructor(P,V,O,z,re,pe,ze,Wt,ct){this.url=P,this.params=V,this.queryParams=O,this.fragment=z,this.data=re,this.outlet=pe,this.component=ze,this.routeConfig=Wt,this._resolve=ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pi extends hl{constructor(P,V){super(V),this.url=P,Yt(this,V)}toString(){return cr(this._root)}}function Yt(D,P){P.value._routerState=D,P.children.forEach(V=>Yt(D,V))}function cr(D){const P=D.children.length>0?` { ${D.children.map(cr).join(", ")} } `:"";return`${D.value}${P}`}function Jr(D){if(D.snapshot){const P=D.snapshot,V=D._futureSnapshot;D.snapshot=V,Xn(P.queryParams,V.queryParams)||D.queryParamsSubject.next(V.queryParams),P.fragment!==V.fragment&&D.fragmentSubject.next(V.fragment),Xn(P.params,V.params)||D.paramsSubject.next(V.params),function rr(D,P){if(D.length!==P.length)return!1;for(let V=0;V<D.length;++V)if(!Xn(D[V],P[V]))return!1;return!0}(P.url,V.url)||D.urlSubject.next(V.url),Xn(P.data,V.data)||D.dataSubject.next(V.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Us(D,P){const V=Xn(D.params,P.params)&&function vr(D,P){return Qr(D,P)&&D.every((V,O)=>Xn(V.parameters,P[O].parameters))}(D.url,P.url);return V&&!(!D.parent!=!P.parent)&&(!D.parent||Us(D.parent,P.parent))}let bo=(()=>{var D;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(va),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(ro,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:z,previousValue:re}=O.name;if(z)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){return this.parentContexts.getContext(O)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);O?.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,z){this.activated=O,this._activatedRoute=z,this.location.insert(O.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,z){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=O;const re=this.location,ze=O.snapshot.component,Wt=this.parentContexts.getOrCreateContext(this.name).children,ct=new Bs(O,Wt,re.injector);this.activated=re.createComponent(ze,{index:re.length,injector:ct,environmentInjector:z??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275dir=w.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),P})();class Bs{constructor(P,V,O){this.route=P,this.childContexts=V,this.parent=O}get(P,V){return P===To?this.route:P===va?this.childContexts:this.parent.get(P,V)}}const ro=new w.OlP("");let Di=(()=>{var D;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){this.outletDataSubscriptions.get(O)?.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:z}=O,re=(0,ve.a)([z.queryParams,z.params,z.data]).pipe((0,ut.w)(([pe,ze,Wt],ct)=>(Wt={...pe,...ze,...Wt},0===ct?(0,we.of)(Wt):Promise.resolve(Wt)))).subscribe(pe=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==z||null===z.component)return void this.unsubscribeFromRouteData(O);const ze=(0,w.qFp)(z.component);if(ze)for(const{templateName:Wt}of ze.inputs)O.activatedComponentRef.setInput(Wt,pe[Wt]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,re)}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),P})();function fo(D,P,V){if(V&&D.shouldReuseRoute(P.value,V.value.snapshot)){const O=V.value;O._futureSnapshot=P.value;const z=function Fn(D,P,V){return P.children.map(O=>{for(const z of V.children)if(D.shouldReuseRoute(O.value,z.value.snapshot))return fo(D,O,z);return fo(D,O)})}(D,P,V);return new ci(O,z)}{if(D.shouldAttach(P.value)){const re=D.retrieve(P.value);if(null!==re){const pe=re.route;return pe.value._futureSnapshot=P.value,pe.children=P.children.map(ze=>fo(D,ze)),pe}}const O=function po(D){return new To(new Ie.X(D.url),new Ie.X(D.params),new Ie.X(D.queryParams),new Ie.X(D.fragment),new Ie.X(D.data),D.outlet,D.component,D)}(P.value),z=P.children.map(re=>fo(D,re));return new ci(O,z)}}const Ea="ngNavigationCancelingError";function io(D,P){const{redirectTo:V,navigationBehaviorOptions:O}=jn(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,z=is(!1,0,P);return z.url=V,z.navigationBehaviorOptions=O,z}function is(D,P,V){const O=new Error("NavigationCancelingError: "+(D||""));return O[Ea]=!0,O.cancellationCode=P,V&&(O.url=V),O}function so(D){return D&&D[Ea]}let ss=(()=>{var D;class P{}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275cmp=w.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(O,z){1&O&&w._UZ(0,"router-outlet")},dependencies:[bo],encapsulation:2}),P})();function xs(D){const P=D.children&&D.children.map(xs),V=P?{...D,children:P}:{...D};return!V.component&&!V.loadComponent&&(P||V.loadChildren)&&V.outlet&&V.outlet!==en&&(V.component=ss),V}function ri(D){return D.outlet||en}function oo(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let P=D.parent;P;P=P.parent){const V=P.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class Ol{constructor(P,V,O,z,re){this.routeReuseStrategy=P,this.futureState=V,this.currState=O,this.forwardEvent=z,this.inputBindingEnabled=re}activate(P){const V=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,O,P),Jr(this.futureState.root),this.activateChildRoutes(V,O,P)}deactivateChildRoutes(P,V,O){const z=ki(V);P.children.forEach(re=>{const pe=re.value.outlet;this.deactivateRoutes(re,z[pe],O),delete z[pe]}),Object.values(z).forEach(re=>{this.deactivateRouteAndItsChildren(re,O)})}deactivateRoutes(P,V,O){const z=P.value,re=V?V.value:null;if(z===re)if(z.component){const pe=O.getContext(z.outlet);pe&&this.deactivateChildRoutes(P,V,pe.children)}else this.deactivateChildRoutes(P,V,O);else re&&this.deactivateRouteAndItsChildren(V,O)}deactivateRouteAndItsChildren(P,V){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,V):this.deactivateRouteAndOutlet(P,V)}detachAndStoreRouteSubtree(P,V){const O=V.getContext(P.value.outlet),z=O&&P.value.component?O.children:V,re=ki(P);for(const pe of Object.keys(re))this.deactivateRouteAndItsChildren(re[pe],z);if(O&&O.outlet){const pe=O.outlet.detach(),ze=O.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:pe,route:P,contexts:ze})}}deactivateRouteAndOutlet(P,V){const O=V.getContext(P.value.outlet),z=O&&P.value.component?O.children:V,re=ki(P);for(const pe of Object.keys(re))this.deactivateRouteAndItsChildren(re[pe],z);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(P,V,O){const z=ki(V);P.children.forEach(re=>{this.activateRoutes(re,z[re.value.outlet],O),this.forwardEvent(new no(re.value.snapshot))}),P.children.length&&this.forwardEvent(new Fa(P.value.snapshot))}activateRoutes(P,V,O){const z=P.value,re=V?V.value:null;if(Jr(z),z===re)if(z.component){const pe=O.getOrCreateContext(z.outlet);this.activateChildRoutes(P,V,pe.children)}else this.activateChildRoutes(P,V,O);else if(z.component){const pe=O.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const ze=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),pe.children.onOutletReAttached(ze.contexts),pe.attachRef=ze.componentRef,pe.route=ze.route.value,pe.outlet&&pe.outlet.attach(ze.componentRef,ze.route.value),Jr(ze.route.value),this.activateChildRoutes(P,null,pe.children)}else{const ze=oo(z.snapshot);pe.attachRef=null,pe.route=z,pe.injector=ze,pe.outlet&&pe.outlet.activateWith(z,pe.injector),this.activateChildRoutes(P,null,pe.children)}}else this.activateChildRoutes(P,null,O)}}class Qi{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class wr{constructor(P,V){this.component=P,this.route=V}}function ku(D,P,V){const O=D._root;return Yi(O,P?P._root:null,V,[O.value])}function vs(D,P){const V=Symbol(),O=P.get(D,V);return O===V?"function"!=typeof D||(0,w.Z0I)(D)?P.get(D):D:O}function Yi(D,P,V,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const re=ki(P);return D.children.forEach(pe=>{(function Ha(D,P,V,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const re=D.value,pe=P?P.value:null,ze=V?V.getContext(D.value.outlet):null;if(pe&&re.routeConfig===pe.routeConfig){const Wt=function pl(D,P,V){if("function"==typeof V)return V(D,P);switch(V){case"pathParamsChange":return!Qr(D.url,P.url);case"pathParamsOrQueryParamsChange":return!Qr(D.url,P.url)||!Xn(D.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Us(D,P)||!Xn(D.queryParams,P.queryParams);default:return!Us(D,P)}}(pe,re,re.routeConfig.runGuardsAndResolvers);Wt?z.canActivateChecks.push(new Qi(O)):(re.data=pe.data,re._resolvedData=pe._resolvedData),Yi(D,P,re.component?ze?ze.children:null:V,O,z),Wt&&ze&&ze.outlet&&ze.outlet.isActivated&&z.canDeactivateChecks.push(new wr(ze.outlet.component,pe))}else pe&&gl(P,ze,z),z.canActivateChecks.push(new Qi(O)),Yi(D,null,re.component?ze?ze.children:null:V,O,z)})(pe,re[pe.value.outlet],V,O.concat([pe.value]),z),delete re[pe.value.outlet]}),Object.entries(re).forEach(([pe,ze])=>gl(ze,V.getContext(pe),z)),z}function gl(D,P,V){const O=ki(D),z=D.value;Object.entries(O).forEach(([re,pe])=>{gl(pe,z.component?P?P.children.getContext(re):null:P,V)}),V.canDeactivateChecks.push(new wr(z.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,z))}function Ia(D){return"function"==typeof D}function yd(D){return D instanceof He.K||"EmptyError"===D?.name}const Nl=Symbol("INITIAL_VALUE");function Lu(){return(0,ut.w)(D=>(0,ve.a)(D.map(P=>P.pipe((0,vt.q)(1),(0,Ee.O)(Nl)))).pipe((0,je.U)(P=>{for(const V of P)if(!0!==V){if(V===Nl)return Nl;if(!1===V||V instanceof Lr)return V}return!0}),(0,ft.h)(P=>P!==Nl),(0,vt.q)(1)))}function Ao(D){return(0,Ke.z)((0,Ln.b)(P=>{if(jn(P))throw io(0,P)}),(0,je.U)(P=>!0===P))}class Rs{constructor(P){this.segmentGroup=P||null}}class _i{constructor(P){this.urlTree=P}}function jo(D){return(0,at._)(new Rs(D))}function Es(D){return(0,at._)(new _i(D))}class Fl{constructor(P,V){this.urlSerializer=P,this.urlTree=V}noMatchError(P){return new w.vHH(4002,!1)}lineralizeSegments(P,V){let O=[],z=V.root;for(;;){if(O=O.concat(z.segments),0===z.numberOfChildren)return(0,we.of)(O);if(z.numberOfChildren>1||!z.children[en])return(0,at._)(new w.vHH(4e3,!1));z=z.children[en]}}applyRedirectCommands(P,V,O){return this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),P,O)}applyRedirectCreateUrlTree(P,V,O,z){const re=this.createSegmentGroup(P,V.root,O,z);return new Lr(re,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(P,V){const O={};return Object.entries(P).forEach(([z,re])=>{if("string"==typeof re&&re.startsWith(":")){const ze=re.substring(1);O[z]=V[ze]}else O[z]=re}),O}createSegmentGroup(P,V,O,z){const re=this.createSegments(P,V.segments,O,z);let pe={};return Object.entries(V.children).forEach(([ze,Wt])=>{pe[ze]=this.createSegmentGroup(P,Wt,O,z)}),new On(re,pe)}createSegments(P,V,O,z){return V.map(re=>re.path.startsWith(":")?this.findPosParam(P,re,z):this.findOrReturn(re,O))}findPosParam(P,V,O){const z=O[V.path.substring(1)];if(!z)throw new w.vHH(4001,!1);return z}findOrReturn(P,V){let O=0;for(const z of V){if(z.path===P.path)return V.splice(O),z;O++}return P}}const Ns={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ta(D,P,V,O,z){const re=Vl(D,P,V);return re.matched?(O=function na(D,P){return D.providers&&!D._injector&&(D._injector=(0,w.MMx)(D.providers,P,`Route: ${D.path}`)),D._injector??P}(P,O),function hu(D,P,V,O){const z=P.canMatch;if(!z||0===z.length)return(0,we.of)(!0);const re=z.map(pe=>{const ze=vs(pe,D);return $r(function Bc(D){return D&&Ia(D.canMatch)}(ze)?ze.canMatch(P,V):D.runInContext(()=>ze(P,V)))});return(0,we.of)(re).pipe(Lu(),Ao())}(O,P,V).pipe((0,je.U)(pe=>!0===pe?re:{...Ns}))):(0,we.of)(re)}function Vl(D,P,V){if(""===P.path)return"full"===P.pathMatch&&(D.hasChildren()||V.length>0)?{...Ns}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const z=(P.matcher||Jn)(V,D,P);if(!z)return{...Ns};const re={};Object.entries(z.posParams??{}).forEach(([ze,Wt])=>{re[ze]=Wt.path});const pe=z.consumed.length>0?{...re,...z.consumed[z.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:z.consumed,remainingSegments:V.slice(z.consumed.length),parameters:pe,positionalParamSegments:z.posParams??{}}}function ba(D,P,V,O){return V.length>0&&function Ca(D,P,V){return V.some(O=>sa(D,P,O)&&ri(O)!==en)}(D,V,O)?{segmentGroup:new On(P,Ho(O,new On(V,D.children))),slicedSegments:[]}:0===V.length&&function di(D,P,V){return V.some(O=>sa(D,P,O))}(D,V,O)?{segmentGroup:new On(D.segments,Ji(D,0,V,O,D.children)),slicedSegments:V}:{segmentGroup:new On(D.segments,D.children),slicedSegments:V}}function Ji(D,P,V,O,z){const re={};for(const pe of O)if(sa(D,V,pe)&&!z[ri(pe)]){const ze=new On([],{});re[ri(pe)]=ze}return{...z,...re}}function Ho(D,P){const V={};V[en]=P;for(const O of D)if(""===O.path&&ri(O)!==en){const z=new On([],{});V[ri(O)]=z}return V}function sa(D,P,V){return(!(D.hasChildren()||P.length>0)||"full"!==V.pathMatch)&&""===V.path}class Ul{constructor(P,V,O,z,re,pe,ze){this.injector=P,this.configLoader=V,this.rootComponentType=O,this.config=z,this.urlTree=re,this.paramsInheritanceStrategy=pe,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new Fl(this.urlSerializer,this.urlTree)}noMatchError(P){return new w.vHH(4002,!1)}recognize(){const P=ba(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,en).pipe((0,En.K)(V=>{if(V instanceof _i)return this.allowRedirects=!1,this.urlTree=V.urlTree,this.match(V.urlTree);throw V instanceof Rs?this.noMatchError(V):V}),(0,je.U)(V=>{const O=new ho([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,{}),z=new ci(O,V),re=new pi("",z),pe=function Re(D,P,V=null,O=null){return W(se(D),P,V,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(re._root),{state:re,tree:pe}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P.root,en).pipe((0,En.K)(O=>{throw O instanceof Rs?this.noMatchError(O):O}))}inheritParamsAndData(P){const V=P.value,O=Ua(V,this.paramsInheritanceStrategy);V.params=Object.freeze(O.params),V.data=Object.freeze(O.data),P.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(P,V,O,z){return 0===O.segments.length&&O.hasChildren()?this.processChildren(P,V,O):this.processSegment(P,V,O,O.segments,z,!0)}processChildren(P,V,O){const z=[];for(const re of Object.keys(O.children))"primary"===re?z.unshift(re):z.push(re);return(0,m.D)(z).pipe((0,_n.b)(re=>{const pe=O.children[re],ze=function os(D,P){const V=D.filter(O=>ri(O)===P);return V.push(...D.filter(O=>ri(O)!==P)),V}(V,re);return this.processSegmentGroup(P,ze,pe,re)}),(0,pr.R)((re,pe)=>(re.push(...pe),re)),(0,tr.d)(null),function tt(D,P){const V=arguments.length>=2;return O=>O.pipe(D?(0,ft.h)((z,re)=>D(z,re,O)):Xe.y,jr(1),V?(0,tr.d)(P):(0,Ze.T)(()=>new He.K))}(),(0,St.z)(re=>{if(null===re)return jo(O);const pe=fu(re);return function oa(D){D.sort((P,V)=>P.value.outlet===en?-1:V.value.outlet===en?1:P.value.outlet.localeCompare(V.value.outlet))}(pe),(0,we.of)(pe)}))}processSegment(P,V,O,z,re,pe){return(0,m.D)(V).pipe((0,_n.b)(ze=>this.processSegmentAgainstRoute(ze._injector??P,V,ze,O,z,re,pe).pipe((0,En.K)(Wt=>{if(Wt instanceof Rs)return(0,we.of)(null);throw Wt}))),(0,zt.P)(ze=>!!ze),(0,En.K)(ze=>{if(yd(ze))return function fs(D,P,V){return 0===P.length&&!D.children[V]}(O,z,re)?(0,we.of)([]):jo(O);throw ze}))}processSegmentAgainstRoute(P,V,O,z,re,pe,ze){return function _l(D,P,V,O){return!!(ri(D)===O||O!==en&&sa(P,V,D))&&("**"===D.path||Vl(P,D,V).matched)}(O,z,re,pe)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(P,z,O,re,pe,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,z,V,O,re,pe):jo(z):jo(z)}expandSegmentAgainstRouteUsingRedirect(P,V,O,z,re,pe){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,O,z,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(P,V,O,z,re,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,V,O,z){const re=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Es(re):this.applyRedirects.lineralizeSegments(O,re).pipe((0,St.z)(pe=>{const ze=new On(pe,{});return this.processSegment(P,V,ze,pe,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,V,O,z,re,pe){const{matched:ze,consumedSegments:Wt,remainingSegments:ct,positionalParamSegments:kn}=Vl(V,z,re);if(!ze)return jo(V);const Qn=this.applyRedirects.applyRedirectCommands(Wt,z.redirectTo,kn);return z.redirectTo.startsWith("/")?Es(Qn):this.applyRedirects.lineralizeSegments(z,Qn).pipe((0,St.z)(si=>this.processSegment(P,O,V,si.concat(ct),pe,!1)))}matchSegmentAgainstRoute(P,V,O,z,re,pe){let ze;if("**"===O.path){const Wt=z.length>0?Hr(z).parameters:{},ct=new ho(z,Wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,go(O),ri(O),O.component??O._loadedComponent??null,O,ps(O));ze=(0,we.of)({snapshot:ct,consumedSegments:[],remainingSegments:[]}),V.children={}}else ze=Ta(V,O,z,P).pipe((0,je.U)(({matched:Wt,consumedSegments:ct,remainingSegments:kn,parameters:Qn})=>Wt?{snapshot:new ho(ct,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,go(O),ri(O),O.component??O._loadedComponent??null,O,ps(O)),consumedSegments:ct,remainingSegments:kn}:null));return ze.pipe((0,ut.w)(Wt=>null===Wt?jo(V):this.getChildConfig(P=O._injector??P,O,z).pipe((0,ut.w)(({routes:ct})=>{const kn=O._loadedInjector??P,{snapshot:Qn,consumedSegments:si,remainingSegments:ti}=Wt,{segmentGroup:$s,slicedSegments:Mo}=ba(V,si,ti,ct);if(0===Mo.length&&$s.hasChildren())return this.processChildren(kn,ct,$s).pipe((0,je.U)(aa=>null===aa?null:[new ci(Qn,aa)]));if(0===ct.length&&0===Mo.length)return(0,we.of)([new ci(Qn,[])]);const Qa=ri(O)===re;return this.processSegment(kn,ct,$s,Mo,Qa?en:re,!0).pipe((0,je.U)(aa=>[new ci(Qn,aa)]))}))))}getChildConfig(P,V,O){return V.children?(0,we.of)({routes:V.children,injector:P}):V.loadChildren?void 0!==V._loadedRoutes?(0,we.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function ia(D,P,V,O){const z=P.canLoad;if(void 0===z||0===z.length)return(0,we.of)(!0);const re=z.map(pe=>{const ze=vs(pe,D);return $r(function Do(D){return D&&Ia(D.canLoad)}(ze)?ze.canLoad(P,V):D.runInContext(()=>ze(P,V)))});return(0,we.of)(re).pipe(Lu(),Ao())}(P,V,O).pipe((0,St.z)(z=>z?this.configLoader.loadChildren(P,V).pipe((0,Ln.b)(re=>{V._loadedRoutes=re.routes,V._loadedInjector=re.injector})):function Ll(D){return(0,at._)(is(!1,3))}())):(0,we.of)({routes:[],injector:P})}}function yl(D){const P=D.value.routeConfig;return P&&""===P.path}function fu(D){const P=[],V=new Set;for(const O of D){if(!yl(O)){P.push(O);continue}const z=P.find(re=>O.value.routeConfig===re.value.routeConfig);void 0!==z?(z.children.push(...O.children),V.add(z)):P.push(O)}for(const O of V){const z=fu(O.children);P.push(new ci(O.value,z))}return P.filter(O=>!V.has(O))}function go(D){return D.data||{}}function ps(D){return D.resolve||{}}function Vu(D){return"string"==typeof D.title||null===D.title}function x(D){return(0,ut.w)(P=>{const V=D(P);return V?(0,m.D)(V).pipe((0,je.U)(()=>P)):(0,we.of)(P)})}const G=new w.OlP("ROUTES");let me=(()=>{var D;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,we.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const z=$r(O.loadComponent()).pipe((0,je.U)(he),(0,Ln.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=pe}),(0,yt.x)(()=>{this.componentLoaders.delete(O)})),re=new wt(z,()=>new Ae.x).pipe(Ne());return this.componentLoaders.set(O,re),re}loadChildren(O,z){if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return(0,we.of)({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const pe=this.loadModuleFactoryOrRoutes(z.loadChildren).pipe((0,je.U)(Wt=>{this.onLoadEndListener&&this.onLoadEndListener(z);let ct,kn;return Array.isArray(Wt)?kn=Wt:(ct=Wt.create(O).injector,kn=ct.get(G,[],w.XFs.Self|w.XFs.Optional).flat()),{routes:kn.map(xs),injector:ct}}),(0,yt.x)(()=>{this.childrenLoaders.delete(z)})),ze=new wt(pe,()=>new Ae.x).pipe(Ne());return this.childrenLoaders.set(z,ze),ze}loadModuleFactoryOrRoutes(O){return $r(O()).pipe((0,je.U)(he),(0,St.z)(z=>z instanceof w.YKP||Array.isArray(z)?(0,we.of)(z):(0,m.D)(this.compiler.compileModuleAsync(z))))}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function he(D){return function B(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Pe=(()=>{var D;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae.x,this.transitionAbortSubject=new Ae.x,this.configLoader=(0,w.f3M)(me),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(li),this.rootContexts=(0,w.f3M)(va),this.inputBindingEnabled=null!==(0,w.f3M)(ro,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,we.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=re=>this.events.next(new Er(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new _r(re))}complete(){this.transitions?.complete()}handleNavigationRequest(O){const z=++this.navigationId;this.transitions?.next({...this.transitions.value,...O,id:z})}setupNavigations(O,z,re){return this.transitions=new Ie.X({id:0,currentUrlTree:z,currentRawUrl:z,currentBrowserUrl:z,extractedUrl:O.urlHandlingStrategy.extract(z),urlAfterRedirects:O.urlHandlingStrategy.extract(z),rawUrl:z,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rr,restoredState:null,currentSnapshot:re.snapshot,targetSnapshot:null,currentRouterState:re,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ft.h)(pe=>0!==pe.id),(0,je.U)(pe=>({...pe,extractedUrl:O.urlHandlingStrategy.extract(pe.rawUrl)})),(0,ut.w)(pe=>{this.currentTransition=pe;let ze=!1,Wt=!1;return(0,we.of)(pe).pipe((0,Ln.b)(ct=>{this.currentNavigation={id:ct.id,initialUrl:ct.rawUrl,extractedUrl:ct.extractedUrl,trigger:ct.source,extras:ct.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ut.w)(ct=>{const kn=ct.currentBrowserUrl.toString(),Qn=!O.navigated||ct.extractedUrl.toString()!==kn||kn!==ct.currentUrlTree.toString();if(!Qn&&"reload"!==(ct.extras.onSameUrlNavigation??O.onSameUrlNavigation)){const ti="";return this.events.next(new co(ct.id,this.urlSerializer.serialize(ct.rawUrl),ti,0)),ct.resolve(null),Tt.E}if(O.urlHandlingStrategy.shouldProcessUrl(ct.rawUrl))return(0,we.of)(ct).pipe((0,ut.w)(ti=>{const $s=this.transitions?.getValue();return this.events.next(new bi(ti.id,this.urlSerializer.serialize(ti.extractedUrl),ti.source,ti.restoredState)),$s!==this.transitions?.getValue()?Tt.E:Promise.resolve(ti)}),function za(D,P,V,O,z,re){return(0,St.z)(pe=>function Fu(D,P,V,O,z,re,pe="emptyOnly"){return new Ul(D,P,V,O,z,pe,re).recognize()}(D,P,V,O,pe.extractedUrl,z,re).pipe((0,je.U)(({state:ze,tree:Wt})=>({...pe,targetSnapshot:ze,urlAfterRedirects:Wt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,O.paramsInheritanceStrategy),(0,Ln.b)(ti=>{pe.targetSnapshot=ti.targetSnapshot,pe.urlAfterRedirects=ti.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ti.urlAfterRedirects};const $s=new Le(ti.id,this.urlSerializer.serialize(ti.extractedUrl),this.urlSerializer.serialize(ti.urlAfterRedirects),ti.targetSnapshot);this.events.next($s)}));if(Qn&&O.urlHandlingStrategy.shouldProcessUrl(ct.currentRawUrl)){const{id:ti,extractedUrl:$s,source:Mo,restoredState:Qa,extras:aa}=ct,lc=new bi(ti,this.urlSerializer.serialize($s),Mo,Qa);this.events.next(lc);const _o=Ci(0,this.rootComponentType).snapshot;return this.currentTransition=pe={...ct,targetSnapshot:_o,urlAfterRedirects:$s,extras:{...aa,skipLocationChange:!1,replaceUrl:!1}},(0,we.of)(pe)}{const ti="";return this.events.next(new co(ct.id,this.urlSerializer.serialize(ct.extractedUrl),ti,1)),ct.resolve(null),Tt.E}}),(0,Ln.b)(ct=>{const kn=new et(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(kn)}),(0,je.U)(ct=>(this.currentTransition=pe={...ct,guards:ku(ct.targetSnapshot,ct.currentSnapshot,this.rootContexts)},pe)),function kl(D,P){return(0,St.z)(V=>{const{targetSnapshot:O,currentSnapshot:z,guards:{canActivateChecks:re,canDeactivateChecks:pe}}=V;return 0===pe.length&&0===re.length?(0,we.of)({...V,guardsResult:!0}):function Bo(D,P,V,O){return(0,m.D)(D).pipe((0,St.z)(z=>function du(D,P,V,O,z){const re=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,we.of)(!0);const pe=re.map(ze=>{const Wt=oo(P)??z,ct=vs(ze,Wt);return $r(function Uc(D){return D&&Ia(D.canDeactivate)}(ct)?ct.canDeactivate(D,P,V,O):Wt.runInContext(()=>ct(D,P,V,O))).pipe((0,zt.P)())});return(0,we.of)(pe).pipe(Lu())}(z.component,z.route,V,P,O)),(0,zt.P)(z=>!0!==z,!0))}(pe,O,z,D).pipe((0,St.z)(ze=>ze&&function nc(D){return"boolean"==typeof D}(ze)?function jc(D,P,V,O){return(0,m.D)(P).pipe((0,_n.b)(z=>(0,oe.z)(function ml(D,P){return null!==D&&P&&P(new Br(D)),(0,we.of)(!0)}(z.route.parent,O),function ra(D,P){return null!==D&&P&&P(new qr(D)),(0,we.of)(!0)}(z.route,O),function sc(D,P,V){const O=P[P.length-1],re=P.slice(0,P.length-1).reverse().map(pe=>function Co(D){const P=D.routeConfig?D.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:D,guards:P}:null}(pe)).filter(pe=>null!==pe).map(pe=>Me(()=>{const ze=pe.guards.map(Wt=>{const ct=oo(pe.node)??V,kn=vs(Wt,ct);return $r(function ic(D){return D&&Ia(D.canActivateChild)}(kn)?kn.canActivateChild(O,D):ct.runInContext(()=>kn(O,D))).pipe((0,zt.P)())});return(0,we.of)(ze).pipe(Lu())}));return(0,we.of)(re).pipe(Lu())}(D,z.path,V),function vd(D,P,V){const O=P.routeConfig?P.routeConfig.canActivate:null;if(!O||0===O.length)return(0,we.of)(!0);const z=O.map(re=>Me(()=>{const pe=oo(P)??V,ze=vs(re,pe);return $r(function rc(D){return D&&Ia(D.canActivate)}(ze)?ze.canActivate(P,D):pe.runInContext(()=>ze(P,D))).pipe((0,zt.P)())}));return(0,we.of)(z).pipe(Lu())}(D,z.route,V))),(0,zt.P)(z=>!0!==z,!0))}(O,re,D,P):(0,we.of)(ze)),(0,je.U)(ze=>({...V,guardsResult:ze})))})}(this.environmentInjector,ct=>this.events.next(ct)),(0,Ln.b)(ct=>{if(pe.guardsResult=ct.guardsResult,jn(ct.guardsResult))throw io(0,ct.guardsResult);const kn=new xt(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot,!!ct.guardsResult);this.events.next(kn)}),(0,ft.h)(ct=>!!ct.guardsResult||(this.cancelNavigationTransition(ct,"",3),!1)),x(ct=>{if(ct.guards.canActivateChecks.length)return(0,we.of)(ct).pipe((0,Ln.b)(kn=>{const Qn=new Gt(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Qn)}),(0,ut.w)(kn=>{let Qn=!1;return(0,we.of)(kn).pipe(function pu(D,P){return(0,St.z)(V=>{const{targetSnapshot:O,guards:{canActivateChecks:z}}=V;if(!z.length)return(0,we.of)(V);let re=0;return(0,m.D)(z).pipe((0,_n.b)(pe=>function Ga(D,P,V,O){const z=D.routeConfig,re=D._resolve;return void 0!==z?.title&&!Vu(z)&&(re[vn]=z.title),function qa(D,P,V,O){const z=function oc(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===z.length)return(0,we.of)({});const re={};return(0,m.D)(z).pipe((0,St.z)(pe=>function Aa(D,P,V,O){const z=oo(P)??O,re=vs(D,z);return $r(re.resolve?re.resolve(P,V):z.runInContext(()=>re(P,V)))}(D[pe],P,V,O).pipe((0,zt.P)(),(0,Ln.b)(ze=>{re[pe]=ze}))),jr(1),function Je(D){return(0,je.U)(()=>D)}(re),(0,En.K)(pe=>yd(pe)?Tt.E:(0,at._)(pe)))}(re,D,P,O).pipe((0,je.U)(pe=>(D._resolvedData=pe,D.data=Ua(D,V).resolve,z&&Vu(z)&&(D.data[vn]=z.title),null)))}(pe.route,O,D,P)),(0,Ln.b)(()=>re++),jr(1),(0,St.z)(pe=>re===z.length?(0,we.of)(V):Tt.E))})}(O.paramsInheritanceStrategy,this.environmentInjector),(0,Ln.b)({next:()=>Qn=!0,complete:()=>{Qn||this.cancelNavigationTransition(kn,"",2)}}))}),(0,Ln.b)(kn=>{const Qn=new Hn(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Qn)}))}),x(ct=>{const kn=Qn=>{const si=[];Qn.routeConfig?.loadComponent&&!Qn.routeConfig._loadedComponent&&si.push(this.configLoader.loadComponent(Qn.routeConfig).pipe((0,Ln.b)(ti=>{Qn.component=ti}),(0,je.U)(()=>{})));for(const ti of Qn.children)si.push(...kn(ti));return si};return(0,ve.a)(kn(ct.targetSnapshot.root)).pipe((0,tr.d)(),(0,vt.q)(1))}),x(()=>this.afterPreactivation()),(0,je.U)(ct=>{const kn=function ys(D,P,V){const O=fo(D,P._root,V?V._root:void 0);return new Os(O,P)}(O.routeReuseStrategy,ct.targetSnapshot,ct.currentRouterState);return this.currentTransition=pe={...ct,targetRouterState:kn},pe}),(0,Ln.b)(()=>{this.events.next(new Va)}),((D,P,V,O)=>(0,je.U)(z=>(new Ol(P,z.targetRouterState,z.currentRouterState,V,O).activate(D),z)))(this.rootContexts,O.routeReuseStrategy,ct=>this.events.next(ct),this.inputBindingEnabled),(0,vt.q)(1),(0,Ln.b)({next:ct=>{ze=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects))),O.titleStrategy?.updateTitle(ct.targetRouterState.snapshot),ct.resolve(!0)},complete:()=>{ze=!0}}),(0,Mt.R)(this.transitionAbortSubject.pipe((0,Ln.b)(ct=>{throw ct}))),(0,yt.x)(()=>{ze||Wt||this.cancelNavigationTransition(pe,"",1),this.currentNavigation?.id===pe.id&&(this.currentNavigation=null)}),(0,En.K)(ct=>{if(Wt=!0,so(ct))this.events.next(new _a(pe.id,this.urlSerializer.serialize(pe.extractedUrl),ct.message,ct.cancellationCode)),function Ba(D){return so(D)&&jn(D.url)}(ct)?this.events.next(new dl(ct.url)):pe.resolve(!1);else{this.events.next(new Fe(pe.id,this.urlSerializer.serialize(pe.extractedUrl),ct,pe.targetSnapshot??void 0));try{pe.resolve(O.errorHandler(ct))}catch(kn){pe.reject(kn)}}return Tt.E}))}))}cancelNavigationTransition(O,z,re){const pe=new _a(O.id,this.urlSerializer.serialize(O.extractedUrl),z,re);this.events.next(pe),O.resolve(!1)}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function Et(D){return D!==Rr}let Jt=(()=>{var D;class P{buildTitle(O){let z,re=O.root;for(;void 0!==re;)z=this.getResolvedTitleForRoute(re)??z,re=re.children.find(pe=>pe.outlet===en);return z}getResolvedTitleForRoute(O){return O.data[vn]}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(Mr)},providedIn:"root"}),P})(),Mr=(()=>{var D;class P extends Jt{constructor(O){super(),this.title=O}updateTitle(O){const z=this.buildTitle(O);void 0!==z&&this.title.setTitle(z)}}return(D=P).\u0275fac=function(O){return new(O||D)(w.LFG(Ot.Dx))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})(),Gr=(()=>{var D;class P{}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(xn)},providedIn:"root"}),P})();class Xr{shouldDetach(P){return!1}store(P,V){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,V){return P.routeConfig===V.routeConfig}}let xn=(()=>{var D;class P extends Xr{}return(D=P).\u0275fac=function(){let V;return function(z){return(V||(V=w.n5z(D)))(z||D)}}(),D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const ii=new w.OlP("",{providedIn:"root",factory:()=>({})});let Ir=(()=>{var D;class P{}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(Ui)},providedIn:"root"}),P})(),Ui=(()=>{var D;class P{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,z){return O}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();var ks=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(ks||{});function Nt(D,P){D.events.pipe((0,ft.h)(V=>V instanceof oi||V instanceof _a||V instanceof Fe||V instanceof co),(0,je.U)(V=>V instanceof oi||V instanceof co?ks.COMPLETE:V instanceof _a&&(0===V.code||1===V.code)?ks.REDIRECTING:ks.FAILED),(0,ft.h)(V=>V!==ks.REDIRECTING),(0,vt.q)(1)).subscribe(()=>{P()})}function ei(D){throw D}function $i(D,P,V){return P.parse("/")}const as={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{var D;class P{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this._events=new Ae.x,this.options=(0,w.f3M)(ii,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||ei,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$i,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Ir),this.routeReuseStrategy=(0,w.f3M)(Gr),this.titleStrategy=(0,w.f3M)(Jt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(G,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(Pe),this.urlSerializer=(0,w.f3M)(li),this.location=(0,w.f3M)(ht.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(ro,{optional:!0}),this.eventsSubscription=new ke.w0,this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ci(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(O=>{this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const O=this.navigationTransitions.events.subscribe(z=>{try{const{currentTransition:re}=this.navigationTransitions;if(null===re)return void(an(z)&&this._events.next(z));if(z instanceof bi)Et(re.source)&&(this.browserUrlTree=re.extractedUrl);else if(z instanceof co)this.rawUrlTree=re.rawUrl;else if(z instanceof Le){if("eager"===this.urlUpdateStrategy){if(!re.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl);this.setBrowserUrl(pe,re)}this.browserUrlTree=re.urlAfterRedirects}}else if(z instanceof Va)this.currentUrlTree=re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),this.routerState=re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,re),this.browserUrlTree=re.urlAfterRedirects);else if(z instanceof _a)0!==z.code&&1!==z.code&&(this.navigated=!0),(3===z.code||2===z.code)&&this.restoreHistory(re);else if(z instanceof dl){const pe=this.urlHandlingStrategy.merge(z.url,re.currentRawUrl),ze={skipLocationChange:re.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Et(re.source)};this.scheduleNavigation(pe,Rr,null,ze,{resolve:re.resolve,reject:re.reject,promise:re.promise})}z instanceof Fe&&this.restoreHistory(re,!0),z instanceof oi&&(this.navigated=!0),an(z)&&this._events.next(z)}catch(re){this.navigationTransitions.transitionAbortSubject.next(re)}});this.eventsSubscription.add(O)}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const O=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rr,O)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const z="popstate"===O.type?"popstate":"hashchange";"popstate"===z&&setTimeout(()=>{this.navigateToSyncWithBrowser(O.url,z,O.state)},0)}))}navigateToSyncWithBrowser(O,z,re){const pe={replaceUrl:!0},ze=re?.navigationId?re:null;if(re){const ct={...re};delete ct.navigationId,delete ct.\u0275routerPageId,0!==Object.keys(ct).length&&(pe.state=ct)}const Wt=this.parseUrl(O);this.scheduleNavigation(Wt,z,ze,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(xs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(O,z={}){const{relativeTo:re,queryParams:pe,fragment:ze,queryParamsHandling:Wt,preserveFragment:ct}=z,kn=ct?this.currentUrlTree.fragment:ze;let si,Qn=null;switch(Wt){case"merge":Qn={...this.currentUrlTree.queryParams,...pe};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=pe||null}null!==Qn&&(Qn=this.removeEmptyProps(Qn));try{si=se(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||!O[0].startsWith("/"))&&(O=[]),si=this.currentUrlTree.root}return W(si,O,Qn,kn??null)}navigateByUrl(O,z={skipLocationChange:!1}){const re=jn(O)?O:this.parseUrl(O),pe=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(pe,Rr,null,z)}navigate(O,z={skipLocationChange:!1}){return function ai(D){for(let P=0;P<D.length;P++)if(null==D[P])throw new w.vHH(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,z),z)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let z;try{z=this.urlSerializer.parse(O)}catch(re){z=this.malformedUriErrorHandler(re,this.urlSerializer,O)}return z}isActive(O,z){let re;if(re=!0===z?{...as}:!1===z?{...dn}:z,jn(O))return ar(this.currentUrlTree,O,re);const pe=this.parseUrl(O);return ar(this.currentUrlTree,pe,re)}removeEmptyProps(O){return Object.keys(O).reduce((z,re)=>{const pe=O[re];return null!=pe&&(z[re]=pe),z},{})}scheduleNavigation(O,z,re,pe,ze){if(this.disposed)return Promise.resolve(!1);let Wt,ct,kn;ze?(Wt=ze.resolve,ct=ze.reject,kn=ze.promise):kn=new Promise((si,ti)=>{Wt=si,ct=ti});const Qn=this.pendingTasks.add();return Nt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qn))}),this.navigationTransitions.handleNavigationRequest({source:z,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:O,extras:pe,resolve:Wt,reject:ct,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(si=>Promise.reject(si))}setBrowserUrl(O,z){const re=this.urlSerializer.serialize(O);if(this.location.isCurrentPathEqualTo(re)||z.extras.replaceUrl){const ze={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId)};this.location.replaceState(re,"",ze)}else{const pe={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId+1)};this.location.go(re,"",pe)}}restoreHistory(O,z=!1){if("computed"===this.canceledNavigationResolution){const pe=this.currentPageId-this.browserPageId;0!==pe?this.location.historyGo(pe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===pe&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,z){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:z}:{navigationId:O}}}return(D=P).\u0275fac=function(O){return new(O||D)},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function an(D){return!(D instanceof Va||D instanceof dl)}let lt=(()=>{var D;class P{constructor(O,z,re,pe,ze,Wt){this.router=O,this.route=z,this.tabIndexAttribute=re,this.renderer=pe,this.el=ze,this.locationStrategy=Wt,this.href=null,this.commands=null,this.onChanges=new Ae.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ct=ze.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ct||"area"===ct,this.isAnchorElement?this.subscription=O.events.subscribe(kn=>{kn instanceof oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(O,z,re,pe,ze){return!!(null===this.urlTree||this.isAnchorElement&&(0!==O||z||re||pe||ze||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const O=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(O,z){const re=this.renderer,pe=this.el.nativeElement;null!==z?re.setAttribute(pe,O,z):re.removeAttribute(pe,O)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(D=P).\u0275fac=function(O){return new(O||D)(w.Y36(sn),w.Y36(To),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(ht.S$))},D.\u0275dir=w.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,z){1&O&&w.NdJ("click",function(pe){return z.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&O&&w.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",w.VuI],replaceUrl:["replaceUrl","replaceUrl",w.VuI],routerLink:"routerLink"},standalone:!0,features:[w.Xq5,w.TTD]}),P})();class Ed{}let Vh=(()=>{var D;class P{constructor(O,z,re,pe,ze){this.router=O,this.injector=re,this.preloadingStrategy=pe,this.loader=ze}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.h)(O=>O instanceof oi),(0,_n.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,z){const re=[];for(const pe of z){pe.providers&&!pe._injector&&(pe._injector=(0,w.MMx)(pe.providers,O,`Route: ${pe.path}`));const ze=pe._injector??O,Wt=pe._loadedInjector??ze;(pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent)&&re.push(this.preloadConfig(ze,pe)),(pe.children||pe._loadedRoutes)&&re.push(this.processRoutes(Wt,pe.children??pe._loadedRoutes))}return(0,m.D)(re).pipe((0,Lt.J)())}preloadConfig(O,z){return this.preloadingStrategy.preload(z,()=>{let re;re=z.loadChildren&&void 0===z.canLoad?this.loader.loadChildren(O,z):(0,we.of)(null);const pe=re.pipe((0,St.z)(ze=>null===ze?(0,we.of)(void 0):(z._loadedRoutes=ze.routes,z._loadedInjector=ze.injector,this.processRoutes(ze.injector??O,ze.routes))));if(z.loadComponent&&!z._loadedComponent){const ze=this.loader.loadComponent(z);return(0,m.D)([pe,ze]).pipe((0,Lt.J)())}return pe})}}return(D=P).\u0275fac=function(O){return new(O||D)(w.LFG(sn),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Ed),w.LFG(me))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const gu=new w.OlP("");let Ka=(()=>{var D;class P{constructor(O,z,re,pe,ze={}){this.urlSerializer=O,this.transitions=z,this.viewportScroller=re,this.zone=pe,this.options=ze,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ze.scrollPositionRestoration=ze.scrollPositionRestoration||"disabled",ze.anchorScrolling=ze.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof oi?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof co&&0===O.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Zi&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zi(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(D=P).\u0275fac=function(O){w.$Z()},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),P})();function ao(D,P){return{\u0275kind:D,\u0275providers:P}}function ir(){const D=(0,w.f3M)(w.zs3);return P=>{const V=D.get(w.z2F);if(P!==V.components[0])return;const O=D.get(sn),z=D.get(Pi);1===D.get(Mn)&&O.initialNavigation(),D.get(Ar,null,w.XFs.Optional)?.setUpPreloading(),D.get(gu,null,w.XFs.Optional)?.init(),O.resetRootComponentType(V.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Pi=new w.OlP("",{factory:()=>new Ae.x}),Mn=new w.OlP("",{providedIn:"root",factory:()=>1}),Ar=new w.OlP("");function tn(D){return ao(0,[{provide:Ar,useExisting:Vh},{provide:Ed,useExisting:D}])}const Pt=new w.OlP("ROUTER_FORROOT_GUARD"),Fr=[ht.Ye,{provide:li,useClass:Wn},sn,va,{provide:To,useFactory:function Uh(D){return D.routerState.root},deps:[sn]},me,[]];function wl(){return new w.PXZ("Router",sn)}let Hc=(()=>{var D;class P{constructor(O){}static forRoot(O,z){return{ngModule:P,providers:[Fr,[],{provide:G,multi:!0,useValue:O},{provide:Pt,useFactory:Ro,deps:[[sn,new w.FiY,new w.tp0]]},{provide:ii,useValue:z||{}},z?.useHash?{provide:ht.S$,useClass:ht.Do}:{provide:ht.S$,useClass:ht.b0},{provide:gu,useFactory:()=>{const D=(0,w.f3M)(ht.EM),P=(0,w.f3M)(w.R0b),V=(0,w.f3M)(ii),O=(0,w.f3M)(Pe),z=(0,w.f3M)(li);return V.scrollOffset&&D.setOffset(V.scrollOffset),new Ka(z,O,D,P,V)}},z?.preloadingStrategy?tn(z.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:wl},z?.initialNavigation?Kn(z):[],z?.bindToComponentInputs?ao(8,[Di,{provide:ro,useExisting:Di}]).\u0275providers:[],[{provide:Za,useFactory:ir},{provide:w.tb,multi:!0,useExisting:Za}]]}}static forChild(O){return{ngModule:P,providers:[{provide:G,multi:!0,useValue:O}]}}}return(D=P).\u0275fac=function(O){return new(O||D)(w.LFG(Pt,8))},D.\u0275mod=w.oAB({type:D}),D.\u0275inj=w.cJS({}),P})();function Ro(D){return"guarded"}function Kn(D){return["disabled"===D.initialNavigation?ao(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const P=(0,w.f3M)(sn);return()=>{P.setUpLocationChangeListener()}}},{provide:Mn,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ao(2,[{provide:Mn,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:P=>{const V=P.get(ht.V_,Promise.resolve());return()=>V.then(()=>new Promise(O=>{const z=P.get(sn),re=P.get(Pi);Nt(z,()=>{O(!0)}),P.get(Pe).afterPreactivation=()=>(O(!0),re.closed?(0,we.of)(void 0):re),z.initialNavigation()}))}}]).\u0275providers:[]]}const Za=new w.OlP("")},4303:(Kt,qe,U)=>{U.d(qe,{Jn:()=>rr,KN:()=>yr,Xd:()=>Lt,qX:()=>Ot});var w=U(5861),ae=U(4537),X=U(7879),_e=U(9058),m=U(1878);class we{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(gt=>{if(function Ie(st){const Se=st.getComponent();return"VERSION"===Se?.type}(gt)){const kt=gt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(gt=>gt).join(" ")}}const ve="@firebase/app",oe=new X.Yd("@firebase/app"),Xe={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Je=new Map;function yt(st,Se){try{st.container.addComponent(Se)}catch(gt){oe.debug(`Component ${Se.name} failed to register with FirebaseApp ${st.name}`,gt)}}function Lt(st){const Se=st.name;if(Je.has(Se))return oe.debug(`There were multiple attempts to register component ${Se}.`),!1;Je.set(Se,st);for(const gt of tt.values())yt(gt,st);return!0}function Ot(st,Se){const gt=st.container.getProvider("heartbeat").getImmediate({optional:!0});return gt&&gt.triggerHeartbeat(),st.container.getProvider(Se)}const Qt=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),rr="10.4.0";function yr(st,Se,gt){var kt;let rn=null!==(kt=Xe[st])&&void 0!==kt?kt:st;gt&&(rn+=`-${gt}`);const gn=rn.match(/\s|\//),mr=Se.match(/\s|\//);if(gn||mr){const be=[`Unable to register library "${rn}" with version "${Se}":`];return gn&&be.push(`library name "${rn}" contains illegal characters (whitespace or "/")`),gn&&mr&&be.push("and"),mr&&be.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void oe.warn(be.join(" "))}Lt(new ae.wA(`${rn}-version`,()=>({library:rn,version:Se}),"VERSION"))}const zr="firebase-heartbeat-database",wn=1,nn="firebase-heartbeat-store";let Cn=null;function Bn(){return Cn||(Cn=(0,m.X3)(zr,wn,{upgrade:(st,Se)=>{0===Se&&st.createObjectStore(nn)}}).catch(st=>{throw Qt.create("idb-open",{originalErrorMessage:st.message})})),Cn}function On(){return(On=(0,w.Z)(function*(st){try{return yield(yield Bn()).transaction(nn).objectStore(nn).get(Qr(st))}catch(Se){if(Se instanceof _e.ZR)oe.warn(Se.message);else{const gt=Qt.create("idb-get",{originalErrorMessage:Se?.message});oe.warn(gt.message)}}})).apply(this,arguments)}function Nn(st,Se){return vr.apply(this,arguments)}function vr(){return(vr=(0,w.Z)(function*(st,Se){try{const kt=(yield Bn()).transaction(nn,"readwrite");yield kt.objectStore(nn).put(Se,Qr(st)),yield kt.done}catch(gt){if(gt instanceof _e.ZR)oe.warn(gt.message);else{const kt=Qt.create("idb-set",{originalErrorMessage:gt?.message});oe.warn(kt.message)}}})).apply(this,arguments)}function Qr(st){return`${st.name}!${st.options.appId}`}class Wn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const gt=this.container.getProvider("app").getImmediate();this._storage=new Si(gt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Se=this;return(0,w.Z)(function*(){const kt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),rn=gr();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==rn&&!Se._heartbeatsCache.heartbeats.some(gn=>gn.date===rn))return Se._heartbeatsCache.heartbeats.push({date:rn,agent:kt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(gn=>{const mr=new Date(gn.date).valueOf();return Date.now()-mr<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,w.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const gt=gr(),{heartbeatsToSend:kt,unsentEntries:rn}=function Ti(st,Se=1024){const gt=[];let kt=st.slice();for(const rn of st){const gn=gt.find(mr=>mr.agent===rn.agent);if(gn){if(gn.dates.push(rn.date),hr(gt)>Se){gn.dates.pop();break}}else if(gt.push({agent:rn.agent,dates:[rn.date]}),hr(gt)>Se){gt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:gt,unsentEntries:kt}}(Se._heartbeatsCache.heartbeats),gn=(0,_e.L)(JSON.stringify({version:2,heartbeats:kt}));return Se._heartbeatsCache.lastSentHeartbeatDate=gt,rn.length>0?(Se._heartbeatsCache.heartbeats=rn,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),gn})()}}function gr(){return(new Date).toISOString().substring(0,10)}class Si{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,w.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Lr(st){return On.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var gt=this;return(0,w.Z)(function*(){var kt;if(yield gt._canUseIndexedDBPromise){const gn=yield gt.read();return Nn(gt.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:gn.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var gt=this;return(0,w.Z)(function*(){var kt;if(yield gt._canUseIndexedDBPromise){const gn=yield gt.read();return Nn(gt.app,{lastSentHeartbeatDate:null!==(kt=Se.lastSentHeartbeatDate)&&void 0!==kt?kt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...Se.heartbeats]})}})()}}function hr(st){return(0,_e.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Un(st){Lt(new ae.wA("platform-logger",Se=>new we(Se),"PRIVATE")),Lt(new ae.wA("heartbeat",Se=>new Wn(Se),"PRIVATE")),yr(ve,"0.9.19",st),yr(ve,"0.9.19","esm2017"),yr("fire-js","")}("")},4537:(Kt,qe,U)=>{U.d(qe,{H0:()=>ve,wA:()=>X});var w=U(5861),ae=U(9058);class X{constructor(oe,ge,Me){this.name=oe,this.instanceFactory=ge,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const _e="[DEFAULT]";class m{constructor(oe,ge){this.name=oe,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const ge=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(ge)){const Me=new ae.BH;if(this.instancesDeferred.set(ge,Me),this.isInitialized(ge)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ge});Ke&&Me.resolve(Ke)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(oe){var ge;const Me=this.normalizeInstanceIdentifier(oe?.identifier),Ke=null!==(ge=oe?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(at){if(Ke)return null;throw at}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Ie(He){return"EAGER"===He.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ge,Me]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ge);try{const at=this.getOrInitializeService({instanceIdentifier:Ke});Me.resolve(at)}catch{}}}}clearInstance(oe=_e){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,w.Z)(function*(){const ge=Array.from(oe.instances.values());yield Promise.all([...ge.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ge.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=_e){return this.instances.has(oe)}getOptions(oe=_e){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:ge={}}=oe,Me=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Me,options:ge});for(const[at,Tt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(at)&&Tt.resolve(Ke);return Ke}onInit(oe,ge){var Me;const Ke=this.normalizeInstanceIdentifier(ge),at=null!==(Me=this.onInitCallbacks.get(Ke))&&void 0!==Me?Me:new Set;at.add(oe),this.onInitCallbacks.set(Ke,at);const Tt=this.instances.get(Ke);return Tt&&oe(Tt,Ke),()=>{at.delete(oe)}}invokeOnInitCallbacks(oe,ge){const Me=this.onInitCallbacks.get(ge);if(Me)for(const Ke of Me)try{Ke(oe,ge)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:ge={}}){let Me=this.instances.get(oe);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(He=oe,He===_e?void 0:He),options:ge}),this.instances.set(oe,Me),this.instancesOptions.set(oe,ge),this.invokeOnInitCallbacks(Me,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Me)}catch{}var He;return Me||null}normalizeInstanceIdentifier(oe=_e){return this.component?this.component.multipleInstances?oe:_e:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const ge=this.getProvider(oe.name);if(ge.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);ge.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const ge=new m(oe,this);return this.providers.set(oe,ge),ge}getProviders(){return Array.from(this.providers.values())}}},7879:(Kt,qe,U)=>{U.d(qe,{Am:()=>He,Ub:()=>ve,Yd:()=>Ie,in:()=>ae});const w=[];var ae=function(oe){return oe[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",oe}(ae||{});const X={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},_e=ae.INFO,m={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},we=(oe,ge,...Me)=>{if(ge<oe.logLevel)return;const Ke=(new Date).toISOString(),at=m[ge];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[at](`[${Ke}]  ${oe.name}:`,...Me)};class Ie{constructor(ge){this.name=ge,this._logLevel=_e,this._logHandler=we,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in ae))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?X[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ge),this._logHandler(this,ae.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ge),this._logHandler(this,ae.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ge),this._logHandler(this,ae.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ge),this._logHandler(this,ae.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ge),this._logHandler(this,ae.ERROR,...ge)}}function ve(oe){w.forEach(ge=>{ge.setLogLevel(oe)})}function He(oe,ge){for(const Me of w){let Ke=null;ge&&ge.level&&(Ke=X[ge.level]),Me.userLogHandler=null===oe?null:(at,Tt,...ke)=>{const dt=ke.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Tt>=(Ke??at.logLevel)&&oe({level:ae[Tt].toLowerCase(),message:dt,args:ke,type:at.name})}}}},1878:(Kt,qe,U)=>{U.d(qe,{X3:()=>wt});var w=U(5861);const ae=(Ee,ft)=>ft.some(St=>Ee instanceof St);let X,_e;const Ie=new WeakMap,ve=new WeakMap,He=new WeakMap,oe=new WeakMap,ge=new WeakMap;let at={get(Ee,ft,St){if(Ee instanceof IDBTransaction){if("done"===ft)return ve.get(Ee);if("objectStoreNames"===ft)return Ee.objectStoreNames||He.get(Ee);if("store"===ft)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return Ve(Ee[ft])},set:(Ee,ft,St)=>(Ee[ft]=St,!0),has:(Ee,ft)=>Ee instanceof IDBTransaction&&("done"===ft||"store"===ft)||ft in Ee};function dt(Ee){return"function"==typeof Ee?function ke(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...ft){return Ee.apply(Ne(this),ft),Ve(Ie.get(this))}:function(...ft){return Ve(Ee.apply(Ne(this),ft))}:function(ft,...St){const zt=Ee.call(Ne(this),ft,...St);return He.set(zt,ft.sort?ft.sort():[ft]),Ve(zt)}}(Ee):(Ee instanceof IDBTransaction&&function Ke(Ee){if(ve.has(Ee))return;const ft=new Promise((St,zt)=>{const _n=()=>{Ee.removeEventListener("complete",Ln),Ee.removeEventListener("error",En),Ee.removeEventListener("abort",En)},Ln=()=>{St(),_n()},En=()=>{zt(Ee.error||new DOMException("AbortError","AbortError")),_n()};Ee.addEventListener("complete",Ln),Ee.addEventListener("error",En),Ee.addEventListener("abort",En)});ve.set(Ee,ft)}(Ee),ae(Ee,function m(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,at):Ee)}function Ve(Ee){if(Ee instanceof IDBRequest)return function Me(Ee){const ft=new Promise((St,zt)=>{const _n=()=>{Ee.removeEventListener("success",Ln),Ee.removeEventListener("error",En)},Ln=()=>{St(Ve(Ee.result)),_n()},En=()=>{zt(Ee.error),_n()};Ee.addEventListener("success",Ln),Ee.addEventListener("error",En)});return ft.then(St=>{St instanceof IDBCursor&&Ie.set(St,Ee)}).catch(()=>{}),ge.set(ft,Ee),ft}(Ee);if(oe.has(Ee))return oe.get(Ee);const ft=dt(Ee);return ft!==Ee&&(oe.set(Ee,ft),ge.set(ft,Ee)),ft}const Ne=Ee=>ge.get(Ee);function wt(Ee,ft,{blocked:St,upgrade:zt,blocking:_n,terminated:Ln}={}){const En=indexedDB.open(Ee,ft),pr=Ve(En);return zt&&En.addEventListener("upgradeneeded",tr=>{zt(Ve(En.result),tr.oldVersion,tr.newVersion,Ve(En.transaction),tr)}),St&&En.addEventListener("blocked",tr=>St(tr.oldVersion,tr.newVersion,tr)),pr.then(tr=>{Ln&&tr.addEventListener("close",()=>Ln()),_n&&tr.addEventListener("versionchange",jr=>_n(jr.oldVersion,jr.newVersion,jr))}).catch(()=>{}),pr}const ht=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],ut=new Map;function vt(Ee,ft){if(!(Ee instanceof IDBDatabase)||ft in Ee||"string"!=typeof ft)return;if(ut.get(ft))return ut.get(ft);const St=ft.replace(/FromIndex$/,""),zt=ft!==St,_n=je.includes(St);if(!(St in(zt?IDBIndex:IDBObjectStore).prototype)||!_n&&!ht.includes(St))return;const Ln=function(){var En=(0,w.Z)(function*(pr,...tr){const jr=this.transaction(pr,_n?"readwrite":"readonly");let Ze=jr.store;return zt&&(Ze=Ze.index(tr.shift())),(yield Promise.all([Ze[St](...tr),_n&&jr.done]))[0]});return function(tr){return En.apply(this,arguments)}}();return ut.set(ft,Ln),Ln}!function Tt(Ee){at=Ee(at)}(Ee=>({...Ee,get:(ft,St,zt)=>vt(ft,St)||Ee.get(ft,St,zt),has:(ft,St)=>!!vt(ft,St)||Ee.has(ft,St)}))},5861:(Kt,qe,U)=>{function w(X,_e,m,we,Ie,ve,He){try{var oe=X[ve](He),ge=oe.value}catch(Me){return void m(Me)}oe.done?_e(ge):Promise.resolve(ge).then(we,Ie)}function ae(X){return function(){var _e=this,m=arguments;return new Promise(function(we,Ie){var ve=X.apply(_e,m);function He(ge){w(ve,we,Ie,He,oe,"next",ge)}function oe(ge){w(ve,we,Ie,He,oe,"throw",ge)}He(void 0)})}}U.d(qe,{Z:()=>ae})},7582:(Kt,qe,U)=>{function _e(Ze,Xe){var tt={};for(var Je in Ze)Object.prototype.hasOwnProperty.call(Ze,Je)&&Xe.indexOf(Je)<0&&(tt[Je]=Ze[Je]);if(null!=Ze&&"function"==typeof Object.getOwnPropertySymbols){var yt=0;for(Je=Object.getOwnPropertySymbols(Ze);yt<Je.length;yt++)Xe.indexOf(Je[yt])<0&&Object.prototype.propertyIsEnumerable.call(Ze,Je[yt])&&(tt[Je[yt]]=Ze[Je[yt]])}return tt}function Me(Ze,Xe,tt,Je){return new(tt||(tt=Promise))(function(Mt,Lt){function Ot(qn){try{vn(Je.next(qn))}catch(Qt){Lt(Qt)}}function en(qn){try{vn(Je.throw(qn))}catch(Qt){Lt(Qt)}}function vn(qn){qn.done?Mt(qn.value):function yt(Mt){return Mt instanceof tt?Mt:new tt(function(Lt){Lt(Mt)})}(qn.value).then(Ot,en)}vn((Je=Je.apply(Ze,Xe||[])).next())})}function Ae(Ze){return this instanceof Ae?(this.v=Ze,this):new Ae(Ze)}function ht(Ze,Xe,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,Je=tt.apply(Ze,Xe||[]),Mt=[];return yt={},Lt("next"),Lt("throw"),Lt("return"),yt[Symbol.asyncIterator]=function(){return this},yt;function Lt(Jn){Je[Jn]&&(yt[Jn]=function(rr){return new Promise(function(Xn,dr){Mt.push([Jn,rr,Xn,dr])>1||Ot(Jn,rr)})})}function Ot(Jn,rr){try{!function en(Jn){Jn.value instanceof Ae?Promise.resolve(Jn.value.v).then(vn,qn):Qt(Mt[0][2],Jn)}(Je[Jn](rr))}catch(Xn){Qt(Mt[0][3],Xn)}}function vn(Jn){Ot("next",Jn)}function qn(Jn){Ot("throw",Jn)}function Qt(Jn,rr){Jn(rr),Mt.shift(),Mt.length&&Ot(Mt[0][0],Mt[0][1])}}function ut(Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Xe=Ze[Symbol.asyncIterator];return Xe?Xe.call(Ze):(Ze=function ke(Ze){var Xe="function"==typeof Symbol&&Symbol.iterator,tt=Xe&&Ze[Xe],Je=0;if(tt)return tt.call(Ze);if(Ze&&"number"==typeof Ze.length)return{next:function(){return Ze&&Je>=Ze.length&&(Ze=void 0),{value:Ze&&Ze[Je++],done:!Ze}}};throw new TypeError(Xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ze),tt={},Je("next"),Je("throw"),Je("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function Je(Mt){tt[Mt]=Ze[Mt]&&function(Lt){return new Promise(function(Ot,en){!function yt(Mt,Lt,Ot,en){Promise.resolve(en).then(function(vn){Mt({value:vn,done:Ot})},Lt)}(Ot,en,(Lt=Ze[Mt](Lt)).done,Lt.value)})}}}U.d(qe,{FC:()=>ht,KL:()=>ut,_T:()=>_e,mG:()=>Me,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},Kt=>{Kt(Kt.s=6917)}]);