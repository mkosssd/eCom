"use strict";(self.webpackChunkeCom=self.webpackChunkeCom||[]).push([[179],{3581:(Wt,ze,U)=>{U.d(ze,{a:()=>fe});var I=U(8180),te=U(7398),J=U(9212),_e=U(88),m=U(3914);let fe=(()=>{class be{constructor(Ve,le){this.authService=Ve,this.router=le}canActivate(Ve,le){return this.authService.user.pipe((0,I.q)(1),(0,te.U)(pe=>!!pe||this.router.createUrlTree(["/login"])))}static#e=this.\u0275fac=function(le){return new(le||be)(J.LFG(_e.e),J.LFG(m.F0))};static#t=this.\u0275prov=J.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},88:(Wt,ze,U)=>{U.d(ze,{e:()=>Be});var I=U(5861),te=U(4089),J=U(5619),_e=U(6306),m=U(9397),fe=U(8504);class be{constructor(Je,lt,at,Tt){this.email=Je,this.id=lt,this._token=at,this._tokenExpirationDate=Tt}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}var me=U(9212),Ve=U(9862),le=U(3914),pe=U(7188);let Be=(()=>{class Ze{constructor(lt,at,Tt){this.http=lt,this.router=at,this.firestore=Tt,this.users=localStorage.getItem("users")||"",this.user=new J.X(null)}getUsers(){this.http.get("http://localhost:3000/users").subscribe(lt=>this.objUsers=lt)}signUserDetails(lt){var at=this;return(0,I.Z)(function*(){return at.firestore.collection("users").add(lt).then(()=>{console.log("user created")}).catch(Tt=>{console.log(Tt)})})()}signup(lt){const at=lt.email,Tt=lt.inputPassword;return this.signUserDetails({firstName:lt.firstName,lastName:lt.lastName,email:at}),this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key="+te.N.API_KEY,{email:at,password:Tt,returnSecureToken:!0}).pipe((0,_e.K)(this.handleError),(0,m.b)(bt=>{this.handleAuth(bt.email,bt.localId,bt.idToken,+bt.expiresIn)}))}handleError(lt){let at="An unknown error occured!";if(!lt.error||!lt.error.error)return(0,fe._)(at);switch(lt.error.error.message){case"EMAIL_EXISTS":at="The email address is already in use!";break;case"OPERATION_NOT_ALLOWED":at="Password sign-in is disabled for this project!";break;case"INVALID_EMAIL":at="Please enter a valid email";break;case"EMAIL_NOT_FOUND":at="user not found!";break;case"INVALID_PASSWORD":at="Invalid password!";break;case"USER_DISABLED":at="User has been disabled";break;default:at=lt.error.error.message}return(0,fe._)("INVALID_LOGIN_CREDENTIALS"==lt.error.error.message?"Invalid Login Credentials!":at)}handleAuth(lt,at,Tt,ke){const Oe=new Date((new Date).getTime()+1e3*ke),bt=new be(lt,at,Tt,Oe);this.user.next(bt),this.autoLogout(1e3*ke),localStorage.setItem("loggedData",JSON.stringify(bt))}getLoggedUser(lt){return this.firestore.collection("users",at=>at.where("email","==",lt)).valueChanges()}login(lt,at){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:lt,password:at,returnSecureToken:!0}).pipe((0,_e.K)(this.handleError),(0,m.b)(Tt=>{this.handleAuth(Tt.email,Tt.localId,Tt.idToken,+Tt.expiresIn),this.getLoggedUser(lt).subscribe(ke=>{let Oe=JSON.stringify(ke);localStorage.setItem("currentUser",Oe)}),this.user.next(Tt.idToken),this.router.navigate(["/"])}))}autoLogout(lt){console.log("autoLogout"),this.tokenExpirationTimer=setTimeout(()=>{this.logout()},lt)}isLogged(){return console.log("islog"),localStorage.getItem("loggedData")}logout(){console.log("logout"),localStorage.removeItem("loggedData"),this.user.next(null),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogin(){console.log("autoLogin");const lt=localStorage.getItem("loggedData"),at=lt?JSON.parse(lt):null;if(!at)return;const Tt=new be(at.email,at.userId,at._token,new Date(at._tokenExpirationDate));if(Tt.token){const ke=new Date(at._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(ke),this.user.next(Tt)}}static#e=this.\u0275fac=function(at){return new(at||Ze)(me.LFG(Ve.eN),me.LFG(le.F0),me.LFG(pe.ST))};static#t=this.\u0275prov=me.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})()},8220:(Wt,ze,U)=>{U.d(ze,{P:()=>lt});var I=U(9212),te=U(5383),J=U(3914),_e=U(88),m=U(6814);function fe(at,Tt){1&at&&(I.TgZ(0,"div",3),I._UZ(1,"img",4),I.TgZ(2,"p",5),I._uU(3,"Your cart is empty."),I.qZA(),I.TgZ(4,"p",6),I._uU(5," Go to homepage? "),I.TgZ(6,"a",7),I._uU(7,"Click here..."),I.qZA()()())}function be(at,Tt){if(1&at){const ke=I.EpF();I.TgZ(0,"button",22),I.NdJ("click",function(){I.CHM(ke);const bt=I.oxw().index,tt=I.oxw(2);return I.KtG(tt.productCart(bt,"remove"))}),I._uU(1," - "),I.qZA()}}function me(at,Tt){1&at&&(I.TgZ(0,"span"),I._uU(1,"Out of Stock"),I.qZA())}function Ve(at,Tt){if(1&at){const ke=I.EpF();I.TgZ(0,"button",23),I.NdJ("click",function(){I.CHM(ke);const bt=I.oxw().index,tt=I.oxw(2);return I.KtG(tt.productCart(bt,"add"))}),I._uU(1," + "),I.qZA()}if(2&at){const ke=I.oxw().$implicit;I.Q6J("disabled",ke.amount==ke.stock)}}function le(at,Tt){1&at&&(I.TgZ(0,"span",24),I._uU(1,"Max QTY"),I.qZA())}function pe(at,Tt){if(1&at&&(I.TgZ(0,"tr",15)(1,"td"),I._UZ(2,"img",16),I.qZA(),I.TgZ(3,"td"),I._uU(4),I.qZA(),I.TgZ(5,"td"),I._uU(6),I.qZA(),I.TgZ(7,"td"),I._uU(8),I.qZA(),I.TgZ(9,"td"),I.YNc(10,be,2,0,"button",17)(11,me,2,0,"span",18)(12,Ve,2,1,"button",19),I._UZ(13,"br"),I.YNc(14,le,2,0,"span",20),I.qZA(),I.TgZ(15,"td",21),I._uU(16),I.qZA()()),2&at){const ke=Tt.$implicit;I.xp6(2),I.s9C("src",ke.images[0],I.LSH),I.xp6(2),I.Oqu(ke.title),I.xp6(2),I.Oqu(ke.amount),I.xp6(2),I.Oqu(ke.price),I.xp6(2),I.Q6J("ngIf",0!=ke.stock),I.xp6(1),I.Q6J("ngIf",0==ke.stock),I.xp6(1),I.Q6J("ngIf",0!=ke.stock),I.xp6(2),I.Q6J("ngIf",ke.amount==ke.stock),I.xp6(2),I.hij("$",ke.amount*ke.price,"")}}function Be(at,Tt){if(1&at&&(I.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"table",11)(4,"thead")(5,"tr",12)(6,"th",13),I._uU(7,"Image"),I.qZA(),I.TgZ(8,"th",13),I._uU(9,"Name"),I.qZA(),I.TgZ(10,"th",13),I._uU(11,"Amount"),I.qZA(),I.TgZ(12,"th",13),I._uU(13,"Price"),I.qZA(),I.TgZ(14,"th",13),I._uU(15,"Actions"),I.qZA(),I.TgZ(16,"th",13),I._uU(17,"Total"),I.qZA()()(),I.TgZ(18,"tbody"),I.YNc(19,pe,17,9,"tr",14),I.qZA()()()()()),2&at){const ke=I.oxw();I.xp6(19),I.Q6J("ngForOf",ke.dataSource)}}function Ze(at,Tt){if(1&at&&(I.TgZ(0,"span",32),I._uU(1),I.qZA()),2&at){const ke=I.oxw(2);I.xp6(1),I.hij("",ke.onOrder," ")}}function Je(at,Tt){if(1&at){const ke=I.EpF();I.TgZ(0,"div",25)(1,"div",26)(2,"p",27),I._uU(3,"Total Amount:"),I.qZA(),I.TgZ(4,"p",28),I._uU(5),I.ALo(6,"currency"),I.qZA()(),I.TgZ(7,"div",29),I.YNc(8,Ze,2,1,"span",30),I.TgZ(9,"button",31),I.NdJ("click",function(){I.CHM(ke);const bt=I.oxw();return I.KtG(bt.placeOrderHandler())}),I._uU(10," Place Order "),I.qZA()()()}if(2&at){const ke=I.oxw();I.xp6(5),I.hij(" ",I.xi3(6,2,ke.totalAmount,"USD")," "),I.xp6(3),I.Q6J("ngIf",ke.onOrder)}}let lt=(()=>{class at{ngOnInit(){this.tableSync(),this.prods=this.cart.cartdata,this.getTotal()}constructor(ke,Oe,bt){this.cart=ke,this.router=Oe,this.auth=bt,this.displayedColumns=["image","title","amount","price","actions","total"],this.onOrder=null}tableSync(){this.cart.cart$.subscribe(ke=>{this.dataSource=ke,console.log(ke)})}productCart(ke,Oe){this.cart.data(this.dataSource[ke],Oe),this.prods=this.cart.cartdata;const bt=[...this.prods];this.dataSource=bt,this.getTotal()}getTotal(){this.totalAmount=0,this.prods.map(ke=>{this.totalAmount+=ke.amount*ke.price})}placeOrderHandler(){this.auth.user.subscribe(ke=>{ke?(this.onOrder="Redirecting to Order page...",setTimeout(()=>{this.router.navigate(["order"])},300)):(this.onOrder="User not logged in.Redirecting to Login page...",setTimeout(()=>{this.router.navigate(["login"])},300))})}static#e=this.\u0275fac=function(Oe){return new(Oe||at)(I.Y36(te.b),I.Y36(J.F0),I.Y36(_e.e))};static#t=this.\u0275cmp=I.Xpm({type:at,selectors:[["app-cart"]],decls:3,vars:3,consts:[["class","text-center mt-5 pt-5",4,"ngIf"],["class","container mx-auto bg-white",4,"ngIf"],["class","card py-3 my-2 container mx-auto",4,"ngIf"],[1,"text-center","mt-5","pt-5"],["src","\\assets\\cart-icon.png","alt","empty cart","height","300px",1,"mt-5","pt-5"],[1,"m-0","fw-bold","h4"],[1,"h6","mt-3"],["href","products?page=1",1,"text-decoration-none","text-info"],[1,"container","mx-auto","bg-white"],[1,"row"],[1,""],[1,"table"],[1,"text-center"],["scope","col"],["class","text-center align-middle",4,"ngFor","ngForOf"],[1,"text-center","align-middle"],["width","100px","alt","",3,"src"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[4,"ngIf"],["class","btn btn-success btn-sm mx-1",3,"disabled","click",4,"ngIf"],["class","fw-light",4,"ngIf"],[1,"fw-bold"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm","mx-1",3,"disabled","click"],[1,"fw-light"],[1,"card","py-3","my-2","container","mx-auto"],[1,"d-flex","flex-row","justify-content-between"],[1,"display-6","fw-medium","px-3"],[1,"display-6","px-3"],[1,"col-12"],["class","text-black ms-4 fw-semibold",4,"ngIf"],[1,"btn","btn-primary","float-end","col-2",3,"click"],[1,"text-black","ms-4","fw-semibold"]],template:function(Oe,bt){1&Oe&&I.YNc(0,fe,8,0,"div",0)(1,Be,20,1,"div",1)(2,Je,11,5,"div",2),2&Oe&&(I.Q6J("ngIf",0===bt.dataSource.length),I.xp6(1),I.Q6J("ngIf",bt.dataSource.length>0),I.xp6(1),I.Q6J("ngIf",bt.dataSource.length>0))},dependencies:[m.sg,m.O5,m.H9]})}return at})()},5233:(Wt,ze,U)=>{U.d(ze,{R:()=>te});var I=U(9212);let te=(()=>{class J{static#e=this.\u0275fac=function(fe){return new(fe||J)};static#t=this.\u0275cmp=I.Xpm({type:J,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"loader"],[1,"bar1"],[1,"bar2"],[1,"bar3"],[1,"bar4"],[1,"bar5"],[1,"bar6"],[1,"bar7"],[1,"bar8"],[1,"bar9"],[1,"bar10"],[1,"bar11"],[1,"bar12"]],template:function(fe,be){1&fe&&(I.TgZ(0,"div",0),I._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),I.qZA())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;top:5em;border-radius:10px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8%;height:24%;background:rgb(0,0,0);position:absolute;left:50%;top:30%;opacity:0;border-radius:50px;box-shadow:0 0 3px #0003;animation:_ngcontent-%COMP%_fade458 1s linear infinite}@keyframes _ngcontent-%COMP%_fade458{0%{opacity:1}to{opacity:.25}}.loader[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{transform:rotate(0) translateY(-130%);animation-delay:0s}.loader[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{transform:rotate(30deg) translateY(-130%);animation-delay:-1.1s}.loader[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{transform:rotate(60deg) translateY(-130%);animation-delay:-1s}.loader[_ngcontent-%COMP%]   .bar4[_ngcontent-%COMP%]{transform:rotate(90deg) translateY(-130%);animation-delay:-.9s}.loader[_ngcontent-%COMP%]   .bar5[_ngcontent-%COMP%]{transform:rotate(120deg) translateY(-130%);animation-delay:-.8s}.loader[_ngcontent-%COMP%]   .bar6[_ngcontent-%COMP%]{transform:rotate(150deg) translateY(-130%);animation-delay:-.7s}.loader[_ngcontent-%COMP%]   .bar7[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-130%);animation-delay:-.6s}.loader[_ngcontent-%COMP%]   .bar8[_ngcontent-%COMP%]{transform:rotate(210deg) translateY(-130%);animation-delay:-.5s}.loader[_ngcontent-%COMP%]   .bar9[_ngcontent-%COMP%]{transform:rotate(240deg) translateY(-130%);animation-delay:-.4s}.loader[_ngcontent-%COMP%]   .bar10[_ngcontent-%COMP%]{transform:rotate(270deg) translateY(-130%);animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .bar11[_ngcontent-%COMP%]{transform:rotate(300deg) translateY(-130%);animation-delay:-.2s}.loader[_ngcontent-%COMP%]   .bar12[_ngcontent-%COMP%]{transform:rotate(330deg) translateY(-130%);animation-delay:-.1s}"]})}return J})()},5383:(Wt,ze,U)=>{U.d(ze,{b:()=>m});var I=U(9212),te=U(5619),J=U(7188),_e=U(3914);let m=(()=>{class fe{constructor(me,Ve){this.firebase=me,this.router=Ve,this.storedPro=localStorage.getItem("cart")||"[]",this.prods=JSON.parse(this.storedPro),this.cartdata=this.prods,this.cart$=new te.X(this.cartdata),this.items=new I.vpe}data(me,Ve){const le=this.cartdata.find(({id:pe})=>pe===me.id);if("add"===Ve)le?le.amount+=1:this.cartdata.push({...me,amount:1});else{let pe=this.cartdata.findIndex(Be=>Be.id===me.id);1==le?.amount?this.cartdata.splice(pe,1):le&&(le.amount-=1)}localStorage.setItem("cart",JSON.stringify(this.cartdata)),this.cart$.next(this.cartdata),this.items.emit(this.cartdata.length)}handleOrder(me,Ve,le){this.firebase.collection("products").ref.where("id","==",me).get().then(pe=>{pe.forEach(Be=>{const Ze=Be.id;console.log(Ze),this.firebase.doc(`products/${Ze}`).update({stock:le-Ve})}),this.items.emit(0)}).catch(pe=>{console.log(pe)}),localStorage.removeItem("cart"),this.router.navigate(["/"])}static#e=this.\u0275fac=function(Ve){return new(Ve||fe)(I.LFG(J.ST),I.LFG(_e.F0))};static#t=this.\u0275prov=I.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},6775:(Wt,ze,U)=>{U.d(ze,{M:()=>J});var I=U(9212),te=U(7188);let J=(()=>{class _e{constructor(fe){this.firebase=fe,this.currentUserEmail=JSON.parse(localStorage.getItem("currentUser"))[0].email}saveOrderData(fe){var me=(new Date).toLocaleString();let Ve={...fe,email:this.currentUserEmail,id:this.firebase.createId(),orderId:Math.round(1e10*Math.random()),orderTime:me};console.log(Ve),this.firebase.collection("userData").add(Ve).then(()=>{console.log("Order Success!")})}getUserOrderData(){return this.firebase.collection("userData",fe=>fe.where("email","==",this.currentUserEmail)).valueChanges()}static#e=this.\u0275fac=function(be){return new(be||_e)(I.LFG(te.ST))};static#t=this.\u0275prov=I.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},4089:(Wt,ze,U)=>{U.d(ze,{N:()=>I});const I={production:!1,API_KEY:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",firebaseConfig:{apiKey:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",authDomain:"anywhere-ecom.firebaseapp.com",projectId:"anywhere-ecom",storageBucket:"anywhere-ecom.appspot.com",messagingSenderId:"24709365004",appId:"1:24709365004:web:12005ff74089fc9deedd29"}}},5311:(Wt,ze,U)=>{var I=U(6593),te=U(9862),J=U(3914),_e=U(3581),m=U(9212),fe=U(88),be=U(6814),me=U(2459),Ve=U(5592),le=U(7453),pe=U(4829),Be=U(9940),Ze=U(8251),Je=U(7400),lt=U(2714),Tt=U(7398);let ke=(()=>{class i{constructor(t,a){this._renderer=t,this._elementRef=a,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(t,a){this._renderer.setProperty(this._elementRef.nativeElement,t,a)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(m.Qsj),m.Y36(m.SBq))};static#t=this.\u0275dir=m.lG2({type:i})}return i})(),Oe=(()=>{class i extends ke{static#e=this.\u0275fac=(()=>{let t;return function(d){return(t||(t=m.n5z(i)))(d||i)}})();static#t=this.\u0275dir=m.lG2({type:i,features:[m.qOj]})}return i})();const bt=new m.OlP("NgValueAccessor"),ut={provide:bt,useExisting:(0,m.Gpc)(()=>ye),multi:!0},vt=new m.OlP("CompositionEventMode");let ye=(()=>{class i extends ke{constructor(t,a,d){super(t,a),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const i=(0,be.q)()?(0,be.q)().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(vt,8))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,d){1&a&&m.NdJ("input",function(v){return d._handleInput(v.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(v){return d._compositionEnd(v.target.value)})},features:[m._Bn([ut]),m.qOj]})}return i})();function ht(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function Pt(i){return null!=i&&"number"==typeof i.length}const an=new m.OlP("NgValidators"),In=new m.OlP("NgAsyncValidators"),Vn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bn{static min(e){return function zr(i){return e=>{if(ht(e.value)||ht(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}(e)}static max(e){return function Jn(i){return e=>{if(ht(e.value)||ht(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}(e)}static required(e){return Nr(e)}static requiredTrue(e){return function qe(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return Ke(e)}static minLength(e){return Ye(e)}static maxLength(e){return function We(i){return e=>Pt(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Et(i){if(!i)return Mt;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),a=>{if(ht(a.value))return null;const d=a.value;return e.test(d)?null:{pattern:{requiredPattern:t,actualValue:d}}}}(e)}static nullValidator(e){return null}static compose(e){return mr(e)}static composeAsync(e){return cr(e)}}function Nr(i){return ht(i.value)?{required:!0}:null}function Ke(i){return ht(i.value)||Vn.test(i.value)?null:{email:!0}}function Ye(i){return e=>ht(e.value)||!Pt(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Mt(i){return null}function Yt(i){return null!=i}function Tn(i){return(0,m.QGY)(i)?(0,me.D)(i):i}function rn(i){let e={};return i.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function vn(i,e){return e.map(t=>t(i))}function Cn(i){return i.map(e=>function rr(i){return!i.validate}(e)?e:t=>e.validate(t))}function mr(i){if(!i)return null;const e=i.filter(Yt);return 0==e.length?null:function(t){return rn(vn(t,e))}}function hr(i){return null!=i?mr(Cn(i)):null}function cr(i){if(!i)return null;const e=i.filter(Yt);return 0==e.length?null:function(t){return function at(...i){const e=(0,Be.jO)(i),{args:t,keys:a}=(0,le.D)(i),d=new Ve.y(g=>{const{length:v}=t;if(!v)return void g.complete();const S=new Array(v);let L=v,z=v;for(let X=0;X<v;X++){let de=!1;(0,pe.Xf)(t[X]).subscribe((0,Ze.x)(g,Re=>{de||(de=!0,z--),S[X]=Re},()=>L--,void 0,()=>{(!L||!de)&&(z||g.next(a?(0,lt.n)(a,S):S),g.complete())}))}});return e?d.pipe((0,Je.Z)(e)):d}(vn(t,e).map(Tn)).pipe((0,Tt.U)(rn))}}function Er(i){return null!=i?cr(Cn(i)):null}function Zr(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function ci(i){return i._rawValidators}function si(i){return i._rawAsyncValidators}function Br(i){return i?Array.isArray(i)?i:[i]:[]}function Sr(i,e){return Array.isArray(i)?i.includes(e):i===e}function Wn(i,e){const t=Br(e);return Br(i).forEach(d=>{Sr(t,d)||t.push(d)}),t}function Wr(i,e){return Br(e).filter(t=>!Sr(i,t))}class or{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Er(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class cn extends or{get formDirective(){return null}get path(){return null}}class Fn extends or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let On=(()=>{class i extends kr{constructor(t){super(t)}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(Fn,2))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,d){2&a&&m.ekj("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)},features:[m.qOj]})}return i})(),wr=(()=>{class i extends kr{constructor(t){super(t)}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(cn,10))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(a,d){2&a&&m.ekj("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)("ng-submitted",d.isSubmitted)},features:[m.qOj]})}return i})();const re="VALID",q="INVALID",B="PENDING",$="DISABLED";function he(i){return(Xt(i)?i.validators:i)||null}function wt(i,e){return(Xt(e)?e.asyncValidators:i)||null}function Xt(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Tr{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===re}get invalid(){return this.status===q}get pending(){return this.status==B}get disabled(){return this.status===$}get enabled(){return this.status!==$}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Wn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wr(e,this._rawAsyncValidators))}hasValidator(e){return Sr(this._rawValidators,e)}hasAsyncValidator(e){return Sr(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=B,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$,this.errors=null,this._forEachChild(a=>{a.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=re,this._forEachChild(a=>{a.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===re||this.status===B)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$:re}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=B,this._hasOwnPendingAsyncValidator=!0;const t=Tn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((a,d)=>a&&a._find(d),this)}getError(e,t){const a=t?this.get(t):this;return a&&a.errors?a.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?$:this.errors?q:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(B)?B:this._anyControlsHaveStatus(q)?q:re}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xt(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $e(i){return Array.isArray(i)?hr(i):i||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function on(i){return Array.isArray(i)?Er(i):i||null}(this._rawAsyncValidators)}}class Qn extends Tr{constructor(e,t,a){super(he(t),wt(a,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,a={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,a={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Hn(i,e,t){i._forEachChild((a,d)=>{if(void 0===t[d])throw new m.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(a=>{(function Xn(i,e,t){const a=i.controls;if(!(e?Object.keys(a):a).length)throw new m.vHH(1e3,"");if(!a[t])throw new m.vHH(1001,"")})(this,!0,a),this.controls[a].setValue(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(a=>{const d=this.controls[a];d&&d.patchValue(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((a,d)=>{a.reset(e?e[d]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,a)=>(e[a]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,a)=>!!a._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const a=this.controls[t];a&&e(a,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,a]of Object.entries(this.controls))if(this.contains(t)&&e(a))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,a,d)=>((a.enabled||this.disabled)&&(t[d]=a.value),t))}_reduceChildren(e,t){let a=e;return this._forEachChild((d,g)=>{a=t(a,d,g)}),a}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Dn=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>fr}),fr="always";function Xr(i,e){return[...e.path,i]}function Ln(i,e,t=fr){Ae(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(i.disabled),function Ct(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Vt(i,e)})}(i,e),function $n(i,e){const t=(a,d)=>{e.valueAccessor.writeValue(a),d&&e.viewToModelUpdate(a)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function Ut(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Vt(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function De(i,e){if(e.valueAccessor.setDisabledState){const t=a=>{e.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function is(i,e,t=!0){const a=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(a),e.valueAccessor.registerOnTouched(a)),dt(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Ue(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ae(i,e){const t=ci(i);null!==e.validator?i.setValidators(Zr(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const a=si(i);null!==e.asyncValidator?i.setAsyncValidators(Zr(a,e.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const d=()=>i.updateValueAndValidity();Ue(e._rawValidators,d),Ue(e._rawAsyncValidators,d)}function dt(i,e){let t=!1;if(null!==i){if(null!==e.validator){const d=ci(i);if(Array.isArray(d)&&d.length>0){const g=d.filter(v=>v!==e.validator);g.length!==d.length&&(t=!0,i.setValidators(g))}}if(null!==e.asyncValidator){const d=si(i);if(Array.isArray(d)&&d.length>0){const g=d.filter(v=>v!==e.asyncValidator);g.length!==d.length&&(t=!0,i.setAsyncValidators(g))}}}const a=()=>{};return Ue(e._rawValidators,a),Ue(e._rawAsyncValidators,a),t}function Vt(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Nn(i,e){Ae(i,e)}function Pe(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ge(i,e){i._syncPendingControls(),e.forEach(t=>{const a=t.control;"submit"===a.updateOn&&a._pendingChange&&(t.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}function xt(i,e){if(!e)return null;let t,a,d;return Array.isArray(e),e.forEach(g=>{g.constructor===ye?t=g:function we(i){return Object.getPrototypeOf(i.constructor)===Oe}(g)?a=g:d=g}),d||a||t||null}const xr={provide:cn,useExisting:(0,m.Gpc)(()=>Rr)},lr=(()=>Promise.resolve())();let Rr=(()=>{class i extends cn{constructor(t,a,d){super(),this.callSetDisabledState=d,this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new Qn({},hr(t),Er(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){lr.then(()=>{const a=this._findContainer(t.path);t.control=a.registerControl(t.name,t.control),Ln(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){lr.then(()=>{const a=this._findContainer(t.path);a&&a.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){lr.then(()=>{const a=this._findContainer(t.path),d=new Qn({});Nn(d,t),a.registerControl(t.name,d),d.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){lr.then(()=>{const a=this._findContainer(t.path);a&&a.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,a){lr.then(()=>{this.form.get(t.path).setValue(a)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ge(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(an,10),m.Y36(In,10),m.Y36(Dn,8))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(a,d){1&a&&m.NdJ("submit",function(v){return d.onSubmit(v)})("reset",function(){return d.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([xr]),m.qOj]})}return i})();function Eo(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}function ko(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const Di=class extends Tr{constructor(e=null,t,a){super(he(t),wt(a,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ko(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Eo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Eo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ko(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pu={provide:Fn,useExisting:(0,m.Gpc)(()=>ys)},Qs=(()=>Promise.resolve())();let ys=(()=>{class i extends Fn{constructor(t,a,d,g,v,S){super(),this._changeDetectorRef=v,this.callSetDisabledState=S,this.control=new Di,this._registered=!1,this.name="",this.update=new m.vpe,this._parent=t,this._setValidators(a),this._setAsyncValidators(d),this.valueAccessor=xt(0,g)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const a=t.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Pe(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ln(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Qs.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const a=t.isDisabled.currentValue,d=0!==a&&(0,m.VuI)(a);Qs.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Xr(t,this._parent):[t]}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(cn,9),m.Y36(an,10),m.Y36(In,10),m.Y36(bt,10),m.Y36(m.sBO,8),m.Y36(Dn,8))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([pu]),m.qOj,m.TTD]})}return i})(),Ps=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),Pr=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({})}return i})();const dl=new m.OlP("NgModelWithFormControlWarning"),Ka={provide:cn,useExisting:(0,m.Gpc)(()=>ws)};let ws=(()=>{class i extends cn{constructor(t,a,d){super(),this.callSetDisabledState=d,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(t),this._setAsyncValidators(a)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const a=this.form.get(t.path);return Ln(a,t,this.callSetDisabledState),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),a}getControl(t){return this.form.get(t.path)}removeControl(t){is(t.control||null,t,!1),function ct(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,a){this.form.get(t.path).setValue(a)}onSubmit(t){return this.submitted=!0,Ge(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const a=t.control,d=this.form.get(t.path);a!==d&&(is(a||null,t),(i=>i instanceof Di)(d)&&(Ln(d,t,this.callSetDisabledState),t.control=d))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const a=this.form.get(t.path);Nn(a,t),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const a=this.form.get(t.path);a&&function Mr(i,e){return dt(i,e)}(a,t)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ae(this.form,this),this._oldForm&&dt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(an,10),m.Y36(In,10),m.Y36(Dn,8))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(a,d){1&a&&m.NdJ("submit",function(v){return d.onSubmit(v)})("reset",function(){return d.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Ka]),m.qOj,m.TTD]})}return i})();const Qa={provide:Fn,useExisting:(0,m.Gpc)(()=>Ya)};let Ya=(()=>{class i extends Fn{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,a,d,g,v){super(),this._ngModelWarningConfig=v,this._added=!1,this.name=null,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(a),this._setAsyncValidators(d),this.valueAccessor=xt(0,g)}ngOnChanges(t){this._added||this._setUpControl(),Pe(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Xr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(a){return new(a||i)(m.Y36(cn,13),m.Y36(an,10),m.Y36(In,10),m.Y36(bt,10),m.Y36(dl,8))};static#n=this.\u0275dir=m.lG2({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Qa]),m.qOj,m.TTD]})}return i})();const Vu={provide:bt,useExisting:(0,m.Gpc)(()=>Da),multi:!0};function la(i,e){return null==i?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${i}: ${e}`.slice(0,50))}let Da=(()=>{class i extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const d=la(this._getOptionId(t),t);this.setProperty("value",d)}registerOnChange(t){this.onChange=a=>{this.value=this._getOptionValue(a),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a),t))return a;return null}_getOptionValue(t){const a=function _u(i){return i.split(":")[0]}(t);return this._optionMap.has(a)?this._optionMap.get(a):t}static#e=this.\u0275fac=(()=>{let t;return function(d){return(t||(t=m.n5z(i)))(d||i)}})();static#t=this.\u0275dir=m.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(a,d){1&a&&m.NdJ("change",function(v){return d.onChange(v.target.value)})("blur",function(){return d.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Vu]),m.qOj]})}return i})(),Uu=(()=>{class i{constructor(t,a,d){this._element=t,this._renderer=a,this._select=d,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(la(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Da,9))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return i})();const Fc={provide:bt,useExisting:(0,m.Gpc)(()=>oc),multi:!0};function fo(i,e){return null==i?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${i}: ${e}`.slice(0,50))}let oc=(()=>{class i extends Oe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let a;if(this.value=t,Array.isArray(t)){const d=t.map(g=>this._getOptionId(g));a=(g,v)=>{g._setSelected(d.indexOf(v.toString())>-1)}}else a=(d,g)=>{d._setSelected(!1)};this._optionMap.forEach(a)}registerOnChange(t){this.onChange=a=>{const d=[],g=a.selectedOptions;if(void 0!==g){const v=g;for(let S=0;S<v.length;S++){const z=this._getOptionValue(v[S].value);d.push(z)}}else{const v=a.options;for(let S=0;S<v.length;S++){const L=v[S];if(L.selected){const z=this._getOptionValue(L.value);d.push(z)}}}this.value=d,t(d)}}_registerOption(t){const a=(this._idCounter++).toString();return this._optionMap.set(a,t),a}_getOptionId(t){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a)._value,t))return a;return null}_getOptionValue(t){const a=function Qd(i){return i.split(":")[0]}(t);return this._optionMap.has(a)?this._optionMap.get(a)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(d){return(t||(t=m.n5z(i)))(d||i)}})();static#t=this.\u0275dir=m.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(a,d){1&a&&m.NdJ("change",function(v){return d.onChange(v.target)})("blur",function(){return d.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Fc]),m.qOj]})}return i})(),ju=(()=>{class i{constructor(t,a,d){this._element=t,this._renderer=a,this._select=d,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(fo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(fo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(oc,9))};static#t=this.\u0275dir=m.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return i})();let Is=(()=>{class i{constructor(){this._validator=Mt}ngOnChanges(t){if(this.inputName in t){const a=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):Mt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275dir=m.lG2({type:i,features:[m.TTD]})}return i})();const Xa={provide:an,useExisting:(0,m.Gpc)(()=>di),multi:!0};let di=(()=>{class i extends Is{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.VuI,this.createValidator=t=>Nr}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(d){return(t||(t=m.n5z(i)))(d||i)}})();static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(a,d){2&a&&m.uIk("required",d._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([Xa]),m.qOj]})}return i})();const Vl={provide:an,useExisting:(0,m.Gpc)(()=>Ys),multi:!0};let Ys=(()=>{class i extends Is{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=m.VuI,this.createValidator=t=>Ke}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(d){return(t||(t=m.n5z(i)))(d||i)}})();static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[m._Bn([Vl]),m.qOj]})}return i})();const dr={provide:an,useExisting:(0,m.Gpc)(()=>ai),multi:!0};let ai=(()=>{class i extends Is{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function dd(i){return"number"==typeof i?i:parseInt(i,10)}(t),this.createValidator=t=>Ye(t)}static#e=this.\u0275fac=(()=>{let t;return function(d){return(t||(t=m.n5z(i)))(d||i)}})();static#t=this.\u0275dir=m.lG2({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(a,d){2&a&&m.uIk("minlength",d._enabled?d.minlength:null)},inputs:{minlength:"minlength"},features:[m._Bn([dr]),m.qOj]})}return i})(),fl=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({imports:[Pr]})}return i})(),hi=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Dn,useValue:t.callSetDisabledState??fr}]}}static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({imports:[fl]})}return i})(),ts=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:dl,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Dn,useValue:t.callSetDisabledState??fr}]}}static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({imports:[fl]})}return i})();function Zo(i,e){if(1&i&&(m.TgZ(0,"span",18),m._uU(1),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Oqu(t.errorMessage)}}let pr=(()=>{class i{constructor(t,a){this.auth=t,this.router=a,this.errorMessage="",this.isError=!1,this.isEmail=!0}formOp(t){this.auth.login(t.value.email,t.value.password).subscribe(g=>{},g=>{this.errorMessage=g,this.isError=!0})}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(fe.e),m.Y36(J.F0))};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","my-0"],[1,"text-primary","fw-bolder","display-3"],[1,"h6","text-secondary","my-2"],["href","/signup",1,"text-decoration-none"],["id","box",1,"col-xl-6","col-lg-6","col-md-10","col-sm-12","my-5","rounded"],["id","form",3,"ngSubmit"],["authForm","ngForm"],["class","text-danger small",4,"ngIf"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","ngModel","","name","email","placeholder","Enter Email","email","","required","",1,"form-control","rounded-4","py-3"],["for","password",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","password","ngModel","","name","password","placeholder","Enter Password","required","","password","","minlength","8",1,"form-control","rounded-4","py-3"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["href","/signup",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"]],template:function(a,d){if(1&a){const g=m.EpF();m.TgZ(0,"div",0)(1,"p",1),m._uU(2,"WELCOME BACK"),m.qZA(),m.TgZ(3,"h1",2),m._uU(4," Account Login "),m.TgZ(5,"span",3),m._uU(6,"."),m.qZA()(),m.TgZ(7,"p",4),m._uU(8,"Don't have an Account? "),m.TgZ(9,"a",5),m._uU(10,"Create New Account"),m.qZA()(),m.TgZ(11,"div",6)(12,"form",7,8),m.NdJ("ngSubmit",function(){m.CHM(g);const S=m.MAs(13);return m.KtG(d.formOp(S))}),m.YNc(14,Zo,2,1,"span",9),m.TgZ(15,"div",10)(16,"label",11),m._uU(17,"Email"),m.qZA(),m._UZ(18,"input",12),m.qZA(),m.TgZ(19,"div",10)(20,"label",13),m._uU(21,"Password"),m.qZA(),m._UZ(22,"input",14),m.qZA(),m.TgZ(23,"div",15)(24,"a",16),m._uU(25,"Change Method"),m.qZA(),m.TgZ(26,"button",17),m._uU(27,"Next"),m.qZA()()()()()}if(2&a){const g=m.MAs(13);m.xp6(14),m.Q6J("ngIf",d.isError),m.xp6(12),m.Q6J("disabled",!g.valid)}},dependencies:[be.O5,Ps,ye,On,wr,di,ai,Ys,ys,Rr]})}return i})();function eu(i,e){if(1&i&&(m.TgZ(0,"span",29),m._uU(1),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Oqu(t.errorMessage)}}function pl(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Name cannot contain numbers. "),m.qZA())}function tu(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," First Name is required "),m.qZA())}function Ai(i,e){if(1&i&&(m.TgZ(0,"span",30),m.YNc(1,pl,2,0,"span",15)(2,tu,2,0,"span",15),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.authForm.get("firstName").errors.pattern),m.xp6(1),m.Q6J("ngIf",t.authForm.get("firstName").errors.required)}}function Sa(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Name cannot contain numbers. "),m.qZA())}function po(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Last Name is required "),m.qZA())}function Ki(i,e){if(1&i&&(m.TgZ(0,"span",30),m.YNc(1,Sa,2,0,"span",15)(2,po,2,0,"span",15),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.authForm.get("lastName").errors.pattern),m.xp6(1),m.Q6J("ngIf",t.authForm.get("lastName").errors.required)}}function go(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Enter a valid Email "),m.qZA())}function da(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Email is required "),m.qZA())}function xa(i,e){if(1&i&&(m.TgZ(0,"span",30),m.YNc(1,go,2,0,"span",15)(2,da,2,0,"span",15),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.authForm.get("email").errors.email),m.xp6(1),m.Q6J("ngIf",t.authForm.get("email").errors.required)}}function ha(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Passoword is required "),m.qZA())}function wo(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Passoword should match the criteria and should be 8 chars long "),m.qZA())}function zn(i,e){if(1&i&&(m.TgZ(0,"span",30),m.YNc(1,ha,2,0,"span",15)(2,wo,2,0,"span",15),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.authForm.get("inputPassword").errors.required),m.xp6(1),m.Q6J("ngIf",t.authForm.get("inputPassword").errors.pattern||t.authForm.get("inputPassword").errors.minlength)}}function Ra(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Confirm Passoword is required "),m.qZA())}function nu(i,e){1&i&&(m.TgZ(0,"span",30),m._uU(1," Both password should match "),m.qZA())}function Hs(i,e){if(1&i&&(m.TgZ(0,"span",30),m.YNc(1,Ra,2,0,"span",15)(2,nu,2,0,"span",15),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.authForm.get("confirmPassword").errors.required),m.xp6(1),m.Q6J("ngIf",t.ifMatched&&t.authForm.get("inputPassword").valid)}}let ns=(()=>{class i{constructor(t){this.auth=t,this.confirmPassword="",this.isError=!1,this.inputPassword="",this.ifMatched=!0,this.passwordRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/,this.isValid=!1,this.numEx=/^[A-Za-z]+$/}ngOnInit(){this.authForm=new Qn({firstName:new Di(null,[bn.required,bn.pattern(this.numEx)]),lastName:new Di(null,[bn.required,bn.pattern(this.numEx)]),email:new Di(null,[bn.required,bn.email]),inputPassword:new Di(null,[bn.required,bn.pattern(this.passwordRegex)]),confirmPassword:new Di(null,[bn.required,bn.pattern(this.passwordRegex)])})}onSubmit(){console.log(this.authForm),this.auth.signup(this.authForm.value).subscribe(t=>{},t=>{this.errorMessage=t,this.isError=!0})}passwordMatch(){this.ifMatched=this.confirmPassword===this.inputPassword}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(fe.e))};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-sign-up"]],decls:52,vars:8,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold"],[1,"text-primary","fw-bolder","display-4"],[1,"h6","text-secondary"],["routerLink","/login",1,"text-decoration-none"],[1,"col-xl-6","col-md-10","col-sm-12","my-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["class","text-danger small",4,"ngIf"],[1,"col-11","d-flex","justify-content-between"],[1,"col-5"],[1,"form-group",3,"has-error"],["for","firstName",1,"col-sm-5","col-form-label","fw-semibold"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter First Name","required","",1,"form-control","rounded-4","py-3"],["class","small text-danger",4,"ngIf"],["for","lastName",1,"col-sm-5","col-form-label","fw-semibold"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter Last Name","required","",1,"form-control","rounded-4","py-3"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","formControlName","email","placeholder","Enter Email","required","","email","",1,"form-control","rounded-4","py-3"],["for","inputPassword",1,"col-sm-5","col-form-label","fw-semibold"],["title","A mixture of both uppercase and lowercase letters.\n  A mixture of letters and numbers.\n  Inclusion of at least one special character, e.g., ! @ # ? ]","data-bs-placement","bottom",1,"tt"],["type","password","id","inputPassword","formControlName","inputPassword","placeholder","Enter Password","required","","minlength","8","password","",1,"form-control","rounded-4","py-3",3,"ngModelChange"],["for","confirmPassword",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter Password","required","","minlength","8",1,"form-control","rounded-4","py-3",3,"ngModelChange"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["routerLink","/login",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"],[1,"small","text-danger"]],template:function(a,d){1&a&&(m.TgZ(0,"div",0)(1,"p",1),m._uU(2,"START FOR FREE"),m.qZA(),m.TgZ(3,"h1",2),m._uU(4," Create new account "),m.TgZ(5,"span",3),m._uU(6,"."),m.qZA()(),m.TgZ(7,"p",4),m._uU(8," Already A Member? "),m.TgZ(9,"a",5),m._uU(10,"Log In"),m.qZA()(),m.TgZ(11,"div",6)(12,"form",7),m.NdJ("ngSubmit",function(){return d.onSubmit()}),m.TgZ(13,"div",8),m.YNc(14,eu,2,1,"span",9),m.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),m._uU(19,"First Name"),m.qZA(),m._UZ(20,"input",14),m.qZA(),m.YNc(21,Ai,3,2,"span",15),m.qZA(),m.TgZ(22,"div",11)(23,"div",12)(24,"label",16),m._uU(25,"Last Name"),m.qZA(),m._UZ(26,"input",17),m.qZA(),m.YNc(27,Ki,3,2,"span",15),m.qZA()(),m.TgZ(28,"div",18)(29,"div",12)(30,"label",19),m._uU(31,"Email"),m.qZA(),m._UZ(32,"input",20),m.qZA(),m.YNc(33,xa,3,2,"span",15),m.qZA()(),m.TgZ(34,"div",18)(35,"div",12)(36,"label",21),m._uU(37,"Password"),m.qZA(),m.TgZ(38,"span",22)(39,"input",23),m.NdJ("ngModelChange",function(){return d.passwordMatch()}),m.qZA()()(),m.YNc(40,zn,3,2,"span",15),m.qZA(),m.TgZ(41,"div",18)(42,"div",12)(43,"label",24),m._uU(44,"Confirm Password"),m.qZA(),m.TgZ(45,"input",25),m.NdJ("ngModelChange",function(){return d.passwordMatch()}),m.qZA()(),m.YNc(46,Hs,3,2,"span",15),m.qZA(),m.TgZ(47,"div",26)(48,"a",27),m._uU(49,"Change Method"),m.qZA(),m.TgZ(50,"button",28),m._uU(51," Create Account "),m.qZA()()()()()),2&a&&(m.xp6(12),m.Q6J("formGroup",d.authForm),m.xp6(2),m.Q6J("ngIf",d.isError),m.xp6(7),m.Q6J("ngIf",!d.authForm.get("firstName").valid&&d.authForm.get("firstName").touched),m.xp6(6),m.Q6J("ngIf",!d.authForm.get("lastName").valid&&d.authForm.get("lastName").touched),m.xp6(6),m.Q6J("ngIf",!d.authForm.get("email").valid&&d.authForm.get("email").touched),m.xp6(7),m.Q6J("ngIf",!d.authForm.get("inputPassword").valid&&d.authForm.get("inputPassword").touched),m.xp6(6),m.Q6J("ngIf",!d.authForm.get("confirmPassword").valid&&d.authForm.get("confirmPassword").touched),m.xp6(4),m.Q6J("disabled",!d.authForm.valid||!d.ifMatched))},dependencies:[be.O5,J.rH,Ps,ye,On,wr,di,ai,Ys,ws,Ya]})}return i})();var Xs=U(8220);let ki=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-error-page"]],decls:11,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3","text-center"],[1,"display-4"],["href","/",1,"btn","btn-primary"]],template:function(a,d){1&a&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),m._uU(4,"404"),m.qZA(),m.TgZ(5,"h2"),m._uU(6,"Page Not Found"),m.qZA(),m.TgZ(7,"p"),m._uU(8,"We're sorry, but the page you're looking for could not be found."),m.qZA(),m.TgZ(9,"a",4),m._uU(10,"Go back to the homepage"),m.qZA()()()())},encapsulation:2})}return i})();var Kr=U(5383),fs=U(6775);function Yi(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," Name is required "),m.qZA())}function $s(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,Yi,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("name").errors.required)}}function Pa(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," Email is required "),m.qZA())}function fa(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," Enter a valid Email "),m.qZA())}function bs(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,Pa,2,0,"span",7)(2,fa,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("email").errors.required),m.xp6(1),m.Q6J("ngIf",t.orderForm.get("email").errors.email)}}function vu(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," House No. is required "),m.qZA())}function hd(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,vu,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("house_number").errors.required)}}function pa(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," Area, Sector is required "),m.qZA())}function eo(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,pa,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("area_sector").errors.required)}}function vs(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," City is required. "),m.qZA())}function gl(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,vs,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("city").errors.required)}}function Eu(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," PinCode is required. "),m.qZA())}function ml(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," PinCode should be numeric. "),m.qZA())}function Ma(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,Eu,2,0,"span",7)(2,ml,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("pincode").errors.required),m.xp6(1),m.Q6J("ngIf",t.orderForm.get("pincode").errors.pattern)}}function ac(i,e){if(1&i&&(m.TgZ(0,"option",36),m._uU(1),m.qZA()),2&i){const t=e.$implicit;m.Q6J("value",t.value),m.xp6(1),m.hij(" ",t.value," ")}}function ru(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," State is required. "),m.qZA())}function Uc(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,ru,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("state").errors.required)}}function M(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," Country is required. "),m.qZA())}function ne(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,M,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("country").errors.required)}}function j(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1," Contact is required "),m.qZA())}function Q(i,e){if(1&i&&(m.TgZ(0,"span",35),m.YNc(1,j,2,0,"span",7),m.qZA()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngIf",t.orderForm.get("contact").errors.required)}}let ve=(()=>{class i{constructor(t,a){this.cartData=t,this.userData=a,this.productId="",this.numRegex=/\d+$/,this.totalItems=0,this.objOrderData=[],this.totalAmount=0,this.stateJson={AN:"Andaman and Nicobar Islands",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CG:"Chandigarh",CH:"Chhattisgarh",DN:"Dadra and Nagar Haveli",DD:"Daman and Diu",DL:"Delhi",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JK:"Jammu and Kashmir",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",LA:"Ladakh",LD:"Lakshadweep",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PY:"Puducherry",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TS:"Telangana",TR:"Tripura",UP:"Uttar Pradesh",UK:"Uttarakhand",WB:"West Bengal"}}ngOnInit(){let t=localStorage.getItem("currentUser"),a=JSON.parse(t),d=localStorage.getItem("cart")||"";this.objOrderData=JSON.parse(d),this.objOrderData.map(g=>this.totalAmount+=g.price*g.amount),this.orderForm=new Qn({name:new Di("",bn.required),email:new Di("",[bn.required,bn.email]),house_number:new Di("",bn.required),area_sector:new Di("",bn.required),city:new Di("",bn.required),pincode:new Di(null,[bn.required,bn.pattern(this.numRegex)]),state:new Di("",bn.required),country:new Di("",bn.required),contact:new Di(null,[bn.required,bn.pattern(this.numRegex)])}),this.orderForm.patchValue({name:`${a[0].firstName} ${a[0].lastName}`,email:`${a[0].email}`}),this.totalItems=this.cartData.cartdata.length}formHandler(){let t=this.cartData.cartdata,a=0;t.map(g=>{a+=g.amount*g.price}),this.userData.saveOrderData({cartItems:t,deliveryDetail:this.orderForm.value,totalAmount:a}),t.map(g=>{console.log(g.id),this.cartData.handleOrder(g.id,g.amount,g.stock)}),console.log(this.orderForm.value)}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(Kr.b),m.Y36(fs.M))};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-order"]],decls:72,vars:15,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-12","my-3","col-lg-7","bg-white","mx-auto","rounded","px-3","py-4","shadow"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","email",1,"form-label"],["type","text","formControlName","email","id","email",1,"form-control"],[1,"row","py-1"],[1,"col-12","col-lg-6"],["for","house_number",1,"form-label"],["type","text","formControlName","house_number","id","house_number",1,"form-control"],["for","area_sector",1,"form-label"],["type","text","formControlName","area_sector","id","area_sector",1,"form-control"],["for","city",1,"form-label"],["type","text","formControlName","city","id","city",1,"form-control"],["for","pincode",1,"form-label"],["type","text","formControlName","pincode","id","pincode",1,"form-control"],["for","state",1,"form-label"],["formControlName","state",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","country",1,"form-label"],["type","text","formControlName","country","id","country",1,"form-control"],["for","contact",1,"form-label"],["type","text","formControlName","contact","id","contact",1,"form-control"],[1,"col-12","col-lg-4","bg-white","px-3","py-4","h-75","my-auto","rounded","shadow"],[1,"fw-bold","mb-4"],[1,"list-group","col-10","mx-auto"],[1,"row","my-0","p-0","list-group-item"],[1,"col-4","mt-1"],[1,"col","text-end","fw-bold"],[1,"row","mt-5"],[1,"btn","btn-success","col-6","mx-auto",3,"disabled","click"],[1,"small","text-danger"],[3,"value"]],template:function(a,d){1&a&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),m.NdJ("ngSubmit",function(){return d.formHandler()}),m.TgZ(4,"div",4)(5,"label",5),m._uU(6,"Name"),m.qZA(),m._UZ(7,"input",6),m.YNc(8,$s,2,1,"span",7),m.qZA(),m.TgZ(9,"div",4)(10,"label",8),m._uU(11,"Email"),m.qZA(),m._UZ(12,"input",9),m.YNc(13,bs,3,2,"span",7),m.qZA(),m.TgZ(14,"div",10)(15,"div",11)(16,"label",12),m._uU(17,"House no."),m.qZA(),m._UZ(18,"input",13),m.YNc(19,hd,2,1,"span",7),m.qZA(),m.TgZ(20,"div",11)(21,"label",14),m._uU(22,"Area, Sector"),m.qZA(),m._UZ(23,"input",15),m.YNc(24,eo,2,1,"span",7),m.qZA()(),m.TgZ(25,"div",1)(26,"div",11)(27,"label",16),m._uU(28,"City"),m.qZA(),m._UZ(29,"input",17),m.YNc(30,gl,2,1,"span",7),m.qZA(),m.TgZ(31,"div",11)(32,"label",18),m._uU(33,"PinCode"),m.qZA(),m._UZ(34,"input",19),m.YNc(35,Ma,3,2,"span",7),m.qZA()(),m.TgZ(36,"div",1)(37,"div",11)(38,"label",20),m._uU(39,"State"),m.qZA(),m.TgZ(40,"select",21),m.YNc(41,ac,2,2,"option",22),m.ALo(42,"keyvalue"),m.qZA(),m.YNc(43,Uc,2,1,"span",7),m.qZA(),m.TgZ(44,"div",11)(45,"label",23),m._uU(46,"Country"),m.qZA(),m._UZ(47,"input",24),m.YNc(48,ne,2,1,"span",7),m.qZA()(),m.TgZ(49,"div",4)(50,"label",25),m._uU(51,"Contact"),m.qZA(),m._UZ(52,"input",26),m.YNc(53,Q,2,1,"span",7),m.qZA()()(),m.TgZ(54,"div",27)(55,"div",1)(56,"h3",28),m._uU(57,"Order Total"),m.qZA(),m.TgZ(58,"ul",29)(59,"li",30)(60,"p",31),m._uU(61,"Total Amount:"),m.qZA(),m.TgZ(62,"p",32),m._uU(63),m.qZA()(),m.TgZ(64,"li",30)(65,"p",31),m._uU(66,"Shipping:"),m.qZA(),m.TgZ(67,"p",32),m._uU(68,"Free Shipping"),m.qZA()()(),m.TgZ(69,"div",33)(70,"button",34),m.NdJ("click",function(){return d.formHandler()}),m._uU(71," Place Order "),m.qZA()()()()()()),2&a&&(m.xp6(3),m.Q6J("formGroup",d.orderForm),m.xp6(5),m.Q6J("ngIf",!d.orderForm.get("name").valid&&d.orderForm.get("name").touched),m.xp6(5),m.Q6J("ngIf",!d.orderForm.get("email").valid&&d.orderForm.get("email").touched),m.xp6(6),m.Q6J("ngIf",!d.orderForm.get("house_number").valid&&d.orderForm.get("house_number").touched),m.xp6(5),m.Q6J("ngIf",!d.orderForm.get("area_sector").valid&&d.orderForm.get("area_sector").touched),m.xp6(6),m.Q6J("ngIf",!d.orderForm.get("city").valid&&d.orderForm.get("city").touched),m.xp6(5),m.Q6J("ngIf",!d.orderForm.get("pincode").valid&&d.orderForm.get("pincode").touched),m.xp6(6),m.Q6J("ngForOf",m.lcZ(42,13,d.stateJson)),m.xp6(2),m.Q6J("ngIf",!d.orderForm.get("state").valid&&d.orderForm.get("state").touched),m.xp6(5),m.Q6J("ngIf",!d.orderForm.get("country").valid&&d.orderForm.get("country").touched),m.xp6(5),m.Q6J("ngIf",!d.orderForm.get("contact").valid&&d.orderForm.get("contact").touched),m.xp6(10),m.hij("$",d.totalAmount,""),m.xp6(7),m.Q6J("disabled",!d.orderForm.valid))},dependencies:[be.sg,be.O5,Ps,Uu,ju,ye,Da,On,wr,ws,Ya,be.Nd]})}return i})();function ni(i){return Array.isArray(i)?i:[i]}var ei=U(8645),gr=U(2572),Ji=U(5211),Io=U(8180),Ot=U(2181),Li=U(6321),To=U(9360),xn=U(7921),_l=U(9773);let un;try{un=typeof Intl<"u"&&Intl.v8BreakIterator}catch{un=!1}let st=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,be.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!un)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(a){return new(a||i)(m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ga=new Set;let An,gd=(()=>{class i{constructor(t,a){this._platform=t,this._nonce=a,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dn}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function tn(i,e){if(!ga.has(i))try{An||(An=document.createElement("style"),e&&(An.nonce=e),An.setAttribute("type","text/css"),document.head.appendChild(An)),An.sheet&&(An.sheet.insertRule(`@media ${i} {body{ }}`,0),ga.add(i))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(a){return new(a||i)(m.LFG(st),m.LFG(m.Ojb,8))};static#t=this.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function dn(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let yl=(()=>{class i{constructor(t,a){this._mediaMatcher=t,this._zone=a,this._queries=new Map,this._destroySubject=new ei.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Gu(ni(t)).some(d=>this._registerQuery(d).mql.matches)}observe(t){const d=Gu(ni(t)).map(v=>this._registerQuery(v).observable);let g=(0,gr.a)(d);return g=(0,Ji.z)(g.pipe((0,Io.q)(1)),g.pipe(function wi(i){return(0,Ot.h)((e,t)=>i<=t)}(1),function gn(i,e=Li.z){return(0,To.e)((t,a)=>{let d=null,g=null,v=null;const S=()=>{if(d){d.unsubscribe(),d=null;const z=g;g=null,a.next(z)}};function L(){const z=v+i,X=e.now();if(X<z)return d=this.schedule(void 0,z-X),void a.add(d);S()}t.subscribe((0,Ze.x)(a,z=>{g=z,v=e.now(),d||(d=e.schedule(L,i),a.add(d))},()=>{S(),a.complete()},void 0,()=>{g=d=null}))})}(0))),g.pipe((0,Tt.U)(v=>{const S={matches:!1,breakpoints:{}};return v.forEach(({matches:L,query:z})=>{S.matches=S.matches||L,S.breakpoints[z]=L}),S}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const a=this._mediaMatcher.matchMedia(t),g={observable:new Ve.y(v=>{const S=L=>this._zone.run(()=>v.next(L));return a.addListener(S),()=>{a.removeListener(S)}}).pipe((0,xn.O)(a),(0,Tt.U)(({matches:v})=>({query:t,matches:v})),(0,_l.R)(this._destroySubject)),mql:a};return this._queries.set(t,g),g}static#e=this.\u0275fac=function(a){return new(a||i)(m.LFG(gd),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Gu(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const to={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var kt,vl=U(9397),qu=U(3997),Co=U(5861),El=U(4303),wl=U(4537),cc=U(7879),ma=U(9058),Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},Na=Na||{},vr=Yd||self;function He(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function wu(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Do="closure_uid_"+(1e9*Math.random()>>>0),Iu=0;function ka(i,e,t){return i.call.apply(i.bind,arguments)}function md(i,e,t){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,a),i.apply(e,d)}}return function(){return i.apply(e,arguments)}}function as(i,e,t){return(as=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:md).apply(null,arguments)}function Il(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var a=t.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function ri(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(a,d,g){for(var v=Array(arguments.length-2),S=2;S<arguments.length;S++)v[S-2]=arguments[S];return e.prototype[d].apply(a,v)}}function ro(){this.s=this.s,this.o=this.o}ro.prototype.s=!1,ro.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function no(i){Object.prototype.hasOwnProperty.call(i,Do)&&i[Do]||(i[Do]=++Iu)}(this)},ro.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rs=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ao(i){const e=i.length;if(0<e){const t=Array(e);for(let a=0;a<e;a++)t[a]=i[a];return t}return[]}function Tl(i,e){for(let t=1;t<arguments.length;t++){const a=arguments[t];if(He(a)){const d=i.length||0,g=a.length||0;i.length=d+g;for(let v=0;v<g;v++)i[d+v]=a[v]}else i.push(a)}}function io(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}io.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!vr.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{vr.addEventListener("test",()=>{},e),vr.removeEventListener("test",()=>{},e)}catch{}return i}();function k(i){return/^[\s\xa0]*$/.test(i)}function A(){var i=vr.navigator;return i&&(i=i.userAgent)?i:""}function F(i){return-1!=A().indexOf(i)}function W(i){return W[" "](i),i}W[" "]=function(){};var so,i,Ee=F("Opera"),ot=F("Trident")||F("MSIE"),nt=F("Edge"),en=nt||ot,Lr=F("Gecko")&&!(-1!=A().toLowerCase().indexOf("webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),Fr=-1!=A().toLowerCase().indexOf("webkit")&&!F("Edge");function us(){var i=vr.document;return i?i.documentMode:void 0}e:{var Tu="",Ii=(i=A(),Lr?/rv:([^\);]+)(\)|;)/.exec(i):nt?/Edge\/([\d\.]+)/.exec(i):ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Fr?/WebKit\/(\S+)/.exec(i):Ee?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ii&&(Tu=Ii?Ii[1]:""),ot){var _a=us();if(null!=_a&&_a>parseFloat(Tu)){so=String(_a);break e}}so=Tu}var Zh=vr.document&&ot&&(us()||parseInt(so,10))||void 0;function Bc(i,e){if(io.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Lr){e:{try{W(e.nodeName);var d=!0;break e}catch{}d=!1}d||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Wu[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Bc.$.h.call(this)}}ri(Bc,io);var Wu={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var bu="closure_listenable_"+(1e6*Math.random()|0),eg=0;function hc(i,e,t,a,d){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!a,this.la=d,this.key=++eg,this.fa=this.ia=!1}function ou(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Jd(i,e,t){for(const a in i)e.call(t,i[a],a,i)}function Cs(i){const e={};for(const t in i)e[t]=i[t];return e}const au="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ku(i,e){let t,a;for(let d=1;d<arguments.length;d++){for(t in a=arguments[d],a)i[t]=a[t];for(let g=0;g<au.length;g++)t=au[g],Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t])}}function _d(i){this.src=i,this.g={},this.h=0}function gi(i,e){var t=e.type;if(t in i.g){var g,a=i.g[t],d=rs(a,e);(g=0<=d)&&Array.prototype.splice.call(a,d,1),g&&(ou(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function fc(i,e,t,a){for(var d=0;d<i.length;++d){var g=i[d];if(!g.fa&&g.listener==e&&g.capture==!!t&&g.la==a)return d}return-1}_d.prototype.add=function(i,e,t,a,d){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var v=fc(i,e,a,d);return-1<v?(e=i[v],t||(e.ia=!1)):((e=new hc(e,this.src,g,!!a,d)).ia=t,i.push(e)),e};var ls="closure_lm_"+(1e6*Math.random()|0),Vi={};function Qh(i,e,t,a,d){if(a&&a.once)return Xd(i,e,t,a,d);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Qh(i,e[g],t,a,d);return null}return t=Yu(t),i&&i[bu]?i.O(e,t,wu(a)?!!a.capture:!!a,d):Zu(i,e,t,!1,a,d)}function Zu(i,e,t,a,d,g){if(!e)throw Error("Invalid event type");var v=wu(d)?!!d.capture:!!d,S=Ui(i);if(S||(i[ls]=S=new _d(i)),(t=S.add(e,t,a,v,g)).proxy)return t;if(a=function ya(){const e=Qu;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=a,a.src=i,a.listener=t,i.addEventListener)D||(d=v),void 0===d&&(d=!1),i.addEventListener(e.toString(),a,d);else if(i.attachEvent)i.attachEvent(tg(e.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return t}function Xd(i,e,t,a,d){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Xd(i,e[g],t,a,d);return null}return t=Yu(t),i&&i[bu]?i.P(e,t,wu(a)?!!a.capture:!!a,d):Zu(i,e,t,!0,a,d)}function Yh(i,e,t,a,d){if(Array.isArray(e))for(var g=0;g<e.length;g++)Yh(i,e[g],t,a,d);else a=wu(a)?!!a.capture:!!a,t=Yu(t),i&&i[bu]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=fc(g=i.g[e],t,a,d))&&(ou(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=Ui(i))&&(e=i.g[e.toString()],i=-1,e&&(i=fc(e,t,a,d)),(t=-1<i?e[i]:null)&&Ds(t))}function Ds(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[bu])gi(e.i,i);else{var t=i.type,a=i.proxy;e.removeEventListener?e.removeEventListener(t,a,i.capture):e.detachEvent?e.detachEvent(tg(t),a):e.addListener&&e.removeListener&&e.removeListener(a),(t=Ui(e))?(gi(t,i),0==t.h&&(t.src=null,e[ls]=null)):ou(i)}}}function tg(i){return i in Vi?Vi[i]:Vi[i]="on"+i}function Qu(i,e){if(i.fa)i=!0;else{e=new Bc(e,this);var t=i.listener,a=i.la||i.src;i.ia&&Ds(i),i=t.call(a,e)}return i}function Ui(i){return(i=i[ls])instanceof _d?i:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(i){return"function"==typeof i?i:(i[Cu]||(i[Cu]=function(e){return i.handleEvent(e)}),i[Cu])}function ps(){ro.call(this),this.i=new _d(this),this.S=this,this.J=null}function gs(i,e){var t,a=i.J;if(a)for(t=[];a;a=a.J)t.push(a);if(i=i.S,a=e.type||e,"string"==typeof e)e=new io(e,i);else if(e instanceof io)e.target=e.target||i;else{var d=e;Ku(e=new io(a,i),d)}if(d=!0,t)for(var g=t.length-1;0<=g;g--){var v=e.g=t[g];d=jc(v,a,!0,e)&&d}if(d=jc(v=e.g=i,a,!0,e)&&d,d=jc(v,a,!1,e)&&d,t)for(g=0;g<t.length;g++)d=jc(v=e.g=t[g],a,!1,e)&&d}function jc(i,e,t,a){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var d=!0,g=0;g<e.length;++g){var v=e[g];if(v&&!v.fa&&v.capture==t){var S=v.listener,L=v.la||v.src;v.ia&&gi(i.i,v),d=!1!==S.call(L,a)&&d}}return d&&!a.defaultPrevented}ri(ps,ro),ps.prototype[bu]=!0,ps.prototype.removeEventListener=function(i,e,t,a){Yh(this,i,e,t,a)},ps.prototype.N=function(){if(ps.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],a=0;a<t.length;a++)ou(t[a]);delete i.g[e],i.h--}}this.J=null},ps.prototype.O=function(i,e,t,a){return this.i.add(String(i),e,!1,t,a)},ps.prototype.P=function(i,e,t,a){return this.i.add(String(i),e,!0,t,a)};var La=vr.JSON.stringify;function Hc(){var i=Ju;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Fa=new class uu{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Du,i=>i.reset());class Du{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Va(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function $c(i){vr.setTimeout(()=>{throw i},0)}let Qo,lu=!1,Ju=new class oo{constructor(){this.h=this.g=null}add(e,t){const a=Fa.get();a.set(e,t),this.h?this.h.next=a:this.g=a,this.h=a}},Bl=()=>{const i=vr.Promise.resolve(void 0);Qo=()=>{i.then(Jh)}};var Jh=()=>{for(var i;i=Hc();){try{i.h.call(i.g)}catch(t){$c(t)}var e=Fa;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}lu=!1};function jl(i,e){ps.call(this),this.h=i||1,this.g=e||vr,this.j=as(this.qb,this),this.l=Date.now()}function pc(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function eh(i,e,t){if("function"==typeof i)t&&(i=as(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=as(i.handleEvent,i)}return 2147483647<Number(e)?-1:vr.setTimeout(i,e||0)}function Ua(i){i.g=eh(()=>{i.g=null,i.i&&(i.i=!1,Ua(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ri(jl,ps),(kt=jl.prototype).ga=!1,kt.T=null,kt.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gs(this,"tick"),this.ga&&(pc(this),this.start()))}},kt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kt.N=function(){jl.$.N.call(this),pc(this),delete this.g};class Ba extends ro{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(vr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zc(i){ro.call(this),this.h=i,this.g={}}ri(zc,ro);var Gc=[];function bl(i,e,t,a){Array.isArray(t)||(t&&(Gc[0]=t.toString()),t=Gc);for(var d=0;d<t.length;d++){var g=Qh(e,t[d],a||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function Hl(i){Jd(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ds(e)},i),i.g={}}function Uo(){this.g=!0}function Ti(i,e,t,a){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Yf(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var a=t[i];if(!(2>a.length)){var d=a[1];if(Array.isArray(d)&&!(1>d.length)){var g=d[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var v=1;v<d.length;v++)d[v]=""}}}return La(t)}catch{return e}}(i,t)+(a?" "+a:"")})}zc.prototype.N=function(){zc.$.N.call(this),Hl(this)},zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uo.prototype.Ea=function(){this.g=!1},Uo.prototype.info=function(){};var Au={},P=null;function V(){return P=P||new ps}function Z(i){io.call(this,Au.Ta,i)}function ue(i){const e=V();gs(e,new Z(e))}function Ce(i,e){io.call(this,Au.STAT_EVENT,i),this.stat=e}function Le(i){const e=V();gs(e,new Ce(e,i))}function gt(i,e){io.call(this,Au.Ua,i),this.size=e}function ln(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return vr.setTimeout(function(){i()},e)}Au.Ta="serverreachability",ri(Z,io),Au.STAT_EVENT="statevent",ri(Ce,io),Au.Ua="timingevent",ri(gt,io);var nn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cr(){}function Yo(){}Cr.prototype.h=null;var Cl,zs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gc(){io.call(this,"d")}function el(){io.call(this,"c")}function va(){}function mi(i,e,t,a){this.l=i,this.j=e,this.m=t,this.W=a||1,this.U=new zc(this),this.P=Jf,this.V=new jl(i=en?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xh}function Xh(){this.i=null,this.g="",this.h=!1}ri(gc,io),ri(el,io),ri(va,Cr),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},Cl=new va;var Jf=45e3,ef={},mo={};function Jo(i,e,t){i.L=1,i.v=Hr(Ne(e)),i.s=t,i.S=!0,qc(i,null)}function qc(i,e){i.G=Date.now(),tf(i),i.A=Ne(i.v);var t=i.A,a=i.W;Array.isArray(a)||(a=[String(a)]),qr(t.i,"t",a),i.C=0,t=i.l.J,i.h=new Xh,i.g=Vv(i.l,t?e:null,!i.s),0<i.O&&(i.M=new Ba(as(i.Pa,i,i.g),i.O)),bl(i.U,i.g,"readystatechange",i.nb),e=i.I?Cs(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ue(),function ui(i,e,t,a,d,g){i.info(function(){if(i.g)if(g)for(var v="",S=g.split("&"),L=0;L<S.length;L++){var z=S[L].split("=");if(1<z.length){var X=z[0];z=z[1];var de=X.split("_");v=2<=de.length&&"type"==de[1]?v+(X+"=")+z+"&":v+(X+"=redacted&")}}else v=null;else v=g;return"XMLHTTP REQ ("+a+") [attempt "+d+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function mc(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function _c(i,e,t){let d,a=!0;for(;!i.J&&i.C<t.length;){if(d=Xf(i,t),d==mo){4==e&&(i.o=4,Le(14),a=!1),Ti(i.j,i.m,null,"[Incomplete Response]");break}if(d==ef){i.o=4,Le(15),Ti(i.j,i.m,t,"[Invalid Chunk]"),a=!1;break}Ti(i.j,i.m,d,null),yc(i,d)}mc(i)&&d!=mo&&d!=ef&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Le(16),a=!1),i.i=i.i&&a,a?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ip(e),e.M=!0,Le(11))):(Ti(i.j,i.m,t,"[Invalid Chunked Response]"),$l(i),ks(i))}function Xf(i,e){var t=i.C,a=e.indexOf("\n",t);return-1==a?mo:(t=Number(e.substring(t,a)),isNaN(t)?ef:(a+=1)+t>e.length?mo:(e=e.slice(a,a+t),i.C=a+t,e))}function tf(i){i.Y=Date.now()+i.P,Dl(i,i.P)}function Dl(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ln(as(i.lb,i),e)}function ep(i){i.B&&(vr.clearTimeout(i.B),i.B=null)}function ks(i){0==i.l.H||i.J||sh(i.l,i)}function $l(i){ep(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,pc(i.V),Hl(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function yc(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||Rm(t.i,i)))if(!i.K&&Rm(t.i,i)&&3==t.H){try{var a=t.Ja.g.parse(e)}catch{a=null}if(Array.isArray(a)&&3==a.length){var d=a;if(0==d[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;ea(t),li(t)}ly(t),Le(18)}}else t.Fa=d[1],0<t.Fa-t.V&&37500>d[2]&&t.G&&0==t.A&&!t.v&&(t.v=ln(as(t.ib,t),6e3));if(1>=nf(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else wc(t,11)}else if((i.K||t.g==i)&&ea(t),!k(e))for(d=t.Ja.g.parse(e),e=0;e<d.length;e++){let z=d[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.K=z[1],t.pa=z[2];const X=z[3];null!=X&&(t.ra=X,t.l.info("VER="+t.ra));const de=z[4];null!=de&&(t.Ga=de,t.l.info("SVER="+t.Ga));const Re=z[5];null!=Re&&"number"==typeof Re&&0<Re&&(t.L=a=1.5*Re,t.l.info("backChannelRequestTimeoutMs_="+a)),a=t;const rt=i.g;if(rt){const zt=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var g=a.i;g.g||-1==zt.indexOf("spdy")&&-1==zt.indexOf("quic")&&-1==zt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(rp(g,g.h),g.h=null))}if(a.F){const mn=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;mn&&(a.Da=mn,hn(a.I,a.F,mn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var v=i;if((a=t).wa=uf(a,a.J?a.pa:null,a.Y),v.K){Kc(a.i,v);var S=v,L=a.L;L&&S.setTimeout(L),S.B&&(ep(S),tf(S)),a.g=v}else uy(a);0<t.j.length&&fg(t)}else"stop"!=z[0]&&"close"!=z[0]||wc(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?wc(t,7):Gs(t):"noop"!=z[0]&&t.h&&t.h.Aa(z),t.A=0)}ue()}catch{}}function b(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(He(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function E(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(He(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const a in i)e[t++]=a;return e}}}(i),a=function x(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(He(i)){for(var e=[],t=i.length,a=0;a<t;a++)e.push(i[a]);return e}for(a in e=[],t=0,i)e[t++]=i[a];return e}(i),d=a.length,g=0;g<d;g++)e.call(void 0,a[g],t&&t[g],i)}(kt=mi.prototype).setTimeout=function(i){this.P=i},kt.nb=function(i){i=i.target;const e=this.M;e&&3==du(i)?e.l():this.Pa(i)},kt.Pa=function(i){try{if(i==this.g)e:{const X=du(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||en||this.g&&(this.h.h||this.g.ja()||Ed(this.g)))){this.J||4!=X||7==e||ue(),ep(this);var t=this.g.da();this.ca=t;t:if(mc(this)){var a=Ed(this.g);i="";var d=a.length,g=4==du(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$l(this),ks(this);var v="";break t}this.h.i=new vr.TextDecoder}for(e=0;e<d;e++)this.h.h=!0,i+=this.h.i.decode(a[e],{stream:g&&e==d-1});a.splice(0,d),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==t,function ng(i,e,t,a,d,g,v){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+d+"]: "+e+"\n"+t+"\n"+g+" "+v})}(this.j,this.u,this.A,this.m,this.W,X,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(S)){var z=S;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Le(12),$l(this),ks(this);break e}Ti(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yc(this,t)}this.S?(_c(this,X,v),en&&this.i&&3==X&&(bl(this.U,this.V,"tick",this.mb),this.V.start())):(Ti(this.j,this.m,v,null),yc(this,v)),4==X&&$l(this),this.i&&!this.J&&(4==X?sh(this.l,this):(this.i=!1,tf(this)))}else(function oy(i){const e={};i=(i.g&&2<=du(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let a=0;a<i.length;a++){if(k(i[a]))continue;var t=Va(i[a]);const d=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const g=e[d]||[];e[d]=g,g.push(t)}!function Ul(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(a){return a.join(", ")})})(this.g),400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Le(12)):(this.o=0,Le(13)),$l(this),ks(this)}}}catch{}},kt.mb=function(){if(this.g){var i=du(this.g),e=this.g.ja();this.C<e.length&&(ep(this),_c(this,i,e),this.i&&4!=i&&tf(this))}},kt.cancel=function(){this.J=!0,$l(this)},kt.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Xu(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ue(),Le(17)),$l(this),this.o=2,ks(this)):Dl(this,this.Y-i)};var O=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ae(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ae){this.h=i.h,pt(this,i.j),this.s=i.s,this.g=i.g,Zt(this,i.m),this.l=i.l;var e=i.i,t=new yd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fn(this,t),this.o=i.o}else i&&(e=String(i).match(O))?(this.h=!1,pt(this,e[1]||"",!0),this.s=Bo(e[2]||""),this.g=Bo(e[3]||"",!0),Zt(this,e[4]),this.l=Bo(e[5]||"",!0),fn(this,e[6]||"",!0),this.o=Bo(e[7]||"")):(this.h=!1,this.i=new yd(null,this.h))}function Ne(i){return new ae(i)}function pt(i,e,t){i.j=t?Bo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Zt(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function fn(i,e,t){e instanceof yd?(i.i=e,function ig(i,e){e&&!i.j&&(jo(i),i.i=null,i.g.forEach(function(t,a){var d=a.toLowerCase();a!=d&&(Wc(this,a),qr(this,d,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ls(e,np)),i.i=new yd(e,i.h))}function hn(i,e,t){i.i.set(e,t)}function Hr(i){return hn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Bo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ls(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,tp),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function tp(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ae.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ls(e,Xo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ls(e,Xo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ls(t,"/"==t.charAt(0)?vc:th,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ls(t,tl)),i.join("")};var Xo=/[#\/\?@]/g,th=/[#\?:]/g,vc=/[#\?]/g,np=/[#\?@]/g,tl=/#/g;function yd(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function jo(i){i.g||(i.g=new Map,i.h=0,i.i&&function Y(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var a=i[t].indexOf("="),d=null;if(0<=a){var g=i[t].substring(0,a);d=i[t].substring(a+1)}else g=i[t];e(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Wc(i,e){jo(i),e=Ec(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function rg(i,e){return jo(i),e=Ec(i,e),i.g.has(e)}function qr(i,e,t){Wc(i,e),0<t.length&&(i.i=null,i.g.set(Ec(i,e),Ao(t)),i.h+=t.length)}function Ec(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(kt=yd.prototype).add=function(i,e){jo(this),this.i=null,i=Ec(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},kt.forEach=function(i,e){jo(this),this.g.forEach(function(t,a){t.forEach(function(d){i.call(e,d,a,this)},this)},this)},kt.ta=function(){jo(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let a=0;a<e.length;a++){const d=i[a];for(let g=0;g<d.length;g++)t.push(e[a])}return t},kt.Z=function(i){jo(this);let e=[];if("string"==typeof i)rg(this,i)&&(e=e.concat(this.g.get(Ec(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},kt.set=function(i,e){return jo(this),this.i=null,rg(this,i=Ec(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},kt.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var a=e[t];const g=encodeURIComponent(String(a)),v=this.Z(a);for(a=0;a<v.length;a++){var d=g;""!==v[a]&&(d+="="+encodeURIComponent(String(v[a]))),i.push(d)}}return this.i=i.join("&")};var bw=class{constructor(i,e){this.g=i,this.map=e}};function ty(i){this.l=i||Nv,i=vr.PerformanceNavigationTiming?0<(i=vr.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(vr.g&&vr.g.Ka&&vr.g.Ka()&&vr.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nv=10;function sg(i){return!!i.h||!!i.g&&i.g.size>=i.j}function nf(i){return i.h?1:i.g?i.g.size:0}function Rm(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function rp(i,e){i.g?i.g.add(e):i.h=e}function Kc(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Zc(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Ao(i.i)}ty.prototype.cancel=function(){if(this.i=Zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var kv=class{stringify(i){return vr.JSON.stringify(i,void 0)}parse(i){return vr.JSON.parse(i,void 0)}};function nh(){this.g=new kv}function ny(i,e,t){const a=t||"";try{b(i,function(d,g){let v=d;wu(d)&&(v=La(d)),e.push(a+g+"="+encodeURIComponent(v))})}catch(d){throw e.push(a+"type="+encodeURIComponent("_badmap")),d}}function Pm(i,e,t,a,d){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,d(a)}catch{}}function rh(i){this.l=i.ec||null,this.j=i.ob||!1}function ih(i,e){ps.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=og,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ri(rh,Cr),rh.prototype.g=function(){return new ih(this.l,this.j)},rh.prototype.i=function(i){return function(){return i}}({}),ri(ih,ps);var og=0;function ry(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function cs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,nl(i)}function nl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(kt=ih.prototype).open=function(i,e){if(this.readyState!=og)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,nl(this)},kt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||vr).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cs(this)),this.readyState=og},kt.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof vr.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ry(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},kt.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?cs(this):nl(this),3==this.readyState&&ry(this)}},kt.Za=function(i){this.g&&(this.response=this.responseText=i,cs(this))},kt.Ya=function(i){this.g&&(this.response=i,cs(this))},kt.ka=function(){this.g&&cs(this)},kt.setRequestHeader=function(i,e){this.v.append(i,e)},kt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},kt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Mm=vr.JSON.parse;function Fs(i){ps.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ag,this.L=this.M=!1}ri(Fs,ps);var ag="",ug=/^https?$/i,iy=["POST","PUT"];function cu(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Su(i),dg(i)}function Su(i){i.F||(i.F=!0,gs(i,"complete"),gs(i,"error"))}function cg(i){if(i.h&&typeof Na<"u"&&(!i.C[1]||4!=du(i)||2!=i.da()))if(i.v&&4==du(i))eh(i.La,0,i);else if(gs(i,"readystatechange"),4==du(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var a;if(a=0===v){var d=String(i.I).match(O)[1]||null;!d&&vr.self&&vr.self.location&&(d=vr.self.location.protocol.slice(0,-1)),a=!ug.test(d?d.toLowerCase():"")}t=a}if(t)gs(i,"complete"),gs(i,"success");else{i.m=6;try{var g=2<du(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.da()+"]",Su(i)}}finally{dg(i)}}}function dg(i,e){if(i.g){sy(i);const t=i.g,a=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||gs(i,"ready");try{t.onreadystatechange=a}catch{}}}function sy(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(vr.clearTimeout(i.A),i.A=null)}function du(i){return i.g?i.g.readyState:0}function Ed(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case ag:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Om(i){let e="";return Jd(i,function(t,a){e+=a,e+=":",e+=t,e+="\r\n"}),e}function hg(i,e,t){e:{for(a in t){var a=!1;break e}a=!0}a||(t=Om(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):hn(i,e,t))}function rf(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Lv(i){this.Ga=0,this.j=[],this.l=new Uo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rf("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rf("baseRetryDelayMs",5e3,i),this.hb=rf("retryDelaySeedMs",1e4,i),this.eb=rf("forwardChannelMaxRetries",2,i),this.xa=rf("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ty(i&&i.concurrentRequestLimit),this.Ja=new nh,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gs(i){if(ay(i),3==i.H){var e=i.W++,t=Ne(i.I);if(hn(t,"SID",i.K),hn(t,"RID",e),hn(t,"TYPE","terminate"),sf(i,t),(e=new mi(i,i.l,e)).L=2,e.v=Hr(Ne(t)),t=!1,vr.navigator&&vr.navigator.sendBeacon)try{t=vr.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&vr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Vv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tf(e)}km(i)}function li(i){i.g&&(ip(i),i.g.cancel(),i.g=null)}function ay(i){li(i),i.u&&(vr.clearTimeout(i.u),i.u=null),ea(i),i.i.cancel(),i.m&&("number"==typeof i.m&&vr.clearTimeout(i.m),i.m=null)}function fg(i){if(!sg(i.i)&&!i.m){i.m=!0;var e=i.Na;Qo||Bl(),lu||(Qo(),lu=!0),Ju.add(e,i),i.C=0}}function pg(i,e){var t;t=e?e.m:i.W++;const a=Ne(i.I);hn(a,"SID",i.K),hn(a,"RID",t),hn(a,"AID",i.V),sf(i,a),i.o&&i.s&&hg(a,i.o,i.s),t=new mi(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Fv(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),rp(i.i,t),Jo(t,a,e)}function sf(i,e){i.na&&Jd(i.na,function(t,a){hn(e,a,t)}),i.h&&b({},function(t,a){hn(e,a,t)})}function Fv(i,e,t){t=Math.min(i.j.length,t);var a=i.h?as(i.h.Va,i.h,i):null;e:{var d=i.j;let g=-1;for(;;){const v=["count="+t];-1==g?0<t?(g=d[0].g,v.push("ofs="+g)):g=0:v.push("ofs="+g);let S=!0;for(let L=0;L<t;L++){let z=d[L].g;const X=d[L].map;if(z-=g,0>z)g=Math.max(0,d[L].g-100),S=!1;else try{ny(X,v,"req"+z+"_")}catch{a&&a(X)}}if(S){a=v.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,a}function uy(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Qo||Bl(),lu||(Qo(),lu=!0),Ju.add(e,i),i.A=0}}function ly(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ln(as(i.Ma,i),zl(i,i.A)),i.A++,0))}function ip(i){null!=i.B&&(vr.clearTimeout(i.B),i.B=null)}function af(i){i.g=new mi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ne(i.wa);hn(e,"RID","rpc"),hn(e,"SID",i.K),hn(e,"AID",i.V),hn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&hn(e,"TO",i.qa),hn(e,"TYPE","xmlhttp"),sf(i,e),i.o&&i.s&&hg(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=Hr(Ne(e)),t.s=null,t.S=!0,qc(t,i)}function ea(i){null!=i.v&&(vr.clearTimeout(i.v),i.v=null)}function sh(i,e){var t=null;if(i.g==e){ea(i),ip(i),i.g=null;var a=2}else{if(!Rm(i.i,e))return;t=e.F,Kc(i.i,e),a=1}if(0!=i.H)if(e.i)if(1==a){t=e.s?e.s.length:0,e=Date.now()-e.G;var d=i.C;gs(a=V(),new gt(a,t)),fg(i)}else uy(i);else if(3==(d=e.o)||0==d&&0<e.ca||!(1==a&&function Nm(i,e){return!(nf(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ln(as(i.Na,i,e),zl(i,i.C)),i.C++,0)))}(i,e)||2==a&&ly(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),d){case 1:wc(i,5);break;case 4:wc(i,10);break;case 3:wc(i,6);break;default:wc(i,2)}}function zl(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function wc(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var a=as(i.pb,i);t||(t=new ae("//www.google.com/images/cleardot.gif"),vr.location&&"http"==vr.location.protocol||pt(t,"https"),Hr(t)),function vd(i,e){const t=new Uo;if(vr.Image){const a=new Image;a.onload=Il(Pm,t,a,"TestLoadImage: loaded",!0,e),a.onerror=Il(Pm,t,a,"TestLoadImage: error",!1,e),a.onabort=Il(Pm,t,a,"TestLoadImage: abort",!1,e),a.ontimeout=Il(Pm,t,a,"TestLoadImage: timeout",!1,e),vr.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else e(!1)}(t.toString(),a)}else Le(2);i.H=0,i.h&&i.h.za(e),km(i),ay(i)}function km(i){if(i.H=0,i.ma=[],i.h){const e=Zc(i.i);(0!=e.length||0!=i.j.length)&&(Tl(i.ma,e),Tl(i.ma,i.j),i.i.i.length=0,Ao(i.j),i.j.length=0),i.h.ya()}}function uf(i,e,t){var a=t instanceof ae?Ne(t):new ae(t);if(""!=a.g)e&&(a.g=e+"."+a.g),Zt(a,a.m);else{var d=vr.location;a=d.protocol,e=e?e+"."+d.hostname:d.hostname,d=+d.port;var g=new ae(null);a&&pt(g,a),e&&(g.g=e),d&&Zt(g,d),t&&(g.l=t),a=g}return e=i.Da,(t=i.F)&&e&&hn(a,t,e),hn(a,"VER",i.ra),sf(i,a),a}function Vv(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fs(t&&i.Ha&&!i.va?new rh({ob:!0}):i.va)).Oa(i.J),e}function cy(){}function lf(){if(ot&&!(10<=Number(Zh)))throw Error("Environmental error: no available transport.")}function Al(i,e){ps.call(this),this.g=new Lv(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!k(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new sp(this)}function wd(i){gc.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function dy(){el.call(this),this.status=1}function sp(i){this.g=i}function Ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hy(i,e,t){t||(t=0);var a=Array(16);if("string"==typeof e)for(var d=0;16>d;++d)a[d]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(d=0;16>d;++d)a[d]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var g=i.g[3],v=(e=i.g[0])+(g^(t=i.g[1])&((d=i.g[2])^g))+a[0]+3614090360&4294967295;v=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=(t=(d=(g=(e=t+(v<<7&4294967295|v>>>25))+((v=g+(d^e&(t^d))+a[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=d+(t^g&(e^t))+a[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^d&(g^e))+a[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^t&(d^g))+a[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=g+(d^e&(t^d))+a[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=d+(t^g&(e^t))+a[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^d&(g^e))+a[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^t&(d^g))+a[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=g+(d^e&(t^d))+a[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=d+(t^g&(e^t))+a[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^d&(g^e))+a[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(g^t&(d^g))+a[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=g+(d^e&(t^d))+a[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=d+(t^g&(e^t))+a[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=t+(e^d&(g^e))+a[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(d^g&(t^d))+a[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^d&(e^t))+a[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=d+(e^t&(g^e))+a[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(d^g))+a[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(d^g&(t^d))+a[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^d&(e^t))+a[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=d+(e^t&(g^e))+a[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(d^g))+a[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(d^g&(t^d))+a[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^d&(e^t))+a[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=d+(e^t&(g^e))+a[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(d^g))+a[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(d^g&(t^d))+a[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=g+(t^d&(e^t))+a[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=d+(e^t&(g^e))+a[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=t+(g^e&(d^g))+a[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(t^d^g)+a[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^d)+a[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=d+(g^e^t)+a[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=t+(d^g^e)+a[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^d^g)+a[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^d)+a[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=d+(g^e^t)+a[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=t+(d^g^e)+a[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^d^g)+a[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^d)+a[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=d+(g^e^t)+a[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=t+(d^g^e)+a[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(t^d^g)+a[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=g+(e^t^d)+a[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=d+(g^e^t)+a[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=t+(d^g^e)+a[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(d^(t|~g))+a[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~d))+a[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=d+(e^(g|~t))+a[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=t+(g^(d|~e))+a[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(d^(t|~g))+a[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~d))+a[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=d+(e^(g|~t))+a[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=t+(g^(d|~e))+a[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(d^(t|~g))+a[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~d))+a[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=d+(e^(g|~t))+a[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=t+(g^(d|~e))+a[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((g=(e=t+((v=e+(d^(t|~g))+a[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=g+(t^(e|~d))+a[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((d=g+((v=d+(e^(g|~t))+a[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+a[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(d+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+d&4294967295,i.g[3]=i.g[3]+g&4294967295}function ms(i,e){this.h=e;for(var t=[],a=!0,d=i.length-1;0<=d;d--){var g=0|i[d];a&&g==e||(t[d]=g,a=!1)}this.g=t}(kt=Fs.prototype).Oa=function(i){this.M=i},kt.ha=function(i,e,t,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cl.g(),this.C=function Dr(i){return i.h||(i.h=i.i())}(this.u?this.u:Cl),this.g.onreadystatechange=as(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(g){return void cu(this,g)}if(i=t||"",t=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var d in a)t.set(d,a[d]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const g of a.keys())t.set(g,a.get(g))}a=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),d=vr.FormData&&i instanceof vr.FormData,!(0<=rs(iy,e))||a||d||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,v]of t)this.g.setRequestHeader(g,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sy(this),0<this.B&&((this.L=function lg(i){return ot&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=as(this.ua,this)):this.A=eh(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){cu(this,g)}},kt.ua=function(){typeof Na<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gs(this,"timeout"),this.abort(8))},kt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gs(this,"complete"),gs(this,"abort"),dg(this))},kt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dg(this,!0)),Fs.$.N.call(this)},kt.La=function(){this.s||(this.G||this.v||this.l?cg(this):this.kb())},kt.kb=function(){cg(this)},kt.isActive=function(){return!!this.g},kt.da=function(){try{return 2<du(this)?this.g.status:-1}catch{return-1}},kt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},kt.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Mm(e)}},kt.Ia=function(){return this.m},kt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(kt=Lv.prototype).ra=8,kt.H=1,kt.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const d=new mi(this,this.l,i);let g=this.s;if(this.U&&(g?(g=Cs(g),Ku(g,this.U)):g=this.U),null!==this.o||this.O||(d.I=g,g=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var a=this.j[t];if(void 0===(a="__data__"in a.map&&"string"==typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fv(this,d,e),hn(t=Ne(this.I),"RID",i),hn(t,"CVER",22),this.F&&hn(t,"X-HTTP-Session-Id",this.F),sf(this,t),g&&(this.O?e="headers="+encodeURIComponent(String(Om(g)))+"&"+e:this.o&&hg(t,this.o,g)),rp(this.i,d),this.bb&&hn(t,"TYPE","init"),this.P?(hn(t,"$req",e),hn(t,"SID","null"),d.aa=!0,Jo(d,t,null)):Jo(d,t,e),this.H=2}}else 3==this.H&&(i?pg(this,i):0==this.j.length||sg(this.i)||pg(this))},kt.Ma=function(){if(this.u=null,af(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ln(as(this.jb,this),i)}},kt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Le(10),li(this),af(this))},kt.ib=function(){null!=this.v&&(this.v=null,li(this),ly(this),Le(19))},kt.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Le(2)):(this.l.info("Failed to ping google.com"),Le(1))},kt.isActive=function(){return!!this.h&&this.h.isActive(this)},(kt=cy.prototype).Ba=function(){},kt.Aa=function(){},kt.za=function(){},kt.ya=function(){},kt.isActive=function(){return!0},kt.Va=function(){},lf.prototype.g=function(i,e){return new Al(i,e)},ri(Al,ps),Al.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;Le(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=uf(i,null,i.Y),fg(i)},Al.prototype.close=function(){Gs(this.g)},Al.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=La(i),i=t);e.j.push(new bw(e.fb++,i)),3==e.H&&fg(e)},Al.prototype.N=function(){this.g.h=null,delete this.j,Gs(this.g),delete this.g,Al.$.N.call(this)},ri(wd,gc),ri(dy,el),ri(sp,cy),sp.prototype.Ba=function(){gs(this.g,"a")},sp.prototype.Aa=function(i){gs(this.g,new wd(i))},sp.prototype.za=function(i){gs(this.g,new dy)},sp.prototype.ya=function(){gs(this.g,"b")},ri(Ea,function Lm(){this.blockSize=-1}),Ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ea.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,a=this.m,d=this.h,g=0;g<e;){if(0==d)for(;g<=t;)hy(this,i,g),g+=this.blockSize;if("string"==typeof i){for(;g<e;)if(a[d++]=i.charCodeAt(g++),d==this.blockSize){hy(this,a),d=0;break}}else for(;g<e;)if(a[d++]=i[g++],d==this.blockSize){hy(this,a),d=0;break}}this.h=d,this.i+=e},Ea.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var a=0;32>a;a+=8)i[t++]=this.g[e]>>>a&255;return i};var So={};function gg(i){return-128<=i&&128>i?function se(i,e){var t=So;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new ms([0|e],0>e?-1:0)}):new ms([0|i],0>i?-1:0)}function Ic(i){if(isNaN(i)||!isFinite(i))return Id;if(0>i)return ta(Ic(-i));for(var e=[],t=1,a=0;i>=t;a++)e[a]=i/t|0,t*=Gl;return new ms(e,0)}var Gl=4294967296,Id=gg(0),Td=gg(1),wa=gg(16777216);function ja(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function xu(i){return-1==i.h}function ta(i){for(var e=i.g.length,t=[],a=0;a<e;a++)t[a]=~i.g[a];return new ms(t,~i.h).add(Td)}function Tc(i,e){return i.add(ta(e))}function oh(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ah(i,e){this.g=i,this.h=e}function bd(i,e){if(ja(e))throw Error("division by zero");if(ja(i))return new ah(Id,Id);if(xu(i))return e=bd(ta(i),e),new ah(ta(e.g),ta(e.h));if(xu(e))return e=bd(i,ta(e)),new ah(ta(e.g),e.h);if(30<i.g.length){if(xu(i)||xu(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Td,a=e;0>=a.X(i);)t=fy(t),a=fy(a);var d=df(t,1),g=df(a,1);for(a=df(a,2),t=df(t,2);!ja(a);){var v=g.add(a);0>=v.X(i)&&(d=d.add(t),g=v),a=df(a,1),t=df(t,1)}return e=Tc(i,d.R(e)),new ah(d,e)}for(d=Id;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),a=48>=(a=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,a-48),v=(g=Ic(t)).R(e);xu(v)||0<v.X(i);)v=(g=Ic(t-=a)).R(e);ja(g)&&(g=Td),d=d.add(g),i=Tc(i,v)}return new ah(d,i)}function fy(i){for(var e=i.g.length+1,t=[],a=0;a<e;a++)t[a]=i.D(a)<<1|i.D(a-1)>>>31;return new ms(t,i.h)}function df(i,e){var t=e>>5;e%=32;for(var a=i.g.length-t,d=[],g=0;g<a;g++)d[g]=0<e?i.D(g+t)>>>e|i.D(g+t+1)<<32-e:i.D(g+t);return new ms(d,i.h)}(kt=ms.prototype).ea=function(){if(xu(this))return-ta(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var a=this.D(t);i+=(0<=a?a:Gl+a)*e,e*=Gl}return i},kt.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ja(this))return"0";if(xu(this))return"-"+ta(this).toString(i);for(var e=Ic(Math.pow(i,6)),t=this,a="";;){var d=bd(t,e).g,g=((0<(t=Tc(t,d.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(ja(t=d))return g+a;for(;6>g.length;)g="0"+g;a=g+a}},kt.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},kt.X=function(i){return xu(i=Tc(this,i))?-1:ja(i)?0:1},kt.abs=function(){return xu(this)?ta(this):this},kt.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0,d=0;d<=e;d++){var g=a+(65535&this.D(d))+(65535&i.D(d)),v=(g>>>16)+(this.D(d)>>>16)+(i.D(d)>>>16);a=v>>>16,t[d]=(v&=65535)<<16|(g&=65535)}return new ms(t,-2147483648&t[t.length-1]?-1:0)},kt.R=function(i){if(ja(this)||ja(i))return Id;if(xu(this))return xu(i)?ta(this).R(ta(i)):ta(ta(this).R(i));if(xu(i))return ta(this.R(ta(i)));if(0>this.X(wa)&&0>i.X(wa))return Ic(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],a=0;a<2*e;a++)t[a]=0;for(a=0;a<this.g.length;a++)for(var d=0;d<i.g.length;d++){var g=this.D(a)>>>16,v=65535&this.D(a),S=i.D(d)>>>16,L=65535&i.D(d);t[2*a+2*d]+=v*L,oh(t,2*a+2*d),t[2*a+2*d+1]+=g*L,oh(t,2*a+2*d+1),t[2*a+2*d+1]+=v*S,oh(t,2*a+2*d+1),t[2*a+2*d+2]+=g*S,oh(t,2*a+2*d+2)}for(a=0;a<e;a++)t[a]=t[2*a+1]<<16|t[2*a];for(a=e;a<2*e;a++)t[a]=0;return new ms(t,0)},kt.gb=function(i){return bd(this,i).h},kt.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)&i.D(a);return new ms(t,this.h&i.h)},kt.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)|i.D(a);return new ms(t,this.h|i.h)},kt.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],a=0;a<e;a++)t[a]=this.D(a)^i.D(a);return new ms(t,this.h^i.h)},lf.prototype.createWebChannel=lf.prototype.g,Al.prototype.send=Al.prototype.u,Al.prototype.open=Al.prototype.m,Al.prototype.close=Al.prototype.close,nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,jn.COMPLETE="complete",Yo.EventType=zs,zs.OPEN="a",zs.CLOSE="b",zs.ERROR="c",zs.MESSAGE="d",ps.prototype.listen=ps.prototype.O,Fs.prototype.listenOnce=Fs.prototype.P,Fs.prototype.getLastError=Fs.prototype.Sa,Fs.prototype.getLastErrorCode=Fs.prototype.Ia,Fs.prototype.getStatus=Fs.prototype.da,Fs.prototype.getResponseJson=Fs.prototype.Wa,Fs.prototype.getResponseText=Fs.prototype.ja,Fs.prototype.send=Fs.prototype.ha,Fs.prototype.setWithCredentials=Fs.prototype.Oa,Ea.prototype.digest=Ea.prototype.l,Ea.prototype.reset=Ea.prototype.reset,Ea.prototype.update=Ea.prototype.j,ms.prototype.add=ms.prototype.add,ms.prototype.multiply=ms.prototype.R,ms.prototype.modulo=ms.prototype.gb,ms.prototype.compare=ms.prototype.X,ms.prototype.toNumber=ms.prototype.ea,ms.prototype.toString=ms.prototype.toString,ms.prototype.getBits=ms.prototype.D,ms.fromNumber=Ic,ms.fromString=function cf(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ta(cf(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ic(Math.pow(e,8)),a=Id,d=0;d<i.length;d+=8){var g=Math.min(8,i.length-d),v=parseInt(i.substring(d,d+g),e);8>g?(g=Ic(Math.pow(e,g)),a=a.R(g).add(Ic(v))):a=(a=a.R(t)).add(Ic(v))}return a},It.createWebChannelTransport=function(){return new lf},It.getStatEventTarget=function(){return V()},It.ErrorCode=nn,It.EventType=jn,It.Event=Au,It.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},It.FetchXmlHttpFactory=rh,It.WebChannel=Yo,It.XhrIo=Fs,It.Md5=Ea;var T0=It.Integer=ms;const Bv="@firebase/firestore";class Vs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vs.UNAUTHENTICATED=new Vs(null),Vs.GOOGLE_CREDENTIALS=new Vs("google-credentials-uid"),Vs.FIRST_PARTY=new Vs("first-party-uid"),Vs.MOCK_USER=new Vs("mock-user");let mg="10.5.2";const hf=new cc.Yd("@firebase/firestore");function Ft(i,...e){if(hf.logLevel<=cc.in.DEBUG){const t=e.map(uh);hf.debug(`Firestore (${mg}): ${i}`,...t)}}function ds(i,...e){if(hf.logLevel<=cc.in.ERROR){const t=e.map(uh);hf.error(`Firestore (${mg}): ${i}`,...t)}}function uh(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function kn(i="Unexpected state"){const e=`FIRESTORE (${mg}) INTERNAL ASSERTION FAILED: `+i;throw ds(e),new Error(e)}function tr(i,e){i||kn()}const mt_CANCELLED="cancelled",mt_INVALID_ARGUMENT="invalid-argument",mt_FAILED_PRECONDITION="failed-precondition",mt_UNAVAILABLE="unavailable";class $t extends ma.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ao{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _y{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vs.UNAUTHENTICATED))}shutdown(){}}class lh{constructor(e){this.t=e,this.currentUser=Vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var a=this;let d=this.i;const g=z=>this.i!==d?(d=this.i,t(z)):Promise.resolve();let v=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ao,e.enqueueRetryable(()=>g(this.currentUser))};const S=()=>{const z=v;e.enqueueRetryable((0,Co.Z)(function*(){yield z.promise,yield g(a.currentUser)}))},L=z=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(z=>L(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?L(z):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ao)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tr("string"==typeof a.accessToken),new _y(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tr(null===e||"string"==typeof e),new Vs(e)}}class yy{constructor(e,t,a){this.l=e,this.h=t,this.P=a,this.type="FirstParty",this.user=Vs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jv{constructor(e,t,a){this.l=e,this.h=t,this.P=a}getToken(){return Promise.resolve(new yy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const a=g=>{null!=g.error&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const v=g.token!==this.R;return this.R=g.token,Ft("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>a(g))};const d=g=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.A.onInit(g=>d(g)),setTimeout(()=>{if(!this.appCheck){const g=this.A.getImmediate({optional:!0});g?d(g):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tr("string"==typeof t.token),this.R=t.token,new Hv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yg(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}class ch{static newId(){const t=62*Math.floor(256/62);let a="";for(;a.length<20;){const d=yg(40);for(let g=0;g<d.length;++g)a.length<20&&d[g]<t&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(d[g]%62))}return a}}function Gn(i,e){return i<e?-1:i>e?1:0}class Qc{constructor(e,t,a){void 0===t?t=0:t>e.length&&kn(),void 0===a?a=e.length-t:a>e.length-t&&kn(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return 0===Qc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let d=0;d<a;d++){const g=e.get(d),v=t.get(d);if(g<v)return-1;if(g>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _i extends Qc{construct(e,t,a){return new _i(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new $t(mt_INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(d=>d.length>0))}return new _i(t)}static emptyPath(){return new _i([])}}class yn{constructor(e){this.path=e}static fromPath(e){return new yn(_i.fromString(e))}static fromName(e){return new yn(_i.fromString(e).popFirst(5))}static empty(){return new yn(_i.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_i.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _i.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yn(new _i(e.slice()))}}function rl(i){return"IndexedDbTransactionError"===i.name}class Qi{constructor(e,t){this.comparator=e,this.root=t||Ta.EMPTY}insert(e,t){return new Qi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ta.BLACK,null,null))}remove(e){return new Qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ta.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(0===a)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const d=this.comparator(e,a.key);if(0===d)return t+a.left.size;d<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wm(this.root,e,this.comparator,!0)}}class Wm{constructor(e,t,a,d){this.isReverse=d,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?a(e.key,t):1,t&&d&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ta{constructor(e,t,a,d,g){this.key=e,this.value=t,this.color=a??Ta.RED,this.left=d??Ta.EMPTY,this.right=g??Ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,d,g){return new Ta(e??this.key,t??this.value,a??this.color,d??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,t,a),null):0===g?d.copy(null,t,null,null,null):d.copy(null,null,null,null,d.right.insert(e,t,a)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Ta.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,d=this;if(t(e,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(e,t),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===t(e,d.key)){if(d.right.isEmpty())return Ta.EMPTY;a=d.right.min(),d=d.copy(a.key,a.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(e,t))}return d.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kn();const e=this.left.check();if(e!==this.right.check())throw kn();return e+(this.isRed()?0:1)}}Ta.EMPTY=null,Ta.RED=!0,Ta.BLACK=!1,Ta.EMPTY=new class{constructor(){this.size=0}get key(){throw kn()}get value(){throw kn()}get color(){throw kn()}get left(){throw kn()}get right(){throw kn()}copy(e,t,a,d,g){return this}insert(e,t,a){return new Ta(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _s{constructor(e){this.comparator=e,this.data=new Qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const d=a.getNext();if(this.comparator(d.key,e[1])>=0)return;t(d.key)}}forEachWhile(e,t){let a;for(a=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Km(this.data.getIterator())}getIteratorFrom(e){return new Km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const d=t.getNext().key,g=a.getNext().key;if(0!==this.comparator(d,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _s(this.comparator);return t.data=e,t}}class Km{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class My extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ho{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(d){try{return atob(d)}catch(g){throw typeof DOMException<"u"&&g instanceof DOMException?new My("Invalid base64 string: "+g):g}}(e);return new Ho(t)}static fromUint8Array(e){const t=function(d){let g="";for(let v=0;v<d.length;++v)g+=String.fromCharCode(d[v]);return g}(e);return new Ho(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let d=0;d<t.length;d++)a[d]=t.charCodeAt(d);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function qs(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}Ho.EMPTY_BYTE_STRING=new Ho("");class Cg{constructor(e,t,a,d,g,v,S,L,z){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=d,this.ssl=g,this.forceLongPolling=v,this.autoDetectLongPolling=S,this.longPollingOptions=L,this.useFetchStreams=z}}class Rd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rd&&e.projectId===this.projectId&&e.database===this.database}}var Po,bi;new Qi(yn.comparator),new Qi(yn.comparator),new Qi(yn.comparator),new _s(yn.comparator),new _s(Gn),(bi=Po||(Po={}))[bi.OK=0]="OK",bi[bi.CANCELLED=1]="CANCELLED",bi[bi.UNKNOWN=2]="UNKNOWN",bi[bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bi[bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bi[bi.NOT_FOUND=5]="NOT_FOUND",bi[bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",bi[bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",bi[bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",bi[bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bi[bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bi[bi.ABORTED=10]="ABORTED",bi[bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",bi[bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",bi[bi.INTERNAL=13]="INTERNAL",bi[bi.UNAVAILABLE=14]="UNAVAILABLE",bi[bi.DATA_LOSS=15]="DATA_LOSS",new T0([4294967295,4294967295],0);class Vd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(qs(e.integerValue));else if("doubleValue"in e){const a=qs(e.doubleValue);isNaN(a)?this.Tt(t,13):(this.Tt(t,15),function gh(i){return 0===i&&1/i==-1/0}(a)?t.Et(0):t.Et(a))}else if("timestampValue"in e){const a=e.timestampValue;this.Tt(t,20),"string"==typeof a?t.dt(a):(t.dt(`${a.seconds||""}`),t.Et(a.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(function Wl(i){return"string"==typeof i?Ho.fromBase64String(i):Ho.fromUint8Array(i)}(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const a=e.geoPointValue;this.Tt(t,45),t.Et(a.latitude||0),t.Et(a.longitude||0)}else"mapValue"in e?function Rw(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):kn()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const a=e.fields||{};this.Tt(t,55);for(const d of Object.keys(a))this.At(d,t),this.Pt(a[d],t)}yt(e,t){const a=e.values||[];this.Tt(t,50);for(const d of a)this.Pt(d,t)}ft(e,t){this.Tt(t,37),yn.fromName(e).path.forEach(a=>{this.Tt(t,60),this.wt(a,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Vd.St=new Vd,new Uint8Array(0);class Ou{constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ou(e,Ou.DEFAULT_COLLECTION_PERCENTILE,Ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function N_(){return typeof document<"u"?document:null}Ou.DEFAULT_COLLECTION_PERCENTILE=10,Ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ou.DEFAULT=new Ou(41943040,Ou.DEFAULT_COLLECTION_PERCENTILE,Ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ou.DISABLED=new Ou(-1,0,0);class k_{constructor(e,t,a=1e3,d=1.5,g=6e4){this.si=e,this.timerId=t,this.Fo=a,this.Mo=d,this.xo=g,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),a=Math.max(0,Date.now()-this.Bo),d=Math.max(0,t-a);d>0&&Ft("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,d,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Ww{constructor(e,t,a,d,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=d,this.removalCallback=g,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,d,g){const v=Date.now()+a,S=new Ww(e,t,v,d,g);return S.start(a),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $t(mt_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Y0{constructor(e,t,a,d){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=d,this.user=Vs.UNAUTHENTICATED,this.clientId=ch.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var v=(0,Co.Z)(function*(S){Ft("FirestoreClient","Received user=",S.uid),yield g.authCredentialListener(S),g.user=S});return function(S){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(a,v=>(Ft("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,Co.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $t(mt_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Co.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(a){const d=function zp(i,e){if(ds("AsyncQueue",`${e}: ${i}`),rl(i))return new $t(mt_UNAVAILABLE,`${e}: ${i}`);throw i}(a,"Failed to shutdown persistence");t.reject(d)}})),t.promise}}function nT(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const aa=new Map;class CI{constructor(e){var t,a;if(void 0===e.host){if(void 0!==e.ssl)throw new $t(mt_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $t(mt_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function z_(i,e,t,a){if(!0===e&&!0===a)throw new $t(mt_INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nT(null!==(a=e.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(g){if(void 0!==g.timeoutSeconds){if(isNaN(g.timeoutSeconds))throw new $t(mt_INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new $t(mt_INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new $t(mt_INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gp{constructor(e,t,a,d){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $t(mt_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $t(mt_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CI(e),void 0!==e.credentials&&(this._authCredentials=function(a){if(!a)return new Vm;switch(a.type){case"firstParty":return new jv(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new $t(mt_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=aa.get(t);a&&(Ft("ComponentProvider","Removing Datastore"),aa.delete(t),a.terminate())}(this),Promise.resolve()}}class rT{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new k_(this,"async_queue_retry"),this.iu=()=>{const t=N_();t&&Ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=N_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=N_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new ao;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Co.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!rl(t))throw t;Ft("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(a=>{throw this.eu=a,this.tu=!1,ds("INTERNAL UNHANDLED ERROR: ",function(v){let S=v.message||"";return v.stack&&(S=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),S}(a)),a}).then(a=>(this.tu=!1,a))));return this.Ja=t,t}enqueueAfterDelay(e,t,a){this.su(),this.ru.indexOf(e)>-1&&(t=0);const d=Ww.createAndSchedule(this,e,t,a,g=>this.au(g));return this.Xa.push(d),d}su(){this.eu&&kn()}verifyOperationInProgress(){}uu(){var e=this;return(0,Co.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Zs extends Gp{constructor(e,t,a,d){super(e,t,a,d),this.type="firestore",this._queue=new rT,this._persistenceKey=d?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function ym(i){var e,t,a;const d=i._freezeSettings(),g=(L=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Cg(i._databaseId,L,i._persistenceKey,(X=d).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,nT(X.experimentalLongPollingOptions),X.useFetchStreams));var L,X;i._firestoreClient=new Y0(i._authCredentials,i._appCheckCredentials,i._queue,g),null!==(t=d.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(a=d.localCache)&&void 0!==a&&a._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:d.localCache.kind,_offline:d.localCache._offlineComponentProvider,_online:d.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(e,t=!0){mg=El.Jn,(0,El.Xd)(new wl.wA("firestore",(a,{instanceIdentifier:d,options:g})=>{const v=a.getProvider("app").getImmediate(),S=new Zs(new lh(a.getProvider("auth-internal")),new Dw(a.getProvider("app-check-internal")),function(z,X){if(!Object.prototype.hasOwnProperty.apply(z.options,["projectId"]))throw new $t(mt_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(z.options.projectId,X)}(v,d),v);return g=Object.assign({useFetchStreams:t},g),S._setSettings(g),S},"PUBLIC").setMultipleInstances(!0)),(0,El.KN)(Bv,"4.3.2",e),(0,El.KN)(Bv,"4.3.2","esm2017")}();var CT=U(7188);let KC=(()=>{class i{constructor(t,a,d){this.http=t,this.actRoute=a,this.firestore=d,this.prodRef=this.firestore}getProducts(){let t;return this.actRoute.queryParams.subscribe(a=>{t=a}),t.price_min&&t.sort&&t.category&&t.price_max?(console.log(t),this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).where("price","<=",+t.price_max).orderBy("price","desc"==t.sort?"desc":"asc").where("category","==",t.category)).valueChanges()):t.price_min&&t.sort&&t.category?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).orderBy("price","desc"==t.sort?"desc":"asc").where("category","==",t.category)).valueChanges():t.sort&&t.category&&t.price_max?this.firestore.collection("products",a=>a.where("price","<=",+t.price_max).orderBy("price","desc"==t.sort?"desc":"asc").where("category","==",t.category)).valueChanges():t.price_min&&t.sort&&t.price_max?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).where("price","<=",+t.price_max).orderBy("price","desc"==t.sort?"desc":"asc")).valueChanges():t.price_min&&t.price_max&&t.category?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).where("price","<=",+t.price_max).where("category","==",t.category)).valueChanges():t.price_min&&t.sort?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).orderBy("price","desc"==t.sort?"desc":"asc")).valueChanges():t.price_max&&t.sort?this.firestore.collection("products",a=>a.where("price",">=",+t.price_max).orderBy("price","desc"==t.sort?"desc":"asc")).valueChanges():t.price_min&&t.price_max?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).where("price","<=",+t.price_max)).valueChanges():t.category&&t.price_min?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min).where("category","==",t.category)).valueChanges():t.category&&t.price_max?this.firestore.collection("products",a=>a.where("price","<=",+t.price_max).where("category","==",t.category)).valueChanges():t.category&&t.sort?this.firestore.collection("products",a=>a.where("category","==",t.category).orderBy("price","desc"==t.sort?"desc":"asc")).valueChanges():t.price_min?this.firestore.collection("products",a=>a.where("price",">=",+t.price_min)).valueChanges():t.price_max?this.firestore.collection("products",a=>a.where("price","<=",+t.price_max)).valueChanges():t.category?this.firestore.collection("products",a=>a.where("category","==",t.category)).valueChanges():t.sort?this.firestore.collection("products",a=>a.orderBy("price","desc"==t.sort?"desc":"asc")).valueChanges():this.firestore.collectionGroup("products").valueChanges()}getCategories(){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").valueChanges()}static#e=this.\u0275fac=function(a){return new(a||i)(m.LFG(te.eN),m.LFG(J.gz),m.LFG(CT.ST))};static#t=this.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ZC=U(671);function dw(i,e=Li.z,t){const a=function QC(i=0,e,t=Li.P){let a=-1;return null!=e&&((0,ZC.K)(e)?t=e:a=e),new Ve.y(d=>{let g=function AT(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;g<0&&(g=0);let v=0;return t.schedule(function(){d.closed||(d.next(v++),0<=a?this.schedule(void 0,a):d.complete())},g)})}(i,e);return function DT(i,e){return(0,To.e)((t,a)=>{const{leading:d=!0,trailing:g=!1}=e??{};let v=!1,S=null,L=null,z=!1;const X=()=>{L?.unsubscribe(),L=null,g&&(rt(),z&&a.complete())},de=()=>{L=null,z&&a.complete()},Re=zt=>L=(0,pe.Xf)(i(zt)).subscribe((0,Ze.x)(a,X,de)),rt=()=>{if(v){v=!1;const zt=S;S=null,a.next(zt),!z&&Re(zt)}};t.subscribe((0,Ze.x)(a,zt=>{v=!0,S=zt,(!L||L.closed)&&(d?rt():Re(zt))},()=>{z=!0,(!(g&&v&&L)||L.closed)&&a.complete()}))})}(()=>a,t)}var Lc=typeof window<"u"?window:{screen:{},navigator:{}},Sm=(Lc.matchMedia||function(){return{matches:!1}}).bind(Lc),BI=!1,ST=function(){};Lc.addEventListener&&Lc.addEventListener("p",ST,{get passive(){return BI=!0}}),Lc.removeEventListener&&Lc.removeEventListener("p",ST,!1);var xT=BI,jI="ontouchstart"in Lc,OT=(jI||"TouchEvent"in Lc&&Sm("(any-pointer: coarse)"),Lc.navigator.userAgent||"");Sm("(pointer: coarse)").matches&&/iPad|Macintosh/.test(OT)&&Math.min(Lc.screen.width||0,Lc.screen.height||0);function LT(i,e){}function FT(i,e){1&i&&m.YNc(0,LT,0,0,"ng-template")}(Sm("(pointer: coarse)").matches||!Sm("(pointer: fine)").matches&&jI)&&/Windows.*Firefox/.test(OT),Sm("(any-pointer: fine)").matches||Sm("(any-hover: hover)");const tD=(i,e,t)=>({tooltip:i,placement:e,content:t});function nD(i,e){if(1&i&&(m.ynx(0),m.YNc(1,FT,1,0,null,1),m.BQk()),2&i){const t=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",m.kEZ(2,tD,t.tooltip,t.placement,t.content))}}function VT(i,e){if(1&i&&(m.ynx(0),m.TgZ(1,"div",2),m._uU(2),m.qZA(),m.BQk()),2&i){const t=m.oxw();m.xp6(1),m.uIk("title",t.tooltip)("data-tooltip-placement",t.placement),m.xp6(1),m.hij(" ",t.content," ")}}const rD=["tooltipTemplate"],iD=["leftOuterSelectionBar"],HI=["rightOuterSelectionBar"],UT=["fullBar"],$I=["selectionBar"],BT=["minHandle"],sD=["maxHandle"],jT=["floorLabel"],HT=["ceilLabel"],$T=["minHandleLabel"],zT=["maxHandleLabel"],oD=["combinedLabel"],aD=["ticksElement"];function uD(i,e){if(1&i&&m._UZ(0,"ngx-slider-tooltip-wrapper",32),2&i){const t=m.oxw().$implicit,a=m.oxw();m.Q6J("template",a.tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function zI(i,e){if(1&i&&m._UZ(0,"span",33),2&i){const t=m.oxw().$implicit;m.Q6J("innerText",t.legend)}}function hw(i,e){if(1&i&&m._UZ(0,"span",34),2&i){const t=m.oxw().$implicit;m.Q6J("innerHTML",t.legend,m.oJD)}}const GT=i=>({"ngx-slider-selected":i});function qT(i,e){if(1&i&&(m.TgZ(0,"span",27),m._UZ(1,"ngx-slider-tooltip-wrapper",28),m.YNc(2,uD,1,4,"ngx-slider-tooltip-wrapper",29)(3,zI,1,1,"span",30)(4,hw,1,1,"span",31),m.qZA()),2&i){const t=e.$implicit,a=m.oxw();m.Q6J("ngClass",m.VKq(8,GT,t.selected))("ngStyle",t.style),m.xp6(1),m.Q6J("template",a.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),m.xp6(1),m.Q6J("ngIf",null!=t.value),m.xp6(1),m.Q6J("ngIf",null!=t.legend&&!1===a.allowUnsafeHtmlInSlider),m.xp6(1),m.Q6J("ngIf",null!=t.legend&&(null==a.allowUnsafeHtmlInSlider||a.allowUnsafeHtmlInSlider))}}var Kd=function(i){return i[i.Low=0]="Low",i[i.High=1]="High",i[i.Floor=2]="Floor",i[i.Ceil=3]="Ceil",i[i.TickValue=4]="TickValue",i}(Kd||{});class xv{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1}const GI=new m.OlP("AllowUnsafeHtmlInSlider");var Zn=function(i){return i[i.Min=0]="Min",i[i.Max=1]="Max",i}(Zn||{});class WT{value;highValue;pointerType}class jt{static isNullOrUndefined(e){return null==e}static areArraysEqual(e,t){if(e.length!==t.length)return!1;for(let a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}static linearValueToPosition(e,t,a){return(e-t)/(a-t)}static logValueToPosition(e,t,a){return((e=Math.log(e))-(t=Math.log(t)))/((a=Math.log(a))-t)}static linearPositionToValue(e,t,a){return e*(a-t)+t}static logPositionToValue(e,t,a){return t=Math.log(t),a=Math.log(a),Math.exp(e*(a-t)+t)}static findStepIndex(e,t){const a=t.map(g=>Math.abs(e-g.value));let d=0;for(let g=0;g<t.length;g++)a[g]!==a[d]&&a[g]<a[d]&&(d=g);return d}}class Qp{static isTouchEvent(e){return void 0!==window.TouchEvent?e instanceof TouchEvent:void 0!==e.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class zo{static roundToPrecisionLimit(e,t){return+e.toPrecision(t)}static isModuloWithinPrecisionLimit(e,t,a){const d=Math.pow(10,-a);return Math.abs(e%t)<=d||Math.abs(Math.abs(e%t)-t)<=d}static clampToRange(e,t,a){return Math.min(Math.max(e,t),a)}}class KT{eventName=null;events=null;eventsSubscription=null;teardownCallback=null}class ZT{renderer;constructor(e){this.renderer=e}attachPassiveEventListener(e,t,a,d){if(!0!==xT)return this.attachEventListener(e,t,a,d);const g=new KT;g.eventName=t,g.events=new ei.x;const v=S=>{g.events.next(S)};return e.addEventListener(t,v,{passive:!0,capture:!1}),g.teardownCallback=()=>{e.removeEventListener(t,v,{passive:!0,capture:!1})},g.eventsSubscription=g.events.pipe(jt.isNullOrUndefined(d)?(0,vl.b)(()=>{}):dw(d,void 0,{leading:!0,trailing:!0})).subscribe(S=>{a(S)}),g}detachEventListener(e){jt.isNullOrUndefined(e.eventsSubscription)||(e.eventsSubscription.unsubscribe(),e.eventsSubscription=null),jt.isNullOrUndefined(e.events)||(e.events.complete(),e.events=null),jt.isNullOrUndefined(e.teardownCallback)||(e.teardownCallback(),e.teardownCallback=null)}attachEventListener(e,t,a,d){const g=new KT;return g.eventName=t,g.events=new ei.x,g.teardownCallback=this.renderer.listen(e,t,S=>{g.events.next(S)}),g.eventsSubscription=g.events.pipe(jt.isNullOrUndefined(d)?(0,vl.b)(()=>{}):dw(d,void 0,{leading:!0,trailing:!0})).subscribe(S=>{a(S)}),g}}let Yp=(()=>{class i{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(t,a,d){this.elemRef=t,this.renderer=a,this.changeDetectionRef=d,this.eventListenerHelper=new ZT(this.renderer)}setAlwaysHide(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setRotate(t){this._rotate=t,this.transform="rotate("+t+"deg)"}getRotate(){return this._rotate}setPosition(t){this._position!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){const t=this.getBoundingClientRect();this._dimension=this.vertical?(t.bottom-t.top)*this.scale:(t.right-t.left)*this.scale}setDimension(t){this._dimension!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,a,d){const g=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,a,d);this.eventListeners.push(g)}onPassive(t,a,d){const g=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,a,d);this.eventListeners.push(g)}off(t){let a,d;jt.isNullOrUndefined(t)?(a=[],d=this.eventListeners):(a=this.eventListeners.filter(g=>g.eventName!==t),d=this.eventListeners.filter(g=>g.eventName===t));for(const g of d)this.eventListenerHelper.detachEventListener(g);this.eventListeners=a}isRefDestroyed(){return jt.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(a){return new(a||i)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO))};static \u0275dir=m.lG2({type:i,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(a,d){2&a&&m.Udp("opacity",d.opacity)("visibility",d.visibility)("left",d.left)("bottom",d.bottom)("height",d.height)("width",d.width)("transform",d.transform)}})}return i})(),qI=(()=>{class i extends Yp{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}constructor(t,a,d){super(t,a,d)}static \u0275fac=function(a){return new(a||i)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO))};static \u0275dir=m.lG2({type:i,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(a,d){2&a&&(m.uIk("role",d.role)("tabindex",d.tabindex)("aria-orientation",d.ariaOrientation)("aria-label",d.ariaLabel)("aria-labelledby",d.ariaLabelledBy)("aria-valuenow",d.ariaValueNow)("aria-valuetext",d.ariaValueText)("aria-valuemin",d.ariaValueMin)("aria-valuemax",d.ariaValueMax),m.ekj("ngx-slider-active",d.active))},features:[m.qOj]})}return i})(),X_=(()=>{class i extends Yp{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(t,a,d,g){super(t,a,d),this.allowUnsafeHtmlInSlider=g}setValue(t){let a=!1;!this.alwaysHide&&(jt.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(a=!0),this._value=t,!1===this.allowUnsafeHtmlInSlider?this.elemRef.nativeElement.innerText=t:this.elemRef.nativeElement.innerHTML=t,a&&this.calculateDimension()}static \u0275fac=function(a){return new(a||i)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(GI,8))};static \u0275dir=m.lG2({type:i,selectors:[["","ngxSliderLabel",""]],features:[m.qOj]})}return i})(),lD=(()=>{class i{template;tooltip;placement;content;static \u0275fac=function(a){return new(a||i)};static \u0275cmp=m.Xpm({type:i,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(a,d){1&a&&m.YNc(0,nD,2,6,"ng-container",0)(1,VT,3,3,"ng-container",0),2&a&&(m.Q6J("ngIf",d.template),m.xp6(1),m.Q6J("ngIf",!d.template))},dependencies:[be.O5,be.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return i})();class cD{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null}class QT{active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0}class fw{value;highValue;static compare(e,t){return!(jt.isNullOrUndefined(e)&&jt.isNullOrUndefined(t)||jt.isNullOrUndefined(e)!==jt.isNullOrUndefined(t))&&e.value===t.value&&e.highValue===t.highValue}}class WI extends fw{forceChange;static compare(e,t){return!(jt.isNullOrUndefined(e)&&jt.isNullOrUndefined(t)||jt.isNullOrUndefined(e)!==jt.isNullOrUndefined(t))&&e.value===t.value&&e.highValue===t.highValue&&e.forceChange===t.forceChange}}const YT={provide:bt,useExisting:(0,m.Gpc)(()=>KI),multi:!0};let KI=(()=>{class i{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;value=null;valueChange=new m.vpe;highValue=null;highValueChange=new m.vpe;options=new xv;userChangeStart=new m.vpe;userChange=new m.vpe;userChangeEnd=new m.vpe;manualRefreshSubscription;set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(a=>{this.focusPointer(a)})}get range(){return!jt.isNullOrUndefined(this.value)&&!jt.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new ei.x;inputModelChangeSubscription=null;outputModelChangeSubject=new ei.x;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new xv;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new QT;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(t,a,d,g,v){this.renderer=t,this.elementRef=a,this.changeDetectionRef=d,this.zone=g,this.allowUnsafeHtmlInSlider=v,this.eventListenerHelper=new ZT(this.renderer)}ngOnInit(){this.viewOptions=new xv,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){!jt.isNullOrUndefined(t.options)&&JSON.stringify(t.options.previousValue)!==JSON.stringify(t.options.currentValue)&&this.onChangeOptions(),(!jt.isNullOrUndefined(t.value)||!jt.isNullOrUndefined(t.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState()}setAriaLabel(t){this.viewOptions.ariaLabel=t,this.updateAriaLabel()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe((0,qu.x)(WI.compare),(0,Ot.h)(t=>!t.forceChange&&!t.internalChange)).subscribe(t=>this.applyInputModelChange(t))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe((0,qu.x)(WI.compare)).subscribe(t=>this.publishOutputModelChange(t))}subscribeResizeObserver(){Qp.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Qp.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){jt.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){jt.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){jt.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){jt.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){jt.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){jt.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(t){return t===Zn.Min?this.minHandleElement:t===Zn.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===Zn.Min?this.viewLowValue:this.currentTrackingPointer===Zn.Max?this.viewHighValue:null}modelValueToViewValue(t){return jt.isNullOrUndefined(t)?NaN:jt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:jt.findStepIndex(+t,this.viewOptions.stepsArray)}viewValueToModelValue(t){return jt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}getStepValue(t){const a=this.viewOptions.stepsArray[t];return jt.isNullOrUndefined(a)?NaN:a.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(t){const a=this.normaliseModelValues(t),d=!fw.compare(t,a);d&&(this.value=a.value,this.highValue=a.highValue),this.viewLowValue=this.modelValueToViewValue(a.value),this.viewHighValue=this.range?this.modelValueToViewValue(a.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:a.value,highValue:a.highValue,forceChange:d,userEventInitiated:!1})}publishOutputModelChange(t){const a=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),jt.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[t.value,t.highValue]:t.value),jt.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[t.value,t.highValue]:t.value)};t.userEventInitiated?(a(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{a()})}normaliseModelValues(t){const a=new fw;if(a.value=t.value,a.highValue=t.highValue,!jt.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const d=jt.findStepIndex(a.value,this.viewOptions.stepsArray);if(a.value=this.viewOptions.stepsArray[d].value,this.range){const g=jt.findStepIndex(a.highValue,this.viewOptions.stepsArray);a.highValue=this.viewOptions.stepsArray[g].value}}return a}if(this.viewOptions.enforceStep&&(a.value=this.roundStep(a.value),this.range&&(a.highValue=this.roundStep(a.highValue))),this.viewOptions.enforceRange&&(a.value=zo.clampToRange(a.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(a.highValue=zo.clampToRange(a.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)a.value=a.highValue;else{const d=t.value;a.value=t.highValue,a.highValue=d}return a}renormaliseModelValues(){const t={value:this.value,highValue:this.highValue},a=this.normaliseModelValues(t);fw.compare(a,t)||(this.value=a.value,this.highValue=a.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const t=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const a=this.getOptionsInfluencingEventBindings(this.viewOptions),d=!jt.areArraysEqual(t,a);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(d)}applyOptions(){if(this.viewOptions=new xv,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!jt.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!jt.isNullOrUndefined(this.viewOptions.tickStep)||!jt.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),jt.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),jt.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,a)=>t+" - "+a),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,jt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t))}applyFloorCeilOptions(){if(jt.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),jt.isNullOrUndefined(this.viewOptions.ceil)||jt.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,jt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions()}focusPointer(t){t!==Zn.Min&&t!==Zn.Max&&(t=Zn.Min),t===Zn.Min?this.minHandleElement.focus():this.range&&t===Zn.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){jt.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const t of this.getAllSliderElements())jt.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(const t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}updateRotate(){for(const t of this.getAllSliderElements())t.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",jt.isNullOrUndefined(this.viewOptions.ariaLabel)?jt.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",jt.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?jt.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Kd.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Kd.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){jt.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,jt.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const t=jt.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,a=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();const d=jt.isNullOrUndefined(this.viewOptions.tickValueStep)?jt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let g=!1;const v=t.map(S=>{let L=this.valueToPosition(S);this.viewOptions.vertical&&(L=this.maxHandlePosition-L);const z=a+"("+Math.round(L)+"px)",X=new cD;X.selected=this.isTickSelected(S),X.style={"-webkit-transform":z,"-moz-transform":z,"-o-transform":z,"-ms-transform":z,transform:z},X.selected&&!jt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(X.style["background-color"]=this.getSelectionBarColor()),!X.selected&&!jt.isNullOrUndefined(this.viewOptions.getTickColor)&&(X.style["background-color"]=this.getTickColor(S)),jt.isNullOrUndefined(this.viewOptions.ticksTooltip)||(X.tooltip=this.viewOptions.ticksTooltip(S),X.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!jt.isNullOrUndefined(d)&&zo.isModuloWithinPrecisionLimit(S,d,this.viewOptions.precisionLimit)&&(X.value=this.getDisplayValue(S,Kd.TickValue),jt.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(X.valueTooltip=this.viewOptions.ticksValuesTooltip(S),X.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let de=null;if(jt.isNullOrUndefined(this.viewOptions.stepsArray))jt.isNullOrUndefined(this.viewOptions.getLegend)||(de=this.viewOptions.getLegend(S));else{const Re=this.viewOptions.stepsArray[S];jt.isNullOrUndefined(this.viewOptions.getStepLegend)?jt.isNullOrUndefined(Re)||(de=Re.legend):de=this.viewOptions.getStepLegend(Re)}return jt.isNullOrUndefined(de)||(X.legend=de,g=!0),X});if(this.sliderElementWithLegendClass!==g&&setTimeout(()=>{this.sliderElementWithLegendClass=g}),jt.isNullOrUndefined(this.ticks)||this.ticks.length!==v.length)this.ticks=v,this.isRefDestroyed()||this.changeDetectionRef.detectChanges();else for(let S=0;S<v.length;++S)Object.assign(this.ticks[S],v[S])}getTicksArray(){const t=jt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,a=[],d=1+Math.floor(zo.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let g=0;g<d;++g)a.push(zo.roundToPrecisionLimit(this.viewOptions.floor+t*g,this.viewOptions.precisionLimit));return a}isTickSelected(t){if(!this.range)if(jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{const a=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>a&&t>=a&&t<=this.viewLowValue)return!0;if(this.viewLowValue<a&&t<=a&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Kd.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Kd.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(t,a){t===Zn.Min?this.updateLowHandle(a):t===Zn.Max&&this.updateHighHandle(a),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,a){const d=t===Zn.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,g=a-d/2+this.handleHalfDimension,v=this.fullBarElement.dimension-d;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===Zn.Min||!this.viewOptions.rightToLeft&&t===Zn.Max?Math.min(g,v):Math.min(Math.max(g,0),v):g}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Kd.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(Zn.Min,t)),jt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(Zn.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Kd.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(Zn.Max,t)),jt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(Zn.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,a=!1;const d=this.isLabelBelowFloorLabel(this.minHandleLabelElement),g=this.isLabelAboveCeilLabel(this.minHandleLabelElement),v=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),S=this.isLabelBelowFloorLabel(this.combinedLabelElement),L=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(d?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),g?(a=!0,this.ceilLabelElement.hide()):(a=!1,this.ceilLabelElement.show()),this.range){const z=this.combinedLabelElement.isVisible()?L:v,X=this.combinedLabelElement.isVisible()?S:d;z?this.ceilLabelElement.hide():a||this.ceilLabelElement.show(),X?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){const a=t.position,g=this.floorLabelElement.position;return this.viewOptions.rightToLeft?a+t.dimension>=g-2:a<=g+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(t){const a=t.position,g=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?a<=g+this.ceilLabelElement.dimension+2:a+t.dimension>=g-2}updateSelectionBar(){let t=0,a=0;const d=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,g=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)a=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=g;else if(jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))d?(a=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(a=this.minHandleElement.position+this.handleHalfDimension,t=0);else{const v=this.viewOptions.showSelectionBarFromValue,S=this.valueToPosition(v);(this.viewOptions.rightToLeft?this.viewLowValue<=v:this.viewLowValue>v)?(a=this.minHandleElement.position-S,t=S+this.handleHalfDimension):(a=S-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(a),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+a)),this.leftOuterSelectionBarElement.setPosition(t+a)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+a)),this.rightOuterSelectionBarElement.setPosition(t+a))),jt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!jt.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const v=jt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),S=v-t>0&&!d||v-t<=0&&d;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?S?"bottom":"top":S?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(v+a+t+(S?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=v-t+(S?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const v=this.getSelectionBarColor();this.barStyle={backgroundColor:v}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return this.viewOptions.getPointerColor(t===Zn.Max?this.highValue:this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(t=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){const a=this.getDisplayValue(this.viewLowValue,Kd.Low),d=this.getDisplayValue(this.viewHighValue,Kd.High),g=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(d,a):this.viewOptions.combineLabels(a,d);this.combinedLabelElement.setValue(g);const v=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(v),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,a){return!jt.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.viewOptions.translate(t,a)}roundStep(t,a){const d=jt.isNullOrUndefined(a)?this.viewOptions.step:a;let g=zo.roundToPrecisionLimit((t-this.viewOptions.floor)/d,this.viewOptions.precisionLimit);return g=Math.round(g)*d,zo.roundToPrecisionLimit(this.viewOptions.floor+g,this.viewOptions.precisionLimit)}valueToPosition(t){let a=jt.linearValueToPosition;jt.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(a=jt.logValueToPosition):a=this.viewOptions.customValueToPosition;let d=a(t=zo.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return jt.isNullOrUndefined(d)&&(d=0),this.viewOptions.rightToLeft&&(d=1-d),d*this.maxHandlePosition}positionToValue(t){let a=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(a=1-a);let d=jt.linearPositionToValue;jt.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(d=jt.logPositionToValue):d=this.viewOptions.customPositionToValue;const g=d(a,this.viewOptions.floor,this.viewOptions.ceil);return jt.isNullOrUndefined(g)?0:g}getEventXY(t,a){if(t instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?t.clientY:t.clientX;let d=0;const g=t.touches;if(!jt.isNullOrUndefined(a))for(let v=0;v<g.length;v++)if(g[v].identifier===a){d=v;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?g[d].clientY:g[d].clientX}getEventPosition(t,a){const d=this.elementRef.nativeElement.getBoundingClientRect(),g=this.viewOptions.vertical||0!==this.viewOptions.rotate?d.bottom:d.left;let v=0;return v=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(t,a)+g:this.getEventXY(t,a)-g,v*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return Zn.Min;const a=this.getEventPosition(t),d=Math.abs(a-this.minHandleElement.position),g=Math.abs(a-this.maxHandleElement.position);return d<g?Zn.Min:d>g?Zn.Max:this.viewOptions.rightToLeft?a>this.minHandleElement.position?Zn.Min:Zn.Max:a<this.minHandleElement.position?Zn.Min:Zn.Max}bindEvents(){const t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",a=>this.onBarStart(null,t,a,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",a=>this.onBarStart(Zn.Min,t,a,!0,!0)),this.maxHandleElement.on("mousedown",a=>this.onBarStart(Zn.Max,t,a,!0,!0))):(this.minHandleElement.on("mousedown",a=>this.onStart(Zn.Min,a,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",a=>this.onStart(Zn.Max,a,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",a=>this.onStart(null,a,!0,!0,!0)),this.ticksElement.on("mousedown",a=>this.onStart(null,a,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",a=>this.onBarStart(null,t,a,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",a=>this.onBarStart(Zn.Min,t,a,!0,!0)),this.maxHandleElement.onPassive("touchstart",a=>this.onBarStart(Zn.Max,t,a,!0,!0))):(this.minHandleElement.onPassive("touchstart",a=>this.onStart(Zn.Min,a,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",a=>this.onStart(Zn.Max,a,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",a=>this.onStart(null,a,!0,!0,!0)),this.ticksElement.onPassive("touchstart",a=>this.onStart(null,a,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(Zn.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(Zn.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const t of this.getAllSliderElements())jt.isNullOrUndefined(t)||t.off()}onBarStart(t,a,d,g,v,S,L){a?this.onDragStart(t,d,g,v):this.onStart(t,d,g,v,S,L)}onStart(t,a,d,g,v,S){a.stopPropagation(),!Qp.isTouchEvent(a)&&!xT&&a.preventDefault(),this.moving=!1,this.calculateViewDimensions(),jt.isNullOrUndefined(t)&&(t=this.getNearestHandle(a)),this.currentTrackingPointer=t;const L=this.getPointerElement(t);if(L.active=!0,this.viewOptions.keyboardSupport&&L.focus(),d){this.unsubscribeOnMove();const z=X=>this.dragging.active?this.onDragMove(X):this.onMove(X);this.onMoveEventListener=Qp.isTouchEvent(a)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",z):this.eventListenerHelper.attachEventListener(document,"mousemove",z)}if(g){this.unsubscribeOnEnd();const z=X=>this.onEnd(X);this.onEndEventListener=Qp.isTouchEvent(a)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",z):this.eventListenerHelper.attachEventListener(document,"mouseup",z)}this.userChangeStart.emit(this.getChangeContext()),Qp.isTouchEvent(a)&&!jt.isNullOrUndefined(a.changedTouches)&&jt.isNullOrUndefined(this.touchId)&&(this.touchId=a.changedTouches[0].identifier),v&&this.onMove(a,!0),S&&this.onEnd(a)}onMove(t,a){let d=null;if(Qp.isTouchEvent(t)){const z=t.changedTouches;for(let X=0;X<z.length;X++)if(z[X].identifier===this.touchId){d=z[X];break}if(jt.isNullOrUndefined(d))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const g=jt.isNullOrUndefined(d)?this.getEventPosition(t):this.getEventPosition(t,d.identifier);let v;g<=0?v=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:g>=this.maxHandlePosition?v=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(v=this.positionToValue(g),v=a&&!jt.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(v,this.viewOptions.tickStep):this.roundStep(v)),this.positionTrackingHandle(v)}onEnd(t){Qp.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(t){const a=this.getPointerElement(t);a.on("blur",()=>this.onPointerBlur(a)),a.on("keydown",d=>this.onKeyboardEvent(d)),a.on("keyup",()=>this.onKeyUp()),a.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,jt.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){const a=this.viewOptions.ceil-this.viewOptions.floor;let d=t+this.viewOptions.step,g=t-this.viewOptions.step,v=t+a/10,S=t-a/10;this.viewOptions.reversedControls&&(d=t-this.viewOptions.step,g=t+this.viewOptions.step,v=t-a/10,S=t+a/10);const L={UP:d,DOWN:g,LEFT:g,RIGHT:d,PAGEUP:v,PAGEDOWN:S,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(L.LEFT=d,L.RIGHT=g,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(L.UP=g,L.DOWN=d)),L}onKeyboardEvent(t){const a=this.getCurrentTrackingValue(),d=jt.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,L=this.getKeyActions(a)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[d]];if(jt.isNullOrUndefined(L)||jt.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const z=zo.clampToRange(L,this.viewOptions.floor,this.viewOptions.ceil),X=this.roundStep(z);if(this.viewOptions.draggableRangeOnly){const de=this.viewHighValue-this.viewLowValue;let Re,rt;this.currentTrackingPointer===Zn.Min?(Re=X,rt=X+de,rt>this.viewOptions.ceil&&(rt=this.viewOptions.ceil,Re=rt-de)):this.currentTrackingPointer===Zn.Max&&(rt=X,Re=X-de,Re<this.viewOptions.floor&&(Re=this.viewOptions.floor,rt=Re+de)),this.positionTrackingBar(Re,rt)}else this.positionTrackingHandle(X)}onDragStart(t,a,d,g){const v=this.getEventPosition(a);this.dragging=new QT,this.dragging.active=!0,this.dragging.value=this.positionToValue(v),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-v:v-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?v-this.maxHandleElement.position:this.maxHandleElement.position-v,this.onStart(t,a,d,g)}getMinValue(t,a,d){const g=this.viewOptions.rightToLeft;let v=null;return v=a?d?g?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:g?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(g?t+this.dragging.lowLimit:t-this.dragging.lowLimit),this.roundStep(v)}getMaxValue(t,a,d){const g=this.viewOptions.rightToLeft;let v=null;return v=a?d?g?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:g?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:g?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(v)}onDragMove(t){const a=this.getEventPosition(t);let d,g,v,S;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(d=this.dragging.lowLimit,g=this.dragging.highLimit,v=this.maxHandleElement,S=this.minHandleElement):(d=this.dragging.highLimit,g=this.dragging.lowLimit,v=this.minHandleElement,S=this.maxHandleElement);const z=a>=this.maxHandlePosition-d;let X,de;if(a<=g){if(0===v.position)return;X=this.getMinValue(a,!0,!1),de=this.getMaxValue(a,!0,!1)}else if(z){if(S.position===this.maxHandlePosition)return;de=this.getMaxValue(a,!0,!0),X=this.getMinValue(a,!0,!0)}else X=this.getMinValue(a,!1,!1),de=this.getMaxValue(a,!1,!1);this.positionTrackingBar(X,de)}positionTrackingBar(t,a){!jt.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(a=zo.roundToPrecisionLimit((t=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!jt.isNullOrUndefined(this.viewOptions.maxLimit)&&a>this.viewOptions.maxLimit&&(t=zo.roundToPrecisionLimit((a=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=a,this.applyViewChange(),this.updateHandles(Zn.Min,this.valueToPosition(t)),this.updateHandles(Zn.Max,this.valueToPosition(a))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===Zn.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===Zn.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===Zn.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(Zn.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Zn.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===Zn.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(Zn.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Zn.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===Zn.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===Zn.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!jt.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!jt.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){const d=Math.abs(t-(this.currentTrackingPointer===Zn.Min?this.viewHighValue:this.viewLowValue));if(!jt.isNullOrUndefined(this.viewOptions.minRange)&&d<this.viewOptions.minRange){if(this.currentTrackingPointer===Zn.Min)return zo.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Zn.Max)return zo.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!jt.isNullOrUndefined(this.viewOptions.maxRange)&&d>this.viewOptions.maxRange){if(this.currentTrackingPointer===Zn.Min)return zo.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Zn.Max)return zo.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){const a=this.currentTrackingPointer===Zn.Min?this.viewHighValue-t:t-this.viewLowValue,d=jt.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,g=this.viewOptions.maxRange;return a<d?(this.currentTrackingPointer===Zn.Min?(this.viewHighValue=zo.roundToPrecisionLimit(Math.min(t+d,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=zo.roundToPrecisionLimit(this.viewHighValue-d,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Zn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Zn.Max&&(this.viewLowValue=zo.roundToPrecisionLimit(Math.max(t-d,this.viewOptions.floor),this.viewOptions.precisionLimit),t=zo.roundToPrecisionLimit(this.viewLowValue+d,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Zn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!jt.isNullOrUndefined(g)&&a>g&&(this.currentTrackingPointer===Zn.Min?(this.viewHighValue=zo.roundToPrecisionLimit(t+g,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Zn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Zn.Max&&(this.viewLowValue=zo.roundToPrecisionLimit(t-g,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Zn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){const t=new WT;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}static \u0275fac=function(a){return new(a||i)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(GI,8))};static \u0275cmp=m.Xpm({type:i,selectors:[["ngx-slider"]],contentQueries:function(a,d,g){if(1&a&&m.Suo(g,rD,5),2&a){let v;m.iGM(v=m.CRH())&&(d.tooltipTemplate=v.first)}},viewQuery:function(a,d){if(1&a&&(m.Gf(iD,5,Yp),m.Gf(HI,5,Yp),m.Gf(UT,5,Yp),m.Gf($I,5,Yp),m.Gf(BT,5,qI),m.Gf(sD,5,qI),m.Gf(jT,5,X_),m.Gf(HT,5,X_),m.Gf($T,5,X_),m.Gf(zT,5,X_),m.Gf(oD,5,X_),m.Gf(aD,5,Yp)),2&a){let g;m.iGM(g=m.CRH())&&(d.leftOuterSelectionBarElement=g.first),m.iGM(g=m.CRH())&&(d.rightOuterSelectionBarElement=g.first),m.iGM(g=m.CRH())&&(d.fullBarElement=g.first),m.iGM(g=m.CRH())&&(d.selectionBarElement=g.first),m.iGM(g=m.CRH())&&(d.minHandleElement=g.first),m.iGM(g=m.CRH())&&(d.maxHandleElement=g.first),m.iGM(g=m.CRH())&&(d.floorLabelElement=g.first),m.iGM(g=m.CRH())&&(d.ceilLabelElement=g.first),m.iGM(g=m.CRH())&&(d.minHandleLabelElement=g.first),m.iGM(g=m.CRH())&&(d.maxHandleLabelElement=g.first),m.iGM(g=m.CRH())&&(d.combinedLabelElement=g.first),m.iGM(g=m.CRH())&&(d.ticksElement=g.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(a,d){1&a&&m.NdJ("resize",function(v){return d.onResize(v)},!1,m.Jf7),2&a&&(m.uIk("disabled",d.sliderElementDisabledAttr)("aria-label",d.sliderElementAriaLabel),m.ekj("vertical",d.sliderElementVerticalClass)("animate",d.sliderElementAnimateClass)("with-legend",d.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[m._Bn([YT]),m.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(a,d){1&a&&(m.TgZ(0,"span",0,1),m._UZ(2,"span",2),m.qZA(),m.TgZ(3,"span",3,4),m._UZ(5,"span",2),m.qZA(),m.TgZ(6,"span",5,6),m._UZ(8,"span",2),m.qZA(),m.TgZ(9,"span",7,8),m._UZ(11,"span",9),m.qZA(),m._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),m.TgZ(26,"span",24,25),m.YNc(28,qT,5,10,"span",26),m.qZA()),2&a&&(m.xp6(6),m.ekj("ngx-slider-transparent",d.fullBarTransparentClass),m.xp6(3),m.ekj("ngx-slider-draggable",d.selectionBarDraggableClass),m.xp6(2),m.Q6J("ngStyle",d.barStyle),m.xp6(1),m.Q6J("ngStyle",d.minPointerStyle),m.xp6(2),m.Udp("display",d.range?"inherit":"none"),m.Q6J("ngStyle",d.maxPointerStyle),m.xp6(12),m.ekj("ngx-slider-ticks-values-under",d.ticksUnderValuesClass),m.Q6J("hidden",!d.showTicks),m.xp6(2),m.Q6J("ngForOf",d.ticks))},dependencies:[be.mk,be.sg,be.O5,be.PC,Yp,qI,X_,lD],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}'],changeDetection:0})}return i})(),JT=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=m.oAB({type:i});static \u0275inj=m.cJS({imports:[be.ez]})}return i})();var XT=U(5233);function eb(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div",40),m.NdJ("change",function(){const g=m.CHM(t).$implicit,v=m.oxw(4);return m.KtG(v.categoryFilter(g))}),m.TgZ(1,"label",41)(2,"input",42),m.NdJ("change",function(){m.CHM(t);const d=m.oxw(4);return m.KtG(d.onCheckboxChange())}),m.qZA(),m.TgZ(3,"span",43),m._uU(4),m.ALo(5,"uppercase"),m.qZA()()()}if(2&i){const t=e.$implicit,a=m.oxw(4);m.xp6(1),m.s9C("for",t.name),m.xp6(1),m.s9C("id",t.name),m.Q6J("checked",a.defCategoryRoute===t.name),m.xp6(2),m.hij(" ",m.lcZ(5,4,t.name)," ")}}function tb(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"ngx-slider",44),m.NdJ("valueChange",function(d){m.CHM(t);const g=m.oxw(4);return m.KtG(g.minValue=d)})("highValueChange",function(d){m.CHM(t);const g=m.oxw(4);return m.KtG(g.maxValue=d)})("userChange",function(d){m.CHM(t);const g=m.oxw(4);return m.KtG(g.priceRangeFilter(d))}),m.qZA()}if(2&i){const t=m.oxw(4);m.Q6J("value",t.minValue)("highValue",t.maxValue)("options",t.options)}}function nb(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div",15)(1,"div")(2,"p",16),m._uU(3,"FILTERS"),m.qZA(),m.TgZ(4,"div",17)(5,"div",18)(6,"div",19)(7,"h2",20)(8,"button",21),m._uU(9," CATEGORIES "),m.qZA()()(),m.TgZ(10,"div",22)(11,"div",23),m.YNc(12,eb,6,6,"div",24),m.qZA()()()(),m.TgZ(13,"div",17)(14,"div",25)(15,"div",26)(16,"h2",20)(17,"button",27),m._uU(18," PRICE "),m.qZA()(),m.TgZ(19,"div",28)(20,"div",23)(21,"div",29),m.YNc(22,tb,1,3,"ngx-slider",30),m.qZA(),m.TgZ(23,"div",31)(24,"div",32)(25,"input",33,34),m.NdJ("change",function(){m.CHM(t);const d=m.MAs(26),g=m.oxw(3);return m.KtG(g.priceFilter(+d.value,"min"))}),m.qZA(),m.TgZ(27,"label",35),m._uU(28,"Min Price"),m.qZA()(),m.TgZ(29,"span",36),m._uU(30,"to"),m.qZA(),m.TgZ(31,"div",32)(32,"input",37,38),m.NdJ("change",function(){m.CHM(t);const d=m.MAs(33),g=m.oxw(3);return m.KtG(g.priceFilter(+d.value,"max"))}),m.qZA(),m.TgZ(34,"label",39),m._uU(35,"Max Price"),m.qZA()()()()()()()()()()}if(2&i){const t=m.MAs(26),a=m.oxw(3);m.xp6(12),m.Q6J("ngForOf",a.categories),m.xp6(10),m.Q6J("ngIf",a.isBrowser),m.xp6(3),m.s9C("value",a.minValue),m.s9C("max",+a.maxValue-100),m.xp6(7),m.s9C("value",a.maxValue),m.s9C("min",+t.value+100)}}function rb(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div",12)(1,"div",3)(2,"div",13),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(2);return m.KtG(d.toggleSideBar())}),m.qZA(),m.YNc(3,nb,36,6,"div",14),m.qZA()()}if(2&i){const t=m.oxw(2);m.xp6(3),m.Q6J("ngIf",t.products||t.isLoading)}}function fD(i,e){1&i&&(m.TgZ(0,"div",45)(1,"p",46),m._uU(2,"No More Products."),m.qZA(),m.TgZ(3,"p",47),m._uU(4," Redirect to "),m.TgZ(5,"a",48),m._uU(6,"HomePage"),m.qZA(),m._uU(7," ? "),m.qZA()())}function pD(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"span")(1,"span",64),m._uU(2),m.ALo(3,"uppercase"),m.ALo(4,"uppercase"),m.TgZ(5,"button",65),m.NdJ("click",function(){const g=m.CHM(t).$implicit,v=m.oxw(4);return m.KtG(v.removeFilter(g.id))}),m.qZA()()()}if(2&i){const t=e.$implicit;m.xp6(2),m.AsE(" ",m.lcZ(3,2,t.key),": ",m.lcZ(4,4,t.value)," ")}}function ZI(i,e){if(1&i&&(m.TgZ(0,"li",62),m.YNc(1,pD,6,6,"span",63),m.qZA()),2&i){const t=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",t.selectedFiltersSorted)}}function pw(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"button",87),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(2).index,g=m.oxw(3);return m.KtG(g.toggleCart(d))}),m._uU(1," Add to Cart "),m.qZA()}}function QI(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div")(1,"button",88),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(2).index,g=m.oxw(3);return m.KtG(g.productCart(d,"remove"))}),m._uU(2," - "),m.qZA(),m.TgZ(3,"span",89),m._uU(4),m.qZA(),m.TgZ(5,"button",90),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(2).index,g=m.oxw(3);return m.KtG(g.productCart(d,"add"))}),m._uU(6," + "),m.qZA()()}if(2&i){const t=m.oxw(2).$implicit;m.xp6(4),m.Oqu(t.amount||1),m.xp6(1),m.Q6J("disabled",t.amount==t.stock)}}function ib(i,e){if(1&i&&(m.TgZ(0,"div"),m.YNc(1,pw,2,0,"button",86)(2,QI,7,2,"div",84),m.qZA()),2&i){const t=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf",!t.isAdd),m.xp6(1),m.Q6J("ngIf",t.isAdd)}}function sb(i,e){1&i&&(m.TgZ(0,"span",47),m._uU(1,"Max Stock"),m.qZA())}function ob(i,e){1&i&&(m.TgZ(0,"span",47),m._uU(1,"Out of Stock"),m.qZA())}function ab(i,e){if(1&i&&(m.TgZ(0,"li",66)(1,"a",67),m._uU(2,"..."),m.qZA(),m.TgZ(3,"div",68)(4,"div",69),m._UZ(5,"img",70),m.qZA(),m.TgZ(6,"div",71)(7,"div",3)(8,"div",72)(9,"p",73),m._uU(10),m.qZA(),m.TgZ(11,"div",74)(12,"span",75),m._UZ(13,"img",76),m._uU(14,"Assured"),m.qZA(),m.TgZ(15,"span",77),m._uU(16,"4.4 "),m._UZ(17,"img",78),m.qZA()(),m.TgZ(18,"ul",79)(19,"li",80),m._uU(20," Lorem ipsum dolor sit, amet consectetur elit. "),m.qZA(),m.TgZ(21,"li",80),m._uU(22," Lorem ipsum dolor sit, amet. "),m.qZA(),m.TgZ(23,"li",80),m._uU(24,"Lorem ipsum."),m.qZA()()(),m.TgZ(25,"div",81)(26,"div")(27,"p",82),m._uU(28),m.qZA()(),m.TgZ(29,"div",83),m.YNc(30,ib,3,2,"div",84)(31,sb,2,0,"span",85)(32,ob,2,0,"span",85),m.qZA()()()()()()),2&i){const t=e.$implicit,a=e.index;m.xp6(1),m.MGl("routerLink","../product/",t.id,""),m.xp6(4),m.s9C("src",t.images[0],m.LSH),m.s9C("alt",t.title),m.uIk("loading",a>3?"lazy":null)("fetchpriority",a<3?"high":null),m.xp6(5),m.hij(" ",t.title," "),m.xp6(18),m.hij("$",t.price,""),m.xp6(2),m.Q6J("ngIf",0!=t.stock),m.xp6(1),m.Q6J("ngIf",t.amount==t.stock),m.xp6(1),m.Q6J("ngIf",0==t.stock)}}function ub(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div",49)(1,"ul",50)(2,"li",51)(3,"div",52)(4,"div",53),m._uU(5," Sort By "),m.qZA(),m.TgZ(6,"div",54)(7,"div",55),m._UZ(8,"input",56),m.TgZ(9,"label",57),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(2);return m.KtG(d.addSort("asec"))}),m._uU(10,"Price - Low to High "),m.qZA(),m._UZ(11,"input",58),m.TgZ(12,"label",59),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(2);return m.KtG(d.addSort("desc"))}),m._uU(13,"Price - High to Low"),m.qZA()()()()(),m.YNc(14,ZI,2,1,"li",60)(15,ab,33,10,"li",61),m.qZA()()}if(2&i){const t=m.oxw(2);m.xp6(8),m.Q6J("checked","asec"===t.sortMeth),m.xp6(3),m.Q6J("checked","desc"===t.sortMeth),m.xp6(3),m.Q6J("ngIf",t.selectedFiltersSorted.length>0),m.xp6(1),m.Q6J("ngForOf",t.products)}}function lb(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"li",96),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(3);return m.KtG(d.page("prev"))}),m.TgZ(1,"a",97),m._uU(2,"Previous"),m.qZA()()}}function cb(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"a",100),m.NdJ("click",function(){m.CHM(t);const d=m.oxw().$implicit,g=m.oxw(3);return m.KtG(g.numbPage(d))}),m._uU(1),m.qZA()}if(2&i){const t=m.oxw().$implicit;m.xp6(1),m.Oqu(t)}}function gD(i,e){if(1&i&&(m.TgZ(0,"li",98),m.YNc(1,cb,2,1,"a",99),m.qZA()),2&i){const t=m.oxw(3);m.xp6(1),m.Q6J("ngIf",1!==t.totalPages)}}function YI(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"li",96),m.NdJ("click",function(){m.CHM(t);const d=m.oxw(3);return m.KtG(d.page("next"))}),m.TgZ(1,"a",97),m._uU(2,"Next"),m.qZA()()}}function JI(i,e){if(1&i&&(m.TgZ(0,"div",91)(1,"nav",92)(2,"ul",93),m.YNc(3,lb,3,0,"li",94)(4,gD,2,1,"li",95)(5,YI,3,0,"li",94),m.qZA()()()),2&i){const t=m.oxw(2);m.xp6(3),m.Q6J("ngIf",t.pageId>1),m.xp6(1),m.Q6J("ngForOf",t.pagesArray),m.xp6(1),m.Q6J("ngIf",t.pageId!=t.totalPages&&1!==t.totalPages||t.products&&0==t.products.length)}}function db(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),m.NdJ("click",function(){m.CHM(t);const d=m.oxw();return m.KtG(d.toggleSideBar())}),m._UZ(4,"img",6),m.qZA()(),m.YNc(5,rb,4,1,"div",7)(6,fD,8,0,"div",8),m.TgZ(7,"div",9),m.YNc(8,ub,16,4,"div",10)(9,JI,6,3,"div",11),m.qZA()()()}if(2&i){const t=m.oxw();m.xp6(5),m.Q6J("ngIf",t.products&&t.categories&&t.categories.length>0),m.xp6(1),m.Q6J("ngIf",t.products&&0===t.products.length&&!t.isLoading),m.xp6(2),m.Q6J("ngIf",t.products&&t.products.length>0),m.xp6(1),m.Q6J("ngIf",t.products&&0!=t.products.length)}}function XI(i,e){1&i&&(m.TgZ(0,"div",101),m._UZ(1,"app-loader"),m.qZA())}const e0=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:(()=>{class i{constructor(t,a,d,g,v,S){this.cartServ=t,this.route=a,this.router=d,this.productService=g,this.breakpointObserver=v,this.platformId=S,this.pageId=1,this.isLoading=!1,this.minValue=0,this.maxValue=0,this.defCategoryRoute="",this.isSideBarOpen=!1,this.selectedFilters={},this.selectedFiltersSorted=[],this.Breakpoints=to,this.currentBreakpoint="",this.breakpoint$=this.breakpointObserver.observe([to.Large,to.Medium,to.Small,"(min-width: 500px)"]).pipe((0,vl.b)(L=>console.log(L)),(0,qu.x)()),this.viewportLength="",this.isBrowser=(0,be.NF)(S)}ngOnInit(){this.getData(),this.getCategories(),this.options={floor:0,ceil:2e3,step:100,translate:t=>"$ "+t},this.breakpoint$.subscribe(()=>this.breakpointChanged())}ngOnDestroy(){this.ObsSubs.unsubscribe()}toggleSideBar(){this.isSideBarOpen=!this.isSideBarOpen;let t=document.getElementById("sideBar").classList;t.contains("resposiveSideBar")?t.remove("resposiveSideBar"):t.add("resposiveSideBar")}getData(){this.minValue=0,this.maxValue=0,this.route.queryParams.subscribe(t=>{t.price_min&&t.price_max?(this.minValue=+t.price_min,this.maxValue=+t.price_max):t.price_min?(this.minValue=+t.price_min,this.maxValue=2e3):t.price_max?(this.maxValue=+t.price_max,this.minValue=0):(this.minValue=0,this.maxValue=2e3),this.selectedFilters=t,this.selectedFiltersSorted=[];for(const d in this.selectedFilters)"category"==d?this.selectedFiltersSorted.push({key:d,value:this.selectedFilters[d],id:d}):"price_min"==d?this.selectedFiltersSorted.push({key:"Min Price",value:this.selectedFilters[d],id:d}):"sort"==d?this.selectedFiltersSorted.push({key:d,value:"asec"==this.selectedFilters[d]?"Low To High":"High To Low",id:d}):"price_max"==d&&this.selectedFiltersSorted.push({key:"Max Price",value:this.selectedFilters[d],id:d});this.pageId=t.page,this.sortMeth=t.sort;let a=localStorage.getItem("cart")||"[]";this.prods=JSON.parse(a),this.defCategoryRoute="",this.ObsSubs=this.productService.getProducts().subscribe(d=>{this.products=d,this.viewportLength=230*this.products.length+"px",console.log(this.viewportLength),this.productsSorted=d.map(g=>{let v=this.prods.findIndex(({id:S})=>S===g.id);return v>=0?{...g,isAdd:!0,amount:this.prods[v].amount}:{...g,isAdd:!1}}),this.isLoading=!1})}),this.getCategories()}productCart(t,a){this.cartServ.data(this.products[t],a),this.getData()}toggleCart(t){this.productCart(t,"add"),this.products[t].isAdd=!this.products[t].isAdd}page(t){isNaN(this.pageId)&&(this.pageId=1),this.isLoading=!0,this.router.navigate(["/products"],"next"===t?{queryParams:{page:+this.pageId+1},queryParamsHandling:"merge"}:{queryParams:{page:+this.pageId-1},queryParamsHandling:"merge"}),this.getCategories(),this.isLoading=!1}numbPage(t){this.isLoading=!0,this.router.navigate(["/products"],{queryParams:{page:t},queryParamsHandling:"merge"}),this.isLoading=!1}priceFilter(t,a){let d=0;this.route.queryParams.subscribe(g=>{d=g.page}),"max"==a?2e3==t?this.removeFilter("price_max"):this.router.navigate(["/products"],{queryParams:{price_max:`${t}`},queryParamsHandling:"merge"}):"min"==a&&(0==t?this.removeFilter("price_min"):this.router.navigate(["/products"],{queryParams:{price_min:`${t}`},queryParamsHandling:"merge"}))}priceRangeFilter(t){1==t.pointerType?this.priceFilter(t.highValue,"max"):this.priceFilter(t.value,"min")}getCategories(){this.productService.getCategories().subscribe(t=>{this.categories=Object.keys(t).map(a=>({id:a,name:t[a],checked:this.defCategoryRoute==t[a]})),this.route.queryParams.subscribe(a=>{let d=a.category,g=this.categories.find(v=>v.name===d);g&&(this.defCategoryRoute=g.name)})})}categoryFilter(t){this.router.navigate(["/products"],{queryParams:{category:t.checked?t.name:null,page:null},queryParamsHandling:"merge"})}addSort(t){this.router.navigate(["products"],{queryParams:{sort:t,page:null},queryParamsHandling:"merge"})}onCheckboxChange(){for(let t=0;t<this.categories.length;t++)this.categories[t].checked=this.defCategoryRoute!=this.categories[t].name}removeFilter(t){"category"==t?this.router.navigate(["products"],{queryParams:{category:null},queryParamsHandling:"merge"}):"price_min"==t?this.router.navigate(["products"],{queryParams:{price_min:null},queryParamsHandling:"merge"}):"sort"==t?this.router.navigate(["products"],{queryParams:{sort:null},queryParamsHandling:"merge"}):"price_max"==t&&this.router.navigate(["products"],{queryParams:{price_max:null},queryParamsHandling:"merge"})}breakpointChanged(){this.breakpointObserver.isMatched(to.Large)?this.currentBreakpoint=to.Large:this.breakpointObserver.isMatched(to.Medium)?this.currentBreakpoint=to.Medium:this.breakpointObserver.isMatched(to.Small)?this.currentBreakpoint=to.Small:this.breakpointObserver.isMatched("(min-width: 500px)")&&(this.currentBreakpoint="(min-width: 500px)")}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(Kr.b),m.Y36(J.gz),m.Y36(J.F0),m.Y36(KC),m.Y36(yl),m.Y36(m.Lbi))};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-products"]],decls:2,vars:2,consts:[["class","container-xxl text-center",4,"ngIf"],["class","col-1 mx-auto",4,"ngIf"],[1,"container-xxl","text-center"],[1,"row"],[1,"col-12","d-flex","flex-row-reverse","d-xl-none","d-block"],["id","btn","aria-label","toggle sidebar","type","button",1,"btn","d-xl-none","d-block","bg-white",3,"click"],["src","../../assets/menu.png","alt","","width","16px","height","16px"],["class","col-2","id","sideBar",4,"ngIf"],["class","mt-5 pt-5 ms-5 ps-5",4,"ngIf"],[1,"col-12","col-lg-10"],["class","col-xl-10 col-lg-10 col-12 mx-auto",4,"ngIf"],["class","col-12 d-flex justify-content-center my-3",4,"ngIf"],["id","sideBar",1,"col-2"],["id","overlay",1,"col-12",3,"click"],["class","col-2 py-4 px-3 h-100 ms-0 me-5 rounded text-start","id","filterBar",4,"ngIf"],["id","filterBar",1,"col-2","py-4","px-3","h-100","ms-0","me-5","rounded","text-start"],[1,"h4","fw-medium","ms-2","fw-semibold"],[1,"col-12"],["id","accordionExample",1,"accordion","border","my-2","rounded"],[1,"accordion-item","rounded"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[3,"change",4,"ngFor","ngForOf"],["id","accordion",1,"accordion","rounded"],[1,"accordion-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsePrice","aria-expanded","true","aria-controls","collapsePrice",1,"accordion-button"],["id","collapsePrice","data-bs-parent","#accordion",1,"accordion-collapse","collapse","show"],[1,"custom-slider"],[3,"value","highValue","options","valueChange","highValueChange","userChange",4,"ngIf"],[1,"col-12","d-flex","text-center"],[1,"col-5"],["type","number","id","minUserValue","step","100","min","0",1,"form-control","border","col-12",3,"value","max","change"],["minUserValue",""],["for","maxUserValue",1,"col-12","fw-semibold","small"],[1,"text-secondary","m-2"],["step","100","type","number","id","maxUserValue","max","2000",1,"col-12","form-control","border",3,"value","min","change"],["maxUserValue",""],["for","minUserValue",1,"col-12","fw-semibold","small"],[3,"change"],[1,"form-control","p-0",3,"for"],["type","checkbox",1,"checkbox",3,"id","checked","change"],[1,"mt-1"],[3,"value","highValue","options","valueChange","highValueChange","userChange"],[1,"mt-5","pt-5","ms-5","ps-5"],[1,"text-black","display-5"],[1,"text-black"],["href","/products",1,"text-decoration-none","text-primary","fw-semibold"],[1,"col-xl-10","col-lg-10","col-12","mx-auto"],[1,"col-12","col-lg-8","col-lg-12","mx-auto","list-group"],[1,"list-group-item","py-0"],[1,"row","p-0"],[1,"col-lg-2","col-3","text-start","ms","fw-bolder","btn","disabled","border-0","py-3"],[1,"col-xl-5","col-md-8","col-lg-6","col-9"],["role","group","id","btnGroup","aria-label","Basic radio toggle button group ",1,"btn-group"],["type","radio","name","sortRadio","id","sortAsec",1,"btn-check",3,"checked"],["for","sortAsec","id","sortAsecLabel",1,"btn","border-0","py-3",3,"click"],["type","radio","name","sortRadio","id","sortDesc",1,"btn-check",3,"checked"],["for","sortDesc",1,"btn","border-0","py-3",3,"click"],["class","list-group-item text-start py-3",4,"ngIf"],["class","list-group-item px-1",4,"ngFor","ngForOf"],[1,"list-group-item","text-start","py-3"],[4,"ngFor","ngForOf"],[1,"d-inline-block","bg-success-subtle","rounded-pill","fw-semibold","small","px-3","py-2","m-1","lh-1"],[1,"btn","p-0","filterButton","m-0","btn-close","btn-sm","ms-2","me-1",3,"click"],[1,"list-group-item","px-1"],[1,"detailAnchor","text-white","text-decoration-none",3,"routerLink"],[1,"mx-sm-auto","row","text-decoration-none","text-black"],["id","productDetail",1,"col-sm-3","col-12"],["width","200px","height","200px",1,"mx-sm-auto",3,"src","alt"],[1,"col-sm-8","col-12"],[1,"col-sm-7","col-12","text-center","text-lg-start"],[1,"fw-semibold","h6","pt-2","text-wrap","text-lg-start","text-center"],[1,"col-12","my-2"],[1,"bg-primary","text-white","small","rounded-pill","py-1","px-2","fw-semibold","mx-2"],["src","../../assets/logo.svg","width","15px","alt","assured logo","height","15px",1,"me-1","mb-1"],[1,"badge","bg-success","my-1"],["src","../../assets/star.png","width","16px","height","16px","alt","star"],[1,"list-group","ms-4","d-none","d-xl-block"],[1,"py-1"],[1,"col-sm-5","col-12","py-2","py-xl-5","mt-0","mt-xl-1"],[1,"fw-semibold","h5"],["id","addToCartButton",1,"mt-0","mt-lg-4"],[4,"ngIf"],["class","text-black",4,"ngIf"],["class","btn btn-primary rounded-pill fw-semibold btn-sm py-md-2 px-md-4 px-3 py-1",3,"click",4,"ngIf"],[1,"btn","btn-primary","rounded-pill","fw-semibold","btn-sm","py-md-2","px-md-4","px-3","py-1",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"mx-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"col-12","d-flex","justify-content-center","my-3"],["aria-label","Page navigation example"],["id","pagination",1,"pagination"],["class","page-item",3,"click",4,"ngIf"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link"],[1,"page-item"],["class","page-link",3,"click",4,"ngIf"],[1,"page-link",3,"click"],[1,"col-1","mx-auto"]],template:function(a,d){1&a&&m.YNc(0,db,10,4,"div",0)(1,XI,2,0,"div",1),2&a&&(m.Q6J("ngIf",d.products||!d.isLoading),m.xp6(1),m.Q6J("ngIf",!d.products||d.isLoading))},dependencies:[be.sg,be.O5,J.rH,KI,XT.R,be.gd],styles:['#filterBar[_ngcontent-%COMP%]{position:fixed;left:0;background-color:#feffff!important}.btn-check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#007bff;border-radius:0;border-bottom:3px solid #007bff!important}a.list-group-item[_ngcontent-%COMP%]:hover{background-color:#fafafa!important;transform:scale(1.005);cursor:pointer;border-radius:10px}.detailAnchor[_ngcontent-%COMP%]{top:0;height:100%;width:100%;left:0;z-index:150;position:absolute}#productDetail[_ngcontent-%COMP%]{position:relative}#addToCartButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:200;position:relative}[_ngcontent-%COMP%]:root{--form-control-color: rebeccapurple;--form-control-disabled: #959495}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0}.form-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1em auto;gap:.8em;border:none}input[type=checkbox][_ngcontent-%COMP%]{appearance:none;background-color:var(--form-background);margin:5px auto;font:inherit;color:currentColor;width:1.15em;height:1.15em;border-radius:.15em;border:.15em currentColor solid;display:grid;place-content:center}label[_ngcontent-%COMP%]:hover{cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#007bff}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";width:.65em;height:.65em;clip-path:polygon(14% 44%,0 65%,50% 100%,100% 16%,80% 0%,43% 62%);transform:scale(0);transform-origin:bottom left;transition:.12s transform ease-in-out;box-shadow:inset 1em 1em var(--form-control-color);background-color:#fff}input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:scale(1)}input[type=checkbox][_ngcontent-%COMP%]:focus{outline-offset:max(2px,.15em)}@media screen and (max-width: 1200px){#filterBar[_ngcontent-%COMP%]{width:40vw;position:absolute;z-index:500;display:block}#sideBar[_ngcontent-%COMP%]{transition:all .33s;display:block;width:100vw;height:100vh;position:fixed;left:-100%;padding-top:10px;top:0;display:flex;z-index:500}#overlay[_ngcontent-%COMP%]{width:100%;background-color:#000000e6}.resposiveSideBar[_ngcontent-%COMP%]{left:0!important}#productDetail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}}@media screen and (max-width: 600px){#filterBar[_ngcontent-%COMP%]{width:60vw}}#btn[_ngcontent-%COMP%]{z-index:1000!important;background-color:transparent;width:10%;display:block}  .custom-slider .ngx-slider .ngx-slider-selection{background:#007bff!important}  .custom-slider .ngx-slider .ngx-slider-pointer{background:#ffffff!important;width:10px!important;padding:5px!important;border:1px solid rgb(169,169,169);top:-3px!important;position:absolute!important;height:10px!important}  .custom-slider .ngx-slider .ngx-slider-active{background:#ffffff!important}  .custom-slider .ngx-slider .ngx-slider-active:after{display:none}#pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}']})}return i})()},{path:"cart",component:Xs.P,loadChildren:()=>U.e(650).then(U.bind(U,5650)).then(i=>i.CartModule)},{path:"login",component:pr},{path:"signup",component:ns},{path:"order",component:ve,canActivate:[_e.a]},{path:"product/:id",loadChildren:()=>U.e(716).then(U.bind(U,6716)).then(i=>i.ProductsModule)},{path:"user-profile",loadChildren:()=>U.e(637).then(U.bind(U,5637)).then(i=>i.CustomerModule),canActivate:[_e.a]},{path:"**",component:ki,pathMatch:"full"}];let mD=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({imports:[J.Bz.forRoot(e0,{initialNavigation:"enabledBlocking"}),J.Bz]})}return i})();function hb(i,e){1&i&&(m.TgZ(0,"span"),m._uU(1,"s"),m.qZA())}function xm(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"div")(1,"div")(2,"button",32),m.NdJ("click",function(){m.CHM(t);const d=m.oxw().index,g=m.oxw(2);return m.KtG(g.productCart(d,"remove"))}),m._uU(3," - "),m.qZA(),m.TgZ(4,"span",33),m._uU(5),m.qZA(),m.TgZ(6,"button",34),m.NdJ("click",function(){m.CHM(t);const d=m.oxw().index,g=m.oxw(2);return m.KtG(g.productCart(d,"add"))}),m._uU(7," + "),m.qZA()()()}if(2&i){const t=m.oxw().$implicit;m.xp6(5),m.Oqu(t.amount||1),m.xp6(1),m.Q6J("disabled",t.amount==t.stock)}}function fb(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1,"Max Stock"),m.qZA())}function _D(i,e){1&i&&(m.TgZ(0,"span",35),m._uU(1,"Out of Stock"),m.qZA())}function yS(i,e){if(1&i&&(m.TgZ(0,"div",21)(1,"div",22)(2,"div",23),m._UZ(3,"img",24),m.qZA(),m.TgZ(4,"div",25)(5,"div",26),m._uU(6),m.qZA(),m.TgZ(7,"div",27)(8,"div",28),m.YNc(9,xm,8,2,"div",17)(10,fb,2,0,"span",29)(11,_D,2,0,"span",29),m.qZA(),m.TgZ(12,"div",30)(13,"div",31),m._uU(14),m.qZA(),m.TgZ(15,"div",31),m._uU(16),m.qZA()()()()()()),2&i){const t=e.$implicit;m.xp6(3),m.s9C("src",t.images[0],m.LSH),m.xp6(3),m.Oqu(t.title),m.xp6(3),m.Q6J("ngIf",0!=t.stock),m.xp6(1),m.Q6J("ngIf",t.amount==t.stock),m.xp6(1),m.Q6J("ngIf",0==t.stock),m.xp6(3),m.hij("$",t.price,""),m.xp6(2),m.hij(" Total: $",t.amount*t.price," ")}}function t0(i,e){1&i&&(m.TgZ(0,"span"),m._uU(1,"s"),m.qZA())}function n0(i,e){if(1&i&&(m.TgZ(0,"span"),m._uU(1),m.YNc(2,t0,2,0,"span",17),m._uU(3," in cart "),m.qZA()),2&i){const t=m.oxw(2);m.xp6(1),m.hij(" ",t.items-3," more item"),m.xp6(1),m.Q6J("ngIf",t.items-3>1)}}function yD(i,e){if(1&i&&(m.TgZ(0,"div",14)(1,"div",15)(2,"p",16),m._uU(3),m.YNc(4,hb,2,0,"span",17),m.qZA(),m.TgZ(5,"p",16),m._uU(6),m.qZA()(),m.YNc(7,yS,17,7,"div",18),m.TgZ(8,"div",19),m.YNc(9,n0,4,2,"span",17),m.TgZ(10,"a",20),m._uU(11," Go to cart "),m.qZA()()()),2&i){const t=m.oxw();m.xp6(3),m.hij(" ",t.items," item"),m.xp6(1),m.Q6J("ngIf",t.items>1),m.xp6(2),m.hij("$",t.totalAmount,""),m.xp6(1),m.Q6J("ngForOf",t.headerCart),m.xp6(2),m.Q6J("ngIf",t.items>3)}}function pb(i,e){1&i&&(m.TgZ(0,"div",36)(1,"p",37),m._uU(2,"Cart is Empty."),m.qZA()())}function gb(i,e){1&i&&(m.TgZ(0,"a",38),m._UZ(1,"img",39),m.qZA())}function vD(i,e){if(1&i){const t=m.EpF();m.TgZ(0,"button",40),m.NdJ("click",function(){m.CHM(t);const d=m.oxw();return m.KtG(d.logout())}),m._uU(1," Logout "),m.qZA()}}function mb(i,e){1&i&&(m.TgZ(0,"button",41),m._uU(1," Login "),m.qZA())}let ED=(()=>{class i{constructor(t,a){this.cart=t,this.auth=a,this.items=this.cart.cartdata.length,this.isAuth=!1,this.headerCart=[],this.cartData=localStorage.getItem("cart"),this.objCart=JSON.parse(this.cartData),this.totalAmount=0}ngOnInit(){this.auth.user.subscribe(t=>{this.isAuth=!!t}),this.cart.cart$.subscribe(t=>{this.items=t.length,this.dataSource=t,this.totalAmount=0,t.map(a=>{this.totalAmount+=a.price*a.amount}),this.headerCart=t.length>3?t.slice(0,3):t,console.log(this.totalAmount)})}logout(){this.auth.logout()}productCart(t,a){this.cart.data(this.dataSource[t],a),this.ngOnInit()}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(Kr.b),m.Y36(fe.e))};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-header"]],decls:16,vars:6,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container"],["routerLink","/",1,"navbar-brand","fw-bold"],["src","\\assets\\logo.svg","alt","Anywhere-logo","width","40px","height","40px"],[1,"ms-0"],["id","btns"],["routerLink","/cart",1,"btn","text-decoration-none","bg-white","rounded-pill"],["src","../../assets/shopping-cart.png","alt","shopping-cart","width","20px","height","20px"],[1,"popover","bg-transparent"],["class","bg-white innerDiv py-2",4,"ngIf"],["class","bg-white p-3 border mt-1 rounded text-center",4,"ngIf"],["class","btn bg-white ms-1 rounded-pill","routerLink","/user-profile",4,"ngIf"],["class","btn bg-white ms-1 rounded-pill",3,"click",4,"ngIf"],["class","btn ms-1 bg-white rounded-pill","routerLink","/login",4,"ngIf"],[1,"bg-white","innerDiv","py-2"],[1,"d-flex","justify-content-between","header","px-3"],[1,"h6","fw-semibold"],[4,"ngIf"],["class","my-1 px-3",4,"ngFor","ngForOf"],[1,"p-3","col-12","fw-semibold","bg-white","justify-content-between","d-flex"],["routerLink","/cart",1,"btn","btn-primary","btn-sm"],[1,"my-1","px-3"],[1,"row","border-bottom","py-3"],[1,"col-4"],["alt","",1,"img-fluid",3,"src"],[1,"col-8"],[1,"col-12","fw-semibold"],[1,"col-12"],["id","addToCartButton",1,"my-2"],["class","text-black",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mx-3"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"text-black"],[1,"bg-white","p-3","border","mt-1","rounded","text-center"],[1,"h4"],["routerLink","/user-profile",1,"btn","bg-white","ms-1","rounded-pill"],["src","../../assets/user.png","alt","user","width","20px","height","20px"],[1,"btn","bg-white","ms-1","rounded-pill",3,"click"],["routerLink","/login",1,"btn","ms-1","bg-white","rounded-pill"]],template:function(a,d){1&a&&(m.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),m._UZ(3,"img",3),m._uU(4," Anywhere App "),m.qZA(),m.TgZ(5,"div",4)(6,"span",5)(7,"button",6),m._UZ(8,"img",7),m._uU(9),m.qZA(),m.TgZ(10,"div",8),m.YNc(11,yD,12,5,"div",9)(12,pb,3,0,"div",10),m.qZA()(),m.YNc(13,gb,2,0,"a",11)(14,vD,2,0,"button",12)(15,mb,2,0,"button",13),m.qZA()()()),2&a&&(m.xp6(9),m.hij(" ",d.items," "),m.xp6(2),m.Q6J("ngIf",d.headerCart.length>0),m.xp6(1),m.Q6J("ngIf",0===d.headerCart.length),m.xp6(1),m.Q6J("ngIf",d.isAuth),m.xp6(1),m.Q6J("ngIf",d.isAuth),m.xp6(1),m.Q6J("ngIf",!d.isAuth))},dependencies:[be.sg,be.O5,J.rH],styles:[".navbar[_ngcontent-%COMP%]{z-index:500!important}.popover[_ngcontent-%COMP%]{z-index:5;position:relative;display:none;width:450px;min-width:350px;border:none;padding-top:10px;top:80%}.popover[_ngcontent-%COMP%]   .innerDiv[_ngcontent-%COMP%]{position:relative;top:100%;height:100%;border:1px solid rgba(0,0,0,.1);border-radius:3px;width:100%}.popover[_ngcontent-%COMP%]   .innerDiv[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:.5px solid rgb(161,161,161)!important}#btns[_ngcontent-%COMP%]:hover   .popover[_ngcontent-%COMP%], .popover[_ngcontent-%COMP%]:hover   .popover[_ngcontent-%COMP%]{position:absolute;display:block;right:10%}"]})}return i})(),wD=(()=>{class i{constructor(t){this.auth=t,this.title="eCom"}ngOnInit(){this.auth.autoLogin()}static#e=this.\u0275fac=function(a){return new(a||i)(m.Y36(fe.e))};static#t=this.\u0275cmp=m.Xpm({type:i,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"fixed-top"],[1,"container-fluid","mt-4","pt-5"],[1,"row"]],template:function(a,d){1&a&&(m.TgZ(0,"div",0),m._UZ(1,"app-header"),m.qZA(),m.TgZ(2,"div",1)(3,"div",2),m._UZ(4,"router-outlet"),m.qZA()())},dependencies:[J.lC,ED]})}return i})();var Jp=U(8726),r0=U(6304),Qf=U(2793),_b=U(4097);U(6710),U(7592);class yb{constructor(){return(0,Qf.vb)("auth")}}var Db=U(2194),Ab=U(8162);class c0{constructor(e){return e}}const d0="firestore",h0=new m.OlP("angularfire2.firestore-instances");function ey(i){return(e,t)=>{const a=e.runOutsideAngular(()=>i(t));return new c0(a)}}const $D={provide:class HD{constructor(){return(0,Qf.vb)(d0)}},deps:[[new m.FiY,h0]]},zD={provide:c0,useFactory:function Ll(i,e){const t=(0,Qf.JM)(d0,i,e);return t&&new c0(t)},deps:[[new m.FiY,h0],Jp.Ot]};let qS=(()=>{class i{constructor(){(0,_b.KN)("angularfire",Qf.q4.full,"fst")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[zD,$D]}),i})();function WS(i,...e){return{ngModule:qS,providers:[{provide:h0,useFactory:ey(i),multi:!0,deps:[m.R0b,m.zs3,Qf.HU,Jp.z6,[new m.FiY,yb],[new m.FiY,Db.nm],...e]}]}}const Mb=(0,Qf.u3)(Ab.ad,!0);var aA=U(4089),uA=U(1954),lA=U(7394);const Pv={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:a}=Pv;a&&(e=a.requestAnimationFrame,t=a.cancelAnimationFrame);const d=e(g=>{t=void 0,i(g)});return new lA.w0(()=>t?.(d))},requestAnimationFrame(...i){const{delegate:e}=Pv;return(e?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=Pv;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var cA=U(2631);new class dA extends cA.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:a}=this;let d;e=e||a.shift();do{if(d=e.execute(e.state,e.delay))break}while((e=a[0])&&e.id===t&&a.shift());if(this._active=!1,d){for(;(e=a[0])&&e.id===t&&a.shift();)e.unsubscribe();throw d}}}(class Nb extends uA.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,a=0){return null!==a&&a>0?super.requestAsyncId(e,t,a):(e.actions.push(this),e._scheduled||(e._scheduled=Pv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,a=0){var d;if(null!=a?a>0:this.delay>0)return super.recycleAsyncId(e,t,a);const{actions:g}=e;null!=t&&(null===(d=g[g.length-1])||void 0===d?void 0:d.id)!==t&&(Pv.cancelAnimationFrame(t),e._scheduled=void 0)}});let g0,pA=1;const vw={};function gA(i){return i in vw&&(delete vw[i],!0)}const mA={setImmediate(i){const e=pA++;return vw[e]=!0,g0||(g0=Promise.resolve()),g0.then(()=>gA(e)&&i()),e},clearImmediate(i){gA(i)}},{setImmediate:ww,clearImmediate:_A}=mA,Iw={setImmediate(...i){const{delegate:e}=Iw;return(e?.setImmediate||ww)(...i)},clearImmediate(i){const{delegate:e}=Iw;return(e?.clearImmediate||_A)(i)},delegate:void 0};new class vA extends cA.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:a}=this;let d;e=e||a.shift();do{if(d=e.execute(e.state,e.delay))break}while((e=a[0])&&e.id===t&&a.shift());if(this._active=!1,d){for(;(e=a[0])&&e.id===t&&a.shift();)e.unsubscribe();throw d}}}(class yA extends uA.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,a=0){return null!==a&&a>0?super.requestAsyncId(e,t,a):(e.actions.push(this),e._scheduled||(e._scheduled=Iw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,a=0){var d;if(null!=a?a>0:this.delay>0)return super.recycleAsyncId(e,t,a);const{actions:g}=e;null!=t&&(null===(d=g[g.length-1])||void 0===d?void 0:d.id)!==t&&(Iw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let Lb=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({})}return i})(),Vb=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({})}return i})(),m0=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i});static#n=this.\u0275inj=m.cJS({imports:[Lb,Vb,Lb,Vb]})}return i})(),Xp=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=m.oAB({type:i,bootstrap:[wD]});static#n=this.\u0275inj=m.cJS({imports:[I.b2,mD,hi,te.JF,r0.hO,m0,JT,ts,WS(()=>Mb()),r0.hO.initializeApp(aA.N.firebaseConfig),(0,Jp.hX)(()=>(0,Jp.ZF)(aA.N.firebaseConfig))]})}return i})();I.q6().bootstrapModule(Xp).catch(i=>console.error(i))},2194:(Wt,ze,U)=>{U.d(ze,{nm:()=>is});var I=U(2793),m=(U(9212),U(8726),U(4097),U(5861)),fe=U(4303),be=U(4537),me=U(9058),Ve=U(7879);const le=new Map,pe={activated:!1,tokenObservers:[]},Be={initialized:!1,enabled:!1};function Ze(Pe){return le.get(Pe)||Object.assign({},pe)}function lt(){return Be}const at="https://content-firebaseappcheck.googleapis.com/v1",Oe="exchangeDebugToken",bt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xe{constructor(we,Ge,xt,ct,Bn){if(this.operation=we,this.retryPolicy=Ge,this.getWaitDuration=xt,this.lowerBound=ct,this.upperBound=Bn,this.pending=null,this.nextErrorWaitInterval=ct,ct>Bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(we){var Ge=this;return(0,m.Z)(function*(){Ge.stop();try{Ge.pending=new me.BH,yield function ut(Pe){return new Promise(we=>{setTimeout(we,Pe)})}(Ge.getNextRun(we)),Ge.pending.resolve(),yield Ge.pending.promise,Ge.pending=new me.BH,yield Ge.operation(),Ge.pending.resolve(),yield Ge.pending.promise,Ge.process(!0).catch(()=>{})}catch(xt){Ge.retryPolicy(xt)?Ge.process(!1).catch(()=>{}):Ge.stop()}})()}getNextRun(we){if(we)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ge}}}const vt=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ht(Pe){if(!Ze(Pe).activated)throw vt.create("use-before-activation",{appName:Pe.name})}function In(Pe,we){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,m.Z)(function*({url:Pe,body:we},Ge){const xt={"Content-Type":"application/json"},ct=Ge.getImmediate({optional:!0});if(ct){const Di=yield ct.getHeartbeatsHeader();Di&&(xt["X-Firebase-Client"]=Di)}const Bn={method:"POST",body:JSON.stringify(we),headers:xt};let xr,lr;try{xr=yield fetch(Pe,Bn)}catch(Di){throw vt.create("fetch-network-error",{originalErrorMessage:Di?.message})}if(200!==xr.status)throw vt.create("fetch-status-error",{httpStatus:xr.status});try{lr=yield xr.json()}catch(Di){throw vt.create("fetch-parse-error",{originalErrorMessage:Di?.message})}const Rr=lr.ttl.match(/^([\d.]+)(s)$/);if(!Rr||!Rr[2]||isNaN(Number(Rr[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${lr.ttl}`});const Eo=1e3*Number(Rr[1]),ko=Date.now();return{token:lr.token,expireTimeMillis:ko+Eo,issuedAtTimeMillis:ko}})).apply(this,arguments)}function Jn(Pe,we){const{projectId:Ge,appId:xt,apiKey:ct}=Pe.options;return{url:`${at}/projects/${Ge}/apps/${xt}:${Oe}?key=${ct}`,body:{debug_token:we}}}const Nr="firebase-app-check-database",qe=1,Ke="firebase-app-check-store";let We=null;function rr(){return(rr=(0,m.Z)(function*(Pe,we){const xt=(yield function Et(){return We||(We=new Promise((Pe,we)=>{try{const Ge=indexedDB.open(Nr,qe);Ge.onsuccess=xt=>{Pe(xt.target.result)},Ge.onerror=xt=>{var ct;we(vt.create("storage-open",{originalErrorMessage:null===(ct=xt.target.error)||void 0===ct?void 0:ct.message}))},Ge.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(Ke,{keyPath:"compositeKey"})}}catch(Ge){we(vt.create("storage-open",{originalErrorMessage:Ge?.message}))}}),We)}()).transaction(Ke,"readwrite"),Bn=xt.objectStore(Ke).put({compositeKey:Pe,value:we});return new Promise((xr,lr)=>{Bn.onsuccess=Rr=>{xr()},xt.onerror=Rr=>{var Eo;lr(vt.create("storage-set",{originalErrorMessage:null===(Eo=Rr.target.error)||void 0===Eo?void 0:Eo.message}))}})})).apply(this,arguments)}const cr=new Ve.Yd("@firebase/app-check");function ci(Pe,we){return(0,me.hl)()?function Yt(Pe,we){return function vn(Pe,we){return rr.apply(this,arguments)}(function hr(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),we)}(Pe,we).catch(Ge=>{cr.warn(`Failed to write token to IndexedDB. Error: ${Ge}`)}):Promise.resolve()}function Sr(){return lt().enabled}function Wn(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(){const Pe=lt();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cn={error:"UNKNOWN_ERROR"};function Fn(Pe){return me.US.encodeString(JSON.stringify(Pe),!1)}function kr(Pe){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(Pe,we=!1){const Ge=Pe.app;ht(Ge);const xt=Ze(Ge);let Bn,ct=xt.token;if(ct&&!Ir(ct)&&(xt.token=void 0,ct=void 0),!ct){const Rr=yield xt.cachedTokenPromise;Rr&&(Ir(Rr)?ct=Rr:yield ci(Ge,void 0))}if(!we&&ct&&Ir(ct))return{token:ct.token};let lr,xr=!1;if(Sr()){xt.exchangeTokenPromise||(xt.exchangeTokenPromise=In(Jn(Ge,yield Wn()),Pe.heartbeatServiceProvider).finally(()=>{xt.exchangeTokenPromise=void 0}),xr=!0);const Rr=yield xt.exchangeTokenPromise;return yield ci(Ge,Rr),xt.token=Rr,{token:Rr.token}}try{xt.exchangeTokenPromise||(xt.exchangeTokenPromise=xt.provider.getToken().finally(()=>{xt.exchangeTokenPromise=void 0}),xr=!0),ct=yield Ze(Ge).exchangeTokenPromise}catch(Rr){"appCheck/throttled"===Rr.code?cr.warn(Rr.message):cr.error(Rr),Bn=Rr}return ct?Bn?lr=Ir(ct)?{token:ct.token,internalError:Bn}:Pi(Bn):(lr={token:ct.token},xt.token=ct,yield ci(Ge,ct)):lr=Pi(Bn),xr&&function Un(Pe,we){const Ge=Ze(Pe).tokenObservers;for(const xt of Ge)try{"EXTERNAL"===xt.type&&null!=we.error?xt.error(we.error):xt.next(we)}catch{}}(Ge,lr),lr})).apply(this,arguments)}function Jt(Pe){return On.apply(this,arguments)}function On(){return(On=(0,m.Z)(function*(Pe){const we=Pe.app;ht(we);const{provider:Ge}=Ze(we);if(Sr()){const xt=yield Wn(),{token:ct}=yield In(Jn(we,xt),Pe.heartbeatServiceProvider);return{token:ct}}{const{token:xt}=yield Ge.getToken();return{token:xt}}})).apply(this,arguments)}function Ri(Pe,we){const Ge=Ze(Pe),xt=Ge.tokenObservers.filter(ct=>ct.next!==we);0===xt.length&&Ge.tokenRefresher&&Ge.tokenRefresher.isRunning()&&Ge.tokenRefresher.stop(),Ge.tokenObservers=xt}function ir(Pe){const{app:we}=Pe,Ge=Ze(we);let xt=Ge.tokenRefresher;xt||(xt=function Kt(Pe){const{app:we}=Pe;return new Xe((0,m.Z)(function*(){let xt;if(xt=Ze(we).token?yield kr(Pe,!0):yield kr(Pe),xt.error)throw xt.error;if(xt.internalError)throw xt.internalError}),()=>!0,()=>{const Ge=Ze(we);if(Ge.token){let xt=Ge.token.issuedAtTimeMillis+.5*(Ge.token.expireTimeMillis-Ge.token.issuedAtTimeMillis)+3e5;return xt=Math.min(xt,Ge.token.expireTimeMillis-3e5),Math.max(0,xt-Date.now())}return 0},bt.RETRIAL_MIN_WAIT,bt.RETRIAL_MAX_WAIT)}(Pe),Ge.tokenRefresher=xt),!xt.isRunning()&&Ge.isTokenAutoRefreshEnabled&&xt.start()}function Ir(Pe){return Pe.expireTimeMillis-Date.now()>0}function Pi(Pe){return{token:Fn(cn),error:Pe}}class Wi{constructor(we,Ge){this.app=we,this.heartbeatServiceProvider=Ge}_delete(){const{tokenObservers:we}=Ze(this.app);for(const Ge of we)Ri(this.app,Ge.next);return Promise.resolve()}}const Dn="app-check-internal";!function fr(){(0,fe.Xd)(new be.wA("app-check",Pe=>function ar(Pe,we){return new Wi(Pe,we)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,we,Ge)=>{Pe.getProvider(Dn).initialize()})),(0,fe.Xd)(new be.wA(Dn,Pe=>function qn(Pe){return{getToken:we=>kr(Pe,we),getLimitedUseToken:()=>Jt(Pe),addTokenListener:we=>function wr(Pe,we,Ge,xt){const{app:ct}=Pe,Bn=Ze(ct);if(Bn.tokenObservers=[...Bn.tokenObservers,{next:Ge,error:xt,type:we}],Bn.token&&Ir(Bn.token)){const lr=Bn.token;Promise.resolve().then(()=>{Ge({token:lr.token}),ir(Pe)}).catch(()=>{})}Bn.cachedTokenPromise.then(()=>ir(Pe))}(Pe,"INTERNAL",we),removeTokenListener:we=>Ri(Pe.app,we)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fe.KN)("@firebase/app-check","0.8.0")}();class is{constructor(){return(0,I.vb)("app-check")}}typeof window<"u"&&window},8726:(Wt,ze,U)=>{U.d(ze,{Ot:()=>_e,ZF:()=>Tt,hX:()=>Ze,z6:()=>m});var I=U(4097),te=U(9212),J=U(2793);class _e{constructor(Xe){return Xe}}class m{constructor(){return(0,I.C6)()}}const me=new te.OlP("angularfire2._apps"),Ve={provide:_e,useFactory:function be(tt){return tt&&1===tt.length?tt[0]:new _e((0,I.Mq)())},deps:[[new te.FiY,me]]},le={provide:m,deps:[[new te.FiY,me]]};function pe(tt){return(Xe,ut)=>{const St=Xe.runOutsideAngular(()=>tt(ut));return new _e(St)}}let Be=(()=>{class tt{constructor(ut){(0,I.KN)("angularfire",J.q4.full,"core"),(0,I.KN)("angularfire",J.q4.full,"app"),(0,I.KN)("angular",te.q4F.full,ut.toString())}}return tt.\u0275fac=function(ut){return new(ut||tt)(te.LFG(te.Lbi))},tt.\u0275mod=te.oAB({type:tt}),tt.\u0275inj=te.cJS({providers:[Ve,le]}),tt})();function Ze(tt,...Xe){return{ngModule:Be,providers:[{provide:me,useFactory:pe(tt),multi:!0,deps:[te.R0b,te.zs3,J.HU,...Xe]}]}}const Tt=(0,J.u3)(I.ZF,!0)},7188:(Wt,ze,U)=>{U.d(ze,{ST:()=>Tr});var I=U(9212),te=U(6321),J=U(5592),_e=U(2459),m=U(2096),fe=U(2793),be=U(7921),me=U(9360),Ve=U(8251);function le(){return(0,me.e)((yt,ie)=>{let ge,Me=!1;yt.subscribe((0,Ve.x)(ie,Bt=>{const Dn=ge;ge=Bt,Me&&ie.next([Dn,Bt]),Me=!0}))})}var pe=U(7398),Be=U(6699),Ze=U(3997),Je=U(2181),lt=U(6304),at=U(6814),ke=(U(8661),U(3399)),Oe=U(8162),bt=U(9058),tt=U(4537);function St(yt,ie){if(void 0===ie)return{merge:!1};if(void 0!==ie.mergeFields&&void 0!==ie.merge)throw new Oe.WA("invalid-argument",`Invalid options passed to function ${yt}(): You cannot specify both "merge" and "mergeFields".`);return ie}function vt(){if(typeof Uint8Array>"u")throw new Oe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ye(){if(!(0,Oe.Me)())throw new Oe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ht{constructor(ie){this._delegate=ie}static fromBase64String(ie){return ye(),new ht(Oe.Jj.fromBase64String(ie))}static fromUint8Array(ie){return vt(),new ht(Oe.Jj.fromUint8Array(ie))}toBase64(){return ye(),this._delegate.toBase64()}toUint8Array(){return vt(),this._delegate.toUint8Array()}isEqual(ie){return this._delegate.isEqual(ie._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pt(yt){return function an(yt,ie){if("object"!=typeof yt||null===yt)return!1;const ge=yt;for(const Me of ie)if(Me in ge&&"function"==typeof ge[Me])return!0;return!1}(yt,["next","error","complete"])}class In{enableIndexedDbPersistence(ie,ge){return(0,Oe.ST)(ie._delegate,{forceOwnership:ge})}enableMultiTabIndexedDbPersistence(ie){return(0,Oe.fH)(ie._delegate)}clearIndexedDbPersistence(ie){return(0,Oe.Fc)(ie._delegate)}}class Vn{constructor(ie,ge,Me){this._delegate=ge,this._persistenceProvider=Me,this.INTERNAL={delete:()=>this.terminate()},ie instanceof Oe.l7||(this._appCompat=ie)}get _databaseId(){return this._delegate._databaseId}settings(ie){const ge=this._delegate._getSettings();!ie.merge&&ge.host!==ie.host&&(0,Oe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ie.merge&&delete(ie=Object.assign(Object.assign({},ge),ie)).merge,this._delegate._setSettings(ie)}useEmulator(ie,ge,Me={}){(0,Oe.at)(this._delegate,ie,ge,Me)}enableNetwork(){return(0,Oe.Ix)(this._delegate)}disableNetwork(){return(0,Oe.TF)(this._delegate)}enablePersistence(ie){let ge=!1,Me=!1;return ie&&(ge=!!ie.synchronizeTabs,Me=!!ie.experimentalForceOwningTab,(0,Oe.Wi)("synchronizeTabs",ge,"experimentalForceOwningTab",Me)),ge?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Me)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Oe.Mx)(this._delegate)}onSnapshotsInSync(ie){return(0,Oe.sc)(this._delegate,ie)}get app(){if(!this._appCompat)throw new Oe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ie){try{return new rr(this,(0,Oe.hJ)(this._delegate,ie))}catch(ge){throw Ye(ge,"collection()","Firestore.collection()")}}doc(ie){try{return new Ke(this,(0,Oe.JU)(this._delegate,ie))}catch(ge){throw Ye(ge,"doc()","Firestore.doc()")}}collectionGroup(ie){try{return new Tn(this,(0,Oe.B$)(this._delegate,ie))}catch(ge){throw Ye(ge,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ie){return(0,Oe.i3)(this._delegate,ge=>ie(new Jn(this,ge)))}batch(){return(0,Oe.qY)(this._delegate),new Nr(new Oe.PU(this._delegate,ie=>(0,Oe.GL)(this._delegate,ie)))}loadBundle(ie){return(0,Oe.Pb)(this._delegate,ie)}namedQuery(ie){return(0,Oe.L$)(this._delegate,ie).then(ge=>ge?new Tn(this,ge):null)}}class bn extends Oe.u7{constructor(ie){super(),this.firestore=ie}convertBytes(ie){return new ht(new Oe.Jj(ie))}convertReference(ie){const ge=this.convertDocumentKey(ie,this.firestore._databaseId);return Ke.forKey(ge,this.firestore,null)}}class Jn{constructor(ie,ge){this._firestore=ie,this._delegate=ge,this._userDataWriter=new bn(ie)}get(ie){const ge=Cn(ie);return this._delegate.get(ge).then(Me=>new Mt(this._firestore,new Oe.xU(this._firestore._delegate,this._userDataWriter,Me._key,Me._document,Me.metadata,ge.converter)))}set(ie,ge,Me){const Bt=Cn(ie);return Me?(St("Transaction.set",Me),this._delegate.set(Bt,ge,Me)):this._delegate.set(Bt,ge),this}update(ie,ge,Me,...Bt){const Dn=Cn(ie);return 2===arguments.length?this._delegate.update(Dn,ge):this._delegate.update(Dn,ge,Me,...Bt),this}delete(ie){const ge=Cn(ie);return this._delegate.delete(ge),this}}class Nr{constructor(ie){this._delegate=ie}set(ie,ge,Me){const Bt=Cn(ie);return Me?(St("WriteBatch.set",Me),this._delegate.set(Bt,ge,Me)):this._delegate.set(Bt,ge),this}update(ie,ge,Me,...Bt){const Dn=Cn(ie);return 2===arguments.length?this._delegate.update(Dn,ge):this._delegate.update(Dn,ge,Me,...Bt),this}delete(ie){const ge=Cn(ie);return this._delegate.delete(ge),this}commit(){return this._delegate.commit()}}class qe{constructor(ie,ge,Me){this._firestore=ie,this._userDataWriter=ge,this._delegate=Me}fromFirestore(ie,ge){const Me=new Oe.$q(this._firestore._delegate,this._userDataWriter,ie._key,ie._document,ie.metadata,null);return this._delegate.fromFirestore(new Yt(this._firestore,Me),ge??{})}toFirestore(ie,ge){return ge?this._delegate.toFirestore(ie,ge):this._delegate.toFirestore(ie)}static getInstance(ie,ge){const Me=qe.INSTANCES;let Bt=Me.get(ie);Bt||(Bt=new WeakMap,Me.set(ie,Bt));let Dn=Bt.get(ge);return Dn||(Dn=new qe(ie,new bn(ie),ge),Bt.set(ge,Dn)),Dn}}qe.INSTANCES=new WeakMap;class Ke{constructor(ie,ge){this.firestore=ie,this._delegate=ge,this._userDataWriter=new bn(ie)}static forPath(ie,ge,Me){if(ie.length%2!=0)throw new Oe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ie.canonicalString()} has ${ie.length}`);return new Ke(ge,new Oe.my(ge._delegate,Me,new Oe.Ky(ie)))}static forKey(ie,ge,Me){return new Ke(ge,new Oe.my(ge._delegate,Me,ie))}get id(){return this._delegate.id}get parent(){return new rr(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ie){try{return new rr(this.firestore,(0,Oe.hJ)(this._delegate,ie))}catch(ge){throw Ye(ge,"collection()","DocumentReference.collection()")}}isEqual(ie){return(ie=(0,bt.m9)(ie))instanceof Oe.my&&(0,Oe.Eo)(this._delegate,ie)}set(ie,ge){ge=St("DocumentReference.set",ge);try{return ge?(0,Oe.pl)(this._delegate,ie,ge):(0,Oe.pl)(this._delegate,ie)}catch(Me){throw Ye(Me,"setDoc()","DocumentReference.set()")}}update(ie,ge,...Me){try{return 1===arguments.length?(0,Oe.r7)(this._delegate,ie):(0,Oe.r7)(this._delegate,ie,ge,...Me)}catch(Bt){throw Ye(Bt,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Oe.oe)(this._delegate)}onSnapshot(...ie){const ge=We(ie),Me=Et(ie,Bt=>new Mt(this.firestore,new Oe.xU(this.firestore._delegate,this._userDataWriter,Bt._key,Bt._document,Bt.metadata,this._delegate.converter)));return(0,Oe.cf)(this._delegate,ge,Me)}get(ie){let ge;return ge="cache"===ie?.source?(0,Oe.kl)(this._delegate):"server"===ie?.source?(0,Oe.Xk)(this._delegate):(0,Oe.QT)(this._delegate),ge.then(Me=>new Mt(this.firestore,new Oe.xU(this.firestore._delegate,this._userDataWriter,Me._key,Me._document,Me.metadata,this._delegate.converter)))}withConverter(ie){return new Ke(this.firestore,this._delegate.withConverter(ie?qe.getInstance(this.firestore,ie):null))}}function Ye(yt,ie,ge){return yt.message=yt.message.replace(ie,ge),yt}function We(yt){for(const ie of yt)if("object"==typeof ie&&!Pt(ie))return ie;return{}}function Et(yt,ie){var ge,Me;let Bt;return Bt=Pt(yt[0])?yt[0]:Pt(yt[1])?yt[1]:"function"==typeof yt[0]?{next:yt[0],error:yt[1],complete:yt[2]}:{next:yt[1],error:yt[2],complete:yt[3]},{next:Dn=>{Bt.next&&Bt.next(ie(Dn))},error:null===(ge=Bt.error)||void 0===ge?void 0:ge.bind(Bt),complete:null===(Me=Bt.complete)||void 0===Me?void 0:Me.bind(Bt)}}class Mt{constructor(ie,ge){this._firestore=ie,this._delegate=ge}get ref(){return new Ke(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ie){return this._delegate.data(ie)}get(ie,ge){return this._delegate.get(ie,ge)}isEqual(ie){return(0,Oe.qK)(this._delegate,ie._delegate)}}class Yt extends Mt{data(ie){const ge=this._delegate.data(ie);return(0,Oe.K9)(void 0!==ge,"Document in a QueryDocumentSnapshot should exist"),ge}}class Tn{constructor(ie,ge){this.firestore=ie,this._delegate=ge,this._userDataWriter=new bn(ie)}where(ie,ge,Me){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.ar)(ie,ge,Me)))}catch(Bt){throw Ye(Bt,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ie,ge){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.Xo)(ie,ge)))}catch(Me){throw Ye(Me,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ie){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.b9)(ie)))}catch(ge){throw Ye(ge,"limit()","Query.limit()")}}limitToLast(ie){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.vh)(ie)))}catch(ge){throw Ye(ge,"limitToLast()","Query.limitToLast()")}}startAt(...ie){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.e0)(...ie)))}catch(ge){throw Ye(ge,"startAt()","Query.startAt()")}}startAfter(...ie){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.TQ)(...ie)))}catch(ge){throw Ye(ge,"startAfter()","Query.startAfter()")}}endBefore(...ie){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.Lx)(...ie)))}catch(ge){throw Ye(ge,"endBefore()","Query.endBefore()")}}endAt(...ie){try{return new Tn(this.firestore,(0,Oe.IO)(this._delegate,(0,Oe.Wu)(...ie)))}catch(ge){throw Ye(ge,"endAt()","Query.endAt()")}}isEqual(ie){return(0,Oe.iE)(this._delegate,ie._delegate)}get(ie){let ge;return ge="cache"===ie?.source?(0,Oe.UQ)(this._delegate):"server"===ie?.source?(0,Oe.zN)(this._delegate):(0,Oe.PL)(this._delegate),ge.then(Me=>new vn(this.firestore,new Oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Me._snapshot)))}onSnapshot(...ie){const ge=We(ie),Me=Et(ie,Bt=>new vn(this.firestore,new Oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Bt._snapshot)));return(0,Oe.cf)(this._delegate,ge,Me)}withConverter(ie){return new Tn(this.firestore,this._delegate.withConverter(ie?qe.getInstance(this.firestore,ie):null))}}class rn{constructor(ie,ge){this._firestore=ie,this._delegate=ge}get type(){return this._delegate.type}get doc(){return new Yt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vn{constructor(ie,ge){this._firestore=ie,this._delegate=ge}get query(){return new Tn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ie=>new Yt(this._firestore,ie))}docChanges(ie){return this._delegate.docChanges(ie).map(ge=>new rn(this._firestore,ge))}forEach(ie,ge){this._delegate.forEach(Me=>{ie.call(ge,new Yt(this._firestore,Me))})}isEqual(ie){return(0,Oe.qK)(this._delegate,ie._delegate)}}class rr extends Tn{constructor(ie,ge){super(ie,ge),this.firestore=ie,this._delegate=ge}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ie=this._delegate.parent;return ie?new Ke(this.firestore,ie):null}doc(ie){try{return new Ke(this.firestore,void 0===ie?(0,Oe.JU)(this._delegate):(0,Oe.JU)(this._delegate,ie))}catch(ge){throw Ye(ge,"doc()","CollectionReference.doc()")}}add(ie){return(0,Oe.ET)(this._delegate,ie).then(ge=>new Ke(this.firestore,ge))}isEqual(ie){return(0,Oe.Eo)(this._delegate,ie._delegate)}withConverter(ie){return new rr(this.firestore,this._delegate.withConverter(ie?qe.getInstance(this.firestore,ie):null))}}function Cn(yt){return(0,Oe.Cf)(yt,Oe.my)}class mr{constructor(...ie){this._delegate=new Oe.Lz(...ie)}static documentId(){return new mr(Oe.Xb.keyField().canonicalString())}isEqual(ie){return(ie=(0,bt.m9)(ie))instanceof Oe.Lz&&this._delegate._internalPath.isEqual(ie._internalPath)}}class hr{constructor(ie){this._delegate=ie}static serverTimestamp(){const ie=(0,Oe.Bt)();return ie._methodName="FieldValue.serverTimestamp",new hr(ie)}static delete(){const ie=(0,Oe.AK)();return ie._methodName="FieldValue.delete",new hr(ie)}static arrayUnion(...ie){const ge=(0,Oe.vr)(...ie);return ge._methodName="FieldValue.arrayUnion",new hr(ge)}static arrayRemove(...ie){const ge=(0,Oe.Ab)(...ie);return ge._methodName="FieldValue.arrayRemove",new hr(ge)}static increment(ie){const ge=(0,Oe.nP)(ie);return ge._methodName="FieldValue.increment",new hr(ge)}isEqual(ie){return this._delegate.isEqual(ie._delegate)}}const cr={Firestore:Vn,GeoPoint:Oe.F8,Timestamp:Oe.EK,Blob:ht,Transaction:Jn,WriteBatch:Nr,DocumentReference:Ke,DocumentSnapshot:Mt,Query:Tn,QueryDocumentSnapshot:Yt,QuerySnapshot:vn,CollectionReference:rr,FieldPath:mr,FieldValue:hr,setLogLevel:function zr(yt){(0,Oe.Ub)(yt)},CACHE_SIZE_UNLIMITED:Oe.IX};!function Zr(yt){(function Er(yt,ie){yt.INTERNAL.registerComponent(new tt.wA("firestore-compat",ge=>{const Me=ge.getProvider("app-compat").getImmediate(),Bt=ge.getProvider("firestore").getImmediate();return ie(Me,Bt)},"PUBLIC").setServiceProps(Object.assign({},cr)))})(yt,(ie,ge)=>new Vn(ie,ge,new In)),yt.registerVersion("@firebase/firestore-compat","0.3.12")}(ke.Z);var ci=U(8645),si=U(3019),Br=U(3093),Sr=U(4664),Wn=U(4552);class Wr extends ci.x{constructor(ie=1/0,ge=1/0,Me=Wn.l){super(),this._bufferSize=ie,this._windowTime=ge,this._timestampProvider=Me,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ge===1/0,this._bufferSize=Math.max(1,ie),this._windowTime=Math.max(1,ge)}next(ie){const{isStopped:ge,_buffer:Me,_infiniteTimeWindow:Bt,_timestampProvider:Dn,_windowTime:fr}=this;ge||(Me.push(ie),!Bt&&Me.push(Dn.now()+fr)),this._trimBuffer(),super.next(ie)}_subscribe(ie){this._throwIfClosed(),this._trimBuffer();const ge=this._innerSubscribe(ie),{_infiniteTimeWindow:Me,_buffer:Bt}=this,Dn=Bt.slice();for(let fr=0;fr<Dn.length&&!ie.closed;fr+=Me?1:2)ie.next(Dn[fr]);return this._checkFinalizedStatuses(ie),ge}_trimBuffer(){const{_bufferSize:ie,_timestampProvider:ge,_buffer:Me,_infiniteTimeWindow:Bt}=this,Dn=(Bt?1:2)*ie;if(ie<1/0&&Dn<Me.length&&Me.splice(0,Me.length-Dn),!Bt){const fr=ge.now();let Xr=0;for(let Ln=1;Ln<Me.length&&Me[Ln]<=fr;Ln+=2)Xr=Ln;Xr&&Me.splice(0,Xr+1)}}}var or=U(3020);function cn(yt,ie,ge){let Me,Bt=!1;return yt&&"object"==typeof yt?({bufferSize:Me=1/0,windowTime:ie=1/0,refCount:Bt=!1,scheduler:ge}=yt):Me=yt??1/0,(0,or.B)({connector:()=>new Wr(Me,ie,ge),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Bt})}var Fn=U(1374),kr=U(4674);function Gr(yt,ie){return(0,kr.m)(ie)?(0,Sr.w)(()=>yt,ie):(0,Sr.w)(()=>yt)}var Jt=U(5137),On=U(2194);U(120);const ir=new I.OlP("angularfire2.auth.use-emulator"),Kt=new I.OlP("angularfire2.auth.settings"),Un=new I.OlP("angularfire2.auth.tenant-id"),Ir=new I.OlP("angularfire2.auth.langugage-code"),Pi=new I.OlP("angularfire2.auth.use-device-language"),Wi=new I.OlP("angularfire.auth.persistence"),ar=(yt,ie,ge,Me,Bt,Dn,fr,Xr)=>(0,lt.cc)(`${yt.name}.auth`,"AngularFireAuth",yt.name,()=>{const Ln=ie.runOutsideAngular(()=>yt.auth());if(ge&&Ln.useEmulator(...ge),Me&&(Ln.tenantId=Me),Ln.languageCode=Bt,Dn&&Ln.useDeviceLanguage(),fr)for(const[is,Ue]of Object.entries(fr))Ln.settings[is]=Ue;return Xr&&Ln.setPersistence(Xr),Ln},[ge,Me,Bt,Dn,fr,Xr]);let qn=(()=>{class yt{constructor(ge,Me,Bt,Dn,fr,Xr,Ln,is,Ue,De,Ae,dt){const Ct=new ci.x,Ut=(0,m.of)(void 0).pipe((0,Br.Q)(fr.outsideAngular),(0,Sr.w)(()=>Dn.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8661)))),(0,pe.U)(()=>(0,lt.on)(ge,Dn,Me)),(0,pe.U)(Vt=>ar(Vt,Dn,Xr,is,Ue,De,Ln,Ae)),cn({bufferSize:1,refCount:!1}));if((0,at.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{Ut.pipe((0,Fn.P)()).subscribe();const $n=Ut.pipe((0,Sr.w)(Lt=>Lt.getRedirectResult().then(ur=>ur,()=>null)),fe.iC,cn({bufferSize:1,refCount:!1})),Nn=Ut.pipe((0,Sr.w)(Lt=>new J.y(ur=>({unsubscribe:Dn.runOutsideAngular(()=>Lt.onAuthStateChanged(br=>ur.next(br),br=>ur.error(br),()=>ur.complete()))})))),Mr=Ut.pipe((0,Sr.w)(Lt=>new J.y(ur=>({unsubscribe:Dn.runOutsideAngular(()=>Lt.onIdTokenChanged(br=>ur.next(br),br=>ur.error(br),()=>ur.complete()))}))));this.authState=$n.pipe(Gr(Nn),(0,Jt.R)(fr.outsideAngular),(0,Br.Q)(fr.insideAngular)),this.user=$n.pipe(Gr(Mr),(0,Jt.R)(fr.outsideAngular),(0,Br.Q)(fr.insideAngular)),this.idToken=this.user.pipe((0,Sr.w)(Lt=>Lt?(0,_e.D)(Lt.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe((0,Sr.w)(Lt=>Lt?(0,_e.D)(Lt.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,si.T)($n,Ct,this.authState.pipe((0,Je.h)(Lt=>!Lt))).pipe((0,pe.U)(Lt=>Lt?.user?Lt:null),(0,Jt.R)(fr.outsideAngular),(0,Br.Q)(fr.insideAngular))}return(0,lt.pX)(this,Ut,Dn,{spy:{apply:(Vt,$n,Nn)=>{(Vt.startsWith("signIn")||Vt.startsWith("createUser"))&&Nn.then(Mr=>Ct.next(Mr))}}})}}return yt.\u0275fac=function(ge){return new(ge||yt)(I.LFG(lt.Dh),I.LFG(lt.xv,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(fe.HU),I.LFG(ir,8),I.LFG(Kt,8),I.LFG(Un,8),I.LFG(Ir,8),I.LFG(Pi,8),I.LFG(Wi,8),I.LFG(On.nm,8))},yt.\u0275prov=I.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"any"}),yt})();function je(yt,ie){return function Se(yt,ie=te.z){return new J.y(ge=>{let Me;return null!=ie?ie.schedule(()=>{Me=yt.onSnapshot({includeMetadataChanges:!0},ge)}):Me=yt.onSnapshot({includeMetadataChanges:!0},ge),()=>{Me?.()}})}(yt,ie)}function sn(yt,ie){return je(yt,ie).pipe((0,pe.U)(ge=>({payload:ge,type:"query"})))}function En(yt,ie){return sn(yt,ie).pipe((0,be.O)(void 0),le(),(0,pe.U)(([ge,Me])=>{const Bt=Me.payload.docChanges(),Dn=Bt.map(fr=>({type:fr.type,payload:fr}));return ge&&JSON.stringify(ge.payload.metadata)!==JSON.stringify(Me.payload.metadata)&&Me.payload.docs.forEach((fr,Xr)=>{const Ln=Bt.find(Ue=>Ue.doc.ref.isEqual(fr.ref)),is=ge?.payload.docs.find(Ue=>Ue.ref.isEqual(fr.ref));Ln&&JSON.stringify(Ln.doc.metadata)===JSON.stringify(fr.metadata)||!Ln&&is&&JSON.stringify(is.metadata)===JSON.stringify(fr.metadata)||Dn.push({type:"modified",payload:{oldIndex:Xr,newIndex:Xr,type:"modified",doc:fr}})}),Dn}))}function _r(yt,ie,ge){return En(yt,ge).pipe((0,Be.R)((Me,Bt)=>function Te(yt,ie,ge){return ie.forEach(Me=>{ge.indexOf(Me.type)>-1&&(yt=function q(yt,ie){switch(ie.type){case"added":if(!yt[ie.newIndex]||!yt[ie.newIndex].doc.ref.isEqual(ie.doc.ref))return re(yt,ie.newIndex,0,ie);break;case"modified":if(null==yt[ie.oldIndex]||yt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref)){if(ie.oldIndex!==ie.newIndex){const ge=yt.slice();return ge.splice(ie.oldIndex,1),ge.splice(ie.newIndex,0,ie),ge}return re(yt,ie.newIndex,1,ie)}break;case"removed":if(yt[ie.oldIndex]&&yt[ie.oldIndex].doc.ref.isEqual(ie.doc.ref))return re(yt,ie.oldIndex,1)}return yt}(yt,Me))}),yt}(Me,Bt.map(Dn=>Dn.payload),ie),[]),(0,Ze.x)(),(0,pe.U)(Me=>Me.map(Bt=>({type:Bt.type,payload:Bt}))))}function re(yt,ie,ge,...Me){const Bt=yt.slice();return Bt.splice(ie,ge,...Me),Bt}function B(yt){return(!yt||0===yt.length)&&(yt=["added","removed","modified"]),yt}class ${constructor(ie,ge,Me){this.ref=ie,this.query=ge,this.afs=Me}stateChanges(ie){let ge=En(this.query,this.afs.schedulers.outsideAngular);return ie&&ie.length>0&&(ge=ge.pipe((0,pe.U)(Me=>Me.filter(Bt=>ie.indexOf(Bt.type)>-1)))),ge.pipe((0,be.O)(void 0),le(),(0,Je.h)(([Me,Bt])=>Bt.length>0||!Me),(0,pe.U)(([Me,Bt])=>Bt),fe.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Be.R)((ge,Me)=>[...ge,...Me],[]))}snapshotChanges(ie){const ge=B(ie);return _r(this.query,ge,this.afs.schedulers.outsideAngular).pipe(fe.iC)}valueChanges(ie={}){return sn(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(ge=>ge.payload.docs.map(Me=>ie.idField?Object.assign(Object.assign({},Me.data()),{[ie.idField]:Me.id}):Me.data())),fe.iC)}get(ie){return(0,_e.D)(this.query.get(ie)).pipe(fe.iC)}add(ie){return this.ref.add(ie)}doc(ie){return new he(this.ref.doc(ie),this.afs)}}class he{constructor(ie,ge){this.ref=ie,this.afs=ge}set(ie,ge){return this.ref.set(ie,ge)}update(ie){return this.ref.update(ie)}delete(){return this.ref.delete()}collection(ie,ge){const Me=this.ref.collection(ie),{ref:Bt,query:Dn}=Hn(Me,ge);return new $(Bt,Dn,this.afs)}snapshotChanges(){return function _t(yt,ie){return je(yt,ie).pipe((0,be.O)(void 0),le(),(0,pe.U)(([ge,Me])=>Me.exists?ge?.exists?{payload:Me,type:"modified"}:{payload:Me,type:"added"}:{payload:Me,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fe.iC)}valueChanges(ie={}){return this.snapshotChanges().pipe((0,pe.U)(({payload:ge})=>ie.idField?Object.assign(Object.assign({},ge.data()),{[ie.idField]:ge.id}):ge.data()))}get(ie){return(0,_e.D)(this.ref.get(ie)).pipe(fe.iC)}}class $e{constructor(ie,ge){this.query=ie,this.afs=ge}stateChanges(ie){return ie&&0!==ie.length?En(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(ge=>ge.filter(Me=>ie.indexOf(Me.type)>-1)),(0,Je.h)(ge=>ge.length>0),fe.iC):En(this.query,this.afs.schedulers.outsideAngular).pipe(fe.iC)}auditTrail(ie){return this.stateChanges(ie).pipe((0,Be.R)((ge,Me)=>[...ge,...Me],[]))}snapshotChanges(ie){const ge=B(ie);return _r(this.query,ge,this.afs.schedulers.outsideAngular).pipe(fe.iC)}valueChanges(ie={}){return sn(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(Me=>Me.payload.docs.map(Bt=>ie.idField?Object.assign({[ie.idField]:Bt.id},Bt.data()):Bt.data())),fe.iC)}get(ie){return(0,_e.D)(this.query.get(ie)).pipe(fe.iC)}}const wt=new I.OlP("angularfire2.enableFirestorePersistence"),on=new I.OlP("angularfire2.firestore.persistenceSettings"),Xt=new I.OlP("angularfire2.firestore.settings"),Xn=new I.OlP("angularfire2.firestore.use-emulator");function Hn(yt,ie=(ge=>ge)){return{query:ie(yt),ref:yt}}let Tr=(()=>{class yt{constructor(ge,Me,Bt,Dn,fr,Xr,Ln,is,Ue,De,Ae,dt,Ct,Ut,Vt,$n,Nn){this.schedulers=Ln;const Mr=(0,lt.on)(ge,Xr,Me),Lt=Ue;De&&ar(Mr,Xr,Ae,Ct,Ut,Vt,dt,$n),[this.firestore,this.persistenceEnabled$]=(0,lt.cc)(`${Mr.name}.firestore`,"AngularFirestore",Mr.name,()=>{const ur=Xr.runOutsideAngular(()=>Mr.firestore());if(Dn&&ur.settings(Dn),Lt&&ur.useEmulator(...Lt),Bt&&!(0,at.PM)(fr)){const br=()=>{try{return(0,_e.D)(ur.enablePersistence(is||void 0).then(()=>!0,()=>!1))}catch(oi){return typeof console<"u"&&console.warn(oi),(0,m.of)(!1)}};return[ur,Xr.runOutsideAngular(br)]}return[ur,(0,m.of)(!1)]},[Dn,Lt,Bt])}collection(ge,Me){let Bt;Bt="string"==typeof ge?this.firestore.collection(ge):ge;const{ref:Dn,query:fr}=Hn(Bt,Me),Xr=this.schedulers.ngZone.run(()=>Dn);return new $(Xr,fr,this)}collectionGroup(ge,Me){const Bt=Me||(fr=>fr),Dn=this.firestore.collectionGroup(ge);return new $e(Bt(Dn),this)}doc(ge){let Me;Me="string"==typeof ge?this.firestore.doc(ge):ge;const Bt=this.schedulers.ngZone.run(()=>Me);return new he(Bt,this)}createId(){return this.firestore.collection("_").doc().id}}return yt.\u0275fac=function(ge){return new(ge||yt)(I.LFG(lt.Dh),I.LFG(lt.xv,8),I.LFG(wt,8),I.LFG(Xt,8),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(fe.HU),I.LFG(on,8),I.LFG(Xn,8),I.LFG(qn,8),I.LFG(ir,8),I.LFG(Kt,8),I.LFG(Un,8),I.LFG(Ir,8),I.LFG(Pi,8),I.LFG(Wi,8),I.LFG(On.nm,8))},yt.\u0275prov=I.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"any"}),yt})()},6304:(Wt,ze,U)=>{U.d(ze,{Dh:()=>me,GT:()=>fe,cc:()=>Je,hO:()=>Ze,on:()=>le,pX:()=>m,xv:()=>Ve});var I=U(9212),te=U(120),J=U(2793);Wt=U.hmd(Wt);const _e=["ngOnDestroy"],m=(ke,Oe,bt,tt={})=>new Proxy(ke,{get:(Xe,ut)=>bt.runOutsideAngular(()=>{var St;if(ke[ut])return!(null===(St=tt?.spy)||void 0===St)&&St.get&&tt.spy.get(ut,ke[ut]),ke[ut];if(_e.indexOf(ut)>-1)return()=>{};const vt=Oe.toPromise().then(ye=>{const ht=ye&&ye[ut];return"function"==typeof ht?ht.bind(ye):ht&&ht.then?ht.then(Pt=>bt.run(()=>Pt)):bt.run(()=>ht)});return new Proxy(()=>{},{get:(ye,ht)=>vt[ht],apply:(ye,ht,Pt)=>vt.then(an=>{var In;const Vn=an&&an(...Pt);return!(null===(In=tt?.spy)||void 0===In)&&In.apply&&tt.spy.apply(ut,Pt,Vn),Vn})})})}),fe=(ke,Oe)=>{Oe.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(tt=>{Object.defineProperty(ke.prototype,tt,Object.getOwnPropertyDescriptor(bt.prototype||bt,tt))})})};class be{constructor(Oe){return Oe}}const me=new I.OlP("angularfire2.app.options"),Ve=new I.OlP("angularfire2.app.name");function le(ke,Oe,bt){const Xe="object"==typeof bt&&bt||{};Xe.name=Xe.name||"string"==typeof bt&&bt||"[DEFAULT]";const St=te.Z.apps.filter(vt=>vt&&vt.name===Xe.name)[0]||Oe.runOutsideAngular(()=>te.Z.initializeApp(ke,Xe));try{JSON.stringify(ke)!==JSON.stringify(St.options)&&pe("error",`${St.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(St)}const pe=(ke,...Oe)=>{(0,I.X6Q)()&&typeof console<"u"&&console[ke](...Oe)},Be={provide:be,useFactory:le,deps:[me,I.R0b,[new I.FiY,Ve]]};let Ze=(()=>{class ke{constructor(bt){te.Z.registerVersion("angularfire",J.q4.full,"core"),te.Z.registerVersion("angularfire",J.q4.full,"app-compat"),te.Z.registerVersion("angular",I.q4F.full,bt.toString())}static initializeApp(bt,tt){return{ngModule:ke,providers:[{provide:me,useValue:bt},{provide:Ve,useValue:tt}]}}}return ke.\u0275fac=function(bt){return new(bt||ke)(I.LFG(I.Lbi))},ke.\u0275mod=I.oAB({type:ke}),ke.\u0275inj=I.cJS({providers:[Be]}),ke})();function Je(ke,Oe,bt,tt,Xe){const[,ut,St]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===ke)||[];if(ut)return function lt(ke,Oe){try{return ke.toString()===Oe.toString()}catch{return ke===Oe}}(Xe,St)||(Tt("error",`${Oe} was already initialized on the ${bt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Tt("warn",{is:Xe,was:St})),ut;{const vt=tt();return globalThis.\u0275AngularfireInstanceCache.push([ke,vt,Xe]),vt}}const at=!!Wt.hot,Tt=(ke,...Oe)=>{(0,I.X6Q)()&&typeof console<"u"&&console[ke](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(Wt,ze,U)=>{U.d(ze,{q4:()=>oo,iC:()=>Ti,HU:()=>Gc,vb:()=>eh,JM:()=>pc,u3:()=>Au});var I=U(9212),te=U(4097),J=U(5861),_e=U(4303),m=U(9058),fe=U(4537),be=U(7879);const me=(P,V)=>V.some(Z=>P instanceof Z);let Ve,le;const Ze=new WeakMap,Je=new WeakMap,lt=new WeakMap,at=new WeakMap,Tt=new WeakMap;let bt={get(P,V,Z){if(P instanceof IDBTransaction){if("done"===V)return Je.get(P);if("objectStoreNames"===V)return P.objectStoreNames||lt.get(P);if("store"===V)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return St(P[V])},set:(P,V,Z)=>(P[V]=Z,!0),has:(P,V)=>P instanceof IDBTransaction&&("done"===V||"store"===V)||V in P};function ut(P){return"function"==typeof P?function Xe(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...V){return P.apply(vt(this),V),St(Ze.get(this))}:function(...V){return St(P.apply(vt(this),V))}:function(V,...Z){const ue=P.call(vt(this),V,...Z);return lt.set(ue,V.sort?V.sort():[V]),St(ue)}}(P):(P instanceof IDBTransaction&&function Oe(P){if(Je.has(P))return;const V=new Promise((Z,ue)=>{const Ce=()=>{P.removeEventListener("complete",Le),P.removeEventListener("error",gt),P.removeEventListener("abort",gt)},Le=()=>{Z(),Ce()},gt=()=>{ue(P.error||new DOMException("AbortError","AbortError")),Ce()};P.addEventListener("complete",Le),P.addEventListener("error",gt),P.addEventListener("abort",gt)});Je.set(P,V)}(P),me(P,function pe(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,bt):P)}function St(P){if(P instanceof IDBRequest)return function ke(P){const V=new Promise((Z,ue)=>{const Ce=()=>{P.removeEventListener("success",Le),P.removeEventListener("error",gt)},Le=()=>{Z(St(P.result)),Ce()},gt=()=>{ue(P.error),Ce()};P.addEventListener("success",Le),P.addEventListener("error",gt)});return V.then(Z=>{Z instanceof IDBCursor&&Ze.set(Z,P)}).catch(()=>{}),Tt.set(V,P),V}(P);if(at.has(P))return at.get(P);const V=ut(P);return V!==P&&(at.set(P,V),Tt.set(V,P)),V}const vt=P=>Tt.get(P),Pt=["get","getKey","getAll","getAllKeys","count"],an=["put","add","delete","clear"],In=new Map;function Vn(P,V){if(!(P instanceof IDBDatabase)||V in P||"string"!=typeof V)return;if(In.get(V))return In.get(V);const Z=V.replace(/FromIndex$/,""),ue=V!==Z,Ce=an.includes(Z);if(!(Z in(ue?IDBIndex:IDBObjectStore).prototype)||!Ce&&!Pt.includes(Z))return;const Le=function(){var gt=(0,J.Z)(function*(ln,...nn){const jn=this.transaction(ln,Ce?"readwrite":"readonly");let Cr=jn.store;return ue&&(Cr=Cr.index(nn.shift())),(yield Promise.all([Cr[Z](...nn),Ce&&jn.done]))[0]});return function(nn){return gt.apply(this,arguments)}}();return In.set(V,Le),Le}!function tt(P){bt=P(bt)}(P=>({...P,get:(V,Z,ue)=>Vn(V,Z)||P.get(V,Z,ue),has:(V,Z)=>!!Vn(V,Z)||P.has(V,Z)}));const bn="@firebase/installations",zr="0.6.4",Jn=1e4,Nr=`w:${zr}`,qe="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",Ye=36e5,Yt=new m.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tn(P){return P instanceof m.ZR&&P.code.includes("request-failed")}function rn({projectId:P}){return`${Ke}/projects/${P}/installations`}function vn(P){return{token:P.token,requestStatus:2,expiresIn:Zr(P.expiresIn),creationTime:Date.now()}}function rr(P,V){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,J.Z)(function*(P,V){const ue=(yield V.json()).error;return Yt.create("request-failed",{requestName:P,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function mr({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function cr(P){return Er.apply(this,arguments)}function Er(){return(Er=(0,J.Z)(function*(P){const V=yield P();return V.status>=500&&V.status<600?P():V})).apply(this,arguments)}function Zr(P){return Number(P.replace("s","000"))}function Br(){return(Br=(0,J.Z)(function*({appConfig:P,heartbeatServiceProvider:V},{fid:Z}){const ue=rn(P),Ce=mr(P),Le=V.getImmediate({optional:!0});if(Le){const jn=yield Le.getHeartbeatsHeader();jn&&Ce.append("x-firebase-client",jn)}const ln={method:"POST",headers:Ce,body:JSON.stringify({fid:Z,authVersion:qe,appId:P.appId,sdkVersion:Nr})},nn=yield cr(()=>fetch(ue,ln));if(nn.ok){const jn=yield nn.json();return{fid:jn.fid||Z,registrationStatus:2,refreshToken:jn.refreshToken,authToken:vn(jn.authToken)}}throw yield rr("Create Installation",nn)})).apply(this,arguments)}function Sr(P){return new Promise(V=>{setTimeout(V,P)})}const Wr=/^[cdef][\w-]{21}$/,or="";function cn(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Z=function Fn(P){return function Wn(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Wr.test(Z)?Z:or}catch{return or}}function kr(P){return`${P.appName}!${P.appId}`}const Gr=new Map;function Jt(P,V){const Z=kr(P);Ri(Z,V),function ir(P,V){const Z=function Un(){return!Kt&&"BroadcastChannel"in self&&(Kt=new BroadcastChannel("[Firebase] FID Change"),Kt.onmessage=P=>{Ri(P.data.key,P.data.fid)}),Kt}();Z&&Z.postMessage({key:P,fid:V}),function Ir(){0===Gr.size&&Kt&&(Kt.close(),Kt=null)}()}(Z,V)}function Ri(P,V){const Z=Gr.get(P);if(Z)for(const ue of Z)ue(V)}let Kt=null;const Pi="firebase-installations-database",Wi=1,ar="firebase-installations-store";let qn=null;function it(){return qn||(qn=function ye(P,V,{blocked:Z,upgrade:ue,blocking:Ce,terminated:Le}={}){const gt=indexedDB.open(P,V),ln=St(gt);return ue&&gt.addEventListener("upgradeneeded",nn=>{ue(St(gt.result),nn.oldVersion,nn.newVersion,St(gt.transaction))}),Z&&gt.addEventListener("blocked",()=>Z()),ln.then(nn=>{Le&&nn.addEventListener("close",()=>Le()),Ce&&nn.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),ln}(Pi,Wi,{upgrade:(P,V)=>{0===V&&P.createObjectStore(ar)}})),qn}function Se(P,V){return je.apply(this,arguments)}function je(){return(je=(0,J.Z)(function*(P,V){const Z=kr(P),Ce=(yield it()).transaction(ar,"readwrite"),Le=Ce.objectStore(ar),gt=yield Le.get(Z);return yield Le.put(V,Z),yield Ce.done,(!gt||gt.fid!==V.fid)&&Jt(P,V.fid),V})).apply(this,arguments)}function _t(P){return sn.apply(this,arguments)}function sn(){return(sn=(0,J.Z)(function*(P){const V=kr(P),ue=(yield it()).transaction(ar,"readwrite");yield ue.objectStore(ar).delete(V),yield ue.done})).apply(this,arguments)}function En(P,V){return _r.apply(this,arguments)}function _r(){return(_r=(0,J.Z)(function*(P,V){const Z=kr(P),Ce=(yield it()).transaction(ar,"readwrite"),Le=Ce.objectStore(ar),gt=yield Le.get(Z),ln=V(gt);return void 0===ln?yield Le.delete(Z):yield Le.put(ln,Z),yield Ce.done,ln&&(!gt||gt.fid!==ln.fid)&&Jt(P,ln.fid),ln})).apply(this,arguments)}function Te(P){return re.apply(this,arguments)}function re(){return re=(0,J.Z)(function*(P){let V;const Z=yield En(P.appConfig,ue=>{const Ce=function q(P){return Xt(P||{fid:cn(),registrationStatus:0})}(ue),Le=function B(P,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Yt.create("app-offline"))};const Z={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},ue=function $(P,V){return he.apply(this,arguments)}(P,Z);return{installationEntry:Z,registrationPromise:ue}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:$e(P)}:{installationEntry:V}}(P,Ce);return V=Le.registrationPromise,Le.installationEntry});return Z.fid===or?{installationEntry:yield V}:{installationEntry:Z,registrationPromise:V}}),re.apply(this,arguments)}function he(){return he=(0,J.Z)(function*(P,V){try{const Z=yield function si(P,V){return Br.apply(this,arguments)}(P,V);return Se(P.appConfig,Z)}catch(Z){throw Tn(Z)&&409===Z.customData.serverCode?yield _t(P.appConfig):yield Se(P.appConfig,{fid:V.fid,registrationStatus:0}),Z}}),he.apply(this,arguments)}function $e(P){return wt.apply(this,arguments)}function wt(){return(wt=(0,J.Z)(function*(P){let V=yield on(P.appConfig);for(;1===V.registrationStatus;)yield Sr(100),V=yield on(P.appConfig);if(0===V.registrationStatus){const{installationEntry:Z,registrationPromise:ue}=yield Te(P);return ue||Z}return V})).apply(this,arguments)}function on(P){return En(P,V=>{if(!V)throw Yt.create("installation-not-found");return Xt(V)})}function Xt(P){return function Xn(P){return 1===P.registrationStatus&&P.registrationTime+Jn<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Tr(){return(Tr=(0,J.Z)(function*({appConfig:P,heartbeatServiceProvider:V},Z){const ue=function Qn(P,{fid:V}){return`${rn(P)}/${V}/authTokens:generate`}(P,Z),Ce=function hr(P,{refreshToken:V}){const Z=mr(P);return Z.append("Authorization",function ci(P){return`${qe} ${P}`}(V)),Z}(P,Z),Le=V.getImmediate({optional:!0});if(Le){const jn=yield Le.getHeartbeatsHeader();jn&&Ce.append("x-firebase-client",jn)}const ln={method:"POST",headers:Ce,body:JSON.stringify({installation:{sdkVersion:Nr,appId:P.appId}})},nn=yield cr(()=>fetch(ue,ln));if(nn.ok)return vn(yield nn.json());throw yield rr("Generate Auth Token",nn)})).apply(this,arguments)}function yt(P){return ie.apply(this,arguments)}function ie(){return ie=(0,J.Z)(function*(P,V=!1){let Z;const ue=yield En(P.appConfig,Le=>{if(!Xr(Le))throw Yt.create("not-registered");const gt=Le.authToken;if(!V&&function Ln(P){return 2===P.requestStatus&&!function is(P){const V=Date.now();return V<P.creationTime||P.creationTime+P.expiresIn<V+Ye}(P)}(gt))return Le;if(1===gt.requestStatus)return Z=function ge(P,V){return Me.apply(this,arguments)}(P,V),Le;{if(!navigator.onLine)throw Yt.create("app-offline");const ln=function Ue(P){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:V})}(Le);return Z=function Dn(P,V){return fr.apply(this,arguments)}(P,ln),ln}});return Z?yield Z:ue.authToken}),ie.apply(this,arguments)}function Me(){return(Me=(0,J.Z)(function*(P,V){let Z=yield Bt(P.appConfig);for(;1===Z.authToken.requestStatus;)yield Sr(100),Z=yield Bt(P.appConfig);const ue=Z.authToken;return 0===ue.requestStatus?yt(P,V):ue})).apply(this,arguments)}function Bt(P){return En(P,V=>{if(!Xr(V))throw Yt.create("not-registered");return function De(P){return 1===P.requestStatus&&P.requestTime+Jn<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function fr(){return fr=(0,J.Z)(function*(P,V){try{const Z=yield function Hn(P,V){return Tr.apply(this,arguments)}(P,V),ue=Object.assign(Object.assign({},V),{authToken:Z});return yield Se(P.appConfig,ue),Z}catch(Z){if(!Tn(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const ue=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield Se(P.appConfig,ue)}else yield _t(P.appConfig);throw Z}}),fr.apply(this,arguments)}function Xr(P){return void 0!==P&&2===P.registrationStatus}function dt(){return(dt=(0,J.Z)(function*(P){const V=P,{installationEntry:Z,registrationPromise:ue}=yield Te(V);return ue?ue.catch(console.error):yt(V).catch(console.error),Z.fid})).apply(this,arguments)}function Ut(){return Ut=(0,J.Z)(function*(P,V=!1){const Z=P;return yield function Vt(P){return $n.apply(this,arguments)}(Z),(yield yt(Z,V)).token}),Ut.apply(this,arguments)}function $n(){return($n=(0,J.Z)(function*(P){const{registrationPromise:V}=yield Te(P);V&&(yield V)})).apply(this,arguments)}function we(P){return Yt.create("missing-app-config-values",{valueName:P})}const Ge="installations",ct=P=>{const V=P.getProvider("app").getImmediate(),Z=function Pe(P){if(!P||!P.options)throw we("App Configuration");if(!P.name)throw we("App Name");const V=["projectId","apiKey","appId"];for(const Z of V)if(!P.options[Z])throw we(Z);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(V);return{app:V,appConfig:Z,heartbeatServiceProvider:(0,_e.qX)(V,"heartbeat"),_delete:()=>Promise.resolve()}},Bn=P=>{const V=P.getProvider("app").getImmediate(),Z=(0,_e.qX)(V,Ge).getImmediate();return{getId:()=>function Ae(P){return dt.apply(this,arguments)}(Z),getToken:Ce=>function Ct(P){return Ut.apply(this,arguments)}(Z,Ce)}};(function xr(){(0,_e.Xd)(new fe.wA(Ge,ct,"PUBLIC")),(0,_e.Xd)(new fe.wA("installations-internal",Bn,"PRIVATE"))})(),(0,_e.KN)(bn,zr),(0,_e.KN)(bn,zr,"esm2017");const lr="@firebase/remote-config",Ei=new m.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gu{constructor(V,Z,ue,Ce){this.client=V,this.storage=Z,this.storageCache=ue,this.logger=Ce}isCachedDataFresh(V,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-Z,Ce=ue<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Ce}.`),Ce}fetch(V){var Z=this;return(0,J.Z)(function*(){const[ue,Ce]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ce&&Z.isCachedDataFresh(V.cacheMaxAgeMillis,ue))return Ce;V.eTag=Ce&&Ce.eTag;const Le=yield Z.client.fetch(V),gt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Le.status&&gt.push(Z.storage.setLastSuccessfulFetchResponse(Le)),yield Promise.all(gt),Le})()}}function mu(P=navigator){return P.languages&&P.languages[0]||P.language}class dl{constructor(V,Z,ue,Ce,Le,gt){this.firebaseInstallations=V,this.sdkVersion=Z,this.namespace=ue,this.projectId=Ce,this.apiKey=Le,this.appId=gt}fetch(V){var Z=this;return(0,J.Z)(function*(){const[ue,Ce]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},nn={sdk_version:Z.sdkVersion,app_instance_id:ue,app_instance_id_token:Ce,app_id:Z.appId,language_code:mu()},jn={method:"POST",headers:ln,body:JSON.stringify(nn)},Cr=fetch(gt,jn),Dr=new Promise((va,mi)=>{V.signal.addEventListener(()=>{const Xh=new Error("The operation was aborted.");Xh.name="AbortError",mi(Xh)})});let Yo;try{yield Promise.race([Cr,Dr]),Yo=yield Cr}catch(va){let mi="fetch-client-network";throw"AbortError"===va?.name&&(mi="fetch-timeout"),Ei.create(mi,{originalErrorMessage:va?.message})}let zs=Yo.status;const gc=Yo.headers.get("ETag")||void 0;let el,Cl;if(200===Yo.status){let va;try{va=yield Yo.json()}catch(mi){throw Ei.create("fetch-client-parse",{originalErrorMessage:mi?.message})}el=va.entries,Cl=va.state}if("INSTANCE_STATE_UNSPECIFIED"===Cl?zs=500:"NO_CHANGE"===Cl?zs=304:("NO_TEMPLATE"===Cl||"EMPTY_CONFIG"===Cl)&&(el={}),304!==zs&&200!==zs)throw Ei.create("fetch-status",{httpStatus:zs});return{status:zs,eTag:gc,config:el}})()}}class Ka{constructor(V,Z){this.client=V,this.storage=Z}fetch(V){var Z=this;return(0,J.Z)(function*(){const ue=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(V,ue)})()}attemptFetch(V,{throttleEndTimeMillis:Z,backoffCount:ue}){var Ce=this;return(0,J.Z)(function*(){yield function hl(P,V){return new Promise((Z,ue)=>{const Ce=Math.max(V-Date.now(),0),Le=setTimeout(Z,Ce);P.addEventListener(()=>{clearTimeout(Le),ue(Ei.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,Z);try{const Le=yield Ce.client.fetch(V);return yield Ce.storage.deleteThrottleMetadata(),Le}catch(Le){if(!function ho(P){if(!(P instanceof m.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Le))throw Le;const gt={throttleEndTimeMillis:Date.now()+(0,m.$s)(ue),backoffCount:ue+1};return yield Ce.storage.setThrottleMetadata(gt),Ce.attemptFetch(V,gt)}})()}}class $r{constructor(V,Z,ue,Ce,Le){this.app=V,this._client=Z,this._storageCache=ue,this._storage=Ce,this._logger=Le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Os(P,V){const Z=P.target.error||void 0;return Ei.create(V,{originalErrorMessage:Z&&Z?.message})}const Fo="app_namespace_store";class Vu{constructor(V,Z,ue,Ce=function Ya(){return new Promise((P,V)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=ue=>{V(Os(ue,"storage-open"))},Z.onsuccess=ue=>{P(ue.target.result)},Z.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Fo,{keyPath:"compositeKey"})}}catch(Z){V(Ei.create("storage-open",{originalErrorMessage:Z?.message}))}})}()){this.appId=V,this.appName=Z,this.namespace=ue,this.openDbPromise=Ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var Z=this;return(0,J.Z)(function*(){const ue=yield Z.openDbPromise;return new Promise((Ce,Le)=>{const ln=ue.transaction([Fo],"readonly").objectStore(Fo),nn=Z.createCompositeKey(V);try{const jn=ln.get(nn);jn.onerror=Cr=>{Le(Os(Cr,"storage-get"))},jn.onsuccess=Cr=>{const Dr=Cr.target.result;Ce(Dr?Dr.value:void 0)}}catch(jn){Le(Ei.create("storage-get",{originalErrorMessage:jn?.message}))}})})()}set(V,Z){var ue=this;return(0,J.Z)(function*(){const Ce=yield ue.openDbPromise;return new Promise((Le,gt)=>{const nn=Ce.transaction([Fo],"readwrite").objectStore(Fo),jn=ue.createCompositeKey(V);try{const Cr=nn.put({compositeKey:jn,value:Z});Cr.onerror=Dr=>{gt(Os(Dr,"storage-set"))},Cr.onsuccess=()=>{Le()}}catch(Cr){gt(Ei.create("storage-set",{originalErrorMessage:Cr?.message}))}})})()}delete(V){var Z=this;return(0,J.Z)(function*(){const ue=yield Z.openDbPromise;return new Promise((Ce,Le)=>{const ln=ue.transaction([Fo],"readwrite").objectStore(Fo),nn=Z.createCompositeKey(V);try{const jn=ln.delete(nn);jn.onerror=Cr=>{Le(Os(Cr,"storage-delete"))},jn.onsuccess=()=>{Ce()}}catch(jn){Le(Ei.create("storage-delete",{originalErrorMessage:jn?.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class la{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,J.Z)(function*(){const Z=V.storage.getLastFetchStatus(),ue=V.storage.getLastSuccessfulFetchTimestampMillis(),Ce=V.storage.getActiveConfig(),Le=yield Z;Le&&(V.lastFetchStatus=Le);const gt=yield ue;gt&&(V.lastSuccessfulFetchTimestampMillis=gt);const ln=yield Ce;ln&&(V.activeConfig=ln)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Fc(){return fo.apply(this,arguments)}function fo(){return(fo=(0,J.Z)(function*(){if(!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}!function _u(){(0,_e.Xd)(new fe.wA("remote-config",function P(V,{instanceIdentifier:Z}){const ue=V.getProvider("app").getImmediate(),Ce=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,m.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:Le,apiKey:gt,appId:ln}=ue.options;if(!Le)throw Ei.create("registration-project-id");if(!gt)throw Ei.create("registration-api-key");if(!ln)throw Ei.create("registration-app-id");const nn=new Vu(ln,ue.name,Z=Z||"firebase"),jn=new la(nn),Cr=new be.Yd(lr);Cr.logLevel=be.in.ERROR;const Dr=new dl(Ce,_e.Jn,Z,Le,gt,ln),Yo=new Ka(Dr,nn),zs=new gu(Yo,nn,jn,Cr),gc=new $r(ue,zs,jn,nn,Cr);return function Qs(P){const V=(0,m.m9)(P);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(gc),gc},"PUBLIC").setMultipleInstances(!0)),(0,_e.KN)(lr,"0.4.4"),(0,_e.KN)(lr,"0.4.4","esm2017")}();const Qd=(P,V)=>V.some(Z=>P instanceof Z);let Bu,oc;const Aa=new WeakMap,Is=new WeakMap,ji=new WeakMap,ca=new WeakMap,Ja=new WeakMap;let Fl={get(P,V,Z){if(P instanceof IDBTransaction){if("done"===V)return Is.get(P);if("objectStoreNames"===V)return P.objectStoreNames||ji.get(P);if("store"===V)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return Ys(P[V])},set:(P,V,Z)=>(P[V]=Z,!0),has:(P,V)=>P instanceof IDBTransaction&&("done"===V||"store"===V)||V in P};function Vl(P){return"function"==typeof P?function Hu(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dd(){return oc||(oc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...V){return P.apply(dr(this),V),Ys(Aa.get(this))}:function(...V){return Ys(P.apply(dr(this),V))}:function(V,...Z){const ue=P.call(dr(this),V,...Z);return ji.set(ue,V.sort?V.sort():[V]),Ys(ue)}}(P):(P instanceof IDBTransaction&&function Xa(P){if(Is.has(P))return;const V=new Promise((Z,ue)=>{const Ce=()=>{P.removeEventListener("complete",Le),P.removeEventListener("error",gt),P.removeEventListener("abort",gt)},Le=()=>{Z(),Ce()},gt=()=>{ue(P.error||new DOMException("AbortError","AbortError")),Ce()};P.addEventListener("complete",Le),P.addEventListener("error",gt),P.addEventListener("abort",gt)});Is.set(P,V)}(P),Qd(P,function ju(){return Bu||(Bu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,Fl):P)}function Ys(P){if(P instanceof IDBRequest)return function yu(P){const V=new Promise((Z,ue)=>{const Ce=()=>{P.removeEventListener("success",Le),P.removeEventListener("error",gt)},Le=()=>{Z(Ys(P.result)),Ce()},gt=()=>{ue(P.error),Ce()};P.addEventListener("success",Le),P.addEventListener("error",gt)});return V.then(Z=>{Z instanceof IDBCursor&&Aa.set(Z,P)}).catch(()=>{}),Ja.set(V,P),V}(P);if(ca.has(P))return ca.get(P);const V=Vl(P);return V!==P&&(ca.set(P,V),Ja.set(V,P)),V}const dr=P=>Ja.get(P);function ai(P,V,{blocked:Z,upgrade:ue,blocking:Ce,terminated:Le}={}){const gt=indexedDB.open(P,V),ln=Ys(gt);return ue&&gt.addEventListener("upgradeneeded",nn=>{ue(Ys(gt.result),nn.oldVersion,nn.newVersion,Ys(gt.transaction))}),Z&&gt.addEventListener("blocked",()=>Z()),ln.then(nn=>{Le&&nn.addEventListener("close",()=>Le()),Ce&&nn.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),ln}function ss(P,{blocked:V}={}){const Z=indexedDB.deleteDatabase(P);return V&&Z.addEventListener("blocked",()=>V()),Ys(Z).then(()=>{})}const Wo=["get","getKey","getAll","getAllKeys","count"],Hi=["put","add","delete","clear"],Ko=new Map;function Vo(P,V){if(!(P instanceof IDBDatabase)||V in P||"string"!=typeof V)return;if(Ko.get(V))return Ko.get(V);const Z=V.replace(/FromIndex$/,""),ue=V!==Z,Ce=Hi.includes(Z);if(!(Z in(ue?IDBIndex:IDBObjectStore).prototype)||!Ce&&!Wo.includes(Z))return;const Le=function(){var gt=(0,J.Z)(function*(ln,...nn){const jn=this.transaction(ln,Ce?"readwrite":"readonly");let Cr=jn.store;return ue&&(Cr=Cr.index(nn.shift())),(yield Promise.all([Cr[Z](...nn),Ce&&jn.done]))[0]});return function(nn){return gt.apply(this,arguments)}}();return Ko.set(V,Le),Le}!function di(P){Fl=P(Fl)}(P=>({...P,get:(V,Z,ue)=>Vo(V,Z)||P.get(V,Z,ue),has:(V,Z)=>!!Vo(V,Z)||P.has(V,Z)}));const $u="/firebase-messaging-sw.js",Vc="/firebase-cloud-messaging-push-scope",fl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ni="https://fcmregistrations.googleapis.com/v1",qt="google.c.a.c_id",sr="google.c.a.c_l",yr="google.c.a.ts";var os=function(P){return P.PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",P}(os||{});function js(P){const V=new Uint8Array(P);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hi(P){const Z=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(Z),Ce=new Uint8Array(ue.length);for(let Le=0;Le<ue.length;++Le)Ce[Le]=ue.charCodeAt(Le);return Ce}const ts="fcm_token_details_db",Zo=5,pr="fcm_token_object_Store";function pl(){return pl=(0,J.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Le=>Le.name).includes(ts))return null;let V=null;return(yield ai(ts,Zo,{upgrade:(ue=(0,J.Z)(function*(Ce,Le,gt,ln){var nn;if(Le<2||!Ce.objectStoreNames.contains(pr))return;const jn=ln.objectStore(pr),Cr=yield jn.index("fcmSenderId").get(P);if(yield jn.clear(),Cr)if(2===Le){const Dr=Cr;if(!Dr.auth||!Dr.p256dh||!Dr.endpoint)return;V={token:Dr.fcmToken,createTime:null!==(nn=Dr.createTime)&&void 0!==nn?nn:Date.now(),subscriptionOptions:{auth:Dr.auth,p256dh:Dr.p256dh,endpoint:Dr.endpoint,swScope:Dr.swScope,vapidKey:"string"==typeof Dr.vapidKey?Dr.vapidKey:js(Dr.vapidKey)}}}else if(3===Le){const Dr=Cr;V={token:Dr.fcmToken,createTime:Dr.createTime,subscriptionOptions:{auth:js(Dr.auth),p256dh:js(Dr.p256dh),endpoint:Dr.endpoint,swScope:Dr.swScope,vapidKey:js(Dr.vapidKey)}}}else if(4===Le){const Dr=Cr;V={token:Dr.fcmToken,createTime:Dr.createTime,subscriptionOptions:{auth:js(Dr.auth),p256dh:js(Dr.p256dh),endpoint:Dr.endpoint,swScope:Dr.swScope,vapidKey:js(Dr.vapidKey)}}}}),function(Le,gt,ln,nn){return ue.apply(this,arguments)})})).close(),yield ss(ts),yield ss("fcm_vapid_details_db"),yield ss("undefined"),function tu(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:V}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}(V)?V:null;var ue}),pl.apply(this,arguments)}const Ai="firebase-messaging-database",Sa=1,po="firebase-messaging-store";let Ki=null;function go(){return Ki||(Ki=ai(Ai,Sa,{upgrade:(P,V)=>{0===V&&P.createObjectStore(po)}})),Ki}function da(P){return xa.apply(this,arguments)}function xa(){return xa=(0,J.Z)(function*(P){const V=nu(P),ue=yield(yield go()).transaction(po).objectStore(po).get(V);if(ue)return ue;{const Ce=yield function eu(P){return pl.apply(this,arguments)}(P.appConfig.senderId);if(Ce)return yield ha(P,Ce),Ce}}),xa.apply(this,arguments)}function ha(P,V){return wo.apply(this,arguments)}function wo(){return(wo=(0,J.Z)(function*(P,V){const Z=nu(P),Ce=(yield go()).transaction(po,"readwrite");return yield Ce.objectStore(po).put(V,Z),yield Ce.done,V})).apply(this,arguments)}function Ra(){return(Ra=(0,J.Z)(function*(P){const V=nu(P),ue=(yield go()).transaction(po,"readwrite");yield ue.objectStore(po).delete(V),yield ue.done})).apply(this,arguments)}function nu({appConfig:P}){return P.appId}const ns=new m.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xs(P,V){return ki.apply(this,arguments)}function ki(){return(ki=(0,J.Z)(function*(P,V){const Z=yield fa(P),ue=vu(V),Ce={method:"POST",headers:Z,body:JSON.stringify(ue)};let Le;try{Le=yield(yield fetch(Pa(P.appConfig),Ce)).json()}catch(gt){throw ns.create("token-subscribe-failed",{errorInfo:gt?.toString()})}if(Le.error)throw ns.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw ns.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function fs(){return(fs=(0,J.Z)(function*(P,V){const Z=yield fa(P),ue=vu(V.subscriptionOptions),Ce={method:"PATCH",headers:Z,body:JSON.stringify(ue)};let Le;try{Le=yield(yield fetch(`${Pa(P.appConfig)}/${V.token}`,Ce)).json()}catch(gt){throw ns.create("token-update-failed",{errorInfo:gt?.toString()})}if(Le.error)throw ns.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw ns.create("token-update-no-token");return Le.token})).apply(this,arguments)}function Yi(P,V){return $s.apply(this,arguments)}function $s(){return($s=(0,J.Z)(function*(P,V){const ue={method:"DELETE",headers:yield fa(P)};try{const Le=yield(yield fetch(`${Pa(P.appConfig)}/${V}`,ue)).json();if(Le.error)throw ns.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(Ce){throw ns.create("token-unsubscribe-failed",{errorInfo:Ce?.toString()})}})).apply(this,arguments)}function Pa({projectId:P}){return`${Ni}/projects/${P}/registrations`}function fa(P){return bs.apply(this,arguments)}function bs(){return(bs=(0,J.Z)(function*({appConfig:P,installations:V}){const Z=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function vu({p256dh:P,auth:V,endpoint:Z,vapidKey:ue}){const Ce={web:{endpoint:Z,auth:V,p256dh:P}};return ue!==fl&&(Ce.web.applicationPubKey=ue),Ce}const hd=6048e5;function eo(){return eo=(0,J.Z)(function*(P){const V=yield function ru(P,V){return Uc.apply(this,arguments)}(P.swRegistration,P.vapidKey),Z={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:V.endpoint,auth:js(V.getKey("auth")),p256dh:js(V.getKey("p256dh"))},ue=yield da(P.firebaseDependencies);if(ue){if(function M(P,V){return V.vapidKey===P.vapidKey&&V.endpoint===P.endpoint&&V.auth===P.auth&&V.p256dh===P.p256dh}(ue.subscriptionOptions,Z))return Date.now()>=ue.createTime+hd?function Eu(P,V){return ml.apply(this,arguments)}(P,{token:ue.token,createTime:Date.now(),subscriptionOptions:Z}):ue.token;try{yield Yi(P.firebaseDependencies,ue.token)}catch(Ce){console.warn(Ce)}return Ma(P.firebaseDependencies,Z)}return Ma(P.firebaseDependencies,Z)}),eo.apply(this,arguments)}function gl(){return gl=(0,J.Z)(function*(P){const V=yield da(P.firebaseDependencies);V&&(yield Yi(P.firebaseDependencies,V.token),yield function zn(P){return Ra.apply(this,arguments)}(P.firebaseDependencies));const Z=yield P.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()}),gl.apply(this,arguments)}function ml(){return ml=(0,J.Z)(function*(P,V){try{const Z=yield function Kr(P,V){return fs.apply(this,arguments)}(P.firebaseDependencies,V),ue=Object.assign(Object.assign({},V),{token:Z,createTime:Date.now()});return yield ha(P.firebaseDependencies,ue),Z}catch(Z){throw yield function vs(P){return gl.apply(this,arguments)}(P),Z}}),ml.apply(this,arguments)}function Ma(P,V){return ac.apply(this,arguments)}function ac(){return(ac=(0,J.Z)(function*(P,V){const ue={token:yield Xs(P,V),createTime:Date.now(),subscriptionOptions:V};return yield ha(P,ue),ue.token})).apply(this,arguments)}function Uc(){return(Uc=(0,J.Z)(function*(P,V){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hi(V)})})).apply(this,arguments)}function ne(P){const V={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function j(P,V){if(!V.notification)return;P.notification={};const Z=V.notification.title;Z&&(P.notification.title=Z);const ue=V.notification.body;ue&&(P.notification.body=ue);const Ce=V.notification.image;Ce&&(P.notification.image=Ce);const Le=V.notification.icon;Le&&(P.notification.icon=Le)}(V,P),function Q(P,V){V.data&&(P.data=V.data)}(V,P),function ve(P,V){var Z,ue,Ce,Le,gt;if(!(V.fcmOptions||null!==(Z=V.notification)&&void 0!==Z&&Z.click_action))return;P.fcmOptions={};const ln=null!==(Ce=null===(ue=V.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ce?Ce:null===(Le=V.notification)||void 0===Le?void 0:Le.click_action;ln&&(P.fcmOptions.link=ln);const nn=null===(gt=V.fcmOptions)||void 0===gt?void 0:gt.analytics_label;nn&&(P.fcmOptions.analyticsLabel=nn)}(V,P),V}function Rt(P,V){const Z=[];for(let ue=0;ue<P.length;ue++)Z.push(P.charAt(ue)),ue<V.length&&Z.push(V.charAt(ue));return Z.join("")}function ni(P){return ns.create("missing-app-config-values",{valueName:P})}Rt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fi{constructor(V,Z,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ce=function Rn(P){if(!P||!P.options)throw ni("App Configuration Object");if(!P.name)throw ni("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=P;for(const ue of V)if(!Z[ue])throw ni(ue);return{appName:P.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Ce,installations:Z,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Yn(){return(Yn=(0,J.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register($u,{scope:Vc}),P.swRegistration.update().catch(()=>{})}catch(V){throw ns.create("failed-service-worker-registration",{browserErrorMessage:V?.message})}})).apply(this,arguments)}function gr(){return(gr=(0,J.Z)(function*(P,V){if(!V&&!P.swRegistration&&(yield function pi(P){return Yn.apply(this,arguments)}(P)),V||!P.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw ns.create("invalid-sw-registration");P.swRegistration=V}})).apply(this,arguments)}function Io(){return(Io=(0,J.Z)(function*(P,V){V?P.vapidKey=V:P.vapidKey||(P.vapidKey=fl)})).apply(this,arguments)}function wi(){return wi=(0,J.Z)(function*(P,V){if(!navigator)throw ns.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ns.create("permission-blocked");return yield function Ji(P,V){return Io.apply(this,arguments)}(P,V?.vapidKey),yield function ei(P,V){return gr.apply(this,arguments)}(P,V?.serviceWorkerRegistration),function pa(P){return eo.apply(this,arguments)}(P)}),wi.apply(this,arguments)}function To(){return(To=(0,J.Z)(function*(P,V,Z){const ue=function gn(P){switch(P){case os.NOTIFICATION_CLICKED:return"notification_open";case os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(V);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:Z[qt],message_name:Z[sr],message_time:Z[yr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _l(){return _l=(0,J.Z)(function*(P,V){const Z=V.data;if(!Z.isFirebaseMessaging)return;P.onMessageHandler&&Z.messageType===os.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(ne(Z)):P.onMessageHandler.next(ne(Z)));const ue=Z.data;(function ft(P){return"object"==typeof P&&!!P&&qt in P})(ue)&&"1"===ue["google.c.a.e"]&&(yield function Li(P,V,Z){return To.apply(this,arguments)}(P,Z.messageType,ue))}),_l.apply(this,arguments)}const un="@firebase/messaging",Nt=P=>{const V=new fi(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function xn(P,V){return _l.apply(this,arguments)}(V,Z)),V},Zi=P=>{const V=P.getProvider("messaging").getImmediate();return{getToken:ue=>function Ot(P,V){return wi.apply(this,arguments)}(V,ue)}};function fd(){return iu.apply(this,arguments)}function iu(){return(iu=(0,J.Z)(function*(){try{yield(0,m.eu)()}catch{return!1}return typeof window<"u"&&(0,m.hl)()&&(0,m.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fi(){(0,_e.Xd)(new fe.wA("messaging",Nt,"PUBLIC")),(0,_e.Xd)(new fe.wA("messaging-internal",Zi,"PRIVATE")),(0,_e.KN)(un,"0.12.4"),(0,_e.KN)(un,"0.12.4","esm2017")}();const er="analytics",zu="firebase_id",pd="origin",zi=6e4,Kn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ga="https://www.googletagmanager.com/gtag/js",An=new be.Yd("@firebase/analytics"),tn=new m.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function dn(P){if(!P.startsWith(ga)){const V=tn.create("invalid-gtag-resource",{gtagURL:P});return An.warn(V.message),""}return P}function yl(P){return Promise.all(P.map(V=>V.catch(Z=>Z)))}function Co(){return(Co=(0,J.Z)(function*(P,V,Z,ue,Ce,Le){const gt=ue[Ce];try{if(gt)yield V[gt];else{const nn=(yield yl(Z)).find(jn=>jn.measurementId===Ce);nn&&(yield V[nn.appId])}}catch(ln){An.error(ln)}P("config",Ce,Le)})).apply(this,arguments)}function wl(){return(wl=(0,J.Z)(function*(P,V,Z,ue,Ce){try{let Le=[];if(Ce&&Ce.send_to){let gt=Ce.send_to;Array.isArray(gt)||(gt=[gt]);const ln=yield yl(Z);for(const nn of gt){const jn=ln.find(Dr=>Dr.measurementId===nn),Cr=jn&&V[jn.appId];if(!Cr){Le=[];break}Le.push(Cr)}}0===Le.length&&(Le=Object.values(V)),yield Promise.all(Le),P("event",ue,Ce||{})}catch(Le){An.error(Le)}})).apply(this,arguments)}const It=30,vr=new class Na{constructor(V={},Z=1e3){this.throttleMetadata=V,this.intervalMillis=Z}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,Z){this.throttleMetadata[V]=Z}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function He(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function no(){return(no=(0,J.Z)(function*(P){var V;const{appId:Z,apiKey:ue}=P,Ce={method:"GET",headers:He(ue)},Le=Kn.replace("{app-id}",Z),gt=yield fetch(Le,Ce);if(200!==gt.status&&304!==gt.status){let ln="";try{const nn=yield gt.json();null!==(V=nn.error)&&void 0!==V&&V.message&&(ln=nn.error.message)}catch{}throw tn.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:ln})}return gt.json()})).apply(this,arguments)}function Iu(){return(Iu=(0,J.Z)(function*(P,V=vr,Z){const{appId:ue,apiKey:Ce,measurementId:Le}=P.options;if(!ue)throw tn.create("no-app-id");if(!Ce){if(Le)return{measurementId:Le,appId:ue};throw tn.create("no-api-key")}const gt=V.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new ri;return setTimeout((0,J.Z)(function*(){ln.abort()}),void 0!==Z?Z:zi),ka({appId:ue,apiKey:Ce,measurementId:Le},gt,ln,V)})).apply(this,arguments)}function ka(P,V,Z){return md.apply(this,arguments)}function md(){return md=(0,J.Z)(function*(P,{throttleEndTimeMillis:V,backoffCount:Z},ue,Ce=vr){var Le;const{appId:gt,measurementId:ln}=P;try{yield function as(P,V){return new Promise((Z,ue)=>{const Ce=Math.max(V-Date.now(),0),Le=setTimeout(Z,Ce);P.addEventListener(()=>{clearTimeout(Le),ue(tn.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(ue,V)}catch(nn){if(ln)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${nn?.message}]`),{appId:gt,measurementId:ln};throw nn}try{const nn=yield function wu(P){return no.apply(this,arguments)}(P);return Ce.deleteThrottleMetadata(gt),nn}catch(nn){const jn=nn;if(!function Il(P){if(!(P instanceof m.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(jn)){if(Ce.deleteThrottleMetadata(gt),ln)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${jn?.message}]`),{appId:gt,measurementId:ln};throw nn}const Cr=503===Number(null===(Le=jn?.customData)||void 0===Le?void 0:Le.httpStatus)?(0,m.$s)(Z,Ce.intervalMillis,It):(0,m.$s)(Z,Ce.intervalMillis),Dr={throttleEndTimeMillis:Date.now()+Cr,backoffCount:Z+1};return Ce.setThrottleMetadata(gt,Dr),An.debug(`Calling attemptFetch again in ${Cr} millis`),ka(P,Dr,ue,Ce)}}),md.apply(this,arguments)}class ri{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let ro,ot;function rs(){return(rs=(0,J.Z)(function*(P,V,Z,ue,Ce){if(Ce&&Ce.global)P("event",Z,ue);else{const Le=yield V;P("event",Z,Object.assign(Object.assign({},ue),{send_to:Le}))}})).apply(this,arguments)}function Fr(){return(Fr=(0,J.Z)(function*(){if(!(0,m.hl)())return An.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,m.eu)()}catch(P){return An.warn(tn.create("indexeddb-unavailable",{errorInfo:P?.toString()}).message),!1}return!0})).apply(this,arguments)}function so(){return so=(0,J.Z)(function*(P,V,Z,ue,Ce,Le,gt){var ln;const nn=function Do(P){return Iu.apply(this,arguments)}(P);nn.then(zs=>{Z[zs.measurementId]=zs.appId,P.options.measurementId&&zs.measurementId!==P.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${zs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zs=>An.error(zs)),V.push(nn);const jn=function Lr(){return Fr.apply(this,arguments)}().then(zs=>{if(zs)return ue.getId()}),[Cr,Dr]=yield Promise.all([nn,jn]);(function Yd(P){const V=window.document.getElementsByTagName("script");for(const Z of Object.values(V))if(Z.src&&Z.src.includes(ga)&&Z.src.includes(P))return Z;return null})(Le)||function to(P,V){const Z=function Gu(P,V){let Z;return window.trustedTypes&&(Z=window.trustedTypes.createPolicy(P,V)),Z}("firebase-js-sdk-policy",{createScriptURL:dn}),ue=document.createElement("script"),Ce=`${ga}?l=${P}&id=${V}`;ue.src=Z?Z?.createScriptURL(Ce):Ce,ue.async=!0,document.head.appendChild(ue)}(Le,Cr.measurementId),ot&&(Ce("consent","default",ot),function nt(P){ot=P}(void 0)),Ce("js",new Date);const Yo=null!==(ln=gt?.config)&&void 0!==ln?ln:{};return Yo[pd]="firebase",Yo.update=!0,null!=Dr&&(Yo[zu]=Dr),Ce("config",Cr.measurementId,Yo),ro&&(Ce("set",ro),function en(P){ro=P}(void 0)),Cr.measurementId}),so.apply(this,arguments)}class Tu{constructor(V){this.app=V}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},_a=[];const ii={};let Bc,Wu,dc="dataLayer",bu=!1;function ou(P,V,Z){!function hc(){const P=[];if((0,m.ru)()&&P.push("This is a browser extension environment."),(0,m.zI)()||P.push("Cookies are not available."),P.length>0){const V=P.map((ue,Ce)=>`(${Ce+1}) ${ue}`).join(" "),Z=tn.create("invalid-analytics-context",{errorInfo:V});An.warn(Z.message)}}();const ue=P.options.appId;if(!ue)throw tn.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw tn.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[ue])throw tn.create("already-exists",{id:ue});if(!bu){!function vl(P){let V=[];Array.isArray(window[P])?V=window[P]:window[P]=V}(dc);const{wrappedGtag:Le,gtagCore:gt}=function ma(P,V,Z,ue,Ce){let Le=function(...gt){window[ue].push(arguments)};return window[Ce]&&"function"==typeof window[Ce]&&(Le=window[Ce]),window[Ce]=function cc(P,V,Z,ue){function Le(){return Le=(0,J.Z)(function*(gt,...ln){try{if("event"===gt){const[nn,jn]=ln;yield function El(P,V,Z,ue,Ce){return wl.apply(this,arguments)}(P,V,Z,nn,jn)}else if("config"===gt){const[nn,jn]=ln;yield function qu(P,V,Z,ue,Ce,Le){return Co.apply(this,arguments)}(P,V,Z,ue,nn,jn)}else if("consent"===gt){const[nn]=ln;P("consent","update",nn)}else if("get"===gt){const[nn,jn,Cr]=ln;P("get",nn,jn,Cr)}else if("set"===gt){const[nn]=ln;P("set",nn)}else P(gt,...ln)}catch(nn){An.error(nn)}}),Le.apply(this,arguments)}return function Ce(gt){return Le.apply(this,arguments)}}(Le,P,V,Z),{gtagCore:Le,wrappedGtag:window[Ce]}}(Ii,_a,ii,dc,"gtag");Wu=Le,Bc=gt,bu=!0}return Ii[ue]=function us(P,V,Z,ue,Ce,Le,gt){return so.apply(this,arguments)}(P,_a,ii,V,Bc,dc,Z),new Tu(P)}function Cs(){return au.apply(this,arguments)}function au(){return(au=(0,J.Z)(function*(){if((0,m.ru)()||!(0,m.zI)()||!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}const Xd="@firebase/analytics";!function Ds(){(0,_e.Xd)(new fe.wA(er,(V,{options:Z})=>ou(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,_e.Xd)(new fe.wA("analytics-internal",function P(V){try{const Z=V.getProvider(er).getImmediate();return{logEvent:(ue,Ce,Le)=>function Zu(P,V,Z,ue){P=(0,m.m9)(P),function Kh(P,V,Z,ue,Ce){return rs.apply(this,arguments)}(Wu,Ii[P.app.options.appId],V,Z,ue).catch(Ce=>An.error(Ce))}(Z,ue,Ce,Le)}}catch(Z){throw tn.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,_e.KN)(Xd,"0.10.0"),(0,_e.KN)(Xd,"0.10.0","esm2017")}();var tg=U(1954),Ui=U(2631);const Yu=new class Cu extends Ui.v{}(class Qu extends tg.o{constructor(V,Z){super(V,Z),this.scheduler=V,this.work=Z}schedule(V,Z=0){return Z>0?super.schedule(V,Z):(this.delay=Z,this.state=V,this.scheduler.flush(this),this)}execute(V,Z){return Z>0||this.closed?super.execute(V,Z):this._execute(V,Z)}requestAsyncId(V,Z,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(V,Z,ue):(V.flush(this),0)}});var gs=U(6321),jc=U(5592),La=U(9397),uu=U(5137),Hc=U(3093);const oo=new I.GfV("7.6.1"),Fa="__angularfire_symbol__analyticsIsSupportedValue",Du="__angularfire_symbol__analyticsIsSupported",Va="__angularfire_symbol__remoteConfigIsSupportedValue",$c="__angularfire_symbol__remoteConfigIsSupported",Qo="__angularfire_symbol__messagingIsSupportedValue",lu="__angularfire_symbol__messagingIsSupported";function pc(P,V,Z){if(V){if(1===V.length)return V[0];const Le=V.filter(gt=>gt.app===Z);if(1===Le.length)return Le[0]}return Z.container.getProvider(P).getImmediate({optional:!0})}globalThis[Du]||(globalThis[Du]=Cs().then(P=>globalThis[Fa]=P).catch(()=>globalThis[Fa]=!1)),globalThis[lu]||(globalThis[lu]=fd().then(P=>globalThis[Qo]=P).catch(()=>globalThis[Qo]=!1)),globalThis[$c]||(globalThis[$c]=Fc().then(P=>globalThis[Va]=P).catch(()=>globalThis[Va]=!1));const eh=(P,V)=>{const Z=V?[V]:(0,te.C6)(),ue=[];return Z.forEach(Ce=>{Ce.container.getProvider(P).instances.forEach(gt=>{ue.includes(gt)||ue.push(gt)})}),ue};function Ua(){}class Ba{constructor(V,Z=Yu){this.zone=V,this.delegate=Z}now(){return this.delegate.now()}schedule(V,Z,ue){const Ce=this.zone;return this.delegate.schedule(function(gt){Ce.runGuarded(()=>{V.apply(this,[gt])})},Z,ue)}}class zc{constructor(V){this.zone=V,this.task=null}call(V,Z){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)),Z.pipe((0,La.b)({next:ue,complete:ue,error:ue})).subscribe(V).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gc=(()=>{class P{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Ba(Zone.current)),this.insideAngular=Z.run(()=>new Ba(Zone.current,gs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Z){return new(Z||P)(I.LFG(I.R0b))},P.\u0275prov=I.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function bl(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Uo(P){return bl().ngZone.run(()=>P())}function Ti(P){return bl(),function Xu(P){return function(Z){return(Z=Z.lift(new zc(P.ngZone))).pipe((0,uu.R)(P.outsideAngular),(0,Hc.Q)(P.insideAngular))}}(bl())(P)}const Yf=(P,V)=>function(){const ue=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),Uo(()=>P.apply(void 0,ue))},Au=(P,V)=>function(){let Z;const ue=arguments;for(let Le=0;Le<arguments.length;Le++)"function"==typeof ue[Le]&&(V&&(Z||(Z=Uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ua,{},Ua,Ua)))),ue[Le]=Yf(ue[Le],Z));const Ce=function Hl(P){return bl().ngZone.runOutsideAngular(()=>P())}(()=>P.apply(this,ue));if(!V){if(Ce instanceof jc.y){const Le=bl();return Ce.pipe((0,uu.R)(Le.outsideAngular),(0,Hc.Q)(Le.insideAngular))}return Uo(()=>Ce)}return Ce instanceof jc.y?Ce.pipe(Ti):Ce instanceof Promise?Uo(()=>new Promise((Le,gt)=>Ce.then(ln=>Uo(()=>Le(ln)),ln=>Uo(()=>gt(ln))))):"function"==typeof Ce&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),Ce.apply(this,arguments)}:Uo(()=>Ce)}},6710:(Wt,ze,U)=>{U.d(ze,{$:()=>$u,A:()=>pe,D:()=>Je,I:()=>Mi,J:()=>ct,L:()=>hs,N:()=>En,P:()=>us,Q:()=>Vu,R:()=>io,U:()=>Uu,V:()=>Fc,W:()=>fo,X:()=>Da,Y:()=>ju,Z:()=>dd,_:()=>Ja,a:()=>su,a0:()=>fl,a1:()=>qt,a2:()=>Ts,a3:()=>pr,a4:()=>pl,a5:()=>Ai,a6:()=>po,a7:()=>go,a8:()=>xa,a9:()=>wo,aA:()=>ye,aB:()=>Du,aC:()=>_t,aD:()=>_r,aE:()=>La,aF:()=>Qh,aG:()=>Vi,aH:()=>Lt,aL:()=>uc,aO:()=>Bu,aa:()=>zn,ab:()=>nu,ac:()=>Hs,ad:()=>Kr,ae:()=>Yi,af:()=>Pa,ai:()=>hd,aj:()=>eo,ak:()=>vs,an:()=>Hu,ao:()=>j,aq:()=>Io,ar:()=>un,as:()=>Pt,at:()=>Xt,au:()=>$e,av:()=>tt,aw:()=>Dr,ax:()=>lu,ay:()=>Xn,az:()=>Xe,b:()=>$i,c:()=>Wu,d:()=>ou,e:()=>eg,f:()=>Xd,g:()=>Cu,h:()=>tg,i:()=>kt,j:()=>gs,k:()=>Cl,l:()=>W,m:()=>Xh,p:()=>me,r:()=>Ee,s:()=>A,u:()=>Lr});var I=U(5861),te=U(9058),J=U(7592),_e=U(7582),m=U(7879),fe=U(4537);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Je=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new m.Yd("@firebase/auth");function bt(x,...E){ke.logLevel<=m.in.ERROR&&ke.error(`Auth (${J.SDK_VERSION}): ${x}`,...E)}function tt(x,...E){throw vt(x,...E)}function Xe(x,...E){return vt(x,...E)}function ut(x,E,b){const O=Object.assign(Object.assign({},lt()),{[E]:b});return new te.LL("auth","Firebase",O).create(E,{appName:x.name})}function St(x,E,b){if(!(E instanceof b))throw b.name!==E.constructor.name&&tt(x,"argument-error"),ut(x,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(x,...E){if("string"!=typeof x){const b=E[0],O=[...E.slice(1)];return O[0]&&(O[0].appName=x.name),x._errorFactory.create(b,...O)}return at.create(x,...E)}function ye(x,E,...b){if(!x)throw vt(E,...b)}function ht(x){const E="INTERNAL ASSERTION FAILED: "+x;throw bt(E),new Error(E)}function Pt(x,E){x||ht(E)}function an(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function In(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Jn{constructor(E,b){this.shortDelay=E,this.longDelay=b,Pt(b>E,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(In()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nr(x,E){Pt(x.emulator,"Emulator should always be set here");const{url:b}=x.emulator;return E?`${b}${E.startsWith("/")?E.slice(1):E}`:b}class qe{static initialize(E,b,O){this.fetchImpl=E,b&&(this.headersImpl=b),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new Jn(3e4,6e4);function We(x,E){return x.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:x.tenantId}):E}function Et(x,E,b,O){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,I.Z)(function*(x,E,b,O,Y={}){return Yt(x,Y,(0,I.Z)(function*(){let ae={},Ne={};O&&("GET"===E?Ne=O:ae={body:JSON.stringify(O)});const pt=(0,te.xO)(Object.assign({key:x.config.apiKey},Ne)).slice(1),Zt=yield x._getAdditionalHeaders();return Zt["Content-Type"]="application/json",x.languageCode&&(Zt["X-Firebase-Locale"]=x.languageCode),qe.fetch()(rr(x,x.config.apiHost,b,pt),Object.assign({method:E,headers:Zt,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function Yt(x,E,b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,I.Z)(function*(x,E,b){x._canInitEmulator=!1;const O=Object.assign(Object.assign({},Ke),E);try{const Y=new Cn(x),ae=yield Promise.race([b(),Y.promise]);Y.clearNetworkTimeout();const Ne=yield ae.json();if("needConfirmation"in Ne)throw mr(x,"account-exists-with-different-credential",Ne);if(ae.ok&&!("errorMessage"in Ne))return Ne;{const pt=ae.ok?Ne.errorMessage:Ne.error.message,[Zt,fn]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw mr(x,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Zt)throw mr(x,"email-already-in-use",Ne);if("USER_DISABLED"===Zt)throw mr(x,"user-disabled",Ne);const hn=O[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw ut(x,hn,fn);tt(x,hn)}}catch(Y){if(Y instanceof te.ZR)throw Y;tt(x,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function rn(x,E,b,O){return vn.apply(this,arguments)}function vn(){return(vn=(0,I.Z)(function*(x,E,b,O,Y={}){const ae=yield Et(x,E,b,O,Y);return"mfaPendingCredential"in ae&&tt(x,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function rr(x,E,b,O){const Y=`${E}${b}?${O}`;return x.config.emulator?Nr(x.config,Y):`${x.config.apiScheme}://${Y}`}class Cn{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((b,O)=>{this.timer=setTimeout(()=>O(Xe(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mr(x,E,b){const O={appName:x.name};b.email&&(O.email=b.email),b.phoneNumber&&(O.phoneNumber=b.phoneNumber);const Y=Xe(x,E,O);return Y.customData._tokenResponse=b,Y}function cr(){return(cr=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Zr(){return(Zr=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function si(){return(si=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function Br(x){if(x)try{const E=new Date(Number(x));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function Wr(){return(Wr=(0,I.Z)(function*(x,E=!1){const b=(0,te.m9)(x),O=yield b.getIdToken(E),Y=cn(O);ye(Y&&Y.exp&&Y.auth_time&&Y.iat,b.auth,"internal-error");const ae="object"==typeof Y.firebase?Y.firebase:void 0,Ne=ae?.sign_in_provider;return{claims:Y,token:O,authTime:Br(or(Y.auth_time)),issuedAtTime:Br(or(Y.iat)),expirationTime:Br(or(Y.exp)),signInProvider:Ne||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function or(x){return 1e3*Number(x)}function cn(x){const[E,b,O]=x.split(".");if(void 0===E||void 0===b||void 0===O)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,te.tV)(b);return Y?JSON.parse(Y):(bt("Failed to decode base64 JWT payload"),null)}catch(Y){return bt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function kr(x,E){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,I.Z)(function*(x,E,b=!1){if(b)return E;try{return yield E}catch(O){throw O instanceof te.ZR&&function Jt({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(O)&&x.auth.currentUser===x&&(yield x.auth.signOut()),O}})).apply(this,arguments)}class On{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var b;if(E){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const Y=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(E=!1){var b=this;if(!this.isRunning)return;const O=this.getInterval(E);this.timerId=setTimeout((0,I.Z)(function*(){yield b.iteration()}),O)}iteration(){var E=this;return(0,I.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&E.schedule(!0))}E.schedule()})()}}class wr{constructor(E,b){this.createdAt=E,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Br(this.lastLoginAt),this.creationTime=Br(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ri(x){return ir.apply(this,arguments)}function ir(){return ir=(0,I.Z)(function*(x){var E;const b=x.auth,O=yield x.getIdToken(),Y=yield kr(x,function ci(x,E){return si.apply(this,arguments)}(b,{idToken:O}));ye(Y?.users.length,b,"internal-error");const ae=Y.users[0];x._notifyReloadListener(ae);const Ne=null!==(E=ae.providerUserInfo)&&void 0!==E&&E.length?function Pi(x){return x.map(E=>{var{providerId:b}=E,O=(0,_e._T)(E,["providerId"]);return{providerId:b,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}(ae.providerUserInfo):[],pt=function Ir(x,E){return[...x.filter(O=>!E.some(Y=>Y.providerId===O.providerId)),...E]}(x.providerData,Ne),hn=!!x.isAnonymous&&!(x.email&&ae.passwordHash||pt?.length),Hr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:pt,metadata:new wr(ae.createdAt,ae.lastLoginAt),isAnonymous:hn};Object.assign(x,Hr)}),ir.apply(this,arguments)}function Un(){return(Un=(0,I.Z)(function*(x){const E=(0,te.m9)(x);yield Ri(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function ar(){return(ar=(0,I.Z)(function*(x,E){const b=yield Yt(x,{},(0,I.Z)(function*(){const O=(0,te.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:Y,apiKey:ae}=x.config,Ne=rr(x,Y,"/v1/token",`key=${ae}`),pt=yield x._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(Ne,{method:"POST",headers:pt,body:O})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){ye(E.idToken,"internal-error"),ye(typeof E.idToken<"u","internal-error"),ye(typeof E.refreshToken<"u","internal-error");const b="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function Fn(x){const E=cn(x);return ye(E,"internal-error"),ye(typeof E.exp<"u","internal-error"),ye(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,b)}getToken(E,b=!1){var O=this;return(0,I.Z)(function*(){return ye(!O.accessToken||O.refreshToken,E,"user-token-expired"),b||!O.accessToken||O.isExpired?O.refreshToken?(yield O.refresh(E,O.refreshToken),O.accessToken):null:O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,b){var O=this;return(0,I.Z)(function*(){const{accessToken:Y,refreshToken:ae,expiresIn:Ne}=yield function Wi(x,E){return ar.apply(this,arguments)}(E,b);O.updateTokensAndExpiration(Y,ae,Number(Ne))})()}updateTokensAndExpiration(E,b,O){this.refreshToken=b||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(E,b){const{refreshToken:O,accessToken:Y,expirationTime:ae}=b,Ne=new qn;return O&&(ye("string"==typeof O,"internal-error",{appName:E}),Ne.refreshToken=O),Y&&(ye("string"==typeof Y,"internal-error",{appName:E}),Ne.accessToken=Y),ae&&(ye("number"==typeof ae,"internal-error",{appName:E}),Ne.expirationTime=ae),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return ht("not implemented")}}function it(x,E){ye("string"==typeof x||typeof x>"u","internal-error",{appName:E})}class Se{constructor(E){var{uid:b,auth:O,stsTokenManager:Y}=E,ae=(0,_e._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new On(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=O,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new wr(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(E){var b=this;return(0,I.Z)(function*(){const O=yield kr(b,b.stsTokenManager.getToken(b.auth,E));return ye(O,b.auth,"internal-error"),b.accessToken!==O&&(b.accessToken=O,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),O})()}getIdTokenResult(E){return function Wn(x){return Wr.apply(this,arguments)}(this,E)}reload(){return function Kt(x){return Un.apply(this,arguments)}(this)}_assign(E){this!==E&&(ye(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(b=>Object.assign({},b)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const b=new Se(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(E){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,b=!1){var O=this;return(0,I.Z)(function*(){let Y=!1;E.idToken&&E.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(E),Y=!0),b&&(yield Ri(O)),yield O.auth._persistUserIfCurrent(O),Y&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var E=this;return(0,I.Z)(function*(){const b=yield E.getIdToken();return yield kr(E,function hr(x,E){return cr.apply(this,arguments)}(E.auth,{idToken:b})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,b){var O,Y,ae,Ne,pt,Zt,fn,hn;const Hr=null!==(O=b.displayName)&&void 0!==O?O:void 0,Bo=null!==(Y=b.email)&&void 0!==Y?Y:void 0,Ls=null!==(ae=b.phoneNumber)&&void 0!==ae?ae:void 0,tp=null!==(Ne=b.photoURL)&&void 0!==Ne?Ne:void 0,Xo=null!==(pt=b.tenantId)&&void 0!==pt?pt:void 0,th=null!==(Zt=b._redirectEventId)&&void 0!==Zt?Zt:void 0,vc=null!==(fn=b.createdAt)&&void 0!==fn?fn:void 0,np=null!==(hn=b.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:tl,emailVerified:yd,isAnonymous:jo,providerData:Wc,stsTokenManager:rg}=b;ye(tl&&rg,E,"internal-error");const qr=qn.fromJSON(this.name,rg);ye("string"==typeof tl,E,"internal-error"),it(Hr,E.name),it(Bo,E.name),ye("boolean"==typeof yd,E,"internal-error"),ye("boolean"==typeof jo,E,"internal-error"),it(Ls,E.name),it(tp,E.name),it(Xo,E.name),it(th,E.name),it(vc,E.name),it(np,E.name);const Ec=new Se({uid:tl,auth:E,email:Bo,emailVerified:yd,displayName:Hr,isAnonymous:jo,photoURL:tp,phoneNumber:Ls,tenantId:Xo,stsTokenManager:qr,createdAt:vc,lastLoginAt:np});return Wc&&Array.isArray(Wc)&&(Ec.providerData=Wc.map(ig=>Object.assign({},ig))),th&&(Ec._redirectEventId=th),Ec}static _fromIdTokenResponse(E,b,O=!1){return(0,I.Z)(function*(){const Y=new qn;Y.updateFromServerResponse(b);const ae=new Se({uid:b.localId,auth:E,stsTokenManager:Y,isAnonymous:O});return yield Ri(ae),ae})()}}const je=new Map;function _t(x){Pt(x instanceof Function,"Expected a class definition");let E=je.get(x);return E?(Pt(E instanceof x,"Instance stored in cache mismatched with class"),E):(E=new x,je.set(x,E),E)}const En=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(b,O){var Y=this;return(0,I.Z)(function*(){Y.storage[b]=O})()}_get(b){var O=this;return(0,I.Z)(function*(){const Y=O.storage[b];return void 0===Y?null:Y})()}_remove(b){var O=this;return(0,I.Z)(function*(){delete O.storage[b]})()}_addListener(b,O){}_removeListener(b,O){}}return x.type="NONE",x})();function _r(x,E,b){return`firebase:${x}:${E}:${b}`}class Te{constructor(E,b,O){this.persistence=E,this.auth=b,this.userKey=O;const{config:Y,name:ae}=this.auth;this.fullUserKey=_r(this.userKey,Y.apiKey,ae),this.fullPersistenceKey=_r("persistence",Y.apiKey,ae),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,I.Z)(function*(){const b=yield E.persistence._get(E.fullUserKey);return b?Se._fromJSON(E.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var b=this;return(0,I.Z)(function*(){if(b.persistence===E)return;const O=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=E,O?b.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,b,O="authUser"){return(0,I.Z)(function*(){if(!b.length)return new Te(_t(En),E,O);const Y=(yield Promise.all(b.map(function(){var fn=(0,I.Z)(function*(hn){if(yield hn._isAvailable())return hn});return function(hn){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let ae=Y[0]||_t(En);const Ne=_r(O,E.config.apiKey,E.name);let pt=null;for(const fn of b)try{const hn=yield fn._get(Ne);if(hn){const Hr=Se._fromJSON(E,hn);fn!==ae&&(pt=Hr),ae=fn;break}}catch{}const Zt=Y.filter(fn=>fn._shouldAllowMigration);return ae._shouldAllowMigration&&Zt.length?(ae=Zt[0],pt&&(yield ae._set(Ne,pt.toJSON())),yield Promise.all(b.map(function(){var fn=(0,I.Z)(function*(hn){if(hn!==ae)try{yield hn._remove(Ne)}catch{}});return function(hn){return fn.apply(this,arguments)}}())),new Te(ae,E,O)):new Te(ae,E,O)})()}}function re(x){const E=x.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(he(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(q(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(wt(E))return"Blackberry";if(on(E))return"Webos";if(B(E))return"Safari";if((E.includes("chrome/")||$(E))&&!E.includes("edge/"))return"Chrome";if($e(E))return"Android";{const O=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===O?.length)return O[1]}return"Other"}function q(x=(0,te.z$)()){return/firefox\//i.test(x)}function B(x=(0,te.z$)()){const E=x.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function $(x=(0,te.z$)()){return/crios\//i.test(x)}function he(x=(0,te.z$)()){return/iemobile/i.test(x)}function $e(x=(0,te.z$)()){return/android/i.test(x)}function wt(x=(0,te.z$)()){return/blackberry/i.test(x)}function on(x=(0,te.z$)()){return/webos/i.test(x)}function Xt(x=(0,te.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function Xn(x=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function Qn(x=(0,te.z$)()){return Xt(x)||$e(x)||on(x)||wt(x)||/windows phone/i.test(x)||he(x)}function ie(x,E=[]){let b;switch(x){case"Browser":b=re((0,te.z$)());break;case"Worker":b=`${re((0,te.z$)())}-${x}`;break;default:b=x}const O=E.length?E.join(","):"FirebaseCore-web";return`${b}/JsCore/${J.SDK_VERSION}/${O}`}function Me(){return(Me=(0,I.Z)(function*(x){return(yield Et(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bt(x,E){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,I.Z)(function*(x,E){return Et(x,"GET","/v2/recaptchaConfig",We(x,E))})).apply(this,arguments)}function fr(x){return void 0!==x&&void 0!==x.getResponse}function Xr(x){return void 0!==x&&void 0!==x.enterprise}class Ln{constructor(E){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.emailPasswordEnabled=E.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Ue(x){return new Promise((E,b)=>{const O=document.createElement("script");O.setAttribute("src",x),O.onload=E,O.onerror=Y=>{const ae=Xe("internal-error");ae.customData=Y,b(ae)},O.type="text/javascript",O.charset="UTF-8",function is(){var x,E;return null!==(E=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==E?E:document}().appendChild(O)})}function De(x){return`__${x}${Math.floor(1e6*Math.random())}`}class Ut{constructor(E){this.type="recaptcha-enterprise",this.auth=Lt(E)}verify(E="verify",b=!1){var O=this;return(0,I.Z)(function*(){function ae(){return ae=(0,I.Z)(function*(pt){if(!b){if(null==pt.tenantId&&null!=pt._agentRecaptchaConfig)return pt._agentRecaptchaConfig.siteKey;if(null!=pt.tenantId&&void 0!==pt._tenantRecaptchaConfigs[pt.tenantId])return pt._tenantRecaptchaConfigs[pt.tenantId].siteKey}return new Promise(function(){var Zt=(0,I.Z)(function*(fn,hn){Bt(pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hr=>{if(void 0!==Hr.recaptchaKey){const Bo=new Ln(Hr);return null==pt.tenantId?pt._agentRecaptchaConfig=Bo:pt._tenantRecaptchaConfigs[pt.tenantId]=Bo,fn(Bo.siteKey)}hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Hr=>{hn(Hr)})});return function(fn,hn){return Zt.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Ne(pt,Zt,fn){const hn=window.grecaptcha;Xr(hn)?hn.enterprise.ready(()=>{hn.enterprise.execute(pt,{action:E}).then(Hr=>{Zt(Hr)}).catch(()=>{Zt("NO_RECAPTCHA")})}):fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pt,Zt)=>{(function Y(pt){return ae.apply(this,arguments)})(O.auth).then(fn=>{if(!b&&Xr(window.grecaptcha))Ne(fn,pt,Zt);else{if(typeof window>"u")return void Zt(new Error("RecaptchaVerifier is only supported in browser"));Ue("https://www.google.com/recaptcha/enterprise.js?render="+fn).then(()=>{Ne(fn,pt,Zt)}).catch(hn=>{Zt(hn)})}}).catch(fn=>{Zt(fn)})})})()}}function Vt(x,E,b){return $n.apply(this,arguments)}function $n(){return($n=(0,I.Z)(function*(x,E,b,O=!1){const Y=new Ut(x);let ae;try{ae=yield Y.verify(b)}catch{ae=yield Y.verify(b,!0)}const Ne=Object.assign({},E);return Object.assign(Ne,O?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}class Nn{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,b){const O=ae=>new Promise((Ne,pt)=>{try{Ne(E(ae))}catch(Zt){pt(Zt)}});O.onAbort=b,this.queue.push(O);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(E){var b=this;return(0,I.Z)(function*(){if(b.auth.currentUser===E)return;const O=[];try{for(const Y of b.queue)yield Y(E),Y.onAbort&&O.push(Y.onAbort)}catch(Y){O.reverse();for(const ae of O)try{ae()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class Mr{constructor(E,b,O,Y){this.app=E,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=O,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ur(this),this.idTokenSubscription=new ur(this),this.beforeStateQueue=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(E,b){var O=this;return b&&(this._popupRedirectResolver=_t(b)),this._initializationPromise=this.queue((0,I.Z)(function*(){var Y,ae;if(!O._deleted&&(O.persistenceManager=yield Te.create(O,E),!O._deleted)){if(null!==(Y=O._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(b),O.lastNotifiedUid=(null===(ae=O.currentUser)||void 0===ae?void 0:ae.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,I.Z)(function*(){if(E._deleted)return;const b=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||b){if(E.currentUser&&b&&E.currentUser.uid===b.uid)return E._currentUser._assign(b),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(b,!0)}})()}initializeCurrentUser(E){var b=this;return(0,I.Z)(function*(){var O;const Y=yield b.assertedPersistence.getCurrentUser();let ae=Y,Ne=!1;if(E&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const pt=null===(O=b.redirectUser)||void 0===O?void 0:O._redirectEventId,Zt=ae?._redirectEventId,fn=yield b.tryRedirectSignIn(E);(!pt||pt===Zt)&&fn?.user&&(ae=fn.user,Ne=!0)}if(!ae)return b.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Ne)try{yield b.beforeStateQueue.runMiddleware(ae)}catch(pt){ae=Y,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(pt))}return ae?b.reloadAndSetCurrentUserOrClear(ae):b.directlySetCurrentUser(null)}return ye(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ae._redirectEventId?b.directlySetCurrentUser(ae):b.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(E){var b=this;return(0,I.Z)(function*(){let O=null;try{O=yield b._popupRedirectResolver._completeRedirectFn(b,E,!0)}catch{yield b._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(E){var b=this;return(0,I.Z)(function*(){try{yield Ri(E)}catch(O){if("auth/network-request-failed"!==O?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function zr(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var E=this;return(0,I.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var b=this;return(0,I.Z)(function*(){const O=E?(0,te.m9)(E):null;return O&&ye(O.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(O&&O._clone(b))})()}_updateCurrentUser(E,b=!1){var O=this;return(0,I.Z)(function*(){if(!O._deleted)return E&&ye(O.tenantId===E.tenantId,O,"tenant-id-mismatch"),b||(yield O.beforeStateQueue.runMiddleware(E)),O.queue((0,I.Z)(function*(){yield O.directlySetCurrentUser(E),O.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,I.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var b=this;return this.queue((0,I.Z)(function*(){yield b.assertedPersistence.setPersistence(_t(E))}))}initializeRecaptchaConfig(){var E=this;return(0,I.Z)(function*(){const b=yield Bt(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),O=new Ln(b);null==E.tenantId?E._agentRecaptchaConfig=O:E._tenantRecaptchaConfigs[E.tenantId]=O,O.emailPasswordEnabled&&new Ut(E).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new te.LL("auth","Firebase",E())}onAuthStateChanged(E,b,O){return this.registerStateListener(this.authStateSubscription,E,b,O)}beforeAuthStateChanged(E,b){return this.beforeStateQueue.pushCallback(E,b)}onIdTokenChanged(E,b,O){return this.registerStateListener(this.idTokenSubscription,E,b,O)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,b){var O=this;return(0,I.Z)(function*(){const Y=yield O.getOrInitRedirectPersistenceManager(b);return null===E?Y.removeCurrentUser():Y.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var b=this;return(0,I.Z)(function*(){if(!b.redirectPersistenceManager){const O=E&&_t(E)||b._popupRedirectResolver;ye(O,b,"argument-error"),b.redirectPersistenceManager=yield Te.create(b,[_t(O._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(E){var b=this;return(0,I.Z)(function*(){var O,Y;return b._isInitialized&&(yield b.queue((0,I.Z)(function*(){}))),(null===(O=b._currentUser)||void 0===O?void 0:O._redirectEventId)===E?b._currentUser:(null===(Y=b.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===E?b.redirectUser:null})()}_persistUserIfCurrent(E){var b=this;return(0,I.Z)(function*(){if(E===b.currentUser)return b.queue((0,I.Z)(function*(){return b.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(b=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,b,O,Y){if(this._deleted)return()=>{};const ae="function"==typeof b?b:b.next.bind(b),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(Ne,this,"internal-error"),Ne.then(()=>ae(this.currentUser)),"function"==typeof b?E.addObserver(b,O,Y):E.addObserver(b)}directlySetCurrentUser(E){var b=this;return(0,I.Z)(function*(){b.currentUser&&b.currentUser!==E&&b._currentUser._stopProactiveRefresh(),E&&b.isProactiveRefreshEnabled&&E._startProactiveRefresh(),b.currentUser=E,E?yield b.assertedPersistence.setCurrentUser(E):yield b.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,I.Z)(function*(){var b;const O={"X-Client-Version":E.clientVersion};E.app.options.appId&&(O["X-Firebase-gmpid"]=E.app.options.appId);const Y=yield null===(b=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();Y&&(O["X-Firebase-Client"]=Y);const ae=yield E._getAppCheckToken();return ae&&(O["X-Firebase-AppCheck"]=ae),O})()}_getAppCheckToken(){var E=this;return(0,I.Z)(function*(){var b;const O=yield null===(b=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return O?.error&&function Oe(x,...E){ke.logLevel<=m.in.WARN&&ke.warn(`Auth (${J.SDK_VERSION}): ${x}`,...E)}(`Error while retrieving App Check token: ${O.error}`),O?.token})()}}function Lt(x){return(0,te.m9)(x)}class ur{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,te.ne)(b=>this.observer=b)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mi(x,E,b){const O=Lt(x);ye(O._canInitEmulator,O,"emulator-config-failed"),ye(/^https?:\/\//.test(E),O,"invalid-emulator-scheme");const Y=!!b?.disableWarnings,ae=Pe(E),{host:Ne,port:pt}=function we(x){const E=Pe(x),b=/(\/\/)?([^?#/]+)/.exec(x.substr(E.length));if(!b)return{host:"",port:null};const O=b[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(O);if(Y){const ae=Y[1];return{host:ae,port:Ge(O.substr(ae.length+1))}}{const[ae,Ne]=O.split(":");return{host:ae,port:Ge(Ne)}}}(E);O.config.emulator={url:`${ae}//${Ne}${null===pt?"":`:${pt}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Ne,port:pt,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function xt(){function x(){const E=document.createElement("p"),b=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function Pe(x){const E=x.indexOf(":");return E<0?"":x.substr(0,E+1)}function Ge(x){if(!x)return null;const E=Number(x);return isNaN(E)?null:E}class ct{constructor(E,b){this.providerId=E,this.signInMethod=b}toJSON(){return ht("not implemented")}_getIdTokenResponse(E){return ht("not implemented")}_linkToIdToken(E,b){return ht("not implemented")}_getReauthenticationResolver(E){return ht("not implemented")}}function Bn(x,E){return xr.apply(this,arguments)}function xr(){return(xr=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:resetPassword",We(x,E))})).apply(this,arguments)}function lr(x,E){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function ko(){return(ko=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:update",We(x,E))})).apply(this,arguments)}function Di(x,E){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithPassword",We(x,E))})).apply(this,arguments)}function ll(x,E){return qa.apply(this,arguments)}function qa(){return(qa=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:sendOobCode",We(x,E))})).apply(this,arguments)}function Lo(){return(Lo=(0,I.Z)(function*(x,E){return ll(x,E)})).apply(this,arguments)}function Lu(x,E){return Go.apply(this,arguments)}function Go(){return(Go=(0,I.Z)(function*(x,E){return ll(x,E)})).apply(this,arguments)}function sc(x,E){return fu.apply(this,arguments)}function fu(){return(fu=(0,I.Z)(function*(x,E){return ll(x,E)})).apply(this,arguments)}function Qs(){return(Qs=(0,I.Z)(function*(x,E){return ll(x,E)})).apply(this,arguments)}function Ps(){return(Ps=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithEmailLink",We(x,E))})).apply(this,arguments)}function Fu(){return(Fu=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithEmailLink",We(x,E))})).apply(this,arguments)}class Oi extends ct{constructor(E,b,O,Y=null){super("password",O),this._email=E,this._password=b,this._tenantId=Y}static _fromEmailAndPassword(E,b){return new Oi(E,b,"password")}static _fromEmailAndCode(E,b,O=null){return new Oi(E,b,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const b="string"==typeof E?JSON.parse(E):E;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(E){var b=this;return(0,I.Z)(function*(){var O;switch(b.signInMethod){case"password":const Y={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=E._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const ae=yield Vt(E,Y,"signInWithPassword");return Di(E,ae)}return Di(E,Y).catch(function(){var ae=(0,I.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pt=yield Vt(E,Y,"signInWithPassword");return Di(E,pt)}return Promise.reject(Ne)});return function(Ne){return ae.apply(this,arguments)}}());case"emailLink":return function ys(x,E){return Ps.apply(this,arguments)}(E,{email:b._email,oobCode:b._password});default:tt(E,"internal-error")}})()}_linkToIdToken(E,b){var O=this;return(0,I.Z)(function*(){switch(O.signInMethod){case"password":return lr(E,{idToken:b,returnSecureToken:!0,email:O._email,password:O._password});case"emailLink":return function qo(x,E){return Fu.apply(this,arguments)}(E,{idToken:b,email:O._email,oobCode:O._password});default:tt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Qr(x,E){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithIdp",We(x,E))})).apply(this,arguments)}class hs extends ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const b=new hs(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(b.idToken=E.idToken),E.accessToken&&(b.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(b.nonce=E.nonce),E.pendingToken&&(b.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(b.accessToken=E.oauthToken,b.secret=E.oauthTokenSecret):tt("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const b="string"==typeof E?JSON.parse(E):E,{providerId:O,signInMethod:Y}=b,ae=(0,_e._T)(b,["providerId","signInMethod"]);if(!O||!Y)return null;const Ne=new hs(O,Y);return Ne.idToken=ae.idToken||void 0,Ne.accessToken=ae.accessToken||void 0,Ne.secret=ae.secret,Ne.nonce=ae.nonce,Ne.pendingToken=ae.pendingToken||null,Ne}_getIdTokenResponse(E){return Qr(E,this.buildRequest())}_linkToIdToken(E,b){const O=this.buildRequest();return O.idToken=b,Qr(E,O)}_getReauthenticationResolver(E){const b=this.buildRequest();return b.autoCreate=!1,Qr(E,b)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),E.postBody=(0,te.xO)(b)}return E}}function mu(){return(mu=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:sendVerificationCode",We(x,E))})).apply(this,arguments)}function hl(){return(hl=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithPhoneNumber",We(x,E))})).apply(this,arguments)}function Ka(){return(Ka=(0,I.Z)(function*(x,E){const b=yield rn(x,"POST","/v1/accounts:signInWithPhoneNumber",We(x,E));if(b.temporaryProof)throw mr(x,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const ws={USER_NOT_FOUND:"user-not-found"};function $r(){return($r=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithPhoneNumber",We(x,Object.assign(Object.assign({},E),{operation:"REAUTH"})),ws)})).apply(this,arguments)}class Os extends ct{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,b){return new Os({verificationId:E,verificationCode:b})}static _fromTokenResponse(E,b){return new Os({phoneNumber:E,temporaryProof:b})}_getIdTokenResponse(E){return function dl(x,E){return hl.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,b){return function ho(x,E){return Ka.apply(this,arguments)}(E,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function Ms(x,E){return $r.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:b,verificationId:O,verificationCode:Y}=this.params;return E&&b?{temporaryProof:E,phoneNumber:b}:{sessionInfo:O,code:Y}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:b,verificationCode:O,phoneNumber:Y,temporaryProof:ae}=E;return O||b||Y||ae?new Os({verificationId:b,verificationCode:O,phoneNumber:Y,temporaryProof:ae}):null}}class Qa{constructor(E){var b,O,Y,ae,Ne,pt;const Zt=(0,te.zd)((0,te.pd)(E)),fn=null!==(b=Zt.apiKey)&&void 0!==b?b:null,hn=null!==(O=Zt.oobCode)&&void 0!==O?O:null,Hr=function Fo(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Zt.mode)&&void 0!==Y?Y:null);ye(fn&&hn&&Hr,"argument-error"),this.apiKey=fn,this.operation=Hr,this.code=hn,this.continueUrl=null!==(ae=Zt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Ne=Zt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(pt=Zt.tenantId)&&void 0!==pt?pt:null}static parseLink(E){const b=function Za(x){const E=(0,te.zd)((0,te.pd)(x)).link,b=E?(0,te.zd)((0,te.pd)(E)).deep_link_id:null,O=(0,te.zd)((0,te.pd)(x)).deep_link_id;return(O?(0,te.zd)((0,te.pd)(O)).link:null)||O||b||E||x}(E);try{return new Qa(b)}catch{return null}}}let Vu=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(b,O){return Oi._fromEmailAndPassword(b,O)}static credentialWithLink(b,O){const Y=Qa.parseLink(O);return ye(Y,"argument-error"),Oi._fromEmailAndCode(b,Y.code,Y.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class la{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class _u extends la{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Da extends _u{static credentialFromJSON(E){const b="string"==typeof E?JSON.parse(E):E;return ye("providerId"in b&&"signInMethod"in b,"argument-error"),hs._fromParams(b)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return ye(E.idToken||E.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Da.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Da.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:b,oauthAccessToken:O,oauthTokenSecret:Y,pendingToken:ae,nonce:Ne,providerId:pt}=E;if(!O&&!Y&&!b&&!ae||!pt)return null;try{return new Da(pt)._credential({idToken:b,accessToken:O,nonce:Ne,pendingToken:ae})}catch{return null}}}let Uu=(()=>{class x extends _u{constructor(){super("facebook.com")}static credential(b){return hs._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return x.credential(b.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Fc=(()=>{class x extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(b,O){return hs._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:O})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:O,oauthAccessToken:Y}=b;if(!O&&!Y)return null;try{return x.credential(O,Y)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),fo=(()=>{class x extends _u{constructor(){super("github.com")}static credential(b){return hs._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return x.credential(b.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Bu extends ct{constructor(E,b){super(E,E),this.pendingToken=b}_getIdTokenResponse(E){return Qr(E,this.buildRequest())}_linkToIdToken(E,b){const O=this.buildRequest();return O.idToken=b,Qr(E,O)}_getReauthenticationResolver(E){const b=this.buildRequest();return b.autoCreate=!1,Qr(E,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const b="string"==typeof E?JSON.parse(E):E,{providerId:O,signInMethod:Y,pendingToken:ae}=b;return O&&Y&&ae&&O===Y?new Bu(O,ae):null}static _create(E,b){return new Bu(E,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ju extends la{constructor(E){ye(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return ju.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return ju.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const b=Bu.fromJSON(E);return ye(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:b,providerId:O}=E;if(!b||!O)return null;try{return Bu._create(O,b)}catch{return null}}}let dd=(()=>{class x extends _u{constructor(){super("twitter.com")}static credential(b,O){return hs._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:O})}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:O,oauthTokenSecret:Y}=b;if(!O||!Y)return null;try{return x.credential(O,Y)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Aa(x,E){return Is.apply(this,arguments)}function Is(){return(Is=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signUp",We(x,E))})).apply(this,arguments)}class ji{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,b,O,Y=!1){return(0,I.Z)(function*(){const ae=yield Se._fromIdTokenResponse(E,O,Y),Ne=ca(O);return new ji({user:ae,providerId:Ne,_tokenResponse:O,operationType:b})})()}static _forOperation(E,b,O){return(0,I.Z)(function*(){yield E._updateTokensIfNecessary(O,!0);const Y=ca(O);return new ji({user:E,providerId:Y,_tokenResponse:O,operationType:b})})()}}function ca(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function Ja(x){return yu.apply(this,arguments)}function yu(){return(yu=(0,I.Z)(function*(x){var E;const b=Lt(x);if(yield b._initializationPromise,null!==(E=b.currentUser)&&void 0!==E&&E.isAnonymous)return new ji({user:b.currentUser,providerId:null,operationType:"signIn"});const O=yield Aa(b,{returnSecureToken:!0}),Y=yield ji._fromIdTokenResponse(b,"signIn",O,!0);return yield b._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Xa extends te.ZR{constructor(E,b,O,Y){var ae;super(b.code,b.message),this.operationType=O,this.user=Y,Object.setPrototypeOf(this,Xa.prototype),this.customData={appName:E.name,tenantId:null!==(ae=E.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:b.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(E,b,O,Y){return new Xa(E,b,O,Y)}}function Fl(x,E,b,O){return("reauthenticate"===E?b._getReauthenticationResolver(x):b._getIdTokenResponse(x)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Xa._fromErrorAndOperation(x,ae,E,O):ae})}function di(x){return new Set(x.map(({providerId:E})=>E).filter(E=>!!E))}function Hu(x,E){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,I.Z)(function*(x,E){const b=(0,te.m9)(x);yield ai(!0,b,E);const{providerUserInfo:O}=yield function Er(x,E){return Zr.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[E]}),Y=di(O||[]);return b.providerData=b.providerData.filter(ae=>Y.has(ae.providerId)),Y.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),Vl.apply(this,arguments)}function Ys(x,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,I.Z)(function*(x,E,b=!1){const O=yield kr(x,E._linkToIdToken(x.auth,yield x.getIdToken()),b);return ji._forOperation(x,"link",O)})).apply(this,arguments)}function ai(x,E,b){return ss.apply(this,arguments)}function ss(){return(ss=(0,I.Z)(function*(x,E,b){yield Ri(E);const Y=!1===x?"provider-already-linked":"no-such-provider";ye(di(E.providerData).has(b)===x,E.auth,Y)})).apply(this,arguments)}function Wo(x,E){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,I.Z)(function*(x,E,b=!1){const{auth:O}=x,Y="reauthenticate";try{const ae=yield kr(x,Fl(O,Y,E,x),b);ye(ae.idToken,O,"internal-error");const Ne=cn(ae.idToken);ye(Ne,O,"internal-error");const{sub:pt}=Ne;return ye(x.uid===pt,O,"user-mismatch"),ji._forOperation(x,Y,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&tt(O,"user-mismatch"),ae}})).apply(this,arguments)}function Ko(x,E){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,I.Z)(function*(x,E,b=!1){const O="signIn",Y=yield Fl(x,O,E),ae=yield ji._fromIdTokenResponse(x,O,Y);return b||(yield x._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function $u(x,E){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,I.Z)(function*(x,E){return Ko(Lt(x),E)})).apply(this,arguments)}function fl(x,E){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,I.Z)(function*(x,E){const b=(0,te.m9)(x);return yield ai(!1,b,E.providerId),Ys(b,E)})).apply(this,arguments)}function qt(x,E){return sr.apply(this,arguments)}function sr(){return(sr=(0,I.Z)(function*(x,E){return Wo((0,te.m9)(x),E)})).apply(this,arguments)}function Js(){return(Js=(0,I.Z)(function*(x,E){return rn(x,"POST","/v1/accounts:signInWithCustomToken",We(x,E))})).apply(this,arguments)}function Ts(x,E){return os.apply(this,arguments)}function os(){return os=(0,I.Z)(function*(x,E){const b=Lt(x),O=yield function yr(x,E){return Js.apply(this,arguments)}(b,{token:E,returnSecureToken:!0}),Y=yield ji._fromIdTokenResponse(b,"signIn",O);return yield b._updateCurrentUser(Y.user),Y}),os.apply(this,arguments)}class js{constructor(E,b){this.factorId=E,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(E,b){return"phoneInfo"in b?hi._fromServerResponse(E,b):"totpInfo"in b?ts._fromServerResponse(E,b):tt(E,"internal-error")}}class hi extends js{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,b){return new hi(b)}}class ts extends js{constructor(E){super("totp",E)}static _fromServerResponse(E,b){return new ts(b)}}function Zo(x,E,b){var O;ye((null===(O=b.url)||void 0===O?void 0:O.length)>0,x,"invalid-continue-uri"),ye(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),E.continueUrl=b.url,E.dynamicLinkDomain=b.dynamicLinkDomain,E.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ye(b.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),E.iOSBundleId=b.iOS.bundleId),b.android&&(ye(b.android.packageName.length>0,x,"missing-android-pkg-name"),E.androidInstallApp=b.android.installApp,E.androidMinimumVersionCode=b.android.minimumVersion,E.androidPackageName=b.android.packageName)}function pr(x,E,b){return eu.apply(this,arguments)}function eu(){return eu=(0,I.Z)(function*(x,E,b){var O;const Y=Lt(x),ae={requestType:"PASSWORD_RESET",email:E,clientType:"CLIENT_TYPE_WEB"};if(null!==(O=Y._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const Ne=yield Vt(Y,ae,"getOobCode",!0);b&&Zo(Y,Ne,b),yield Lu(Y,Ne)}else b&&Zo(Y,ae,b),yield Lu(Y,ae).catch(function(){var Ne=(0,I.Z)(function*(pt){if("auth/missing-recaptcha-token"!==pt.code)return Promise.reject(pt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Zt=yield Vt(Y,ae,"getOobCode",!0);b&&Zo(Y,Zt,b),yield Lu(Y,Zt)}});return function(pt){return Ne.apply(this,arguments)}}())}),eu.apply(this,arguments)}function pl(x,E,b){return tu.apply(this,arguments)}function tu(){return(tu=(0,I.Z)(function*(x,E,b){yield Bn((0,te.m9)(x),{oobCode:E,newPassword:b})})).apply(this,arguments)}function Ai(x,E){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,I.Z)(function*(x,E){yield function Eo(x,E){return ko.apply(this,arguments)}((0,te.m9)(x),{oobCode:E})}),Sa.apply(this,arguments)}function po(x,E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,I.Z)(function*(x,E){const b=(0,te.m9)(x),O=yield Bn(b,{oobCode:E}),Y=O.requestType;switch(ye(Y,b,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(O.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(O.mfaInfo,b,"internal-error");default:ye(O.email,b,"internal-error")}let ae=null;return O.mfaInfo&&(ae=js._fromServerResponse(Lt(b),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:ae},operation:Y}})).apply(this,arguments)}function go(x,E){return da.apply(this,arguments)}function da(){return(da=(0,I.Z)(function*(x,E){const{data:b}=yield po((0,te.m9)(x),E);return b.email})).apply(this,arguments)}function xa(x,E,b){return ha.apply(this,arguments)}function ha(){return ha=(0,I.Z)(function*(x,E,b){var O;const Y=Lt(x),ae={returnSecureToken:!0,email:E,password:b,clientType:"CLIENT_TYPE_WEB"};let Ne;if(null!==(O=Y._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const fn=yield Vt(Y,ae,"signUpPassword");Ne=Aa(Y,fn)}else Ne=Aa(Y,ae).catch(function(){var fn=(0,I.Z)(function*(hn){if("auth/missing-recaptcha-token"===hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Hr=yield Vt(Y,ae,"signUpPassword");return Aa(Y,Hr)}return Promise.reject(hn)});return function(hn){return fn.apply(this,arguments)}}());const pt=yield Ne.catch(fn=>Promise.reject(fn)),Zt=yield ji._fromIdTokenResponse(Y,"signIn",pt);return yield Y._updateCurrentUser(Zt.user),Zt}),ha.apply(this,arguments)}function wo(x,E,b){return $u((0,te.m9)(x),Vu.credential(E,b))}function zn(x,E,b){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,I.Z)(function*(x,E,b){var O;const Y=Lt(x),ae={requestType:"EMAIL_SIGNIN",email:E,clientType:"CLIENT_TYPE_WEB"};function Ne(pt,Zt){ye(Zt.handleCodeInApp,Y,"argument-error"),Zt&&Zo(Y,pt,Zt)}if(null!==(O=Y._getRecaptchaConfig())&&void 0!==O&&O.emailPasswordEnabled){const pt=yield Vt(Y,ae,"getOobCode",!0);Ne(pt,b),yield sc(Y,pt)}else Ne(ae,b),yield sc(Y,ae).catch(function(){var pt=(0,I.Z)(function*(Zt){if("auth/missing-recaptcha-token"!==Zt.code)return Promise.reject(Zt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fn=yield Vt(Y,ae,"getOobCode",!0);Ne(fn,b),yield sc(Y,fn)}});return function(Zt){return pt.apply(this,arguments)}}())}),Ra.apply(this,arguments)}function nu(x,E){const b=Qa.parseLink(E);return"EMAIL_SIGNIN"===b?.operation}function Hs(x,E,b){return ns.apply(this,arguments)}function ns(){return(ns=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x),Y=Vu.credentialWithLink(E,b||an());return ye(Y._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),$u(O,Y)})).apply(this,arguments)}function ki(){return(ki=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:createAuthUri",We(x,E))})).apply(this,arguments)}function Kr(x,E){return fs.apply(this,arguments)}function fs(){return fs=(0,I.Z)(function*(x,E){const O={identifier:E,continueUri:In()?an():"http://localhost"},{signinMethods:Y}=yield function Xs(x,E){return ki.apply(this,arguments)}((0,te.m9)(x),O);return Y||[]}),fs.apply(this,arguments)}function Yi(x,E){return $s.apply(this,arguments)}function $s(){return $s=(0,I.Z)(function*(x,E){const b=(0,te.m9)(x),Y={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};E&&Zo(b.auth,Y,E);const{email:ae}=yield function cl(x,E){return Lo.apply(this,arguments)}(b.auth,Y);ae!==x.email&&(yield x.reload())}),$s.apply(this,arguments)}function Pa(x,E,b){return fa.apply(this,arguments)}function fa(){return fa=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:E};b&&Zo(O.auth,ae,b);const{email:Ne}=yield function pu(x,E){return Qs.apply(this,arguments)}(O.auth,ae);Ne!==x.email&&(yield x.reload())}),fa.apply(this,arguments)}function vu(){return(vu=(0,I.Z)(function*(x,E){return Et(x,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function hd(x,E){return pa.apply(this,arguments)}function pa(){return pa=(0,I.Z)(function*(x,{displayName:E,photoURL:b}){if(void 0===E&&void 0===b)return;const O=(0,te.m9)(x),ae={idToken:yield O.getIdToken(),displayName:E,photoUrl:b,returnSecureToken:!0},Ne=yield kr(O,function bs(x,E){return vu.apply(this,arguments)}(O.auth,ae));O.displayName=Ne.displayName||null,O.photoURL=Ne.photoUrl||null;const pt=O.providerData.find(({providerId:Zt})=>"password"===Zt);pt&&(pt.displayName=O.displayName,pt.photoURL=O.photoURL),yield O._updateTokensIfNecessary(Ne)}),pa.apply(this,arguments)}function eo(x,E){return gl((0,te.m9)(x),E,null)}function vs(x,E){return gl((0,te.m9)(x),null,E)}function gl(x,E,b){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,I.Z)(function*(x,E,b){const{auth:O}=x,ae={idToken:yield x.getIdToken(),returnSecureToken:!0};E&&(ae.email=E),b&&(ae.password=b);const Ne=yield kr(x,lr(O,ae));yield x._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class Ma{constructor(E,b,O={}){this.isNewUser=E,this.providerId=b,this.profile=O}}class ac extends Ma{constructor(E,b,O,Y){super(E,b,O),this.username=Y}}class ru extends Ma{constructor(E,b){super(E,"facebook.com",b)}}class Uc extends ac{constructor(E,b){super(E,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class M extends Ma{constructor(E,b){super(E,"google.com",b)}}class ne extends ac{constructor(E,b,O){super(E,"twitter.com",b,O)}}function j(x){const{user:E,_tokenResponse:b}=x;return E.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function ml(x){var E,b;if(!x)return null;const{providerId:O}=x,Y=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},ae=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!O&&x?.idToken){const Ne=null===(b=null===(E=cn(x.idToken))||void 0===E?void 0:E.firebase)||void 0===b?void 0:b.sign_in_provider;if(Ne)return new Ma(ae,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!O)return null;switch(O){case"facebook.com":return new ru(ae,Y);case"github.com":return new Uc(ae,Y);case"google.com":return new M(ae,Y);case"twitter.com":return new ne(ae,Y,x.screenName||null);case"custom":case"anonymous":return new Ma(ae,null);default:return new Ma(ae,O,Y)}}(b)}class gr{constructor(E,b,O){this.type=E,this.credential=b,this.auth=O}static _fromIdtoken(E,b){return new gr("enroll",E,b)}static _fromMfaPendingCredential(E){return new gr("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var b,O;if(E?.multiFactorSession){if(null!==(b=E.multiFactorSession)&&void 0!==b&&b.pendingCredential)return gr._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(O=E.multiFactorSession)&&void 0!==O&&O.idToken)return gr._fromIdtoken(E.multiFactorSession.idToken)}return null}}class Ji{constructor(E,b,O){this.session=E,this.hints=b,this.signInResolver=O}static _fromError(E,b){const O=Lt(E),Y=b.customData._serverResponse,ae=(Y.mfaInfo||[]).map(pt=>js._fromServerResponse(O,pt));ye(Y.mfaPendingCredential,O,"internal-error");const Ne=gr._fromMfaPendingCredential(Y.mfaPendingCredential);return new Ji(Ne,ae,function(){var pt=(0,I.Z)(function*(Zt){const fn=yield Zt._process(O,Ne);delete Y.mfaInfo,delete Y.mfaPendingCredential;const hn=Object.assign(Object.assign({},Y),{idToken:fn.idToken,refreshToken:fn.refreshToken});switch(b.operationType){case"signIn":const Hr=yield ji._fromIdTokenResponse(O,b.operationType,hn);return yield O._updateCurrentUser(Hr.user),Hr;case"reauthenticate":return ye(b.user,O,"internal-error"),ji._forOperation(b.user,b.operationType,hn);default:tt(O,"internal-error")}});return function(Zt){return pt.apply(this,arguments)}}())}resolveSignIn(E){var b=this;return(0,I.Z)(function*(){return b.signInResolver(E)})()}}function Io(x,E){var b;const O=(0,te.m9)(x),Y=E;return ye(E.customData.operationType,O,"argument-error"),ye(null===(b=Y.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,O,"argument-error"),Ji._fromError(O,Y)}class xn{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(O=>js._fromServerResponse(E.auth,O)))})}static _fromUser(E){return new xn(E)}getSession(){var E=this;return(0,I.Z)(function*(){return gr._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,b){var O=this;return(0,I.Z)(function*(){const Y=E,ae=yield O.getSession(),Ne=yield kr(O.user,Y._process(O.user.auth,ae,b));return yield O.user._updateTokensIfNecessary(Ne),O.user.reload()})()}unenroll(E){var b=this;return(0,I.Z)(function*(){const O="string"==typeof E?E:E.uid,Y=yield b.user.getIdToken();try{const ae=yield kr(b.user,function gn(x,E){return Et(x,"POST","/v2/accounts/mfaEnrollment:withdraw",We(x,E))}(b.user.auth,{idToken:Y,mfaEnrollmentId:O}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Ne})=>Ne!==O),yield b.user._updateTokensIfNecessary(ae),yield b.user.reload()}catch(ae){throw ae}})()}}const _l=new WeakMap;function un(x){const E=(0,te.m9)(x);return _l.has(E)||_l.set(E,xn._fromUser(E)),_l.get(E)}const st="__sak";class Nt{constructor(E,b){this.storageRetriever=E,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(st,"1"),this.storage.removeItem(st),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,b){return this.storage.setItem(E,JSON.stringify(b)),Promise.resolve()}_get(E){const b=this.storage.getItem(E);return Promise.resolve(b?JSON.parse(b):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const $i=(()=>{class x extends Nt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,O)=>this.onStorageEvent(b,O),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zi(){const x=(0,te.z$)();return B(x)||Xt(x)}()&&function yt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const O of Object.keys(this.listeners)){const Y=this.storage.getItem(O),ae=this.localCache[O];Y!==ae&&b(O,ae,Y)}}onStorageEvent(b,O=!1){if(!b.key)return void this.forAllChangedKeys((pt,Zt,fn)=>{this.notifyListeners(pt,fn)});const Y=b.key;if(O?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pt=this.storage.getItem(Y);if(b.newValue!==pt)null!==b.newValue?this.storage.setItem(Y,b.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===b.newValue&&!O)return}const ae=()=>{const pt=this.storage.getItem(Y);!O&&this.localCache[Y]===pt||this.notifyListeners(Y,pt)},Ne=this.storage.getItem(Y);!function Tr(){return(0,te.w1)()&&10===document.documentMode}()||Ne===b.newValue||b.newValue===b.oldValue?ae():setTimeout(ae,10)}notifyListeners(b,O){this.localCache[b]=O;const Y=this.listeners[b];if(Y)for(const ae of Array.from(Y))ae(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,O,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:O,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(O)}_removeListener(b,O){this.listeners[b]&&(this.listeners[b].delete(O),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,O){var Y=()=>super._set,ae=this;return(0,I.Z)(function*(){yield Y().call(ae,b,O),ae.localCache[b]=JSON.stringify(O)})()}_get(b){var O=()=>super._get,Y=this;return(0,I.Z)(function*(){const ae=yield O().call(Y,b);return Y.localCache[b]=JSON.stringify(ae),ae})()}_remove(b){var O=()=>super._remove,Y=this;return(0,I.Z)(function*(){yield O().call(Y,b),delete Y.localCache[b]})()}}return x.type="LOCAL",x})(),su=(()=>{class x extends Nt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,O){}_removeListener(b,O){}}return x.type="SESSION",x})();let Oa=(()=>{class x{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const O=this.receivers.find(ae=>ae.isListeningto(b));if(O)return O;const Y=new x(b);return this.receivers.push(Y),Y}isListeningto(b){return this.eventTarget===b}handleEvent(b){var O=this;return(0,I.Z)(function*(){const Y=b,{eventId:ae,eventType:Ne,data:pt}=Y.data,Zt=O.handlersMap[Ne];if(!Zt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:ae,eventType:Ne});const fn=Array.from(Zt).map(function(){var Hr=(0,I.Z)(function*(Bo){return Bo(Y.origin,pt)});return function(Bo){return Hr.apply(this,arguments)}}()),hn=yield function bo(x){return Promise.all(x.map(function(){var E=(0,I.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(O){return{fulfilled:!1,reason:O}}});return function(b){return E.apply(this,arguments)}}()))}(fn);Y.ports[0].postMessage({status:"done",eventId:ae,eventType:Ne,response:hn})})()}_subscribe(b,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(O)}_unsubscribe(b,O){this.handlersMap[b]&&O&&this.handlersMap[b].delete(O),(!O||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function uc(x="",E=10){let b="";for(let O=0;O<E;O++)b+=Math.floor(10*Math.random());return x+b}class lc{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,b,O=50){var Y=this;return(0,I.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Ne,pt;return new Promise((Zt,fn)=>{const hn=uc("",20);ae.port1.start();const Hr=setTimeout(()=>{fn(new Error("unsupported_event"))},O);pt={messageChannel:ae,onMessage(Bo){const Ls=Bo;if(Ls.data.eventId===hn)switch(Ls.data.status){case"ack":clearTimeout(Hr),Ne=setTimeout(()=>{fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Zt(Ls.data.response);break;default:clearTimeout(Hr),clearTimeout(Ne),fn(new Error("invalid_response"))}}},Y.handlers.add(pt),ae.port1.addEventListener("message",pt.onMessage),Y.target.postMessage({eventType:E,eventId:hn,data:b},[ae.port2])}).finally(()=>{pt&&Y.removeMessageHandler(pt)})})()}}function Ns(){return window}function zu(){return typeof Ns().WorkerGlobalScope<"u"&&"function"==typeof Ns().importScripts}function zi(){return(zi=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const An="firebaseLocalStorageDb",tn="firebaseLocalStorage",dn="fbase_key";class yl{constructor(E){this.request=E}toPromise(){return new Promise((E,b)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Gu(x,E){return x.transaction([tn],E?"readwrite":"readonly").objectStore(tn)}function vl(){const x=indexedDB.open(An,1);return new Promise((E,b)=>{x.addEventListener("error",()=>{b(x.error)}),x.addEventListener("upgradeneeded",()=>{const O=x.result;try{O.createObjectStore(tn,{keyPath:dn})}catch(Y){b(Y)}}),x.addEventListener("success",(0,I.Z)(function*(){const O=x.result;O.objectStoreNames.contains(tn)?E(O):(O.close(),yield function to(){const x=indexedDB.deleteDatabase(An);return new yl(x).toPromise()}(),E(yield vl()))}))})}function qu(x,E,b){return Co.apply(this,arguments)}function Co(){return(Co=(0,I.Z)(function*(x,E,b){const O=Gu(x,!0).put({[dn]:E,value:b});return new yl(O).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,I.Z)(function*(x,E){const b=Gu(x,!1).get(E),O=yield new yl(b).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function cc(x,E){const b=Gu(x,!0).delete(E);return new yl(b).toPromise()}const kt=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,I.Z)(function*(){return b.db||(b.db=yield vl()),b.db})()}_withRetries(b){var O=this;return(0,I.Z)(function*(){let Y=0;for(;;)try{const ae=yield O._openDb();return yield b(ae)}catch(ae){if(Y++>3)throw ae;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,I.Z)(function*(){return zu()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,I.Z)(function*(){b.receiver=Oa._getInstance(function ga(){return zu()?self:null}()),b.receiver._subscribe("keyChanged",function(){var O=(0,I.Z)(function*(Y,ae){return{keyProcessed:(yield b._poll()).includes(ae.key)}});return function(Y,ae){return O.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var O=(0,I.Z)(function*(Y,ae){return["keyChanged"]});return function(Y,ae){return O.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,I.Z)(function*(){var O,Y;if(b.activeServiceWorker=yield function pd(){return zi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new lc(b.activeServiceWorker);const ae=yield b.sender._send("ping",{},800);ae&&null!==(O=ae[0])&&void 0!==O&&O.fulfilled&&null!==(Y=ae[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var O=this;return(0,I.Z)(function*(){if(O.sender&&O.activeServiceWorker&&function Kn(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:b},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const b=yield vl();return yield qu(b,st,"1"),yield cc(b,st),!0}catch{}return!1})()}_withPendingWrite(b){var O=this;return(0,I.Z)(function*(){O.pendingWrites++;try{yield b()}finally{O.pendingWrites--}})()}_set(b,O){var Y=this;return(0,I.Z)(function*(){return Y._withPendingWrite((0,I.Z)(function*(){return yield Y._withRetries(ae=>qu(ae,b,O)),Y.localCache[b]=O,Y.notifyServiceWorker(b)}))})()}_get(b){var O=this;return(0,I.Z)(function*(){const Y=yield O._withRetries(ae=>function El(x,E){return wl.apply(this,arguments)}(ae,b));return O.localCache[b]=Y,Y})()}_remove(b){var O=this;return(0,I.Z)(function*(){return O._withPendingWrite((0,I.Z)(function*(){return yield O._withRetries(Y=>cc(Y,b)),delete O.localCache[b],O.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,I.Z)(function*(){const O=yield b._withRetries(Ne=>{const pt=Gu(Ne,!1).getAll();return new yl(pt).toPromise()});if(!O)return[];if(0!==b.pendingWrites)return[];const Y=[],ae=new Set;for(const{fbase_key:Ne,value:pt}of O)ae.add(Ne),JSON.stringify(b.localCache[Ne])!==JSON.stringify(pt)&&(b.notifyListeners(Ne,pt),Y.push(Ne));for(const Ne of Object.keys(b.localCache))b.localCache[Ne]&&!ae.has(Ne)&&(b.notifyListeners(Ne,null),Y.push(Ne));return Y})()}notifyListeners(b,O){this.localCache[b]=O;const Y=this.listeners[b];if(Y)for(const ae of Array.from(Y))ae(O)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(O)}_removeListener(b,O){this.listeners[b]&&(this.listeners[b].delete(O),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),Do=1e12;class Iu{constructor(E){this.auth=E,this.counter=Do,this._widgets=new Map}render(E,b){const O=this.counter;return this._widgets.set(O,new ka(E,this.auth.name,b||{})),this.counter++,O}reset(E){var b;const O=E||Do;null===(b=this._widgets.get(O))||void 0===b||b.delete(),this._widgets.delete(O)}getResponse(E){var b;return(null===(b=this._widgets.get(E||Do))||void 0===b?void 0:b.getResponse())||""}execute(E){var b=this;return(0,I.Z)(function*(){var O;return null===(O=b._widgets.get(E||Do))||void 0===O||O.execute(),""})()}}class ka{constructor(E,b,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof E?document.getElementById(E):E;ye(Y,"argument-error",{appName:b}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function md(x){const E=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<x;O++)E.push(b.charAt(Math.floor(62*Math.random())));return E.join("")}(50);const{callback:E,"expired-callback":b}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const as=De("rcb"),Il=new Jn(3e4,6e4);class ro{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=Ns().grecaptcha)||void 0===E||!E.render)}load(E,b=""){return ye(function Kh(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(b),E,"argument-error"),this.shouldResolveImmediately(b)&&fr(Ns().grecaptcha)?Promise.resolve(Ns().grecaptcha):new Promise((O,Y)=>{const ae=Ns().setTimeout(()=>{Y(Xe(E,"network-request-failed"))},Il.get());Ns()[as]=()=>{Ns().clearTimeout(ae),delete Ns()[as];const pt=Ns().grecaptcha;if(!pt||!fr(pt))return void Y(Xe(E,"internal-error"));const Zt=pt.render;pt.render=(fn,hn)=>{const Hr=Zt(fn,hn);return this.counter++,Hr},this.hostLanguage=b,O(pt)},Ue(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:as,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(ae),Y(Xe(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var b;return!(null===(b=Ns().grecaptcha)||void 0===b||!b.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rs{load(E){return(0,I.Z)(function*(){return new Iu(E)})()}clearedOneInstance(){}}const Ao="recaptcha",Tl={theme:"light",type:"image"};class io{constructor(E,b=Object.assign({},Tl),O){this.parameters=b,this.type=Ao,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(O),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof E?document.getElementById(E):E;ye(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rs:new ro,this.validateStartingState()}verify(){var E=this;return(0,I.Z)(function*(){E.assertNotDestroyed();const b=yield E.render(),O=E.getAssertedRecaptcha();return O.getResponse(b)||new Promise(ae=>{const Ne=pt=>{pt&&(E.tokenChangeListeners.delete(Ne),ae(pt))};E.tokenChangeListeners.add(Ne),E.isInvisible&&O.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return b=>{if(this.tokenChangeListeners.forEach(O=>O(b)),"function"==typeof E)E(b);else if("string"==typeof E){const O=Ns()[E];"function"==typeof O&&O(b)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,I.Z)(function*(){if(yield E.init(),!E.widgetId){let b=E.container;if(!E.isInvisible){const O=document.createElement("div");b.appendChild(O),b=O}E.widgetId=E.getAssertedRecaptcha().render(b,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,I.Z)(function*(){ye(In()&&!zu(),E.auth,"internal-error"),yield function D(){let x=null;return new Promise(E=>{"complete"!==document.readyState?(x=()=>E(),window.addEventListener("load",x)):E()}).catch(E=>{throw x&&window.removeEventListener("load",x),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const b=yield function ge(x){return Me.apply(this,arguments)}(E.auth);ye(b,E.auth,"internal-error"),E.parameters.sitekey=b})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class k{constructor(E,b){this.verificationId=E,this.onConfirmation=b}confirm(E){const b=Os._fromVerification(this.verificationId,E);return this.onConfirmation(b)}}function A(x,E,b){return F.apply(this,arguments)}function F(){return(F=(0,I.Z)(function*(x,E,b){const O=Lt(x),Y=yield nt(O,E,(0,te.m9)(b));return new k(Y,ae=>$u(O,ae))})).apply(this,arguments)}function W(x,E,b){return se.apply(this,arguments)}function se(){return(se=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x);yield ai(!1,O,"phone");const Y=yield nt(O.auth,E,(0,te.m9)(b));return new k(Y,ae=>fl(O,ae))})).apply(this,arguments)}function Ee(x,E,b){return ot.apply(this,arguments)}function ot(){return(ot=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x),Y=yield nt(O.auth,E,(0,te.m9)(b));return new k(Y,ae=>qt(O,ae))})).apply(this,arguments)}function nt(x,E,b){return en.apply(this,arguments)}function en(){return en=(0,I.Z)(function*(x,E,b){var O;const Y=yield b.verify();try{let ae;if(ye("string"==typeof Y,x,"argument-error"),ye(b.type===Ao,x,"argument-error"),ae="string"==typeof E?{phoneNumber:E}:E,"session"in ae){const Ne=ae.session;if("phoneNumber"in ae)return ye("enroll"===Ne.type,x,"internal-error"),(yield function Ot(x,E){return Et(x,"POST","/v2/accounts/mfaEnrollment:start",We(x,E))}(x,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{ye("signin"===Ne.type,x,"internal-error");const pt=(null===(O=ae.multiFactorHint)||void 0===O?void 0:O.uid)||ae.multiFactorUid;return ye(pt,x,"missing-multi-factor-info"),(yield function Na(x,E){return Et(x,"POST","/v2/accounts/mfaSignIn:start",We(x,E))}(x,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function gu(x,E){return mu.apply(this,arguments)}(x,{phoneNumber:ae.phoneNumber,recaptchaToken:Y});return Ne}}finally{b._reset()}}),en.apply(this,arguments)}function Lr(x,E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,I.Z)(function*(x,E){yield Ys((0,te.m9)(x),E)})).apply(this,arguments)}let us=(()=>{class x{constructor(b){this.providerId=x.PROVIDER_ID,this.auth=Lt(b)}verifyPhoneNumber(b,O){return nt(this.auth,b,(0,te.m9)(O))}static credential(b,O){return Os._fromVerification(b,O)}static credentialFromResult(b){return x.credentialFromTaggedObject(b)}static credentialFromError(b){return x.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:O,temporaryProof:Y}=b;return O&&Y?Os._fromTokenResponse(O,Y):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function so(x,E){return E?_t(E):(ye(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class Tu extends ct{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Qr(E,this._buildIdpRequest())}_linkToIdToken(E,b){return Qr(E,this._buildIdpRequest(b))}_getReauthenticationResolver(E){return Qr(E,this._buildIdpRequest())}_buildIdpRequest(E){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(b.idToken=E),b}}function Ii(x){return Ko(x.auth,new Tu(x),x.bypassAuthState)}function _a(x){const{auth:E,user:b}=x;return ye(b,E,"internal-error"),Wo(b,new Tu(x),x.bypassAuthState)}function ii(x){return dc.apply(this,arguments)}function dc(){return(dc=(0,I.Z)(function*(x){const{auth:E,user:b}=x;return ye(b,E,"internal-error"),Ys(b,new Tu(x),x.bypassAuthState)})).apply(this,arguments)}class Zh{constructor(E,b,O,Y,ae=!1){this.auth=E,this.resolver=O,this.user=Y,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var E=this;return new Promise(function(){var b=(0,I.Z)(function*(O,Y){E.pendingPromise={resolve:O,reject:Y};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(ae){E.reject(ae)}});return function(O,Y){return b.apply(this,arguments)}}())}onAuthEvent(E){var b=this;return(0,I.Z)(function*(){const{urlResponse:O,sessionId:Y,postBody:ae,tenantId:Ne,error:pt,type:Zt}=E;if(pt)return void b.reject(pt);const fn={auth:b.auth,requestUri:O,sessionId:Y,tenantId:Ne||void 0,postBody:ae||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Zt)(fn))}catch(hn){b.reject(hn)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Ii;case"linkViaPopup":case"linkViaRedirect":return ii;case"reauthViaPopup":case"reauthViaRedirect":return _a;default:tt(this.auth,"internal-error")}}resolve(E){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bc=new Jn(2e3,1e4);function Wu(x,E,b){return bu.apply(this,arguments)}function bu(){return(bu=(0,I.Z)(function*(x,E,b){const O=Lt(x);St(x,E,la);const Y=so(O,b);return new Ul(O,"signInViaPopup",E,Y).executeNotNull()})).apply(this,arguments)}function eg(x,E,b){return hc.apply(this,arguments)}function hc(){return(hc=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x);St(O.auth,E,la);const Y=so(O.auth,b);return new Ul(O.auth,"reauthViaPopup",E,Y,O).executeNotNull()})).apply(this,arguments)}function ou(x,E,b){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x);St(O.auth,E,la);const Y=so(O.auth,b);return new Ul(O.auth,"linkViaPopup",E,Y,O).executeNotNull()})).apply(this,arguments)}let Ul=(()=>{class x extends Zh{constructor(b,O,Y,ae,Ne){super(b,O,ae,Ne),this.provider=Y,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var b=this;return(0,I.Z)(function*(){const O=yield b.execute();return ye(O,b.auth,"internal-error"),O})()}onExecution(){var b=this;return(0,I.Z)(function*(){Pt(1===b.filter.length,"Popup operations only handle one event");const O=uc();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],O),b.authWindow.associatedEvent=O,b.resolver._originValidation(b.auth).catch(Y=>{b.reject(Y)}),b.resolver._isIframeWebStorageSupported(b.auth,Y=>{Y||b.reject(Xe(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const b=()=>{var O,Y;this.pollId=null!==(Y=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,Bc.get())};b()}}return x.currentPopupAction=null,x})();const Cs="pendingRedirect",au=new Map;class Ku extends Zh{constructor(E,b,O=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,O),this.eventId=null}execute(){var E=()=>super.execute,b=this;return(0,I.Z)(function*(){let O=au.get(b.auth._key());if(!O){try{const ae=(yield function _d(x,E){return gi.apply(this,arguments)}(b.resolver,b.auth))?yield E().call(b):null;O=()=>Promise.resolve(ae)}catch(Y){O=()=>Promise.reject(Y)}au.set(b.auth._key(),O)}return b.bypassAuthState||au.set(b.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(E){var b=()=>super.onAuthEvent,O=this;return(0,I.Z)(function*(){if("signInViaRedirect"===E.type)return b().call(O,E);if("unknown"!==E.type){if(E.eventId){const Y=yield O.auth._redirectUserForId(E.eventId);if(Y)return O.user=Y,b().call(O,E);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function gi(){return(gi=(0,I.Z)(function*(x,E){const b=ya(E),O=Zu(x);if(!(yield O._isAvailable()))return!1;const Y="true"===(yield O._get(b));return yield O._remove(b),Y})).apply(this,arguments)}function fc(x,E){return ls.apply(this,arguments)}function ls(){return(ls=(0,I.Z)(function*(x,E){return Zu(x)._set(ya(E),"true")})).apply(this,arguments)}function Vi(){au.clear()}function Qh(x,E){au.set(x._key(),E)}function Zu(x){return _t(x._redirectPersistence)}function ya(x){return _r(Cs,x.config.apiKey,x.name)}function Xd(x,E,b){return function Yh(x,E,b){return Ds.apply(this,arguments)}(x,E,b)}function Ds(){return(Ds=(0,I.Z)(function*(x,E,b){const O=Lt(x);St(x,E,la),yield O._initializationPromise;const Y=so(O,b);return yield fc(Y,O),Y._openRedirect(O,E,"signInViaRedirect")})).apply(this,arguments)}function tg(x,E,b){return function Qu(x,E,b){return Ui.apply(this,arguments)}(x,E,b)}function Ui(){return(Ui=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x);St(O.auth,E,la),yield O.auth._initializationPromise;const Y=so(O.auth,b);yield fc(Y,O.auth);const ae=yield Hc(O);return Y._openRedirect(O.auth,E,"reauthViaRedirect",ae)})).apply(this,arguments)}function Cu(x,E,b){return function Yu(x,E,b){return ps.apply(this,arguments)}(x,E,b)}function ps(){return(ps=(0,I.Z)(function*(x,E,b){const O=(0,te.m9)(x);St(O.auth,E,la),yield O.auth._initializationPromise;const Y=so(O.auth,b);yield ai(!1,O,E.providerId),yield fc(Y,O.auth);const ae=yield Hc(O);return Y._openRedirect(O.auth,E,"linkViaRedirect",ae)})).apply(this,arguments)}function gs(x,E){return jc.apply(this,arguments)}function jc(){return(jc=(0,I.Z)(function*(x,E){return yield Lt(x)._initializationPromise,La(x,E,!1)})).apply(this,arguments)}function La(x,E){return uu.apply(this,arguments)}function uu(){return(uu=(0,I.Z)(function*(x,E,b=!1){const O=Lt(x),Y=so(O,E),Ne=yield new Ku(O,Y,b).execute();return Ne&&!b&&(delete Ne.user._redirectEventId,yield O._persistUserIfCurrent(Ne.user),yield O._setRedirectUser(null,E)),Ne})).apply(this,arguments)}function Hc(x){return oo.apply(this,arguments)}function oo(){return(oo=(0,I.Z)(function*(x){const E=uc(`${x.uid}:::`);return x._redirectEventId=E,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),E})).apply(this,arguments)}class Du{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let b=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(E,O)&&(b=!0,this.sendToConsumer(E,O),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Qo(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $c(x);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=E,b=!0)),b}sendToConsumer(E,b){var O;if(E.error&&!$c(E)){const Y=(null===(O=E.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";b.onError(Xe(this.auth,Y))}else b.onAuthEvent(E)}isEventForConsumer(E,b){const O=null===b.eventId||!!E.eventId&&E.eventId===b.eventId;return b.filter.includes(E.type)&&O}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Va(E))}saveEventToCache(E){this.cachedEventUids.add(Va(E)),this.lastProcessedEventTime=Date.now()}}function Va(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(E=>E).join("-")}function $c({type:x,error:E}){return"unknown"===x&&"auth/no-auth-event"===E?.code}function lu(x){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,I.Z)(function*(x,E={}){return Et(x,"GET","/v1/projects",E)})).apply(this,arguments)}const Bl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jh=/^https?/;function pc(){return(pc=(0,I.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:E}=yield lu(x);for(const b of E)try{if(eh(b))return}catch{}tt(x,"unauthorized-domain")})).apply(this,arguments)}function eh(x){const E=an(),{protocol:b,hostname:O}=new URL(E);if(x.startsWith("chrome-extension://")){const Ne=new URL(x);return""===Ne.hostname&&""===O?"chrome-extension:"===b&&x.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===b&&Ne.hostname===O}if(!Jh.test(b))return!1;if(Bl.test(x))return O===x;const Y=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(O)}const Ua=new Jn(3e4,6e4);function Ba(){const x=Ns().___jsl;if(x?.H)for(const E of Object.keys(x.H))if(x.H[E].r=x.H[E].r||[],x.H[E].L=x.H[E].L||[],x.H[E].r=[...x.H[E].L],x.CP)for(let b=0;b<x.CP.length;b++)x.CP[b]=null}let Gc=null;const Hl=new Jn(5e3,15e3),Uo="__/auth/iframe",ui="emulator/auth/iframe",ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ti=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xu(x){const E=x.config;ye(E.authDomain,x,"auth-domain-config-required");const b=E.emulator?Nr(E,ui):`https://${x.config.authDomain}/${Uo}`,O={apiKey:E.apiKey,appName:x.name,v:J.SDK_VERSION},Y=Ti.get(x.config.apiHost);Y&&(O.eid=Y);const ae=x._getFrameworks();return ae.length&&(O.fw=ae.join(",")),`${b}?${(0,te.xO)(O).slice(1)}`}function Au(){return Au=(0,I.Z)(function*(x){const E=yield function bl(x){return Gc=Gc||function zc(x){return new Promise((E,b)=>{var O,Y,ae;function Ne(){Ba(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Ba(),b(Xe(x,"network-request-failed"))},timeout:Ua.get()})}if(null!==(Y=null===(O=Ns().gapi)||void 0===O?void 0:O.iframes)&&void 0!==Y&&Y.Iframe)E(gapi.iframes.getContext());else{if(null===(ae=Ns().gapi)||void 0===ae||!ae.load){const pt=De("iframefcb");return Ns()[pt]=()=>{gapi.load?Ne():b(Xe(x,"network-request-failed"))},Ue(`https://apis.google.com/js/api.js?onload=${pt}`).catch(Zt=>b(Zt))}Ne()}}).catch(E=>{throw Gc=null,E})}(x),Gc}(x),b=Ns().gapi;return ye(b,x,"internal-error"),E.open({where:document.body,url:Xu(x),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ng,dontclear:!0},O=>new Promise(function(){var Y=(0,I.Z)(function*(ae,Ne){yield O.restyle({setHideOnLeave:!1});const pt=Xe(x,"network-request-failed"),Zt=Ns().setTimeout(()=>{Ne(pt)},Hl.get());function fn(){Ns().clearTimeout(Zt),ae(O)}O.ping(fn).then(fn,()=>{Ne(pt)})});return function(ae,Ne){return Y.apply(this,arguments)}}()))}),Au.apply(this,arguments)}const P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Le{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nn="__/auth/handler",jn="emulator/auth/handler",Cr=encodeURIComponent("fac");function Dr(x,E,b,O,Y,ae){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,I.Z)(function*(x,E,b,O,Y,ae){ye(x.config.authDomain,x,"auth-domain-config-required"),ye(x.config.apiKey,x,"invalid-api-key");const Ne={apiKey:x.config.apiKey,appName:x.name,authType:b,redirectUrl:O,v:J.SDK_VERSION,eventId:Y};if(E instanceof la){E.setDefaultLanguage(x.languageCode),Ne.providerId=E.providerId||"",(0,te.xb)(E.getCustomParameters())||(Ne.customParameters=JSON.stringify(E.getCustomParameters()));for(const[hn,Hr]of Object.entries(ae||{}))Ne[hn]=Hr}if(E instanceof _u){const hn=E.getScopes().filter(Hr=>""!==Hr);hn.length>0&&(Ne.scopes=hn.join(","))}x.tenantId&&(Ne.tid=x.tenantId);const pt=Ne;for(const hn of Object.keys(pt))void 0===pt[hn]&&delete pt[hn];const Zt=yield x._getAppCheckToken(),fn=Zt?`#${Cr}=${encodeURIComponent(Zt)}`:"";return`${function zs({config:x}){return x.emulator?Nr(x,jn):`https://${x.authDomain}/${nn}`}(x)}?${(0,te.xO)(pt).slice(1)}${fn}`})).apply(this,arguments)}const gc="webStorageSupport",Cl=class el{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=su,this._completeRedirectFn=La,this._overrideRedirectResult=Qh}_openPopup(E,b,O,Y){var ae=this;return(0,I.Z)(function*(){var Ne;Pt(null===(Ne=ae.eventManagers[E._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const pt=yield Dr(E,b,O,an(),Y);return function gt(x,E,b,O=500,Y=600){const ae=Math.max((window.screen.availHeight-Y)/2,0).toString(),Ne=Math.max((window.screen.availWidth-O)/2,0).toString();let pt="";const Zt=Object.assign(Object.assign({},P),{width:O.toString(),height:Y.toString(),top:ae,left:Ne}),fn=(0,te.z$)().toLowerCase();b&&(pt=$(fn)?"_blank":b),q(fn)&&(E=E||"http://localhost",Zt.scrollbars="yes");const hn=Object.entries(Zt).reduce((Bo,[Ls,tp])=>`${Bo}${Ls}=${tp},`,"");if(function Hn(x=(0,te.z$)()){var E;return Xt(x)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(fn)&&"_self"!==pt)return function ln(x,E){const b=document.createElement("a");b.href=x,b.target=E;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(O)}(E||"",pt),new Le(null);const Hr=window.open(E||"",pt,hn);ye(Hr,x,"popup-blocked");try{Hr.focus()}catch{}return new Le(Hr)}(E,pt,uc())})()}_openRedirect(E,b,O,Y){var ae=this;return(0,I.Z)(function*(){return yield ae._originValidation(E),function er(x){Ns().location.href=x}(yield Dr(E,b,O,an(),Y)),new Promise(()=>{})})()}_initialize(E){const b=E._key();if(this.eventManagers[b]){const{manager:Y,promise:ae}=this.eventManagers[b];return Y?Promise.resolve(Y):(Pt(ae,"If manager is not set, promise should be"),ae)}const O=this.initAndGetManager(E);return this.eventManagers[b]={promise:O},O.catch(()=>{delete this.eventManagers[b]}),O}initAndGetManager(E){var b=this;return(0,I.Z)(function*(){const O=yield function Yf(x){return Au.apply(this,arguments)}(E),Y=new Du(E);return O.register("authEvent",ae=>(ye(ae?.authEvent,E,"invalid-auth-event"),{status:Y.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[E._key()]={manager:Y},b.iframes[E._key()]=O,Y})()}_isIframeWebStorageSupported(E,b){this.iframes[E._key()].send(gc,{type:gc},Y=>{var ae;const Ne=null===(ae=Y?.[0])||void 0===ae?void 0:ae[gc];void 0!==Ne&&b(!!Ne),tt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const b=E._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function jl(x){return pc.apply(this,arguments)}(E)),this.originValidationPromises[b]}get _shouldInitProactively(){return Qn()||B()||Xt()}};class va{constructor(E){this.factorId=E}_process(E,b,O){switch(b.type){case"enroll":return this._finalizeEnroll(E,b.credential,O);case"signin":return this._finalizeSignIn(E,b.credential);default:return ht("unexpected MultiFactorSessionType")}}}class mi extends va{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new mi(E)}_finalizeEnroll(E,b,O){return function wi(x,E){return Et(x,"POST","/v2/accounts/mfaEnrollment:finalize",We(x,E))}(E,{idToken:b,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,b){return function vr(x,E){return Et(x,"POST","/v2/accounts/mfaSignIn:finalize",We(x,E))}(E,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xh=(()=>{class x{constructor(){}static assertion(b){return mi._fromCredential(b)}}return x.FACTOR_ID="phone",x})();var qc="@firebase/auth";class _c{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var b=this;return(0,I.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const b=this.auth.onIdTokenChanged(O=>{E(O?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,b),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const b=this.internalListeners.get(E);b&&(this.internalListeners.delete(E),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,te.Pz)("authIdTokenMaxAge"),function tf(x){(0,J._registerComponent)(new fe.wA("auth",(E,{options:b})=>{const O=E.getProvider("app").getImmediate(),Y=E.getProvider("heartbeat"),ae=E.getProvider("app-check-internal"),{apiKey:Ne,authDomain:pt}=O.options;ye(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:O.name});const Zt={apiKey:Ne,authDomain:pt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ie(x)},fn=new Mr(O,Y,ae,Zt);return function oi(x,E){const b=E?.persistence||[],O=(Array.isArray(b)?b:[b]).map(_t);E?.errorMap&&x._updateErrorMap(E.errorMap),x._initializeWithPersistence(O,E?.popupRedirectResolver)}(fn,b),fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,b,O)=>{E.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new fe.wA("auth-internal",E=>{const b=Lt(E.getProvider("auth").getImmediate());return new _c(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(qc,"0.23.2",function Xf(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,J.registerVersion)(qc,"0.23.2","esm2017")}("Browser")},8162:(Wt,ze,U)=>{U.d(ze,{u7:()=>M_,Jj:()=>Nl,IX:()=>Np,my:()=>Ws,xU:()=>$d,Lz:()=>ec,WA:()=>Nt,F8:()=>T_,$q:()=>Bh,W:()=>jh,EK:()=>zi,PU:()=>cm,l7:()=>La,Ky:()=>dn,Xb:()=>tn,Cf:()=>yi,K9:()=>_l,Me:()=>Yh,yq:()=>Li,Wi:()=>Ph,ET:()=>sl,Ab:()=>cv,vr:()=>zh,Fc:()=>EE,hJ:()=>__,B$:()=>Mp,at:()=>Jl,oe:()=>Hf,AK:()=>zf,TF:()=>wE,JU:()=>Vd,ST:()=>Lw,fH:()=>vE,Ix:()=>Jy,Wu:()=>Uh,Lx:()=>im,qY:()=>_o,GL:()=>rc,QT:()=>OE,kl:()=>M0,Xk:()=>O_,PL:()=>lv,UQ:()=>Pc,zN:()=>jf,ad:()=>ad,nP:()=>Hp,b9:()=>Fp,vh:()=>S_,Pb:()=>IE,L$:()=>I_,cf:()=>am,sc:()=>Hh,Xo:()=>rv,IO:()=>SE,iE:()=>Op,Eo:()=>y_,i3:()=>zw,Bt:()=>Gd,pl:()=>lo,Ub:()=>Io,qK:()=>uv,TQ:()=>x_,e0:()=>iv,r7:()=>Mc,Mx:()=>E_,ar:()=>Ca});var me,I=U(5861),te=U(7592),J=U(4537),_e=U(7879),m=U(9058),fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={},Ve=Ve||{},le=fe||self;function pe(l){var n=typeof l;return"array"==(n="object"!=n?n:l?Array.isArray(l)?"array":n:"null")||"object"==n&&"number"==typeof l.length}function Be(l){var n=typeof l;return"object"==n&&null!=l||"function"==n}var Je="closure_uid_"+(1e9*Math.random()>>>0),lt=0;function at(l,n,o){return l.call.apply(l.bind,arguments)}function Tt(l,n,o){if(!l)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),l.apply(n,f)}}return function(){return l.apply(n,arguments)}}function ke(l,n,o){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?at:Tt).apply(null,arguments)}function Oe(l,n){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),l.apply(this,c)}}function bt(l,n){function o(){}o.prototype=n.prototype,l.$=n.prototype,l.prototype=new o,l.prototype.constructor=l,l.ac=function(c,f,_){for(var w=Array(arguments.length-2),N=2;N<arguments.length;N++)w[N-2]=arguments[N];return n.prototype[f].apply(c,w)}}function tt(){this.s=this.s,this.o=this.o}tt.prototype.s=!1,tt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ze(l){Object.prototype.hasOwnProperty.call(l,Je)&&l[Je]||(l[Je]=++lt)}(this)},tt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ut=Array.prototype.indexOf?function(l,n){return Array.prototype.indexOf.call(l,n,void 0)}:function(l,n){if("string"==typeof l)return"string"!=typeof n||1!=n.length?-1:l.indexOf(n,0);for(let o=0;o<l.length;o++)if(o in l&&l[o]===n)return o;return-1};function St(l){const n=l.length;if(0<n){const o=Array(n);for(let c=0;c<n;c++)o[c]=l[c];return o}return[]}function vt(l,n){for(let o=1;o<arguments.length;o++){const c=arguments[o];if(pe(c)){const f=l.length||0,_=c.length||0;l.length=f+_;for(let w=0;w<_;w++)l[f+w]=c[w]}else l.push(c)}}function ye(l,n){this.type=l,this.g=this.target=n,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var l=!1,n=Object.defineProperty({},"passive",{get:function(){l=!0}});try{le.addEventListener("test",()=>{},n),le.removeEventListener("test",()=>{},n)}catch{}return l}();function Pt(l){return/^[\s\xa0]*$/.test(l)}function an(){var l=le.navigator;return l&&(l=l.userAgent)?l:""}function In(l){return-1!=an().indexOf(l)}function Vn(l){return Vn[" "](l),l}Vn[" "]=function(){};var Et,l,zr=In("Opera"),Jn=In("Trident")||In("MSIE"),Nr=In("Edge"),qe=Nr||Jn,Ke=In("Gecko")&&!(-1!=an().toLowerCase().indexOf("webkit")&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),Ye=-1!=an().toLowerCase().indexOf("webkit")&&!In("Edge");function We(){var l=le.document;return l?l.documentMode:void 0}e:{var Mt="",Yt=(l=an(),Ke?/rv:([^\);]+)(\)|;)/.exec(l):Nr?/Edge\/([\d\.]+)/.exec(l):Jn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Ye?/WebKit\/(\S+)/.exec(l):zr?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Yt&&(Mt=Yt?Yt[1]:""),Jn){var Tn=We();if(null!=Tn&&Tn>parseFloat(Mt)){Et=String(Tn);break e}}Et=Mt}var rr=le.document&&Jn&&(We()||parseInt(Et,10))||void 0;function Cn(l,n){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var o=this.type=l.type,c=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=n,n=l.relatedTarget){if(Ke){e:{try{Vn(n.nodeName);var f=!0;break e}catch{}f=!1}f||(n=null)}}else"mouseover"==o?n=l.fromElement:"mouseout"==o&&(n=l.toElement);this.relatedTarget=n,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:mr[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Cn.$.h.call(this)}}bt(Cn,ye);var mr={2:"touch",3:"pen",4:"mouse"};Cn.prototype.h=function(){Cn.$.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),cr=0;function Er(l,n,o,c,f){this.listener=l,this.proxy=null,this.src=n,this.type=o,this.capture=!!c,this.la=f,this.key=++cr,this.fa=this.ia=!1}function Zr(l){l.fa=!0,l.listener=null,l.proxy=null,l.src=null,l.la=null}function ci(l,n,o){for(const c in l)n.call(o,l[c],c,l)}function Br(l){const n={};for(const o in l)n[o]=l[o];return n}const Sr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wn(l,n){let o,c;for(let f=1;f<arguments.length;f++){for(o in c=arguments[f],c)l[o]=c[o];for(let _=0;_<Sr.length;_++)o=Sr[_],Object.prototype.hasOwnProperty.call(c,o)&&(l[o]=c[o])}}function Wr(l){this.src=l,this.g={},this.h=0}function or(l,n){var o=n.type;if(o in l.g){var _,c=l.g[o],f=ut(c,n);(_=0<=f)&&Array.prototype.splice.call(c,f,1),_&&(Zr(n),0==l.g[o].length&&(delete l.g[o],l.h--))}}function cn(l,n,o,c){for(var f=0;f<l.length;++f){var _=l[f];if(!_.fa&&_.listener==n&&_.capture==!!o&&_.la==c)return f}return-1}Wr.prototype.add=function(l,n,o,c,f){var _=l.toString();(l=this.g[_])||(l=this.g[_]=[],this.h++);var w=cn(l,n,c,f);return-1<w?(n=l[w],o||(n.ia=!1)):((n=new Er(n,this.src,_,!!c,f)).ia=o,l.push(n)),n};var Fn="closure_lm_"+(1e6*Math.random()|0),kr={};function Gr(l,n,o,c,f){if(c&&c.once)return wr(l,n,o,c,f);if(Array.isArray(n)){for(var _=0;_<n.length;_++)Gr(l,n[_],o,c,f);return null}return o=Wi(o),l&&l[hr]?l.O(n,o,Be(c)?!!c.capture:!!c,f):Jt(l,n,o,!1,c,f)}function Jt(l,n,o,c,f,_){if(!n)throw Error("Invalid event type");var w=Be(f)?!!f.capture:!!f,N=Ir(l);if(N||(l[Fn]=N=new Wr(l)),(o=N.add(n,o,c,w,_)).proxy)return o;if(c=function On(){const n=Un;return function l(o){return n.call(l.src,l.listener,o)}}(),o.proxy=c,c.src=l,c.listener=o,l.addEventListener)ht||(f=w),void 0===f&&(f=!1),l.addEventListener(n.toString(),c,f);else if(l.attachEvent)l.attachEvent(Kt(n.toString()),c);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(c)}return o}function wr(l,n,o,c,f){if(Array.isArray(n)){for(var _=0;_<n.length;_++)wr(l,n[_],o,c,f);return null}return o=Wi(o),l&&l[hr]?l.P(n,o,Be(c)?!!c.capture:!!c,f):Jt(l,n,o,!0,c,f)}function Ri(l,n,o,c,f){if(Array.isArray(n))for(var _=0;_<n.length;_++)Ri(l,n[_],o,c,f);else c=Be(c)?!!c.capture:!!c,o=Wi(o),l&&l[hr]?(l=l.i,(n=String(n).toString())in l.g&&-1<(o=cn(_=l.g[n],o,c,f))&&(Zr(_[o]),Array.prototype.splice.call(_,o,1),0==_.length&&(delete l.g[n],l.h--))):l&&(l=Ir(l))&&(n=l.g[n.toString()],l=-1,n&&(l=cn(n,o,c,f)),(o=-1<l?n[l]:null)&&ir(o))}function ir(l){if("number"!=typeof l&&l&&!l.fa){var n=l.src;if(n&&n[hr])or(n.i,l);else{var o=l.type,c=l.proxy;n.removeEventListener?n.removeEventListener(o,c,l.capture):n.detachEvent?n.detachEvent(Kt(o),c):n.addListener&&n.removeListener&&n.removeListener(c),(o=Ir(n))?(or(o,l),0==o.h&&(o.src=null,n[Fn]=null)):Zr(l)}}}function Kt(l){return l in kr?kr[l]:kr[l]="on"+l}function Un(l,n){if(l.fa)l=!0;else{n=new Cn(n,this);var o=l.listener,c=l.la||l.src;l.ia&&ir(l),l=o.call(c,n)}return l}function Ir(l){return(l=l[Fn])instanceof Wr?l:null}var Pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wi(l){return"function"==typeof l?l:(l[Pi]||(l[Pi]=function(n){return l.handleEvent(n)}),l[Pi])}function ar(){tt.call(this),this.i=new Wr(this),this.S=this,this.J=null}function qn(l,n){var o,c=l.J;if(c)for(o=[];c;c=c.J)o.push(c);if(l=l.S,c=n.type||n,"string"==typeof n)n=new ye(n,l);else if(n instanceof ye)n.target=n.target||l;else{var f=n;Wn(n=new ye(c,l),f)}if(f=!0,o)for(var _=o.length-1;0<=_;_--){var w=n.g=o[_];f=it(w,c,!0,n)&&f}if(f=it(w=n.g=l,c,!0,n)&&f,f=it(w,c,!1,n)&&f,o)for(_=0;_<o.length;_++)f=it(w=n.g=o[_],c,!1,n)&&f}function it(l,n,o,c){if(!(n=l.i.g[String(n)]))return!0;n=n.concat();for(var f=!0,_=0;_<n.length;++_){var w=n[_];if(w&&!w.fa&&w.capture==o){var N=w.listener,H=w.la||w.src;w.ia&&or(l.i,w),f=!1!==N.call(H,c)&&f}}return f&&!c.defaultPrevented}bt(ar,tt),ar.prototype[hr]=!0,ar.prototype.removeEventListener=function(l,n,o,c){Ri(this,l,n,o,c)},ar.prototype.N=function(){if(ar.$.N.call(this),this.i){var n,l=this.i;for(n in l.g){for(var o=l.g[n],c=0;c<o.length;c++)Zr(o[c]);delete l.g[n],l.h--}}this.J=null},ar.prototype.O=function(l,n,o,c){return this.i.add(String(l),n,!1,o,c)},ar.prototype.P=function(l,n,o,c){return this.i.add(String(l),n,!0,o,c)};var Se=le.JSON.stringify;function _t(){var l=$;let n=null;return l.g&&(n=l.g,l.g=l.g.next,l.g||(l.h=null),n.next=null),n}var En=new class je{constructor(n,o){this.i=n,this.j=o,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new _r,l=>l.reset());class _r{constructor(){this.next=this.g=this.h=null}set(n,o){this.h=n,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Te(l){var n=1;l=l.split(":");const o=[];for(;0<n&&l.length;)o.push(l.shift()),n--;return l.length&&o.push(l.join(":")),o}function re(l){le.setTimeout(()=>{throw l},0)}let q,B=!1,$=new class sn{constructor(){this.h=this.g=null}add(n,o){const c=En.get();c.set(n,o),this.h?this.h.next=c:this.g=c,this.h=c}},he=()=>{const l=le.Promise.resolve(void 0);q=()=>{l.then($e)}};var $e=()=>{for(var l;l=_t();){try{l.h.call(l.g)}catch(o){re(o)}var n=En;n.j(l),100>n.h&&(n.h++,l.next=n.g,n.g=l)}B=!1};function wt(l,n){ar.call(this),this.h=l||1,this.g=n||le,this.j=ke(this.qb,this),this.l=Date.now()}function on(l){l.ga=!1,l.T&&(l.g.clearTimeout(l.T),l.T=null)}function Xt(l,n,o){if("function"==typeof l)o&&(l=ke(l,o));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=ke(l.handleEvent,l)}return 2147483647<Number(n)?-1:le.setTimeout(l,n||0)}function Xn(l){l.g=Xt(()=>{l.g=null,l.i&&(l.i=!1,Xn(l))},l.j);const n=l.h;l.h=null,l.m.apply(null,n)}bt(wt,ar),(me=wt.prototype).ga=!1,me.T=null,me.qb=function(){if(this.ga){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-l):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qn(this,"tick"),this.ga&&(on(this),this.start()))}},me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.N=function(){wt.$.N.call(this),on(this),delete this.g};class Hn extends tt{constructor(n,o){super(),this.m=n,this.j=o,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(l){tt.call(this),this.h=l,this.g={}}bt(Tr,tt);var Qn=[];function yt(l,n,o,c){Array.isArray(o)||(o&&(Qn[0]=o.toString()),o=Qn);for(var f=0;f<o.length;f++){var _=Gr(n,o[f],c||l.handleEvent,!1,l.h||l);if(!_)break;l.g[_.key]=_}}function ie(l){ci(l.g,function(n,o){this.g.hasOwnProperty(o)&&ir(n)},l),l.g={}}function ge(){this.g=!0}function Dn(l,n,o,c){l.info(function(){return"XMLHTTP TEXT ("+n+"): "+function Xr(l,n){if(!l.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(l=0;l<o.length;l++)if(Array.isArray(o[l])){var c=o[l];if(!(2>c.length)){var f=c[1];if(Array.isArray(f)&&!(1>f.length)){var _=f[0];if("noop"!=_&&"stop"!=_&&"close"!=_)for(var w=1;w<f.length;w++)f[w]=""}}}return Se(o)}catch{return n}}(l,o)+(c?" "+c:"")})}Tr.prototype.N=function(){Tr.$.N.call(this),ie(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ge.prototype.Ea=function(){this.g=!1},ge.prototype.info=function(){};var Ln={},is=null;function Ue(){return is=is||new ar}function De(l){ye.call(this,Ln.Ta,l)}function Ae(l){const n=Ue();qn(n,new De(n))}function dt(l,n){ye.call(this,Ln.STAT_EVENT,l),this.stat=n}function Ct(l){const n=Ue();qn(n,new dt(n,l))}function Ut(l,n){ye.call(this,Ln.Ua,l),this.size=n}function Vt(l,n){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){l()},n)}Ln.Ta="serverreachability",bt(De,ye),Ln.STAT_EVENT="statevent",bt(dt,ye),Ln.Ua="timingevent",bt(Ut,ye);var $n={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mr(){}function ur(){}Mr.prototype.h=null;var Pe,br={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oi(){ye.call(this,"d")}function Mi(){ye.call(this,"c")}function we(){}function Ge(l,n,o,c){this.l=l,this.j=n,this.m=o,this.W=c||1,this.U=new Tr(this),this.P=ct,this.V=new wt(l=qe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}bt(oi,ye),bt(Mi,ye),bt(we,Mr),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},Pe=new we;var ct=45e3,Bn={},xr={};function lr(l,n,o){l.L=1,l.v=Pr(Ps(n)),l.s=o,l.S=!0,Rr(l,null)}function Rr(l,n){l.G=Date.now(),Ei(l),l.A=Ps(l.v);var o=l.A,c=l.W;Array.isArray(c)||(c=[String(c)]),Fo(o.i,"t",c),l.C=0,o=l.l.J,l.h=new xt,l.g=xa(l.l,o?n:null,!l.s),0<l.O&&(l.M=new Hn(ke(l.Pa,l,l.g),l.O)),yt(l.U,l.g,"readystatechange",l.nb),n=l.I?Br(l.I):{},l.s?(l.u||(l.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",l.g.ha(l.A,l.u,l.s,n)):(l.u="GET",l.g.ha(l.A,l.u,null,n)),Ae(),function Me(l,n,o,c,f,_){l.info(function(){if(l.g)if(_)for(var w="",N=_.split("&"),H=0;H<N.length;H++){var K=N[H].split("=");if(1<K.length){var oe=K[0];K=K[1];var Ie=oe.split("_");w=2<=Ie.length&&"type"==Ie[1]?w+(oe+"=")+K+"&":w+(oe+"=redacted&")}}else w=null;else w=_;return"XMLHTTP REQ ("+c+") [attempt "+f+"]: "+n+"\n"+o+"\n"+w})}(l.j,l.u,l.A,l.m,l.W,l.s)}function Eo(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.l.Ha}function ko(l,n,o){let f,c=!0;for(;!l.J&&l.C<o.length;){if(f=Di(l,o),f==xr){4==n&&(l.o=4,Ct(14),c=!1),Dn(l.j,l.m,null,"[Incomplete Response]");break}if(f==Bn){l.o=4,Ct(15),Dn(l.j,l.m,o,"[Invalid Chunk]"),c=!1;break}Dn(l.j,l.m,f,null),Lu(l,f)}Eo(l)&&f!=xr&&f!=Bn&&(l.h.g="",l.C=0),4!=n||0!=o.length||l.h.h||(l.o=1,Ct(16),c=!1),l.i=l.i&&c,c?0<o.length&&!l.ba&&(l.ba=!0,(n=l.l).g==l&&n.ca&&!n.M&&(n.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),pl(n),n.M=!0,Ct(11))):(Dn(l.j,l.m,o,"[Invalid Chunked Response]"),Lo(l),cl(l))}function Di(l,n){var o=l.C,c=n.indexOf("\n",o);return-1==c?xr:(o=Number(n.substring(o,c)),isNaN(o)?Bn:(c+=1)+o>n.length?xr:(n=n.slice(c,c+o),l.C=c+o,n))}function Ei(l){l.Y=Date.now()+l.P,ll(l,l.P)}function ll(l,n){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Vt(ke(l.lb,l),n)}function qa(l){l.B&&(le.clearTimeout(l.B),l.B=null)}function cl(l){0==l.l.H||l.J||Sa(l.l,l)}function Lo(l){qa(l);var n=l.M;n&&"function"==typeof n.sa&&n.sa(),l.M=null,on(l.V),ie(l.U),l.g&&(n=l.g,l.g=null,n.abort(),n.sa())}function Lu(l,n){try{var o=l.l;if(0!=o.H&&(o.g==l||Uu(o.i,l)))if(!l.K&&Uu(o.i,l)&&3==o.H){try{var c=o.Ja.g.parse(n)}catch{c=null}if(Array.isArray(c)&&3==c.length){var f=c;if(0==f[0]){e:if(!o.u){if(o.g){if(!(o.g.G+3e3<l.G))break e;Ai(o),Js(o)}eu(o),Ct(18)}}else o.Fa=f[1],0<o.Fa-o.V&&37500>f[2]&&o.G&&0==o.A&&!o.v&&(o.v=Vt(ke(o.ib,o),6e3));if(1>=Da(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else Ki(o,11)}else if((l.K||o.g==l)&&Ai(o),!Pt(n))for(f=o.Ja.g.parse(n),n=0;n<f.length;n++){let K=f[n];if(o.V=K[0],K=K[1],2==o.H)if("c"==K[0]){o.K=K[1],o.pa=K[2];const oe=K[3];null!=oe&&(o.ra=oe,o.l.info("VER="+o.ra));const Ie=K[4];null!=Ie&&(o.Ga=Ie,o.l.info("SVER="+o.Ga));const et=K[5];null!=et&&"number"==typeof et&&0<et&&(o.L=c=1.5*et,o.l.info("backChannelRequestTimeoutMs_="+c)),c=o;const Dt=l.g;if(Dt){const Qt=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var _=c.i;_.g||-1==Qt.indexOf("spdy")&&-1==Qt.indexOf("quic")&&-1==Qt.indexOf("h2")||(_.j=_.l,_.g=new Set,_.h&&(Fc(_,_.h),_.h=null))}if(c.F){const Sn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sn&&(c.Da=Sn,Qr(c.I,c.F,Sn))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-l.G,o.l.info("Handshake RTT: "+o.S+"ms"));var w=l;if((c=o).wa=da(c,c.J?c.pa:null,c.Y),w.K){fo(c.i,w);var N=w,H=c.L;H&&N.setTimeout(H),N.B&&(qa(N),Ei(N)),c.g=w}else pr(c);0<o.j.length&&os(o)}else"stop"!=K[0]&&"close"!=K[0]||Ki(o,7);else 3==o.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Ki(o,7):yr(o):"noop"!=K[0]&&o.h&&o.h.Aa(K),o.A=0)}Ae()}catch{}}function fu(l,n){if(l.forEach&&"function"==typeof l.forEach)l.forEach(n,void 0);else if(pe(l)||"string"==typeof l)Array.prototype.forEach.call(l,n,void 0);else for(var o=function sc(l){if(l.ta&&"function"==typeof l.ta)return l.ta();if(!l.Z||"function"!=typeof l.Z){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(pe(l)||"string"==typeof l){var n=[];l=l.length;for(var o=0;o<l;o++)n.push(o);return n}n=[],o=0;for(const c in l)n[o++]=c;return n}}}(l),c=function Go(l){if(l.Z&&"function"==typeof l.Z)return l.Z();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(pe(l)){for(var n=[],o=l.length,c=0;c<o;c++)n.push(l[c]);return n}for(c in n=[],o=0,l)n[o++]=l[c];return n}(l),f=c.length,_=0;_<f;_++)n.call(void 0,c[_],o&&o[_],l)}(me=Ge.prototype).setTimeout=function(l){this.P=l},me.nb=function(l){l=l.target;const n=this.M;n&&3==Vo(l)?n.l():this.Pa(l)},me.Pa=function(l){try{if(l==this.g)e:{const oe=Vo(this.g);var n=this.g.Ia();if(this.g.da(),!(3>oe)&&(3!=oe||qe||this.g&&(this.h.h||this.g.ja()||$u(this.g)))){this.J||4!=oe||7==n||Ae(),qa(this);var o=this.g.da();this.ca=o;t:if(Eo(this)){var c=$u(this.g);l="";var f=c.length,_=4==Vo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),cl(this);var w="";break t}this.h.i=new le.TextDecoder}for(n=0;n<f;n++)this.h.h=!0,l+=this.h.i.decode(c[n],{stream:_&&n==f-1});c.splice(0,f),this.h.g+=l,this.C=0,w=this.h.g}else w=this.g.ja();if(this.i=200==o,function Bt(l,n,o,c,f,_,w){l.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+f+"]: "+n+"\n"+o+"\n"+_+" "+w})}(this.j,this.u,this.A,this.m,this.W,oe,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var N,H=this.g;if((N=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pt(N)){var K=N;break t}}K=null}if(!(o=K)){this.i=!1,this.o=3,Ct(12),Lo(this),cl(this);break e}Dn(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lu(this,o)}this.S?(ko(this,oe,w),qe&&this.i&&3==oe&&(yt(this.U,this.V,"tick",this.mb),this.V.start())):(Dn(this.j,this.m,w,null),Lu(this,w)),4==oe&&Lo(this),this.i&&!this.J&&(4==oe?Sa(this.l,this):(this.i=!1,Ei(this)))}else(function Vc(l){const n={};l=(l.g&&2<=Vo(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let c=0;c<l.length;c++){if(Pt(l[c]))continue;var o=Te(l[c]);const f=o[0];if("string"!=typeof(o=o[1]))continue;o=o.trim();const _=n[f]||[];n[f]=_,_.push(o)}!function si(l,n){for(const o in l)n.call(void 0,l[o],o,l)}(n,function(c){return c.join(", ")})})(this.g),400==o&&0<w.indexOf("Unknown SID")?(this.o=3,Ct(12)):(this.o=0,Ct(13)),Lo(this),cl(this)}}}catch{}},me.mb=function(){if(this.g){var l=Vo(this.g),n=this.g.ja();this.C<n.length&&(qa(this),ko(this,l,n),this.i&&4!=l&&Ei(this))}},me.cancel=function(){this.J=!0,Lo(this)},me.lb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function fr(l,n){l.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.L&&(Ae(),Ct(17)),Lo(this),this.o=2,cl(this)):ll(this,this.Y-l)};var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ys(l){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,l instanceof ys){this.h=l.h,qo(this,l.j),this.s=l.s,this.g=l.g,Fu(this,l.m),this.l=l.l;var n=l.i,o=new ws;o.i=n.i,n.g&&(o.g=new Map(n.g),o.h=n.h),Oi(this,o),this.o=l.o}else l&&(n=String(l).match(pu))?(this.h=!1,qo(this,n[1]||"",!0),this.s=Wa(n[2]||""),this.g=Wa(n[3]||"",!0),Fu(this,n[4]),this.l=Wa(n[5]||"",!0),Oi(this,n[6]||"",!0),this.o=Wa(n[7]||"")):(this.h=!1,this.i=new ws(null,this.h))}function Ps(l){return new ys(l)}function qo(l,n,o){l.j=o?Wa(n,!0):n,l.j&&(l.j=l.j.replace(/:$/,""))}function Fu(l,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);l.m=n}else l.m=null}function Oi(l,n,o){n instanceof ws?(l.i=n,function Qa(l,n){n&&!l.j&&(Ms(l),l.i=null,l.g.forEach(function(o,c){var f=c.toLowerCase();c!=f&&($r(this,c),Fo(this,f,o))},l)),l.j=n}(l.i,l.h)):(o||(n=hs(n,ho)),l.i=new ws(n,l.h))}function Qr(l,n,o){l.i.set(n,o)}function Pr(l){return Qr(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Wa(l,n){return l?n?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function hs(l,n,o){return"string"==typeof l?(l=encodeURI(l).replace(n,gu),o&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gu(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ys.prototype.toString=function(){var l=[],n=this.j;n&&l.push(hs(n,mu,!0),":");var o=this.g;return(o||"file"==n)&&(l.push("//"),(n=this.s)&&l.push(hs(n,mu,!0),"@"),l.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&l.push(":",String(o))),(o=this.l)&&(this.g&&"/"!=o.charAt(0)&&l.push("/"),l.push(hs(o,"/"==o.charAt(0)?hl:dl,!0))),(o=this.i.toString())&&l.push("?",o),(o=this.o)&&l.push("#",hs(o,Ka)),l.join("")};var mu=/[#\/\?@]/g,dl=/[#\?:]/g,hl=/[#\?]/g,ho=/[#\?@]/g,Ka=/#/g;function ws(l,n){this.h=this.g=null,this.i=l||null,this.j=!!n}function Ms(l){l.g||(l.g=new Map,l.h=0,l.i&&function Qs(l,n){if(l){l=l.split("&");for(var o=0;o<l.length;o++){var c=l[o].indexOf("="),f=null;if(0<=c){var _=l[o].substring(0,c);f=l[o].substring(c+1)}else _=l[o];n(_,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(l.i,function(n,o){l.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function $r(l,n){Ms(l),n=Za(l,n),l.g.has(n)&&(l.i=null,l.h-=l.g.get(n).length,l.g.delete(n))}function Os(l,n){return Ms(l),n=Za(l,n),l.g.has(n)}function Fo(l,n,o){$r(l,n),0<o.length&&(l.i=null,l.g.set(Za(l,n),St(o)),l.h+=o.length)}function Za(l,n){return n=String(n),l.j&&(n=n.toLowerCase()),n}(me=ws.prototype).add=function(l,n){Ms(this),this.i=null,l=Za(this,l);var o=this.g.get(l);return o||this.g.set(l,o=[]),o.push(n),this.h+=1,this},me.forEach=function(l,n){Ms(this),this.g.forEach(function(o,c){o.forEach(function(f){l.call(n,f,c,this)},this)},this)},me.ta=function(){Ms(this);const l=Array.from(this.g.values()),n=Array.from(this.g.keys()),o=[];for(let c=0;c<n.length;c++){const f=l[c];for(let _=0;_<f.length;_++)o.push(n[c])}return o},me.Z=function(l){Ms(this);let n=[];if("string"==typeof l)Os(this,l)&&(n=n.concat(this.g.get(Za(this,l))));else{l=Array.from(this.g.values());for(let o=0;o<l.length;o++)n=n.concat(l[o])}return n},me.set=function(l,n){return Ms(this),this.i=null,Os(this,l=Za(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[n]),this.h+=1,this},me.get=function(l,n){return l&&0<(l=this.Z(l)).length?String(l[0]):n},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],n=Array.from(this.g.keys());for(var o=0;o<n.length;o++){var c=n[o];const _=encodeURIComponent(String(c)),w=this.Z(c);for(c=0;c<w.length;c++){var f=_;""!==w[c]&&(f+="="+encodeURIComponent(String(w[c]))),l.push(f)}}return this.i=l.join("&")};var Ya=class{constructor(l,n){this.g=l,this.map=n}};function Vu(l){this.l=l||la,l=le.PerformanceNavigationTiming?0<(l=le.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().ec),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var la=10;function _u(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Da(l){return l.h?1:l.g?l.g.size:0}function Uu(l,n){return l.h?l.h==n:!!l.g&&l.g.has(n)}function Fc(l,n){l.g?l.g.add(n):l.h=n}function fo(l,n){l.h&&l.h==n?l.h=null:l.g&&l.g.has(n)&&l.g.delete(n)}function Qd(l){if(null!=l.h)return l.i.concat(l.h.F);if(null!=l.g&&0!==l.g.size){let n=l.i;for(const o of l.g.values())n=n.concat(o.F);return n}return St(l.i)}Vu.prototype.cancel=function(){if(this.i=Qd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var Bu=class{stringify(l){return le.JSON.stringify(l,void 0)}parse(l){return le.JSON.parse(l,void 0)}};function oc(){this.g=new Bu}function ju(l,n,o){const c=o||"";try{fu(l,function(f,_){let w=f;Be(f)&&(w=Se(f)),n.push(c+_+"="+encodeURIComponent(w))})}catch(f){throw n.push(c+"type="+encodeURIComponent("_badmap")),f}}function Aa(l,n,o,c,f){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,f(c)}catch{}}function Is(l){this.l=l.fc||null,this.j=l.ob||!1}function ji(l,n){ar.call(this),this.F=l,this.u=n,this.m=void 0,this.readyState=ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bt(Is,Mr),Is.prototype.g=function(){return new ji(this.l,this.j)},Is.prototype.i=function(l){return function(){return l}}({}),bt(ji,ar);var ca=0;function Ja(l){l.j.read().then(l.Xa.bind(l)).catch(l.ka.bind(l))}function yu(l){l.readyState=4,l.l=null,l.j=null,l.A=null,Xa(l)}function Xa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(me=ji.prototype).open=function(l,n){if(this.readyState!=ca)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=n,this.readyState=1,Xa(this)},me.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(n.body=l),(this.F||le).fetch(new Request(this.B,n)).then(this.$a.bind(this),this.ka.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yu(this)),this.readyState=ca},me.$a=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ja(this)}else l.text().then(this.Za.bind(this),this.ka.bind(this))},me.Xa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var n=l.value?l.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!l.done}))&&(this.response=this.responseText+=n)}l.done?yu(this):Xa(this),3==this.readyState&&Ja(this)}},me.Za=function(l){this.g&&(this.response=this.responseText=l,yu(this))},me.Ya=function(l){this.g&&(this.response=l,yu(this))},me.ka=function(){this.g&&yu(this)},me.setRequestHeader=function(l,n){this.v.append(l,n)},me.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],n=this.h.entries();for(var o=n.next();!o.done;)l.push((o=o.value)[0]+": "+o[1]),o=n.next();return l.join("\r\n")},Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Fl=le.JSON.parse;function di(l){ar.call(this),this.headers=new Map,this.u=l||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hu,this.L=this.M=!1}bt(di,ar);var Hu="",Vl=/^https?$/i,Ys=["POST","PUT"];function ai(l,n){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=n,l.m=5,ss(l),Hi(l)}function ss(l){l.F||(l.F=!0,qn(l,"complete"),qn(l,"error"))}function Wo(l){if(l.h&&typeof Ve<"u"&&(!l.C[1]||4!=Vo(l)||2!=l.da()))if(l.v&&4==Vo(l))Xt(l.La,0,l);else if(qn(l,"readystatechange"),4==Vo(l)){l.h=!1;try{const w=l.da();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var o;if(!(o=n)){var c;if(c=0===w){var f=String(l.I).match(pu)[1]||null;!f&&le.self&&le.self.location&&(f=le.self.location.protocol.slice(0,-1)),c=!Vl.test(f?f.toLowerCase():"")}o=c}if(o)qn(l,"complete"),qn(l,"success");else{l.m=6;try{var _=2<Vo(l)?l.g.statusText:""}catch{_=""}l.j=_+" ["+l.da()+"]",ss(l)}}finally{Hi(l)}}}function Hi(l,n){if(l.g){Ko(l);const o=l.g,c=l.C[0]?()=>{}:null;l.g=null,l.C=null,n||qn(l,"ready");try{o.onreadystatechange=c}catch{}}}function Ko(l){l.g&&l.L&&(l.g.ontimeout=null),l.A&&(le.clearTimeout(l.A),l.A=null)}function Vo(l){return l.g?l.g.readyState:0}function $u(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.K){case Hu:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function fl(l){let n="";return ci(l,function(o,c){n+=c,n+=":",n+=o,n+="\r\n"}),n}function Ni(l,n,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=fl(o),"string"==typeof l?null!=o&&encodeURIComponent(String(o)):Qr(l,n,o))}function qt(l,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[l]||n}function sr(l){this.Ga=0,this.j=[],this.l=new ge,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qt("failFast",!1,l),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qt("baseRetryDelayMs",5e3,l),this.hb=qt("retryDelaySeedMs",1e4,l),this.eb=qt("forwardChannelMaxRetries",2,l),this.xa=qt("forwardChannelRequestTimeoutMs",2e4,l),this.va=l&&l.xmlHttpFactory||void 0,this.Ha=l&&l.dc||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.i=new Vu(l&&l.concurrentRequestLimit),this.Ja=new oc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=l&&l.bc||!1,l&&l.Ea&&this.l.Ea(),l&&l.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&l&&l.detectBufferingProxy||!1,this.qa=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.qa=l.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yr(l){if(Ts(l),3==l.H){var n=l.W++,o=Ps(l.I);if(Qr(o,"SID",l.K),Qr(o,"RID",n),Qr(o,"TYPE","terminate"),ts(l,o),(n=new Ge(l,l.l,n)).L=2,n.v=Pr(Ps(o)),o=!1,le.navigator&&le.navigator.sendBeacon)try{o=le.navigator.sendBeacon(n.v.toString(),"")}catch{}!o&&le.Image&&((new Image).src=n.v,o=!0),o||(n.g=xa(n.l,null),n.g.ha(n.v)),n.G=Date.now(),Ei(n)}go(l)}function Js(l){l.g&&(pl(l),l.g.cancel(),l.g=null)}function Ts(l){Js(l),l.u&&(le.clearTimeout(l.u),l.u=null),Ai(l),l.i.cancel(),l.m&&("number"==typeof l.m&&le.clearTimeout(l.m),l.m=null)}function os(l){if(!_u(l.i)&&!l.m){l.m=!0;var n=l.Na;q||he(),B||(q(),B=!0),$.add(n,l),l.C=0}}function hi(l,n){var o;o=n?n.m:l.W++;const c=Ps(l.I);Qr(c,"SID",l.K),Qr(c,"RID",o),Qr(c,"AID",l.V),ts(l,c),l.o&&l.s&&Ni(c,l.o,l.s),o=new Ge(l,l.l,o,l.C+1),null===l.o&&(o.I=l.s),n&&(l.j=n.F.concat(l.j)),n=Zo(l,o,1e3),o.setTimeout(Math.round(.5*l.xa)+Math.round(.5*l.xa*Math.random())),Fc(l.i,o),lr(o,c,n)}function ts(l,n){l.na&&ci(l.na,function(o,c){Qr(n,c,o)}),l.h&&fu({},function(o,c){Qr(n,c,o)})}function Zo(l,n,o){o=Math.min(l.j.length,o);var c=l.h?ke(l.h.Va,l.h,l):null;e:{var f=l.j;let _=-1;for(;;){const w=["count="+o];-1==_?0<o?(_=f[0].g,w.push("ofs="+_)):_=0:w.push("ofs="+_);let N=!0;for(let H=0;H<o;H++){let K=f[H].g;const oe=f[H].map;if(K-=_,0>K)_=Math.max(0,f[H].g-100),N=!1;else try{ju(oe,w,"req"+K+"_")}catch{c&&c(oe)}}if(N){c=w.join("&");break e}}}return l=l.j.splice(0,o),n.F=l,c}function pr(l){if(!l.g&&!l.u){l.ba=1;var n=l.Ma;q||he(),B||(q(),B=!0),$.add(n,l),l.A=0}}function eu(l){return!(l.g||l.u||3<=l.A||(l.ba++,l.u=Vt(ke(l.Ma,l),po(l,l.A)),l.A++,0))}function pl(l){null!=l.B&&(le.clearTimeout(l.B),l.B=null)}function tu(l){l.g=new Ge(l,l.l,"rpc",l.ba),null===l.o&&(l.g.I=l.s),l.g.O=0;var n=Ps(l.wa);Qr(n,"RID","rpc"),Qr(n,"SID",l.K),Qr(n,"AID",l.V),Qr(n,"CI",l.G?"0":"1"),!l.G&&l.qa&&Qr(n,"TO",l.qa),Qr(n,"TYPE","xmlhttp"),ts(l,n),l.o&&l.s&&Ni(n,l.o,l.s),l.L&&l.g.setTimeout(l.L);var o=l.g;l=l.pa,o.L=1,o.v=Pr(Ps(n)),o.s=null,o.S=!0,Rr(o,l)}function Ai(l){null!=l.v&&(le.clearTimeout(l.v),l.v=null)}function Sa(l,n){var o=null;if(l.g==n){Ai(l),pl(l),l.g=null;var c=2}else{if(!Uu(l.i,n))return;o=n.F,fo(l.i,n),c=1}if(0!=l.H)if(n.i)if(1==c){o=n.s?n.s.length:0,n=Date.now()-n.G;var f=l.C;qn(c=Ue(),new Ut(c,o)),os(l)}else pr(l);else if(3==(f=n.o)||0==f&&0<n.ca||!(1==c&&function js(l,n){return!(Da(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.j=n.F.concat(l.j),0):1==l.H||2==l.H||l.C>=(l.cb?0:l.eb)||(l.m=Vt(ke(l.Na,l,n),po(l,l.C)),l.C++,0)))}(l,n)||2==c&&eu(l)))switch(o&&0<o.length&&(n=l.i,n.i=n.i.concat(o)),f){case 1:Ki(l,5);break;case 4:Ki(l,10);break;case 3:Ki(l,6);break;default:Ki(l,2)}}function po(l,n){let o=l.ab+Math.floor(Math.random()*l.hb);return l.isActive()||(o*=2),o*n}function Ki(l,n){if(l.l.info("Error code "+n),2==n){var o=null;l.h&&(o=null);var c=ke(l.pb,l);o||(o=new ys("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||qo(o,"https"),Pr(o)),function dd(l,n){const o=new ge;if(le.Image){const c=new Image;c.onload=Oe(Aa,o,c,"TestLoadImage: loaded",!0,n),c.onerror=Oe(Aa,o,c,"TestLoadImage: error",!1,n),c.onabort=Oe(Aa,o,c,"TestLoadImage: abort",!1,n),c.ontimeout=Oe(Aa,o,c,"TestLoadImage: timeout",!1,n),le.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=l}else n(!1)}(o.toString(),c)}else Ct(2);l.H=0,l.h&&l.h.za(n),go(l),Ts(l)}function go(l){if(l.H=0,l.ma=[],l.h){const n=Qd(l.i);(0!=n.length||0!=l.j.length)&&(vt(l.ma,n),vt(l.ma,l.j),l.i.i.length=0,St(l.j),l.j.length=0),l.h.ya()}}function da(l,n,o){var c=o instanceof ys?Ps(o):new ys(o);if(""!=c.g)n&&(c.g=n+"."+c.g),Fu(c,c.m);else{var f=le.location;c=f.protocol,n=n?n+"."+f.hostname:f.hostname,f=+f.port;var _=new ys(null);c&&qo(_,c),n&&(_.g=n),f&&Fu(_,f),o&&(_.l=o),c=_}return n=l.Da,(o=l.F)&&n&&Qr(c,o,n),Qr(c,"VER",l.ra),ts(l,c),c}function xa(l,n,o){if(n&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new di(o&&l.Ha&&!l.va?new Is({ob:!0}):l.va)).Oa(l.J),n}function ha(){}function wo(){if(Jn&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function zn(l,n){ar.call(this),this.g=new sr(n),this.l=l,this.h=n&&n.messageUrlParams||null,l=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(l?l["X-WebChannel-Content-Type"]=n.messageContentType:l={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.Ca&&(l?l["X-WebChannel-Client-Profile"]=n.Ca:l={"X-WebChannel-Client-Profile":n.Ca}),this.g.U=l,(l=n&&n.cc)&&!Pt(l)&&(this.g.o=l),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Pt(n)&&(this.g.F=n,null!==(l=this.h)&&n in l&&n in(l=this.h)&&delete l[n]),this.j=new Hs(this)}function Ra(l){oi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var n=l.__sm__;if(n){e:{for(const o in n){l=o;break e}l=void 0}(this.i=l)&&(l=this.i,n=null!==n&&l in n?n[l]:void 0),this.data=n}else this.data=l}function nu(){Mi.call(this),this.status=1}function Hs(l){this.g=l}function Xs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ki(l,n,o){o||(o=0);var c=Array(16);if("string"==typeof n)for(var f=0;16>f;++f)c[f]=n.charCodeAt(o++)|n.charCodeAt(o++)<<8|n.charCodeAt(o++)<<16|n.charCodeAt(o++)<<24;else for(f=0;16>f;++f)c[f]=n[o++]|n[o++]<<8|n[o++]<<16|n[o++]<<24;var _=l.g[3],w=(n=l.g[0])+(_^(o=l.g[1])&((f=l.g[2])^_))+c[0]+3614090360&4294967295;w=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=(o=(f=(_=(n=o+(w<<7&4294967295|w>>>25))+((w=_+(f^n&(o^f))+c[1]+3905402710&4294967295)<<12&4294967295|w>>>20))+((w=f+(o^_&(n^o))+c[2]+606105819&4294967295)<<17&4294967295|w>>>15))+((w=o+(n^f&(_^n))+c[3]+3250441966&4294967295)<<22&4294967295|w>>>10))+((w=n+(_^o&(f^_))+c[4]+4118548399&4294967295)<<7&4294967295|w>>>25))+((w=_+(f^n&(o^f))+c[5]+1200080426&4294967295)<<12&4294967295|w>>>20))+((w=f+(o^_&(n^o))+c[6]+2821735955&4294967295)<<17&4294967295|w>>>15))+((w=o+(n^f&(_^n))+c[7]+4249261313&4294967295)<<22&4294967295|w>>>10))+((w=n+(_^o&(f^_))+c[8]+1770035416&4294967295)<<7&4294967295|w>>>25))+((w=_+(f^n&(o^f))+c[9]+2336552879&4294967295)<<12&4294967295|w>>>20))+((w=f+(o^_&(n^o))+c[10]+4294925233&4294967295)<<17&4294967295|w>>>15))+((w=o+(n^f&(_^n))+c[11]+2304563134&4294967295)<<22&4294967295|w>>>10))+((w=n+(_^o&(f^_))+c[12]+1804603682&4294967295)<<7&4294967295|w>>>25))+((w=_+(f^n&(o^f))+c[13]+4254626195&4294967295)<<12&4294967295|w>>>20))+((w=f+(o^_&(n^o))+c[14]+2792965006&4294967295)<<17&4294967295|w>>>15))+((w=o+(n^f&(_^n))+c[15]+1236535329&4294967295)<<22&4294967295|w>>>10))+((w=n+(f^_&(o^f))+c[1]+4129170786&4294967295)<<5&4294967295|w>>>27))+((w=_+(o^f&(n^o))+c[6]+3225465664&4294967295)<<9&4294967295|w>>>23))+((w=f+(n^o&(_^n))+c[11]+643717713&4294967295)<<14&4294967295|w>>>18))+((w=o+(_^n&(f^_))+c[0]+3921069994&4294967295)<<20&4294967295|w>>>12))+((w=n+(f^_&(o^f))+c[5]+3593408605&4294967295)<<5&4294967295|w>>>27))+((w=_+(o^f&(n^o))+c[10]+38016083&4294967295)<<9&4294967295|w>>>23))+((w=f+(n^o&(_^n))+c[15]+3634488961&4294967295)<<14&4294967295|w>>>18))+((w=o+(_^n&(f^_))+c[4]+3889429448&4294967295)<<20&4294967295|w>>>12))+((w=n+(f^_&(o^f))+c[9]+568446438&4294967295)<<5&4294967295|w>>>27))+((w=_+(o^f&(n^o))+c[14]+3275163606&4294967295)<<9&4294967295|w>>>23))+((w=f+(n^o&(_^n))+c[3]+4107603335&4294967295)<<14&4294967295|w>>>18))+((w=o+(_^n&(f^_))+c[8]+1163531501&4294967295)<<20&4294967295|w>>>12))+((w=n+(f^_&(o^f))+c[13]+2850285829&4294967295)<<5&4294967295|w>>>27))+((w=_+(o^f&(n^o))+c[2]+4243563512&4294967295)<<9&4294967295|w>>>23))+((w=f+(n^o&(_^n))+c[7]+1735328473&4294967295)<<14&4294967295|w>>>18))+((w=o+(_^n&(f^_))+c[12]+2368359562&4294967295)<<20&4294967295|w>>>12))+((w=n+(o^f^_)+c[5]+4294588738&4294967295)<<4&4294967295|w>>>28))+((w=_+(n^o^f)+c[8]+2272392833&4294967295)<<11&4294967295|w>>>21))+((w=f+(_^n^o)+c[11]+1839030562&4294967295)<<16&4294967295|w>>>16))+((w=o+(f^_^n)+c[14]+4259657740&4294967295)<<23&4294967295|w>>>9))+((w=n+(o^f^_)+c[1]+2763975236&4294967295)<<4&4294967295|w>>>28))+((w=_+(n^o^f)+c[4]+1272893353&4294967295)<<11&4294967295|w>>>21))+((w=f+(_^n^o)+c[7]+4139469664&4294967295)<<16&4294967295|w>>>16))+((w=o+(f^_^n)+c[10]+3200236656&4294967295)<<23&4294967295|w>>>9))+((w=n+(o^f^_)+c[13]+681279174&4294967295)<<4&4294967295|w>>>28))+((w=_+(n^o^f)+c[0]+3936430074&4294967295)<<11&4294967295|w>>>21))+((w=f+(_^n^o)+c[3]+3572445317&4294967295)<<16&4294967295|w>>>16))+((w=o+(f^_^n)+c[6]+76029189&4294967295)<<23&4294967295|w>>>9))+((w=n+(o^f^_)+c[9]+3654602809&4294967295)<<4&4294967295|w>>>28))+((w=_+(n^o^f)+c[12]+3873151461&4294967295)<<11&4294967295|w>>>21))+((w=f+(_^n^o)+c[15]+530742520&4294967295)<<16&4294967295|w>>>16))+((w=o+(f^_^n)+c[2]+3299628645&4294967295)<<23&4294967295|w>>>9))+((w=n+(f^(o|~_))+c[0]+4096336452&4294967295)<<6&4294967295|w>>>26))+((w=_+(o^(n|~f))+c[7]+1126891415&4294967295)<<10&4294967295|w>>>22))+((w=f+(n^(_|~o))+c[14]+2878612391&4294967295)<<15&4294967295|w>>>17))+((w=o+(_^(f|~n))+c[5]+4237533241&4294967295)<<21&4294967295|w>>>11))+((w=n+(f^(o|~_))+c[12]+1700485571&4294967295)<<6&4294967295|w>>>26))+((w=_+(o^(n|~f))+c[3]+2399980690&4294967295)<<10&4294967295|w>>>22))+((w=f+(n^(_|~o))+c[10]+4293915773&4294967295)<<15&4294967295|w>>>17))+((w=o+(_^(f|~n))+c[1]+2240044497&4294967295)<<21&4294967295|w>>>11))+((w=n+(f^(o|~_))+c[8]+1873313359&4294967295)<<6&4294967295|w>>>26))+((w=_+(o^(n|~f))+c[15]+4264355552&4294967295)<<10&4294967295|w>>>22))+((w=f+(n^(_|~o))+c[6]+2734768916&4294967295)<<15&4294967295|w>>>17))+((w=o+(_^(f|~n))+c[13]+1309151649&4294967295)<<21&4294967295|w>>>11))+((_=(n=o+((w=n+(f^(o|~_))+c[4]+4149444226&4294967295)<<6&4294967295|w>>>26))+((w=_+(o^(n|~f))+c[11]+3174756917&4294967295)<<10&4294967295|w>>>22))^((f=_+((w=f+(n^(_|~o))+c[2]+718787259&4294967295)<<15&4294967295|w>>>17))|~n))+c[9]+3951481745&4294967295,l.g[0]=l.g[0]+n&4294967295,l.g[1]=l.g[1]+(f+(w<<21&4294967295|w>>>11))&4294967295,l.g[2]=l.g[2]+f&4294967295,l.g[3]=l.g[3]+_&4294967295}function Kr(l,n){this.h=n;for(var o=[],c=!0,f=l.length-1;0<=f;f--){var _=0|l[f];c&&_==n||(o[f]=_,c=!1)}this.g=o}(me=di.prototype).Oa=function(l){this.M=l},me.ha=function(l,n,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+l);n=n?n.toUpperCase():"GET",this.I=l,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pe.g(),this.C=function Lt(l){return l.h||(l.h=l.i())}(this.u?this.u:Pe),this.g.onreadystatechange=ke(this.La,this);try{this.G=!0,this.g.open(n,String(l),!0),this.G=!1}catch(_){return void ai(this,_)}if(l=o||"",o=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var f in c)o.set(f,c[f]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const _ of c.keys())o.set(_,c.get(_))}c=Array.from(o.keys()).find(_=>"content-type"==_.toLowerCase()),f=le.FormData&&l instanceof le.FormData,!(0<=ut(Ys,n))||c||f||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_,w]of o)this.g.setRequestHeader(_,w);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ko(this),0<this.B&&((this.L=function dr(l){return Jn&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.ua,this)):this.A=Xt(this.ua,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(_){ai(this,_)}},me.ua=function(){typeof Ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},me.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,qn(this,"complete"),qn(this,"abort"),Hi(this))},me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hi(this,!0)),di.$.N.call(this)},me.La=function(){this.s||(this.G||this.v||this.l?Wo(this):this.kb())},me.kb=function(){Wo(this)},me.isActive=function(){return!!this.g},me.da=function(){try{return 2<Vo(this)?this.g.status:-1}catch{return-1}},me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Wa=function(l){if(this.g){var n=this.g.responseText;return l&&0==n.indexOf(l)&&(n=n.substring(l.length)),Fl(n)}},me.Ia=function(){return this.m},me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=sr.prototype).ra=8,me.H=1,me.Na=function(l){if(this.m)if(this.m=null,1==this.H){if(!l){this.W=Math.floor(1e5*Math.random()),l=this.W++;const f=new Ge(this,this.l,l);let _=this.s;if(this.U&&(_?(_=Br(_),Wn(_,this.U)):_=this.U),null!==this.o||this.O||(f.I=_,_=null),this.P)e:{for(var n=0,o=0;o<this.j.length;o++){var c=this.j[o];if(void 0===(c="__data__"in c.map&&"string"==typeof(c=c.map.__data__)?c.length:void 0))break;if(4096<(n+=c)){n=o;break e}if(4096===n||o===this.j.length-1){n=o+1;break e}}n=1e3}else n=1e3;n=Zo(this,f,n),Qr(o=Ps(this.I),"RID",l),Qr(o,"CVER",22),this.F&&Qr(o,"X-HTTP-Session-Id",this.F),ts(this,o),_&&(this.O?n="headers="+encodeURIComponent(String(fl(_)))+"&"+n:this.o&&Ni(o,this.o,_)),Fc(this.i,f),this.bb&&Qr(o,"TYPE","init"),this.P?(Qr(o,"$req",n),Qr(o,"SID","null"),f.aa=!0,lr(f,o,null)):lr(f,o,n),this.H=2}}else 3==this.H&&(l?hi(this,l):0==this.j.length||_u(this.i)||hi(this))},me.Ma=function(){if(this.u=null,tu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var l=2*this.S;this.l.info("BP detection timer enabled: "+l),this.B=Vt(ke(this.jb,this),l)}},me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ct(10),Js(this),tu(this))},me.ib=function(){null!=this.v&&(this.v=null,Js(this),eu(this),Ct(19))},me.pb=function(l){l?(this.l.info("Successfully pinged google.com"),Ct(2)):(this.l.info("Failed to ping google.com"),Ct(1))},me.isActive=function(){return!!this.h&&this.h.isActive(this)},(me=ha.prototype).Ba=function(){},me.Aa=function(){},me.za=function(){},me.ya=function(){},me.isActive=function(){return!0},me.Va=function(){},wo.prototype.g=function(l,n){return new zn(l,n)},bt(zn,ar),zn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var l=this.g,n=this.l,o=this.h||void 0;Ct(0),l.Y=n,l.na=o||{},l.G=l.aa,l.I=da(l,null,l.Y),os(l)},zn.prototype.close=function(){yr(this.g)},zn.prototype.u=function(l){var n=this.g;if("string"==typeof l){var o={};o.__data__=l,l=o}else this.v&&((o={}).__data__=Se(l),l=o);n.j.push(new Ya(n.fb++,l)),3==n.H&&os(n)},zn.prototype.N=function(){this.g.h=null,delete this.j,yr(this.g),delete this.g,zn.$.N.call(this)},bt(Ra,oi),bt(nu,Mi),bt(Hs,ha),Hs.prototype.Ba=function(){qn(this.g,"a")},Hs.prototype.Aa=function(l){qn(this.g,new Ra(l))},Hs.prototype.za=function(l){qn(this.g,new nu)},Hs.prototype.ya=function(){qn(this.g,"b")},bt(Xs,function ns(){this.blockSize=-1}),Xs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xs.prototype.j=function(l,n){void 0===n&&(n=l.length);for(var o=n-this.blockSize,c=this.m,f=this.h,_=0;_<n;){if(0==f)for(;_<=o;)ki(this,l,_),_+=this.blockSize;if("string"==typeof l){for(;_<n;)if(c[f++]=l.charCodeAt(_++),f==this.blockSize){ki(this,c),f=0;break}}else for(;_<n;)if(c[f++]=l[_++],f==this.blockSize){ki(this,c),f=0;break}}this.h=f,this.i+=n},Xs.prototype.l=function(){var l=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);l[0]=128;for(var n=1;n<l.length-8;++n)l[n]=0;var o=8*this.i;for(n=l.length-8;n<l.length;++n)l[n]=255&o,o/=256;for(this.j(l),l=Array(16),n=o=0;4>n;++n)for(var c=0;32>c;c+=8)l[o++]=this.g[n]>>>c&255;return l};var fs={};function Yi(l){return-128<=l&&128>l?function bn(l,n){var o=fs;return Object.prototype.hasOwnProperty.call(o,l)?o[l]:o[l]=n(l)}(l,function(n){return new Kr([0|n],0>n?-1:0)}):new Kr([0|l],0>l?-1:0)}function $s(l){if(isNaN(l)||!isFinite(l))return bs;if(0>l)return vs($s(-l));for(var n=[],o=1,c=0;l>=o;c++)n[c]=l/o|0,o*=fa;return new Kr(n,0)}var fa=4294967296,bs=Yi(0),vu=Yi(1),hd=Yi(16777216);function pa(l){if(0!=l.h)return!1;for(var n=0;n<l.g.length;n++)if(0!=l.g[n])return!1;return!0}function eo(l){return-1==l.h}function vs(l){for(var n=l.g.length,o=[],c=0;c<n;c++)o[c]=~l.g[c];return new Kr(o,~l.h).add(vu)}function gl(l,n){return l.add(vs(n))}function Eu(l,n){for(;(65535&l[n])!=l[n];)l[n+1]+=l[n]>>>16,l[n]&=65535,n++}function ml(l,n){this.g=l,this.h=n}function Ma(l,n){if(pa(n))throw Error("division by zero");if(pa(l))return new ml(bs,bs);if(eo(l))return n=Ma(vs(l),n),new ml(vs(n.g),vs(n.h));if(eo(n))return n=Ma(l,vs(n)),new ml(vs(n.g),n.h);if(30<l.g.length){if(eo(l)||eo(n))throw Error("slowDivide_ only works with positive integers.");for(var o=vu,c=n;0>=c.X(l);)o=ac(o),c=ac(c);var f=ru(o,1),_=ru(c,1);for(c=ru(c,2),o=ru(o,2);!pa(c);){var w=_.add(c);0>=w.X(l)&&(f=f.add(o),_=w),c=ru(c,1),o=ru(o,1)}return n=gl(l,f.R(n)),new ml(f,n)}for(f=bs;0<=l.X(n);){for(o=Math.max(1,Math.floor(l.ea()/n.ea())),c=48>=(c=Math.ceil(Math.log(o)/Math.LN2))?1:Math.pow(2,c-48),w=(_=$s(o)).R(n);eo(w)||0<w.X(l);)w=(_=$s(o-=c)).R(n);pa(_)&&(_=vu),f=f.add(_),l=gl(l,w)}return new ml(f,l)}function ac(l){for(var n=l.g.length+1,o=[],c=0;c<n;c++)o[c]=l.D(c)<<1|l.D(c-1)>>>31;return new Kr(o,l.h)}function ru(l,n){var o=n>>5;n%=32;for(var c=l.g.length-o,f=[],_=0;_<c;_++)f[_]=0<n?l.D(_+o)>>>n|l.D(_+o+1)<<32-n:l.D(_+o);return new Kr(f,l.h)}(me=Kr.prototype).ea=function(){if(eo(this))return-vs(this).ea();for(var l=0,n=1,o=0;o<this.g.length;o++){var c=this.D(o);l+=(0<=c?c:fa+c)*n,n*=fa}return l},me.toString=function(l){if(2>(l=l||10)||36<l)throw Error("radix out of range: "+l);if(pa(this))return"0";if(eo(this))return"-"+vs(this).toString(l);for(var n=$s(Math.pow(l,6)),o=this,c="";;){var f=Ma(o,n).g,_=((0<(o=gl(o,f.R(n))).g.length?o.g[0]:o.h)>>>0).toString(l);if(pa(o=f))return _+c;for(;6>_.length;)_="0"+_;c=_+c}},me.D=function(l){return 0>l?0:l<this.g.length?this.g[l]:this.h},me.X=function(l){return eo(l=gl(this,l))?-1:pa(l)?0:1},me.abs=function(){return eo(this)?vs(this):this},me.add=function(l){for(var n=Math.max(this.g.length,l.g.length),o=[],c=0,f=0;f<=n;f++){var _=c+(65535&this.D(f))+(65535&l.D(f)),w=(_>>>16)+(this.D(f)>>>16)+(l.D(f)>>>16);c=w>>>16,o[f]=(w&=65535)<<16|(_&=65535)}return new Kr(o,-2147483648&o[o.length-1]?-1:0)},me.R=function(l){if(pa(this)||pa(l))return bs;if(eo(this))return eo(l)?vs(this).R(vs(l)):vs(vs(this).R(l));if(eo(l))return vs(this.R(vs(l)));if(0>this.X(hd)&&0>l.X(hd))return $s(this.ea()*l.ea());for(var n=this.g.length+l.g.length,o=[],c=0;c<2*n;c++)o[c]=0;for(c=0;c<this.g.length;c++)for(var f=0;f<l.g.length;f++){var _=this.D(c)>>>16,w=65535&this.D(c),N=l.D(f)>>>16,H=65535&l.D(f);o[2*c+2*f]+=w*H,Eu(o,2*c+2*f),o[2*c+2*f+1]+=_*H,Eu(o,2*c+2*f+1),o[2*c+2*f+1]+=w*N,Eu(o,2*c+2*f+1),o[2*c+2*f+2]+=_*N,Eu(o,2*c+2*f+2)}for(c=0;c<n;c++)o[c]=o[2*c+1]<<16|o[2*c];for(c=n;c<2*n;c++)o[c]=0;return new Kr(o,0)},me.gb=function(l){return Ma(this,l).h},me.and=function(l){for(var n=Math.max(this.g.length,l.g.length),o=[],c=0;c<n;c++)o[c]=this.D(c)&l.D(c);return new Kr(o,this.h&l.h)},me.or=function(l){for(var n=Math.max(this.g.length,l.g.length),o=[],c=0;c<n;c++)o[c]=this.D(c)|l.D(c);return new Kr(o,this.h|l.h)},me.xor=function(l){for(var n=Math.max(this.g.length,l.g.length),o=[],c=0;c<n;c++)o[c]=this.D(c)^l.D(c);return new Kr(o,this.h^l.h)},wo.prototype.createWebChannel=wo.prototype.g,zn.prototype.send=zn.prototype.u,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,$n.NO_ERROR=0,$n.TIMEOUT=8,$n.HTTP_ERROR=6,Nn.COMPLETE="complete",ur.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",ar.prototype.listen=ar.prototype.O,di.prototype.listenOnce=di.prototype.P,di.prototype.getLastError=di.prototype.Sa,di.prototype.getLastErrorCode=di.prototype.Ia,di.prototype.getStatus=di.prototype.da,di.prototype.getResponseJson=di.prototype.Wa,di.prototype.getResponseText=di.prototype.ja,di.prototype.send=di.prototype.ha,di.prototype.setWithCredentials=di.prototype.Oa,Xs.prototype.digest=Xs.prototype.l,Xs.prototype.reset=Xs.prototype.reset,Xs.prototype.update=Xs.prototype.j,Kr.prototype.add=Kr.prototype.add,Kr.prototype.multiply=Kr.prototype.R,Kr.prototype.modulo=Kr.prototype.gb,Kr.prototype.compare=Kr.prototype.X,Kr.prototype.toNumber=Kr.prototype.ea,Kr.prototype.toString=Kr.prototype.toString,Kr.prototype.getBits=Kr.prototype.D,Kr.fromNumber=$s,Kr.fromString=function Pa(l,n){if(0==l.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==l.charAt(0))return vs(Pa(l.substring(1),n));if(0<=l.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=$s(Math.pow(n,8)),c=bs,f=0;f<l.length;f+=8){var _=Math.min(8,l.length-f),w=parseInt(l.substring(f,f+_),n);8>_?(_=$s(Math.pow(n,_)),c=c.R(_).add($s(w))):c=(c=c.R(o)).add($s(w))}return c};var Uc=be.createWebChannelTransport=function(){return new wo},M=be.getStatEventTarget=function(){return Ue()},ne=be.ErrorCode=$n,j=be.EventType=Nn,Q=be.Event=Ln,ve=be.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ft=be.FetchXmlHttpFactory=Is,Rt=be.WebChannel=ur,Rn=be.XhrIo=di,ni=be.Md5=Xs,fi=be.Integer=Kr;const pi="@firebase/firestore";class Yn{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let ei="9.23.0";const gr=new _e.Yd("@firebase/firestore");function Ji(){return gr.logLevel}function Io(l){gr.setLogLevel(l)}function Ot(l,...n){if(gr.logLevel<=_e.in.DEBUG){const o=n.map(To);gr.debug(`Firestore (${ei}): ${l}`,...o)}}function wi(l,...n){if(gr.logLevel<=_e.in.ERROR){const o=n.map(To);gr.error(`Firestore (${ei}): ${l}`,...o)}}function Li(l,...n){if(gr.logLevel<=_e.in.WARN){const o=n.map(To);gr.warn(`Firestore (${ei}): ${l}`,...o)}}function To(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function gn(l="Unexpected state"){const n=`FIRESTORE (${ei}) INTERNAL ASSERTION FAILED: `+l;throw wi(n),new Error(n)}function xn(l,n){l||gn()}function _l(l,n){l||gn()}function un(l,n){return l}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends m.ZR{constructor(n,o){super(n,o),this.code=n,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class Fi{constructor(n,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class fd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(Yn.UNAUTHENTICATED))}shutdown(){}}class iu{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class $i{constructor(n){this.t=n,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var c=this;let f=this.i;const _=K=>this.i!==f?(f=this.i,o(K)):Promise.resolve();let w=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new Zi,n.enqueueRetryable(()=>_(this.currentUser))};const N=()=>{const K=w;n.enqueueRetryable((0,I.Z)(function*(){yield K.promise,yield _(c.currentUser)}))},H=K=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(K=>H(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?H(K):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new Zi)}},0),N()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==n?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(xn("string"==typeof c.accessToken),new Fi(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return xn(null===n||"string"==typeof n),new Yn(n)}}class Wh{constructor(n,o,c){this.h=n,this.l=o,this.m=c,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const n=this.p();return n&&this.g.set("Authorization",n),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class su{constructor(n,o,c){this.h=n,this.l=o,this.m=c}getToken(){return Promise.resolve(new Wh(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bo{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oa{constructor(n){this.I=n,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(n,o){const c=_=>{null!=_.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const w=_.token!==this.T;return this.T=_.token,Ot("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?o(_.token):Promise.resolve()};this.o=_=>{n.enqueueRetryable(()=>c(_))};const f=_=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.appCheck.addTokenListener(this.o)};this.I.onInit(_=>f(_)),setTimeout(()=>{if(!this.appCheck){const _=this.I.getImmediate({optional:!0});_?f(_):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(o=>o?(xn("string"==typeof o.token),this.T=o.token,new bo(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lc(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let c=0;c<l;c++)o[c]=Math.floor(256*Math.random());return o}class Ns{static A(){const o=62*Math.floor(256/62);let c="";for(;c.length<20;){const f=lc(40);for(let _=0;_<f.length;++_)c.length<20&&f[_]<o&&(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(f[_]%62))}return c}}function er(l,n){return l<n?-1:l>n?1:0}function zu(l,n,o){return l.length===n.length&&l.every((c,f)=>o(c,n[f]))}function pd(l){return l+"\0"}class zi{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new Nt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Nt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new Nt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Nt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return zi.fromMillis(Date.now())}static fromDate(n){return zi.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),c=Math.floor(1e6*(n-1e3*o));return new zi(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?er(this.nanoseconds,n.nanoseconds):er(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Kn(n)}static min(){return new Kn(new zi(0,0))}static max(){return new Kn(new zi(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ga{constructor(n,o,c){void 0===o?o=0:o>n.length&&gn(),void 0===c?c=n.length-o:c>n.length-o&&gn(),this.segments=n,this.offset=o,this.len=c}get length(){return this.len}isEqual(n){return 0===ga.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof ga?n.forEach(c=>{o.push(c)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,c=this.limit();o<c;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const c=Math.min(n.length,o.length);for(let f=0;f<c;f++){const _=n.get(f),w=o.get(f);if(_<w)return-1;if(_>w)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class An extends ga{construct(n,o,c){return new An(n,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const c of n){if(c.indexOf("//")>=0)throw new Nt(st.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(f=>f.length>0))}return new An(o)}static emptyPath(){return new An([])}}const gd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ga{construct(n,o,c){return new tn(n,o,c)}static isValidIdentifier(n){return gd.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tn(["__name__"])}static fromServerFormat(n){const o=[];let c="",f=0;const _=()=>{if(0===c.length)throw new Nt(st.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let w=!1;for(;f<n.length;){const N=n[f];if("\\"===N){if(f+1===n.length)throw new Nt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const H=n[f+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new Nt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);c+=H,f+=2}else"`"===N?(w=!w,f++):"."!==N||w?(c+=N,f++):(_(),f++)}if(_(),w)throw new Nt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new tn(o)}static emptyPath(){return new tn([])}}class dn{constructor(n){this.path=n}static fromPath(n){return new dn(An.fromString(n))}static fromName(n){return new dn(An.fromString(n).popFirst(5))}static empty(){return new dn(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===An.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return An.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new dn(new An(n.slice()))}}class yl{constructor(n,o,c,f){this.indexId=n,this.collectionGroup=o,this.fields=c,this.indexState=f}}function Gu(l){return l.fields.find(n=>2===n.kind)}function to(l){return l.fields.filter(n=>2!==n.kind)}yl.UNKNOWN_ID=-1;class qu{constructor(n,o){this.fieldPath=n,this.kind=o}}class El{constructor(n,o){this.sequenceNumber=n,this.offset=o}static empty(){return new El(0,ma.min())}}function wl(l,n){const o=l.toTimestamp().seconds,c=l.toTimestamp().nanoseconds+1,f=Kn.fromTimestamp(1e9===c?new zi(o+1,0):new zi(o,c));return new ma(f,dn.empty(),n)}function cc(l){return new ma(l.readTime,l.key,-1)}class ma{constructor(n,o,c){this.readTime=n,this.documentKey=o,this.largestBatchId=c}static min(){return new ma(Kn.min(),dn.empty(),-1)}static max(){return new ma(Kn.max(),dn.empty(),-1)}}function Yd(l,n){let o=l.readTime.compareTo(n.readTime);return 0!==o?o:(o=dn.comparator(l.documentKey,n.documentKey),0!==o?o:er(l.largestBatchId,n.largestBatchId))}const It="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Na(l){return vr.apply(this,arguments)}function vr(){return vr=(0,I.Z)(function*(l){if(l.code!==st.FAILED_PRECONDITION||l.message!==It)throw l;Ot("LocalStore","Unexpectedly lost primary lease")}),vr.apply(this,arguments)}class He{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new He((c,f)=>{this.nextCallback=_=>{this.wrapSuccess(n,_).next(c,f)},this.catchCallback=_=>{this.wrapFailure(o,_).next(c,f)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof He?o:He.resolve(o)}catch(o){return He.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):He.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):He.reject(o)}static resolve(n){return new He((o,c)=>{o(n)})}static reject(n){return new He((o,c)=>{c(n)})}static waitFor(n){return new He((o,c)=>{let f=0,_=0,w=!1;n.forEach(N=>{++f,N.next(()=>{++_,w&&_===f&&o()},H=>c(H))}),w=!0,_===f&&o()})}static or(n){let o=He.resolve(!1);for(const c of n)o=o.next(f=>f?He.resolve(f):c());return o}static forEach(n,o){const c=[];return n.forEach((f,_)=>{c.push(o.call(this,f,_))}),this.waitFor(c)}static mapArray(n,o){return new He((c,f)=>{const _=n.length,w=new Array(_);let N=0;for(let H=0;H<_;H++){const K=H;o(n[K]).next(oe=>{w[K]=oe,++N,N===_&&c(w)},oe=>f(oe))}})}static doWhile(n,o){return new He((c,f)=>{const _=()=>{!0===n()?o().next(()=>{_()},f):c()};_()})}}class wu{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.v=new Zi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{o.error?this.v.reject(new Iu(n,o.error)):this.v.resolve()},this.transaction.onerror=c=>{const f=ri(c.target.error);this.v.reject(new Iu(n,f))}}static open(n,o,c,f){try{return new wu(o,n.transaction(f,c))}catch(_){throw new Iu(o,_)}}get R(){return this.v.promise}abort(n){n&&this.v.reject(n),this.aborted||(Ot("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const o=this.transaction.objectStore(n);return new md(o)}}class no{constructor(n,o,c){this.name=n,this.version=o,this.V=c,12.2===no.S((0,m.z$)())&&wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ot("SimpleDb","Removing database:",n),as(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,m.hl)())return!1;if(no.C())return!0;const n=(0,m.z$)(),o=no.S(n),c=0<o&&o<10,f=no.N(n),_=0<f&&f<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||c||_)}static C(){var n;return typeof process<"u"&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.k)}static M(n,o){return n.store(o)}static S(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static N(n){const o=n.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}$(n){var o=this;return(0,I.Z)(function*(){return o.db||(Ot("SimpleDb","Opening database:",o.name),o.db=yield new Promise((c,f)=>{const _=indexedDB.open(o.name,o.version);_.onsuccess=w=>{c(w.target.result)},_.onblocked=()=>{f(new Iu(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=w=>{const N=w.target.error;f("VersionError"===N.name?new Nt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Nt(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Iu(n,N))},_.onupgradeneeded=w=>{Ot("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',w.oldVersion),o.V.O(w.target.result,_.transaction,w.oldVersion,o.version).next(()=>{Ot("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.F&&(o.db.onversionchange=c=>o.F(c)),o.db})()}B(n){this.F=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,c,f){var _=this;return(0,I.Z)(function*(){const w="readonly"===o;let N=0;for(;;){++N;try{_.db=yield _.$(n);const H=wu.open(_.db,n,w?"readonly":"readwrite",c),K=f(H).next(oe=>(H.P(),oe)).catch(oe=>(H.abort(oe),He.reject(oe))).toPromise();return K.catch(()=>{}),yield H.R,K}catch(H){const K=H,oe="FirebaseError"!==K.name&&N<3;if(Ot("SimpleDb","Transaction failed with error:",K.message,"Retrying:",oe),_.close(),!oe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Do{constructor(n){this.L=n,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(n){this.L=n}done(){this.q=!0}G(n){this.U=n}delete(){return as(this.L.delete())}}class Iu extends Nt{constructor(n,o){super(st.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function ka(l){return"IndexedDbTransactionError"===l.name}class md{constructor(n){this.store=n}put(n,o){let c;return void 0!==o?(Ot("SimpleDb","PUT",this.store.name,n,o),c=this.store.put(o,n)):(Ot("SimpleDb","PUT",this.store.name,"<auto-key>",n),c=this.store.put(n)),as(c)}add(n){return Ot("SimpleDb","ADD",this.store.name,n,n),as(this.store.add(n))}get(n){return as(this.store.get(n)).next(o=>(void 0===o&&(o=null),Ot("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return Ot("SimpleDb","DELETE",this.store.name,n),as(this.store.delete(n))}count(){return Ot("SimpleDb","COUNT",this.store.name),as(this.store.count())}j(n,o){const c=this.options(n,o);if(c.index||"function"!=typeof this.store.getAll){const f=this.cursor(c),_=[];return this.W(f,(w,N)=>{_.push(N)}).next(()=>_)}{const f=this.store.getAll(c.range);return new He((_,w)=>{f.onerror=N=>{w(N.target.error)},f.onsuccess=N=>{_(N.target.result)}})}}H(n,o){const c=this.store.getAll(n,null===o?void 0:o);return new He((f,_)=>{c.onerror=w=>{_(w.target.error)},c.onsuccess=w=>{f(w.target.result)}})}J(n,o){Ot("SimpleDb","DELETE ALL",this.store.name);const c=this.options(n,o);c.Y=!1;const f=this.cursor(c);return this.W(f,(_,w,N)=>N.delete())}X(n,o){let c;o?c=n:(c={},o=n);const f=this.cursor(c);return this.W(f,o)}Z(n){const o=this.cursor({});return new He((c,f)=>{o.onerror=_=>{const w=ri(_.target.error);f(w)},o.onsuccess=_=>{const w=_.target.result;w?n(w.primaryKey,w.value).next(N=>{N?w.continue():c()}):c()}})}W(n,o){const c=[];return new He((f,_)=>{n.onerror=w=>{_(w.target.error)},n.onsuccess=w=>{const N=w.target.result;if(!N)return void f();const H=new Do(N),K=o(N.primaryKey,N.value,H);if(K instanceof He){const oe=K.catch(Ie=>(H.done(),He.reject(Ie)));c.push(oe)}H.isDone?f():null===H.K?N.continue():N.continue(H.K)}}).next(()=>He.waitFor(c))}options(n,o){let c;return void 0!==n&&("string"==typeof n?c=n:o=n),{index:c,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const c=this.store.index(n.index);return n.Y?c.openKeyCursor(n.range,o):c.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function as(l){return new He((n,o)=>{l.onsuccess=c=>{n(c.target.result)},l.onerror=c=>{const f=ri(c.target.error);o(f)}})}let Il=!1;function ri(l){const n=no.S((0,m.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(o)>=0){const c=new Nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Il||(Il=!0,setTimeout(()=>{throw c},0)),c}}return l}class ro{constructor(n,o){this.asyncQueue=n,this.tt=o,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(n){var o=this;Ot("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,I.Z)(function*(){o.task=null;try{Ot("IndexBackiller",`Documents written: ${yield o.tt.nt()}`)}catch(c){ka(c)?Ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield Na(c)}yield o.et(6e4)}))}}class Kh{constructor(n,o){this.localStore=n,this.persistence=o}nt(n=50){var o=this;return(0,I.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>o.st(c,n))})()}st(n,o){const c=new Set;let f=o,_=!0;return He.doWhile(()=>!0===_&&f>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(w=>{if(null!==w&&!c.has(w))return Ot("IndexBackiller",`Processing collection: ${w}`),this.it(n,w,f).next(N=>{f-=N,c.add(w)});_=!1})).next(()=>o-f)}it(n,o,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,o).next(f=>this.localStore.localDocuments.getNextDocuments(n,o,f,c).next(_=>{const w=_.changes;return this.localStore.indexManager.updateIndexEntries(n,w).next(()=>this.rt(f,_)).next(N=>(Ot("IndexBackiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(n,o,N))).next(()=>w.size)}))}rt(n,o){let c=n;return o.changes.forEach((f,_)=>{const w=cc(_);Yd(w,c)>0&&(c=w)}),new ma(c.readTime,c.documentKey,Math.max(o.batchId,n.largestBatchId))}}let rs=(()=>{class l{constructor(o,c){this.previousValue=o,c&&(c.sequenceNumberHandler=f=>this.ot(f),this.ut=f=>c.writeSequenceNumber(f))}ot(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue}next(){const o=++this.previousValue;return this.ut&&this.ut(o),o}}return l.ct=-1,l})();function Ao(l){return null==l}function Tl(l){return 0===l&&1/l==-1/0}function io(l){return"number"==typeof l&&Number.isInteger(l)&&!Tl(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function D(l){let n="";for(let o=0;o<l.length;o++)n.length>0&&(n=A(n)),n=k(l.get(o),n);return A(n)}function k(l,n){let o=n;const c=l.length;for(let f=0;f<c;f++){const _=l.charAt(f);switch(_){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=_}}return o}function A(l){return l+"\x01\x01"}function F(l){const n=l.length;if(xn(n>=2),2===n)return xn("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),An.emptyPath();const o=n-2,c=[];let f="";for(let _=0;_<n;){const w=l.indexOf("\x01",_);switch((w<0||w>o)&&gn(),l.charAt(w+1)){case"\x01":const N=l.substring(_,w);let H;0===f.length?H=N:(f+=N,H=f,f=""),c.push(H);break;case"\x10":f+=l.substring(_,w),f+="\0";break;case"\x11":f+=l.substring(_,w+1);break;default:gn()}_=w+2}return new An(c)}const W=["userId","batchId"];function se(l,n){return[l,D(n)]}function Ee(l,n,o){return[l,D(n),o]}const ot={},nt=["prefixPath","collectionGroup","readTime","documentId"],en=["prefixPath","collectionGroup","documentId"],Lr=["collectionGroup","readTime","prefixPath","documentId"],Fr=["canonicalId","targetId"],us=["targetId","path"],so=["path","targetId"],Tu=["collectionId","parent"],Ii=["indexId","uid"],_a=["uid","sequenceNumber"],ii=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dc=["indexId","uid","orderedDocumentKey"],Zh=["userId","collectionPath","documentId"],Bc=["userId","collectionPath","largestBatchId"],Wu=["userId","collectionGroup","largestBatchId"],bu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eg=[...bu,"documentOverlays"],hc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ou=hc,Jd=[...ou,"indexConfiguration","indexState","indexEntries"];class Ul extends kt{constructor(n,o){super(),this.ht=n,this.currentSequenceNumber=o}}function Cs(l,n){const o=un(l);return no.M(o.ht,n)}function au(l){let n=0;for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&n++;return n}function Ku(l,n){for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&n(o,l[o])}function _d(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class gi{constructor(n,o){this.comparator=n,this.root=o||ls.EMPTY}insert(n,o){return new gi(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(n){return new gi(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ls.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(n,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(n){let o=0,c=this.root;for(;!c.isEmpty();){const f=this.comparator(n,c.key);if(0===f)return o+c.left.size;f<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,c)=>(n(o,c),!1))}toString(){const n=[];return this.inorderTraversal((o,c)=>(n.push(`${o}:${c}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new fc(this.root,n,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new fc(this.root,n,this.comparator,!0)}}class fc{constructor(n,o,c,f){this.isReverse=f,this.nodeStack=[];let _=1;for(;!n.isEmpty();)if(_=o?c(n.key,o):1,o&&f&&(_*=-1),_<0)n=this.isReverse?n.left:n.right;else{if(0===_){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ls{constructor(n,o,c,f,_){this.key=n,this.value=o,this.color=c??ls.RED,this.left=f??ls.EMPTY,this.right=_??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,c,f,_){return new ls(n??this.key,o??this.value,c??this.color,f??this.left,_??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,c){let f=this;const _=c(n,f.key);return f=_<0?f.copy(null,null,null,f.left.insert(n,o,c),null):0===_?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(n,o,c)),f.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let c,f=this;if(o(n,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(n,o),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===o(n,f.key)){if(f.right.isEmpty())return ls.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(n,o))}return f.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const n=this.left.check();if(n!==this.right.check())throw gn();return n+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(l,n,o,c,f){return this}insert(l,n,o){return new ls(l,n)}remove(l,n){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vi{constructor(n){this.comparator=n,this.data=new gi(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,c)=>(n(o),!1))}forEachInRange(n,o){const c=this.data.getIteratorFrom(n[0]);for(;c.hasNext();){const f=c.getNext();if(this.comparator(f.key,n[1])>=0)return;o(f.key)}}forEachWhile(n,o){let c;for(c=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!n(c.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new Qh(this.data.getIterator())}getIteratorFrom(n){return new Qh(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(c=>{o=o.add(c)}),o}isEqual(n){if(!(n instanceof Vi)||this.size!==n.size)return!1;const o=this.data.getIterator(),c=n.data.getIterator();for(;o.hasNext();){const f=o.getNext().key,_=c.getNext().key;if(0!==this.comparator(f,_))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new Vi(this.comparator);return o.data=n,o}}class Qh{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zu(l){return l.hasNext()?l.getNext():void 0}class ya{constructor(n){this.fields=n,n.sort(tn.comparator)}static empty(){return new ya([])}unionWith(n){let o=new Vi(tn.comparator);for(const c of this.fields)o=o.add(c);for(const c of n)o=o.add(c);return new ya(o.toArray())}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return zu(this.fields,n.fields,(o,c)=>o.isEqual(c))}}class Xd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Yh(){return typeof atob<"u"}class Ds{constructor(n){this.binaryString=n}static fromBase64String(n){const o=function(c){try{return atob(c)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Xd("Invalid base64 string: "+f):f}}(n);return new Ds(o)}static fromUint8Array(n){const o=function(c){let f="";for(let _=0;_<c.length;++_)f+=String.fromCharCode(c[_]);return f}(n);return new Ds(o)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let c=0;c<n.length;c++)o[c]=n.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return er(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ds.EMPTY_BYTE_STRING=new Ds("");const tg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qu(l){if(xn(!!l),"string"==typeof l){let n=0;const o=tg.exec(l);if(xn(!!o),o[1]){let f=o[1];f=(f+"000000000").substr(0,9),n=Number(f)}const c=new Date(l);return{seconds:Math.floor(c.getTime()/1e3),nanos:n}}return{seconds:Ui(l.seconds),nanos:Ui(l.nanos)}}function Ui(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Cu(l){return"string"==typeof l?Ds.fromBase64String(l):Ds.fromUint8Array(l)}function Yu(l){var n,o;return"server_timestamp"===(null===(o=((null===(n=l?.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function ps(l){const n=l.mapValue.fields.__previous_value__;return Yu(n)?ps(n):n}function gs(l){const n=Qu(l.mapValue.fields.__local_write_time__.timestampValue);return new zi(n.seconds,n.nanos)}class jc{constructor(n,o,c,f,_,w,N,H,K){this.databaseId=n,this.appId=o,this.persistenceKey=c,this.host=f,this.ssl=_,this.forceLongPolling=w,this.autoDetectLongPolling=N,this.longPollingOptions=H,this.useFetchStreams=K}}class La{constructor(n,o){this.projectId=n,this.database=o||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof La&&n.projectId===this.projectId&&n.database===this.database}}const uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hc={nullValue:"NULL_VALUE"};function oo(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Yu(l)?4:zc(l)?9007199254740991:10:gn()}function Fa(l,n){if(l===n)return!0;const o=oo(l);if(o!==oo(n))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return gs(l).isEqual(gs(n));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const _=Qu(c.timestampValue),w=Qu(f.timestampValue);return _.seconds===w.seconds&&_.nanos===w.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return f=n,Cu(l.bytesValue).isEqual(Cu(f.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(c,f){return Ui(c.geoPointValue.latitude)===Ui(f.geoPointValue.latitude)&&Ui(c.geoPointValue.longitude)===Ui(f.geoPointValue.longitude)}(l,n);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return Ui(c.integerValue)===Ui(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const _=Ui(c.doubleValue),w=Ui(f.doubleValue);return _===w?Tl(_)===Tl(w):isNaN(_)&&isNaN(w)}return!1}(l,n);case 9:return zu(l.arrayValue.values||[],n.arrayValue.values||[],Fa);case 10:return function(c,f){const _=c.mapValue.fields||{},w=f.mapValue.fields||{};if(au(_)!==au(w))return!1;for(const N in _)if(_.hasOwnProperty(N)&&(void 0===w[N]||!Fa(_[N],w[N])))return!1;return!0}(l,n);default:return gn()}var f}function Du(l,n){return void 0!==(l.values||[]).find(o=>Fa(o,n))}function Va(l,n){if(l===n)return 0;const o=oo(l),c=oo(n);if(o!==c)return er(o,c);switch(o){case 0:case 9007199254740991:return 0;case 1:return er(l.booleanValue,n.booleanValue);case 2:return function(f,_){const w=Ui(f.integerValue||f.doubleValue),N=Ui(_.integerValue||_.doubleValue);return w<N?-1:w>N?1:w===N?0:isNaN(w)?isNaN(N)?0:-1:1}(l,n);case 3:return $c(l.timestampValue,n.timestampValue);case 4:return $c(gs(l),gs(n));case 5:return er(l.stringValue,n.stringValue);case 6:return function(f,_){const w=Cu(f),N=Cu(_);return w.compareTo(N)}(l.bytesValue,n.bytesValue);case 7:return function(f,_){const w=f.split("/"),N=_.split("/");for(let H=0;H<w.length&&H<N.length;H++){const K=er(w[H],N[H]);if(0!==K)return K}return er(w.length,N.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,_){const w=er(Ui(f.latitude),Ui(_.latitude));return 0!==w?w:er(Ui(f.longitude),Ui(_.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return function(f,_){const w=f.values||[],N=_.values||[];for(let H=0;H<w.length&&H<N.length;++H){const K=Va(w[H],N[H]);if(K)return K}return er(w.length,N.length)}(l.arrayValue,n.arrayValue);case 10:return function(f,_){if(f===uu.mapValue&&_===uu.mapValue)return 0;if(f===uu.mapValue)return 1;if(_===uu.mapValue)return-1;const w=f.fields||{},N=Object.keys(w),H=_.fields||{},K=Object.keys(H);N.sort(),K.sort();for(let oe=0;oe<N.length&&oe<K.length;++oe){const Ie=er(N[oe],K[oe]);if(0!==Ie)return Ie;const et=Va(w[N[oe]],H[K[oe]]);if(0!==et)return et}return er(N.length,K.length)}(l.mapValue,n.mapValue);default:throw gn()}}function $c(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return er(l,n);const o=Qu(l),c=Qu(n),f=er(o.seconds,c.seconds);return 0!==f?f:er(o.nanos,c.nanos)}function Qo(l){return lu(l)}function lu(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(c){const f=Qu(c);return`time(${f.seconds},${f.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Cu(l.bytesValue).toBase64():"referenceValue"in l?dn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(n=l.geoPointValue).latitude},${n.longitude})`:"arrayValue"in l?function(c){let f="[",_=!0;for(const w of c.values||[])_?_=!1:f+=",",f+=lu(w);return f+"]"}(l.arrayValue):"mapValue"in l?function(c){const f=Object.keys(c.fields||{}).sort();let _="{",w=!0;for(const N of f)w?w=!1:_+=",",_+=`${N}:${lu(c.fields[N])}`;return _+"}"}(l.mapValue):gn();var n}function Bl(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function Jh(l){return!!l&&"integerValue"in l}function jl(l){return!!l&&"arrayValue"in l}function pc(l){return!!l&&"nullValue"in l}function eh(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Ua(l){return!!l&&"mapValue"in l}function Ba(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Ku(l.mapValue.fields,(o,c)=>n.mapValue.fields[o]=Ba(c)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(l.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=Ba(l.arrayValue.values[o]);return n}return Object.assign({},l)}function zc(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gc(l){return"nullValue"in l?Hc:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Bl(La.empty(),dn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?{mapValue:{}}:gn()}function bl(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Bl(La.empty(),dn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?{mapValue:{}}:"mapValue"in l?uu:gn()}function Hl(l,n){const o=Va(l.value,n.value);return 0!==o?o:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function Uo(l,n){const o=Va(l.value,n.value);return 0!==o?o:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class ui{constructor(n){this.value=n}static empty(){return new ui({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let c=0;c<n.length-1;++c)if(o=(o.mapValue.fields||{})[n.get(c)],!Ua(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ba(o)}setAll(n){let o=tn.emptyPath(),c={},f=[];n.forEach((w,N)=>{if(!o.isImmediateParentOf(N)){const H=this.getFieldsMap(o);this.applyChanges(H,c,f),c={},f=[],o=N.popLast()}w?c[N.lastSegment()]=Ba(w):f.push(N.lastSegment())});const _=this.getFieldsMap(o);this.applyChanges(_,c,f)}delete(n){const o=this.field(n.popLast());Ua(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return Fa(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<n.length;++c){let f=o.mapValue.fields[n.get(c)];Ua(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},o.mapValue.fields[n.get(c)]=f),o=f}return o.mapValue.fields}applyChanges(n,o,c){Ku(o,(f,_)=>n[f]=_);for(const f of c)delete n[f]}clone(){return new ui(Ba(this.value))}}function ng(l){const n=[];return Ku(l.fields,(o,c)=>{const f=new tn([o]);if(Ua(c)){const _=ng(c.mapValue).fields;if(0===_.length)n.push(f);else for(const w of _)n.push(f.child(w))}else n.push(f)}),new ya(n)}class Ti{constructor(n,o,c,f,_,w,N){this.key=n,this.documentType=o,this.version=c,this.readTime=f,this.createTime=_,this.data=w,this.documentState=N}static newInvalidDocument(n){return new Ti(n,0,Kn.min(),Kn.min(),Kn.min(),ui.empty(),0)}static newFoundDocument(n,o,c,f){return new Ti(n,1,o,Kn.min(),c,f,0)}static newNoDocument(n,o){return new Ti(n,2,o,Kn.min(),Kn.min(),ui.empty(),0)}static newUnknownDocument(n,o){return new Ti(n,3,o,Kn.min(),Kn.min(),ui.empty(),2)}convertToFoundDocument(n,o){return!this.createTime.isEqual(Kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ti&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xu{constructor(n,o){this.position=n,this.inclusive=o}}function Yf(l,n,o){let c=0;for(let f=0;f<l.position.length;f++){const _=n[f],w=l.position[f];if(c=_.field.isKeyField()?dn.comparator(dn.fromName(w.referenceValue),o.key):Va(w,o.data.field(_.field)),"desc"===_.dir&&(c*=-1),0!==c)break}return c}function Au(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let o=0;o<l.position.length;o++)if(!Fa(l.position[o],n.position[o]))return!1;return!0}class P{constructor(n,o="asc"){this.field=n,this.dir=o}}function V(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class Z{}class ue extends Z{constructor(n,o,c){super(),this.field=n,this.op=o,this.value=c}static create(n,o,c){return n.isKeyField()?"in"===o||"not-in"===o?this.createKeyFieldInFilter(n,o,c):new zs(n,o,c):"array-contains"===o?new va(n,c):"in"===o?new mi(n,c):"not-in"===o?new Xh(n,c):"array-contains-any"===o?new Jf(n,c):new ue(n,o,c)}static createKeyFieldInFilter(n,o,c){return"in"===o?new gc(n,c):new el(n,c)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.matchesComparison(Va(o,this.value)):null!==o&&oo(this.value)===oo(o)&&this.matchesComparison(Va(o,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ce extends Z{constructor(n,o){super(),this.filters=n,this.op=o,this.lt=null}static create(n,o){return new Ce(n,o)}matches(n){return Le(this)?void 0===this.filters.find(o=>!o.matches(n)):void 0!==this.filters.find(o=>o.matches(n))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((n,o)=>n.concat(o.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const n=this.ft(o=>o.isInequality());return null!==n?n.field:null}ft(n){for(const o of this.getFlattenedFilters())if(n(o))return o;return null}}function Le(l){return"and"===l.op}function gt(l){return"or"===l.op}function ln(l){return nn(l)&&Le(l)}function nn(l){for(const n of l.filters)if(n instanceof Ce)return!1;return!0}function jn(l){if(l instanceof ue)return l.field.canonicalString()+l.op.toString()+Qo(l.value);if(ln(l))return l.filters.map(n=>jn(n)).join(",");{const n=l.filters.map(o=>jn(o)).join(",");return`${l.op}(${n})`}}function Cr(l,n){return l instanceof ue?(o=l,(c=n)instanceof ue&&o.op===c.op&&o.field.isEqual(c.field)&&Fa(o.value,c.value)):l instanceof Ce?function(o,c){return c instanceof Ce&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((f,_,w)=>f&&Cr(_,c.filters[w]),!0)}(l,n):void gn();var o,c}function Dr(l,n){const o=l.filters.concat(n);return Ce.create(o,l.op)}function Yo(l){return l instanceof ue?`${(n=l).field.canonicalString()} ${n.op} ${Qo(n.value)}`:l instanceof Ce?function(n){return n.op.toString()+" {"+n.getFilters().map(Yo).join(" ,")+"}"}(l):"Filter";var n}class zs extends ue{constructor(n,o,c){super(n,o,c),this.key=dn.fromName(c.referenceValue)}matches(n){const o=dn.comparator(n.key,this.key);return this.matchesComparison(o)}}class gc extends ue{constructor(n,o){super(n,"in",o),this.keys=Cl(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class el extends ue{constructor(n,o){super(n,"not-in",o),this.keys=Cl(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function Cl(l,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(c=>dn.fromName(c.referenceValue))}class va extends ue{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return jl(o)&&Du(o.arrayValue,this.value)}}class mi extends ue{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&Du(this.value.arrayValue,o)}}class Xh extends ue{constructor(n,o){super(n,"not-in",o)}matches(n){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!Du(this.value.arrayValue,o)}}class Jf extends ue{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!jl(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>Du(this.value.arrayValue,c))}}class ef{constructor(n,o=null,c=[],f=[],_=null,w=null,N=null){this.path=n,this.collectionGroup=o,this.orderBy=c,this.filters=f,this.limit=_,this.startAt=w,this.endAt=N,this.dt=null}}function mo(l,n=null,o=[],c=[],f=null,_=null,w=null){return new ef(l,n,o,c,f,_,w)}function Jo(l){const n=un(l);if(null===n.dt){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(c=>jn(c)).join(","),o+="|ob:",o+=n.orderBy.map(c=>{return(f=c).field.canonicalString()+f.dir;var f}).join(","),Ao(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(c=>Qo(c)).join(",")),n.endAt&&(o+="|ub:",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(c=>Qo(c)).join(",")),n.dt=o}return n.dt}function qc(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let o=0;o<l.orderBy.length;o++)if(!V(l.orderBy[o],n.orderBy[o]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let o=0;o<l.filters.length;o++)if(!Cr(l.filters[o],n.filters[o]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Au(l.startAt,n.startAt)&&Au(l.endAt,n.endAt)}function mc(l){return dn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function _c(l,n){return l.filters.filter(o=>o instanceof ue&&o.field.isEqual(n))}function Xf(l,n,o){let c=Hc,f=!0;for(const _ of _c(l,n)){let w=Hc,N=!0;switch(_.op){case"<":case"<=":w=Gc(_.value);break;case"==":case"in":case">=":w=_.value;break;case">":w=_.value,N=!1;break;case"!=":case"not-in":w=Hc}Hl({value:c,inclusive:f},{value:w,inclusive:N})<0&&(c=w,f=N)}if(null!==o)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(n)){const w=o.position[_];Hl({value:c,inclusive:f},{value:w,inclusive:o.inclusive})<0&&(c=w,f=o.inclusive);break}return{value:c,inclusive:f}}function tf(l,n,o){let c=uu,f=!0;for(const _ of _c(l,n)){let w=uu,N=!0;switch(_.op){case">=":case">":w=bl(_.value),N=!1;break;case"==":case"in":case"<=":w=_.value;break;case"<":w=_.value,N=!1;break;case"!=":case"not-in":w=uu}Uo({value:c,inclusive:f},{value:w,inclusive:N})>0&&(c=w,f=N)}if(null!==o)for(let _=0;_<l.orderBy.length;++_)if(l.orderBy[_].field.isEqual(n)){const w=o.position[_];Uo({value:c,inclusive:f},{value:w,inclusive:o.inclusive})>0&&(c=w,f=o.inclusive);break}return{value:c,inclusive:f}}class Dl{constructor(n,o=null,c=[],f=[],_=null,w="F",N=null,H=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=f,this.limit=_,this.limitType=w,this.startAt=N,this.endAt=H,this.wt=null,this._t=null}}function ep(l,n,o,c,f,_,w,N){return new Dl(l,n,o,c,f,_,w,N)}function ks(l){return new Dl(l)}function $l(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function yc(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}function x(l){for(const n of l.filters){const o=n.getFirstInequalityField();if(null!==o)return o}return null}function E(l){return null!==l.collectionGroup}function b(l){const n=un(l);if(null===n.wt){n.wt=[];const o=x(n),c=yc(n);if(null!==o&&null===c)o.isKeyField()||n.wt.push(new P(o)),n.wt.push(new P(tn.keyField(),"asc"));else{let f=!1;for(const _ of n.explicitOrderBy)n.wt.push(_),_.field.isKeyField()&&(f=!0);if(!f){const _=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.wt.push(new P(tn.keyField(),_))}}}return n.wt}function O(l){const n=un(l);if(!n._t)if("F"===n.limitType)n._t=mo(n.path,n.collectionGroup,b(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const _ of b(n))o.push(new P(_.field,"desc"===_.dir?"asc":"desc"));const c=n.endAt?new Xu(n.endAt.position,n.endAt.inclusive):null,f=n.startAt?new Xu(n.startAt.position,n.startAt.inclusive):null;n._t=mo(n.path,n.collectionGroup,o,n.filters,n.limit,c,f)}return n._t}function Y(l,n){n.getFirstInequalityField(),x(l);const o=l.filters.concat([n]);return new Dl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),o,l.limit,l.limitType,l.startAt,l.endAt)}function ae(l,n,o){return new Dl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,o,l.startAt,l.endAt)}function Ne(l,n){return qc(O(l),O(n))&&l.limitType===n.limitType}function pt(l){return`${Jo(O(l))}|lt:${l.limitType}`}function Zt(l){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(c=>Yo(c)).join(", ")}]`),Ao(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(c=>{return`${(f=c).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(c=>Qo(c)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(c=>Qo(c)).join(",")),`Target(${o})`}(O(l))}; limitType=${l.limitType})`}function fn(l,n){return n.isFoundDocument()&&function(o,c){const f=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):dn.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(l,n)&&function(o,c){for(const f of b(o))if(!f.field.isKeyField()&&null===c.data.field(f.field))return!1;return!0}(l,n)&&function(o,c){for(const f of o.filters)if(!f.matches(c))return!1;return!0}(l,n)&&(c=n,!((o=l).startAt&&!function(f,_,w){const N=Yf(f,_,w);return f.inclusive?N<=0:N<0}(o.startAt,b(o),c)||o.endAt&&!function(f,_,w){const N=Yf(f,_,w);return f.inclusive?N>=0:N>0}(o.endAt,b(o),c)));var o,c}function hn(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Hr(l){return(n,o)=>{let c=!1;for(const f of b(l)){const _=Bo(f,n,o);if(0!==_)return _;c=c||f.field.isKeyField()}return 0}}function Bo(l,n,o){const c=l.field.isKeyField()?dn.comparator(n.key,o.key):function(f,_,w){const N=_.data.field(f),H=w.data.field(f);return null!==N&&null!==H?Va(N,H):gn()}(l.field,n,o);switch(l.dir){case"asc":return c;case"desc":return-1*c;default:return gn()}}class Ls{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={},this.innerSize=0}get(n){const o=this.mapKeyFn(n),c=this.inner[o];if(void 0!==c)for(const[f,_]of c)if(this.equalsFn(f,n))return _}has(n){return void 0!==this.get(n)}set(n,o){const c=this.mapKeyFn(n),f=this.inner[c];if(void 0===f)return this.inner[c]=[[n,o]],void this.innerSize++;for(let _=0;_<f.length;_++)if(this.equalsFn(f[_][0],n))return void(f[_]=[n,o]);f.push([n,o]),this.innerSize++}delete(n){const o=this.mapKeyFn(n),c=this.inner[o];if(void 0===c)return!1;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return 1===c.length?delete this.inner[o]:c.splice(f,1),this.innerSize--,!0;return!1}forEach(n){Ku(this.inner,(o,c)=>{for(const[f,_]of c)n(f,_)})}isEmpty(){return _d(this.inner)}size(){return this.innerSize}}const tp=new gi(dn.comparator);function Xo(){return tp}const th=new gi(dn.comparator);function vc(...l){let n=th;for(const o of l)n=n.insert(o.key,o);return n}function np(l){let n=th;return l.forEach((o,c)=>n=n.insert(o,c.overlayedDocument)),n}function tl(){return jo()}function yd(){return jo()}function jo(){return new Ls(l=>l.toString(),(l,n)=>l.isEqual(n))}const Wc=new gi(dn.comparator),rg=new Vi(dn.comparator);function qr(...l){let n=rg;for(const o of l)n=n.add(o);return n}const Ec=new Vi(er);function ig(){return Ec}function bw(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(n)?"-0":n}}function ty(l){return{integerValue:""+l}}function Nv(l,n){return io(n)?ty(n):bw(l,n)}class sg{constructor(){this._=void 0}}function nf(l,n,o){return l instanceof Kc?function(c,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&Yu(f)&&(f=ps(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(o,n):l instanceof Zc?kv(l,n):l instanceof nh?ny(l,n):function(c,f){const _=rp(c,f),w=Pm(_)+Pm(c.gt);return Jh(_)&&Jh(c.gt)?ty(w):bw(c.serializer,w)}(l,n)}function Rm(l,n,o){return l instanceof Zc?kv(l,n):l instanceof nh?ny(l,n):o}function rp(l,n){return l instanceof vd?Jh(o=n)||(c=o)&&"doubleValue"in c?n:{integerValue:0}:null;var c,o}class Kc extends sg{}class Zc extends sg{constructor(n){super(),this.elements=n}}function kv(l,n){const o=rh(n);for(const c of l.elements)o.some(f=>Fa(f,c))||o.push(c);return{arrayValue:{values:o}}}class nh extends sg{constructor(n){super(),this.elements=n}}function ny(l,n){let o=rh(n);for(const c of l.elements)o=o.filter(f=>!Fa(f,c));return{arrayValue:{values:o}}}class vd extends sg{constructor(n,o){super(),this.serializer=n,this.gt=o}}function Pm(l){return Ui(l.integerValue||l.doubleValue)}function rh(l){return jl(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ih{constructor(n,o){this.field=n,this.transform=o}}class ry{constructor(n,o){this.version=n,this.transformResults=o}}class cs{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new cs}static exists(n){return new cs(void 0,n)}static updateTime(n){return new cs(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function nl(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class Mm{}function Fs(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new du(l.key,cs.none()):new cu(l.key,l.data,cs.none());{const o=l.data,c=ui.empty();let f=new Vi(tn.comparator);for(let _ of n.fields)if(!f.has(_)){let w=o.field(_);null===w&&_.length>1&&(_=_.popLast(),w=o.field(_)),null===w?c.delete(_):c.set(_,w),f=f.add(_)}return new Su(l.key,c,new ya(f.toArray()),cs.none())}}function ag(l,n,o){l instanceof cu?function(c,f,_){const w=c.value.clone(),N=dg(c.fieldTransforms,f,_.transformResults);w.setAll(N),f.convertToFoundDocument(_.version,w).setHasCommittedMutations()}(l,n,o):l instanceof Su?function(c,f,_){if(!nl(c.precondition,f))return void f.convertToUnknownDocument(_.version);const w=dg(c.fieldTransforms,f,_.transformResults),N=f.data;N.setAll(cg(c)),N.setAll(w),f.convertToFoundDocument(_.version,N).setHasCommittedMutations()}(l,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function ug(l,n,o,c){return l instanceof cu?function(f,_,w,N){if(!nl(f.precondition,_))return w;const H=f.value.clone(),K=sy(f.fieldTransforms,N,_);return H.setAll(K),_.convertToFoundDocument(_.version,H).setHasLocalMutations(),null}(l,n,o,c):l instanceof Su?function(f,_,w,N){if(!nl(f.precondition,_))return w;const H=sy(f.fieldTransforms,N,_),K=_.data;return K.setAll(cg(f)),K.setAll(H),_.convertToFoundDocument(_.version,K).setHasLocalMutations(),null===w?null:w.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(oe=>oe.field))}(l,n,o,c):(w=o,nl(l.precondition,_=n)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):w);var _,w}function iy(l,n){let o=null;for(const c of l.fieldTransforms){const f=n.data.field(c.field),_=rp(c.transform,f||null);null!=_&&(null===o&&(o=ui.empty()),o.set(c.field,_))}return o||null}function lg(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(c=n.fieldTransforms,!!(void 0===(o=l.fieldTransforms)&&void 0===c||o&&c&&zu(o,c,(f,_)=>function og(l,n){return l.field.isEqual(n.field)&&(c=n.transform,(o=l.transform)instanceof Zc&&c instanceof Zc||o instanceof nh&&c instanceof nh?zu(o.elements,c.elements,Fa):o instanceof vd&&c instanceof vd?Fa(o.gt,c.gt):o instanceof Kc&&c instanceof Kc);var o,c}(f,_))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var o,c}class cu extends Mm{constructor(n,o,c,f=[]){super(),this.key=n,this.value=o,this.precondition=c,this.fieldTransforms=f,this.type=0}getFieldMask(){return null}}class Su extends Mm{constructor(n,o,c,f,_=[]){super(),this.key=n,this.data=o,this.fieldMask=c,this.precondition=f,this.fieldTransforms=_,this.type=1}getFieldMask(){return this.fieldMask}}function cg(l){const n=new Map;return l.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=l.data.field(o);n.set(o,c)}}),n}function dg(l,n,o){const c=new Map;xn(l.length===o.length);for(let f=0;f<o.length;f++){const _=l[f],w=_.transform,N=n.data.field(_.field);c.set(_.field,Rm(w,N,o[f]))}return c}function sy(l,n,o){const c=new Map;for(const f of l){const _=f.transform,w=o.data.field(f.field);c.set(f.field,nf(_,w,n))}return c}class du extends Mm{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ed extends Mm{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oy{constructor(n,o,c,f){this.batchId=n,this.localWriteTime=o,this.baseMutations=c,this.mutations=f}applyToRemoteDocument(n,o){const c=o.mutationResults;for(let f=0;f<this.mutations.length;f++){const _=this.mutations[f];_.key.isEqual(n.key)&&ag(_,n,c[f])}}applyToLocalView(n,o){for(const c of this.baseMutations)c.key.isEqual(n.key)&&(o=ug(c,n,o,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(n.key)&&(o=ug(c,n,o,this.localWriteTime));return o}applyToLocalDocumentSet(n,o){const c=yd();return this.mutations.forEach(f=>{const _=n.get(f.key),w=_.overlayedDocument;let N=this.applyToLocalView(w,_.mutatedFields);N=o.has(f.key)?null:N;const H=Fs(w,N);null!==H&&c.set(f.key,H),w.isValidDocument()||w.convertToNoDocument(Kn.min())}),c}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),qr())}isEqual(n){return this.batchId===n.batchId&&zu(this.mutations,n.mutations,(o,c)=>lg(o,c))&&zu(this.baseMutations,n.baseMutations,(o,c)=>lg(o,c))}}class Om{constructor(n,o,c,f){this.batch=n,this.commitVersion=o,this.mutationResults=c,this.docVersions=f}static from(n,o,c){xn(n.mutations.length===c.length);let f=Wc;const _=n.mutations;for(let w=0;w<_.length;w++)f=f.insert(_[w].key,c[w].version);return new Om(n,o,c,f)}}class hg{constructor(n,o){this.largestBatchId=n,this.mutation=o}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lv{constructor(n,o){this.count=n,this.unchangedNames=o}}var Gs,li;function ay(l){switch(l){default:return gn();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function fg(l){if(void 0===l)return wi("GRPC error has no .code"),st.UNKNOWN;switch(l){case Gs.OK:return st.OK;case Gs.CANCELLED:return st.CANCELLED;case Gs.UNKNOWN:return st.UNKNOWN;case Gs.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Gs.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Gs.INTERNAL:return st.INTERNAL;case Gs.UNAVAILABLE:return st.UNAVAILABLE;case Gs.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Gs.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Gs.NOT_FOUND:return st.NOT_FOUND;case Gs.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Gs.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Gs.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Gs.ABORTED:return st.ABORTED;case Gs.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Gs.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Gs.DATA_LOSS:return st.DATA_LOSS;default:return gn()}}(li=Gs||(Gs={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";class Nm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return pg}static getOrCreateInstance(){return null===pg&&(pg=new Nm),pg}onExistenceFilterMismatch(n){const o=Symbol();return this.onExistenceFilterMismatchCallbacks.set(o,n),()=>this.onExistenceFilterMismatchCallbacks.delete(o)}notifyOnExistenceFilterMismatch(n){this.onExistenceFilterMismatchCallbacks.forEach(o=>o(n))}}let pg=null;function sf(){return new TextEncoder}const Fv=new fi([4294967295,4294967295],0);function uy(l){const n=sf().encode(l),o=new ni;return o.update(n),new Uint8Array(o.digest())}function ly(l){const n=new DataView(l.buffer),o=n.getUint32(0,!0),c=n.getUint32(4,!0),f=n.getUint32(8,!0),_=n.getUint32(12,!0);return[new fi([o,c],0),new fi([f,_],0)]}class ip{constructor(n,o,c){if(this.bitmap=n,this.padding=o,this.hashCount=c,o<0||o>=8)throw new af(`Invalid padding: ${o}`);if(c<0)throw new af(`Invalid hash count: ${c}`);if(n.length>0&&0===this.hashCount)throw new af(`Invalid hash count: ${c}`);if(0===n.length&&0!==o)throw new af(`Invalid padding when bitmap length is 0: ${o}`);this.It=8*n.length-o,this.Tt=fi.fromNumber(this.It)}Et(n,o,c){let f=n.add(o.multiply(fi.fromNumber(c)));return 1===f.compare(Fv)&&(f=new fi([f.getBits(0),f.getBits(1)],0)),f.modulo(this.Tt).toNumber()}At(n){return 0!=(this.bitmap[Math.floor(n/8)]&1<<n%8)}vt(n){if(0===this.It)return!1;const o=uy(n),[c,f]=ly(o);for(let _=0;_<this.hashCount;_++){const w=this.Et(c,f,_);if(!this.At(w))return!1}return!0}static create(n,o,c){const f=n%8==0?0:8-n%8,_=new Uint8Array(Math.ceil(n/8)),w=new ip(_,f,o);return c.forEach(N=>w.insert(N)),w}insert(n){if(0===this.It)return;const o=uy(n),[c,f]=ly(o);for(let _=0;_<this.hashCount;_++){const w=this.Et(c,f,_);this.Rt(w)}}Rt(n){const o=Math.floor(n/8);this.bitmap[o]|=1<<n%8}}class af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ea{constructor(n,o,c,f,_){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=f,this.resolvedLimboDocuments=_}static createSynthesizedRemoteEventForCurrentChange(n,o,c){const f=new Map;return f.set(n,sh.createSynthesizedTargetChangeForCurrentChange(n,o,c)),new ea(Kn.min(),f,new gi(er),Xo(),qr())}}class sh{constructor(n,o,c,f,_){this.resumeToken=n,this.current=o,this.addedDocuments=c,this.modifiedDocuments=f,this.removedDocuments=_}static createSynthesizedTargetChangeForCurrentChange(n,o,c){return new sh(c,o,qr(),qr(),qr())}}class zl{constructor(n,o,c,f){this.Pt=n,this.removedTargetIds=o,this.key=c,this.bt=f}}class wc{constructor(n,o){this.targetId=n,this.Vt=o}}class km{constructor(n,o,c=Ds.EMPTY_BYTE_STRING,f=null){this.state=n,this.targetIds=o,this.resumeToken=c,this.cause=f}}class uf{constructor(){this.St=0,this.Dt=lf(),this.Ct=Ds.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(n){n.approximateByteSize()>0&&(this.Nt=!0,this.Ct=n)}Ot(){let n=qr(),o=qr(),c=qr();return this.Dt.forEach((f,_)=>{switch(_){case 0:n=n.add(f);break;case 2:o=o.add(f);break;case 1:c=c.add(f);break;default:gn()}}),new sh(this.Ct,this.xt,n,o,c)}Ft(){this.Nt=!1,this.Dt=lf()}Bt(n,o){this.Nt=!0,this.Dt=this.Dt.insert(n,o)}Lt(n){this.Nt=!0,this.Dt=this.Dt.remove(n)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Vv{constructor(n){this.Gt=n,this.Qt=new Map,this.jt=Xo(),this.zt=cy(),this.Wt=new gi(er)}Ht(n){for(const o of n.Pt)n.bt&&n.bt.isFoundDocument()?this.Jt(o,n.bt):this.Yt(o,n.key,n.bt);for(const o of n.removedTargetIds)this.Yt(o,n.key,n.bt)}Xt(n){this.forEachTarget(n,o=>{const c=this.Zt(o);switch(n.state){case 0:this.te(o)&&c.$t(n.resumeToken);break;case 1:c.Ut(),c.kt||c.Ft(),c.$t(n.resumeToken);break;case 2:c.Ut(),c.kt||this.removeTarget(o);break;case 3:this.te(o)&&(c.Kt(),c.$t(n.resumeToken));break;case 4:this.te(o)&&(this.ee(o),c.$t(n.resumeToken));break;default:gn()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.Qt.forEach((c,f)=>{this.te(f)&&o(f)})}ne(n){var o;const c=n.targetId,f=n.Vt.count,_=this.se(c);if(_){const w=_.target;if(mc(w))if(0===f){const N=new dn(w.path);this.Yt(c,N,Ti.newNoDocument(N,Kn.min()))}else xn(1===f);else{const N=this.ie(c);if(N!==f){const H=this.re(n,N);0!==H&&(this.ee(c),this.Wt=this.Wt.insert(c,2===H?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(o=Nm.instance)||void 0===o||o.notifyOnExistenceFilterMismatch(function(K,oe,Ie){var et,Dt,Qt,Sn,Mn,Jr;const vi={localCacheCount:oe,existenceFilterCount:Ie.count},ti=Ie.unchangedNames;return ti&&(vi.bloomFilter={applied:0===K,hashCount:null!==(et=ti?.hashCount)&&void 0!==et?et:0,bitmapLength:null!==(Sn=null===(Qt=null===(Dt=ti?.bits)||void 0===Dt?void 0:Dt.bitmap)||void 0===Qt?void 0:Qt.length)&&void 0!==Sn?Sn:0,padding:null!==(Jr=null===(Mn=ti?.bits)||void 0===Mn?void 0:Mn.padding)&&void 0!==Jr?Jr:0}),vi}(H,N,n.Vt))}}}}re(n,o){const{unchangedNames:c,count:f}=n.Vt;if(!c||!c.bits)return 1;const{bits:{bitmap:_="",padding:w=0},hashCount:N=0}=c;let H,K;try{H=Cu(_).toUint8Array()}catch(oe){if(oe instanceof Xd)return Li("Decoding the base64 bloom filter in existence filter failed ("+oe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw oe}try{K=new ip(H,w,N)}catch(oe){return Li(oe instanceof af?"BloomFilter error: ":"Applying bloom filter failed: ",oe),1}return 0===K.It?1:f!==o-this.oe(n.targetId,K)?2:0}oe(n,o){const c=this.Gt.getRemoteKeysForTarget(n);let f=0;return c.forEach(_=>{const w=this.Gt.ue(),N=`projects/${w.projectId}/databases/${w.database}/documents/${_.path.canonicalString()}`;o.vt(N)||(this.Yt(n,_,null),f++)}),f}ce(n){const o=new Map;this.Qt.forEach((_,w)=>{const N=this.se(w);if(N){if(_.current&&mc(N.target)){const H=new dn(N.target.path);null!==this.jt.get(H)||this.ae(w,H)||this.Yt(w,H,Ti.newNoDocument(H,n))}_.Mt&&(o.set(w,_.Ot()),_.Ft())}});let c=qr();this.zt.forEach((_,w)=>{let N=!0;w.forEachWhile(H=>{const K=this.se(H);return!K||"TargetPurposeLimboResolution"===K.purpose||(N=!1,!1)}),N&&(c=c.add(_))}),this.jt.forEach((_,w)=>w.setReadTime(n));const f=new ea(n,o,this.Wt,this.jt,c);return this.jt=Xo(),this.zt=cy(),this.Wt=new gi(er),f}Jt(n,o){if(!this.te(n))return;const c=this.ae(n,o.key)?2:0;this.Zt(n).Bt(o.key,c),this.jt=this.jt.insert(o.key,o),this.zt=this.zt.insert(o.key,this.he(o.key).add(n))}Yt(n,o,c){if(!this.te(n))return;const f=this.Zt(n);this.ae(n,o)?f.Bt(o,1):f.Lt(o),this.zt=this.zt.insert(o,this.he(o).delete(n)),c&&(this.jt=this.jt.insert(o,c))}removeTarget(n){this.Qt.delete(n)}ie(n){const o=this.Zt(n).Ot();return this.Gt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}qt(n){this.Zt(n).qt()}Zt(n){let o=this.Qt.get(n);return o||(o=new uf,this.Qt.set(n,o)),o}he(n){let o=this.zt.get(n);return o||(o=new Vi(er),this.zt=this.zt.insert(n,o)),o}te(n){const o=null!==this.se(n);return o||Ot("WatchChangeAggregator","Detected inactive target",n),o}se(n){const o=this.Qt.get(n);return o&&o.kt?null:this.Gt.le(n)}ee(n){this.Qt.set(n,new uf),this.Gt.getRemoteKeysForTarget(n).forEach(o=>{this.Yt(n,o,null)})}ae(n,o){return this.Gt.getRemoteKeysForTarget(n).has(o)}}function cy(){return new gi(dn.comparator)}function lf(){return new gi(dn.comparator)}const Al={asc:"ASCENDING",desc:"DESCENDING"},wd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dy={and:"AND",or:"OR"};class sp{constructor(n,o){this.databaseId=n,this.useProto3Json=o}}function Lm(l,n){return l.useProto3Json||Ao(n)?n:{value:n}}function Ea(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function hy(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function ms(l,n){return Ea(l,n.toTimestamp())}function So(l){return xn(!!l),Kn.fromTimestamp(function(n){const o=Qu(n);return new zi(o.seconds,o.nanos)}(l))}function gg(l,n){return(o=l,new An(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function Ic(l){const n=An.fromString(l);return xn(Bv(n)),n}function cf(l,n){return gg(l.databaseId,n.path)}function Gl(l,n){const o=Ic(n);if(o.get(1)!==l.databaseId.projectId)throw new Nt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+l.databaseId.projectId);if(o.get(3)!==l.databaseId.database)throw new Nt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+l.databaseId.database);return new dn(ja(o))}function Id(l,n){return gg(l.databaseId,n)}function Td(l){const n=Ic(l);return 4===n.length?An.emptyPath():ja(n)}function wa(l){return new An(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function ja(l){return xn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function xu(l,n,o){return{name:cf(l,n),fields:o.value.mapValue.fields}}function ta(l,n,o){const c=Gl(l,n.name),f=So(n.updateTime),_=n.createTime?So(n.createTime):Kn.min(),w=new ui({mapValue:{fields:n.fields}}),N=Ti.newFoundDocument(c,f,_,w);return o&&N.setHasCommittedMutations(),o?N.setHasCommittedMutations():N}function ah(l,n){let o;if(n instanceof cu)o={update:xu(l,n.key,n.value)};else if(n instanceof du)o={delete:cf(l,n.key)};else if(n instanceof Su)o={update:xu(l,n.key,n.data),updateMask:T0(n.fieldMask)};else{if(!(n instanceof Ed))return gn();o={verify:cf(l,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(c=>function(f,_){const w=_.transform;if(w instanceof Kc)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Zc)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof nh)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof vd)return{fieldPath:_.field.canonicalString(),increment:w.gt};throw gn()}(0,c))),n.precondition.isNone||(o.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:ms(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:gn()),o;var f}function bd(l,n){const o=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?cs.updateTime(So(f.updateTime)):void 0!==f.exists?cs.exists(f.exists):cs.none():cs.none(),c=n.updateTransforms?n.updateTransforms.map(f=>function(_,w){let N=null;"setToServerValue"in w?(xn("REQUEST_TIME"===w.setToServerValue),N=new Kc):"appendMissingElements"in w?N=new Zc(w.appendMissingElements.values||[]):"removeAllFromArray"in w?N=new nh(w.removeAllFromArray.values||[]):"increment"in w?N=new vd(_,w.increment):gn();const H=tn.fromServerFormat(w.fieldPath);return new ih(H,N)}(l,f)):[];var f;if(n.update){const f=Gl(l,n.update.name),_=new ui({mapValue:{fields:n.update.fields}});if(n.updateMask){const w=new ya((n.updateMask.fieldPaths||[]).map(K=>tn.fromServerFormat(K)));return new Su(f,_,w,o,c)}return new cu(f,_,o,c)}if(n.delete){const f=Gl(l,n.delete);return new du(f,o)}if(n.verify){const f=Gl(l,n.verify);return new Ed(f,o)}return gn()}function df(l,n){return{documents:[Id(l,n.path)]}}function py(l,n){const o={structuredQuery:{}},c=n.path;null!==n.collectionGroup?(o.parent=Id(l,c),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=Id(l,c.popLast()),o.structuredQuery.from=[{collectionId:c.lastSegment()}]);const f=function(H){if(0!==H.length)return gy(Ce.create(H,"and"))}(n.filters);f&&(o.structuredQuery.where=f);const _=function(H){if(0!==H.length)return H.map(K=>{return{field:op((oe=K).field),direction:w0(oe.dir)};var oe})}(n.orderBy);_&&(o.structuredQuery.orderBy=_);const w=Lm(l,n.limit);var N,H;return null!==w&&(o.structuredQuery.limit=w),n.startAt&&(o.structuredQuery.startAt={before:(N=n.startAt).inclusive,values:N.position}),n.endAt&&(o.structuredQuery.endAt={before:!(H=n.endAt).inclusive,values:H.position}),o}function v0(l){let n=Td(l.parent);const o=l.structuredQuery,c=o.from?o.from.length:0;let f=null;if(c>0){xn(1===c);const oe=o.from[0];oe.allDescendants?f=oe.collectionId:n=n.child(oe.collectionId)}let _=[];o.where&&(_=function(oe){const Ie=E0(oe);return Ie instanceof Ce&&ln(Ie)?Ie.getFilters():[Ie]}(o.where));let w=[];o.orderBy&&(w=o.orderBy.map(oe=>{return new P(Fm((Ie=oe).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let N=null;o.limit&&(N=function(oe){let Ie;return Ie="object"==typeof oe?oe.value:oe,Ao(Ie)?null:Ie}(o.limit));let H=null;var oe;o.startAt&&(H=new Xu((oe=o.startAt).values||[],!!oe.before));let K=null;return o.endAt&&(K=function(oe){return new Xu(oe.values||[],!oe.before)}(o.endAt)),ep(n,f,w,_,N,"F",H,K)}function E0(l){return void 0!==l.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Fm(n.unaryFilter.field);return ue.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=Fm(n.unaryFilter.field);return ue.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Fm(n.unaryFilter.field);return ue.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Fm(n.unaryFilter.field);return ue.create(_,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}(l):void 0!==l.fieldFilter?ue.create(Fm((n=l).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==l.compositeFilter?function(n){return Ce.create(n.compositeFilter.filters.map(o=>E0(o)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gn()}}(n.compositeFilter.op))}(l):gn();var n}function w0(l){return Al[l]}function I0(l){return wd[l]}function Uv(l){return dy[l]}function op(l){return{fieldPath:l.canonicalString()}}function Fm(l){return tn.fromServerFormat(l.fieldPath)}function gy(l){return l instanceof ue?function(n){if("=="===n.op){if(eh(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NAN"}};if(pc(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(eh(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NOT_NAN"}};if(pc(n.value))return{unaryFilter:{field:op(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:op(n.field),op:I0(n.op),value:n.value}}}(l):l instanceof Ce?function(n){const o=n.getFilters().map(c=>gy(c));return 1===o.length?o[0]:{compositeFilter:{op:Uv(n.op),filters:o}}}(l):gn()}function T0(l){const n=[];return l.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function Bv(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Vs{constructor(n,o,c,f,_=Kn.min(),w=Kn.min(),N=Ds.EMPTY_BYTE_STRING,H=null){this.target=n,this.targetId=o,this.purpose=c,this.sequenceNumber=f,this.snapshotVersion=_,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=N,this.expectedCount=H}withSequenceNumber(n){return new Vs(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,o){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class mg{constructor(n){this.fe=n}}function ff(l,n){const o=n.key,c={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:ap(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())c.document={name:cf(f=l.fe,(_=n).key),fields:_.data.value.mapValue.fields,updateTime:Ea(f,_.version.toTimestamp()),createTime:Ea(f,_.createTime.toTimestamp())};else if(n.isNoDocument())c.noDocument={path:o.path.toArray(),readTime:Ft(n.version)};else{if(!n.isUnknownDocument())return gn();c.unknownDocument={path:o.path.toArray(),version:Ft(n.version)}}var f,_;return c}function ap(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function Ft(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function ds(l){const n=new zi(l.seconds,l.nanoseconds);return Kn.fromTimestamp(n)}function na(l,n){const o=(n.baseMutations||[]).map(_=>bd(l.fe,_));for(let _=0;_<n.mutations.length-1;++_)_+1<n.mutations.length&&void 0!==n.mutations[_+1].transform&&(n.mutations[_].updateTransforms=n.mutations[_+1].transform.fieldTransforms,n.mutations.splice(_+1,1),++_);const c=n.mutations.map(_=>bd(l.fe,_)),f=zi.fromMillis(n.localWriteTimeMs);return new oy(n.batchId,f,o,c)}function uh(l){const n=ds(l.readTime),o=void 0!==l.lastLimboFreeSnapshotVersion?ds(l.lastLimboFreeSnapshotVersion):Kn.min();let c;var f;return void 0!==l.query.documents?(xn(1===(f=l.query).documents.length),c=O(ks(Td(f.documents[0])))):c=O(v0(l.query)),new Vs(c,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,o,Ds.fromBase64String(l.resumeToken))}function kn(l,n){const o=Ft(n.snapshotVersion),c=Ft(n.lastLimboFreeSnapshotVersion);let f;f=mc(n.target)?df(l.fe,n.target):py(l.fe,n.target);const _=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:Jo(n.target),readTime:o,resumeToken:_,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:f}}function tr(l){const n=v0({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?ae(n,n.limit,"L"):n}function my(l,n){return new hg(n.largestBatchId,bd(l.fe,n.overlayMutation))}function _n(l,n){const o=n.path.lastSegment();return[l,D(n.path.popLast()),o]}function mt(l,n,o,c){return{indexId:l,uid:n.uid||"",sequenceNumber:o,readTime:Ft(c.readTime),documentKey:D(c.documentKey.path),largestBatchId:c.largestBatchId}}class $t{getBundleMetadata(n,o){return ao(n).get(o).next(c=>{if(c)return{id:(f=c).bundleId,createTime:ds(f.createTime),version:f.version};var f})}saveBundleMetadata(n,o){return ao(n).put({bundleId:(c=o).id,createTime:Ft(So(c.createTime)),version:c.version});var c}getNamedQuery(n,o){return _y(n).get(o).next(c=>{if(c)return{name:(f=c).name,query:tr(f.bundledQuery),readTime:ds(f.readTime)};var f})}saveNamedQuery(n,o){return _y(n).put({name:(c=o).name,readTime:Ft(So(c.readTime)),bundledQuery:c.bundledQuery});var c}}function ao(l){return Cs(l,"bundles")}function _y(l){return Cs(l,"namedQueries")}class Vm{constructor(n,o){this.serializer=n,this.userId=o}static de(n,o){return new Vm(n,o.uid||"")}getOverlay(n,o){return _g(n).get(_n(this.userId,o)).next(c=>c?my(this.serializer,c):null)}getOverlays(n,o){const c=tl();return He.forEach(o,f=>this.getOverlay(n,f).next(_=>{null!==_&&c.set(f,_)})).next(()=>c)}saveOverlays(n,o,c){const f=[];return c.forEach((_,w)=>{const N=new hg(o,w);f.push(this.we(n,N))}),He.waitFor(f)}removeOverlaysForBatchId(n,o,c){const f=new Set;o.forEach(w=>f.add(D(w.getCollectionPath())));const _=[];return f.forEach(w=>{const N=IDBKeyRange.bound([this.userId,w,c],[this.userId,w,c+1],!1,!0);_.push(_g(n).J("collectionPathOverlayIndex",N))}),He.waitFor(_)}getOverlaysForCollection(n,o,c){const f=tl(),_=D(o),w=IDBKeyRange.bound([this.userId,_,c],[this.userId,_,Number.POSITIVE_INFINITY],!0);return _g(n).j("collectionPathOverlayIndex",w).next(N=>{for(const H of N){const K=my(this.serializer,H);f.set(K.getKey(),K)}return f})}getOverlaysForCollectionGroup(n,o,c,f){const _=tl();let w;const N=IDBKeyRange.bound([this.userId,o,c],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _g(n).X({index:"collectionGroupOverlayIndex",range:N},(H,K,oe)=>{const Ie=my(this.serializer,K);_.size()<f||Ie.largestBatchId===w?(_.set(Ie.getKey(),Ie),w=Ie.largestBatchId):oe.done()}).next(()=>_)}we(n,o){return _g(n).put(function(c,f,_){const[w,N,H]=_n(f,_.mutation.key);return{userId:f,collectionPath:N,documentId:H,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:ah(c.fe,_.mutation)}}(this.serializer,this.userId,o))}}function _g(l){return Cs(l,"documentOverlays")}class lh{constructor(){}_e(n,o){this.me(n,o),o.ge()}me(n,o){if("nullValue"in n)this.ye(o,5);else if("booleanValue"in n)this.ye(o,10),o.pe(n.booleanValue?1:0);else if("integerValue"in n)this.ye(o,15),o.pe(Ui(n.integerValue));else if("doubleValue"in n){const c=Ui(n.doubleValue);isNaN(c)?this.ye(o,13):(this.ye(o,15),Tl(c)?o.pe(0):o.pe(c))}else if("timestampValue"in n){const c=n.timestampValue;this.ye(o,20),"string"==typeof c?o.Ie(c):(o.Ie(`${c.seconds||""}`),o.pe(c.nanos||0))}else if("stringValue"in n)this.Te(n.stringValue,o),this.Ee(o);else if("bytesValue"in n)this.ye(o,30),o.Ae(Cu(n.bytesValue)),this.Ee(o);else if("referenceValue"in n)this.ve(n.referenceValue,o);else if("geoPointValue"in n){const c=n.geoPointValue;this.ye(o,45),o.pe(c.latitude||0),o.pe(c.longitude||0)}else"mapValue"in n?zc(n)?this.ye(o,Number.MAX_SAFE_INTEGER):(this.Re(n.mapValue,o),this.Ee(o)):"arrayValue"in n?(this.Pe(n.arrayValue,o),this.Ee(o)):gn()}Te(n,o){this.ye(o,25),this.be(n,o)}be(n,o){o.Ie(n)}Re(n,o){const c=n.fields||{};this.ye(o,55);for(const f of Object.keys(c))this.Te(f,o),this.me(c[f],o)}Pe(n,o){const c=n.values||[];this.ye(o,50);for(const f of c)this.me(f,o)}ve(n,o){this.ye(o,37),dn.fromName(n).path.forEach(c=>{this.ye(o,60),this.be(c,o)})}ye(n,o){n.pe(o)}Ee(n){n.pe(2)}}function yy(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function jv(l){const n=64-function(o){let c=0;for(let f=0;f<8;++f){const _=yy(255&o[f]);if(c+=_,8!==_)break}return c}(l);return Math.ceil(n/8)}lh.Ve=new lh;class Hv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(n){const o=n[Symbol.iterator]();let c=o.next();for(;!c.done;)this.De(c.value),c=o.next();this.Ce()}xe(n){const o=n[Symbol.iterator]();let c=o.next();for(;!c.done;)this.Ne(c.value),c=o.next();this.ke()}Me(n){for(const o of n){const c=o.charCodeAt(0);if(c<128)this.De(c);else if(c<2048)this.De(960|c>>>6),this.De(128|63&c);else if(o<"\ud800"||"\udbff"<o)this.De(480|c>>>12),this.De(128|63&c>>>6),this.De(128|63&c);else{const f=o.codePointAt(0);this.De(240|f>>>18),this.De(128|63&f>>>12),this.De(128|63&f>>>6),this.De(128|63&f)}}this.Ce()}$e(n){for(const o of n){const c=o.charCodeAt(0);if(c<128)this.Ne(c);else if(c<2048)this.Ne(960|c>>>6),this.Ne(128|63&c);else if(o<"\ud800"||"\udbff"<o)this.Ne(480|c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c);else{const f=o.codePointAt(0);this.Ne(240|f>>>18),this.Ne(128|63&f>>>12),this.Ne(128|63&f>>>6),this.Ne(128|63&f)}}this.ke()}Oe(n){const o=this.Fe(n),c=jv(o);this.Be(1+c),this.buffer[this.position++]=255&c;for(let f=o.length-c;f<o.length;++f)this.buffer[this.position++]=255&o[f]}Le(n){const o=this.Fe(n),c=jv(o);this.Be(1+c),this.buffer[this.position++]=~(255&c);for(let f=o.length-c;f<o.length;++f)this.buffer[this.position++]=~(255&o[f])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(n){this.Be(n.length),this.buffer.set(n,this.position),this.position+=n.length}Qe(){return this.buffer.slice(0,this.position)}Fe(n){const o=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(n),c=0!=(128&o[0]);o[0]^=c?255:128;for(let f=1;f<o.length;++f)o[f]^=c?255:0;return o}De(n){const o=255&n;0===o?(this.Ue(0),this.Ue(255)):255===o?(this.Ue(255),this.Ue(0)):this.Ue(o)}Ne(n){const o=255&n;0===o?(this.Ge(0),this.Ge(255)):255===o?(this.Ge(255),this.Ge(0)):this.Ge(n)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(n){this.Be(1),this.buffer[this.position++]=n}Ge(n){this.Be(1),this.buffer[this.position++]=~n}Be(n){const o=n+this.position;if(o<=this.buffer.length)return;let c=2*this.buffer.length;c<o&&(c=o);const f=new Uint8Array(c);f.set(this.buffer),this.buffer=f}}class Dw{constructor(n){this.je=n}Ae(n){this.je.Se(n)}Ie(n){this.je.Me(n)}pe(n){this.je.Oe(n)}ge(){this.je.qe()}}class Aw{constructor(n){this.je=n}Ae(n){this.je.xe(n)}Ie(n){this.je.$e(n)}pe(n){this.je.Le(n)}ge(){this.je.Ke()}}class yg{constructor(){this.je=new Hv,this.ze=new Dw(this.je),this.We=new Aw(this.je)}seed(n){this.je.seed(n)}He(n){return 0===n?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ch{constructor(n,o,c,f){this.indexId=n,this.documentKey=o,this.arrayValue=c,this.directionalValue=f}Je(){const n=this.directionalValue.length,o=0===n||255===this.directionalValue[n-1]?n+1:n,c=new Uint8Array(o);return c.set(this.directionalValue,0),o!==n?c.set([0],this.directionalValue.length):++c[c.length-1],new ch(this.indexId,this.documentKey,this.arrayValue,c)}}function Gn(l,n){let o=l.indexId-n.indexId;return 0!==o?o:(o=Cd(l.arrayValue,n.arrayValue),0!==o?o:(o=Cd(l.directionalValue,n.directionalValue),0!==o?o:dn.comparator(l.documentKey,n.documentKey)))}function Cd(l,n){for(let o=0;o<l.length&&o<n.length;++o){const c=l[o]-n[o];if(0!==c)return c}return l.length-n.length}class vy{constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ye=n.orderBy,this.Xe=[];for(const o of n.filters){const c=o;c.isInequality()?this.Ze=c:this.Xe.push(c)}}tn(n){xn(n.collectionGroup===this.collectionId);const o=Gu(n);if(void 0!==o&&!this.en(o))return!1;const c=to(n);let f=new Set,_=0,w=0;for(;_<c.length&&this.en(c[_]);++_)f=f.add(c[_].fieldPath.canonicalString());if(_===c.length)return!0;if(void 0!==this.Ze){if(!f.has(this.Ze.field.canonicalString())){const N=c[_];if(!this.nn(this.Ze,N)||!this.sn(this.Ye[w++],N))return!1}++_}for(;_<c.length;++_)if(w>=this.Ye.length||!this.sn(this.Ye[w++],c[_]))return!1;return!0}en(n){for(const o of this.Xe)if(this.nn(o,n))return!0;return!1}nn(n,o){return!(void 0===n||!n.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===n.op||"array-contains-any"===n.op)}sn(n,o){return!!n.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===n.dir||1===o.kind&&"desc"===n.dir)}}function As(l){var n,o;if(xn(l instanceof ue||l instanceof Ce),l instanceof ue){if(l instanceof mi){const f=(null===(o=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===o?void 0:o.map(_=>ue.create(l.field,"==",_)))||[];return Ce.create(f,"or")}return l}const c=l.filters.map(f=>As(f));return Ce.create(c,l.op)}function Pn(l){if(0===l.getFilters().length)return[];const n=Ss(As(l));return xn(Ey(n)),Qc(n)||_i(n)?[n]:n.getFilters()}function Qc(l){return l instanceof ue}function _i(l){return l instanceof Ce&&ln(l)}function Ey(l){return Qc(l)||_i(l)||function(n){if(n instanceof Ce&&gt(n)){for(const o of n.getFilters())if(!Qc(o)&&!_i(o))return!1;return!0}return!1}(l)}function Ss(l){if(xn(l instanceof ue||l instanceof Ce),l instanceof ue)return l;if(1===l.filters.length)return Ss(l.filters[0]);const n=l.filters.map(c=>Ss(c));let o=Ce.create(n,l.op);return o=gf(o),Ey(o)?o:(xn(o instanceof Ce),xn(Le(o)),xn(o.filters.length>1),o.filters.reduce((c,f)=>yn(c,f)))}function yn(l,n){let o;return xn(l instanceof ue||l instanceof Ce),xn(n instanceof ue||n instanceof Ce),o=l instanceof ue?n instanceof ue?Ce.create([l,n],"and"):pf(l,n):n instanceof ue?pf(n,l):function(c,f){if(xn(c.filters.length>0&&f.filters.length>0),Le(c)&&Le(f))return Dr(c,f.getFilters());const _=gt(c)?c:f,w=gt(c)?f:c,N=_.filters.map(H=>yn(H,w));return Ce.create(N,"or")}(l,n),gf(o)}function pf(l,n){if(Le(n))return Dr(n,l.getFilters());{const o=n.filters.map(c=>yn(l,c));return Ce.create(o,"or")}}function gf(l){if(xn(l instanceof ue||l instanceof Ce),l instanceof ue)return l;const n=l.getFilters();if(1===n.length)return gf(n[0]);if(nn(l))return l;const o=n.map(f=>gf(f)),c=[];return o.forEach(f=>{f instanceof ue?c.push(f):f instanceof Ce&&(f.op===l.op?c.push(...f.filters):c.push(f))}),1===c.length?c[0]:Ce.create(c,l.op)}class mf{constructor(){this.rn=new Um}addToCollectionParentIndex(n,o){return this.rn.add(o),He.resolve()}getCollectionParents(n,o){return He.resolve(this.rn.getEntries(o))}addFieldIndex(n,o){return He.resolve()}deleteFieldIndex(n,o){return He.resolve()}getDocumentsMatchingTarget(n,o){return He.resolve(null)}getIndexType(n,o){return He.resolve(0)}getFieldIndexes(n,o){return He.resolve([])}getNextCollectionGroupToUpdate(n){return He.resolve(null)}getMinOffset(n,o){return He.resolve(ma.min())}getMinOffsetFromCollectionGroup(n,o){return He.resolve(ma.min())}updateCollectionGroup(n,o,c){return He.resolve()}updateIndexEntries(n,o){return He.resolve()}}class Um{constructor(){this.index={}}add(n){const o=n.lastSegment(),c=n.popLast(),f=this.index[o]||new Vi(An.comparator),_=!f.has(c);return this.index[o]=f.add(c),_}has(n){const o=n.lastSegment(),c=n.popLast(),f=this.index[o];return f&&f.has(c)}getEntries(n){return(this.index[n]||new Vi(An.comparator)).toArray()}}const Yc=new Uint8Array(0);class Sw{constructor(n,o){this.user=n,this.databaseId=o,this.on=new Um,this.un=new Ls(c=>Jo(c),(c,f)=>qc(c,f)),this.uid=n.uid||""}addToCollectionParentIndex(n,o){if(!this.on.has(o)){const c=o.lastSegment(),f=o.popLast();n.addOnCommittedListener(()=>{this.on.add(o)});const _={collectionId:c,parent:D(f)};return Dd(n).put(_)}return He.resolve()}getCollectionParents(n,o){const c=[],f=IDBKeyRange.bound([o,""],[pd(o),""],!1,!0);return Dd(n).j(f).next(_=>{for(const w of _){if(w.collectionId!==o)break;c.push(F(w.parent))}return c})}addFieldIndex(n,o){const c=vg(n),f={indexId:(w=o).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var w;delete f.indexId;const _=c.add(f);if(o.indexState){const w=xo(n);return _.next(N=>{w.put(mt(N,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return _.next()}deleteFieldIndex(n,o){const c=vg(n),f=xo(n),_=dh(n);return c.delete(o.indexId).next(()=>f.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>_.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,o){const c=dh(n);let f=!0;const _=new Map;return He.forEach(this.cn(o),w=>this.an(n,w).next(N=>{f&&(f=!!N),_.set(w,N)})).next(()=>{if(f){let w=qr();const N=[];return He.forEach(_,(H,K)=>{var oe;Ot("IndexedDbIndexManager",`Using index ${oe=H,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${Jo(o)}`);const Ie=function(ti,co){const yo=Gu(co);if(void 0===yo)return null;for(const Ci of _c(ti,yo.fieldPath))switch(Ci.op){case"array-contains-any":return Ci.value.arrayValue.values||[];case"array-contains":return[Ci.value]}return null}(K,H),et=function(ti,co){const yo=new Map;for(const Ci of to(co))for(const ol of _c(ti,Ci.fieldPath))switch(ol.op){case"==":case"in":yo.set(Ci.fieldPath.canonicalString(),ol.value);break;case"not-in":case"!=":return yo.set(Ci.fieldPath.canonicalString(),ol.value),Array.from(yo.values())}return null}(K,H),Dt=function(ti,co){const yo=[];let Ci=!0;for(const ol of to(co)){const qd=0===ol.kind?Xf(ti,ol.fieldPath,ti.startAt):tf(ti,ol.fieldPath,ti.startAt);yo.push(qd.value),Ci&&(Ci=qd.inclusive)}return new Xu(yo,Ci)}(K,H),Qt=function(ti,co){const yo=[];let Ci=!0;for(const ol of to(co)){const qd=0===ol.kind?tf(ti,ol.fieldPath,ti.endAt):Xf(ti,ol.fieldPath,ti.endAt);yo.push(qd.value),Ci&&(Ci=qd.inclusive)}return new Xu(yo,Ci)}(K,H),Sn=this.hn(H,K,Dt),Mn=this.hn(H,K,Qt),Jr=this.ln(H,K,et),vi=this.fn(H.indexId,Ie,Sn,Dt.inclusive,Mn,Qt.inclusive,Jr);return He.forEach(vi,ti=>c.H(ti,o.limit).next(co=>{co.forEach(yo=>{const Ci=dn.fromSegments(yo.documentKey);w.has(Ci)||(w=w.add(Ci),N.push(Ci))})}))}).next(()=>N)}return He.resolve(null)})}cn(n){let o=this.un.get(n);return o||(o=0===n.filters.length?[n]:Pn(Ce.create(n.filters,"and")).map(c=>mo(n.path,n.collectionGroup,n.orderBy,c.getFilters(),n.limit,n.startAt,n.endAt)),this.un.set(n,o),o)}fn(n,o,c,f,_,w,N){const H=(null!=o?o.length:1)*Math.max(c.length,_.length),K=H/(null!=o?o.length:1),oe=[];for(let Ie=0;Ie<H;++Ie){const et=o?this.dn(o[Ie/K]):Yc,Dt=this.wn(n,et,c[Ie%K],f),Qt=this._n(n,et,_[Ie%K],w),Sn=N.map(Mn=>this.wn(n,et,Mn,!0));oe.push(...this.createRange(Dt,Qt,Sn))}return oe}wn(n,o,c,f){const _=new ch(n,dn.empty(),o,c);return f?_:_.Je()}_n(n,o,c,f){const _=new ch(n,dn.empty(),o,c);return f?_.Je():_}an(n,o){const c=new vy(o),f=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(n,f).next(_=>{let w=null;for(const N of _)c.tn(N)&&(!w||N.fields.length>w.fields.length)&&(w=N);return w})}getIndexType(n,o){let c=2;const f=this.cn(o);return He.forEach(f,_=>this.an(n,_).next(w=>{w?0!==c&&w.fields.length<function(N){let H=new Vi(tn.comparator),K=!1;for(const oe of N.filters)for(const Ie of oe.getFlattenedFilters())Ie.field.isKeyField()||("array-contains"===Ie.op||"array-contains-any"===Ie.op?K=!0:H=H.add(Ie.field));for(const oe of N.orderBy)oe.field.isKeyField()||(H=H.add(oe.field));return H.size+(K?1:0)}(_)&&(c=1):c=0})).next(()=>null!==o.limit&&f.length>1&&2===c?1:c)}mn(n,o){const c=new yg;for(const f of to(n)){const _=o.data.field(f.fieldPath);if(null==_)return null;const w=c.He(f.kind);lh.Ve._e(_,w)}return c.Qe()}dn(n){const o=new yg;return lh.Ve._e(n,o.He(0)),o.Qe()}gn(n,o){const c=new yg;return lh.Ve._e(Bl(this.databaseId,o),c.He(function(f){const _=to(f);return 0===_.length?0:_[_.length-1].kind}(n))),c.Qe()}ln(n,o,c){if(null===c)return[];let f=[];f.push(new yg);let _=0;for(const w of to(n)){const N=c[_++];for(const H of f)if(this.yn(o,w.fieldPath)&&jl(N))f=this.pn(f,w,N);else{const K=H.He(w.kind);lh.Ve._e(N,K)}}return this.In(f)}hn(n,o,c){return this.ln(n,o,c.position)}In(n){const o=[];for(let c=0;c<n.length;++c)o[c]=n[c].Qe();return o}pn(n,o,c){const f=[...n],_=[];for(const w of c.arrayValue.values||[])for(const N of f){const H=new yg;H.seed(N.Qe()),lh.Ve._e(w,H.He(o.kind)),_.push(H)}return _}yn(n,o){return!!n.filters.find(c=>c instanceof ue&&c.field.isEqual(o)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(n,o){const c=vg(n),f=xo(n);return(o?c.j("collectionGroupIndex",IDBKeyRange.bound(o,o)):c.j()).next(_=>{const w=[];return He.forEach(_,N=>f.get([N.indexId,this.uid]).next(H=>{w.push(function(K,oe){const Ie=oe?new El(oe.sequenceNumber,new ma(ds(oe.readTime),new dn(F(oe.documentKey)),oe.largestBatchId)):El.empty(),et=K.fields.map(([Dt,Qt])=>new qu(tn.fromServerFormat(Dt),Qt));return new yl(K.indexId,K.collectionGroup,et,Ie)}(N,H))})).next(()=>w)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(o=>0===o.length?null:(o.sort((c,f)=>{const _=c.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==_?_:er(c.collectionGroup,f.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(n,o,c){const f=vg(n),_=xo(n);return this.Tn(n).next(w=>f.j("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(N=>He.forEach(N,H=>_.put(mt(H.indexId,this.user,w,c)))))}updateIndexEntries(n,o){const c=new Map;return He.forEach(o,(f,_)=>{const w=c.get(f.collectionGroup);return(w?He.resolve(w):this.getFieldIndexes(n,f.collectionGroup)).next(N=>(c.set(f.collectionGroup,N),He.forEach(N,H=>this.En(n,f,H).next(K=>{const oe=this.An(_,H);return K.isEqual(oe)?He.resolve():this.vn(n,_,H,K,oe)}))))})}Rn(n,o,c,f){return dh(n).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.gn(c,o.key),documentKey:o.key.path.toArray()})}Pn(n,o,c,f){return dh(n).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.gn(c,o.key),o.key.path.toArray()])}En(n,o,c){const f=dh(n);let _=new Vi(Gn);return f.X({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.gn(c,o)])},(w,N)=>{_=_.add(new ch(c.indexId,o,N.arrayValue,N.directionalValue))}).next(()=>_)}An(n,o){let c=new Vi(Gn);const f=this.mn(o,n);if(null==f)return c;const _=Gu(o);if(null!=_){const w=n.data.field(_.fieldPath);if(jl(w))for(const N of w.arrayValue.values||[])c=c.add(new ch(o.indexId,n.key,this.dn(N),f))}else c=c.add(new ch(o.indexId,n.key,Yc,f));return c}vn(n,o,c,f,_){Ot("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const w=[];return function(N,H,K,oe,Ie){const et=N.getIterator(),Dt=H.getIterator();let Qt=Zu(et),Sn=Zu(Dt);for(;Qt||Sn;){let Mn=!1,Jr=!1;if(Qt&&Sn){const vi=K(Qt,Sn);vi<0?Jr=!0:vi>0&&(Mn=!0)}else null!=Qt?Jr=!0:Mn=!0;Mn?(oe(Sn),Sn=Zu(Dt)):Jr?(Ie(Qt),Qt=Zu(et)):(Qt=Zu(et),Sn=Zu(Dt))}}(f,_,Gn,N=>{w.push(this.Rn(n,o,c,N))},N=>{w.push(this.Pn(n,o,c,N))}),He.waitFor(w)}Tn(n){let o=1;return xo(n).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,f,_)=>{_.done(),o=f.sequenceNumber+1}).next(()=>o)}createRange(n,o,c){c=c.sort((w,N)=>Gn(w,N)).filter((w,N,H)=>!N||0!==Gn(w,H[N-1]));const f=[];f.push(n);for(const w of c){const N=Gn(w,n),H=Gn(w,o);if(0===N)f[0]=n.Je();else if(N>0&&H<0)f.push(w),f.push(w.Je());else if(H>0)break}f.push(o);const _=[];for(let w=0;w<f.length;w+=2){if(this.bn(f[w],f[w+1]))return[];_.push(IDBKeyRange.bound([f[w].indexId,this.uid,f[w].arrayValue,f[w].directionalValue,Yc,[]],[f[w+1].indexId,this.uid,f[w+1].arrayValue,f[w+1].directionalValue,Yc,[]]))}return _}bn(n,o){return Gn(n,o)>0}getMinOffsetFromCollectionGroup(n,o){return this.getFieldIndexes(n,o).next(Bm)}getMinOffset(n,o){return He.mapArray(this.cn(o),c=>this.an(n,c).next(f=>f||gn())).next(Bm)}}function Dd(l){return Cs(l,"collectionParents")}function dh(l){return Cs(l,"indexEntries")}function vg(l){return Cs(l,"indexConfiguration")}function xo(l){return Cs(l,"indexState")}function Bm(l){xn(0!==l.length);let n=l[0].indexState.offset,o=n.largestBatchId;for(let c=1;c<l.length;c++){const f=l[c].indexState.offset;Yd(f,n)<0&&(n=f),o<f.largestBatchId&&(o=f.largestBatchId)}return new ma(n.readTime,n.documentKey,o)}const wy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hu{constructor(n,o,c){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=c}static withCacheSize(n){return new hu(n,hu.DEFAULT_COLLECTION_PERCENTILE,hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jc(l,n,o){const c=l.store("mutations"),f=l.store("documentMutations"),_=[],w=IDBKeyRange.only(o.batchId);let N=0;const H=c.X({range:w},(oe,Ie,et)=>(N++,et.delete()));_.push(H.next(()=>{xn(1===N)}));const K=[];for(const oe of o.mutations){const Ie=Ee(n,oe.key.path,o.batchId);_.push(f.delete(Ie)),K.push(oe.key)}return He.waitFor(_).next(()=>K)}function _f(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw gn();n=l.noDocument}return JSON.stringify(n).length}hu.DEFAULT_COLLECTION_PERCENTILE=10,hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hu.DEFAULT=new hu(41943040,hu.DEFAULT_COLLECTION_PERCENTILE,hu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hu.DISABLED=new hu(-1,0,0);class Qe{constructor(n,o,c,f){this.userId=n,this.serializer=o,this.indexManager=c,this.referenceDelegate=f,this.Vn={}}static de(n,o,c,f){xn(""!==n.uid);const _=n.isAuthenticated()?n.uid:"";return new Qe(_,o,c,f)}checkEmpty(n){let o=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ra(n).X({index:"userMutationsIndex",range:c},(f,_,w)=>{o=!1,w.done()}).next(()=>o)}addMutationBatch(n,o,c,f){const _=fh(n),w=ra(n);return w.add({}).next(N=>{xn("number"==typeof N);const H=new oy(N,o,c,f),K=function(et,Dt,Qt){const Sn=Qt.baseMutations.map(Jr=>ah(et.fe,Jr)),Mn=Qt.mutations.map(Jr=>ah(et.fe,Jr));return{userId:Dt,batchId:Qt.batchId,localWriteTimeMs:Qt.localWriteTime.toMillis(),baseMutations:Sn,mutations:Mn}}(this.serializer,this.userId,H),oe=[];let Ie=new Vi((et,Dt)=>er(et.canonicalString(),Dt.canonicalString()));for(const et of f){const Dt=Ee(this.userId,et.key.path,N);Ie=Ie.add(et.key.path.popLast()),oe.push(w.put(K)),oe.push(_.put(Dt,ot))}return Ie.forEach(et=>{oe.push(this.indexManager.addToCollectionParentIndex(n,et))}),n.addOnCommittedListener(()=>{this.Vn[N]=H.keys()}),He.waitFor(oe).next(()=>H)})}lookupMutationBatch(n,o){return ra(n).get(o).next(c=>c?(xn(c.userId===this.userId),na(this.serializer,c)):null)}Sn(n,o){return this.Vn[o]?He.resolve(this.Vn[o]):this.lookupMutationBatch(n,o).next(c=>{if(c){const f=c.keys();return this.Vn[o]=f,f}return null})}getNextMutationBatchAfterBatchId(n,o){const c=o+1,f=IDBKeyRange.lowerBound([this.userId,c]);let _=null;return ra(n).X({index:"userMutationsIndex",range:f},(w,N,H)=>{N.userId===this.userId&&(xn(N.batchId>=c),_=na(this.serializer,N)),H.done()}).next(()=>_)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return ra(n).X({index:"userMutationsIndex",range:o,reverse:!0},(f,_,w)=>{c=_.batchId,w.done()}).next(()=>c)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ra(n).j("userMutationsIndex",o).next(c=>c.map(f=>na(this.serializer,f)))}getAllMutationBatchesAffectingDocumentKey(n,o){const c=se(this.userId,o.path),f=IDBKeyRange.lowerBound(c),_=[];return fh(n).X({range:f},(w,N,H)=>{const[K,oe,Ie]=w,et=F(oe);if(K===this.userId&&o.path.isEqual(et))return ra(n).get(Ie).next(Dt=>{if(!Dt)throw gn();xn(Dt.userId===this.userId),_.push(na(this.serializer,Dt))});H.done()}).next(()=>_)}getAllMutationBatchesAffectingDocumentKeys(n,o){let c=new Vi(er);const f=[];return o.forEach(_=>{const w=se(this.userId,_.path),N=IDBKeyRange.lowerBound(w),H=fh(n).X({range:N},(K,oe,Ie)=>{const[et,Dt,Qt]=K,Sn=F(Dt);et===this.userId&&_.path.isEqual(Sn)?c=c.add(Qt):Ie.done()});f.push(H)}),He.waitFor(f).next(()=>this.Dn(n,c))}getAllMutationBatchesAffectingQuery(n,o){const c=o.path,f=c.length+1,_=se(this.userId,c),w=IDBKeyRange.lowerBound(_);let N=new Vi(er);return fh(n).X({range:w},(H,K,oe)=>{const[Ie,et,Dt]=H,Qt=F(et);Ie===this.userId&&c.isPrefixOf(Qt)?Qt.length===f&&(N=N.add(Dt)):oe.done()}).next(()=>this.Dn(n,N))}Dn(n,o){const c=[],f=[];return o.forEach(_=>{f.push(ra(n).get(_).next(w=>{if(null===w)throw gn();xn(w.userId===this.userId),c.push(na(this.serializer,w))}))}),He.waitFor(f).next(()=>c)}removeMutationBatch(n,o){return Jc(n.ht,this.userId,o).next(c=>(n.addOnCommittedListener(()=>{this.Cn(o.batchId)}),He.forEach(c,f=>this.referenceDelegate.markPotentiallyOrphaned(n,f))))}Cn(n){delete this.Vn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return He.resolve();const c=IDBKeyRange.lowerBound([this.userId]),f=[];return fh(n).X({range:c},(_,w,N)=>{if(_[0]===this.userId){const H=F(_[1]);f.push(H)}else N.done()}).next(()=>{xn(0===f.length)})})}containsKey(n,o){return hh(n,this.userId,o)}xn(n){return Ad(n).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hh(l,n,o){const c=se(n,o.path),f=c[1],_=IDBKeyRange.lowerBound(c);let w=!1;return fh(l).X({range:_,Y:!0},(N,H,K)=>{const[oe,Ie,et]=N;oe===n&&Ie===f&&(w=!0),K.done()}).next(()=>w)}function ra(l){return Cs(l,"mutations")}function fh(l){return Cs(l,"documentMutations")}function Ad(l){return Cs(l,"mutationQueues")}class rl{constructor(n){this.Nn=n}next(){return this.Nn+=2,this.Nn}static kn(){return new rl(0)}static Mn(){return new rl(-1)}}class xw{constructor(n,o){this.referenceDelegate=n,this.serializer=o}allocateTargetId(n){return this.$n(n).next(o=>{const c=new rl(o.highestTargetId);return o.highestTargetId=c.next(),this.On(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.$n(n).next(o=>Kn.fromTimestamp(new zi(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.$n(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,c){return this.$n(n).next(f=>(f.highestListenSequenceNumber=o,c&&(f.lastRemoteSnapshotVersion=c.toTimestamp()),o>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=o),this.On(n,f)))}addTargetData(n,o){return this.Fn(n,o).next(()=>this.$n(n).next(c=>(c.targetCount+=1,this.Bn(o,c),this.On(n,c))))}updateTargetData(n,o){return this.Fn(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>ql(n).delete(o.targetId)).next(()=>this.$n(n)).next(c=>(xn(c.targetCount>0),c.targetCount-=1,this.On(n,c)))}removeTargets(n,o,c){let f=0;const _=[];return ql(n).X((w,N)=>{const H=uh(N);H.sequenceNumber<=o&&null===c.get(H.targetId)&&(f++,_.push(this.removeTargetData(n,H)))}).next(()=>He.waitFor(_)).next(()=>f)}forEachTarget(n,o){return ql(n).X((c,f)=>{const _=uh(f);o(_)})}$n(n){return Iy(n).get("targetGlobalKey").next(o=>(xn(null!==o),o))}On(n,o){return Iy(n).put("targetGlobalKey",o)}Fn(n,o){return ql(n).put(kn(this.serializer,o))}Bn(n,o){let c=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,c=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,c=!0),c}getTargetCount(n){return this.$n(n).next(o=>o.targetCount)}getTargetData(n,o){const c=Jo(o),f=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let _=null;return ql(n).X({range:f,index:"queryTargetsIndex"},(w,N,H)=>{const K=uh(N);qc(o,K.target)&&(_=K,H.done())}).next(()=>_)}addMatchingKeys(n,o,c){const f=[],_=Xc(n);return o.forEach(w=>{const N=D(w.path);f.push(_.put({targetId:c,path:N})),f.push(this.referenceDelegate.addReference(n,c,w))}),He.waitFor(f)}removeMatchingKeys(n,o,c){const f=Xc(n);return He.forEach(o,_=>{const w=D(_.path);return He.waitFor([f.delete([c,w]),this.referenceDelegate.removeReference(n,c,_)])})}removeMatchingKeysForTargetId(n,o){const c=Xc(n),f=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(f)}getMatchingKeysForTargetId(n,o){const c=IDBKeyRange.bound([o],[o+1],!1,!0),f=Xc(n);let _=qr();return f.X({range:c,Y:!0},(w,N,H)=>{const K=F(w[1]),oe=new dn(K);_=_.add(oe)}).next(()=>_)}containsKey(n,o){const c=D(o.path),f=IDBKeyRange.bound([c],[pd(c)],!1,!0);let _=0;return Xc(n).X({index:"documentTargetsIndex",Y:!0,range:f},([w,N],H,K)=>{0!==w&&(_++,K.done())}).next(()=>_>0)}le(n,o){return ql(n).get(o).next(c=>c?uh(c):null)}}function ql(l){return Cs(l,"targets")}function Iy(l){return Cs(l,"targetGlobal")}function Xc(l){return Cs(l,"targetDocuments")}function $v([l,n],[o,c]){const f=er(l,o);return 0===f?er(n,c):f}class zv{constructor(n){this.Ln=n,this.buffer=new Vi($v),this.qn=0}Un(){return++this.qn}Kn(n){const o=[n,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(o);else{const c=this.buffer.last();$v(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}}get maxValue(){return this.buffer.last()[0]}}class Ia{constructor(n,o,c){this.garbageCollector=n,this.asyncQueue=o,this.localStore=c,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(n){var o=this;Ot("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,I.Z)(function*(){o.Gn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(c){ka(c)?Ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Na(c)}yield o.Qn(3e5)}))}}class ph{constructor(n,o){this.jn=n,this.params=o}calculateTargetCount(n,o){return this.jn.zn(n).next(c=>Math.floor(o/100*c))}nthSequenceNumber(n,o){if(0===o)return He.resolve(rs.ct);const c=new zv(o);return this.jn.forEachTarget(n,f=>c.Kn(f.sequenceNumber)).next(()=>this.jn.Wn(n,f=>c.Kn(f))).next(()=>c.maxValue)}removeTargets(n,o,c){return this.jn.removeTargets(n,o,c)}removeOrphanedDocuments(n,o){return this.jn.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(wy)):this.getCacheSize(n).next(c=>c<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wy):this.Hn(n,o))}getCacheSize(n){return this.jn.getCacheSize(n)}Hn(n,o){let c,f,_,w,N,H,K;const oe=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),f=this.params.maximumSequenceNumbersToCollect):f=Ie,w=Date.now(),this.nthSequenceNumber(n,f))).next(Ie=>(c=Ie,N=Date.now(),this.removeTargets(n,c,o))).next(Ie=>(_=Ie,H=Date.now(),this.removeOrphanedDocuments(n,c))).next(Ie=>(K=Date.now(),Ji()<=_e.in.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-oe}ms\n\tDetermined least recently used ${f} in `+(N-w)+`ms\n\tRemoved ${_} targets in `+(H-N)+`ms\n\tRemoved ${Ie} documents in `+(K-H)+`ms\nTotal Duration: ${K-oe}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:_,documentsRemoved:Ie})))}}class Gv{constructor(n,o){this.db=n,this.garbageCollector=function gh(l,n){return new ph(l,n)}(this,o)}zn(n){const o=this.Jn(n);return this.db.getTargetCache().getTargetCount(n).next(c=>o.next(f=>c+f))}Jn(n){let o=0;return this.Wn(n,c=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}Wn(n,o){return this.Yn(n,(c,f)=>o(f))}addReference(n,o,c){return ia(n,c)}removeReference(n,o,c){return ia(n,c)}removeTargets(n,o,c){return this.db.getTargetCache().removeTargets(n,o,c)}markPotentiallyOrphaned(n,o){return ia(n,o)}Xn(n,o){return function(c,f){let _=!1;return Ad(c).Z(w=>hh(c,w,f).next(N=>(N&&(_=!0),He.resolve(!N)))).next(()=>_)}(n,o)}removeOrphanedDocuments(n,o){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let _=0;return this.Yn(n,(w,N)=>{if(N<=o){const H=this.Xn(n,w).next(K=>{if(!K)return _++,c.getEntry(n,w).next(()=>(c.removeEntry(w,Kn.min()),Xc(n).delete([0,D(w.path)])))});f.push(H)}}).next(()=>He.waitFor(f)).next(()=>c.apply(n)).next(()=>_)}removeTarget(n,o){const c=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,c)}updateLimboDocument(n,o){return ia(n,o)}Yn(n,o){const c=Xc(n);let f,_=rs.ct;return c.X({index:"documentTargetsIndex"},([w,N],{path:H,sequenceNumber:K})=>{0===w?(_!==rs.ct&&o(new dn(F(f)),_),_=K,f=H):_=rs.ct}).next(()=>{_!==rs.ct&&o(new dn(F(f)),_)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function ia(l,n){return Xc(l).put((c=l.currentSequenceNumber,{targetId:0,path:D(n.path),sequenceNumber:c}));var c}class jm{constructor(){this.changes=new Ls(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,o){this.assertNotApplied(),this.changes.set(n,Ti.newInvalidDocument(n).setReadTime(o))}getEntry(n,o){this.assertNotApplied();const c=this.changes.get(o);return void 0!==c?He.resolve(c):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ty{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,o,c){return mh(n).put(c)}removeEntry(n,o,c){return mh(n).delete(function(f,_){const w=f.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],ap(_),w[w.length-1]]}(o,c))}updateMetadata(n,o){return this.getMetadata(n).next(c=>(c.byteSize+=o,this.Zn(n,c)))}getEntry(n,o){let c=Ti.newInvalidDocument(o);return mh(n).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hm(o))},(f,_)=>{c=this.ts(o,_)}).next(()=>c)}es(n,o){let c={size:0,document:Ti.newInvalidDocument(o)};return mh(n).X({index:"documentKeyIndex",range:IDBKeyRange.only(Hm(o))},(f,_)=>{c={document:this.ts(o,_),size:_f(_)}}).next(()=>c)}getEntries(n,o){let c=Xo();return this.ns(n,o,(f,_)=>{const w=this.ts(f,_);c=c.insert(f,w)}).next(()=>c)}ss(n,o){let c=Xo(),f=new gi(dn.comparator);return this.ns(n,o,(_,w)=>{const N=this.ts(_,w);c=c.insert(_,N),f=f.insert(_,_f(w))}).next(()=>({documents:c,rs:f}))}ns(n,o,c){if(o.isEmpty())return He.resolve();let f=new Vi(qv);o.forEach(H=>f=f.add(H));const _=IDBKeyRange.bound(Hm(f.first()),Hm(f.last())),w=f.getIterator();let N=w.getNext();return mh(n).X({index:"documentKeyIndex",range:_},(H,K,oe)=>{const Ie=dn.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;N&&qv(N,Ie)<0;)c(N,null),N=w.getNext();N&&N.isEqual(Ie)&&(c(N,K),N=w.hasNext()?w.getNext():null),N?oe.G(Hm(N)):oe.done()}).next(()=>{for(;N;)c(N,null),N=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(n,o,c,f){const _=o.path,w=[_.popLast().toArray(),_.lastSegment(),ap(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],N=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mh(n).j(IDBKeyRange.bound(w,N,!0)).next(H=>{let K=Xo();for(const oe of H){const Ie=this.ts(dn.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);Ie.isFoundDocument()&&(fn(o,Ie)||f.has(Ie.key))&&(K=K.insert(Ie.key,Ie))}return K})}getAllFromCollectionGroup(n,o,c,f){let _=Xo();const w=Eg(o,c),N=Eg(o,ma.max());return mh(n).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,N,!0)},(H,K,oe)=>{const Ie=this.ts(dn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);_=_.insert(Ie.key,Ie),_.size===f&&oe.done()}).next(()=>_)}newChangeBuffer(n){return new by(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return up(n).get("remoteDocumentGlobalKey").next(o=>(xn(!!o),o))}Zn(n,o){return up(n).put("remoteDocumentGlobalKey",o)}ts(n,o){if(o){const c=function hf(l,n){let o;if(n.document)o=ta(l.fe,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const c=dn.fromSegments(n.noDocument.path),f=ds(n.noDocument.readTime);o=Ti.newNoDocument(c,f),n.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!n.unknownDocument)return gn();{const c=dn.fromSegments(n.unknownDocument.path),f=ds(n.unknownDocument.version);o=Ti.newUnknownDocument(c,f)}}return n.readTime&&o.setReadTime(function(c){const f=new zi(c[0],c[1]);return Kn.fromTimestamp(f)}(n.readTime)),o}(this.serializer,o);if(!c.isNoDocument()||!c.version.isEqual(Kn.min()))return c}return Ti.newInvalidDocument(n)}}function Ha(l){return new Ty(l)}class by extends jm{constructor(n,o){super(),this.os=n,this.trackRemovals=o,this.us=new Ls(c=>c.toString(),(c,f)=>c.isEqual(f))}applyChanges(n){const o=[];let c=0,f=new Vi((_,w)=>er(_.canonicalString(),w.canonicalString()));return this.changes.forEach((_,w)=>{const N=this.us.get(_);if(o.push(this.os.removeEntry(n,_,N.readTime)),w.isValidDocument()){const H=ff(this.os.serializer,w);f=f.add(_.path.popLast());const K=_f(H);c+=K-N.size,o.push(this.os.addEntry(n,_,H))}else if(c-=N.size,this.trackRemovals){const H=ff(this.os.serializer,w.convertToNoDocument(Kn.min()));o.push(this.os.addEntry(n,_,H))}}),f.forEach(_=>{o.push(this.os.indexManager.addToCollectionParentIndex(n,_))}),o.push(this.os.updateMetadata(n,c)),He.waitFor(o)}getFromCache(n,o){return this.os.es(n,o).next(c=>(this.us.set(o,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(n,o){return this.os.ss(n,o).next(({documents:c,rs:f})=>(f.forEach((_,w)=>{this.us.set(_,{size:w,readTime:c.get(_).readTime})}),c))}}function up(l){return Cs(l,"remoteDocumentGlobal")}function mh(l){return Cs(l,"remoteDocumentsV14")}function Hm(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Eg(l,n){const o=n.documentKey.path.toArray();return[l,ap(n.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function qv(l,n){const o=l.path.toArray(),c=n.path.toArray();let f=0;for(let _=0;_<o.length-2&&_<c.length-2;++_)if(f=er(o[_],c[_]),f)return f;return f=er(o.length,c.length),f||(f=er(o[o.length-2],c[c.length-2]),f||er(o[o.length-1],c[c.length-1]))}class Wv{constructor(n,o){this.overlayedDocument=n,this.mutatedFields=o}}class Cy{constructor(n,o,c,f){this.remoteDocumentCache=n,this.mutationQueue=o,this.documentOverlayCache=c,this.indexManager=f}getDocument(n,o){let c=null;return this.documentOverlayCache.getOverlay(n,o).next(f=>(c=f,this.remoteDocumentCache.getEntry(n,o))).next(f=>(null!==c&&ug(c.mutation,f,ya.empty(),zi.now()),f))}getDocuments(n,o){return this.remoteDocumentCache.getEntries(n,o).next(c=>this.getLocalViewOfDocuments(n,c,qr()).next(()=>c))}getLocalViewOfDocuments(n,o,c=qr()){const f=tl();return this.populateOverlays(n,f,o).next(()=>this.computeViews(n,o,f,c).next(_=>{let w=vc();return _.forEach((N,H)=>{w=w.insert(N,H.overlayedDocument)}),w}))}getOverlayedDocuments(n,o){const c=tl();return this.populateOverlays(n,c,o).next(()=>this.computeViews(n,o,c,qr()))}populateOverlays(n,o,c){const f=[];return c.forEach(_=>{o.has(_)||f.push(_)}),this.documentOverlayCache.getOverlays(n,f).next(_=>{_.forEach((w,N)=>{o.set(w,N)})})}computeViews(n,o,c,f){let _=Xo();const w=jo(),N=jo();return o.forEach((H,K)=>{const oe=c.get(K.key);f.has(K.key)&&(void 0===oe||oe.mutation instanceof Su)?_=_.insert(K.key,K):void 0!==oe?(w.set(K.key,oe.mutation.getFieldMask()),ug(oe.mutation,K,oe.mutation.getFieldMask(),zi.now())):w.set(K.key,ya.empty())}),this.recalculateAndSaveOverlays(n,_).next(H=>(H.forEach((K,oe)=>w.set(K,oe)),o.forEach((K,oe)=>{var Ie;return N.set(K,new Wv(oe,null!==(Ie=w.get(K))&&void 0!==Ie?Ie:null))}),N))}recalculateAndSaveOverlays(n,o){const c=jo();let f=new gi((w,N)=>w-N),_=qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,o).next(w=>{for(const N of w)N.keys().forEach(H=>{const K=o.get(H);if(null===K)return;let oe=c.get(H)||ya.empty();oe=N.applyToLocalView(K,oe),c.set(H,oe);const Ie=(f.get(N.batchId)||qr()).add(H);f=f.insert(N.batchId,Ie)})}).next(()=>{const w=[],N=f.getReverseIterator();for(;N.hasNext();){const H=N.getNext(),K=H.key,oe=H.value,Ie=yd();oe.forEach(et=>{if(!_.has(et)){const Dt=Fs(o.get(et),c.get(et));null!==Dt&&Ie.set(et,Dt),_=_.add(et)}}),w.push(this.documentOverlayCache.saveOverlays(n,K,Ie))}return He.waitFor(w)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(n,o){return this.remoteDocumentCache.getEntries(n,o).next(c=>this.recalculateAndSaveOverlays(n,c))}getDocumentsMatchingQuery(n,o,c){return dn.isDocumentKey((f=o).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(n,o.path):E(o)?this.getDocumentsMatchingCollectionGroupQuery(n,o,c):this.getDocumentsMatchingCollectionQuery(n,o,c);var f}getNextDocuments(n,o,c,f){return this.remoteDocumentCache.getAllFromCollectionGroup(n,o,c,f).next(_=>{const w=f-_.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,o,c.largestBatchId,f-_.size):He.resolve(tl());let N=-1,H=_;return w.next(K=>He.forEach(K,(oe,Ie)=>(N<Ie.largestBatchId&&(N=Ie.largestBatchId),_.get(oe)?He.resolve():this.remoteDocumentCache.getEntry(n,oe).next(et=>{H=H.insert(oe,et)}))).next(()=>this.populateOverlays(n,K,_)).next(()=>this.computeViews(n,H,K,qr())).next(oe=>({batchId:N,changes:np(oe)})))})}getDocumentsMatchingDocumentQuery(n,o){return this.getDocument(n,new dn(o)).next(c=>{let f=vc();return c.isFoundDocument()&&(f=f.insert(c.key,c)),f})}getDocumentsMatchingCollectionGroupQuery(n,o,c){const f=o.collectionGroup;let _=vc();return this.indexManager.getCollectionParents(n,f).next(w=>He.forEach(w,N=>{const H=(K=o,oe=N.child(f),new Dl(oe,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,oe;return this.getDocumentsMatchingCollectionQuery(n,H,c).next(K=>{K.forEach((oe,Ie)=>{_=_.insert(oe,Ie)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(n,o,c){let f;return this.documentOverlayCache.getOverlaysForCollection(n,o.path,c.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(n,o,c,f))).next(_=>{f.forEach((N,H)=>{const K=H.getKey();null===_.get(K)&&(_=_.insert(K,Ti.newInvalidDocument(K)))});let w=vc();return _.forEach((N,H)=>{const K=f.get(N);void 0!==K&&ug(K.mutation,H,ya.empty(),zi.now()),fn(o,H)&&(w=w.insert(N,H))}),w})}}class Kv{constructor(n){this.serializer=n,this.cs=new Map,this.hs=new Map}getBundleMetadata(n,o){return He.resolve(this.cs.get(o))}saveBundleMetadata(n,o){var c;return this.cs.set(o.id,{id:(c=o).id,version:c.version,createTime:So(c.createTime)}),He.resolve()}getNamedQuery(n,o){return He.resolve(this.hs.get(o))}saveNamedQuery(n,o){return this.hs.set(o.name,{name:(c=o).name,query:tr(c.bundledQuery),readTime:So(c.readTime)}),He.resolve();var c}}class Dy{constructor(){this.overlays=new gi(dn.comparator),this.ls=new Map}getOverlay(n,o){return He.resolve(this.overlays.get(o))}getOverlays(n,o){const c=tl();return He.forEach(o,f=>this.getOverlay(n,f).next(_=>{null!==_&&c.set(f,_)})).next(()=>c)}saveOverlays(n,o,c){return c.forEach((f,_)=>{this.we(n,o,_)}),He.resolve()}removeOverlaysForBatchId(n,o,c){const f=this.ls.get(c);return void 0!==f&&(f.forEach(_=>this.overlays=this.overlays.remove(_)),this.ls.delete(c)),He.resolve()}getOverlaysForCollection(n,o,c){const f=tl(),_=o.length+1,w=new dn(o.child("")),N=this.overlays.getIteratorFrom(w);for(;N.hasNext();){const H=N.getNext().value,K=H.getKey();if(!o.isPrefixOf(K.path))break;K.path.length===_&&H.largestBatchId>c&&f.set(H.getKey(),H)}return He.resolve(f)}getOverlaysForCollectionGroup(n,o,c,f){let _=new gi((K,oe)=>K-oe);const w=this.overlays.getIterator();for(;w.hasNext();){const K=w.getNext().value;if(K.getKey().getCollectionGroup()===o&&K.largestBatchId>c){let oe=_.get(K.largestBatchId);null===oe&&(oe=tl(),_=_.insert(K.largestBatchId,oe)),oe.set(K.getKey(),K)}}const N=tl(),H=_.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((K,oe)=>N.set(K,oe)),!(N.size()>=f)););return He.resolve(N)}we(n,o,c){const f=this.overlays.get(c.key);if(null!==f){const w=this.ls.get(f.largestBatchId).delete(c.key);this.ls.set(f.largestBatchId,w)}this.overlays=this.overlays.insert(c.key,new hg(o,c));let _=this.ls.get(o);void 0===_&&(_=qr(),this.ls.set(o,_)),this.ls.set(o,_.add(c.key))}}class $m{constructor(){this.fs=new Vi(Ro.ds),this.ws=new Vi(Ro._s)}isEmpty(){return this.fs.isEmpty()}addReference(n,o){const c=new Ro(n,o);this.fs=this.fs.add(c),this.ws=this.ws.add(c)}gs(n,o){n.forEach(c=>this.addReference(c,o))}removeReference(n,o){this.ys(new Ro(n,o))}ps(n,o){n.forEach(c=>this.removeReference(c,o))}Is(n){const o=new dn(new An([])),c=new Ro(o,n),f=new Ro(o,n+1),_=[];return this.ws.forEachInRange([c,f],w=>{this.ys(w),_.push(w.key)}),_}Ts(){this.fs.forEach(n=>this.ys(n))}ys(n){this.fs=this.fs.delete(n),this.ws=this.ws.delete(n)}Es(n){const o=new dn(new An([])),c=new Ro(o,n),f=new Ro(o,n+1);let _=qr();return this.ws.forEachInRange([c,f],w=>{_=_.add(w.key)}),_}containsKey(n){const o=new Ro(n,0),c=this.fs.firstAfterOrEqual(o);return null!==c&&n.isEqual(c.key)}}class Ro{constructor(n,o){this.key=n,this.As=o}static ds(n,o){return dn.comparator(n.key,o.key)||er(n.As,o.As)}static _s(n,o){return er(n.As,o.As)||dn.comparator(n.key,o.key)}}class wg{constructor(n,o){this.indexManager=n,this.referenceDelegate=o,this.mutationQueue=[],this.vs=1,this.Rs=new Vi(Ro.ds)}checkEmpty(n){return He.resolve(0===this.mutationQueue.length)}addMutationBatch(n,o,c,f){const _=this.vs;this.vs++;const w=new oy(_,o,c,f);this.mutationQueue.push(w);for(const N of f)this.Rs=this.Rs.add(new Ro(N.key,_)),this.indexManager.addToCollectionParentIndex(n,N.key.path.popLast());return He.resolve(w)}lookupMutationBatch(n,o){return He.resolve(this.Ps(o))}getNextMutationBatchAfterBatchId(n,o){const f=this.bs(o+1),_=f<0?0:f;return He.resolve(this.mutationQueue.length>_?this.mutationQueue[_]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(n){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const c=new Ro(o,0),f=new Ro(o,Number.POSITIVE_INFINITY),_=[];return this.Rs.forEachInRange([c,f],w=>{const N=this.Ps(w.As);_.push(N)}),He.resolve(_)}getAllMutationBatchesAffectingDocumentKeys(n,o){let c=new Vi(er);return o.forEach(f=>{const _=new Ro(f,0),w=new Ro(f,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([_,w],N=>{c=c.add(N.As)})}),He.resolve(this.Vs(c))}getAllMutationBatchesAffectingQuery(n,o){const c=o.path,f=c.length+1;let _=c;dn.isDocumentKey(_)||(_=_.child(""));const w=new Ro(new dn(_),0);let N=new Vi(er);return this.Rs.forEachWhile(H=>{const K=H.key.path;return!!c.isPrefixOf(K)&&(K.length===f&&(N=N.add(H.As)),!0)},w),He.resolve(this.Vs(N))}Vs(n){const o=[];return n.forEach(c=>{const f=this.Ps(c);null!==f&&o.push(f)}),o}removeMutationBatch(n,o){xn(0===this.Ss(o.batchId,"removed")),this.mutationQueue.shift();let c=this.Rs;return He.forEach(o.mutations,f=>{const _=new Ro(f.key,o.batchId);return c=c.delete(_),this.referenceDelegate.markPotentiallyOrphaned(n,f.key)}).next(()=>{this.Rs=c})}Cn(n){}containsKey(n,o){const c=new Ro(o,0),f=this.Rs.firstAfterOrEqual(c);return He.resolve(o.isEqual(f&&f.key))}performConsistencyCheck(n){return He.resolve()}Ss(n,o){return this.bs(n)}bs(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Ps(n){const o=this.bs(n);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class Zv{constructor(n){this.Ds=n,this.docs=new gi(dn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,o){const c=o.key,f=this.docs.get(c),_=f?f.size:0,w=this.Ds(o);return this.docs=this.docs.insert(c,{document:o.mutableCopy(),size:w}),this.size+=w-_,this.indexManager.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const c=this.docs.get(o);return He.resolve(c?c.document.mutableCopy():Ti.newInvalidDocument(o))}getEntries(n,o){let c=Xo();return o.forEach(f=>{const _=this.docs.get(f);c=c.insert(f,_?_.document.mutableCopy():Ti.newInvalidDocument(f))}),He.resolve(c)}getDocumentsMatchingQuery(n,o,c,f){let _=Xo();const w=o.path,N=new dn(w.child("")),H=this.docs.getIteratorFrom(N);for(;H.hasNext();){const{key:K,value:{document:oe}}=H.getNext();if(!w.isPrefixOf(K.path))break;K.path.length>w.length+1||Yd(cc(oe),c)<=0||(f.has(oe.key)||fn(o,oe))&&(_=_.insert(oe.key,oe.mutableCopy()))}return He.resolve(_)}getAllFromCollectionGroup(n,o,c,f){gn()}Cs(n,o){return He.forEach(this.docs,c=>o(c))}newChangeBuffer(n){return new Ay(this)}getSize(n){return He.resolve(this.size)}}class Ay extends jm{constructor(n){super(),this.os=n}applyChanges(n){const o=[];return this.changes.forEach((c,f)=>{f.isValidDocument()?o.push(this.os.addEntry(n,f)):this.os.removeEntry(c)}),He.waitFor(o)}getFromCache(n,o){return this.os.getEntry(n,o)}getAllFromCache(n,o){return this.os.getEntries(n,o)}}class zm{constructor(n){this.persistence=n,this.xs=new Ls(o=>Jo(o),qc),this.lastRemoteSnapshotVersion=Kn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $m,this.targetCount=0,this.Ms=rl.kn()}forEachTarget(n,o){return this.xs.forEach((c,f)=>o(f)),He.resolve()}getLastRemoteSnapshotVersion(n){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return He.resolve(this.Ns)}allocateTargetId(n){return this.highestTargetId=this.Ms.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(n,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Ns&&(this.Ns=o),He.resolve()}Fn(n){this.xs.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Ms=new rl(o),this.highestTargetId=o),n.sequenceNumber>this.Ns&&(this.Ns=n.sequenceNumber)}addTargetData(n,o){return this.Fn(o),this.targetCount+=1,He.resolve()}updateTargetData(n,o){return this.Fn(o),He.resolve()}removeTargetData(n,o){return this.xs.delete(o.target),this.ks.Is(o.targetId),this.targetCount-=1,He.resolve()}removeTargets(n,o,c){let f=0;const _=[];return this.xs.forEach((w,N)=>{N.sequenceNumber<=o&&null===c.get(N.targetId)&&(this.xs.delete(w),_.push(this.removeMatchingKeysForTargetId(n,N.targetId)),f++)}),He.waitFor(_).next(()=>f)}getTargetCount(n){return He.resolve(this.targetCount)}getTargetData(n,o){const c=this.xs.get(o)||null;return He.resolve(c)}addMatchingKeys(n,o,c){return this.ks.gs(o,c),He.resolve()}removeMatchingKeys(n,o,c){this.ks.ps(o,c);const f=this.persistence.referenceDelegate,_=[];return f&&o.forEach(w=>{_.push(f.markPotentiallyOrphaned(n,w))}),He.waitFor(_)}removeMatchingKeysForTargetId(n,o){return this.ks.Is(o),He.resolve()}getMatchingKeysForTargetId(n,o){const c=this.ks.Es(o);return He.resolve(c)}containsKey(n,o){return He.resolve(this.ks.containsKey(o))}}class Gm{constructor(n,o){this.$s={},this.overlays={},this.Os=new rs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=n(this),this.Bs=new zm(this),this.indexManager=new mf,this.remoteDocumentCache=new Zv(c=>this.referenceDelegate.Ls(c)),this.serializer=new mg(o),this.qs=new Kv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let o=this.overlays[n.toKey()];return o||(o=new Dy,this.overlays[n.toKey()]=o),o}getMutationQueue(n,o){let c=this.$s[n.toKey()];return c||(c=new wg(o,this.referenceDelegate),this.$s[n.toKey()]=c),c}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(n,o,c){Ot("MemoryPersistence","Starting transaction:",n);const f=new Sy(this.Os.next());return this.referenceDelegate.Us(),c(f).next(_=>this.referenceDelegate.Ks(f).next(()=>_)).toPromise().then(_=>(f.raiseOnCommittedEvent(),_))}Gs(n,o){return He.or(Object.values(this.$s).map(c=>()=>c.containsKey(n,o)))}}class Sy extends kt{constructor(n){super(),this.currentSequenceNumber=n}}class Sd{constructor(n){this.persistence=n,this.Qs=new $m,this.js=null}static zs(n){return new Sd(n)}get Ws(){if(this.js)return this.js;throw gn()}addReference(n,o,c){return this.Qs.addReference(c,o),this.Ws.delete(c.toString()),He.resolve()}removeReference(n,o,c){return this.Qs.removeReference(c,o),this.Ws.add(c.toString()),He.resolve()}markPotentiallyOrphaned(n,o){return this.Ws.add(o.toString()),He.resolve()}removeTarget(n,o){this.Qs.Is(o.targetId).forEach(f=>this.Ws.add(f.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(n,o.targetId).next(f=>{f.forEach(_=>this.Ws.add(_.toString()))}).next(()=>c.removeTargetData(n,o))}Us(){this.js=new Set}Ks(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.Ws,c=>{const f=dn.fromPath(c);return this.Hs(n,f).next(_=>{_||o.removeEntry(f,Kn.min())})}).next(()=>(this.js=null,o.apply(n)))}updateLimboDocument(n,o){return this.Hs(n,o).next(c=>{c?this.Ws.delete(o.toString()):this.Ws.add(o.toString())})}Ls(n){return 0}Hs(n,o){return He.or([()=>He.resolve(this.Qs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Gs(n,o)])}}class xy{constructor(n){this.serializer=n}O(n,o,c,f){const _=new wu("createOrUpgrade",o);var N;c<1&&f>=1&&(n.createObjectStore("owner"),(N=n).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",W,{unique:!0}),N.createObjectStore("documentMutations"),Ry(n),function(N){N.createObjectStore("remoteDocuments")}(n));let w=He.resolve();return c<3&&f>=3&&(0!==c&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(n),Ry(n)),w=w.next(()=>function(N){const H=N.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",K)}(_))),c<4&&f>=4&&(0!==c&&(w=w.next(()=>function(N,H){return H.store("mutations").j().next(K=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",W,{unique:!0});const oe=H.store("mutations"),Ie=K.map(et=>oe.put(et));return He.waitFor(Ie)})}(n,_))),w=w.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),c<5&&f>=5&&(w=w.next(()=>this.Ys(_))),c<6&&f>=6&&(w=w.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(n),this.Xs(_)))),c<7&&f>=7&&(w=w.next(()=>this.Zs(_))),c<8&&f>=8&&(w=w.next(()=>this.ti(n,_))),c<9&&f>=9&&(w=w.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(n)})),c<10&&f>=10&&(w=w.next(()=>this.ei(_))),c<11&&f>=11&&(w=w.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),c<12&&f>=12&&(w=w.next(()=>{!function(N){const H=N.createObjectStore("documentOverlays",{keyPath:Zh});H.createIndex("collectionPathOverlayIndex",Bc,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",Wu,{unique:!1})}(n)})),c<13&&f>=13&&(w=w.next(()=>function(N){const H=N.createObjectStore("remoteDocumentsV14",{keyPath:nt});H.createIndex("documentKeyIndex",en),H.createIndex("collectionGroupIndex",Lr)}(n)).next(()=>this.ni(n,_)).next(()=>n.deleteObjectStore("remoteDocuments"))),c<14&&f>=14&&(w=w.next(()=>this.si(n,_))),c<15&&f>=15&&(w=w.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Ii}).createIndex("sequenceNumberIndex",_a,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:ii}).createIndex("documentKeyIndex",dc,{unique:!1})}(n))),w}Xs(n){let o=0;return n.store("remoteDocuments").X((c,f)=>{o+=_f(f)}).next(()=>{const c={byteSize:o};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Ys(n){const o=n.store("mutationQueues"),c=n.store("mutations");return o.j().next(f=>He.forEach(f,_=>{const w=IDBKeyRange.bound([_.userId,-1],[_.userId,_.lastAcknowledgedBatchId]);return c.j("userMutationsIndex",w).next(N=>He.forEach(N,H=>{xn(H.userId===_.userId);const K=na(this.serializer,H);return Jc(n,_.userId,K).next(()=>{})}))}))}Zs(n){const o=n.store("targetDocuments"),c=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(f=>{const _=[];return c.X((w,N)=>{const H=new An(w),K=[0,D(H)];_.push(o.get(K).next(oe=>oe?He.resolve():o.put({targetId:0,path:D(H),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>He.waitFor(_))})}ti(n,o){n.createObjectStore("collectionParents",{keyPath:Tu});const c=o.store("collectionParents"),f=new Um,_=w=>{if(f.add(w)){const N=w.lastSegment(),H=w.popLast();return c.put({collectionId:N,parent:D(H)})}};return o.store("remoteDocuments").X({Y:!0},(w,N)=>{const H=new An(w);return _(H.popLast())}).next(()=>o.store("documentMutations").X({Y:!0},([w,N,H],K)=>{const oe=F(N);return _(oe.popLast())}))}ei(n){const o=n.store("targets");return o.X((c,f)=>{const _=uh(f),w=kn(this.serializer,_);return o.put(w)})}ni(n,o){const c=o.store("remoteDocuments"),f=[];return c.X((_,w)=>{const N=o.store("remoteDocumentsV14"),H=(K=w,K.document?new dn(An.fromString(K.document.name).popFirst(5)):K.noDocument?dn.fromSegments(K.noDocument.path):K.unknownDocument?dn.fromSegments(K.unknownDocument.path):gn()).path.toArray();var K;const oe={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};f.push(N.put(oe))}).next(()=>He.waitFor(f))}si(n,o){const c=o.store("mutations"),f=Ha(this.serializer),_=new Gm(Sd.zs,this.serializer.fe);return c.j().next(w=>{const N=new Map;return w.forEach(H=>{var K;let oe=null!==(K=N.get(H.userId))&&void 0!==K?K:qr();na(this.serializer,H).keys().forEach(Ie=>oe=oe.add(Ie)),N.set(H.userId,oe)}),He.forEach(N,(H,K)=>{const oe=new Yn(K),Ie=Vm.de(this.serializer,oe),et=_.getIndexManager(oe),Dt=Qe.de(oe,this.serializer,et,_.referenceDelegate);return new Cy(f,Dt,Ie,et).recalculateAndSaveOverlaysForDocumentKeys(new Ul(o,rs.ct),H).next()})})}}function Ry(l){l.createObjectStore("targetDocuments",{keyPath:us}).createIndex("documentTargetsIndex",so,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fr,{unique:!0}),l.createObjectStore("targetGlobal")}const Py="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ig{constructor(n,o,c,f,_,w,N,H,K,oe,Ie=15){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=c,this.ii=_,this.window=w,this.document=N,this.ri=K,this.oi=oe,this.ui=Ie,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=et=>Promise.resolve(),!Ig.D())throw new Nt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gv(this,f),this.di=o+"main",this.serializer=new mg(H),this.wi=new no(this.di,this.ui,new xy(this.serializer)),this.Bs=new xw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ha(this.serializer),this.qs=new $t,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===oe&&wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nt(st.FAILED_PRECONDITION,Py);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Bs.getHighestSequenceNumber(n))}).then(n=>{this.Os=new rs(n,this.ri)}).then(()=>{this.Fs=!0}).catch(n=>(this.wi&&this.wi.close(),Promise.reject(n)))}Ii(n){var o=this;return this.fi=function(){var c=(0,I.Z)(function*(f){if(o.started)return n(f)});return function(f){return c.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.wi.B(function(){var o=(0,I.Z)(function*(c){null===c.newVersion&&(yield n())});return function(c){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ii.enqueueAndForget((0,I.Z)(function*(){o.started&&(yield o.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>lp(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(n).next(o=>{o||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(n)).next(o=>this.isPrimary&&!o?this.Ai(n).next(()=>!1):!!o&&this.vi(n).next(()=>!0))).catch(n=>{if(ka(n))return Ot("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ii.enqueueRetryable(()=>this.fi(n)),this.isPrimary=n})}Ti(n){return uo(n).get("owner").next(o=>He.resolve(this.Ri(o)))}Pi(n){return lp(n).delete(this.clientId)}bi(){var n=this;return(0,I.Z)(function*(){if(n.isPrimary&&!n.Vi(n.li,18e5)){n.li=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const f=Cs(c,"clientMetadata");return f.j().next(_=>{const w=n.Si(_,18e5),N=_.filter(H=>-1===w.indexOf(H));return He.forEach(N,H=>f.delete(H.clientId)).next(()=>N)})}).catch(()=>[]);if(n._i)for(const c of o)n._i.removeItem(n.Di(c.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(n){return!!n&&n.ownerId===this.clientId}Ei(n){return this.oi?He.resolve(!0):uo(n).get("owner").next(o=>{if(null!==o&&this.Vi(o.leaseTimestampMs,5e3)&&!this.Ci(o.ownerId)){if(this.Ri(o)&&this.networkEnabled)return!0;if(!this.Ri(o)){if(!o.allowTabSynchronization)throw new Nt(st.FAILED_PRECONDITION,Py);return!1}}return!(!this.networkEnabled||!this.inForeground)||lp(n).j().next(c=>void 0===this.Si(c,5e3).find(f=>!(this.clientId===f.clientId||!(!this.networkEnabled&&f.networkEnabled||!this.inForeground&&f.inForeground&&this.networkEnabled===f.networkEnabled))))}).next(o=>(this.isPrimary!==o&&Ot("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,I.Z)(function*(){n.Fs=!1,n.xi(),n.hi&&(n.hi.cancel(),n.hi=null),n.Ni(),n.ki(),yield n.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const c=new Ul(o,rs.ct);return n.Ai(c).next(()=>n.Pi(c))}),n.wi.close(),n.Mi()})()}Si(n,o){return n.filter(c=>this.Vi(c.updateTimeMs,o)&&!this.Ci(c.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",n=>lp(n).j().next(o=>this.Si(o,18e5).map(c=>c.clientId)))}get started(){return this.Fs}getMutationQueue(n,o){return Qe.de(n,this.serializer,o,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new Sw(n,this.serializer.fe.databaseId)}getDocumentOverlayCache(n){return Vm.de(this.serializer,n)}getBundleCache(){return this.qs}runTransaction(n,o,c){Ot("IndexedDbPersistence","Starting transaction:",n);const f="readonly"===o?"readonly":"readwrite",_=15===(w=this.ui)?Jd:14===w?ou:13===w?hc:12===w?eg:11===w?bu:void gn();var w;let N;return this.wi.runTransaction(n,f,_,H=>(N=new Ul(H,this.Os?this.Os.next():rs.ct),"readwrite-primary"===o?this.Ti(N).next(K=>!!K||this.Ei(N)).next(K=>{if(!K)throw wi(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Nt(st.FAILED_PRECONDITION,It);return c(N)}).next(K=>this.vi(N).next(()=>K)):this.Oi(N).next(()=>c(N)))).then(H=>(N.raiseOnCommittedEvent(),H))}Oi(n){return uo(n).get("owner").next(o=>{if(null!==o&&this.Vi(o.leaseTimestampMs,5e3)&&!this.Ci(o.ownerId)&&!this.Ri(o)&&!(this.oi||this.allowTabSynchronization&&o.allowTabSynchronization))throw new Nt(st.FAILED_PRECONDITION,Py)})}vi(n){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uo(n).put("owner",o)}static D(){return no.D()}Ai(n){const o=uo(n);return o.get("owner").next(c=>this.Ri(c)?(Ot("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):He.resolve())}Vi(n,o){const c=Date.now();return!(n<c-o||n>c&&(wi(`Detected an update time that is in the future: ${n} > ${c}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.ci=()=>{this.xi();const o=/(?:Version|Mobile)\/1[456]/;(0,m.G6)()&&(navigator.appVersion.match(o)||navigator.userAgent.match(o))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(n){var o;try{const c=null!==(null===(o=this._i)||void 0===o?void 0:o.getItem(this.Di(n)));return Ot("IndexedDbPersistence",`Client '${n}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return wi("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(n){wi("Failed to set zombie client id.",n)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function uo(l){return Cs(l,"owner")}function lp(l){return Cs(l,"clientMetadata")}function Sl(l,n){let o=l.projectId;return l.isDefaultDatabase||(o+="."+l.database),"firestore/"+n+"/"+o+"/"}class cp{constructor(n,o,c,f){this.targetId=n,this.fromCache=o,this.Fi=c,this.Bi=f}static Li(n,o){let c=qr(),f=qr();for(const _ of o.docChanges)switch(_.type){case 0:c=c.add(_.doc.key);break;case 1:f=f.add(_.doc.key)}return new cp(n,o.fromCache,c,f)}}class Qi{constructor(){this.qi=!1}initialize(n,o){this.Ui=n,this.indexManager=o,this.qi=!0}getDocumentsMatchingQuery(n,o,c,f){return this.Ki(n,o).next(_=>_||this.Gi(n,o,f,c)).next(_=>_||this.Qi(n,o))}Ki(n,o){if($l(o))return He.resolve(null);let c=O(o);return this.indexManager.getIndexType(n,c).next(f=>0===f?null:(null!==o.limit&&1===f&&(o=ae(o,null,"F"),c=O(o)),this.indexManager.getDocumentsMatchingTarget(n,c).next(_=>{const w=qr(..._);return this.Ui.getDocuments(n,w).next(N=>this.indexManager.getMinOffset(n,c).next(H=>{const K=this.ji(o,N);return this.zi(o,K,w,H.readTime)?this.Ki(n,ae(o,null,"F")):this.Wi(n,K,o,H)}))})))}Gi(n,o,c,f){return $l(o)||f.isEqual(Kn.min())?this.Qi(n,o):this.Ui.getDocuments(n,c).next(_=>{const w=this.ji(o,_);return this.zi(o,w,c,f)?this.Qi(n,o):(Ji()<=_e.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",f.toString(),Zt(o)),this.Wi(n,w,o,wl(f,-1)))})}ji(n,o){let c=new Vi(Hr(n));return o.forEach((f,_)=>{fn(n,_)&&(c=c.add(_))}),c}zi(n,o,c,f){if(null===n.limit)return!1;if(c.size!==o.size)return!0;const _="F"===n.limitType?o.last():o.first();return!!_&&(_.hasPendingWrites||_.version.compareTo(f)>0)}Qi(n,o){return Ji()<=_e.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Zt(o)),this.Ui.getDocumentsMatchingQuery(n,o,ma.min())}Wi(n,o,c,f){return this.Ui.getDocumentsMatchingQuery(n,c,f).next(_=>(o.forEach(w=>{_=_.insert(w.key,w)}),_))}}class Wm{constructor(n,o,c,f){this.persistence=n,this.Hi=o,this.serializer=f,this.Ji=new gi(er),this.Yi=new Ls(_=>Jo(_),qc),this.Xi=new Map,this.Zi=n.getRemoteDocumentCache(),this.Bs=n.getTargetCache(),this.qs=n.getBundleCache(),this.tr(c)}tr(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Cy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Ji))}}function Ta(l,n,o,c){return new Wm(l,n,o,c)}function _s(l,n){return Km.apply(this,arguments)}function Km(){return Km=(0,I.Z)(function*(l,n){const o=un(l);return yield o.persistence.runTransaction("Handle user change","readonly",c=>{let f;return o.mutationQueue.getAllMutationBatches(c).next(_=>(f=_,o.tr(n),o.mutationQueue.getAllMutationBatches(c))).next(_=>{const w=[],N=[];let H=qr();for(const K of f){w.push(K.batchId);for(const oe of K.mutations)H=H.add(oe.key)}for(const K of _){N.push(K.batchId);for(const oe of K.mutations)H=H.add(oe.key)}return o.localDocuments.getDocuments(c,H).next(K=>({er:K,removedBatchIds:w,addedBatchIds:N}))})})}),Km.apply(this,arguments)}function $a(l){const n=un(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.Bs.getLastRemoteSnapshotVersion(o))}function Qv(l,n,o){let c=qr(),f=qr();return o.forEach(_=>c=c.add(_)),n.getEntries(l,c).next(_=>{let w=Xo();return o.forEach((N,H)=>{const K=_.get(N);H.isFoundDocument()!==K.isFoundDocument()&&(f=f.add(N)),H.isNoDocument()&&H.version.isEqual(Kn.min())?(n.removeEntry(N,H.readTime),w=w.insert(N,H)):!K.isValidDocument()||H.version.compareTo(K.version)>0||0===H.version.compareTo(K.version)&&K.hasPendingWrites?(n.addEntry(H),w=w.insert(N,H)):Ot("LocalStore","Ignoring outdated watch update for ",N,". Current version:",K.version," Watch version:",H.version)}),{nr:w,sr:f}})}function Ho(l,n){const o=un(l);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===n&&(n=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(c,n)))}function yf(l,n){const o=un(l);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let f;return o.Bs.getTargetData(c,n).next(_=>_?(f=_,He.resolve(f)):o.Bs.allocateTargetId(c).next(w=>(f=new Vs(n,w,"TargetPurposeListen",c.currentSequenceNumber),o.Bs.addTargetData(c,f).next(()=>f))))}).then(c=>{const f=o.Ji.get(c.targetId);return(null===f||c.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(o.Ji=o.Ji.insert(c.targetId,c),o.Yi.set(n,c.targetId)),c})}function xl(l,n,o){return qs.apply(this,arguments)}function qs(){return qs=(0,I.Z)(function*(l,n,o){const c=un(l),f=c.Ji.get(n),_=o?"readwrite":"readwrite-primary";try{o||(yield c.persistence.runTransaction("Release target",_,w=>c.persistence.referenceDelegate.removeTarget(w,f)))}catch(w){if(!ka(w))throw w;Ot("LocalStore",`Failed to update sequence numbers for target ${n}: ${w}`)}c.Ji=c.Ji.remove(n),c.Yi.delete(f.target)}),qs.apply(this,arguments)}function Wl(l,n,o){const c=un(l);let f=Kn.min(),_=qr();return c.persistence.runTransaction("Execute query","readonly",w=>function(N,H,K){const oe=un(N),Ie=oe.Yi.get(K);return void 0!==Ie?He.resolve(oe.Ji.get(Ie)):oe.Bs.getTargetData(H,K)}(c,w,O(n)).next(N=>{if(N)return f=N.lastLimboFreeSnapshotVersion,c.Bs.getMatchingKeysForTargetId(w,N.targetId).next(H=>{_=H})}).next(()=>c.Hi.getDocumentsMatchingQuery(w,n,o?f:Kn.min(),o?_:qr())).next(N=>(Rl(c,hn(n),N),{documents:N,ir:_})))}function Tg(l,n){const o=un(l),c=un(o.Bs),f=o.Ji.get(n);return f?Promise.resolve(f.target):o.persistence.runTransaction("Get target data","readonly",_=>c.le(_,n).next(w=>w?w.target:null))}function bg(l,n){const o=un(l),c=o.Xi.get(n)||Kn.min();return o.persistence.runTransaction("Get new document changes","readonly",f=>o.Zi.getAllFromCollectionGroup(f,n,wl(c,-1),Number.MAX_SAFE_INTEGER)).then(f=>(Rl(o,n,f),f))}function Rl(l,n,o){let c=l.Xi.get(n)||Kn.min();o.forEach((f,_)=>{_.readTime.compareTo(c)>0&&(c=_.readTime)}),l.Xi.set(n,c)}function Rd(){return Rd=(0,I.Z)(function*(l,n,o,c){const f=un(l);let _=qr(),w=Xo();for(const K of o){const oe=n.rr(K.metadata.name);K.document&&(_=_.add(oe));const Ie=n.ur(K);Ie.setReadTime(n.cr(K.metadata.readTime)),w=w.insert(oe,Ie)}const N=f.Zi.newChangeBuffer({trackRemovals:!0}),H=yield yf(f,(K=c,O(ks(An.fromString(`__bundle__/docs/${K}`)))));var K;return f.persistence.runTransaction("Apply bundle documents","readwrite",K=>Qv(K,N,w).next(oe=>(N.apply(K),oe)).next(oe=>f.Bs.removeMatchingKeysForTargetId(K,H.targetId).next(()=>f.Bs.addMatchingKeys(K,_,H.targetId)).next(()=>f.localDocuments.getLocalViewOfDocuments(K,oe.nr,oe.sr)).next(()=>oe.nr)))}),Rd.apply(this,arguments)}function vf(l,n){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,I.Z)(function*(l,n,o=qr()){const c=yield yf(l,O(tr(n.bundledQuery))),f=un(l);return f.persistence.runTransaction("Save named query","readwrite",_=>{const w=So(n.readTime);if(c.snapshotVersion.compareTo(w)>=0)return f.qs.saveNamedQuery(_,n);const N=c.withResumeToken(Ds.EMPTY_BYTE_STRING,w);return f.Ji=f.Ji.insert(N.targetId,N),f.Bs.updateTargetData(_,N).next(()=>f.Bs.removeMatchingKeysForTargetId(_,c.targetId)).next(()=>f.Bs.addMatchingKeys(_,o,c.targetId)).next(()=>f.qs.saveNamedQuery(_,n))})}),Dg.apply(this,arguments)}function _h(l,n){return`firestore_clients_${l}_${n}`}function ed(l,n,o){let c=`firestore_mutations_${l}_${o}`;return n.isAuthenticated()&&(c+=`_${n.uid}`),c}function dp(l,n){return`firestore_targets_${l}_${n}`}class Kl{constructor(n,o,c,f){this.user=n,this.batchId=o,this.state=c,this.error=f}static ar(n,o,c){const f=JSON.parse(c);let _,w="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return w&&f.error&&(w="string"==typeof f.error.message&&"string"==typeof f.error.code,w&&(_=new Nt(f.error.code,f.error.message))),w?new Kl(n,o,f.state,_):(wi("SharedClientState",`Failed to parse mutation state for ID '${o}': ${c}`),null)}hr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class hp{constructor(n,o,c){this.targetId=n,this.state=o,this.error=c}static ar(n,o){const c=JSON.parse(o);let f,_="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return _&&c.error&&(_="string"==typeof c.error.message&&"string"==typeof c.error.code,_&&(f=new Nt(c.error.code,c.error.message))),_?new hp(n,c.state,f):(wi("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}hr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Pd{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static ar(n,o){const c=JSON.parse(o);let f="object"==typeof c&&c.activeTargetIds instanceof Array,_=ig();for(let w=0;f&&w<c.activeTargetIds.length;++w)f=io(c.activeTargetIds[w]),_=_.add(c.activeTargetIds[w]);return f?new Pd(n,_):(wi("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class Ag{constructor(n,o){this.clientId=n,this.onlineState=o}static ar(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Ag(o.clientId,o.onlineState):(wi("SharedClientState",`Failed to parse online state: ${n}`),null)}}class fp{constructor(){this.activeTargetIds=ig()}lr(n){this.activeTargetIds=this.activeTargetIds.add(n)}dr(n){this.activeTargetIds=this.activeTargetIds.delete(n)}hr(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class bc{constructor(n,o,c,f,_){this.window=n,this.ii=o,this.persistenceKey=c,this.wr=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new gi(er),this.started=!1,this.yr=[];const w=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=_,this.pr=_h(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new fp),this.Tr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,I.Z)(function*(){const o=yield n.syncEngine.$i();for(const f of o){if(f===n.wr)continue;const _=n.getItem(_h(n.persistenceKey,f));if(_){const w=Pd.ar(f,_);w&&(n.gr=n.gr.insert(w.clientId,w))}}n.Pr();const c=n.storage.getItem(n.vr);if(c){const f=n.br(c);f&&n.Vr(f)}for(const f of n.yr)n.mr(f);n.yr=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Ir,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(n){let o=!1;return this.gr.forEach((c,f)=>{f.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.Dr(n,"pending")}updateMutationState(n,o,c){this.Dr(n,o,c),this.Cr(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const c=this.storage.getItem(dp(this.persistenceKey,n));if(c){const f=hp.ar(n,c);f&&(o=f.state)}}return this.Nr.lr(n),this.Pr(),o}removeLocalQueryTarget(n){this.Nr.dr(n),this.Pr()}isLocalQueryTarget(n){return this.Nr.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(dp(this.persistenceKey,n))}updateQueryState(n,o,c){this.kr(n,o,c)}handleUserChange(n,o,c){o.forEach(f=>{this.Cr(f)}),this.currentUser=n,c.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(n){this.Mr(n)}notifyBundleLoaded(n){this.$r(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return Ot("SharedClientState","READ",n,o),o}setItem(n,o){Ot("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){Ot("SharedClientState","REMOVE",n),this.storage.removeItem(n)}mr(n){var o=this;const c=n;if(c.storageArea===this.storage){if(Ot("SharedClientState","EVENT",c.key,c.newValue),c.key===this.pr)return void wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,I.Z)(function*(){if(o.started){if(null!==c.key)if(o.Tr.test(c.key)){if(null==c.newValue){const f=o.Or(c.key);return o.Fr(f,null)}{const f=o.Br(c.key,c.newValue);if(f)return o.Fr(f.clientId,f)}}else if(o.Er.test(c.key)){if(null!==c.newValue){const f=o.Lr(c.key,c.newValue);if(f)return o.qr(f)}}else if(o.Ar.test(c.key)){if(null!==c.newValue){const f=o.Ur(c.key,c.newValue);if(f)return o.Kr(f)}}else if(c.key===o.vr){if(null!==c.newValue){const f=o.br(c.newValue);if(f)return o.Vr(f)}}else if(c.key===o.Ir){const f=function(_){let w=rs.ct;if(null!=_)try{const N=JSON.parse(_);xn("number"==typeof N),w=N}catch(N){wi("SharedClientState","Failed to read sequence number from WebStorage",N)}return w}(c.newValue);f!==rs.ct&&o.sequenceNumberHandler(f)}else if(c.key===o.Rr){const f=o.Gr(c.newValue);yield Promise.all(f.map(_=>o.syncEngine.Qr(_)))}}else o.yr.push(c)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(n,o,c){const f=new Kl(this.currentUser,n,o,c),_=ed(this.persistenceKey,this.currentUser,n);this.setItem(_,f.hr())}Cr(n){const o=ed(this.persistenceKey,this.currentUser,n);this.removeItem(o)}Mr(n){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:n}))}kr(n,o,c){const f=dp(this.persistenceKey,n),_=new hp(n,o,c);this.setItem(f,_.hr())}$r(n){const o=JSON.stringify(Array.from(n));this.setItem(this.Rr,o)}Or(n){const o=this.Tr.exec(n);return o?o[1]:null}Br(n,o){const c=this.Or(n);return Pd.ar(c,o)}Lr(n,o){const c=this.Er.exec(n),f=Number(c[1]);return Kl.ar(new Yn(void 0!==c[2]?c[2]:null),f,o)}Ur(n,o){const c=this.Ar.exec(n),f=Number(c[1]);return hp.ar(f,o)}br(n){return Ag.ar(n)}Gr(n){return JSON.parse(n)}qr(n){var o=this;return(0,I.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine.jr(n.batchId,n.state,n.error);Ot("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Kr(n){return this.syncEngine.zr(n.targetId,n.state,n.error)}Fr(n,o){const c=o?this.gr.insert(n,o):this.gr.remove(n),f=this.Sr(this.gr),_=this.Sr(c),w=[],N=[];return _.forEach(H=>{f.has(H)||w.push(H)}),f.forEach(H=>{_.has(H)||N.push(H)}),this.syncEngine.Wr(w,N).then(()=>{this.gr=c})}Vr(n){this.gr.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Sr(n){let o=ig();return n.forEach((c,f)=>{o=o.unionWith(f.activeTargetIds)}),o}}class Zl{constructor(){this.Hr=new fp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,c){}addLocalQueryTarget(n){return this.Hr.lr(n),this.Jr[n]||"not-current"}updateQueryState(n,o,c){this.Jr[n]=o}removeLocalQueryTarget(n){this.Hr.dr(n)}isLocalQueryTarget(n){return this.Hr.activeTargetIds.has(n)}clearQueryState(n){delete this.Jr[n]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(n){return this.Hr.activeTargetIds.has(n)}start(){return this.Hr=new fp,Promise.resolve()}handleUserChange(n,o,c){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class Md{Yr(n){}shutdown(){}}class Zm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(n){this.so.push(n)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.so)n(0)}no(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.so)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pp=null;function Ef(){return null===pp?pp=268435456+Math.round(2147483648*Math.random()):pp++,"0x"+pp.toString(16)}const Qm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rw{constructor(n){this.ro=n.ro,this.oo=n.oo}uo(n){this.co=n}ao(n){this.ho=n}onMessage(n){this.lo=n}close(){this.oo()}send(n){this.ro(n)}fo(){this.co()}wo(n){this.ho(n)}_o(n){this.lo(n)}}const Ru="WebChannelConnection";class Oy extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.mo=(n.ssl?"https":"http")+"://"+n.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(n,o,c,f,_){const w=Ef(),N=this.To(n,o);Ot("RestConnection",`Sending RPC '${n}' ${w}:`,N,c);const H={};return this.Eo(H,f,_),this.Ao(n,N,H,c).then(K=>(Ot("RestConnection",`Received RPC '${n}' ${w}: `,K),K),K=>{throw Li("RestConnection",`RPC '${n}' ${w} failed with error: `,K,"url: ",N,"request:",c),K})}vo(n,o,c,f,_,w){return this.Io(n,o,c,f,_)}Eo(n,o,c){n["X-Goog-Api-Client"]="gl-js/ fire/"+ei,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,_)=>n[_]=f),c&&c.headers.forEach((f,_)=>n[_]=f)}To(n,o){return`${this.mo}/v1/${o}:${Qm[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Ao(n,o,c,f){const _=Ef();return new Promise((w,N)=>{const H=new Rn;H.setWithCredentials(!0),H.listenOnce(j.COMPLETE,()=>{try{switch(H.getLastErrorCode()){case ne.NO_ERROR:const oe=H.getResponseJson();Ot(Ru,`XHR for RPC '${n}' ${_} received:`,JSON.stringify(oe)),w(oe);break;case ne.TIMEOUT:Ot(Ru,`RPC '${n}' ${_} timed out`),N(new Nt(st.DEADLINE_EXCEEDED,"Request time out"));break;case ne.HTTP_ERROR:const Ie=H.getStatus();if(Ot(Ru,`RPC '${n}' ${_} failed with status:`,Ie,"response text:",H.getResponseText()),Ie>0){let et=H.getResponseJson();Array.isArray(et)&&(et=et[0]);const Dt=et?.error;if(Dt&&Dt.status&&Dt.message){const Qt=function(Sn){const Mn=Sn.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Mn)>=0?Mn:st.UNKNOWN}(Dt.status);N(new Nt(Qt,Dt.message))}else N(new Nt(st.UNKNOWN,"Server responded with status "+H.getStatus()))}else N(new Nt(st.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{Ot(Ru,`RPC '${n}' ${_} completed.`)}});const K=JSON.stringify(f);Ot(Ru,`RPC '${n}' ${_} sending request:`,f),H.send(o,"POST",K,c,15)})}Ro(n,o,c){const f=Ef(),_=[this.mo,"/","google.firestore.v1.Firestore","/",n,"/channel"],w=Uc(),N=M(),H={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(H.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(H.xmlHttpFactory=new ft({})),this.Eo(H.initMessageHeaders,o,c),H.encodeInitMessageHeaders=!0;const oe=_.join("");Ot(Ru,`Creating RPC '${n}' stream ${f}: ${oe}`,H);const Ie=w.createWebChannel(oe,H);let et=!1,Dt=!1;const Qt=new Rw({ro:Mn=>{Dt?Ot(Ru,`Not sending because RPC '${n}' stream ${f} is closed:`,Mn):(et||(Ot(Ru,`Opening RPC '${n}' stream ${f} transport.`),Ie.open(),et=!0),Ot(Ru,`RPC '${n}' stream ${f} sending:`,Mn),Ie.send(Mn))},oo:()=>Ie.close()}),Sn=(Mn,Jr,vi)=>{Mn.listen(Jr,ti=>{try{vi(ti)}catch(co){setTimeout(()=>{throw co},0)}})};return Sn(Ie,Rt.EventType.OPEN,()=>{Dt||Ot(Ru,`RPC '${n}' stream ${f} transport opened.`)}),Sn(Ie,Rt.EventType.CLOSE,()=>{Dt||(Dt=!0,Ot(Ru,`RPC '${n}' stream ${f} transport closed`),Qt.wo())}),Sn(Ie,Rt.EventType.ERROR,Mn=>{Dt||(Dt=!0,Li(Ru,`RPC '${n}' stream ${f} transport errored:`,Mn),Qt.wo(new Nt(st.UNAVAILABLE,"The operation could not be completed")))}),Sn(Ie,Rt.EventType.MESSAGE,Mn=>{var Jr;if(!Dt){const vi=Mn.data[0];xn(!!vi);const co=vi.error||(null===(Jr=vi[0])||void 0===Jr?void 0:Jr.error);if(co){Ot(Ru,`RPC '${n}' stream ${f} received error:`,co);const yo=co.status;let Ci=function(qd){const Oc=Gs[qd];if(void 0!==Oc)return fg(Oc)}(yo),ol=co.message;void 0===Ci&&(Ci=st.INTERNAL,ol="Unknown error status: "+yo+" with message "+co.message),Dt=!0,Qt.wo(new Nt(Ci,ol)),Ie.close()}else Ot(Ru,`RPC '${n}' stream ${f} received:`,vi),Qt._o(vi)}}),Sn(N,Q.STAT_EVENT,Mn=>{Mn.stat===ve.PROXY?Ot(Ru,`RPC '${n}' stream ${f} detected buffering proxy`):Mn.stat===ve.NOPROXY&&Ot(Ru,`RPC '${n}' stream ${f} detected no buffering proxy`)}),setTimeout(()=>{Qt.fo()},0),Qt}}function Sg(){return typeof window<"u"?window:null}function Ym(){return typeof document<"u"?document:null}function $o(l){return new sp(l,!0)}class xg{constructor(n,o,c=1e3,f=1.5,_=6e4){this.ii=n,this.timerId=o,this.Po=c,this.bo=f,this.Vo=_,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(n){this.cancel();const o=Math.floor(this.So+this.ko()),c=Math.max(0,Date.now()-this.Co),f=Math.max(0,o-c);f>0&&Ot("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.So} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,f,()=>(this.Co=Date.now(),n())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xs{constructor(n,o,c,f,_,w,N,H){this.ii=n,this.$o=c,this.Oo=f,this.connection=_,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=N,this.listener=H,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xg(n,o)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var n=this;return(0,I.Z)(function*(){n.Uo()&&(yield n.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(n){this.Ho(),this.stream.send(n)}zo(){var n=this;return(0,I.Z)(function*(){if(n.Ko())return n.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(n,o){var c=this;return(0,I.Z)(function*(){c.Ho(),c.Jo(),c.qo.cancel(),c.Fo++,4!==n?c.qo.reset():o&&o.code===st.RESOURCE_EXHAUSTED?(wi(o.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),c.qo.xo()):o&&o.code===st.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.Yo(),c.stream.close(),c.stream=null),c.state=n,yield c.listener.ao(o)})()}Yo(){}auth(){this.state=1;const n=this.Xo(this.Fo),o=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,f])=>{this.Fo===o&&this.Zo(c,f)},c=>{n(()=>{const f=new Nt(st.UNKNOWN,"Fetching auth token failed: "+c.message);return this.tu(f)})})}Zo(n,o){const c=this.Xo(this.Fo);this.stream=this.eu(n,o),this.stream.uo(()=>{c(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(f=>{c(()=>this.tu(f))}),this.stream.onMessage(f=>{c(()=>this.onMessage(f))})}Go(){var n=this;this.state=5,this.qo.No((0,I.Z)(function*(){n.state=0,n.start()}))}tu(n){return Ot("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Xo(n){return o=>{this.ii.enqueueAndForget(()=>this.Fo===n?o():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yh extends xs{constructor(n,o,c,f,_,w){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,c,f,w),this.serializer=_}eu(n,o){return this.connection.Ro("Listen",n,o)}onMessage(n){this.qo.reset();const o=function oh(l,n){let o;if("targetChange"in n){const c="NO_CHANGE"===(H=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:gn(),f=n.targetChange.targetIds||[],_=function(H,K){return H.useProto3Json?(xn(void 0===K||"string"==typeof K),Ds.fromBase64String(K||"")):(xn(void 0===K||K instanceof Uint8Array),Ds.fromUint8Array(K||new Uint8Array))}(l,n.targetChange.resumeToken),w=n.targetChange.cause,N=w&&function(H){const K=void 0===H.code?st.UNKNOWN:fg(H.code);return new Nt(K,H.message||"")}(w);o=new km(c,f,_,N||null)}else if("documentChange"in n){const c=n.documentChange,f=Gl(l,c.document.name),_=So(c.document.updateTime),w=c.document.createTime?So(c.document.createTime):Kn.min(),N=new ui({mapValue:{fields:c.document.fields}}),H=Ti.newFoundDocument(f,_,w,N);o=new zl(c.targetIds||[],c.removedTargetIds||[],H.key,H)}else if("documentDelete"in n){const c=n.documentDelete,f=Gl(l,c.document),_=c.readTime?So(c.readTime):Kn.min(),w=Ti.newNoDocument(f,_);o=new zl([],c.removedTargetIds||[],w.key,w)}else if("documentRemove"in n){const c=n.documentRemove,f=Gl(l,c.document);o=new zl([],c.removedTargetIds||[],f,null)}else{if(!("filter"in n))return gn();{const c=n.filter,{count:f=0,unchangedNames:_}=c,w=new Lv(f,_);o=new wc(c.targetId,w)}}var H;return o}(this.serializer,n),c=function(f){if(!("targetChange"in f))return Kn.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?Kn.min():_.readTime?So(_.readTime):Kn.min()}(n);return this.listener.nu(o,c)}su(n){const o={};o.database=wa(this.serializer),o.addTarget=function(f,_){let w;const N=_.target;if(w=mc(N)?{documents:df(f,N)}:{query:py(f,N)},w.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){w.resumeToken=hy(f,_.resumeToken);const H=Lm(f,_.expectedCount);null!==H&&(w.expectedCount=H)}else if(_.snapshotVersion.compareTo(Kn.min())>0){w.readTime=Ea(f,_.snapshotVersion.toTimestamp());const H=Lm(f,_.expectedCount);null!==H&&(w.expectedCount=H)}return w}(this.serializer,n);const c=function Cw(l,n){const o=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gn()}}(n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);c&&(o.labels=c),this.Wo(o)}iu(n){const o={};o.database=wa(this.serializer),o.removeTarget=n,this.Wo(o)}}class Yv extends xs{constructor(n,o,c,f,_,w){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,c,f,w),this.serializer=_,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(n,o){return this.connection.Ro("Write",n,o)}onMessage(n){if(xn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.ru){this.qo.reset();const o=function fy(l,n){return l&&l.length>0?(xn(void 0!==n),l.map(o=>function(c,f){let _=So(c.updateTime?c.updateTime:f);return _.isEqual(Kn.min())&&(_=So(f)),new ry(_,c.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),c=So(n.commitTime);return this.listener.cu(c,o)}return xn(!n.writeResults||0===n.writeResults.length),this.ru=!0,this.listener.au()}hu(){const n={};n.database=wa(this.serializer),this.Wo(n)}uu(n){const o={streamToken:this.lastStreamToken,writes:n.map(c=>ah(this.serializer,c))};this.Wo(o)}}class Jv extends class{}{constructor(n,o,c,f){super(),this.authCredentials=n,this.appCheckCredentials=o,this.connection=c,this.serializer=f,this.lu=!1}fu(){if(this.lu)throw new Nt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Io(n,o,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Io(n,o,c,f,_)).catch(f=>{throw"FirebaseError"===f.name?(f.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Nt(st.UNKNOWN,f.toString())})}vo(n,o,c,f){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,w])=>this.connection.vo(n,o,c,_,w,f)).catch(_=>{throw"FirebaseError"===_.name?(_.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Nt(st.UNKNOWN,_.toString())})}terminate(){this.lu=!0}}class b0{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(n){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.yu("Offline")))}set(n){this.Tu(),this.wu=0,"Online"===n&&(this.mu=!1),this.yu(n)}yu(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}pu(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(wi(o),this.mu=!1):Ot("OnlineStateTracker",o)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xi{constructor(n,o,c,f,_){var w=this;this.localStore=n,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=_,this.Pu.Yr(N=>{c.enqueueAndForget((0,I.Z)(function*(){var H;Nd(w)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,I.Z)(function*(K){const oe=un(K);oe.vu.add(4),yield Od(oe),oe.bu.set("Unknown"),oe.vu.delete(4),yield Gi(oe)}),function(K){return H.apply(this,arguments)})(w))}))}),this.bu=new b0(c,f)}}function Gi(l){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,I.Z)(function*(l){if(Nd(l))for(const n of l.Ru)yield n(!0)}),Pl.apply(this,arguments)}function Od(l){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,I.Z)(function*(l){for(const n of l.Ru)yield n(!1)}),Rg.apply(this,arguments)}function wf(l,n){const o=un(l);o.Au.has(n.targetId)||(o.Au.set(n.targetId,n),ky(o)?Xm(o):Cf(o).Ko()&&Jm(o,n))}function vh(l,n){const o=un(l),c=Cf(o);o.Au.delete(n),c.Ko()&&Ny(o,n),0===o.Au.size&&(c.Ko()?c.jo():Nd(o)&&o.bu.set("Unknown"))}function Jm(l,n){if(l.Vu.qt(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Kn.min())>0){const o=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(o)}Cf(l).su(n)}function Ny(l,n){l.Vu.qt(n),Cf(l).iu(n)}function Xm(l){l.Vu=new Vv({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),le:n=>l.Au.get(n)||null,ue:()=>l.datastore.serializer.databaseId}),Cf(l).start(),l.bu.gu()}function ky(l){return Nd(l)&&!Cf(l).Uo()&&l.Au.size>0}function Nd(l){return 0===un(l).vu.size}function Pw(l){l.Vu=void 0}function Mw(l){return If.apply(this,arguments)}function If(){return If=(0,I.Z)(function*(l){l.Au.forEach((n,o)=>{Jm(l,n)})}),If.apply(this,arguments)}function Ow(l,n){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,I.Z)(function*(l,n){Pw(l),ky(l)?(l.bu.Iu(n),Xm(l)):l.bu.set("Unknown")}),Xv.apply(this,arguments)}function e_(l,n,o){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,I.Z)(function*(l,n,o){if(l.bu.set("Online"),n instanceof km&&2===n.state&&n.cause)try{yield(c=(0,I.Z)(function*(f,_){const w=_.cause;for(const N of _.targetIds)f.Au.has(N)&&(yield f.remoteSyncer.rejectListen(N,w),f.Au.delete(N),f.Vu.removeTarget(N))}),function(f,_){return c.apply(this,arguments)})(l,n)}catch(c){Ot("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),c),yield Eh(l,c)}else if(n instanceof zl?l.Vu.Ht(n):n instanceof wc?l.Vu.ne(n):l.Vu.Xt(n),!o.isEqual(Kn.min()))try{const c=yield $a(l.localStore);o.compareTo(c)>=0&&(yield function(f,_){const w=f.Vu.ce(_);return w.targetChanges.forEach((N,H)=>{if(N.resumeToken.approximateByteSize()>0){const K=f.Au.get(H);K&&f.Au.set(H,K.withResumeToken(N.resumeToken,_))}}),w.targetMismatches.forEach((N,H)=>{const K=f.Au.get(N);if(!K)return;f.Au.set(N,K.withResumeToken(Ds.EMPTY_BYTE_STRING,K.snapshotVersion)),Ny(f,N);const oe=new Vs(K.target,N,H,K.sequenceNumber);Jm(f,oe)}),f.remoteSyncer.applyRemoteEvent(w)}(l,o))}catch(c){Ot("RemoteStore","Failed to raise snapshot:",c),yield Eh(l,c)}var c}),Ly.apply(this,arguments)}function Eh(l,n,o){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,I.Z)(function*(l,n,o){if(!ka(n))throw n;l.vu.add(1),yield Od(l),l.bu.set("Offline"),o||(o=()=>$a(l.localStore)),l.asyncQueue.enqueueRetryable((0,I.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield o(),l.vu.delete(1),yield Gi(l)}))}),Cc.apply(this,arguments)}function Dc(l,n){return n().catch(o=>Eh(l,o,n))}function Ac(l){return wh.apply(this,arguments)}function wh(){return wh=(0,I.Z)(function*(l){const n=un(l),o=Th(n);let c=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;_p(n);)try{const f=yield Ho(n.localStore,c);if(null===f){0===n.Eu.length&&o.jo();break}c=f.batchId,Pg(n,f)}catch(f){yield Eh(n,f)}Pu(n)&&Mg(n)}),wh.apply(this,arguments)}function _p(l){return Nd(l)&&l.Eu.length<10}function Pg(l,n){l.Eu.push(n);const o=Th(l);o.Ko()&&o.ou&&o.uu(n.mutations)}function Pu(l){return Nd(l)&&!Th(l).Uo()&&l.Eu.length>0}function Mg(l){Th(l).start()}function Ih(l){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,I.Z)(function*(l){Th(l).hu()}),Tf.apply(this,arguments)}function eE(l){return td.apply(this,arguments)}function td(){return td=(0,I.Z)(function*(l){const n=Th(l);for(const o of l.Eu)n.uu(o.mutations)}),td.apply(this,arguments)}function sa(l,n,o){return t_.apply(this,arguments)}function t_(){return t_=(0,I.Z)(function*(l,n,o){const c=l.Eu.shift(),f=Om.from(c,n,o);yield Dc(l,()=>l.remoteSyncer.applySuccessfulWrite(f)),yield Ac(l)}),t_.apply(this,arguments)}function n_(l,n){return yp.apply(this,arguments)}function yp(){return yp=(0,I.Z)(function*(l,n){var o;n&&Th(l).ou&&(yield(o=(0,I.Z)(function*(c,f){if(ay(_=f.code)&&_!==st.ABORTED){const w=c.Eu.shift();Th(c).Qo(),yield Dc(c,()=>c.remoteSyncer.rejectFailedWrite(w.batchId,f)),yield Ac(c)}var _}),function(c,f){return o.apply(this,arguments)})(l,n)),Pu(l)&&Mg(l)}),yp.apply(this,arguments)}function vp(l,n){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,I.Z)(function*(l,n){const o=un(l);o.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const c=Nd(o);o.vu.add(3),yield Od(o),c&&o.bu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(n),o.vu.delete(3),yield Gi(o)}),Ep.apply(this,arguments)}function kd(l,n){return bf.apply(this,arguments)}function bf(){return bf=(0,I.Z)(function*(l,n){const o=un(l);n?(o.vu.delete(2),yield Gi(o)):n||(o.vu.add(2),yield Od(o),o.bu.set("Unknown"))}),bf.apply(this,arguments)}function Cf(l){return l.Su||(l.Su=function(n,o,c){const f=un(n);return f.fu(),new yh(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{uo:Mw.bind(null,l),ao:Ow.bind(null,l),nu:e_.bind(null,l)}),l.Ru.push(function(){var n=(0,I.Z)(function*(o){o?(l.Su.Qo(),ky(l)?Xm(l):l.bu.set("Unknown")):(yield l.Su.stop(),Pw(l))});return function(o){return n.apply(this,arguments)}}())),l.Su}function Th(l){return l.Du||(l.Du=function(n,o,c){const f=un(n);return f.fu(),new Yv(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,c)}(l.datastore,l.asyncQueue,{uo:Ih.bind(null,l),ao:n_.bind(null,l),au:eE.bind(null,l),cu:sa.bind(null,l)}),l.Ru.push(function(){var n=(0,I.Z)(function*(o){o?(l.Du.Qo(),yield Ac(l)):(yield l.Du.stop(),l.Eu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${l.Eu.length} pending writes`),l.Eu=[]))});return function(o){return n.apply(this,arguments)}}())),l.Du}class Fy{constructor(n,o,c,f,_){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=c,this.op=f,this.removalCallback=_,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(n,o,c,f,_){const w=Date.now()+c,N=new Fy(n,o,w,f,_);return N.start(c),N}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nt(st.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function za(l,n){if(wi("AsyncQueue",`${n}: ${l}`),ka(l))return new Nt(st.UNAVAILABLE,`${n}: ${l}`);throw l}class bh{constructor(n){this.comparator=n?(o,c)=>n(o,c)||dn.comparator(o.key,c.key):(o,c)=>dn.comparator(o.key,c.key),this.keyedMap=vc(),this.sortedSet=new gi(this.comparator)}static emptySet(n){return new bh(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,c)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof bh)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),c=n.sortedSet.getIterator();for(;o.hasNext();){const f=o.getNext().key,_=c.getNext().key;if(!f.isEqual(_))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const c=new bh;return c.comparator=this.comparator,c.keyedMap=n,c.sortedSet=o,c}}class Mu{constructor(){this.Cu=new gi(dn.comparator)}track(n){const o=n.doc.key,c=this.Cu.get(o);c?0!==n.type&&3===c.type?this.Cu=this.Cu.insert(o,n):3===n.type&&1!==c.type?this.Cu=this.Cu.insert(o,{type:c.type,doc:n.doc}):2===n.type&&2===c.type?this.Cu=this.Cu.insert(o,{type:2,doc:n.doc}):2===n.type&&0===c.type?this.Cu=this.Cu.insert(o,{type:0,doc:n.doc}):1===n.type&&0===c.type?this.Cu=this.Cu.remove(o):1===n.type&&2===c.type?this.Cu=this.Cu.insert(o,{type:1,doc:c.doc}):0===n.type&&1===c.type?this.Cu=this.Cu.insert(o,{type:2,doc:n.doc}):gn():this.Cu=this.Cu.insert(o,n)}xu(){const n=[];return this.Cu.inorderTraversal((o,c)=>{n.push(c)}),n}}class Ch{constructor(n,o,c,f,_,w,N,H,K){this.query=n,this.docs=o,this.oldDocs=c,this.docChanges=f,this.mutatedKeys=_,this.fromCache=w,this.syncStateChanged=N,this.excludesMetadataChanges=H,this.hasCachedResults=K}static fromInitialDocuments(n,o,c,f,_){const w=[];return o.forEach(N=>{w.push({type:0,doc:N})}),new Ch(n,o,bh.emptySet(o),w,c,f,!0,!1,_)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ne(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,c=n.docChanges;if(o.length!==c.length)return!1;for(let f=0;f<o.length;f++)if(o[f].type!==c[f].type||!o[f].doc.isEqual(c[f].doc))return!1;return!0}}class Df{constructor(){this.Nu=void 0,this.listeners=[]}}class Og{constructor(){this.queries=new Ls(n=>pt(n),Ne),this.onlineState="Unknown",this.ku=new Set}}function Ql(l,n){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,I.Z)(function*(l,n){const o=un(l),c=n.query;let f=!1,_=o.queries.get(c);if(_||(f=!0,_=new Df),f)try{_.Nu=yield o.onListen(c)}catch(w){const N=za(w,`Initialization of query '${Zt(n.query)}' failed`);return void n.onError(N)}o.queries.set(c,_),_.listeners.push(n),n.Mu(o.onlineState),_.Nu&&n.$u(_.Nu)&&wp(o)}),Ng.apply(this,arguments)}function Af(l,n){return r_.apply(this,arguments)}function r_(){return r_=(0,I.Z)(function*(l,n){const o=un(l),c=n.query;let f=!1;const _=o.queries.get(c);if(_){const w=_.listeners.indexOf(n);w>=0&&(_.listeners.splice(w,1),f=0===_.listeners.length)}if(f)return o.queries.delete(c),o.onUnlisten(c)}),r_.apply(this,arguments)}function C0(l,n){const o=un(l);let c=!1;for(const f of n){const w=o.queries.get(f.query);if(w){for(const N of w.listeners)N.$u(f)&&(c=!0);w.Nu=f}}c&&wp(o)}function Yr(l,n,o){const c=un(l),f=c.queries.get(n);if(f)for(const _ of f.listeners)_.onError(o);c.queries.delete(n)}function wp(l){l.ku.forEach(n=>{n.next()})}class kg{constructor(n,o,c){this.query=n,this.Ou=o,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=c||{}}$u(n){if(!this.options.includeMetadataChanges){const c=[];for(const f of n.docChanges)3!==f.type&&c.push(f);n=new Ch(n.query,n.docs,n.oldDocs,c,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let o=!1;return this.Fu?this.Lu(n)&&(this.Ou.next(n),o=!0):this.qu(n,this.onlineState)&&(this.Uu(n),o=!0),this.Bu=n,o}onError(n){this.Ou.error(n)}Mu(n){this.onlineState=n;let o=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,n)&&(this.Uu(this.Bu),o=!0),o}qu(n,o){return!n.fromCache||(!this.options.Ku||!("Offline"!==o))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===o)}Lu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(n){n=Ch.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Fu=!0,this.Ou.next(n)}}class Sf{constructor(n,o){this.Gu=n,this.byteLength=o}Qu(){return"metadata"in this.Gu}}class xf{constructor(n){this.serializer=n}rr(n){return Gl(this.serializer,n)}ur(n){return n.metadata.exists?ta(this.serializer,n.document,!1):Ti.newNoDocument(this.rr(n.metadata.name),this.cr(n.metadata.readTime))}cr(n){return So(n)}}class tE{constructor(n,o,c){this.ju=n,this.localStore=o,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nE(n)}zu(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;if(n.Gu.namedQuery)this.queries.push(n.Gu.namedQuery);else if(n.Gu.documentMetadata){this.documents.push({metadata:n.Gu.documentMetadata}),n.Gu.documentMetadata.exists||++o;const c=An.fromString(n.Gu.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else n.Gu.document&&(this.documents[this.documents.length-1].document=n.Gu.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}Wu(n){const o=new Map,c=new xf(this.serializer);for(const f of n)if(f.metadata.queries){const _=c.rr(f.metadata.name);for(const w of f.metadata.queries){const N=(o.get(w)||qr()).add(_);o.set(w,N)}}return o}complete(){var n=this;return(0,I.Z)(function*(){const o=yield function Cg(l,n,o,c){return Rd.apply(this,arguments)}(n.localStore,new xf(n.serializer),n.documents,n.ju.id),c=n.Wu(n.documents);for(const f of n.queries)yield vf(n.localStore,f,c.get(f.name));return n.progress.taskState="Success",{progress:n.progress,Hu:n.collectionGroups,Ju:o}})()}}function nE(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class rE{constructor(n){this.key=n}}class iE{constructor(n){this.key=n}}class Vy{constructor(n,o){this.query=n,this.Yu=o,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qr(),this.mutatedKeys=qr(),this.tc=Hr(n),this.ec=new bh(this.tc)}get nc(){return this.Yu}sc(n,o){const c=o?o.ic:new Mu,f=o?o.ec:this.ec;let _=o?o.mutatedKeys:this.mutatedKeys,w=f,N=!1;const H="F"===this.query.limitType&&f.size===this.query.limit?f.last():null,K="L"===this.query.limitType&&f.size===this.query.limit?f.first():null;if(n.inorderTraversal((oe,Ie)=>{const et=f.get(oe),Dt=fn(this.query,Ie)?Ie:null,Qt=!!et&&this.mutatedKeys.has(et.key),Sn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let Mn=!1;et&&Dt?et.data.isEqual(Dt.data)?Qt!==Sn&&(c.track({type:3,doc:Dt}),Mn=!0):this.rc(et,Dt)||(c.track({type:2,doc:Dt}),Mn=!0,(H&&this.tc(Dt,H)>0||K&&this.tc(Dt,K)<0)&&(N=!0)):!et&&Dt?(c.track({type:0,doc:Dt}),Mn=!0):et&&!Dt&&(c.track({type:1,doc:et}),Mn=!0,(H||K)&&(N=!0)),Mn&&(Dt?(w=w.add(Dt),_=Sn?_.add(oe):_.delete(oe)):(w=w.delete(oe),_=_.delete(oe)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const oe="F"===this.query.limitType?w.last():w.first();w=w.delete(oe.key),_=_.delete(oe.key),c.track({type:1,doc:oe})}return{ec:w,ic:c,zi:N,mutatedKeys:_}}rc(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,c){const f=this.ec;this.ec=n.ec,this.mutatedKeys=n.mutatedKeys;const _=n.ic.xu();_.sort((K,oe)=>function(Ie,et){const Dt=Qt=>{switch(Qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return Dt(Ie)-Dt(et)}(K.type,oe.type)||this.tc(K.doc,oe.doc)),this.oc(c);const w=o?this.uc():[],N=0===this.Zu.size&&this.current?1:0,H=N!==this.Xu;return this.Xu=N,0!==_.length||H?{snapshot:new Ch(this.query,n.ec,f,_,n.mutatedKeys,0===N,H,!1,!!c&&c.resumeToken.approximateByteSize()>0),cc:w}:{cc:w}}Mu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Mu,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(n){return!this.Yu.has(n)&&!!this.ec.has(n)&&!this.ec.get(n).hasLocalMutations}oc(n){n&&(n.addedDocuments.forEach(o=>this.Yu=this.Yu.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this.Yu=this.Yu.delete(o)),this.current=n.current)}uc(){if(!this.current)return[];const n=this.Zu;this.Zu=qr(),this.ec.forEach(c=>{this.ac(c.key)&&(this.Zu=this.Zu.add(c.key))});const o=[];return n.forEach(c=>{this.Zu.has(c)||o.push(new iE(c))}),this.Zu.forEach(c=>{n.has(c)||o.push(new rE(c))}),o}hc(n){this.Yu=n.ir,this.Zu=qr();const o=this.sc(n.documents);return this.applyChanges(o,!0)}lc(){return Ch.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Rf{constructor(n,o,c){this.query=n,this.targetId=o,this.view=c}}class Dh{constructor(n){this.key=n,this.fc=!1}}class i_{constructor(n,o,c,f,_,w){this.localStore=n,this.remoteStore=o,this.eventManager=c,this.sharedClientState=f,this.currentUser=_,this.maxConcurrentLimboResolutions=w,this.dc={},this.wc=new Ls(N=>pt(N),Ne),this._c=new Map,this.mc=new Set,this.gc=new gi(dn.comparator),this.yc=new Map,this.Ic=new $m,this.Tc={},this.Ec=new Map,this.Ac=rl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ip(l,n){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,I.Z)(function*(l,n){const o=qy(l);let c,f;const _=o.wc.get(n);if(_)c=_.targetId,o.sharedClientState.addLocalQueryTarget(c),f=_.view.lc();else{const w=yield yf(o.localStore,O(n)),N=o.sharedClientState.addLocalQueryTarget(w.targetId);c=w.targetId,f=yield Pf(o,n,c,"current"===N,w.resumeToken),o.isPrimaryClient&&wf(o.remoteStore,w)}return f}),Uy.apply(this,arguments)}function Pf(l,n,o,c,f){return s_.apply(this,arguments)}function s_(){return s_=(0,I.Z)(function*(l,n,o,c,f){l.Rc=(Ie,et,Dt)=>{return(Qt=(0,I.Z)(function*(Sn,Mn,Jr,vi){let ti=Mn.view.sc(Jr);ti.zi&&(ti=yield Wl(Sn.localStore,Mn.query,!1).then(({documents:Ci})=>Mn.view.sc(Ci,ti)));const co=vi&&vi.targetChanges.get(Mn.targetId),yo=Mn.view.applyChanges(ti,Sn.isPrimaryClient,co);return bp(Sn,Mn.targetId,yo.cc),yo.snapshot}),function(Sn,Mn,Jr,vi){return Qt.apply(this,arguments)})(l,Ie,et,Dt);var Qt};const _=yield Wl(l.localStore,n,!0),w=new Vy(n,_.ir),N=w.sc(_.documents),H=sh.createSynthesizedTargetChangeForCurrentChange(o,c&&"Offline"!==l.onlineState,f),K=w.applyChanges(N,l.isPrimaryClient,H);bp(l,o,K.cc);const oe=new Rf(n,o,w);return l.wc.set(n,oe),l._c.has(o)?l._c.get(o).push(n):l._c.set(o,[n]),K.snapshot}),s_.apply(this,arguments)}function sE(l,n){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,I.Z)(function*(l,n){const o=un(l),c=o.wc.get(n),f=o._c.get(c.targetId);if(f.length>1)return o._c.set(c.targetId,f.filter(_=>!Ne(_,n))),void o.wc.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield xl(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),vh(o.remoteStore,c.targetId),Ml(o,c.targetId)}).catch(Na))):(Ml(o,c.targetId),yield xl(o.localStore,c.targetId,!0))}),Tp.apply(this,arguments)}function By(){return By=(0,I.Z)(function*(l,n,o){const c=fE(l);try{const f=yield function(_,w){const N=un(_),H=zi.now(),K=w.reduce((et,Dt)=>et.add(Dt.key),qr());let oe,Ie;return N.persistence.runTransaction("Locally write mutations","readwrite",et=>{let Dt=Xo(),Qt=qr();return N.Zi.getEntries(et,K).next(Sn=>{Dt=Sn,Dt.forEach((Mn,Jr)=>{Jr.isValidDocument()||(Qt=Qt.add(Mn))})}).next(()=>N.localDocuments.getOverlayedDocuments(et,Dt)).next(Sn=>{oe=Sn;const Mn=[];for(const Jr of w){const vi=iy(Jr,oe.get(Jr.key).overlayedDocument);null!=vi&&Mn.push(new Su(Jr.key,vi,ng(vi.value.mapValue),cs.exists(!0)))}return N.mutationQueue.addMutationBatch(et,H,Mn,w)}).next(Sn=>{Ie=Sn;const Mn=Sn.applyToLocalDocumentSet(oe,Qt);return N.documentOverlayCache.saveOverlays(et,Sn.batchId,Mn)})}).then(()=>({batchId:Ie.batchId,changes:np(oe)}))}(c.localStore,n);c.sharedClientState.addPendingMutation(f.batchId),function(_,w,N){let H=_.Tc[_.currentUser.toKey()];H||(H=new gi(er)),H=H.insert(w,N),_.Tc[_.currentUser.toKey()]=H}(c,f.batchId,o),yield Ol(c,f.changes),yield Ac(c.remoteStore)}catch(f){const _=za(f,"Failed to persist write");o.reject(_)}}),By.apply(this,arguments)}function Us(l,n){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,I.Z)(function*(l,n){const o=un(l);try{const c=yield function My(l,n){const o=un(l),c=n.snapshotVersion;let f=o.Ji;return o.persistence.runTransaction("Apply remote event","readwrite-primary",_=>{const w=o.Zi.newChangeBuffer({trackRemovals:!0});f=o.Ji;const N=[];n.targetChanges.forEach((oe,Ie)=>{const et=f.get(Ie);if(!et)return;N.push(o.Bs.removeMatchingKeys(_,oe.removedDocuments,Ie).next(()=>o.Bs.addMatchingKeys(_,oe.addedDocuments,Ie)));let Dt=et.withSequenceNumber(_.currentSequenceNumber);var Qt,Sn,Mn;null!==n.targetMismatches.get(Ie)?Dt=Dt.withResumeToken(Ds.EMPTY_BYTE_STRING,Kn.min()).withLastLimboFreeSnapshotVersion(Kn.min()):oe.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(oe.resumeToken,c)),f=f.insert(Ie,Dt),Sn=Dt,Mn=oe,(0===(Qt=et).resumeToken.approximateByteSize()||Sn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&N.push(o.Bs.updateTargetData(_,Dt))});let H=Xo(),K=qr();if(n.documentUpdates.forEach(oe=>{n.resolvedLimboDocuments.has(oe)&&N.push(o.persistence.referenceDelegate.updateLimboDocument(_,oe))}),N.push(Qv(_,w,n.documentUpdates).next(oe=>{H=oe.nr,K=oe.sr})),!c.isEqual(Kn.min())){const oe=o.Bs.getLastRemoteSnapshotVersion(_).next(Ie=>o.Bs.setTargetsMetadata(_,_.currentSequenceNumber,c));N.push(oe)}return He.waitFor(N).next(()=>w.apply(_)).next(()=>o.localDocuments.getLocalViewOfDocuments(_,H,K)).next(()=>H)}).then(_=>(o.Ji=f,_))}(o.localStore,n);n.targetChanges.forEach((f,_)=>{const w=o.yc.get(_);w&&(xn(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?w.fc=!0:f.modifiedDocuments.size>0?xn(w.fc):f.removedDocuments.size>0&&(xn(w.fc),w.fc=!1))}),yield Ol(o,c,n)}catch(c){yield Na(c)}}),Ah.apply(this,arguments)}function oE(l,n,o){const c=un(l);if(c.isPrimaryClient&&0===o||!c.isPrimaryClient&&1===o){const f=[];c.wc.forEach((_,w)=>{const N=w.view.Mu(n);N.snapshot&&f.push(N.snapshot)}),function(_,w){const N=un(_);N.onlineState=w;let H=!1;N.queries.forEach((K,oe)=>{for(const Ie of oe.listeners)Ie.Mu(w)&&(H=!0)}),H&&wp(N)}(c.eventManager,n),f.length&&c.dc.nu(f),c.onlineState=n,c.isPrimaryClient&&c.sharedClientState.setOnlineState(n)}}function aE(l,n,o){return jy.apply(this,arguments)}function jy(){return jy=(0,I.Z)(function*(l,n,o){const c=un(l);c.sharedClientState.updateQueryState(n,"rejected",o);const f=c.yc.get(n),_=f&&f.key;if(_){let w=new gi(dn.comparator);w=w.insert(_,Ti.newNoDocument(_,Kn.min()));const N=qr().add(_),H=new ea(Kn.min(),new Map,new gi(er),w,N);yield Us(c,H),c.gc=c.gc.remove(_),c.yc.delete(n),Ug(c)}else yield xl(c.localStore,n,!1).then(()=>Ml(c,n,o)).catch(Na)}),jy.apply(this,arguments)}function Lg(l,n){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,I.Z)(function*(l,n){const o=un(l),c=n.batch.batchId;try{const f=yield function xd(l,n){const o=un(l);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const f=n.batch.keys(),_=o.Zi.newChangeBuffer({trackRemovals:!0});return function(w,N,H,K){const oe=H.batch,Ie=oe.keys();let et=He.resolve();return Ie.forEach(Dt=>{et=et.next(()=>K.getEntry(N,Dt)).next(Qt=>{const Sn=H.docVersions.get(Dt);xn(null!==Sn),Qt.version.compareTo(Sn)<0&&(oe.applyToRemoteDocument(Qt,H),Qt.isValidDocument()&&(Qt.setReadTime(H.commitVersion),K.addEntry(Qt)))})}),et.next(()=>w.mutationQueue.removeMutationBatch(N,oe))}(o,c,n,_).next(()=>_.apply(c)).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,f,n.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(w){let N=qr();for(let H=0;H<w.mutationResults.length;++H)w.mutationResults[H].transformResults.length>0&&(N=N.add(w.batch.mutations[H].key));return N}(n))).next(()=>o.localDocuments.getDocuments(c,f))})}(o.localStore,n);Fg(o,c,null),u_(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),yield Ol(o,f)}catch(f){yield Na(f)}}),Hy.apply(this,arguments)}function $y(l,n,o){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,I.Z)(function*(l,n,o){const c=un(l);try{const f=yield function(_,w){const N=un(_);return N.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let K;return N.mutationQueue.lookupMutationBatch(H,w).next(oe=>(xn(null!==oe),K=oe.keys(),N.mutationQueue.removeMutationBatch(H,oe))).next(()=>N.mutationQueue.performConsistencyCheck(H)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(H,K,w)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,K)).next(()=>N.localDocuments.getDocuments(H,K))})}(c.localStore,n);Fg(c,n,o),u_(c,n),c.sharedClientState.updateMutationState(n,"rejected",o),yield Ol(c,f)}catch(f){yield Na(f)}}),Ld.apply(this,arguments)}function a_(){return a_=(0,I.Z)(function*(l,n){const o=un(l);Nd(o.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(_){const w=un(_);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>w.mutationQueue.getHighestUnacknowledgedBatchId(N))}(o.localStore);if(-1===c)return void n.resolve();const f=o.Ec.get(c)||[];f.push(n),o.Ec.set(c,f)}catch(c){const f=za(c,"Initialization of waitForPendingWrites() operation failed");n.reject(f)}}),a_.apply(this,arguments)}function u_(l,n){(l.Ec.get(n)||[]).forEach(o=>{o.resolve()}),l.Ec.delete(n)}function Fg(l,n,o){const c=un(l);let f=c.Tc[c.currentUser.toKey()];if(f){const _=f.get(n);_&&(o?_.reject(o):_.resolve(),f=f.remove(n)),c.Tc[c.currentUser.toKey()]=f}}function Ml(l,n,o=null){l.sharedClientState.removeLocalQueryTarget(n);for(const c of l._c.get(n))l.wc.delete(c),o&&l.dc.Pc(c,o);l._c.delete(n),l.isPrimaryClient&&l.Ic.Is(n).forEach(c=>{l.Ic.containsKey(c)||zy(l,c)})}function zy(l,n){l.mc.delete(n.path.canonicalString());const o=l.gc.get(n);null!==o&&(vh(l.remoteStore,o),l.gc=l.gc.remove(n),l.yc.delete(o),Ug(l))}function bp(l,n,o){for(const c of o)c instanceof rE?(l.Ic.addReference(c.key,n),Vg(l,c)):c instanceof iE?(Ot("SyncEngine","Document no longer in limbo: "+c.key),l.Ic.removeReference(c.key,n),l.Ic.containsKey(c.key)||zy(l,c.key)):gn()}function Vg(l,n){const o=n.key,c=o.path.canonicalString();l.gc.get(o)||l.mc.has(c)||(Ot("SyncEngine","New document in limbo: "+o),l.mc.add(c),Ug(l))}function Ug(l){for(;l.mc.size>0&&l.gc.size<l.maxConcurrentLimboResolutions;){const n=l.mc.values().next().value;l.mc.delete(n);const o=new dn(An.fromString(n)),c=l.Ac.next();l.yc.set(c,new Dh(o)),l.gc=l.gc.insert(o,c),wf(l.remoteStore,new Vs(O(ks(o.path)),c,"TargetPurposeLimboResolution",rs.ct))}}function Ol(l,n,o){return l_.apply(this,arguments)}function l_(){return l_=(0,I.Z)(function*(l,n,o){const c=un(l),f=[],_=[],w=[];var N;c.wc.isEmpty()||(c.wc.forEach((N,H)=>{w.push(c.Rc(H,n,o).then(K=>{if((K||o)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(H.targetId,K?.fromCache?"not-current":"current"),K){f.push(K);const oe=cp.Li(H.targetId,K);_.push(oe)}}))}),yield Promise.all(w),c.dc.nu(f),yield(N=(0,I.Z)(function*(H,K){const oe=un(H);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>He.forEach(K,et=>He.forEach(et.Fi,Dt=>oe.persistence.referenceDelegate.addReference(Ie,et.targetId,Dt)).next(()=>He.forEach(et.Bi,Dt=>oe.persistence.referenceDelegate.removeReference(Ie,et.targetId,Dt)))))}catch(Ie){if(!ka(Ie))throw Ie;Ot("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of K){const et=Ie.targetId;if(!Ie.fromCache){const Dt=oe.Ji.get(et),Sn=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);oe.Ji=oe.Ji.insert(et,Sn)}}}),function(H,K){return N.apply(this,arguments)})(c.localStore,_))}),l_.apply(this,arguments)}function Po(l,n){return bi.apply(this,arguments)}function bi(){return bi=(0,I.Z)(function*(l,n){const o=un(l);if(!o.currentUser.isEqual(n)){Ot("SyncEngine","User change. New user:",n.toKey());const c=yield _s(o.localStore,n);o.currentUser=n,(f=o).Ec.forEach(w=>{w.forEach(N=>{N.reject(new Nt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Ec.clear(),o.sharedClientState.handleUserChange(n,c.removedBatchIds,c.addedBatchIds),yield Ol(o,c.er)}var f}),bi.apply(this,arguments)}function uE(l,n){const o=un(l),c=o.yc.get(n);if(c&&c.fc)return qr().add(c.key);{let f=qr();const _=o._c.get(n);if(!_)return f;for(const w of _){const N=o.wc.get(w);f=f.unionWith(N.view.nc)}return f}}function lE(l,n){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,I.Z)(function*(l,n){const o=un(l),c=yield Wl(o.localStore,n.query,!0),f=n.view.hc(c);return o.isPrimaryClient&&bp(o,n.targetId,f.cc),f}),Cp.apply(this,arguments)}function Gy(l,n){return cE.apply(this,arguments)}function cE(){return cE=(0,I.Z)(function*(l,n){const o=un(l);return bg(o.localStore,n).then(c=>Ol(o,c))}),cE.apply(this,arguments)}function c_(l,n,o,c){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,I.Z)(function*(l,n,o,c){const f=un(l),_=yield function(w,N){const H=un(w),K=un(H.mutationQueue);return H.persistence.runTransaction("Lookup mutation documents","readonly",oe=>K.Sn(oe,N).next(Ie=>Ie?H.localDocuments.getDocuments(oe,Ie):He.resolve(null)))}(f.localStore,n);var N;null!==_?("pending"===o?yield Ac(f.remoteStore):"acknowledged"===o||"rejected"===o?(Fg(f,n,c||null),u_(f,n),N=n,un(un(f.localStore).mutationQueue).Cn(N)):gn(),yield Ol(f,_)):Ot("SyncEngine","Cannot apply mutation batch with id: "+n)}),Sc.apply(this,arguments)}function Sh(){return Sh=(0,I.Z)(function*(l,n){const o=un(l);if(qy(o),fE(o),!0===n&&!0!==o.vc){const c=o.sharedClientState.getAllActiveQueryTargets(),f=yield Mf(o,c.toArray());o.vc=!0,yield kd(o.remoteStore,!0);for(const _ of f)wf(o.remoteStore,_)}else if(!1===n&&!1!==o.vc){const c=[];let f=Promise.resolve();o._c.forEach((_,w)=>{o.sharedClientState.isLocalQueryTarget(w)?c.push(w):f=f.then(()=>(Ml(o,w),xl(o.localStore,w,!0))),vh(o.remoteStore,w)}),yield f,yield Mf(o,c),function(_){const w=un(_);w.yc.forEach((N,H)=>{vh(w.remoteStore,H)}),w.Ic.Ts(),w.yc=new Map,w.gc=new gi(dn.comparator)}(o),o.vc=!1,yield kd(o.remoteStore,!1)}}),Sh.apply(this,arguments)}function Mf(l,n,o){return Of.apply(this,arguments)}function Of(){return Of=(0,I.Z)(function*(l,n,o){const c=un(l),f=[],_=[];for(const w of n){let N;const H=c._c.get(w);if(H&&0!==H.length){N=yield yf(c.localStore,O(H[0]));for(const K of H){const oe=c.wc.get(K),Ie=yield lE(c,oe);Ie.snapshot&&_.push(Ie.snapshot)}}else{const K=yield Tg(c.localStore,w);N=yield yf(c.localStore,K),yield Pf(c,Bg(K),w,!1,N.resumeToken)}f.push(N)}return c.dc.nu(_),f}),Of.apply(this,arguments)}function Bg(l){return ep(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function dE(l){const n=un(l);return un(un(n.localStore).persistence).$i()}function hE(l,n,o,c){return jg.apply(this,arguments)}function jg(){return jg=(0,I.Z)(function*(l,n,o,c){const f=un(l);if(f.vc)return void Ot("SyncEngine","Ignoring unexpected query state notification.");const _=f._c.get(n);if(_&&_.length>0)switch(o){case"current":case"not-current":{const w=yield bg(f.localStore,hn(_[0])),N=ea.createSynthesizedRemoteEventForCurrentChange(n,"current"===o,Ds.EMPTY_BYTE_STRING);yield Ol(f,w,N);break}case"rejected":yield xl(f.localStore,n,!0),Ml(f,n,c);break;default:gn()}}),jg.apply(this,arguments)}function D0(l,n,o){return d_.apply(this,arguments)}function d_(){return d_=(0,I.Z)(function*(l,n,o){const c=qy(l);if(c.vc){for(const f of n){if(c._c.has(f)){Ot("SyncEngine","Adding an already active target "+f);continue}const _=yield Tg(c.localStore,f),w=yield yf(c.localStore,_);yield Pf(c,Bg(_),w.targetId,!1,w.resumeToken),wf(c.remoteStore,w)}for(const f of o)c._c.has(f)&&(yield xl(c.localStore,f,!1).then(()=>{vh(c.remoteStore,f),Ml(c,f)}).catch(Na))}}),d_.apply(this,arguments)}function qy(l){const n=un(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Us.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=uE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=aE.bind(null,n),n.dc.nu=C0.bind(null,n.eventManager),n.dc.Pc=Yr.bind(null,n.eventManager),n}function fE(l){const n=un(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Lg.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=$y.bind(null,n),n}class Ap{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,I.Z)(function*(){o.serializer=$o(n.databaseInfo.databaseId),o.sharedClientState=o.createSharedClientState(n),o.persistence=o.createPersistence(n),yield o.persistence.start(),o.localStore=o.createLocalStore(n),o.gcScheduler=o.createGarbageCollectionScheduler(n,o.localStore),o.indexBackfillerScheduler=o.createIndexBackfillerScheduler(n,o.localStore)})()}createGarbageCollectionScheduler(n,o){return null}createIndexBackfillerScheduler(n,o){return null}createLocalStore(n){return Ta(this.persistence,new Qi,n.initialUser,this.serializer)}createPersistence(n){return new Gm(Sd.zs,this.serializer)}createSharedClientState(n){return new Zl}terminate(){var n=this;return(0,I.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Vr extends Ap{constructor(n,o,c){super(),this.Vc=n,this.cacheSizeBytes=o,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,c=this;return(0,I.Z)(function*(){yield o().call(c,n),yield c.Vc.initialize(c,n),yield fE(c.Vc.syncEngine),yield Ac(c.Vc.remoteStore),yield c.persistence.Ii(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return Ta(this.persistence,new Qi,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,o){return new Ia(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,o)}createIndexBackfillerScheduler(n,o){const c=new Kh(o,this.persistence);return new ro(n.asyncQueue,c)}createPersistence(n){const o=Sl(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?hu.withCacheSize(this.cacheSizeBytes):hu.DEFAULT;return new Ig(this.synchronizeTabs,o,n.clientId,c,n.asyncQueue,Sg(),Ym(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new Zl}}class xh extends Vr{constructor(n,o){super(n,o,!1),this.Vc=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,c=this;return(0,I.Z)(function*(){yield o().call(c,n);const f=c.Vc.syncEngine;c.sharedClientState instanceof bc&&(c.sharedClientState.syncEngine={jr:c_.bind(null,f),zr:hE.bind(null,f),Wr:D0.bind(null,f),$i:dE.bind(null,f),Qr:Gy.bind(null,f)},yield c.sharedClientState.start()),yield c.persistence.Ii(function(){var _=(0,I.Z)(function*(w){yield function Dp(l,n){return Sh.apply(this,arguments)}(c.Vc.syncEngine,w),c.gcScheduler&&(w&&!c.gcScheduler.started?c.gcScheduler.start():w||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(w&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():w||c.indexBackfillerScheduler.stop())});return function(w){return _.apply(this,arguments)}}())})()}createSharedClientState(n){const o=Sg();if(!bc.D(o))throw new Nt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Sl(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new bc(o,n.asyncQueue,c,n.clientId,n.initialUser)}}class Rh{initialize(n,o){var c=this;return(0,I.Z)(function*(){c.localStore||(c.localStore=n.localStore,c.sharedClientState=n.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!n.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>oE(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=Po.bind(null,c.syncEngine),yield kd(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Og}createDatastore(n){const o=$o(n.databaseInfo.databaseId),c=new Oy(n.databaseInfo);return new Jv(n.authCredentials,n.appCheckCredentials,c,o)}createRemoteStore(n){return o=this.localStore,c=this.datastore,f=n.asyncQueue,_=N=>oE(this.syncEngine,N,0),w=Zm.D()?new Zm:new Md,new Xi(o,c,f,_,w);var o,c,f,_,w}createSyncEngine(n,o){return function(c,f,_,w,N,H,K){const oe=new i_(c,f,_,w,N,H);return K&&(oe.vc=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,I.Z)(function*(o){const c=un(o);Ot("RemoteStore","RemoteStore shutting down."),c.vu.add(5),yield Od(c),c.Pu.shutdown(),c.bu.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function Nf(l,n=10240){let o=0;return{read:()=>(0,I.Z)(function*(){if(o<l.byteLength){const c={value:l.slice(o,o+n),done:!1};return o+=n,c}return{done:!0}})(),cancel:()=>(0,I.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Bs{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Sc(this.observer.next,n)}error(n){this.observer.error?this.Sc(this.observer.error,n):wi("Uncaught Error in snapshot listener:",n.toString())}Dc(){this.muted=!0}Sc(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class Wy{constructor(n,o){this.Cc=n,this.serializer=o,this.metadata=new Zi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(c=>{c&&c.Qu()?this.metadata.resolve(c.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Gu)}`))},c=>this.metadata.reject(c))}close(){return this.Cc.cancel()}getMetadata(){var n=this;return(0,I.Z)(function*(){return n.metadata.promise})()}bc(){var n=this;return(0,I.Z)(function*(){return yield n.getMetadata(),n.Nc()})()}Nc(){var n=this;return(0,I.Z)(function*(){const o=yield n.kc();if(null===o)return null;const c=n.xc.decode(o),f=Number(c);isNaN(f)&&n.Mc(`length string (${c}) is not valid number`);const _=yield n.$c(f);return new Sf(JSON.parse(_),o.length+f)})()}Oc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}kc(){var n=this;return(0,I.Z)(function*(){for(;n.Oc()<0&&!(yield n.Fc()););if(0===n.buffer.length)return null;const o=n.Oc();o<0&&n.Mc("Reached the end of bundle when a length string is expected.");const c=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),c})()}$c(n){var o=this;return(0,I.Z)(function*(){for(;o.buffer.length<n;)(yield o.Fc())&&o.Mc("Reached the end of bundle when more is expected.");const c=o.xc.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),c})()}Mc(n){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${n}`)}Fc(){var n=this;return(0,I.Z)(function*(){const o=yield n.Cc.read();if(!o.done){const c=new Uint8Array(n.buffer.length+o.value.length);c.set(n.buffer),c.set(o.value,n.buffer.length),n.buffer=c}return o.done})()}}class Hg{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,I.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new Nt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(f=(0,I.Z)(function*(_,w){const N=un(_),H=wa(N.serializer)+"/documents",K={documents:w.map(Dt=>cf(N.serializer,Dt))},oe=yield N.vo("BatchGetDocuments",H,K,w.length),Ie=new Map;oe.forEach(Dt=>{const Qt=function Tc(l,n){return"found"in n?function(o,c){xn(!!c.found);const f=Gl(o,c.found.name),_=So(c.found.updateTime),w=c.found.createTime?So(c.found.createTime):Kn.min(),N=new ui({mapValue:{fields:c.found.fields}});return Ti.newFoundDocument(f,_,w,N)}(l,n):"missing"in n?function(o,c){xn(!!c.missing),xn(!!c.readTime);const f=Gl(o,c.missing),_=So(c.readTime);return Ti.newNoDocument(f,_)}(l,n):gn()}(N.serializer,Dt);Ie.set(Qt.key.toString(),Qt)});const et=[];return w.forEach(Dt=>{const Qt=Ie.get(Dt.toString());xn(!!Qt),et.push(Qt)}),et}),function(_,w){return f.apply(this,arguments)})(o.datastore,n);var f;return c.forEach(f=>o.recordVersion(f)),c})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(n.toString())}delete(n){this.write(new du(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,I.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var c;n.mutations.forEach(c=>{o.delete(c.key.toString())}),o.forEach((c,f)=>{const _=dn.fromPath(f);n.mutations.push(new Ed(_,n.precondition(_)))}),yield(c=(0,I.Z)(function*(f,_){const w=un(f),N=wa(w.serializer)+"/documents",H={writes:_.map(K=>ah(w.serializer,K))};yield w.Io("Commit",N,H)}),function(f,_){return c.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw gn();o=Kn.min()}const c=this.readVersions.get(n.key.toString());if(c){if(!o.isEqual(c))throw new Nt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)}precondition(n){const o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?o.isEqual(Kn.min())?cs.exists(!1):cs.updateTime(o):cs.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&o){if(o.isEqual(Kn.min()))throw new Nt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cs.updateTime(o)}return cs.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class rd{constructor(n,o,c,f,_){this.asyncQueue=n,this.datastore=o,this.options=c,this.updateFunction=f,this.deferred=_,this.Bc=c.maxAttempts,this.qo=new xg(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var n=this;this.qo.No((0,I.Z)(function*(){const o=new Hg(n.datastore),c=n.qc(o);c&&c.then(f=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(f)}).catch(_=>{n.Uc(_)}))}).catch(f=>{n.Uc(f)})}))}qc(n){try{const o=this.updateFunction(n);return!Ao(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Uc(n){this.Bc>0&&this.Kc(n)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(n)}Kc(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||"already-exists"===o||!ay(o)}return!1}}class Yl{constructor(n,o,c,f){var _=this;this.authCredentials=n,this.appCheckCredentials=o,this.asyncQueue=c,this.databaseInfo=f,this.user=Yn.UNAUTHENTICATED,this.clientId=Ns.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var w=(0,I.Z)(function*(N){Ot("FirestoreClient","Received user=",N.uid),yield _.authCredentialListener(N),_.user=N});return function(N){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(c,w=>(Ot("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var n=this;return(0,I.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),o.resolve()}catch(c){const f=za(c,"Failed to shutdown persistence");o.reject(f)}})),o.promise}}function id(l,n){return $g.apply(this,arguments)}function $g(){return $g=(0,I.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const o=yield l.getConfiguration();yield n.initialize(o);let c=o.initialUser;l.setCredentialChangeListener(function(){var f=(0,I.Z)(function*(_){c.isEqual(_)||(yield _s(n.localStore,_),c=_)});return function(_){return f.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),$g.apply(this,arguments)}function Fd(l,n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,I.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const o=yield Gg(l);Ot("FirestoreClient","Initializing OnlineComponentProvider");const c=yield l.getConfiguration();yield n.initialize(o,c),l.setCredentialChangeListener(f=>vp(n.remoteStore,f)),l.setAppCheckTokenChangeListener((f,_)=>vp(n.remoteStore,_)),l._onlineComponents=n}),Sp.apply(this,arguments)}function zg(l){return"FirebaseError"===l.name?l.code===st.FAILED_PRECONDITION||l.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Gg(l){return qg.apply(this,arguments)}function qg(){return qg=(0,I.Z)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield id(l,l._uninitializedComponentsProvider._offline)}catch(n){const o=n;if(!zg(o))throw o;Li("Error using user provided cache. Falling back to memory cache: "+o),yield id(l,new Ap)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield id(l,new Ap);return l._offlineComponents}),qg.apply(this,arguments)}function h_(l){return kf.apply(this,arguments)}function kf(){return kf=(0,I.Z)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield Fd(l,l._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield Fd(l,new Rh))),l._onlineComponents}),kf.apply(this,arguments)}function f_(l){return Gg(l).then(n=>n.persistence)}function Wg(l){return Gg(l).then(n=>n.localStore)}function Ky(l){return h_(l).then(n=>n.remoteStore)}function Kg(l){return h_(l).then(n=>n.syncEngine)}function xp(l){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,I.Z)(function*(l){const n=yield h_(l),o=n.eventManager;return o.onListen=Ip.bind(null,n.syncEngine),o.onUnlisten=sE.bind(null,n.syncEngine),o}),Zg.apply(this,arguments)}function Mo(l,n,o={}){const c=new Zi;return l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(f,_,w,N,H){const K=new Bs({next:Ie=>{_.enqueueAndForget(()=>Af(f,oe));const et=Ie.docs.has(w);!et&&Ie.fromCache?H.reject(new Nt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Ie.fromCache&&N&&"server"===N.source?H.reject(new Nt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Ie)},error:Ie=>H.reject(Ie)}),oe=new kg(ks(w.path),K,{includeMetadataChanges:!0,Ku:!0});return Ql(f,oe)}(yield xp(l),l.asyncQueue,n,o,c)})),c.promise}function Qy(l,n,o={}){const c=new Zi;return l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(f,_,w,N,H){const K=new Bs({next:Ie=>{_.enqueueAndForget(()=>Af(f,oe)),Ie.fromCache&&"server"===N.source?H.reject(new Nt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Ie)},error:Ie=>H.reject(Ie)}),oe=new kg(w,K,{includeMetadataChanges:!0,Ku:!0});return Ql(f,oe)}(yield xp(l),l.asyncQueue,n,o,c)})),c.promise}function _E(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const Yy=new Map;function Lf(l,n,o){if(!o)throw new Nt(st.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function Ph(l,n,o,c){if(!0===n&&!0===c)throw new Nt(st.INVALID_ARGUMENT,`${l} and ${o} cannot be used together.`)}function Mh(l){if(!dn.isDocumentKey(l))throw new Nt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function od(l){if(dn.isDocumentKey(l))throw new Nt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Oh(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(o=l).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof l?"a function":gn()}function yi(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new Nt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Oh(l);throw new Nt(st.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return l}function g_(l,n){if(n<=0)throw new Nt(st.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class m_{constructor(n){var o,c;if(void 0===n.host){if(void 0!==n.ssl)throw new Nt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.cache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Nt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}Ph("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_E(null!==(c=n.experimentalLongPollingOptions)&&void 0!==c?c:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Nt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Nt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Nt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Pp{constructor(n,o,c,f){this._authCredentials=n,this._appCheckCredentials=o,this._databaseId=c,this._app=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Nt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(n),void 0!==n.credentials&&(this._authCredentials=function(o){if(!o)return new fd;switch(o.type){case"firstParty":return new su(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Nt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Yy.get(n);o&&(Ot("ComponentProvider","Removing Datastore"),Yy.delete(n),o.terminate())}(this),Promise.resolve()}}function Jl(l,n,o,c={}){var f;const _=(l=yi(l,Pp))._getSettings(),w=`${n}:${o}`;if("firestore.googleapis.com"!==_.host&&_.host!==w&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},_),{host:w,ssl:!1})),c.mockUserToken){let N,H;if("string"==typeof c.mockUserToken)N=c.mockUserToken,H=Yn.MOCK_USER;else{N=(0,m.Sg)(c.mockUserToken,null===(f=l._app)||void 0===f?void 0:f.options.projectId);const K=c.mockUserToken.sub||c.mockUserToken.user_id;if(!K)throw new Nt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");H=new Yn(K)}l._authCredentials=new iu(new Fi(N,H))}}class Ws{constructor(n,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Ws(this.firestore,n,this._key)}}class ba{constructor(n,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=n}withConverter(n){return new ba(this.firestore,n,this._query)}}class Xl extends ba{constructor(n,o,c){super(n,o,ks(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Ws(this.firestore,null,new dn(n))}withConverter(n){return new Xl(this.firestore,n,this._path)}}function __(l,n,...o){if(l=(0,m.m9)(l),Lf("collection","path",n),l instanceof Pp){const c=An.fromString(n,...o);return od(c),new Xl(l,null,c)}{if(!(l instanceof Ws||l instanceof Xl))throw new Nt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(An.fromString(n,...o));return od(c),new Xl(l.firestore,null,c)}}function Mp(l,n){if(l=yi(l,Pp),Lf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Nt(st.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ba(l,null,(o=n,new Dl(An.emptyPath(),o)));var o}function Vd(l,n,...o){if(l=(0,m.m9)(l),1===arguments.length&&(n=Ns.A()),Lf("doc","path",n),l instanceof Pp){const c=An.fromString(n,...o);return Mh(c),new Ws(l,null,new dn(c))}{if(!(l instanceof Ws||l instanceof Xl))throw new Nt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=l._path.child(An.fromString(n,...o));return Mh(c),new Ws(l.firestore,l instanceof Xl?l.converter:null,new dn(c))}}function y_(l,n){return l=(0,m.m9)(l),n=(0,m.m9)(n),(l instanceof Ws||l instanceof Xl)&&(n instanceof Ws||n instanceof Xl)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Op(l,n){return l=(0,m.m9)(l),n=(0,m.m9)(n),l instanceof ba&&n instanceof ba&&l.firestore===n.firestore&&Ne(l._query,n._query)&&l.converter===n.converter}class x0{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xg(this,"async_queue_retry"),this.Xc=()=>{const o=Ym();o&&Ot("AsyncQueue","Visibility state changed to "+o.visibilityState),this.qo.Mo()};const n=Ym();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Zc(),this.ta(n)}enterRestrictedMode(n){if(!this.jc){this.jc=!0,this.Jc=n||!1;const o=Ym();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Xc)}}enqueue(n){if(this.Zc(),this.jc)return new Promise(()=>{});const o=new Zi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Qc.push(n),this.ea()))}ea(){var n=this;return(0,I.Z)(function*(){if(0!==n.Qc.length){try{yield n.Qc[0](),n.Qc.shift(),n.qo.reset()}catch(o){if(!ka(o))throw o;Ot("AsyncQueue","Operation failed with retryable error: "+o)}n.Qc.length>0&&n.qo.No(()=>n.ea())}})()}ta(n){const o=this.Gc.then(()=>(this.Hc=!0,n().catch(c=>{throw this.Wc=c,this.Hc=!1,wi("INTERNAL UNHANDLED ERROR: ",function(_){let w=_.message||"";return _.stack&&(w=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),w}(c)),c}).then(c=>(this.Hc=!1,c))));return this.Gc=o,o}enqueueAfterDelay(n,o,c){this.Zc(),this.Yc.indexOf(n)>-1&&(o=0);const f=Fy.createAndSchedule(this,n,o,c,_=>this.na(_));return this.zc.push(f),f}Zc(){this.Wc&&gn()}verifyOperationInProgress(){}sa(){var n=this;return(0,I.Z)(function*(){let o;do{o=n.Gc,yield o}while(o!==n.Gc)})()}ia(n){for(const o of this.zc)if(o.timerId===n)return!0;return!1}ra(n){return this.sa().then(()=>{this.zc.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this.zc)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.sa()})}oa(n){this.Yc.push(n)}na(n){const o=this.zc.indexOf(n);this.zc.splice(o,1)}}function v_(l){return function(n,o){if("object"!=typeof n||null===n)return!1;const c=n;for(const f of["next","error","complete"])if(f in c&&"function"==typeof c[f])return!0;return!1}(l)}class yE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,c){this._progressObserver={next:n,error:o,complete:c}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}const Np=-1;class Bi extends Pp{constructor(n,o,c,f){super(n,o,c,f),this.type="firestore",this._queue=new x0,this._persistenceKey=f?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qg(this),this._firestoreClient.terminate()}}function ad(l,n){const o="object"==typeof l?l:(0,te.getApp)(),c="string"==typeof l?l:n||"(default)",f=(0,te._getProvider)(o,"firestore").getImmediate({identifier:c});if(!f._initialized){const _=(0,m.P0)("firestore");_&&Jl(f,..._)}return f}function _o(l){return l._firestoreClient||Qg(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Qg(l){var n,o,c;const f=l._freezeSettings(),_=(N=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new jc(l._databaseId,N,l._persistenceKey,(K=f).host,K.ssl,K.experimentalForceLongPolling,K.experimentalAutoDetectLongPolling,_E(K.experimentalLongPollingOptions),K.useFetchStreams));var N,K;l._firestoreClient=new Yl(l._authCredentials,l._appCheckCredentials,l._queue,_),null!==(o=f.cache)&&void 0!==o&&o._offlineComponentProvider&&null!==(c=f.cache)&&void 0!==c&&c._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:f.cache.kind,_offline:f.cache._offlineComponentProvider,_online:f.cache._onlineComponentProvider})}function Lw(l,n){Bd(l=yi(l,Bi));const o=_o(l);if(o._uninitializedComponentsProvider)throw new Nt(st.FAILED_PRECONDITION,"SDK cache is already specified.");Li("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=l._freezeSettings(),f=new Rh;return Yg(o,f,new Vr(f,c.cacheSizeBytes,n?.forceOwnership))}function vE(l){Bd(l=yi(l,Bi));const n=_o(l);if(n._uninitializedComponentsProvider)throw new Nt(st.FAILED_PRECONDITION,"SDK cache is already specified.");Li("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=l._freezeSettings(),c=new Rh;return Yg(n,c,new xh(c,o.cacheSizeBytes))}function Yg(l,n,o){const c=new Zi;return l.asyncQueue.enqueue((0,I.Z)(function*(){try{yield id(l,o),yield Fd(l,n),c.resolve()}catch(f){const _=f;if(!zg(_))throw _;Li("Error enabling indexeddb cache. Falling back to memory cache: "+_),c.reject(_)}})).then(()=>c.promise)}function EE(l){if(l._initialized&&!l._terminated)throw new Nt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Zi;return l._queue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{yield(o=(0,I.Z)(function*(c){if(!no.D())return Promise.resolve();const f=c+"main";yield no.delete(f)}),function(c){return o.apply(this,arguments)})(Sl(l._databaseId,l._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}function E_(l){return function(n){const o=new Zi;return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function nd(l,n){return a_.apply(this,arguments)}(yield Kg(n),o)})),o.promise}(_o(l=yi(l,Bi)))}function Jy(l){return function gE(l){return l.asyncQueue.enqueue((0,I.Z)(function*(){const n=yield f_(l),o=yield Ky(l);return n.setNetworkEnabled(!0),function(c){const f=un(c);return f.vu.delete(0),Gi(f)}(o)}))}(_o(l=yi(l,Bi)))}function wE(l){return function Nw(l){return l.asyncQueue.enqueue((0,I.Z)(function*(){const n=yield f_(l),o=yield Ky(l);return n.setNetworkEnabled(!1),(c=(0,I.Z)(function*(f){const _=un(f);_.vu.add(0),yield Od(_),_.bu.set("Offline")}),function(f){return c.apply(this,arguments)})(o);var c}))}(_o(l=yi(l,Bi)))}function IE(l,n){const o=_o(l=yi(l,Bi)),c=new yE;return function p_(l,n,o,c){const f=function(_,w){let N;return N="string"==typeof _?sf().encode(_):_,H=function(H,K){if(H instanceof Uint8Array)return Nf(H,K);if(H instanceof ArrayBuffer)return Nf(new Uint8Array(H),K);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Wy(H,w);var H}(o,$o(n));l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){!function pE(l,n,o){const c=un(l);var f;(f=(0,I.Z)(function*(_,w,N){try{const H=yield w.getMetadata();if(yield function(et,Dt){const Qt=un(et),Sn=So(Dt.createTime);return Qt.persistence.runTransaction("hasNewerBundle","readonly",Mn=>Qt.qs.getBundleMetadata(Mn,Dt.id)).then(Mn=>!!Mn&&Mn.createTime.compareTo(Sn)>=0)}(_.localStore,H))return yield w.close(),N._completeWith({taskState:"Success",documentsLoaded:(et=H).totalDocuments,bytesLoaded:et.totalBytes,totalDocuments:et.totalDocuments,totalBytes:et.totalBytes}),Promise.resolve(new Set);N._updateProgress(nE(H));const K=new tE(H,_.localStore,w.serializer);let oe=yield w.bc();for(;oe;){const et=yield K.zu(oe);et&&N._updateProgress(et),oe=yield w.bc()}const Ie=yield K.complete();return yield Ol(_,Ie.Ju,void 0),yield function(et,Dt){const Qt=un(et);return Qt.persistence.runTransaction("Save bundle","readwrite",Sn=>Qt.qs.saveBundleMetadata(Sn,Dt))}(_.localStore,H),N._completeWith(Ie.progress),Promise.resolve(Ie.Hu)}catch(H){return Li("SyncEngine",`Loading bundle failed with ${H}`),N._failWith(H),Promise.resolve(new Set)}var et}),function(_,w,N){return f.apply(this,arguments)})(c,n,o).then(f=>{c.sharedClientState.notifyBundleLoaded(f)})}(yield Kg(l),f,c)}))}(o,l._databaseId,n,c),c}function I_(l,n){return function sd(l,n){return l.asyncQueue.enqueue((0,I.Z)(function*(){return function(o,c){const f=un(o);return f.persistence.runTransaction("Get named query","readonly",_=>f.qs.getNamedQuery(_,c))}(yield Wg(l),n)}))}(_o(l=yi(l,Bi)),n).then(o=>o?new ba(l,null,o.query):null)}function Bd(l){if(l._initialized||l._terminated)throw new Nt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Nl(Ds.fromBase64String(n))}catch(o){throw new Nt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new Nl(Ds.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ec{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new Nt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Nh{constructor(n){this._methodName=n}}class T_{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new Nt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new Nt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return er(this._lat,n._lat)||er(this._long,n._long)}}const Ou=/^__.*__$/;class Xg{constructor(n,o,c){this.data=n,this.fieldMask=o,this.fieldTransforms=c}toMutation(n,o){return null!==this.fieldMask?new Su(n,this.data,this.fieldMask,o,this.fieldTransforms):new cu(n,this.data,o,this.fieldTransforms)}}class em{constructor(n,o,c){this.data=n,this.fieldMask=o,this.fieldTransforms=c}toMutation(n,o){return new Su(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function tm(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class b_{constructor(n,o,c,f,_,w){this.settings=n,this.databaseId=o,this.serializer=c,this.ignoreUndefinedProperties=f,void 0===_&&this.ua(),this.fieldTransforms=_||[],this.fieldMask=w||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(n){return new b_(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(n){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(n),f=this.aa({path:c,la:!1});return f.fa(n),f}da(n){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(n),f=this.aa({path:c,la:!1});return f.ua(),f}wa(n){return this.aa({path:void 0,la:!0})}_a(n){return Vf(n,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}ua(){if(this.path)for(let n=0;n<this.path.length;n++)this.fa(this.path.get(n))}fa(n){if(0===n.length)throw this._a("Document fields must not be empty");if(tm(this.ca)&&Ou.test(n))throw this._a('Document fields cannot begin and end with "__"')}}class kh{constructor(n,o,c){this.databaseId=n,this.ignoreUndefinedProperties=o,this.serializer=c||$o(n)}ya(n,o,c,f=!1){return new b_({ca:n,methodName:o,ga:c,path:tn.emptyPath(),la:!1,ma:f},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tc(l){const n=l._freezeSettings(),o=$o(l._databaseId);return new kh(l._databaseId,!!n.ignoreUndefinedProperties,o)}function nm(l,n,o,c,f,_={}){const w=l.ya(_.merge||_.mergeFields?2:0,n,o,f);CE("Data must be an object, but it was:",w,c);const N=Fw(c,w);let H,K;if(_.merge)H=new ya(w.fieldMask),K=w.fieldTransforms;else if(_.mergeFields){const oe=[];for(const Ie of _.mergeFields){const et=Ff(n,Ie,o);if(!w.contains(et))throw new Nt(st.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);Hd(oe,et)||oe.push(et)}H=new ya(oe),K=w.fieldTransforms.filter(Ie=>H.covers(Ie.field))}else H=null,K=w.fieldTransforms;return new Xg(new ui(N),H,K)}class xc extends Nh{_toFieldTransform(n){if(2!==n.ca)throw n._a(1===n.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof xc}}function TE(l,n,o){return new b_({ca:3,ga:n.settings.ga,methodName:l._methodName,la:o},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Lh extends Nh{_toFieldTransform(n){return new ih(n.path,new Kc)}isEqual(n){return n instanceof Lh}}class ev extends Nh{constructor(n,o){super(n),this.pa=o}_toFieldTransform(n){const o=TE(this,n,!0),c=this.pa.map(_=>Fh(_,o)),f=new Zc(c);return new ih(n.path,f)}isEqual(n){return this===n}}class il extends Nh{constructor(n,o){super(n),this.pa=o}_toFieldTransform(n){const o=TE(this,n,!0),c=this.pa.map(_=>Fh(_,o)),f=new nh(c);return new ih(n.path,f)}isEqual(n){return this===n}}class bE extends Nh{constructor(n,o){super(n),this.Ia=o}_toFieldTransform(n){const o=new vd(n.serializer,Nv(n.serializer,this.Ia));return new ih(n.path,o)}isEqual(n){return this===n}}function rm(l,n,o,c){const f=l.ya(1,n,o);CE("Data must be an object, but it was:",f,c);const _=[],w=ui.empty();Ku(c,(H,K)=>{const oe=C_(n,H,o);K=(0,m.m9)(K);const Ie=f.da(oe);if(K instanceof xc)_.push(oe);else{const et=Fh(K,Ie);null!=et&&(_.push(oe),w.set(oe,et))}});const N=new ya(_);return new em(w,N,f.fieldTransforms)}function kl(l,n,o,c,f,_){const w=l.ya(1,n,o),N=[Ff(n,c,o)],H=[f];if(_.length%2!=0)throw new Nt(st.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<_.length;et+=2)N.push(Ff(n,_[et])),H.push(_[et+1]);const K=[],oe=ui.empty();for(let et=N.length-1;et>=0;--et)if(!Hd(K,N[et])){const Dt=N[et];let Qt=H[et];Qt=(0,m.m9)(Qt);const Sn=w.da(Dt);if(Qt instanceof xc)K.push(Dt);else{const Mn=Fh(Qt,Sn);null!=Mn&&(K.push(Dt),oe.set(Dt,Mn))}}const Ie=new ya(K);return new em(oe,Ie,w.fieldTransforms)}function tv(l,n,o,c=!1){return Fh(o,l.ya(c?4:3,n))}function Fh(l,n){if(Ks(l=(0,m.m9)(l)))return CE("Unsupported field value:",n,l),Fw(l,n);if(l instanceof Nh)return function(o,c){if(!tm(c.ca))throw c._a(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c._a(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.la&&4!==n.ca)throw n._a("Nested arrays are not supported");return function(o,c){const f=[];let _=0;for(const w of o){let N=Fh(w,c.wa(_));null==N&&(N={nullValue:"NULL_VALUE"}),f.push(N),_++}return{arrayValue:{values:f}}}(l,n)}return function(o,c){if(null===(o=(0,m.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Nv(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=zi.fromDate(o);return{timestampValue:Ea(c.serializer,f)}}if(o instanceof zi){const f=new zi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ea(c.serializer,f)}}if(o instanceof T_)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Nl)return{bytesValue:hy(c.serializer,o._byteString)};if(o instanceof Ws){const f=c.databaseId,_=o.firestore._databaseId;if(!_.isEqual(f))throw c._a(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:gg(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c._a(`Unsupported field value: ${Oh(o)}`)}(l,n)}function Fw(l,n){const o={};return _d(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ku(l,(c,f)=>{const _=Fh(f,n.ha(c));null!=_&&(o[c]=_)}),{mapValue:{fields:o}}}function Ks(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof zi||l instanceof T_||l instanceof Nl||l instanceof Ws||l instanceof Nh)}function CE(l,n,o){if(!Ks(o)||"object"!=typeof(c=o)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Oh(o);throw n._a("an object"===c?l+" a custom object":l+" "+c)}var c}function Ff(l,n,o){if((n=(0,m.m9)(n))instanceof ec)return n._internalPath;if("string"==typeof n)return C_(l,n);throw Vf("Field path arguments must be of type string or ",l,!1,void 0,o)}const DE=new RegExp("[~\\*/\\[\\]]");function C_(l,n,o){if(n.search(DE)>=0)throw Vf(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,o);try{return new ec(...n.split("."))._internalPath}catch{throw Vf(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,o)}}function Vf(l,n,o,c,f){const _=c&&!c.isEmpty(),w=void 0!==f;let N=`Function ${n}() called with invalid data`;o&&(N+=" (via `toFirestore()`)"),N+=". ";let H="";return(_||w)&&(H+=" (found",_&&(H+=` in field ${c}`),w&&(H+=` in document ${f}`),H+=")"),new Nt(st.INVALID_ARGUMENT,N+l+H)}function Hd(l,n){return l.some(o=>o.isEqual(n))}class ud{constructor(n,o,c,f,_){this._firestore=n,this._userDataWriter=o,this._key=c,this._document=f,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new Ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new AE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(kp("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class AE extends ud{data(){return super.data()}}function kp(l,n){return"string"==typeof n?C_(l,n):n instanceof ec?n._internalPath:n._delegate._internalPath}function nv(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Nt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D_{}class Rc extends D_{}function SE(l,n,...o){let c=[];n instanceof D_&&c.push(n),c=c.concat(o),function(f){const _=f.filter(N=>N instanceof Uf).length,w=f.filter(N=>N instanceof Vh).length;if(_>1||_>0&&w>0)throw new Nt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const f of c)l=f._apply(l);return l}class Vh extends Rc{constructor(n,o,c){super(),this._field=n,this._op=o,this._value=c,this.type="where"}static _create(n,o,c){return new Vh(n,o,c)}_apply(n){const o=this._parse(n);return sv(n._query,o),new ba(n.firestore,n.converter,Y(n._query,o))}_parse(n){const o=tc(n.firestore);return function(f,_,w,N,H,K,oe){let Ie;if(H.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new Nt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){xE(oe,K);const et=[];for(const Dt of oe)et.push(P_(N,f,Dt));Ie={arrayValue:{values:et}}}else Ie=P_(N,f,oe)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||xE(oe,K),Ie=tv(w,"where",oe,"in"===K||"not-in"===K);return ue.create(H,K,Ie)}(n._query,0,o,n.firestore._databaseId,this._field,this._op,this._value)}}function Ca(l,n,o){const c=n,f=kp("where",l);return Vh._create(f,c,o)}class Uf extends D_{constructor(n,o){super(),this.type=n,this._queryConstraints=o}static _create(n,o){return new Uf(n,o)}_parse(n){const o=this._queryConstraints.map(c=>c._parse(n)).filter(c=>c.getFilters().length>0);return 1===o.length?o[0]:Ce.create(o,this._getOperator())}_apply(n){const o=this._parse(n);return 0===o.getFilters().length?n:(function(c,f){let _=c;const w=f.getFlattenedFilters();for(const N of w)sv(_,N),_=Y(_,N)}(n._query,o),new ba(n.firestore,n.converter,Y(n._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lp extends Rc{constructor(n,o){super(),this._field=n,this._direction=o,this.type="orderBy"}static _create(n,o){return new Lp(n,o)}_apply(n){const o=function(c,f,_){if(null!==c.startAt)throw new Nt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Nt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new P(f,_);return function(N,H){if(null===yc(N)){const K=x(N);null!==K&&RE(0,K,H.field)}}(c,w),w}(n._query,this._field,this._direction);return new ba(n.firestore,n.converter,function(c,f){const _=c.explicitOrderBy.concat([f]);return new Dl(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n._query,o))}}function rv(l,n="asc"){const o=n,c=kp("orderBy",l);return Lp._create(c,o)}class A_ extends Rc{constructor(n,o,c){super(),this.type=n,this._limit=o,this._limitType=c}static _create(n,o,c){return new A_(n,o,c)}_apply(n){return new ba(n.firestore,n.converter,ae(n._query,this._limit,this._limitType))}}function Fp(l){return g_("limit",l),A_._create("limit",l,"F")}function S_(l){return g_("limitToLast",l),A_._create("limitToLast",l,"L")}class Bf extends Rc{constructor(n,o,c){super(),this.type=n,this._docOrFields=o,this._inclusive=c}static _create(n,o,c){return new Bf(n,o,c)}_apply(n){const o=R_(n,this.type,this._docOrFields,this._inclusive);return new ba(n.firestore,n.converter,(f=o,new Dl((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)));var c,f}}function iv(...l){return Bf._create("startAt",l,!0)}function x_(...l){return Bf._create("startAfter",l,!1)}class Vp extends Rc{constructor(n,o,c){super(),this.type=n,this._docOrFields=o,this._inclusive=c}static _create(n,o,c){return new Vp(n,o,c)}_apply(n){const o=R_(n,this.type,this._docOrFields,this._inclusive);return new ba(n.firestore,n.converter,(f=o,new Dl((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)));var c,f}}function im(...l){return Vp._create("endBefore",l,!1)}function Uh(...l){return Vp._create("endAt",l,!0)}function R_(l,n,o,c){if(o[0]=(0,m.m9)(o[0]),o[0]instanceof ud)return function(f,_,w,N,H){if(!N)throw new Nt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const K=[];for(const oe of b(f))if(oe.field.isKeyField())K.push(Bl(_,N.key));else{const Ie=N.data.field(oe.field);if(Yu(Ie))throw new Nt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const et=oe.field.canonicalString();throw new Nt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}K.push(Ie)}return new Xu(K,H)}(l._query,l.firestore._databaseId,n,o[0]._document,c);{const f=tc(l.firestore);return function(_,w,N,H,K,oe){const Ie=_.explicitOrderBy;if(K.length>Ie.length)throw new Nt(st.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let Dt=0;Dt<K.length;Dt++){const Qt=K[Dt];if(Ie[Dt].field.isKeyField()){if("string"!=typeof Qt)throw new Nt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Qt}`);if(!E(_)&&-1!==Qt.indexOf("/"))throw new Nt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Qt}' contains a slash.`);const Sn=_.path.child(An.fromString(Qt));if(!dn.isDocumentKey(Sn))throw new Nt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Sn}' is not because it contains an odd number of segments.`);const Mn=new dn(Sn);et.push(Bl(w,Mn))}else{const Sn=tv(N,H,Qt);et.push(Sn)}}return new Xu(et,oe)}(l._query,l.firestore._databaseId,f,n,o,c)}}function P_(l,n,o){if("string"==typeof(o=(0,m.m9)(o))){if(""===o)throw new Nt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E(n)&&-1!==o.indexOf("/"))throw new Nt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const c=n.path.child(An.fromString(o));if(!dn.isDocumentKey(c))throw new Nt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Bl(l,new dn(c))}if(o instanceof Ws)return Bl(l,o._key);throw new Nt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(o)}.`)}function xE(l,n){if(!Array.isArray(l)||0===l.length)throw new Nt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function sv(l,n){if(n.isInequality()){const c=x(l),f=n.field;if(null!==c&&!c.isEqual(f))throw new Nt(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${f.toString()}'`);const _=yc(l);null!==_&&RE(0,f,_)}const o=function(c,f){for(const _ of c)for(const w of _.getFlattenedFilters())if(f.indexOf(w.op)>=0)return w.op;return null}(l.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==o)throw new Nt(st.INVALID_ARGUMENT,o===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${o.toString()}' filters.`)}function RE(l,n,o){if(!o.isEqual(n))throw new Nt(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class M_{convertValue(n,o="none"){switch(oo(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Ui(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(Cu(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw gn()}}convertObject(n,o){return this.convertObjectMap(n.fields,o)}convertObjectMap(n,o="none"){const c={};return Ku(n,(f,_)=>{c[f]=this.convertValue(_,o)}),c}convertGeoPoint(n){return new T_(Ui(n.latitude),Ui(n.longitude))}convertArray(n,o){return(n.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(n,o){switch(o){case"previous":const c=ps(n);return null==c?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(gs(n));default:return null}}convertTimestamp(n){const o=Qu(n);return new zi(o.seconds,o.nanos)}convertDocumentKey(n,o){const c=An.fromString(n);xn(Bv(c));const f=new La(c.get(1),c.get(3)),_=new dn(c.popFirst(5));return f.isEqual(o)||wi(`Document ${_} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),_}}function Up(l,n,o){let c;return c=l?o&&(o.merge||o.mergeFields)?l.toFirestore(n,o):l.toFirestore(n):n,c}class PE extends M_{constructor(n){super(),this.firestore=n}convertBytes(n){return new Nl(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Ws(this.firestore,null,o)}}class nc{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class $d extends ud{constructor(n,o,c,f,_,w){super(n,o,c,f,w),this._firestore=n,this._firestoreImpl=n,this.metadata=_}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const c=this._document.data.field(kp("DocumentSnapshot.get",n));if(null!==c)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class Bh extends $d{data(n={}){return super.data(n)}}class jh{constructor(n,o,c,f){this._firestore=n,this._userDataWriter=o,this._snapshot=f,this.metadata=new nc(f.hasPendingWrites,f.fromCache),this.query=c}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(c=>{n.call(o,new Bh(this._firestore,this._userDataWriter,c.key,c,new nc(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Nt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(c,f){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(w=>({type:"added",doc:new Bh(c._firestore,c._userDataWriter,w.doc.key,w.doc,new nc(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(w=>f||3!==w.type).map(w=>{const N=new Bh(c._firestore,c._userDataWriter,w.doc.key,w.doc,new nc(c._snapshot.mutatedKeys.has(w.doc.key),c._snapshot.fromCache),c.query.converter);let H=-1,K=-1;return 0!==w.type&&(H=_.indexOf(w.doc.key),_=_.delete(w.doc.key)),1!==w.type&&(_=_.add(w.doc),K=_.indexOf(w.doc.key)),{type:ME(w.type),doc:N,oldIndex:H,newIndex:K}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function ME(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function uv(l,n){return l instanceof $d&&n instanceof $d?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof jh&&n instanceof jh&&l._firestore===n._firestore&&Op(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}function OE(l){l=yi(l,Ws);const n=yi(l.firestore,Bi);return Mo(_o(n),l._key).then(o=>$h(n,l,o))}class ld extends M_{constructor(n){super(),this.firestore=n}convertBytes(n){return new Nl(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Ws(this.firestore,null,o)}}function M0(l){l=yi(l,Ws);const n=yi(l.firestore,Bi),o=_o(n),c=new ld(n);return function kw(l,n){const o=new Zi;return l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(c=(0,I.Z)(function*(f,_,w){try{const N=yield function(H,K){const oe=un(H);return oe.persistence.runTransaction("read document","readonly",Ie=>oe.localDocuments.getDocument(Ie,K))}(f,_);N.isFoundDocument()?w.resolve(N):N.isNoDocument()?w.resolve(null):w.reject(new Nt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const H=za(N,`Failed to get document '${_} from cache`);w.reject(H)}}),function(f,_,w){return c.apply(this,arguments)})(yield Wg(l),n,o);var c})),o.promise}(o,l._key).then(f=>new $d(n,c,l._key,f,new nc(null!==f&&f.hasLocalMutations,!0),l.converter))}function O_(l){l=yi(l,Ws);const n=yi(l.firestore,Bi);return Mo(_o(n),l._key,{source:"server"}).then(o=>$h(n,l,o))}function lv(l){l=yi(l,ba);const n=yi(l.firestore,Bi),o=_o(n),c=new ld(n);return nv(l._query),Qy(o,l._query).then(f=>new jh(n,c,l,f))}function Pc(l){l=yi(l,ba);const n=yi(l.firestore,Bi),o=_o(n),c=new ld(n);return function Rp(l,n){const o=new Zi;return l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(c=(0,I.Z)(function*(f,_,w){try{const N=yield Wl(f,_,!0),H=new Vy(_,N.ir),K=H.sc(N.documents),oe=H.applyChanges(K,!1);w.resolve(oe.snapshot)}catch(N){const H=za(N,`Failed to execute query '${_} against cache`);w.reject(H)}}),function(f,_,w){return c.apply(this,arguments)})(yield Wg(l),n,o);var c})),o.promise}(o,l._query).then(f=>new jh(n,c,l,f))}function jf(l){l=yi(l,ba);const n=yi(l.firestore,Bi),o=_o(n),c=new ld(n);return Qy(o,l._query,{source:"server"}).then(f=>new jh(n,c,l,f))}function lo(l,n,o){l=yi(l,Ws);const c=yi(l.firestore,Bi),f=Up(l.converter,n,o);return rc(c,[nm(tc(c),"setDoc",l._key,f,null!==l.converter,o).toMutation(l._key,cs.none())])}function Mc(l,n,o,...c){l=yi(l,Ws);const f=yi(l.firestore,Bi),_=tc(f);let w;return w="string"==typeof(n=(0,m.m9)(n))||n instanceof ec?kl(_,"updateDoc",l._key,n,o,c):rm(_,"updateDoc",l._key,n),rc(f,[w.toMutation(l._key,cs.exists(!0))])}function Hf(l){return rc(yi(l.firestore,Bi),[new du(l._key,cs.none())])}function sl(l,n){const o=yi(l.firestore,Bi),c=Vd(l),f=Up(l.converter,n);return rc(o,[nm(tc(l.firestore),"addDoc",c._key,f,null!==l.converter,{}).toMutation(c._key,cs.exists(!1))]).then(()=>c)}function am(l,...n){var o,c,f;l=(0,m.m9)(l);let _={includeMetadataChanges:!1},w=0;"object"!=typeof n[w]||v_(n[w])||(_=n[w],w++);const N={includeMetadataChanges:_.includeMetadataChanges};if(v_(n[w])){const Ie=n[w];n[w]=null===(o=Ie.next)||void 0===o?void 0:o.bind(Ie),n[w+1]=null===(c=Ie.error)||void 0===c?void 0:c.bind(Ie),n[w+2]=null===(f=Ie.complete)||void 0===f?void 0:f.bind(Ie)}let H,K,oe;if(l instanceof Ws)K=yi(l.firestore,Bi),oe=ks(l._key.path),H={next:Ie=>{n[w]&&n[w]($h(K,l,Ie))},error:n[w+1],complete:n[w+2]};else{const Ie=yi(l,ba);K=yi(Ie.firestore,Bi),oe=Ie._query;const et=new ld(K);H={next:Dt=>{n[w]&&n[w](new jh(K,et,Ie,Dt))},error:n[w+1],complete:n[w+2]},nv(l._query)}return function(Ie,et,Dt,Qt){const Sn=new Bs(Qt),Mn=new kg(et,Sn,Dt);return Ie.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return Ql(yield xp(Ie),Mn)})),()=>{Sn.Dc(),Ie.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return Af(yield xp(Ie),Mn)}))}}(_o(K),oe,N,H)}function Hh(l,n){return function S0(l,n){const o=new Bs(n);return l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return c=yield xp(l),f=o,un(c).ku.add(f),void f.next();var c,f})),()=>{o.Dc(),l.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return c=yield xp(l),f=o,void un(c).ku.delete(f);var c,f}))}}(_o(l=yi(l,Bi)),v_(n)?n:{next:n})}function rc(l,n){return function(o,c){const f=new Zi;return o.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function o_(l,n,o){return By.apply(this,arguments)}(yield Kg(o),c,f)})),f.promise}(_o(l),n)}function $h(l,n,o){const c=o.docs.get(n._key),f=new ld(l);return new $d(l,f,n._key,c,new nc(o.hasPendingWrites,o.fromCache),n.converter)}const LE={maxAttempts:5};class cm{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=tc(n)}set(n,o,c){this._verifyNotCommitted();const f=Ga(n,this._firestore),_=Up(f.converter,o,c),w=nm(this._dataReader,"WriteBatch.set",f._key,_,null!==f.converter,c);return this._mutations.push(w.toMutation(f._key,cs.none())),this}update(n,o,c,...f){this._verifyNotCommitted();const _=Ga(n,this._firestore);let w;return w="string"==typeof(o=(0,m.m9)(o))||o instanceof ec?kl(this._dataReader,"WriteBatch.update",_._key,o,c,f):rm(this._dataReader,"WriteBatch.update",_._key,o),this._mutations.push(w.toMutation(_._key,cs.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=Ga(n,this._firestore);return this._mutations=this._mutations.concat(new du(o._key,cs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ga(l,n){if((l=(0,m.m9)(l)).firestore!==n)throw new Nt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class $w extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=tc(n)}get(n){const o=Ga(n,this._firestore),c=new PE(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return gn();const _=f[0];if(_.isFoundDocument())return new ud(this._firestore,c,_.key,_,o.converter);if(_.isNoDocument())return new ud(this._firestore,c,o._key,null,o.converter);throw gn()})}set(n,o,c){const f=Ga(n,this._firestore),_=Up(f.converter,o,c),w=nm(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,c);return this._transaction.set(f._key,w),this}update(n,o,c,...f){const _=Ga(n,this._firestore);let w;return w="string"==typeof(o=(0,m.m9)(o))||o instanceof ec?kl(this._dataReader,"Transaction.update",_._key,o,c,f):rm(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,w),this}delete(n){const o=Ga(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=Ga(n,this._firestore),c=new ld(this._firestore);return super.get(n).then(f=>new $d(this._firestore,c,o._key,f._document,new nc(!1,!1),o.converter))}}function zw(l,n,o){l=yi(l,Bi);const c=Object.assign(Object.assign({},LE),o);return function(f){if(f.maxAttempts<1)throw new Nt(st.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(f,_,w){const N=new Zi;return f.asyncQueue.enqueueAndForget((0,I.Z)(function*(){const H=yield function Zy(l){return h_(l).then(n=>n.datastore)}(f);new rd(f.asyncQueue,H,w,_,N).run()})),N.promise}(_o(l),f=>n(new $w(l,f)),c)}function zf(){return new xc("deleteField")}function Gd(){return new Lh("serverTimestamp")}function zh(...l){return new ev("arrayUnion",l)}function cv(...l){return new il("arrayRemove",l)}function Hp(l){return new bE("increment",l)}!function(l,n=!0){ei=te.SDK_VERSION,(0,te._registerComponent)(new J.wA("firestore",(o,{instanceIdentifier:c,options:f})=>{const _=o.getProvider("app").getImmediate(),w=new Bi(new $i(o.getProvider("auth-internal")),new Oa(o.getProvider("app-check-internal")),function(N,H){if(!Object.prototype.hasOwnProperty.apply(N.options,["projectId"]))throw new Nt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(N.options.projectId,H)}(_,c),_);return f=Object.assign({useFetchStreams:n},f),w._setSettings(f),w},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(pi,"3.13.0",l),(0,te.registerVersion)(pi,"3.13.0","esm2017")}()},9058:(Wt,ze,U)=>{U.d(ze,{$s:()=>_t,BH:()=>ut,G6:()=>Nr,L:()=>Ve,LL:()=>Mt,P0:()=>bt,Pz:()=>Xe,Sg:()=>St,UG:()=>ht,US:()=>fe,ZB:()=>Be,ZR:()=>Et,aH:()=>tt,b$:()=>In,eu:()=>Ke,hl:()=>qe,jU:()=>Pt,m9:()=>_r,ne:()=>kr,pd:()=>cn,r3:()=>Er,ru:()=>an,tV:()=>le,uI:()=>ye,vZ:()=>Br,w1:()=>bn,xO:()=>Wr,xb:()=>ci,z$:()=>vt,zI:()=>Ye,zd:()=>or});const _e=function(Te){const re=[];let q=0;for(let B=0;B<Te.length;B++){let $=Te.charCodeAt(B);$<128?re[q++]=$:$<2048?(re[q++]=$>>6|192,re[q++]=63&$|128):55296==(64512&$)&&B+1<Te.length&&56320==(64512&Te.charCodeAt(B+1))?($=65536+((1023&$)<<10)+(1023&Te.charCodeAt(++B)),re[q++]=$>>18|240,re[q++]=$>>12&63|128,re[q++]=$>>6&63|128,re[q++]=63&$|128):(re[q++]=$>>12|224,re[q++]=$>>6&63|128,re[q++]=63&$|128)}return re},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,re){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let $=0;$<Te.length;$+=3){const he=Te[$],$e=$+1<Te.length,wt=$e?Te[$+1]:0,on=$+2<Te.length,Xt=on?Te[$+2]:0;let Tr=(15&wt)<<2|Xt>>6,Qn=63&Xt;on||(Qn=64,$e||(Tr=64)),B.push(q[he>>2],q[(3&he)<<4|wt>>4],q[Tr],q[Qn])}return B.join("")},encodeString(Te,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Te):this.encodeByteArray(_e(Te),re)},decodeString(Te,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Te):function(Te){const re=[];let q=0,B=0;for(;q<Te.length;){const $=Te[q++];if($<128)re[B++]=String.fromCharCode($);else if($>191&&$<224){const he=Te[q++];re[B++]=String.fromCharCode((31&$)<<6|63&he)}else if($>239&&$<365){const on=((7&$)<<18|(63&Te[q++])<<12|(63&Te[q++])<<6|63&Te[q++])-65536;re[B++]=String.fromCharCode(55296+(on>>10)),re[B++]=String.fromCharCode(56320+(1023&on))}else{const he=Te[q++],$e=Te[q++];re[B++]=String.fromCharCode((15&$)<<12|(63&he)<<6|63&$e)}}return re.join("")}(this.decodeStringToByteArray(Te,re))},decodeStringToByteArray(Te,re){this.init_();const q=re?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let $=0;$<Te.length;){const he=q[Te.charAt($++)],wt=$<Te.length?q[Te.charAt($)]:0;++$;const Xt=$<Te.length?q[Te.charAt($)]:64;++$;const Hn=$<Te.length?q[Te.charAt($)]:64;if(++$,null==he||null==wt||null==Xt||null==Hn)throw new be;B.push(he<<2|wt>>4),64!==Xt&&(B.push(wt<<4&240|Xt>>2),64!==Hn&&B.push(Xt<<6&192|Hn))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(Te){return function(Te){const re=_e(Te);return fe.encodeByteArray(re,!0)}(Te).replace(/\./g,"")},le=function(Te){try{return fe.decodeString(Te,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Be(Te,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return re}for(const q in re)!re.hasOwnProperty(q)||!Ze(q)||(Te[q]=Be(Te[q],re[q]));return Te}function Ze(Te){return"__proto__"!==Te}const ke=()=>{try{return function Je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Te&&le(Te[1]);return re&&JSON.parse(re)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},bt=Te=>{const re=(Te=>{var re,q;return null===(q=null===(re=ke())||void 0===re?void 0:re.emulatorHosts)||void 0===q?void 0:q[Te]})(Te);if(!re)return;const q=re.lastIndexOf(":");if(q<=0||q+1===re.length)throw new Error(`Invalid host ${re} with no separate hostname and port!`);const B=parseInt(re.substring(q+1),10);return"["===re[0]?[re.substring(1,q-1),B]:[re.substring(0,q),B]},tt=()=>{var Te;return null===(Te=ke())||void 0===Te?void 0:Te.config},Xe=Te=>{var re;return null===(re=ke())||void 0===re?void 0:re[`_${Te}`]};class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,q)=>{this.resolve=re,this.reject=q})}wrapCallback(re){return(q,B)=>{q?this.reject(q):this.resolve(B),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(q):re(q,B))}}}function St(Te,re){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=re||"demo-project",$=Te.iat||0,he=Te.sub||Te.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:$,exp:$+3600,auth_time:$,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify($e)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function ht(){var Te;const re=null===(Te=ke())||void 0===Te?void 0:Te.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function an(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function In(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bn(){const Te=vt();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function Nr(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ke(){return new Promise((Te,re)=>{try{let q=!0;const B="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(B);$.onsuccess=()=>{$.result.close(),q||self.indexedDB.deleteDatabase(B),Te(!0)},$.onupgradeneeded=()=>{q=!1},$.onerror=()=>{var he;re((null===(he=$.error)||void 0===he?void 0:he.message)||"")}}catch(q){re(q)}})}function Ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Et extends Error{constructor(re,q,B){super(q),this.code=re,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(re,q,B){this.service=re,this.serviceName=q,this.errors=B}create(re,...q){const B=q[0]||{},$=`${this.service}/${re}`,he=this.errors[re],$e=he?function Yt(Te,re){return Te.replace(Tn,(q,B)=>{const $=re[B];return null!=$?String($):`<${B}?>`})}(he,B):"Error";return new Et($,`${this.serviceName}: ${$e} (${$}).`,B)}}const Tn=/\{\$([^}]+)}/g;function Er(Te,re){return Object.prototype.hasOwnProperty.call(Te,re)}function ci(Te){for(const re in Te)if(Object.prototype.hasOwnProperty.call(Te,re))return!1;return!0}function Br(Te,re){if(Te===re)return!0;const q=Object.keys(Te),B=Object.keys(re);for(const $ of q){if(!B.includes($))return!1;const he=Te[$],$e=re[$];if(Sr(he)&&Sr($e)){if(!Br(he,$e))return!1}else if(he!==$e)return!1}for(const $ of B)if(!q.includes($))return!1;return!0}function Sr(Te){return null!==Te&&"object"==typeof Te}function Wr(Te){const re=[];for(const[q,B]of Object.entries(Te))Array.isArray(B)?B.forEach($=>{re.push(encodeURIComponent(q)+"="+encodeURIComponent($))}):re.push(encodeURIComponent(q)+"="+encodeURIComponent(B));return re.length?"&"+re.join("&"):""}function or(Te){const re={};return Te.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[$,he]=B.split("=");re[decodeURIComponent($)]=decodeURIComponent(he)}}),re}function cn(Te){const re=Te.indexOf("?");if(!re)return"";const q=Te.indexOf("#",re);return Te.substring(re,q>0?q:void 0)}function kr(Te,re){const q=new Gr(Te,re);return q.subscribe.bind(q)}class Gr{constructor(re,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{re(this)}).catch(B=>{this.error(B)})}next(re){this.forEachObserver(q=>{q.next(re)})}error(re){this.forEachObserver(q=>{q.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,q,B){let $;if(void 0===re&&void 0===q&&void 0===B)throw new Error("Missing Observer.");$=function On(Te,re){if("object"!=typeof Te||null===Te)return!1;for(const q of re)if(q in Te&&"function"==typeof Te[q])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:q,complete:B},void 0===$.next&&($.next=wr),void 0===$.error&&($.error=wr),void 0===$.complete&&($.complete=wr);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),he}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,re)}sendOne(re,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{q(this.observers[re])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}const qn=1e3,it=2,Se=144e5,je=.5;function _t(Te,re=qn,q=it){const B=re*Math.pow(q,Te),$=Math.round(je*B*(Math.random()-.5)*2);return Math.min(Se,B+$)}function _r(Te){return Te&&Te._delegate?Te._delegate:Te}},5619:(Wt,ze,U)=>{U.d(ze,{X:()=>te});var I=U(8645);class te extends I.x{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const m=super._subscribe(_e);return!m.closed&&_e.next(this._value),m}getValue(){const{hasError:_e,thrownError:m,_value:fe}=this;if(_e)throw m;return this._throwIfClosed(),fe}next(_e){super.next(this._value=_e)}}},5592:(Wt,ze,U)=>{U.d(ze,{y:()=>me});var I=U(305),te=U(7394),J=U(4850),_e=U(8407),m=U(2653),fe=U(4674),be=U(1441);let me=(()=>{class Be{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const lt=new Be;return lt.source=this,lt.operator=Je,lt}subscribe(Je,lt,at){const Tt=function pe(Be){return Be&&Be instanceof I.Lv||function le(Be){return Be&&(0,fe.m)(Be.next)&&(0,fe.m)(Be.error)&&(0,fe.m)(Be.complete)}(Be)&&(0,te.Nn)(Be)}(Je)?Je:new I.Hp(Je,lt,at);return(0,be.x)(()=>{const{operator:ke,source:Oe}=this;Tt.add(ke?ke.call(Tt,Oe):Oe?this._subscribe(Tt):this._trySubscribe(Tt))}),Tt}_trySubscribe(Je){try{return this._subscribe(Je)}catch(lt){Je.error(lt)}}forEach(Je,lt){return new(lt=Ve(lt))((at,Tt)=>{const ke=new I.Hp({next:Oe=>{try{Je(Oe)}catch(bt){Tt(bt),ke.unsubscribe()}},error:Tt,complete:at});this.subscribe(ke)})}_subscribe(Je){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Je)}[J.L](){return this}pipe(...Je){return(0,_e.U)(Je)(this)}toPromise(Je){return new(Je=Ve(Je))((lt,at)=>{let Tt;this.subscribe(ke=>Tt=ke,ke=>at(ke),()=>lt(Tt))})}}return Be.create=Ze=>new Be(Ze),Be})();function Ve(Be){var Ze;return null!==(Ze=Be??m.config.Promise)&&void 0!==Ze?Ze:Promise}},8645:(Wt,ze,U)=>{U.d(ze,{x:()=>be});var I=U(5592),te=U(7394);const _e=(0,U(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=U(9039),fe=U(1441);let be=(()=>{class Ve extends I.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Be=new me(this,this);return Be.operator=pe,Be}_throwIfClosed(){if(this.closed)throw new _e}next(pe){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(pe)}})}error(pe){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Be}=this;for(;Be.length;)Be.shift().error(pe)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Be,isStopped:Ze,observers:Je}=this;return Be||Ze?te.Lc:(this.currentObservers=null,Je.push(pe),new te.w0(()=>{this.currentObservers=null,(0,m.P)(Je,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Be,thrownError:Ze,isStopped:Je}=this;Be?pe.error(Ze):Je&&pe.complete()}asObservable(){const pe=new I.y;return pe.source=this,pe}}return Ve.create=(le,pe)=>new me(le,pe),Ve})();class me extends be{constructor(le,pe){super(),this.destination=le,this.source=pe}next(le){var pe,Be;null===(Be=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Be||Be.call(pe,le)}error(le){var pe,Be;null===(Be=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Be||Be.call(pe,le)}complete(){var le,pe;null===(pe=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===pe||pe.call(le)}_subscribe(le){var pe,Be;return null!==(Be=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(le))&&void 0!==Be?Be:te.Lc}}},305:(Wt,ze,U)=>{U.d(ze,{Hp:()=>at,Lv:()=>Be});var I=U(4674),te=U(7394),J=U(2653),_e=U(3894),m=U(2420);const fe=Ve("C",void 0,void 0);function Ve(tt,Xe,ut){return{kind:tt,value:Xe,error:ut}}var le=U(7599),pe=U(1441);class Be extends te.w0{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,te.Nn)(Xe)&&Xe.add(this)):this.destination=bt}static create(Xe,ut,St){return new at(Xe,ut,St)}next(Xe){this.isStopped?Oe(function me(tt){return Ve("N",tt,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?Oe(function be(tt){return Ve("E",void 0,tt)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?Oe(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Je(tt,Xe){return Ze.call(tt,Xe)}class lt{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:ut}=this;if(ut.next)try{ut.next(Xe)}catch(St){Tt(St)}}error(Xe){const{partialObserver:ut}=this;if(ut.error)try{ut.error(Xe)}catch(St){Tt(St)}else Tt(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(ut){Tt(ut)}}}class at extends Be{constructor(Xe,ut,St){let vt;if(super(),(0,I.m)(Xe)||!Xe)vt={next:Xe??void 0,error:ut??void 0,complete:St??void 0};else{let ye;this&&J.config.useDeprecatedNextContext?(ye=Object.create(Xe),ye.unsubscribe=()=>this.unsubscribe(),vt={next:Xe.next&&Je(Xe.next,ye),error:Xe.error&&Je(Xe.error,ye),complete:Xe.complete&&Je(Xe.complete,ye)}):vt=Xe}this.destination=new lt(vt)}}function Tt(tt){J.config.useDeprecatedSynchronousErrorHandling?(0,pe.O)(tt):(0,_e.h)(tt)}function Oe(tt,Xe){const{onStoppedNotification:ut}=J.config;ut&&le.z.setTimeout(()=>ut(tt,Xe))}const bt={closed:!0,next:m.Z,error:function ke(tt){throw tt},complete:m.Z}},7394:(Wt,ze,U)=>{U.d(ze,{Lc:()=>fe,w0:()=>m,Nn:()=>be});var I=U(4674);const J=(0,U(2306).d)(Ve=>function(pe){Ve(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Be,Ze)=>`${Ze+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var _e=U(9039);class m{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Je of pe)Je.remove(this);else pe.remove(this);const{initialTeardown:Be}=this;if((0,I.m)(Be))try{Be()}catch(Je){le=Je instanceof J?Je.errors:[Je]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Je of Ze)try{me(Je)}catch(lt){le=le??[],lt instanceof J?le=[...le,...lt.errors]:le.push(lt)}}if(le)throw new J(le)}}add(le){var pe;if(le&&le!==this)if(this.closed)me(le);else{if(le instanceof m){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(le)}}_hasParent(le){const{_parentage:pe}=this;return pe===le||Array.isArray(pe)&&pe.includes(le)}_addParent(le){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(le),pe):pe?[pe,le]:le}_removeParent(le){const{_parentage:pe}=this;pe===le?this._parentage=null:Array.isArray(pe)&&(0,_e.P)(pe,le)}remove(le){const{_finalizers:pe}=this;pe&&(0,_e.P)(pe,le),le instanceof m&&le._removeParent(this)}}m.EMPTY=(()=>{const Ve=new m;return Ve.closed=!0,Ve})();const fe=m.EMPTY;function be(Ve){return Ve instanceof m||Ve&&"closed"in Ve&&(0,I.m)(Ve.remove)&&(0,I.m)(Ve.add)&&(0,I.m)(Ve.unsubscribe)}function me(Ve){(0,I.m)(Ve)?Ve():Ve.unsubscribe()}},2653:(Wt,ze,U)=>{U.d(ze,{config:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Wt,ze,U)=>{U.d(ze,{a:()=>le});var I=U(5592),te=U(7453),J=U(2459),_e=U(2737),m=U(7400),fe=U(9940),be=U(2714),me=U(8251),Ve=U(7103);function le(...Ze){const Je=(0,fe.yG)(Ze),lt=(0,fe.jO)(Ze),{args:at,keys:Tt}=(0,te.D)(Ze);if(0===at.length)return(0,J.D)([],Je);const ke=new I.y(function pe(Ze,Je,lt=_e.y){return at=>{Be(Je,()=>{const{length:Tt}=Ze,ke=new Array(Tt);let Oe=Tt,bt=Tt;for(let tt=0;tt<Tt;tt++)Be(Je,()=>{const Xe=(0,J.D)(Ze[tt],Je);let ut=!1;Xe.subscribe((0,me.x)(at,St=>{ke[tt]=St,ut||(ut=!0,bt--),bt||at.next(lt(ke.slice()))},()=>{--Oe||at.complete()}))},at)},at)}}(at,Je,Tt?Oe=>(0,be.n)(Tt,Oe):_e.y));return lt?ke.pipe((0,m.Z)(lt)):ke}function Be(Ze,Je,lt){Ze?(0,Ve.f)(lt,Ze,Je):Je()}},5211:(Wt,ze,U)=>{U.d(ze,{z:()=>m});var I=U(7537),J=U(9940),_e=U(2459);function m(...fe){return function te(){return(0,I.J)(1)}()((0,_e.D)(fe,(0,J.yG)(fe)))}},6232:(Wt,ze,U)=>{U.d(ze,{E:()=>te});const te=new(U(5592).y)(m=>m.complete())},2459:(Wt,ze,U)=>{U.d(ze,{D:()=>Xe});var I=U(4829),te=U(3093),J=U(5137),fe=U(5592),me=U(4971),Ve=U(4674),le=U(7103);function Be(ut,St){if(!ut)throw new Error("Iterable cannot be null");return new fe.y(vt=>{(0,le.f)(vt,St,()=>{const ye=ut[Symbol.asyncIterator]();(0,le.f)(vt,St,()=>{ye.next().then(ht=>{ht.done?vt.complete():vt.next(ht.value)})},0,!0)})})}var Ze=U(8382),Je=U(4026),lt=U(4266),at=U(3664),Tt=U(5726),ke=U(9853),Oe=U(541);function Xe(ut,St){return St?function tt(ut,St){if(null!=ut){if((0,Ze.c)(ut))return function _e(ut,St){return(0,I.Xf)(ut).pipe((0,J.R)(St),(0,te.Q)(St))}(ut,St);if((0,lt.z)(ut))return function be(ut,St){return new fe.y(vt=>{let ye=0;return St.schedule(function(){ye===ut.length?vt.complete():(vt.next(ut[ye++]),vt.closed||this.schedule())})})}(ut,St);if((0,Je.t)(ut))return function m(ut,St){return(0,I.Xf)(ut).pipe((0,J.R)(St),(0,te.Q)(St))}(ut,St);if((0,Tt.D)(ut))return Be(ut,St);if((0,at.T)(ut))return function pe(ut,St){return new fe.y(vt=>{let ye;return(0,le.f)(vt,St,()=>{ye=ut[me.h](),(0,le.f)(vt,St,()=>{let ht,Pt;try{({value:ht,done:Pt}=ye.next())}catch(an){return void vt.error(an)}Pt?vt.complete():vt.next(ht)},0,!0)}),()=>(0,Ve.m)(ye?.return)&&ye.return()})}(ut,St);if((0,Oe.L)(ut))return function bt(ut,St){return Be((0,Oe.Q)(ut),St)}(ut,St)}throw(0,ke.z)(ut)}(ut,St):(0,I.Xf)(ut)}},4829:(Wt,ze,U)=>{U.d(ze,{Xf:()=>Ze});var I=U(7582),te=U(4266),J=U(4026),_e=U(5592),m=U(8382),fe=U(5726),be=U(9853),me=U(3664),Ve=U(541),le=U(4674),pe=U(3894),Be=U(4850);function Ze(tt){if(tt instanceof _e.y)return tt;if(null!=tt){if((0,m.c)(tt))return function Je(tt){return new _e.y(Xe=>{const ut=tt[Be.L]();if((0,le.m)(ut.subscribe))return ut.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,te.z)(tt))return function lt(tt){return new _e.y(Xe=>{for(let ut=0;ut<tt.length&&!Xe.closed;ut++)Xe.next(tt[ut]);Xe.complete()})}(tt);if((0,J.t)(tt))return function at(tt){return new _e.y(Xe=>{tt.then(ut=>{Xe.closed||(Xe.next(ut),Xe.complete())},ut=>Xe.error(ut)).then(null,pe.h)})}(tt);if((0,fe.D)(tt))return ke(tt);if((0,me.T)(tt))return function Tt(tt){return new _e.y(Xe=>{for(const ut of tt)if(Xe.next(ut),Xe.closed)return;Xe.complete()})}(tt);if((0,Ve.L)(tt))return function Oe(tt){return ke((0,Ve.Q)(tt))}(tt)}throw(0,be.z)(tt)}function ke(tt){return new _e.y(Xe=>{(function bt(tt,Xe){var ut,St,vt,ye;return(0,I.mG)(this,void 0,void 0,function*(){try{for(ut=(0,I.KL)(tt);!(St=yield ut.next()).done;)if(Xe.next(St.value),Xe.closed)return}catch(ht){vt={error:ht}}finally{try{St&&!St.done&&(ye=ut.return)&&(yield ye.call(ut))}finally{if(vt)throw vt.error}}Xe.complete()})})(tt,Xe).catch(ut=>Xe.error(ut))})}},3019:(Wt,ze,U)=>{U.d(ze,{T:()=>fe});var I=U(7537),te=U(4829),J=U(6232),_e=U(9940),m=U(2459);function fe(...be){const me=(0,_e.yG)(be),Ve=(0,_e._6)(be,1/0),le=be;return le.length?1===le.length?(0,te.Xf)(le[0]):(0,I.J)(Ve)((0,m.D)(le,me)):J.E}},2096:(Wt,ze,U)=>{U.d(ze,{of:()=>J});var I=U(9940),te=U(2459);function J(..._e){const m=(0,I.yG)(_e);return(0,te.D)(_e,m)}},8504:(Wt,ze,U)=>{U.d(ze,{_:()=>J});var I=U(5592),te=U(4674);function J(_e,m){const fe=(0,te.m)(_e)?_e:()=>_e,be=me=>me.error(fe());return new I.y(m?me=>m.schedule(be,0,me):be)}},8251:(Wt,ze,U)=>{U.d(ze,{x:()=>te});var I=U(305);function te(_e,m,fe,be,me){return new J(_e,m,fe,be,me)}class J extends I.Lv{constructor(m,fe,be,me,Ve,le){super(m),this.onFinalize=Ve,this.shouldUnsubscribe=le,this._next=fe?function(pe){try{fe(pe)}catch(Be){m.error(Be)}}:super._next,this._error=me?function(pe){try{me(pe)}catch(Be){m.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(pe){m.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}},6306:(Wt,ze,U)=>{U.d(ze,{K:()=>_e});var I=U(4829),te=U(8251),J=U(9360);function _e(m){return(0,J.e)((fe,be)=>{let le,me=null,Ve=!1;me=fe.subscribe((0,te.x)(be,void 0,void 0,pe=>{le=(0,I.Xf)(m(pe,_e(m)(fe))),me?(me.unsubscribe(),me=null,le.subscribe(be)):Ve=!0})),Ve&&(me.unsubscribe(),me=null,le.subscribe(be))})}},6328:(Wt,ze,U)=>{U.d(ze,{b:()=>J});var I=U(1631),te=U(4674);function J(_e,m){return(0,te.m)(m)?(0,I.z)(_e,m,1):(0,I.z)(_e,1)}},3572:(Wt,ze,U)=>{U.d(ze,{d:()=>J});var I=U(9360),te=U(8251);function J(_e){return(0,I.e)((m,fe)=>{let be=!1;m.subscribe((0,te.x)(fe,me=>{be=!0,fe.next(me)},()=>{be||fe.next(_e),fe.complete()}))})}},3997:(Wt,ze,U)=>{U.d(ze,{x:()=>_e});var I=U(2737),te=U(9360),J=U(8251);function _e(fe,be=I.y){return fe=fe??m,(0,te.e)((me,Ve)=>{let le,pe=!0;me.subscribe((0,J.x)(Ve,Be=>{const Ze=be(Be);(pe||!fe(le,Ze))&&(pe=!1,le=Ze,Ve.next(Be))}))})}function m(fe,be){return fe===be}},2181:(Wt,ze,U)=>{U.d(ze,{h:()=>J});var I=U(9360),te=U(8251);function J(_e,m){return(0,I.e)((fe,be)=>{let me=0;fe.subscribe((0,te.x)(be,Ve=>_e.call(m,Ve,me++)&&be.next(Ve)))})}},4716:(Wt,ze,U)=>{U.d(ze,{x:()=>te});var I=U(9360);function te(J){return(0,I.e)((_e,m)=>{try{_e.subscribe(m)}finally{m.add(J)}})}},1374:(Wt,ze,U)=>{U.d(ze,{P:()=>be});var I=U(6973),te=U(2181),J=U(8180),_e=U(3572),m=U(3026),fe=U(2737);function be(me,Ve){const le=arguments.length>=2;return pe=>pe.pipe(me?(0,te.h)((Be,Ze)=>me(Be,Ze,pe)):fe.y,(0,J.q)(1),le?(0,_e.d)(Ve):(0,m.T)(()=>new I.K))}},7398:(Wt,ze,U)=>{U.d(ze,{U:()=>J});var I=U(9360),te=U(8251);function J(_e,m){return(0,I.e)((fe,be)=>{let me=0;fe.subscribe((0,te.x)(be,Ve=>{be.next(_e.call(m,Ve,me++))}))})}},7537:(Wt,ze,U)=>{U.d(ze,{J:()=>J});var I=U(1631),te=U(2737);function J(_e=1/0){return(0,I.z)(te.y,_e)}},1631:(Wt,ze,U)=>{U.d(ze,{z:()=>me});var I=U(7398),te=U(4829),J=U(9360),_e=U(7103),m=U(8251),be=U(4674);function me(Ve,le,pe=1/0){return(0,be.m)(le)?me((Be,Ze)=>(0,I.U)((Je,lt)=>le(Be,Je,Ze,lt))((0,te.Xf)(Ve(Be,Ze))),pe):("number"==typeof le&&(pe=le),(0,J.e)((Be,Ze)=>function fe(Ve,le,pe,Be,Ze,Je,lt,at){const Tt=[];let ke=0,Oe=0,bt=!1;const tt=()=>{bt&&!Tt.length&&!ke&&le.complete()},Xe=St=>ke<Be?ut(St):Tt.push(St),ut=St=>{Je&&le.next(St),ke++;let vt=!1;(0,te.Xf)(pe(St,Oe++)).subscribe((0,m.x)(le,ye=>{Ze?.(ye),Je?Xe(ye):le.next(ye)},()=>{vt=!0},void 0,()=>{if(vt)try{for(ke--;Tt.length&&ke<Be;){const ye=Tt.shift();lt?(0,_e.f)(le,lt,()=>ut(ye)):ut(ye)}tt()}catch(ye){le.error(ye)}}))};return Ve.subscribe((0,m.x)(le,Xe,()=>{bt=!0,tt()})),()=>{at?.()}}(Be,Ze,Ve,pe)))}},3093:(Wt,ze,U)=>{U.d(ze,{Q:()=>_e});var I=U(7103),te=U(9360),J=U(8251);function _e(m,fe=0){return(0,te.e)((be,me)=>{be.subscribe((0,J.x)(me,Ve=>(0,I.f)(me,m,()=>me.next(Ve),fe),()=>(0,I.f)(me,m,()=>me.complete(),fe),Ve=>(0,I.f)(me,m,()=>me.error(Ve),fe)))})}},6699:(Wt,ze,U)=>{U.d(ze,{R:()=>_e});var I=U(9360),te=U(8251);function _e(m,fe){return(0,I.e)(function J(m,fe,be,me,Ve){return(le,pe)=>{let Be=be,Ze=fe,Je=0;le.subscribe((0,te.x)(pe,lt=>{const at=Je++;Ze=Be?m(Ze,lt,at):(Be=!0,lt),me&&pe.next(Ze)},Ve&&(()=>{Be&&pe.next(Ze),pe.complete()})))}}(m,fe,arguments.length>=2,!0))}},3020:(Wt,ze,U)=>{U.d(ze,{B:()=>m});var I=U(4829),te=U(8645),J=U(305),_e=U(9360);function m(be={}){const{connector:me=(()=>new te.x),resetOnError:Ve=!0,resetOnComplete:le=!0,resetOnRefCountZero:pe=!0}=be;return Be=>{let Ze,Je,lt,at=0,Tt=!1,ke=!1;const Oe=()=>{Je?.unsubscribe(),Je=void 0},bt=()=>{Oe(),Ze=lt=void 0,Tt=ke=!1},tt=()=>{const Xe=Ze;bt(),Xe?.unsubscribe()};return(0,_e.e)((Xe,ut)=>{at++,!ke&&!Tt&&Oe();const St=lt=lt??me();ut.add(()=>{at--,0===at&&!ke&&!Tt&&(Je=fe(tt,pe))}),St.subscribe(ut),!Ze&&at>0&&(Ze=new J.Hp({next:vt=>St.next(vt),error:vt=>{ke=!0,Oe(),Je=fe(bt,Ve,vt),St.error(vt)},complete:()=>{Tt=!0,Oe(),Je=fe(bt,le),St.complete()}}),(0,I.Xf)(Xe).subscribe(Ze))})(Be)}}function fe(be,me,...Ve){if(!0===me)return void be();if(!1===me)return;const le=new J.Hp({next:()=>{le.unsubscribe(),be()}});return(0,I.Xf)(me(...Ve)).subscribe(le)}},7921:(Wt,ze,U)=>{U.d(ze,{O:()=>_e});var I=U(5211),te=U(9940),J=U(9360);function _e(...m){const fe=(0,te.yG)(m);return(0,J.e)((be,me)=>{(fe?(0,I.z)(m,be,fe):(0,I.z)(m,be)).subscribe(me)})}},5137:(Wt,ze,U)=>{U.d(ze,{R:()=>te});var I=U(9360);function te(J,_e=0){return(0,I.e)((m,fe)=>{fe.add(J.schedule(()=>m.subscribe(fe),_e))})}},4664:(Wt,ze,U)=>{U.d(ze,{w:()=>_e});var I=U(4829),te=U(9360),J=U(8251);function _e(m,fe){return(0,te.e)((be,me)=>{let Ve=null,le=0,pe=!1;const Be=()=>pe&&!Ve&&me.complete();be.subscribe((0,J.x)(me,Ze=>{Ve?.unsubscribe();let Je=0;const lt=le++;(0,I.Xf)(m(Ze,lt)).subscribe(Ve=(0,J.x)(me,at=>me.next(fe?fe(Ze,at,lt,Je++):at),()=>{Ve=null,Be()}))},()=>{pe=!0,Be()}))})}},8180:(Wt,ze,U)=>{U.d(ze,{q:()=>_e});var I=U(6232),te=U(9360),J=U(8251);function _e(m){return m<=0?()=>I.E:(0,te.e)((fe,be)=>{let me=0;fe.subscribe((0,J.x)(be,Ve=>{++me<=m&&(be.next(Ve),m<=me&&be.complete())}))})}},9773:(Wt,ze,U)=>{U.d(ze,{R:()=>m});var I=U(9360),te=U(8251),J=U(4829),_e=U(2420);function m(fe){return(0,I.e)((be,me)=>{(0,J.Xf)(fe).subscribe((0,te.x)(me,()=>me.complete(),_e.Z)),!me.closed&&be.subscribe(me)})}},9397:(Wt,ze,U)=>{U.d(ze,{b:()=>m});var I=U(4674),te=U(9360),J=U(8251),_e=U(2737);function m(fe,be,me){const Ve=(0,I.m)(fe)||be||me?{next:fe,error:be,complete:me}:fe;return Ve?(0,te.e)((le,pe)=>{var Be;null===(Be=Ve.subscribe)||void 0===Be||Be.call(Ve);let Ze=!0;le.subscribe((0,J.x)(pe,Je=>{var lt;null===(lt=Ve.next)||void 0===lt||lt.call(Ve,Je),pe.next(Je)},()=>{var Je;Ze=!1,null===(Je=Ve.complete)||void 0===Je||Je.call(Ve),pe.complete()},Je=>{var lt;Ze=!1,null===(lt=Ve.error)||void 0===lt||lt.call(Ve,Je),pe.error(Je)},()=>{var Je,lt;Ze&&(null===(Je=Ve.unsubscribe)||void 0===Je||Je.call(Ve)),null===(lt=Ve.finalize)||void 0===lt||lt.call(Ve)}))}):_e.y}},3026:(Wt,ze,U)=>{U.d(ze,{T:()=>_e});var I=U(6973),te=U(9360),J=U(8251);function _e(fe=m){return(0,te.e)((be,me)=>{let Ve=!1;be.subscribe((0,J.x)(me,le=>{Ve=!0,me.next(le)},()=>Ve?me.complete():me.error(fe())))})}function m(){return new I.K}},1954:(Wt,ze,U)=>{U.d(ze,{o:()=>m});var I=U(7394);class te extends I.w0{constructor(be,me){super()}schedule(be,me=0){return this}}const J={setInterval(fe,be,...me){const{delegate:Ve}=J;return Ve?.setInterval?Ve.setInterval(fe,be,...me):setInterval(fe,be,...me)},clearInterval(fe){const{delegate:be}=J;return(be?.clearInterval||clearInterval)(fe)},delegate:void 0};var _e=U(9039);class m extends te{constructor(be,me){super(be,me),this.scheduler=be,this.work=me,this.pending=!1}schedule(be,me=0){var Ve;if(this.closed)return this;this.state=be;const le=this.id,pe=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(pe,le,me)),this.pending=!0,this.delay=me,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(pe,this.id,me),this}requestAsyncId(be,me,Ve=0){return J.setInterval(be.flush.bind(be,this),Ve)}recycleAsyncId(be,me,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return me;null!=me&&J.clearInterval(me)}execute(be,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(be,me);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,me){let le,Ve=!1;try{this.work(be)}catch(pe){Ve=!0,le=pe||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:be,scheduler:me}=this,{actions:Ve}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(Ve,this),null!=be&&(this.id=this.recycleAsyncId(me,be,null)),this.delay=null,super.unsubscribe()}}}},2631:(Wt,ze,U)=>{U.d(ze,{v:()=>J});var I=U(4552);class te{constructor(m,fe=te.now){this.schedulerActionCtor=m,this.now=fe}schedule(m,fe=0,be){return new this.schedulerActionCtor(this,m).schedule(be,fe)}}te.now=I.l.now;class J extends te{constructor(m,fe=te.now){super(m,fe),this.actions=[],this._active=!1}flush(m){const{actions:fe}=this;if(this._active)return void fe.push(m);let be;this._active=!0;do{if(be=m.execute(m.state,m.delay))break}while(m=fe.shift());if(this._active=!1,be){for(;m=fe.shift();)m.unsubscribe();throw be}}}},6321:(Wt,ze,U)=>{U.d(ze,{P:()=>_e,z:()=>J});var I=U(1954);const J=new(U(2631).v)(I.o),_e=J},4552:(Wt,ze,U)=>{U.d(ze,{l:()=>I});const I={now:()=>(I.delegate||Date).now(),delegate:void 0}},7599:(Wt,ze,U)=>{U.d(ze,{z:()=>I});const I={setTimeout(te,J,..._e){const{delegate:m}=I;return m?.setTimeout?m.setTimeout(te,J,..._e):setTimeout(te,J,..._e)},clearTimeout(te){const{delegate:J}=I;return(J?.clearTimeout||clearTimeout)(te)},delegate:void 0}},4971:(Wt,ze,U)=>{U.d(ze,{h:()=>te});const te=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Wt,ze,U)=>{U.d(ze,{L:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Wt,ze,U)=>{U.d(ze,{K:()=>te});const te=(0,U(2306).d)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Wt,ze,U)=>{U.d(ze,{_6:()=>fe,jO:()=>_e,yG:()=>m});var I=U(4674),te=U(671);function J(be){return be[be.length-1]}function _e(be){return(0,I.m)(J(be))?be.pop():void 0}function m(be){return(0,te.K)(J(be))?be.pop():void 0}function fe(be,me){return"number"==typeof J(be)?be.pop():me}},7453:(Wt,ze,U)=>{U.d(ze,{D:()=>m});const{isArray:I}=Array,{getPrototypeOf:te,prototype:J,keys:_e}=Object;function m(be){if(1===be.length){const me=be[0];if(I(me))return{args:me,keys:null};if(function fe(be){return be&&"object"==typeof be&&te(be)===J}(me)){const Ve=_e(me);return{args:Ve.map(le=>me[le]),keys:Ve}}}return{args:be,keys:null}}},9039:(Wt,ze,U)=>{function I(te,J){if(te){const _e=te.indexOf(J);0<=_e&&te.splice(_e,1)}}U.d(ze,{P:()=>I})},2306:(Wt,ze,U)=>{function I(te){const _e=te(m=>{Error.call(m),m.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}U.d(ze,{d:()=>I})},2714:(Wt,ze,U)=>{function I(te,J){return te.reduce((_e,m,fe)=>(_e[m]=J[fe],_e),{})}U.d(ze,{n:()=>I})},1441:(Wt,ze,U)=>{U.d(ze,{O:()=>_e,x:()=>J});var I=U(2653);let te=null;function J(m){if(I.config.useDeprecatedSynchronousErrorHandling){const fe=!te;if(fe&&(te={errorThrown:!1,error:null}),m(),fe){const{errorThrown:be,error:me}=te;if(te=null,be)throw me}}else m()}function _e(m){I.config.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=m)}},7103:(Wt,ze,U)=>{function I(te,J,_e,m=0,fe=!1){const be=J.schedule(function(){_e(),fe?te.add(this.schedule(null,m)):this.unsubscribe()},m);if(te.add(be),!fe)return be}U.d(ze,{f:()=>I})},2737:(Wt,ze,U)=>{function I(te){return te}U.d(ze,{y:()=>I})},4266:(Wt,ze,U)=>{U.d(ze,{z:()=>I});const I=te=>te&&"number"==typeof te.length&&"function"!=typeof te},5726:(Wt,ze,U)=>{U.d(ze,{D:()=>te});var I=U(4674);function te(J){return Symbol.asyncIterator&&(0,I.m)(J?.[Symbol.asyncIterator])}},4674:(Wt,ze,U)=>{function I(te){return"function"==typeof te}U.d(ze,{m:()=>I})},8382:(Wt,ze,U)=>{U.d(ze,{c:()=>J});var I=U(4850),te=U(4674);function J(_e){return(0,te.m)(_e[I.L])}},3664:(Wt,ze,U)=>{U.d(ze,{T:()=>J});var I=U(4971),te=U(4674);function J(_e){return(0,te.m)(_e?.[I.h])}},4026:(Wt,ze,U)=>{U.d(ze,{t:()=>te});var I=U(4674);function te(J){return(0,I.m)(J?.then)}},541:(Wt,ze,U)=>{U.d(ze,{L:()=>_e,Q:()=>J});var I=U(7582),te=U(4674);function J(m){return(0,I.FC)(this,arguments,function*(){const be=m.getReader();try{for(;;){const{value:me,done:Ve}=yield(0,I.qq)(be.read());if(Ve)return yield(0,I.qq)(void 0);yield yield(0,I.qq)(me)}}finally{be.releaseLock()}})}function _e(m){return(0,te.m)(m?.getReader)}},671:(Wt,ze,U)=>{U.d(ze,{K:()=>te});var I=U(4674);function te(J){return J&&(0,I.m)(J.schedule)}},9360:(Wt,ze,U)=>{U.d(ze,{A:()=>te,e:()=>J});var I=U(4674);function te(_e){return(0,I.m)(_e?.lift)}function J(_e){return m=>{if(te(m))return m.lift(function(fe){try{return _e(fe,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Wt,ze,U)=>{U.d(ze,{Z:()=>_e});var I=U(7398);const{isArray:te}=Array;function _e(m){return(0,I.U)(fe=>function J(m,fe){return te(fe)?m(...fe):m(fe)}(m,fe))}},2420:(Wt,ze,U)=>{function I(){}U.d(ze,{Z:()=>I})},8407:(Wt,ze,U)=>{U.d(ze,{U:()=>J,z:()=>te});var I=U(2737);function te(..._e){return J(_e)}function J(_e){return 0===_e.length?I.y:1===_e.length?_e[0]:function(fe){return _e.reduce((be,me)=>me(be),fe)}}},3894:(Wt,ze,U)=>{U.d(ze,{h:()=>J});var I=U(2653),te=U(7599);function J(_e){te.z.setTimeout(()=>{const{onUnhandledError:m}=I.config;if(!m)throw _e;m(_e)})}},9853:(Wt,ze,U)=>{function I(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(ze,{z:()=>I})},6814:(Wt,ze,U)=>{U.d(ze,{Do:()=>at,EM:()=>Uu,H9:()=>hl,HT:()=>_e,JF:()=>Bu,K0:()=>fe,Mx:()=>Ae,NF:()=>Ya,Nd:()=>hs,O5:()=>br,PC:()=>Eo,PM:()=>Vu,S$:()=>Ze,V_:()=>me,Ye:()=>Tt,b0:()=>lt,bD:()=>Os,ez:()=>$r,gd:()=>pu,mk:()=>Ut,q:()=>J,sg:()=>Mr,tP:()=>ko,w_:()=>m});var I=U(9212);let te=null;function J(){return te}function _e(M){te||(te=M)}class m{}const fe=new I.OlP("DocumentToken");let be=(()=>{class M{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Q){return new(Q||M)};static#t=this.\u0275prov=I.Yz7({token:M,factory:()=>(0,I.f3M)(Ve),providedIn:"platform"})}return M})();const me=new I.OlP("Location Initialized");let Ve=(()=>{class M extends be{constructor(){super(),this._doc=(0,I.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(j){const Q=J().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",j,!1),()=>Q.removeEventListener("popstate",j)}onHashChange(j){const Q=J().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",j,!1),()=>Q.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Q,ve){this._history.pushState(j,Q,ve)}replaceState(j,Q,ve){this._history.replaceState(j,Q,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(Q){return new(Q||M)};static#t=this.\u0275prov=I.Yz7({token:M,factory:()=>new M,providedIn:"platform"})}return M})();function le(M,ne){if(0==M.length)return ne;if(0==ne.length)return M;let j=0;return M.endsWith("/")&&j++,ne.startsWith("/")&&j++,2==j?M+ne.substring(1):1==j?M+ne:M+"/"+ne}function pe(M){const ne=M.match(/#|\?|$/),j=ne&&ne.index||M.length;return M.slice(0,j-("/"===M[j-1]?1:0))+M.slice(j)}function Be(M){return M&&"?"!==M[0]?"?"+M:M}let Ze=(()=>{class M{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(Q){return new(Q||M)};static#t=this.\u0275prov=I.Yz7({token:M,factory:()=>(0,I.f3M)(lt),providedIn:"root"})}return M})();const Je=new I.OlP("appBaseHref");let lt=(()=>{class M extends Ze{constructor(j,Q){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,I.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return le(this._baseHref,j)}path(j=!1){const Q=this._platformLocation.pathname+Be(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&j?`${Q}${ve}`:Q}pushState(j,Q,ve,ft){const Rt=this.prepareExternalUrl(ve+Be(ft));this._platformLocation.pushState(j,Q,Rt)}replaceState(j,Q,ve,ft){const Rt=this.prepareExternalUrl(ve+Be(ft));this._platformLocation.replaceState(j,Q,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.LFG(be),I.LFG(Je,8))};static#t=this.\u0275prov=I.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),at=(()=>{class M extends Ze{constructor(j,Q){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(j){const Q=le(this._baseHref,j);return Q.length>0?"#"+Q:Q}pushState(j,Q,ve,ft){let Rt=this.prepareExternalUrl(ve+Be(ft));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.pushState(j,Q,Rt)}replaceState(j,Q,ve,ft){let Rt=this.prepareExternalUrl(ve+Be(ft));0==Rt.length&&(Rt=this._platformLocation.pathname),this._platformLocation.replaceState(j,Q,Rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.LFG(be),I.LFG(Je,8))};static#t=this.\u0275prov=I.Yz7({token:M,factory:M.\u0275fac})}return M})(),Tt=(()=>{class M{constructor(j){this._subject=new I.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Q=this._locationStrategy.getBaseHref();this._basePath=function tt(M){if(new RegExp("^(https?:)?//").test(M)){const[,j]=M.split(/\/\/[^\/]+/);return j}return M}(pe(bt(Q))),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Q=""){return this.path()==this.normalize(j+Be(Q))}normalize(j){return M.stripTrailingSlash(function Oe(M,ne){if(!M||!ne.startsWith(M))return ne;const j=ne.substring(M.length);return""===j||["/",";","?","#"].includes(j[0])?j:ne}(this._basePath,bt(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Q="",ve=null){this._locationStrategy.pushState(ve,"",j,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Be(Q)),ve)}replaceState(j,Q="",ve=null){this._locationStrategy.replaceState(ve,"",j,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Be(Q)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Q){this._urlChangeListeners.forEach(ve=>ve(j,Q))}subscribe(j,Q,ve){return this._subject.subscribe({next:j,error:Q,complete:ve})}static#e=this.normalizeQueryParams=Be;static#t=this.joinWithSlash=le;static#n=this.stripTrailingSlash=pe;static#r=this.\u0275fac=function(Q){return new(Q||M)(I.LFG(Ze))};static#i=this.\u0275prov=I.Yz7({token:M,factory:()=>function ke(){return new Tt((0,I.LFG)(Ze))}(),providedIn:"root"})}return M})();function bt(M){return M.replace(/\/index.html$/,"")}const Xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ut=function(M){return M[M.Decimal=0]="Decimal",M[M.Percent=1]="Percent",M[M.Currency=2]="Currency",M[M.Scientific=3]="Scientific",M}(ut||{}),Pt=function(M){return M[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M.Infinity=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M}(Pt||{});function Et(M,ne){const j=(0,I.cg1)(M),Q=j[I.wAp.NumberSymbols][ne];if(typeof Q>"u"){if(ne===Pt.CurrencyDecimal)return j[I.wAp.NumberSymbols][Pt.Decimal];if(ne===Pt.CurrencyGroup)return j[I.wAp.NumberSymbols][Pt.Group]}return Q}const $=/^(\d+)?\.((\d+)(-(\d+))?)?$/,he=22,$e=".",wt="0",on=";",Xt=",",Xn="#";function yt(M,ne,j,Q,ve){const Rt=function Me(M,ne="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Q=M.split(on),ve=Q[0],ft=Q[1],Rt=-1!==ve.indexOf($e)?ve.split($e):[ve.substring(0,ve.lastIndexOf(wt)+1),ve.substring(ve.lastIndexOf(wt)+1)],Rn=Rt[0],ni=Rt[1]||"";j.posPre=Rn.substring(0,Rn.indexOf(Xn));for(let pi=0;pi<ni.length;pi++){const Yn=ni.charAt(pi);Yn===wt?j.minFrac=j.maxFrac=pi+1:Yn===Xn?j.maxFrac=pi+1:j.posSuf+=Yn}const fi=Rn.split(Xt);if(j.gSize=fi[1]?fi[1].length:0,j.lgSize=fi[2]||fi[1]?(fi[2]||fi[1]).length:0,ft){const pi=ve.length-j.posPre.length-j.posSuf.length,Yn=ft.indexOf(Xn);j.negPre=ft.substring(0,Yn).replace(/'/g,""),j.negSuf=ft.slice(Yn+pi).replace(/'/g,"")}else j.negPre=ne+j.posPre,j.negSuf=j.posSuf;return j}(function Mt(M,ne){return(0,I.cg1)(M)[I.wAp.NumberFormats][ne]}(ne,ut.Currency),Et(ne,Pt.MinusSign));return Rt.minFrac=function Br(M){let ne;const j=Xe[M];return j&&(ne=j[2]),"number"==typeof ne?ne:2}(Q),Rt.maxFrac=Rt.minFrac,function Qn(M,ne,j,Q,ve,ft,Rt=!1){let Rn="",ni=!1;if(isFinite(M)){let fi=function Dn(M){let Q,ve,ft,Rt,Rn,ne=Math.abs(M)+"",j=0;for((ve=ne.indexOf($e))>-1&&(ne=ne.replace($e,"")),(ft=ne.search(/e/i))>0?(ve<0&&(ve=ft),ve+=+ne.slice(ft+1),ne=ne.substring(0,ft)):ve<0&&(ve=ne.length),ft=0;ne.charAt(ft)===wt;ft++);if(ft===(Rn=ne.length))Q=[0],ve=1;else{for(Rn--;ne.charAt(Rn)===wt;)Rn--;for(ve-=ft,Q=[],Rt=0;ft<=Rn;ft++,Rt++)Q[Rt]=Number(ne.charAt(ft))}return ve>he&&(Q=Q.splice(0,he-1),j=ve-1,ve=1),{digits:Q,exponent:j,integerLen:ve}}(M);Rt&&(fi=function Bt(M){if(0===M.digits[0])return M;const ne=M.digits.length-M.integerLen;return M.exponent?M.exponent+=2:(0===ne?M.digits.push(0,0):1===ne&&M.digits.push(0),M.integerLen+=2),M}(fi));let pi=ne.minInt,Yn=ne.minFrac,ei=ne.maxFrac;if(ft){const Li=ft.match($);if(null===Li)throw new Error(`${ft} is not a valid digit info`);const To=Li[1],gn=Li[3],xn=Li[5];null!=To&&(pi=Xr(To)),null!=gn&&(Yn=Xr(gn)),null!=xn?ei=Xr(xn):null!=gn&&Yn>ei&&(ei=Yn)}!function fr(M,ne,j){if(ne>j)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${j}).`);let Q=M.digits,ve=Q.length-M.integerLen;const ft=Math.min(Math.max(ne,ve),j);let Rt=ft+M.integerLen,Rn=Q[Rt];if(Rt>0){Q.splice(Math.max(M.integerLen,Rt));for(let Yn=Rt;Yn<Q.length;Yn++)Q[Yn]=0}else{ve=Math.max(0,ve),M.integerLen=1,Q.length=Math.max(1,Rt=ft+1),Q[0]=0;for(let Yn=1;Yn<Rt;Yn++)Q[Yn]=0}if(Rn>=5)if(Rt-1<0){for(let Yn=0;Yn>Rt;Yn--)Q.unshift(0),M.integerLen++;Q.unshift(1),M.integerLen++}else Q[Rt-1]++;for(;ve<Math.max(0,ft);ve++)Q.push(0);let ni=0!==ft;const fi=ne+M.integerLen,pi=Q.reduceRight(function(Yn,ei,gr,Ji){return Ji[gr]=(ei+=Yn)<10?ei:ei-10,ni&&(0===Ji[gr]&&gr>=fi?Ji.pop():ni=!1),ei>=10?1:0},0);pi&&(Q.unshift(pi),M.integerLen++)}(fi,Yn,ei);let gr=fi.digits,Ji=fi.integerLen;const Io=fi.exponent;let Ot=[];for(ni=gr.every(Li=>!Li);Ji<pi;Ji++)gr.unshift(0);for(;Ji<0;Ji++)gr.unshift(0);Ji>0?Ot=gr.splice(Ji,gr.length):(Ot=gr,gr=[0]);const wi=[];for(gr.length>=ne.lgSize&&wi.unshift(gr.splice(-ne.lgSize,gr.length).join(""));gr.length>ne.gSize;)wi.unshift(gr.splice(-ne.gSize,gr.length).join(""));gr.length&&wi.unshift(gr.join("")),Rn=wi.join(Et(j,Q)),Ot.length&&(Rn+=Et(j,ve)+Ot.join("")),Io&&(Rn+=Et(j,Pt.Exponential)+"+"+Io)}else Rn=Et(j,Pt.Infinity);return Rn=M<0&&!ni?ne.negPre+Rn+ne.negSuf:ne.posPre+Rn+ne.posSuf,Rn}(M,Rt,ne,Pt.CurrencyGroup,Pt.CurrencyDecimal,ve).replace("\xa4",j).replace("\xa4","").trim()}function Xr(M){const ne=parseInt(M);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+M);return ne}function Ae(M,ne){ne=encodeURIComponent(ne);for(const j of M.split(";")){const Q=j.indexOf("="),[ve,ft]=-1==Q?[j,""]:[j.slice(0,Q),j.slice(Q+1)];if(ve.trim()===ne)return decodeURIComponent(ft)}return null}const dt=/\s+/,Ct=[];let Ut=(()=>{class M{constructor(j,Q,ve,ft){this._iterableDiffers=j,this._keyValueDiffers=Q,this._ngEl=ve,this._renderer=ft,this.initialClasses=Ct,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(dt):Ct}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(dt):j}ngDoCheck(){for(const Q of this.initialClasses)this._updateState(Q,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const Q of j)this._updateState(Q,!0);else if(null!=j)for(const Q of Object.keys(j))this._updateState(Q,!!j[Q]);this._applyStateDiff()}_updateState(j,Q){const ve=this.stateMap.get(j);void 0!==ve?(ve.enabled!==Q&&(ve.changed=!0,ve.enabled=Q),ve.touched=!0):this.stateMap.set(j,{enabled:Q,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const Q=j[0],ve=j[1];ve.changed?(this._toggleClass(Q,ve.enabled),ve.changed=!1):ve.touched||(ve.enabled&&this._toggleClass(Q,!1),this.stateMap.delete(Q)),ve.touched=!1}}_toggleClass(j,Q){(j=j.trim()).length>0&&j.split(dt).forEach(ve=>{Q?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.ZZ4),I.Y36(I.aQg),I.Y36(I.SBq),I.Y36(I.Qsj))};static#t=this.\u0275dir=I.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return M})();class Nn{constructor(ne,j,Q,ve){this.$implicit=ne,this.ngForOf=j,this.index=Q,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mr=(()=>{class M{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Q,ve){this._viewContainer=j,this._template=Q,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Q=this._viewContainer;j.forEachOperation((ve,ft,Rt)=>{if(null==ve.previousIndex)Q.createEmbeddedView(this._template,new Nn(ve.item,this._ngForOf,-1,-1),null===Rt?void 0:Rt);else if(null==Rt)Q.remove(null===ft?void 0:ft);else if(null!==ft){const Rn=Q.get(ft);Q.move(Rn,Rt),Lt(Rn,ve)}});for(let ve=0,ft=Q.length;ve<ft;ve++){const Rn=Q.get(ve).context;Rn.index=ve,Rn.count=ft,Rn.ngForOf=this._ngForOf}j.forEachIdentityChange(ve=>{Lt(Q.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(j,Q){return!0}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.s_b),I.Y36(I.Rgc),I.Y36(I.ZZ4))};static#t=this.\u0275dir=I.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return M})();function Lt(M,ne){M.context.$implicit=ne.item}let br=(()=>{class M{constructor(j,Q){this._viewContainer=j,this._context=new oi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Mi("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Mi("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Q){return!0}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.s_b),I.Y36(I.Rgc))};static#t=this.\u0275dir=I.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return M})();class oi{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(M,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,I.AaK)(ne)}'.`)}let Eo=(()=>{class M{constructor(j,Q,ve){this._ngEl=j,this._differs=Q,this._renderer=ve,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,Q){const[ve,ft]=j.split("."),Rt=-1===ve.indexOf("-")?void 0:I.JOm.DashCase;null!=Q?this._renderer.setStyle(this._ngEl.nativeElement,ve,ft?`${Q}${ft}`:Q,Rt):this._renderer.removeStyle(this._ngEl.nativeElement,ve,Rt)}_applyChanges(j){j.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),j.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),j.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.SBq),I.Y36(I.aQg),I.Y36(I.Qsj))};static#t=this.\u0275dir=I.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return M})(),ko=(()=>{class M{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(this._shouldRecreateView(j)){const Q=this._viewContainerRef;if(this._viewRef&&Q.remove(Q.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ve=this._createContextForwardProxy();this._viewRef=Q.createEmbeddedView(this.ngTemplateOutlet,ve,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(j){return!!j.ngTemplateOutlet||!!j.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(j,Q,ve)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Q,ve),get:(j,Q,ve)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Q,ve)}})}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.s_b))};static#t=this.\u0275dir=I.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[I.TTD]})}return M})();function Ei(M,ne){return new I.vHH(2100,!1)}let pu=(()=>{class M{transform(j){if(null==j)return null;if("string"!=typeof j)throw Ei();return j.toUpperCase()}static#e=this.\u0275fac=function(Q){return new(Q||M)};static#t=this.\u0275pipe=I.Yjl({name:"uppercase",type:M,pure:!0,standalone:!0})}return M})(),hs=(()=>{class M{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=gu}transform(j,Q=gu){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const ve=this.differ.diff(j),ft=Q!==this.compareFn;return ve&&(this.keyValues=[],ve.forEachItem(Rt=>{this.keyValues.push(function Wa(M,ne){return{key:M,value:ne}}(Rt.key,Rt.currentValue))})),(ve||ft)&&(this.keyValues.sort(Q),this.compareFn=Q),this.keyValues}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.aQg,16))};static#t=this.\u0275pipe=I.Yjl({name:"keyvalue",type:M,pure:!1,standalone:!0})}return M})();function gu(M,ne){const j=M.key,Q=ne.key;if(j===Q)return 0;if(void 0===j)return 1;if(void 0===Q)return-1;if(null===j)return 1;if(null===Q)return-1;if("string"==typeof j&&"string"==typeof Q)return j<Q?-1:1;if("number"==typeof j&&"number"==typeof Q)return j-Q;if("boolean"==typeof j&&"boolean"==typeof Q)return j<Q?-1:1;const ve=String(j),ft=String(Q);return ve==ft?0:ve<ft?-1:1}let hl=(()=>{class M{constructor(j,Q="USD"){this._locale=j,this._defaultCurrencyCode=Q}transform(j,Q=this._defaultCurrencyCode,ve="symbol",ft,Rt){if(!function ho(M){return!(null==M||""===M||M!=M)}(j))return null;Rt=Rt||this._locale,"boolean"==typeof ve&&(ve=ve?"symbol":"code");let Rn=Q||this._defaultCurrencyCode;"code"!==ve&&(Rn="symbol"===ve||"symbol-narrow"===ve?function ci(M,ne,j="en"){const Q=function vn(M){return(0,I.cg1)(M)[I.wAp.Currencies]}(j)[M]||Xe[M]||[],ve=Q[1];return"narrow"===ne&&"string"==typeof ve?ve:Q[0]||M}(Rn,"symbol"===ve?"wide":"narrow",Rt):ve);try{return yt(function Ka(M){if("string"==typeof M&&!isNaN(Number(M)-parseFloat(M)))return Number(M);if("number"!=typeof M)throw new Error(`${M} is not a number`);return M}(j),Rt,Rn,Q,ft)}catch(ni){throw Ei()}}static#e=this.\u0275fac=function(Q){return new(Q||M)(I.Y36(I.soG,16),I.Y36(I.EJc,16))};static#t=this.\u0275pipe=I.Yjl({name:"currency",type:M,pure:!0,standalone:!0})}return M})();let $r=(()=>{class M{static#e=this.\u0275fac=function(Q){return new(Q||M)};static#t=this.\u0275mod=I.oAB({type:M});static#n=this.\u0275inj=I.cJS({})}return M})();const Os="browser",Fo="server";function Ya(M){return M===Os}function Vu(M){return M===Fo}let Uu=(()=>{class M{static#e=this.\u0275prov=(0,I.Yz7)({token:M,providedIn:"root",factory:()=>new Fc((0,I.LFG)(fe),window)})}return M})();class Fc{constructor(ne,j){this.document=ne,this.window=j,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const j=function fo(M,ne){const j=M.getElementById(ne)||M.getElementsByName(ne)[0];if(j)return j;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const Q=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ve=Q.currentNode;for(;ve;){const ft=ve.shadowRoot;if(ft){const Rt=ft.getElementById(ne)||ft.querySelector(`[name="${ne}"]`);if(Rt)return Rt}ve=Q.nextNode()}}return null}(this.document,ne);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const j=ne.getBoundingClientRect(),Q=j.left+this.window.pageXOffset,ve=j.top+this.window.pageYOffset,ft=this.offset();this.window.scrollTo(Q-ft[0],ve-ft[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Bu{}},9862:(Wt,ze,U)=>{U.d(ze,{JF:()=>on,eN:()=>Ke}),U(5861);var te=U(9212),J=U(2096),_e=U(5592),m=U(2459),fe=U(6328),be=U(2181),me=U(7398),Ve=U(4716),le=U(4664),pe=U(6814);class Be{}class Ze{}class Je{constructor(De){this.normalizedNames=new Map,this.lazyUpdate=null,De?"string"==typeof De?this.lazyInit=()=>{this.headers=new Map,De.split("\n").forEach(Ae=>{const dt=Ae.indexOf(":");if(dt>0){const Ct=Ae.slice(0,dt),Ut=Ct.toLowerCase(),Vt=Ae.slice(dt+1).trim();this.maybeSetNormalizedName(Ct,Ut),this.headers.has(Ut)?this.headers.get(Ut).push(Vt):this.headers.set(Ut,[Vt])}})}:typeof Headers<"u"&&De instanceof Headers?(this.headers=new Map,De.forEach((Ae,dt)=>{this.setHeaderEntries(dt,Ae)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(De).forEach(([Ae,dt])=>{this.setHeaderEntries(Ae,dt)})}:this.headers=new Map}has(De){return this.init(),this.headers.has(De.toLowerCase())}get(De){this.init();const Ae=this.headers.get(De.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(De){return this.init(),this.headers.get(De.toLowerCase())||null}append(De,Ae){return this.clone({name:De,value:Ae,op:"a"})}set(De,Ae){return this.clone({name:De,value:Ae,op:"s"})}delete(De,Ae){return this.clone({name:De,value:Ae,op:"d"})}maybeSetNormalizedName(De,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,De)}init(){this.lazyInit&&(this.lazyInit instanceof Je?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(De=>this.applyUpdate(De)),this.lazyUpdate=null))}copyFrom(De){De.init(),Array.from(De.headers.keys()).forEach(Ae=>{this.headers.set(Ae,De.headers.get(Ae)),this.normalizedNames.set(Ae,De.normalizedNames.get(Ae))})}clone(De){const Ae=new Je;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof Je?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([De]),Ae}applyUpdate(De){const Ae=De.name.toLowerCase();switch(De.op){case"a":case"s":let dt=De.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName(De.name,Ae);const Ct=("a"===De.op?this.headers.get(Ae):void 0)||[];Ct.push(...dt),this.headers.set(Ae,Ct);break;case"d":const Ut=De.value;if(Ut){let Vt=this.headers.get(Ae);if(!Vt)return;Vt=Vt.filter($n=>-1===Ut.indexOf($n)),0===Vt.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,Vt)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}setHeaderEntries(De,Ae){const dt=(Array.isArray(Ae)?Ae:[Ae]).map(Ut=>Ut.toString()),Ct=De.toLowerCase();this.headers.set(Ct,dt),this.maybeSetNormalizedName(De,Ct)}forEach(De){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>De(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class at{encodeKey(De){return bt(De)}encodeValue(De){return bt(De)}decodeKey(De){return decodeURIComponent(De)}decodeValue(De){return decodeURIComponent(De)}}const ke=/%(\d[a-f0-9])/gi,Oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(Ue){return encodeURIComponent(Ue).replace(ke,(De,Ae)=>Oe[Ae]??De)}function tt(Ue){return`${Ue}`}class Xe{constructor(De={}){if(this.updates=null,this.cloneFrom=null,this.encoder=De.encoder||new at,De.fromString){if(De.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tt(Ue,De){const Ae=new Map;return Ue.length>0&&Ue.replace(/^\?/,"").split("&").forEach(Ct=>{const Ut=Ct.indexOf("="),[Vt,$n]=-1==Ut?[De.decodeKey(Ct),""]:[De.decodeKey(Ct.slice(0,Ut)),De.decodeValue(Ct.slice(Ut+1))],Nn=Ae.get(Vt)||[];Nn.push($n),Ae.set(Vt,Nn)}),Ae}(De.fromString,this.encoder)}else De.fromObject?(this.map=new Map,Object.keys(De.fromObject).forEach(Ae=>{const dt=De.fromObject[Ae],Ct=Array.isArray(dt)?dt.map(tt):[tt(dt)];this.map.set(Ae,Ct)})):this.map=null}has(De){return this.init(),this.map.has(De)}get(De){this.init();const Ae=this.map.get(De);return Ae?Ae[0]:null}getAll(De){return this.init(),this.map.get(De)||null}keys(){return this.init(),Array.from(this.map.keys())}append(De,Ae){return this.clone({param:De,value:Ae,op:"a"})}appendAll(De){const Ae=[];return Object.keys(De).forEach(dt=>{const Ct=De[dt];Array.isArray(Ct)?Ct.forEach(Ut=>{Ae.push({param:dt,value:Ut,op:"a"})}):Ae.push({param:dt,value:Ct,op:"a"})}),this.clone(Ae)}set(De,Ae){return this.clone({param:De,value:Ae,op:"s"})}delete(De,Ae){return this.clone({param:De,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(De=>{const Ae=this.encoder.encodeKey(De);return this.map.get(De).map(dt=>Ae+"="+this.encoder.encodeValue(dt)).join("&")}).filter(De=>""!==De).join("&")}clone(De){const Ae=new Xe({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(De),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(De=>this.map.set(De,this.cloneFrom.map.get(De))),this.updates.forEach(De=>{switch(De.op){case"a":case"s":const Ae=("a"===De.op?this.map.get(De.param):void 0)||[];Ae.push(tt(De.value)),this.map.set(De.param,Ae);break;case"d":if(void 0===De.value){this.map.delete(De.param);break}{let dt=this.map.get(De.param)||[];const Ct=dt.indexOf(tt(De.value));-1!==Ct&&dt.splice(Ct,1),dt.length>0?this.map.set(De.param,dt):this.map.delete(De.param)}}}),this.cloneFrom=this.updates=null)}}class St{constructor(){this.map=new Map}set(De,Ae){return this.map.set(De,Ae),this}get(De){return this.map.has(De)||this.map.set(De,De.defaultValue()),this.map.get(De)}delete(De){return this.map.delete(De),this}has(De){return this.map.has(De)}keys(){return this.map.keys()}}function ye(Ue){return typeof ArrayBuffer<"u"&&Ue instanceof ArrayBuffer}function ht(Ue){return typeof Blob<"u"&&Ue instanceof Blob}function Pt(Ue){return typeof FormData<"u"&&Ue instanceof FormData}class In{constructor(De,Ae,dt,Ct){let Ut;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=De.toUpperCase(),function vt(Ue){switch(Ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ct?(this.body=void 0!==dt?dt:null,Ut=Ct):Ut=dt,Ut&&(this.reportProgress=!!Ut.reportProgress,this.withCredentials=!!Ut.withCredentials,Ut.responseType&&(this.responseType=Ut.responseType),Ut.headers&&(this.headers=Ut.headers),Ut.context&&(this.context=Ut.context),Ut.params&&(this.params=Ut.params),this.transferCache=Ut.transferCache),this.headers||(this.headers=new Je),this.context||(this.context=new St),this.params){const Vt=this.params.toString();if(0===Vt.length)this.urlWithParams=Ae;else{const $n=Ae.indexOf("?");this.urlWithParams=Ae+(-1===$n?"?":$n<Ae.length-1?"&":"")+Vt}}else this.params=new Xe,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:ye(this.body)||ht(this.body)||Pt(this.body)||function an(Ue){return typeof URLSearchParams<"u"&&Ue instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pt(this.body)?null:ht(this.body)?this.body.type||null:ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(De={}){const Ae=De.method||this.method,dt=De.url||this.url,Ct=De.responseType||this.responseType,Ut=void 0!==De.body?De.body:this.body,Vt=void 0!==De.withCredentials?De.withCredentials:this.withCredentials,$n=void 0!==De.reportProgress?De.reportProgress:this.reportProgress;let Nn=De.headers||this.headers,Mr=De.params||this.params;const Lt=De.context??this.context;return void 0!==De.setHeaders&&(Nn=Object.keys(De.setHeaders).reduce((ur,br)=>ur.set(br,De.setHeaders[br]),Nn)),De.setParams&&(Mr=Object.keys(De.setParams).reduce((ur,br)=>ur.set(br,De.setParams[br]),Mr)),new In(Ae,dt,Ut,{params:Mr,headers:Nn,context:Lt,reportProgress:$n,responseType:Ct,withCredentials:Vt})}}var Vn=function(Ue){return Ue[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue}(Vn||{});class bn{constructor(De,Ae=200,dt="OK"){this.headers=De.headers||new Je,this.status=void 0!==De.status?De.status:Ae,this.statusText=De.statusText||dt,this.url=De.url||null,this.ok=this.status>=200&&this.status<300}}class zr extends bn{constructor(De={}){super(De),this.type=Vn.ResponseHeader}clone(De={}){return new zr({headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}class Jn extends bn{constructor(De={}){super(De),this.type=Vn.Response,this.body=void 0!==De.body?De.body:null}clone(De={}){return new Jn({body:void 0!==De.body?De.body:this.body,headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}class Nr extends bn{constructor(De){super(De,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${De.url||"(unknown url)"}`:`Http failure response for ${De.url||"(unknown url)"}: ${De.status} ${De.statusText}`,this.error=De.error||null}}function qe(Ue,De){return{body:De,headers:Ue.headers,context:Ue.context,observe:Ue.observe,params:Ue.params,reportProgress:Ue.reportProgress,responseType:Ue.responseType,withCredentials:Ue.withCredentials,transferCache:Ue.transferCache}}let Ke=(()=>{class Ue{constructor(Ae){this.handler=Ae}request(Ae,dt,Ct={}){let Ut;if(Ae instanceof In)Ut=Ae;else{let Nn,Mr;Nn=Ct.headers instanceof Je?Ct.headers:new Je(Ct.headers),Ct.params&&(Mr=Ct.params instanceof Xe?Ct.params:new Xe({fromObject:Ct.params})),Ut=new In(Ae,dt,void 0!==Ct.body?Ct.body:null,{headers:Nn,context:Ct.context,params:Mr,reportProgress:Ct.reportProgress,responseType:Ct.responseType||"json",withCredentials:Ct.withCredentials,transferCache:Ct.transferCache})}const Vt=(0,J.of)(Ut).pipe((0,fe.b)(Nn=>this.handler.handle(Nn)));if(Ae instanceof In||"events"===Ct.observe)return Vt;const $n=Vt.pipe((0,be.h)(Nn=>Nn instanceof Jn));switch(Ct.observe||"body"){case"body":switch(Ut.responseType){case"arraybuffer":return $n.pipe((0,me.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nn.body}));case"blob":return $n.pipe((0,me.U)(Nn=>{if(null!==Nn.body&&!(Nn.body instanceof Blob))throw new Error("Response is not a Blob.");return Nn.body}));case"text":return $n.pipe((0,me.U)(Nn=>{if(null!==Nn.body&&"string"!=typeof Nn.body)throw new Error("Response is not a string.");return Nn.body}));default:return $n.pipe((0,me.U)(Nn=>Nn.body))}case"response":return $n;default:throw new Error(`Unreachable: unhandled observe type ${Ct.observe}}`)}}delete(Ae,dt={}){return this.request("DELETE",Ae,dt)}get(Ae,dt={}){return this.request("GET",Ae,dt)}head(Ae,dt={}){return this.request("HEAD",Ae,dt)}jsonp(Ae,dt){return this.request("JSONP",Ae,{params:(new Xe).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,dt={}){return this.request("OPTIONS",Ae,dt)}patch(Ae,dt,Ct={}){return this.request("PATCH",Ae,qe(Ct,dt))}post(Ae,dt,Ct={}){return this.request("POST",Ae,qe(Ct,dt))}put(Ae,dt,Ct={}){return this.request("PUT",Ae,qe(Ct,dt))}static#e=this.\u0275fac=function(dt){return new(dt||Ue)(te.LFG(Be))};static#t=this.\u0275prov=te.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();function vn(Ue,De){return De(Ue)}function rr(Ue,De){return(Ae,dt)=>De.intercept(Ae,{handle:Ct=>Ue(Ct,dt)})}const mr=new te.OlP(""),hr=new te.OlP(""),cr=new te.OlP(""),Er=new te.OlP("");function Zr(){let Ue=null;return(De,Ae)=>{null===Ue&&(Ue=((0,te.f3M)(mr,{optional:!0})??[]).reduceRight(rr,vn));const dt=(0,te.f3M)(te.HDt),Ct=dt.add();return Ue(De,Ae).pipe((0,Ve.x)(()=>dt.remove(Ct)))}}let Br=(()=>{class Ue extends Be{constructor(Ae,dt){super(),this.backend=Ae,this.injector=dt,this.chain=null,this.pendingTasks=(0,te.f3M)(te.HDt);const Ct=(0,te.f3M)(Er,{optional:!0});this.backend=Ct??Ae}handle(Ae){if(null===this.chain){const Ct=Array.from(new Set([...this.injector.get(hr),...this.injector.get(cr,[])]));this.chain=Ct.reduceRight((Ut,Vt)=>function Cn(Ue,De,Ae){return(dt,Ct)=>Ae.runInContext(()=>De(dt,Ut=>Ue(Ut,Ct)))}(Ut,Vt,this.injector),vn)}const dt=this.pendingTasks.add();return this.chain(Ae,Ct=>this.backend.handle(Ct)).pipe((0,Ve.x)(()=>this.pendingTasks.remove(dt)))}static#e=this.\u0275fac=function(dt){return new(dt||Ue)(te.LFG(Ze),te.LFG(te.lqb))};static#t=this.\u0275prov=te.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();const Ri=/^\)\]\}',?\n/;let Kt=(()=>{class Ue{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new te.vHH(-2800,!1);const dt=this.xhrFactory;return(dt.\u0275loadImpl?(0,m.D)(dt.\u0275loadImpl()):(0,J.of)(null)).pipe((0,le.w)(()=>new _e.y(Ut=>{const Vt=dt.build();if(Vt.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(Vt.withCredentials=!0),Ae.headers.forEach((Pe,we)=>Vt.setRequestHeader(Pe,we.join(","))),Ae.headers.has("Accept")||Vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const Pe=Ae.detectContentTypeHeader();null!==Pe&&Vt.setRequestHeader("Content-Type",Pe)}if(Ae.responseType){const Pe=Ae.responseType.toLowerCase();Vt.responseType="json"!==Pe?Pe:"text"}const $n=Ae.serializeBody();let Nn=null;const Mr=()=>{if(null!==Nn)return Nn;const Pe=Vt.statusText||"OK",we=new Je(Vt.getAllResponseHeaders()),Ge=function ir(Ue){return"responseURL"in Ue&&Ue.responseURL?Ue.responseURL:/^X-Request-URL:/m.test(Ue.getAllResponseHeaders())?Ue.getResponseHeader("X-Request-URL"):null}(Vt)||Ae.url;return Nn=new zr({headers:we,status:Vt.status,statusText:Pe,url:Ge}),Nn},Lt=()=>{let{headers:Pe,status:we,statusText:Ge,url:xt}=Mr(),ct=null;204!==we&&(ct=typeof Vt.response>"u"?Vt.responseText:Vt.response),0===we&&(we=ct?200:0);let Bn=we>=200&&we<300;if("json"===Ae.responseType&&"string"==typeof ct){const xr=ct;ct=ct.replace(Ri,"");try{ct=""!==ct?JSON.parse(ct):null}catch(lr){ct=xr,Bn&&(Bn=!1,ct={error:lr,text:ct})}}Bn?(Ut.next(new Jn({body:ct,headers:Pe,status:we,statusText:Ge,url:xt||void 0})),Ut.complete()):Ut.error(new Nr({error:ct,headers:Pe,status:we,statusText:Ge,url:xt||void 0}))},ur=Pe=>{const{url:we}=Mr(),Ge=new Nr({error:Pe,status:Vt.status||0,statusText:Vt.statusText||"Unknown Error",url:we||void 0});Ut.error(Ge)};let br=!1;const oi=Pe=>{br||(Ut.next(Mr()),br=!0);let we={type:Vn.DownloadProgress,loaded:Pe.loaded};Pe.lengthComputable&&(we.total=Pe.total),"text"===Ae.responseType&&Vt.responseText&&(we.partialText=Vt.responseText),Ut.next(we)},Mi=Pe=>{let we={type:Vn.UploadProgress,loaded:Pe.loaded};Pe.lengthComputable&&(we.total=Pe.total),Ut.next(we)};return Vt.addEventListener("load",Lt),Vt.addEventListener("error",ur),Vt.addEventListener("timeout",ur),Vt.addEventListener("abort",ur),Ae.reportProgress&&(Vt.addEventListener("progress",oi),null!==$n&&Vt.upload&&Vt.upload.addEventListener("progress",Mi)),Vt.send($n),Ut.next({type:Vn.Sent}),()=>{Vt.removeEventListener("error",ur),Vt.removeEventListener("abort",ur),Vt.removeEventListener("load",Lt),Vt.removeEventListener("timeout",ur),Ae.reportProgress&&(Vt.removeEventListener("progress",oi),null!==$n&&Vt.upload&&Vt.upload.removeEventListener("progress",Mi)),Vt.readyState!==Vt.DONE&&Vt.abort()}})))}static#e=this.\u0275fac=function(dt){return new(dt||Ue)(te.LFG(pe.JF))};static#t=this.\u0275prov=te.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();const Un=new te.OlP("XSRF_ENABLED"),Pi=new te.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ar=new te.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qn{}let it=(()=>{class Ue{constructor(Ae,dt,Ct){this.doc=Ae,this.platform=dt,this.cookieName=Ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}static#e=this.\u0275fac=function(dt){return new(dt||Ue)(te.LFG(pe.K0),te.LFG(te.Lbi),te.LFG(Pi))};static#t=this.\u0275prov=te.Yz7({token:Ue,factory:Ue.\u0275fac})}return Ue})();function Se(Ue,De){const Ae=Ue.url.toLowerCase();if(!(0,te.f3M)(Un)||"GET"===Ue.method||"HEAD"===Ue.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return De(Ue);const dt=(0,te.f3M)(qn).getToken(),Ct=(0,te.f3M)(ar);return null!=dt&&!Ue.headers.has(Ct)&&(Ue=Ue.clone({headers:Ue.headers.set(Ct,dt)})),De(Ue)}var _t=function(Ue){return Ue[Ue.Interceptors=0]="Interceptors",Ue[Ue.LegacyInterceptors=1]="LegacyInterceptors",Ue[Ue.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ue[Ue.NoXsrfProtection=3]="NoXsrfProtection",Ue[Ue.JsonpSupport=4]="JsonpSupport",Ue[Ue.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ue[Ue.Fetch=6]="Fetch",Ue}(_t||{});function En(...Ue){const De=[Ke,Kt,Br,{provide:Be,useExisting:Br},{provide:Ze,useExisting:Kt},{provide:hr,useValue:Se,multi:!0},{provide:Un,useValue:!0},{provide:qn,useClass:it}];for(const Ae of Ue)De.push(...Ae.\u0275providers);return(0,te.MR2)(De)}const Te=new te.OlP("LEGACY_INTERCEPTOR_FN");function re(){return function sn(Ue,De){return{\u0275kind:Ue,\u0275providers:De}}(_t.LegacyInterceptors,[{provide:Te,useFactory:Zr},{provide:hr,useExisting:Te,multi:!0}])}let on=(()=>{class Ue{static#e=this.\u0275fac=function(dt){return new(dt||Ue)};static#t=this.\u0275mod=te.oAB({type:Ue});static#n=this.\u0275inj=te.cJS({providers:[En(re())]})}return Ue})()},9212:(Wt,ze,U)=>{U.d(ze,{tb:()=>t,AFp:()=>dy,ip1:()=>sA,hGG:()=>RR,z2F:()=>qi,Ojb:()=>So,sBO:()=>Xy,Sil:()=>g0,EJc:()=>hx,Xts:()=>nf,SBq:()=>xf,lqb:()=>cu,qLn:()=>Sc,vpe:()=>kl,XFs:()=>Lt,OlP:()=>ct,zs3:()=>ea,ZZ4:()=>Ml,aQg:()=>Vg,soG:()=>p0,YKP:()=>fb,h0i:()=>xm,R0b:()=>Ks,FiY:()=>Hr,Lbi:()=>Ea,g9A:()=>Lm,Qsj:()=>rE,FYo:()=>nE,JOm:()=>ao,tp0:()=>Ls,Rgc:()=>_w,dDg:()=>Sx,eoX:()=>AA,q4F:()=>Dh,GfV:()=>Rf,s_b:()=>Wf,ifc:()=>ws,T8G:()=>Uf,VuI:()=>YR,MMx:()=>gb,Lck:()=>_D,eFA:()=>Re,Gpc:()=>Gr,f3M:()=>Pr,X6Q:()=>bR,$WT:()=>Wo,MR2:()=>Zc,_c5:()=>xR,qFp:()=>XR,r_H:()=>Lv,rg0:()=>sE,c2e:()=>oA,zSh:()=>Fs,HDt:()=>fA,wAp:()=>Y_,vHH:()=>Kt,lri:()=>CA,rWj:()=>DA,cg1:()=>_T,kuF:()=>Un,kL8:()=>PC,dqk:()=>we,Z0I:()=>Ae,eJc:()=>zl,QGY:()=>HI,F4k:()=>UT,RDi:()=>Al,AaK:()=>or,qOj:()=>av,Xq5:()=>lv,TTD:()=>Io,_Bn:()=>hb,jDz:()=>mb,xp6:()=>xh,uIk:()=>am,ekj:()=>yo,Suo:()=>BD,Xpm:()=>yu,lG2:()=>Vl,Yz7:()=>Ln,cJS:()=>Ue,oAB:()=>di,Yjl:()=>Ys,Y36:()=>Nf,_UZ:()=>Kp,BQk:()=>LI,ynx:()=>bm,qZA:()=>NI,TgZ:()=>Wp,EpF:()=>Cv,n5z:()=>Ti,LFG:()=>Oi,$8M:()=>P,$Z:()=>Bs,NdJ:()=>$I,CRH:()=>jD,oxw:()=>zT,ALo:()=>OD,lcZ:()=>ND,xi3:()=>kD,Q6J:()=>vi,s9C:()=>zI,MGl:()=>hw,VKq:()=>DD,kEZ:()=>AD,iGM:()=>VD,MAs:()=>zo,KtG:()=>vr,Jf7:()=>cf,CHM:()=>Na,oJD:()=>Od,LSH:()=>wf,P3R:()=>Nd,Udp:()=>co,YNc:()=>pm,_uU:()=>nb,Oqu:()=>ZI,hij:()=>pw,AsE:()=>QI,Gf:()=>UD});let te=null,_e=1;function fe(r){const s=te;return te=r,s}function Ze(r){if((!ut(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==_e)){if(!r.producerMustRecompute(r)&&!Oe(r))return r.dirty=!1,void(r.lastCleanEpoch=_e);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=_e}}function Oe(r){St(r);for(let s=0;s<r.producerNode.length;s++){const u=r.producerNode[s],h=r.producerLastReadVersion[s];if(h!==u.version||(Ze(u),h!==u.version))return!0}return!1}function Xe(r,s){if(function vt(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),St(r),1===r.liveConsumerNode.length)for(let h=0;h<r.producerNode.length;h++)Xe(r.producerNode[h],r.producerIndexOfThis[h]);const u=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[u],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[u],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const h=r.liveConsumerIndexOfThis[s],p=r.liveConsumerNode[s];St(p),p.producerIndexOfThis[h]=s}}function ut(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function St(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let bn=null;var mr=U(8645),hr=U(7394),cr=U(5592),Er=U(3019),Zr=U(5619),ci=U(2096),si=U(3020),Br=U(4664),Sr=U(3997);function Wn(r){for(let s in r)if(r[s]===Wn)return s;throw Error("Could not find renamed property on target object.")}function Wr(r,s){for(const u in s)s.hasOwnProperty(u)&&!r.hasOwnProperty(u)&&(r[u]=s[u])}function or(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(or).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function cn(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const kr=Wn({__forward_ref__:Wn});function Gr(r){return r.__forward_ref__=Gr,r.toString=function(){return or(this())},r}function Jt(r){return On(r)?r():r}function On(r){return"function"==typeof r&&r.hasOwnProperty(kr)&&r.__forward_ref__===Gr}function wr(r){return r&&!!r.\u0275providers}const ir="https://g.co/ng/security#xss";class Kt extends Error{constructor(s,u){super(Un(s,u)),this.code=s}}function Un(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}const Ir=Wn({\u0275cmp:Wn}),Pi=Wn({\u0275dir:Wn}),Wi=Wn({\u0275pipe:Wn}),ar=Wn({\u0275mod:Wn}),qn=Wn({\u0275fac:Wn}),it=Wn({__NG_ELEMENT_ID__:Wn}),Se=Wn({__NG_ENV_ID__:Wn});function je(r){return"string"==typeof r?r:null==r?"":String(r)}function q(r,s){throw new Kt(-201,!1)}function ge(r,s){null==r&&function Me(r,s,u,h){throw new Error(`ASSERTION ERROR: ${r}`+(null==h?"":` [Expected=> ${u} ${h} ${s} <=Actual]`))}(s,r,null,"!=")}function Ln(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ue(r){return{providers:r.providers||[],imports:r.imports||[]}}function De(r){return dt(r,Vt)||dt(r,Nn)}function Ae(r){return null!==De(r)}function dt(r,s){return r.hasOwnProperty(s)?r[s]:null}function Ut(r){return r&&(r.hasOwnProperty($n)||r.hasOwnProperty(Mr))?r[$n]:null}const Vt=Wn({\u0275prov:Wn}),$n=Wn({\u0275inj:Wn}),Nn=Wn({ngInjectableDef:Wn}),Mr=Wn({ngInjectorDef:Wn});var Lt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Lt||{});let ur;function br(){return ur}function oi(r){const s=ur;return ur=r,s}function Mi(r,s,u){const h=De(r);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Lt.Optional?null:void 0!==s?s:void q(or(r))}const we=globalThis;class ct{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ln({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Lo={},Lu="__NG_DI_FLAG__",Go="ngTempTokenPath",fu=/\n/gm,Qs="__source";let ys;function qo(r){const s=ys;return ys=r,s}function Fu(r,s=Lt.Default){if(void 0===ys)throw new Kt(-203,!1);return null===ys?Mi(r,void 0,s):ys.get(r,s&Lt.Optional?null:void 0,s)}function Oi(r,s=Lt.Default){return(br()||Fu)(Jt(r),s)}function Pr(r,s=Lt.Default){return Oi(r,Wa(s))}function Wa(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function hs(r){const s=[];for(let u=0;u<r.length;u++){const h=Jt(r[u]);if(Array.isArray(h)){if(0===h.length)throw new Kt(900,!1);let p,y=Lt.Default;for(let T=0;T<h.length;T++){const C=h[T],R=mu(C);"number"==typeof R?-1===R?p=C.token:y|=R:p=C}s.push(Oi(p,y))}else s.push(Oi(h))}return s}function gu(r,s){return r[Lu]=s,r.prototype[Lu]=s,r}function mu(r){return r[Lu]}function ho(r){return{toString:r}.toString()}var Ka=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ka||{}),ws=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(ws||{});const Ms={},$r=[];function Os(r,s,u){let h=r.length;for(;;){const p=r.indexOf(s,u);if(-1===p)return p;if(0===p||r.charCodeAt(p-1)<=32){const y=s.length;if(p+y===h||r.charCodeAt(p+y)<=32)return p}u=p+1}}function Fo(r,s,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const y=u[h++],T=u[h++],C=u[h++];r.setAttribute(s,T,C,y)}else{const y=p,T=u[++h];Qa(y)?r.setProperty(s,y,T):r.setAttribute(s,y,T),h++}}return h}function Za(r){return 3===r||4===r||6===r}function Qa(r){return 64===r.charCodeAt(0)}function Ya(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let u=-1;for(let h=0;h<s.length;h++){const p=s[h];"number"==typeof p?u=p:0===u||Vu(r,u,p,null,-1===u||2===u?s[++h]:null)}}return r}function Vu(r,s,u,h,p){let y=0,T=r.length;if(-1===s)T=-1;else for(;y<r.length;){const C=r[y++];if("number"==typeof C){if(C===s){T=-1;break}if(C>s){T=y-1;break}}}for(;y<r.length;){const C=r[y];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==p&&(r[y+1]=p));if(h===r[y+1])return void(r[y+2]=p)}y++,null!==h&&y++,null!==p&&y++}-1!==T&&(r.splice(T,0,s),y=T+1),r.splice(y++,0,u),null!==h&&r.splice(y++,0,h),null!==p&&r.splice(y++,0,p)}const la="ng-template";function _u(r,s,u){let h=0,p=!0;for(;h<r.length;){let y=r[h++];if("string"==typeof y&&p){const T=r[h++];if(u&&"class"===y&&-1!==Os(T.toLowerCase(),s,0))return!0}else{if(1===y){for(;h<r.length&&"string"==typeof(y=r[h++]);)if(y.toLowerCase()===s)return!0;return!1}"number"==typeof y&&(p=!1)}}return!1}function Da(r){return 4===r.type&&r.value!==la}function Uu(r,s,u){return s===(4!==r.type||u?r.value:la)}function Fc(r,s,u){let h=4;const p=r.attrs||[],y=function ju(r){for(let s=0;s<r.length;s++)if(Za(r[s]))return s;return r.length}(p);let T=!1;for(let C=0;C<s.length;C++){const R=s[C];if("number"!=typeof R){if(!T)if(4&h){if(h=2|1&h,""!==R&&!Uu(r,R,u)||""===R&&1===s.length){if(fo(h))return!1;T=!0}}else{const G=8&h?R:s[++C];if(8&h&&null!==r.attrs){if(!_u(r.attrs,G,u)){if(fo(h))return!1;T=!0}continue}const ce=Qd(8&h?"class":R,p,Da(r),u);if(-1===ce){if(fo(h))return!1;T=!0;continue}if(""!==G){let xe;xe=ce>y?"":p[ce+1].toLowerCase();const Fe=8&h?xe:null;if(Fe&&-1!==Os(Fe,G,0)||2&h&&G!==xe){if(fo(h))return!1;T=!0}}}}else{if(!T&&!fo(h)&&!fo(R))return!1;if(T&&fo(R))continue;T=!1,h=R|1&h}}return fo(h)||T}function fo(r){return 0==(1&r)}function Qd(r,s,u,h){if(null===s)return-1;let p=0;if(h||!u){let y=!1;for(;p<s.length;){const T=s[p];if(T===r)return p;if(3===T||6===T)y=!0;else{if(1===T||2===T){let C=s[++p];for(;"string"==typeof C;)C=s[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=y?1:2}return-1}return function dd(r,s){let u=r.indexOf(4);if(u>-1)for(u++;u<r.length;){const h=r[u];if("number"==typeof h)return-1;if(h===s)return u;u++}return-1}(s,r)}function Bu(r,s,u=!1){for(let h=0;h<s.length;h++)if(Fc(r,s[h],u))return!0;return!1}function Is(r,s){return r?":not("+s.trim()+")":s}function ji(r){let s=r[0],u=1,h=2,p="",y=!1;for(;u<r.length;){let T=r[u];if("string"==typeof T)if(2&h){const C=r[++u];p+="["+T+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+T:4&h&&(p+=" "+T);else""!==p&&!fo(T)&&(s+=Is(y,p),p=""),h=T,y=y||!fo(h);u++}return""!==p&&(s+=Is(y,p)),s}function yu(r){return ho(()=>{const s=Ko(r),u={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ka.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||ws.Emulated,styles:r.styles||$r,_:null,schemas:r.schemas||null,tView:null,id:""};Vo(u);const h=r.dependencies;return u.directiveDefs=$u(h,!1),u.pipeDefs=$u(h,!0),u.id=function fl(r){let s=0;const u=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const p of u)s=Math.imul(31,s)+p.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(u),u})}function Xa(r){return dr(r)||ai(r)}function Fl(r){return null!==r}function di(r){return ho(()=>({type:r.type,bootstrap:r.bootstrap||$r,declarations:r.declarations||$r,imports:r.imports||$r,exports:r.exports||$r,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Hu(r,s){if(null==r)return Ms;const u={};for(const h in r)if(r.hasOwnProperty(h)){let p=r[h],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),u[p]=h,s&&(s[p]=y)}return u}function Vl(r){return ho(()=>{const s=Ko(r);return Vo(s),s})}function Ys(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function dr(r){return r[Ir]||null}function ai(r){return r[Pi]||null}function ss(r){return r[Wi]||null}function Wo(r){const s=dr(r)||ai(r)||ss(r);return null!==s&&s.standalone}function Hi(r,s){const u=r[ar]||null;if(!u&&!0===s)throw new Error(`Type ${or(r)} does not have '\u0275mod' property.`);return u}function Ko(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Ms,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||$r,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hu(r.inputs,s),outputs:Hu(r.outputs),debugInfo:null}}function Vo(r){r.features?.forEach(s=>s(r))}function $u(r,s){if(!r)return null;const u=s?ss:Xa;return()=>("function"==typeof r?r():r).map(h=>u(h)).filter(Fl)}const Ni=0,qt=1,sr=2,yr=3,Js=4,Ts=5,os=6,js=7,hi=8,ts=9,Zo=10,pr=11,eu=12,pl=13,tu=14,Ai=15,Sa=16,po=17,Ki=18,go=19,da=20,xa=21,ha=22,wo=23,zn=25,Ra=1,Hs=7,Xs=9,ki=10;var Kr=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r[r.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",r}(Kr||{});function fs(r){return Array.isArray(r)&&"object"==typeof r[Ra]}function Yi(r){return Array.isArray(r)&&!0===r[Ra]}function $s(r){return 0!=(4&r.flags)}function Pa(r){return r.componentOffset>-1}function fa(r){return 1==(1&r.flags)}function bs(r){return!!r.template}function vu(r){return 0!=(512&r[sr])}function gr(r,s){return r.hasOwnProperty(qn)?r[qn]:null}class Ji{constructor(s,u,h){this.previousValue=s,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Io(){return Ot}function Ot(r){return r.type.prototype.ngOnChanges&&(r.setInput=Li),wi}function wi(){const r=gn(this),s=r?.current;if(s){const u=r.previous;if(u===Ms)r.previous=s;else for(let h in s)u[h]=s[h];r.current=null,this.ngOnChanges(s)}}function Li(r,s,u,h){const p=this.declaredInputs[u],y=gn(r)||function xn(r,s){return r[To]=s}(r,{previous:Ms,current:null}),T=y.current||(y.current={}),C=y.previous,R=C[p];T[p]=new Ji(R&&R.currentValue,s,C===Ms),r[h]=s}Io.ngInherit=!0;const To="__ngSimpleChanges__";function gn(r){return r[To]||null}const st=function(r,s,u){};function Fi(r){for(;Array.isArray(r);)r=r[Ni];return r}function iu(r,s){return Fi(s[r])}function $i(r,s){return Fi(s[r.index])}function su(r,s){return r.data[s]}function bo(r,s){return r[s]}function Oa(r,s){const u=s[r];return fs(u)?u:u[Ni]}function lc(r){return 128==(128&r[sr])}function er(r,s){return null==s?null:r[s]}function zu(r){r[po]=0}function pd(r){1024&r[sr]||(r[sr]|=1024,lc(r)&&ga(r))}function Kn(r){9216&r[sr]&&ga(r)}function ga(r){let s=r[yr];for(;null!==s&&!(Yi(s)&&s[sr]&Kr.HasChildViewsToRefresh||fs(s)&&8192&s[sr]);){if(Yi(s))s[sr]|=Kr.HasChildViewsToRefresh;else if(s[sr]|=8192,!lc(s))break;s=s[yr]}}function An(r,s){if(256==(256&r[sr]))throw new Kt(911,!1);null===r[xa]&&(r[xa]=[]),r[xa].push(s)}const tn={lFrame:Lr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qu(){return tn.bindingsEnabled}function It(){return tn.lFrame.lView}function kt(){return tn.lFrame.tView}function Na(r){return tn.lFrame.contextLView=r,r[hi]}function vr(r){return tn.lFrame.contextLView=null,r}function He(){let r=wu();for(;null!==r&&64===r.type;)r=r.parent;return r}function wu(){return tn.lFrame.currentTNode}function Do(r,s){const u=tn.lFrame;u.currentTNode=r,u.isParent=s}function Iu(){return tn.lFrame.isParent}function ka(){tn.lFrame.isParent=!1}function ri(){const r=tn.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function rs(){return tn.lFrame.bindingIndex++}function Ao(r){const s=tn.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,u}function D(r,s){const u=tn.lFrame;u.bindingIndex=u.bindingRootIndex=r,A(s)}function A(r){tn.lFrame.currentDirectiveIndex=r}function W(){return tn.lFrame.currentQueryIndex}function se(r){tn.lFrame.currentQueryIndex=r}function Ee(r){const s=r[qt];return 2===s.type?s.declTNode:1===s.type?r[Ts]:null}function ot(r,s,u){if(u&Lt.SkipSelf){let p=s,y=r;for(;!(p=p.parent,null!==p||u&Lt.Host||(p=Ee(y),null===p||(y=y[tu],10&p.type))););if(null===p)return!1;s=p,r=y}const h=tn.lFrame=en();return h.currentTNode=s,h.lView=r,!0}function nt(r){const s=en(),u=r[qt];tn.lFrame=s,s.currentTNode=u.firstChild,s.lView=r,s.tView=u,s.contextLView=r,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function en(){const r=tn.lFrame,s=null===r?null:r.child;return null===s?Lr(r):s}function Lr(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Fr(){const r=tn.lFrame;return tn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const us=Fr;function so(){const r=Fr();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ii(){return tn.lFrame.selectedIndex}function _a(r){tn.lFrame.selectedIndex=r}function ii(){const r=tn.lFrame;return su(r.tView,r.selectedIndex)}let eg=!0;function hc(){return eg}function ou(r){eg=r}function Ul(r,s){for(let u=s.directiveStart,h=s.directiveEnd;u<h;u++){const y=r.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:G,ngOnDestroy:ee}=y;T&&(r.contentHooks??=[]).push(-u,T),C&&((r.contentHooks??=[]).push(u,C),(r.contentCheckHooks??=[]).push(u,C)),R&&(r.viewHooks??=[]).push(-u,R),G&&((r.viewHooks??=[]).push(u,G),(r.viewCheckHooks??=[]).push(u,G)),null!=ee&&(r.destroyHooks??=[]).push(u,ee)}}function Cs(r,s,u){_d(r,s,3,u)}function au(r,s,u,h){(3&r[sr])===u&&_d(r,s,u,h)}function Ku(r,s){let u=r[sr];(3&u)===s&&(u&=16383,u+=1,r[sr]=u)}function _d(r,s,u,h){const y=h??-1,T=s.length-1;let C=0;for(let R=void 0!==h?65535&r[po]:0;R<T;R++)if("number"==typeof s[R+1]){if(C=s[R],null!=h&&C>=h)break}else s[R]<0&&(r[po]+=65536),(C<y||-1==y)&&(fc(r,u,s,R),r[po]=(4294901760&r[po])+R+2),R++}function gi(r,s){st(4,r,s);const u=fe(null);try{s.call(r)}finally{fe(u),st(5,r,s)}}function fc(r,s,u,h){const p=u[h]<0,y=u[h+1],C=r[p?-u[h]:u[h]];p?r[sr]>>14<r[po]>>16&&(3&r[sr])===s&&(r[sr]+=16384,gi(C,y)):gi(C,y)}const ls=-1;class Vi{constructor(s,u,h){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Qu(r){return r!==ls}function Ui(r){return 32767&r}function Yu(r,s){let u=function Cu(r){return r>>16}(r),h=s;for(;u>0;)h=h[tu],u--;return h}let ps=!0;function gs(r){const s=ps;return ps=r,s}const La=255,uu=5;let Hc=0;const oo={};function Du(r,s){const u=$c(r,s);if(-1!==u)return u;const h=s[qt];h.firstCreatePass&&(r.injectorIndex=s.length,Va(h.data,r),Va(s,null),Va(h.blueprint,null));const p=Qo(r,s),y=r.injectorIndex;if(Qu(p)){const T=Ui(p),C=Yu(p,s),R=C[qt].data;for(let G=0;G<8;G++)s[y+G]=C[T+G]|R[T+G]}return s[y+8]=p,y}function Va(r,s){r.push(0,0,0,0,0,0,0,0,s)}function $c(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Qo(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let u=0,h=null,p=s;for(;null!==p;){if(h=Au(p),null===h)return ls;if(u++,p=p[tu],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return ls}function lu(r,s,u){!function Fa(r,s,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(it)&&(h=u[it]),null==h&&(h=u[it]=Hc++);const p=h&La;s.data[r+(p>>uu)]|=1<<p}(r,s,u)}function Bl(r,s,u){if(u&Lt.Optional||void 0!==r)return r;q()}function Jh(r,s,u,h){if(u&Lt.Optional&&void 0===h&&(h=null),!(u&(Lt.Self|Lt.Host))){const p=r[ts],y=oi(void 0);try{return p?p.get(s,h,u&Lt.Optional):Mi(s,h,u&Lt.Optional)}finally{oi(y)}}return Bl(h,0,u)}function jl(r,s,u,h=Lt.Default,p){if(null!==r){if(2048&s[sr]&&!(h&Lt.Self)){const T=function Yf(r,s,u,h,p){let y=r,T=s;for(;null!==y&&null!==T&&2048&T[sr]&&!(512&T[sr]);){const C=pc(y,T,u,h|Lt.Self,oo);if(C!==oo)return C;let R=y.parent;if(!R){const G=T[da];if(G){const ee=G.get(u,oo,h);if(ee!==oo)return ee}R=Au(T),T=T[tu]}y=R}return p}(r,s,u,h,oo);if(T!==oo)return T}const y=pc(r,s,u,h,oo);if(y!==oo)return y}return Jh(s,u,h,p)}function pc(r,s,u,h,p){const y=function zc(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(it)?r[it]:void 0;return"number"==typeof s?s>=0?s&La:ng:s}(u);if("function"==typeof y){if(!ot(s,r,h))return h&Lt.Host?Bl(p,0,h):Jh(s,u,h,p);try{let T;if(T=y(h),null!=T||h&Lt.Optional)return T;q()}finally{us()}}else if("number"==typeof y){let T=null,C=$c(r,s),R=ls,G=h&Lt.Host?s[Ai][Ts]:null;for((-1===C||h&Lt.SkipSelf)&&(R=-1===C?Qo(r,s):s[C+8],R!==ls&&bl(h,!1)?(T=s[qt],C=Ui(R),s=Yu(R,s)):C=-1);-1!==C;){const ee=s[qt];if(Gc(y,C,ee.data)){const ce=eh(C,s,u,T,h,G);if(ce!==oo)return ce}R=s[C+8],R!==ls&&bl(h,s[qt].data[C+8]===G)&&Gc(y,C,s)?(T=ee,C=Ui(R),s=Yu(R,s)):C=-1}}return p}function eh(r,s,u,h,p,y){const T=s[qt],C=T.data[r+8],ee=Ua(C,T,u,null==h?Pa(C)&&ps:h!=T&&0!=(3&C.type),p&Lt.Host&&y===C);return null!==ee?Ba(s,T,ee,C):oo}function Ua(r,s,u,h,p){const y=r.providerIndexes,T=s.data,C=1048575&y,R=r.directiveStart,ee=y>>20,xe=p?C+ee:r.directiveEnd;for(let Fe=h?C:C+ee;Fe<xe;Fe++){const At=T[Fe];if(Fe<R&&u===At||Fe>=R&&At.type===u)return Fe}if(p){const Fe=T[R];if(Fe&&bs(Fe)&&Fe.type===u)return R}return null}function Ba(r,s,u,h){let p=r[u];const y=s.data;if(function Qh(r){return r instanceof Vi}(p)){const T=p;T.resolving&&function _r(r,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Kt(-200,`Circular dependency in DI detected for ${r}${u}`)}(function _t(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():je(r)}(y[u]));const C=gs(T.canSeeViewProviders);T.resolving=!0;const G=T.injectImpl?oi(T.injectImpl):null;ot(r,h,Lt.Default);try{p=r[u]=T.factory(void 0,y,r,h),s.firstCreatePass&&u>=h.directiveStart&&function Jd(r,s,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:y}=s.type.prototype;if(h){const T=Ot(s);(u.preOrderHooks??=[]).push(r,T),(u.preOrderCheckHooks??=[]).push(r,T)}p&&(u.preOrderHooks??=[]).push(0-r,p),y&&((u.preOrderHooks??=[]).push(r,y),(u.preOrderCheckHooks??=[]).push(r,y))}(u,y[u],s)}finally{null!==G&&oi(G),gs(C),T.resolving=!1,us()}}return p}function Gc(r,s,u){return!!(u[s+(r>>uu)]&1<<r)}function bl(r,s){return!(r&Lt.Self||r&Lt.Host&&s)}class ui{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,h){return jl(this._tNode,this._lView,s,Wa(h),u)}}function ng(){return new ui(He(),It())}function Ti(r){return ho(()=>{const s=r.prototype.constructor,u=s[qn]||Xu(s),h=Object.prototype;let p=Object.getPrototypeOf(r.prototype).constructor;for(;p&&p!==h;){const y=p[qn]||Xu(p);if(y&&y!==u)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Xu(r){return On(r)?()=>{const s=Xu(Jt(r));return s&&s()}:gr(r)}function Au(r){const s=r[qt],u=s.type;return 2===u?s.declTNode:1===u?r[Ts]:null}function P(r){return function Ju(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const u=r.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const y=u[p];if(Za(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(y===s)return u[p+1];p+=2}}}return null}(He(),r)}const Z="__parameters__";function gt(r,s,u){return ho(()=>{const h=function Le(r){return function(...u){if(r){const h=r(...u);for(const p in h)this[p]=h[p]}}}(s);function p(...y){if(this instanceof p)return h.apply(this,y),this;const T=new p(...y);return C.annotation=T,C;function C(R,G,ee){const ce=R.hasOwnProperty(Z)?R[Z]:Object.defineProperty(R,Z,{value:[]})[Z];for(;ce.length<=ee;)ce.push(null);return(ce[ee]=ce[ee]||[]).push(T),R}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=r,p.annotationCls=p,p})}function Jo(r,s){r.forEach(u=>Array.isArray(u)?Jo(u,s):s(u))}function qc(r,s,u){s>=r.length?r.push(u):r.splice(s,0,u)}function mc(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function ks(r,s,u){let h=yc(r,s);return h>=0?r[1|h]=u:(h=~h,function Dl(r,s,u,h){let p=r.length;if(p==s)r.push(u,h);else if(1===p)r.push(h,r[0]),r[0]=u;else{for(p--,r.push(r[p-1],r[p]);p>s;)r[p]=r[p-2],p--;r[s]=u,r[s+1]=h}}(r,h,s,u)),h}function $l(r,s){const u=yc(r,s);if(u>=0)return r[1|u]}function yc(r,s){return function E(r,s,u){let h=0,p=r.length>>u;for(;p!==h;){const y=h+(p-h>>1),T=r[y<<u];if(s===T)return y<<u;T>s?p=y:h=y+1}return~(p<<u)}(r,s,1)}const Hr=gu(gt("Optional"),8),Ls=gu(gt("SkipSelf"),4),nf=new ct("ENVIRONMENT_INITIALIZER"),Rm=new ct("INJECTOR",-1),rp=new ct("INJECTOR_DEF_TYPES");class Kc{get(s,u=Lo){if(u===Lo){const h=new Error(`NullInjectorError: No provider for ${or(s)}!`);throw h.name="NullInjectorError",h}return u}}function Zc(r){return{\u0275providers:r}}function kv(...r){return{\u0275providers:nh(0,r),\u0275fromNgModule:!0}}function nh(r,...s){const u=[],h=new Set;let p;const y=T=>{u.push(T)};return Jo(s,T=>{const C=T;vd(C,y,[],h)&&(p||=[],p.push(C))}),void 0!==p&&ny(p,y),u}function ny(r,s){for(let u=0;u<r.length;u++){const{ngModule:h,providers:p}=r[u];rh(p,y=>{s(y,h)})}}function vd(r,s,u,h){if(!(r=Jt(r)))return!1;let p=null,y=Ut(r);const T=!y&&dr(r);if(y||T){if(T&&!T.standalone)return!1;p=r}else{const R=r.ngModule;if(y=Ut(R),!y)return!1;p=R}const C=h.has(p);if(T){if(C)return!1;if(h.add(p),T.dependencies){const R="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const G of R)vd(G,s,u,h)}}else{if(!y)return!1;{if(null!=y.imports&&!C){let G;h.add(p);try{Jo(y.imports,ee=>{vd(ee,s,u,h)&&(G||=[],G.push(ee))})}finally{}void 0!==G&&ny(G,s)}if(!C){const G=gr(p)||(()=>new p);s({provide:p,useFactory:G,deps:$r},p),s({provide:rp,useValue:p,multi:!0},p),s({provide:nf,useValue:()=>Oi(p),multi:!0},p)}const R=y.providers;if(null!=R&&!C){const G=r;rh(R,ee=>{s(ee,G)})}}}return p!==r&&void 0!==r.providers}function rh(r,s){for(let u of r)wr(u)&&(u=u.\u0275providers),Array.isArray(u)?rh(u,s):s(u)}const ih=Wn({provide:String,useValue:Wn});function og(r){return null!==r&&"object"==typeof r&&ih in r}function nl(r){return"function"==typeof r}const Fs=new ct("Set Injector scope."),ag={},ug={};let iy;function lg(){return void 0===iy&&(iy=new Kc),iy}class cu{}class Su extends cu{get destroyed(){return this._destroyed}constructor(s,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rf(s,T=>this.processProvider(T)),this.records.set(Rm,Ed(void 0,this)),p.has("environment")&&this.records.set(cu,Ed(void 0,this));const y=this.records.get(Fs);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(rp,$r,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of s)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const u=qo(this),h=oi(void 0);try{return s()}finally{qo(u),oi(h)}}get(s,u=Lo,h=Lt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Se))return s[Se](this);h=Wa(h);const y=qo(this),T=oi(void 0);try{if(!(h&Lt.SkipSelf)){let R=this.records.get(s);if(void 0===R){const G=function hg(r){return"function"==typeof r||"object"==typeof r&&r instanceof ct}(s)&&De(s);R=G&&this.injectableDefInScope(G)?Ed(cg(s),ag):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(h&Lt.Self?lg():this.parent).get(s,u=h&Lt.Optional&&u===Lo?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[Go]=C[Go]||[]).unshift(or(s)),y)throw C;return function dl(r,s,u,h){const p=r[Go];throw s[Qs]&&p.unshift(s[Qs]),r.message=function hl(r,s,u,h=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let p=or(s);if(Array.isArray(s))p=s.map(or).join(" -> ");else if("object"==typeof s){let y=[];for(let T in s)if(s.hasOwnProperty(T)){let C=s[T];y.push(T+":"+("string"==typeof C?JSON.stringify(C):or(C)))}p=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${r.replace(fu,"\n  ")}`}("\n"+r.message,p,u,h),r.ngTokenPath=p,r[Go]=null,r}(C,s,"R3InjectorError",this.source)}throw C}finally{oi(T),qo(y)}}resolveInjectorInitializers(){const s=qo(this),u=oi(void 0);try{const p=this.get(nf,$r,Lt.Self);for(const y of p)y()}finally{qo(s),oi(u)}}toString(){const s=[],u=this.records;for(const h of u.keys())s.push(or(h));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Kt(205,!1)}processProvider(s){let u=nl(s=Jt(s))?s:Jt(s&&s.provide);const h=function sy(r){return og(r)?Ed(void 0,r.useValue):Ed(du(r),ag)}(s);if(nl(s)||!0!==s.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=Ed(void 0,ag,!0),p.factory=()=>hs(p.multi),this.records.set(u,p)),u=s,p.multi.push(s)}this.records.set(u,h)}hydrate(s,u){return u.value===ag&&(u.value=ug,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Om(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=Jt(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(s){const u=this._onDestroyHooks.indexOf(s);-1!==u&&this._onDestroyHooks.splice(u,1)}}function cg(r){const s=De(r),u=null!==s?s.factory:gr(r);if(null!==u)return u;if(r instanceof ct)throw new Kt(204,!1);if(r instanceof Function)return function dg(r){const s=r.length;if(s>0)throw function _c(r,s){const u=[];for(let h=0;h<r;h++)u.push(s);return u}(s,"?"),new Kt(204,!1);const u=function Ct(r){return r&&(r[Vt]||r[Nn])||null}(r);return null!==u?()=>u.factory(r):()=>new r}(r);throw new Kt(204,!1)}function du(r,s,u){let h;if(nl(r)){const p=Jt(r);return gr(p)||cg(p)}if(og(r))h=()=>Jt(r.useValue);else if(function cs(r){return!(!r||!r.useFactory)}(r))h=()=>r.useFactory(...hs(r.deps||[]));else if(function ry(r){return!(!r||!r.useExisting)}(r))h=()=>Oi(Jt(r.useExisting));else{const p=Jt(r&&(r.useClass||r.provide));if(!function oy(r){return!!r.deps}(r))return gr(p)||cg(p);h=()=>new p(...hs(r.deps))}return h}function Ed(r,s,u=!1){return{factory:r,value:s,multi:u?[]:void 0}}function rf(r,s){for(const u of r)Array.isArray(u)?rf(u,s):u&&wr(u)?rf(u.\u0275providers,s):s(u)}function Lv(r,s){r instanceof Su&&r.assertNotDestroyed();const h=qo(r),p=oi(void 0);try{return s()}finally{qo(h),oi(p)}}function ip(r,s=null,u=null,h){const p=af(r,s,u,h);return p.resolveInjectorInitializers(),p}function af(r,s=null,u=null,h,p=new Set){const y=[u||$r,kv(r)];return h=h||("object"==typeof r?void 0:or(r)),new Su(y,s||lg(),h||null,p)}let lf,ea=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=Lo;static#t=this.NULL=new Kc;static create(u,h){if(Array.isArray(u))return ip({name:""},h,u,"");{const p=u.name??"";return ip({name:p},u.parent,u.providers,p)}}static#n=this.\u0275prov=Ln({token:r,providedIn:"any",factory:()=>Oi(Rm)});static#r=this.__NG_ELEMENT_ID__=-1}return r})();function zl(r){return!!Hi(r)}function Al(r){lf=r}function wd(){if(void 0!==lf)return lf;if(typeof document<"u")return document;throw new Kt(210,!1)}const dy=new ct("AppId",{providedIn:"root",factory:()=>sp}),sp="ng",Lm=new ct("Platform Initializer"),Ea=new ct("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),So=new ct("CSP nonce",{providedIn:"root",factory:()=>wd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function cf(r){return r.ownerDocument.defaultView}function wa(r){return r instanceof Function?r():r}function mt(r){return 128==(128&r.flags)}var ao=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(ao||{});const _y=/^>|^->|<!--|-->|--!>|<!-$/g,Vm=/(<|>)/g,_g="\u200b$1\u200b";const yy=new Map;let jv=0;const As="__ngContext__";function Pn(r,s){fs(s)?(r[As]=s[go],function Dw(r){yy.set(r[go],r)}(s)):r[As]=s}let Dd;function dh(r,s){return Dd(r,s)}function xo(r){const s=r[yr];return Yi(s)?s[yr]:s}function hu(r){return _f(r[eu])}function Jc(r){return _f(r[Js])}function _f(r){for(;null!==r&&!Yi(r);)r=r[Js];return r}function Qe(r,s,u,h,p){if(null!=h){let y,T=!1;Yi(h)?y=h:fs(h)&&(T=!0,h=h[Ni]);const C=Fi(h);0===r&&null!==u?null==p?by(s,u,C):Ha(s,u,C,p||null,!0):1===r&&null!==u?Ha(s,u,C,p||null,!0):2===r?function zm(r,s,u){const h=Eg(r,s);h&&function mh(r,s,u,h){r.removeChild(s,u,h)}(r,h,s,u)}(s,C,T):3===r&&s.destroyNode(C),null!=y&&function Ry(r,s,u,h,p){const y=u[Hs];y!==Fi(u)&&Qe(s,r,h,y,p);for(let C=ki;C<u.length;C++){const R=u[C];Sd(R[qt],R,r,s,h,y)}}(s,r,y,u,p)}}function fh(r,s){return r.createComment(function lh(r){return r.replace(_y,s=>s.replace(Vm,_g))}(s))}function Ad(r,s,u){return r.createElement(s,u)}function zv(r,s){const u=r[Xs],h=u.indexOf(s);u.splice(h,1)}function Ia(r,s){if(r.length<=ki)return;const u=ki+s,h=r[u];if(h){const p=h[Sa];null!==p&&p!==r&&zv(p,h),s>0&&(r[u-1][Js]=h[Js]);const y=mc(r,ki+s);!function rl(r,s){Sd(r,s,s[pr],2,null,null),s[Ni]=null,s[Ts]=null}(h[qt],h);const T=y[Ki];null!==T&&T.detachView(y[qt]),h[yr]=null,h[Js]=null,h[sr]&=-129}return h}function ph(r,s){if(!(256&s[sr])){const u=s[pr];s[wo]&&function bt(r){if(St(r),ut(r))for(let s=0;s<r.producerNode.length;s++)Xe(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}(s[wo]),u.destroyNode&&Sd(r,s,u,3,null,null),function Iy(r){let s=r[eu];if(!s)return gh(r[qt],r);for(;s;){let u=null;if(fs(s))u=s[eu];else{const h=s[ki];h&&(u=h)}if(!u){for(;s&&!s[Js]&&s!==r;)fs(s)&&gh(s[qt],s),s=s[yr];null===s&&(s=r),fs(s)&&gh(s[qt],s),u=s&&s[Js]}s=u}}(s)}}function gh(r,s){if(!(256&s[sr])){s[sr]&=-129,s[sr]|=256,function ia(r,s){let u;if(null!=r&&null!=(u=r.destroyHooks))for(let h=0;h<u.length;h+=2){const p=s[u[h]];if(!(p instanceof Vi)){const y=u[h+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const C=p[y[T]],R=y[T+1];st(4,C,R);try{R.call(C)}finally{st(5,C,R)}}else{st(4,p,y);try{y.call(p)}finally{st(5,p,y)}}}}}(r,s),function Gv(r,s){const u=r.cleanup,h=s[js];if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const T=u[y+3];T>=0?h[T]():h[-T].unsubscribe(),y+=2}else u[y].call(h[u[y+1]]);null!==h&&(s[js]=null);const p=s[xa];if(null!==p){s[xa]=null;for(let y=0;y<p.length;y++)(0,p[y])()}}(r,s),1===s[qt].type&&s[pr].destroy();const u=s[Sa];if(null!==u&&Yi(s[yr])){u!==s[yr]&&zv(u,s);const h=s[Ki];null!==h&&h.detachView(r)}!function yg(r){yy.delete(r[go])}(s)}}function jm(r,s,u){return function Ty(r,s,u){let h=s;for(;null!==h&&40&h.type;)h=(s=h).parent;if(null===h)return u[Ni];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:y}=r.data[h.directiveStart+p];if(y===ws.None||y===ws.Emulated)return null}return $i(h,u)}}(r,s.parent,u)}function Ha(r,s,u,h,p){r.insertBefore(s,u,h,p)}function by(r,s,u){r.appendChild(s,u)}function up(r,s,u,h,p){null!==h?Ha(r,s,u,h,p):by(r,s,u)}function Eg(r,s){return r.parentNode(s)}let Dy,Sl,xd,Kv=function Cy(r,s,u){return 40&r.type?$i(r,u):null};function Ro(r,s,u,h){const p=jm(r,h,s),y=s[pr],C=function Wv(r,s,u){return Kv(r,s,u)}(h.parent||s[Ts],h,s);if(null!=p)if(Array.isArray(u))for(let R=0;R<u.length;R++)up(y,p,u[R],C,!1);else up(y,p,u,C,!1);void 0!==Dy&&Dy(y,h,s,u,p)}function wg(r,s){if(null!==s){const u=s.type;if(3&u)return $i(s,r);if(4&u)return Ay(-1,r[s.index]);if(8&u){const h=s.child;if(null!==h)return wg(r,h);{const p=r[s.index];return Yi(p)?Ay(-1,p):Fi(p)}}if(32&u)return dh(s,r)()||Fi(r[s.index]);{const h=Zv(r,s);return null!==h?Array.isArray(h)?h[0]:wg(xo(r[Ai]),h):wg(r,s.next)}}return null}function Zv(r,s){return null!==s?r[Ai][Ts].projection[s.projection]:null}function Ay(r,s){const u=ki+r+1;if(u<s.length){const h=s[u],p=h[qt].firstChild;if(null!==p)return wg(h,p)}return s[Hs]}function Sy(r,s,u,h,p,y,T){for(;null!=u;){const C=h[u.index],R=u.type;if(T&&0===s&&(C&&Pn(Fi(C),h),u.flags|=2),32!=(32&u.flags))if(8&R)Sy(r,s,u.child,h,p,y,!1),Qe(s,r,p,C,y);else if(32&R){const G=dh(u,h);let ee;for(;ee=G();)Qe(s,r,p,ee,y);Qe(s,r,p,C,y)}else 16&R?xy(r,s,h,u,p,y):Qe(s,r,p,C,y);u=T?u.projectionNext:u.next}}function Sd(r,s,u,h,p,y){Sy(u,h,r.firstChild,s,p,y,!1)}function xy(r,s,u,h,p,y){const T=u[Ai],R=T[Ts].projection[h.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)Qe(s,r,p,R[G],y);else{let G=R;const ee=T[yr];mt(h)&&(G.flags|=128),Sy(r,s,G,ee,p,y,!0)}}function uo(r,s,u){""===u?r.removeAttribute(s,"class"):r.setAttribute(s,"class",u)}function lp(r,s,u){const{mergedAttrs:h,classes:p,styles:y}=u;null!==h&&Fo(r,s,h),null!==p&&uo(r,s,p),null!==y&&function Ig(r,s,u){r.setAttribute(s,"style",u)}(r,s,y)}function Qi(r){return function cp(){if(void 0===Sl&&(Sl=null,we.trustedTypes))try{Sl=we.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Sl}()?.createHTML(r)||r}function $a(){if(void 0===xd&&(xd=null,we.trustedTypes))try{xd=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return xd}function My(r){return $a()?.createHTML(r)||r}function Ho(r){return $a()?.createScriptURL(r)||r}class yf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ir})`}}function Rl(r){return r instanceof yf?r.changingThisBreaksApplicationSecurity:r}function Cg(r,s){const u=function Rd(r){return r instanceof yf&&r.getTypeName()||null}(r);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see ${ir})`)}return u===s}class hp{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Qi(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch{return null}}}class Pd{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const u=this.inertDocument.createElement("template");return u.innerHTML=Qi(s),u}}const fp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bc(r){return(r=String(r)).match(fp)?r:"unsafe:"+r}function Zl(r){const s={};for(const u of r.split(","))s[u]=!0;return s}function Md(...r){const s={};for(const u of r)for(const h in u)u.hasOwnProperty(h)&&(s[h]=!0);return s}const Zm=Zl("area,br,col,hr,img,wbr"),pp=Zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ef=Zl("rp,rt"),Oy=Md(Zm,Md(pp,Zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Md(Ef,Zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Md(Ef,pp)),Sg=Zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xg=Md(Sg,Zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xs=Zl("script,style,template");class yh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Oy.hasOwnProperty(u))return this.sanitizedSomething=!0,!xs.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=s.attributes;for(let p=0;p<h.length;p++){const y=h.item(p),T=y.name,C=T.toLowerCase();if(!xg.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let R=y.value;Sg[C]&&(R=bc(R)),this.buf.push(" ",T,'="',gp(R),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Oy.hasOwnProperty(u)&&!Zm.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(gp(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const Yv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jv=/([^\#-~ |!])/g;function gp(r){return r.replace(/&/g,"&amp;").replace(Yv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Jv,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mp;function Xi(r){return"content"in r&&function Gi(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Pl=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Pl||{});function Od(r){const s=If();return s?My(s.sanitize(Pl.HTML,r)||""):Cg(r,"HTML")?My(Rl(r)):function b0(r,s){let u=null;try{mp=mp||function Kl(r){const s=new Pd(r);return function Ag(){try{return!!(new window.DOMParser).parseFromString(Qi(""),"text/html")}catch{return!1}}()?new hp(s):s}(r);let h=s?String(s):"";u=mp.getInertBodyElement(h);let p=5,y=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=y,y=u.innerHTML,u=mp.getInertBodyElement(h)}while(h!==y);return Qi((new yh).sanitizeChildren(Xi(u)||u))}finally{if(u){const h=Xi(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}(wd(),je(r))}function wf(r){const s=If();return s?s.sanitize(Pl.URL,r)||"":Cg(r,"URL")?Rl(r):bc(je(r))}function vh(r){const s=If();if(s)return Ho(s.sanitize(Pl.RESOURCE_URL,r)||"");if(Cg(r,"ResourceURL"))return Ho(Rl(r));throw new Kt(904,!1)}function Nd(r,s,u){return function ky(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?vh:wf}(s,u)(r)}function If(){const r=It();return r&&r[Zo].sanitizer}let n_=(r,s,u)=>null;function Ep(r,s,u=!1){return n_(r,s,u)}class Ql{}class Ng{}class Yr{resolveComponentFactory(s){throw function Af(r){const s=Error(`No component factory found for ${or(r)}.`);return s.ngComponent=r,s}(s)}}let wp=(()=>{class r{static#e=this.NULL=new Yr}return r})();function kg(){return Sf(He(),It())}function Sf(r,s){return new xf($i(r,s))}let xf=(()=>{class r{constructor(u){this.nativeElement=u}static#e=this.__NG_ELEMENT_ID__=kg}return r})();function tE(r){return r instanceof xf?r.nativeElement:r}class nE{}let rE=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function iE(){const r=It(),u=Oa(He().index,r);return(fs(u)?u:r)[pr]}()}return r})(),Vy=(()=>{class r{static#e=this.\u0275prov=Ln({token:r,providedIn:"root",factory:()=>null})}return r})();class Rf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Dh=new Rf("17.0.3"),i_={};function sE(r){const s=fe(null);try{return r()}finally{fe(s)}}function o_(r){return!!Ah(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Ah(r){return null!==r&&("function"==typeof r||"object"==typeof r)}class oE{constructor(){}supports(s){return o_(s)}create(s){return new jy(s)}}const aE=(r,s)=>s;class jy{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||aE}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,h=this._removalsHead,p=0,y=null;for(;u||h;){const T=!h||u&&u.currentIndex<Ld(h,p,y)?u:h,C=Ld(T,p,y),R=T.currentIndex;if(T===h)p--,h=h._nextRemoved;else if(u=u._next,null==T.previousIndex)p++;else{y||(y=[]);const G=C-p,ee=R-p;if(G!=ee){for(let xe=0;xe<G;xe++){const Fe=xe<y.length?y[xe]:y[xe]=0,At=Fe+xe;ee<=At&&At<G&&(y[xe]=Fe+1)}y[T.previousIndex]=ee-G}}C!==R&&s(T,C,R)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!o_(s))throw new Kt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let p,y,T,u=this._itHead,h=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)y=s[C],T=this._trackByFn(C,y),null!==u&&Object.is(u.trackById,T)?(h&&(u=this._verifyReinsertion(u,y,T,C)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,T,C),h=!0),u=u._next}else p=0,function Us(r,s){if(Array.isArray(r))for(let u=0;u<r.length;u++)s(r[u]);else{const u=r[Symbol.iterator]();let h;for(;!(h=u.next()).done;)s(h.value)}}(s,C=>{T=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,T)?(h&&(u=this._verifyReinsertion(u,C,T,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,T,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,h,p){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,y,p)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,y,p)):s=this._addAfter(new Lg(u,h),y,p),s}_verifyReinsertion(s,u,h,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?s=this._reinsertAfter(y,s._prev,p):s.currentIndex!=p&&(s.currentIndex=p,this._addToMoves(s,p)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const p=s._prevRemoved,y=s._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(s,u,h),this._addToMoves(s,h),s}_moveAfter(s,u,h){return this._unlink(s),this._insertAfter(s,u,h),this._addToMoves(s,h),s}_addAfter(s,u,h){return this._insertAfter(s,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,h){const p=null===u?this._itHead:u._next;return s._next=p,s._prev=u,null===p?this._itTail=s:p._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new $y),this._linkedRecords.put(s),s.currentIndex=h,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,h=s._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $y),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Lg{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hy{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,s))return h;return null}remove(s){const u=s._prevDup,h=s._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class $y{constructor(){this.map=new Map}put(s){const u=s.trackById;let h=this.map.get(u);h||(h=new Hy,this.map.set(u,h)),h.add(s)}get(s,u){const p=this.map.get(s);return p?p.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ld(r,s,u){const h=r.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+s+p}class nd{constructor(){}supports(s){return s instanceof Map||Ah(s)}create(){return new a_}}class a_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||Ah(s)))throw new Kt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const h=s._prev;return u._next=s,u._prev=h,s._prev=u,h&&(h._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const p=this._records.get(s);this._maybeAddToChanges(p,u);const y=p._prev,T=p._next;return y&&(y._next=T),T&&(T._prev=y),p._next=null,p._prev=null,p}const h=new u_(s);return this._records.set(s,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(h=>u(s[h],h))}}class u_{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fg(){return new Ml([new oE])}let Ml=(()=>{class r{static#e=this.\u0275prov=Ln({token:r,providedIn:"root",factory:Fg});constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new r(u)}static extend(u){return{provide:r,useFactory:h=>r.create(u,h||Fg()),deps:[[r,new Ls,new Hr]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Kt(901,!1)}}return r})();function bp(){return new Vg([new nd])}let Vg=(()=>{class r{static#e=this.\u0275prov=Ln({token:r,providedIn:"root",factory:bp});constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new r(u)}static extend(u){return{provide:r,useFactory:h=>r.create(u,h||bp()),deps:[[r,new Ls,new Hr]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new Kt(901,!1)}}return r})();function Ol(r,s,u,h,p=!1){for(;null!==u;){const y=s[u.index];null!==y&&h.push(Fi(y)),Yi(y)&&l_(y,h);const T=u.type;if(8&T)Ol(r,s,u.child,h);else if(32&T){const C=dh(u,s);let R;for(;R=C();)h.push(R)}else if(16&T){const C=Zv(s,u);if(Array.isArray(C))h.push(...C);else{const R=xo(s[Ai]);Ol(R[qt],R,C,h,!0)}}u=p?u.projectionNext:u.next}return h}function l_(r,s){for(let u=ki;u<r.length;u++){const h=r[u],p=h[qt].firstChild;null!==p&&Ol(h[qt],h,p,s)}r[Hs]!==r[Ni]&&s.push(r[Hs])}let Po=[];const Cp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{ga(r.lView)},consumerOnSignalRead(){this.lView[wo]=this}};function c_(r){return r.ngOriginalError}class Sc{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&c_(s);for(;u&&c_(u);)u=c_(u);return u||null}}const Mf=new ct("",{providedIn:"root",factory:()=>!1}),Vr={};function xh(r){Rh(kt(),It(),Ii()+r,!1)}function Rh(r,s,u,h){if(!h)if(3==(3&s[sr])){const y=r.preOrderCheckHooks;null!==y&&Cs(s,y,u)}else{const y=r.preOrderHooks;null!==y&&au(s,y,0,u)}_a(u)}function Nf(r,s=Lt.Default){const u=It();return null===u?Oi(r,s):jl(He(),u,Jt(r),s)}function Bs(){throw new Error("invalid")}function Hg(r,s,u,h,p,y,T,C,R,G,ee){const ce=s.blueprint.slice();return ce[Ni]=p,ce[sr]=140|h,(null!==G||r&&2048&r[sr])&&(ce[sr]|=2048),zu(ce),ce[yr]=ce[tu]=r,ce[hi]=u,ce[Zo]=T||r&&r[Zo],ce[pr]=C||r&&r[pr],ce[ts]=R||r&&r[ts]||null,ce[Ts]=y,ce[go]=function Hv(){return jv++}(),ce[os]=ee,ce[da]=G,ce[Ai]=2==s.type?r[Ai]:ce,ce}function rd(r,s,u,h,p){let y=r.data[s];if(null===y)y=function Yl(r,s,u,h,p){const y=wu(),T=Iu(),R=r.data[s]=function xp(r,s,u,h,p,y){let T=s?s.injectorIndex:-1,C=0;return function Co(){return null!==tn.skipHydrationRootTNode}()&&(C|=128),{type:u,index:h,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,u,s,h,p);return null===r.firstChild&&(r.firstChild=R),null!==y&&(T?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}(r,s,u,h,p),function Tl(){return tn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=h,y.attrs=p;const T=function no(){const r=tn.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();y.injectorIndex=null===T?-1:T.injectorIndex}return Do(y,!0),y}function id(r,s,u,h){if(0===u)return-1;const p=s.length;for(let y=0;y<u;y++)s.push(h),r.blueprint.push(h),r.data.push(null);return p}function $g(r,s,u,h,p){const y=Ii(),T=2&h;try{_a(-1),T&&s.length>zn&&Rh(r,s,zn,!1),st(T?2:0,p),u(h,p)}finally{_a(y),st(T?3:1,p)}}function Fd(r,s,u){if($s(s)){const h=fe(null);try{const y=s.directiveEnd;for(let T=s.directiveStart;T<y;T++){const C=r.data[T];C.contentQueries&&C.contentQueries(1,u[T],T)}}finally{fe(h)}}}function Sp(r,s,u){qu()&&(function Yy(r,s,u,h){const p=u.directiveStart,y=u.directiveEnd;Pa(u)&&function Pp(r,s,u){const h=$i(s,r),p=Gg(u);let T=16;u.signals?T=4096:u.onPush&&(T=64);const C=y_(r,Hg(r,p,null,T,h,s,null,r[Zo].rendererFactory.createRenderer(h,u),null,null,null));r[s.index]=C}(s,u,r.data[p+u.componentOffset]),r.firstCreatePass||Du(u,s),Pn(h,s);const T=u.initialInputs;for(let C=p;C<y;C++){const R=r.data[C],G=Ba(s,r,C,u);Pn(G,s),null!==T&&ba(0,C-p,G,R,0,T),bs(R)&&(Oa(u.index,s)[hi]=Ba(s,r,C,u))}}(r,s,u,$i(u,s)),64==(64&u.flags)&&Lf(r,s,u))}function zg(r,s,u=$i){const h=s.localNames;if(null!==h){let p=s.index+1;for(let y=0;y<h.length;y+=2){const T=h[y+1],C=-1===T?u(s,r):r[T];r[p++]=C}}}function Gg(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=qg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function qg(r,s,u,h,p,y,T,C,R,G,ee){const ce=zn+h,xe=ce+p,Fe=function h_(r,s){const u=[];for(let h=0;h<s;h++)u.push(h<r?null:Vr);return u}(ce,xe),At="function"==typeof G?G():G;return Fe[qt]={type:r,blueprint:Fe,template:u,queries:null,viewQuery:C,declTNode:s,data:Fe.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:R,consts:At,incompleteFirstPass:!1,ssrId:ee}}let Wg=r=>null;function Zg(r,s,u,h){for(let p in r)if(r.hasOwnProperty(p)){u=null===u?{}:u;const y=r[p];null===h?gE(u,s,p,y):h.hasOwnProperty(p)&&gE(u,s,h[p],y)}return u}function gE(r,s,u,h){r.hasOwnProperty(u)?r[u].push(s,h):r[u]=[s,h]}function Mo(r,s,u,h,p,y,T,C){const R=$i(s,u);let ee,G=s.inputs;!C&&null!=G&&(ee=G[h])?(Ud(r,u,ee,h,p),Pa(s)&&function Rp(r,s){const u=Oa(s,r);16&u[sr]||(u[sr]|=64)}(u,s.index)):3&s.type&&(h=function kw(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(h),p=null!=T?T(p,s.value||"",h):p,y.setProperty(R,h,p))}function p_(r,s,u,h){if(qu()){const p=null===h?null:{"":-1},y=function Mh(r,s){const u=r.directiveRegistry;let h=null,p=null;if(u)for(let y=0;y<u.length;y++){const T=u[y];if(Bu(s,T.selectors,!1))if(h||(h=[]),bs(T))if(null!==T.findHostDirectiveDefs){const C=[];p=p||new Map,T.findHostDirectiveDefs(T,C,p),h.unshift(...C,T),od(r,s,C.length)}else h.unshift(T),od(r,s,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,h,p),h.push(T)}return null===h?null:[h,p]}(r,u);let T,C;null===y?T=C=null:[T,C]=y,null!==T&&sd(r,s,u,T,p,C),p&&function Oh(r,s,u){if(s){const h=r.localNames=[];for(let p=0;p<s.length;p+=2){const y=u[s[p+1]];if(null==y)throw new Kt(-301,!1);h.push(s[p],y)}}}(u,h,p)}u.mergedAttrs=Ya(u.mergedAttrs,u.attrs)}function sd(r,s,u,h,p,y){for(let G=0;G<h.length;G++)lu(Du(u,s),r,h[G].type);!function g_(r,s,u){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+u,r.providerIndexes=s}(u,r.data.length,h.length);for(let G=0;G<h.length;G++){const ee=h[G];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,C=!1,R=id(r,s,h.length,null);for(let G=0;G<h.length;G++){const ee=h[G];u.mergedAttrs=Ya(u.mergedAttrs,ee.hostAttrs),m_(r,u,s,R,ee),yi(R,ee,p),null!==ee.contentQueries&&(u.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(u.flags|=64);const ce=ee.type.prototype;!T&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((r.preOrderHooks??=[]).push(u.index),T=!0),!C&&(ce.ngOnChanges||ce.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(u.index),C=!0),R++}!function Nw(r,s,u){const p=s.directiveEnd,y=r.data,T=s.attrs,C=[];let R=null,G=null;for(let ee=s.directiveStart;ee<p;ee++){const ce=y[ee],xe=u?u.get(ce):null,At=xe?xe.outputs:null;R=Zg(ce.inputs,ee,R,xe?xe.inputs:null),G=Zg(ce.outputs,ee,G,At);const Gt=null===R||null===T||Da(s)?null:__(R,ee,T);C.push(Gt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=R,s.outputs=G}(r,u,y)}function Lf(r,s,u){const h=u.directiveStart,p=u.directiveEnd,y=u.index,T=function k(){return tn.lFrame.currentDirectiveIndex}();try{_a(y);for(let C=h;C<p;C++){const R=r.data[C],G=s[C];A(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Ph(R,G)}}finally{_a(-1),A(T)}}function Ph(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function od(r,s,u){s.componentOffset=u,(r.components??=[]).push(s.index)}function yi(r,s,u){if(u){if(s.exportAs)for(let h=0;h<s.exportAs.length;h++)u[s.exportAs[h]]=r;bs(s)&&(u[""]=r)}}function m_(r,s,u,h,p){r.data[h]=p;const y=p.factory||(p.factory=gr(p.type)),T=new Vi(y,bs(p),Nf);r.blueprint[h]=T,u[h]=T,function mE(r,s,u,h,p){const y=p.hostBindings;if(y){let T=r.hostBindingOpCodes;null===T&&(T=r.hostBindingOpCodes=[]);const C=~s.index;(function _E(r){let s=r.length;for(;s>0;){const u=r[--s];if("number"==typeof u&&u<0)return u}return 0})(T)!=C&&T.push(C),T.push(u,h,y)}}(r,s,h,id(r,u,p.hostVars,Vr),p)}function Jl(r,s,u,h,p,y){const T=$i(r,s);!function Ws(r,s,u,h,p,y,T){if(null==y)r.removeAttribute(s,p,u);else{const C=null==T?je(y):T(y,h||"",p);r.setAttribute(s,p,C,u)}}(s[pr],T,y,r.value,u,h,p)}function ba(r,s,u,h,p,y){const T=y[s];if(null!==T)for(let C=0;C<T.length;)Xl(h,u,T[C++],T[C++],T[C++])}function Xl(r,s,u,h,p){const y=fe(null);try{const T=r.inputTransforms;null!==T&&T.hasOwnProperty(h)&&(p=T[h].call(s,p)),null!==r.setInput?r.setInput(s,p,u,h):s[h]=p}finally{fe(y)}}function __(r,s,u){let h=null,p=0;for(;p<u.length;){const y=u[p];if(0!==y)if(5!==y){if("number"==typeof y)break;if(r.hasOwnProperty(y)){null===h&&(h=[]);const T=r[y];for(let C=0;C<T.length;C+=2)if(T[C]===s){h.push(y,T[C+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function Mp(r,s,u,h){return[r,!0,0,s,null,h,null,u,null,null]}function Vd(r,s){const u=r.contentQueries;if(null!==u){const h=fe(null);try{for(let p=0;p<u.length;p+=2){const T=u[p+1];if(-1!==T){const C=r.data[T];se(u[p]),C.contentQueries(2,s[T],T)}}}finally{fe(h)}}}function y_(r,s){return r[eu]?r[pl][Js]=s:r[eu]=s,r[pl]=s,s}function Op(r,s,u){se(0);const h=fe(null);try{s(r,u)}finally{fe(h)}}function v_(r){return r[js]||(r[js]=[])}function yE(r){return r.cleanup||(r.cleanup=[])}function Bi(r,s){const u=r[ts],h=u?u.get(Sc,null):null;h&&h.handleError(s)}function Ud(r,s,u,h,p){for(let y=0;y<u.length;){const T=u[y++],C=u[y++];Xl(r.data[T],s[T],h,C,p)}}function ad(r,s,u){const h=iu(s,r);!function ra(r,s,u){r.setValue(s,u)}(r[pr],h,u)}function Yg(r,s,u,h){const p=s[sr];if(256==(256&p))return;s[Zo].inlineEffectRunner?.flush(),nt(s);let T=null,C=null;(function EE(r){return 2!==r.type})(r)&&(C=function bi(r){return r[wo]??function uE(r){const s=Po.pop()??Object.create(Cp);return s.lView=r,s}(r)}(s),T=function Tt(r){return r&&(r.nextProducerIndex=0),fe(r)}(C));try{zu(s),function Kh(r){return tn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==u&&$g(r,s,u,2,h);const R=3==(3&p);if(R){const ce=r.preOrderCheckHooks;null!==ce&&Cs(s,ce,null)}else{const ce=r.preOrderHooks;null!==ce&&au(s,ce,0,null),Ku(s,0)}if(function Jy(r){for(let s=hu(r);null!==s;s=Jc(s)){if(!(s[sr]&Kr.HasTransplantedViews))continue;const u=s[Xs];for(let h=0;h<u.length;h++){pd(u[h])}}}(s),E_(s,0),null!==r.contentQueries&&Vd(r,s),R){const ce=r.contentCheckHooks;null!==ce&&Cs(s,ce)}else{const ce=r.contentHooks;null!==ce&&au(s,ce,1),Ku(s,1)}!function Wy(r,s){const u=r.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)_a(~p);else{const y=p,T=u[++h],C=u[++h];D(T,y),C(2,s[y])}}}finally{_a(-1)}}(r,s);const G=r.components;null!==G&&I_(s,G,0);const ee=r.viewQuery;if(null!==ee&&Op(2,ee,h),R){const ce=r.viewCheckHooks;null!==ce&&Cs(s,ce)}else{const ce=r.viewHooks;null!==ce&&au(s,ce,2),Ku(s,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[ha]){for(const ce of s[ha])ce();s[ha]=null}s[sr]&=-73}catch(R){throw ga(s),R}finally{null!==C&&(function ke(r,s){if(fe(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(ut(r))for(let u=r.nextProducerIndex;u<r.producerNode.length;u++)Xe(r.producerNode[u],r.producerIndexOfThis[u]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}(C,T),function lE(r){r.lView[wo]!==r&&(r.lView=null,Po.push(r))}(C)),so()}}function E_(r,s){for(let u=hu(r);null!==u;u=Jc(u)){u[sr]&=~Kr.HasChildViewsToRefresh;for(let h=ki;h<u.length;h++)w_(u[h],s)}}function wE(r,s,u){w_(Oa(s,r),u)}function w_(r,s){lc(r)&&IE(r,s)}function IE(r,s){const h=r[qt],p=r[sr],y=r[wo];let T=!!(0===s&&16&p);if(T||=!!(64&p&&0===s),T||=!!(1024&p),T||=!(!y?.dirty||!Oe(y)),y&&(y.dirty=!1),r[sr]&=-9217,T)Yg(h,r,h.template,r[hi]);else if(8192&p){E_(r,1);const C=h.components;null!==C&&I_(r,C,1)}}function I_(r,s,u){for(let h=0;h<s.length;h++)wE(r,s[h],u)}function Bd(r){for(;r;){r[sr]|=64;const s=xo(r);if(vu(r)&&!s)return r;r=s}return null}class jd{get rootNodes(){const s=this._lView,u=s[qt];return Ol(u,s,u.firstChild,[])}constructor(s,u,h=!0){this._lView=s,this._cdRefInjectingView=u,this.notifyErrorHandler=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hi]}set context(s){this._lView[hi]=s}get destroyed(){return 256==(256&this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[yr];if(Yi(s)){const u=s[8],h=u?u.indexOf(this):-1;h>-1&&(Ia(s,h),mc(u,h))}this._attachedToViewContainer=!1}ph(this._lView[qt],this._lView)}onDestroy(s){An(this._lView,s)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-129}reattach(){Kn(this._lView),this._lView[sr]|=128}detectChanges(){!function Qg(r,s=!0){const u=r[Zo],h=u.rendererFactory,p=u.afterRenderEventManager;h.begin?.(),p?.begin();try{const T=r[qt];Yg(T,r,T.template,r[hi]),function Lw(r){let s=0;for(;9216&r[sr]||r[wo]?.dirty;){if(100===s)throw new Kt(103,!1);s++,IE(r,1)}}(r)}catch(T){throw s&&Bi(r,T),T}finally{h.end?.(),u.inlineEffectRunner?.flush(),p?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Kt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ql(r,s){Sd(r,s,s[pr],2,null,null)}(this._lView[qt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Kt(902,!1);this._appRef=s}}let Xy=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Nl}return r})();function Nl(r){return function ec(r,s,u){if(Pa(r)&&!u){const h=Oa(r.index,s);return new jd(h,h)}return 47&r.type?new jd(s[Ai],s):null}(He(),It(),16==(16&r))}let Xg=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=tm;static#t=this.__NG_ENV_ID__=u=>u}return r})();class em extends Xg{constructor(s){super(),this._lView=s}onDestroy(s){return An(this._lView,s),()=>function gd(r,s){if(null===r[xa])return;const u=r[xa].indexOf(s);-1!==u&&r[xa].splice(u,1)}(this._lView,s)}}function tm(){return new em(It())}const ev=new Set;function il(r){ev.has(r)||(ev.add(r),performance?.mark?.("mark_use_counter",{detail:{feature:r}}))}function rm(r){return s=>{setTimeout(r,void 0,s)}}const kl=class bE extends mr.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,h){let p=s,y=u||(()=>null),T=h;if(s&&"object"==typeof s){const R=s;p=R.next?.bind(R),y=R.error?.bind(R),T=R.complete?.bind(R)}this.__isAsync&&(y=rm(y),p&&(p=rm(p)),T&&(T=rm(T)));const C=super.subscribe({next:p,error:y,complete:T});return s instanceof hr.w0&&s.add(C),C}};function tv(...r){}class Ks{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),typeof Zone>"u")throw new Kt(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Fh(){const r="function"==typeof we.requestAnimationFrame;let s=we[r?"requestAnimationFrame":"setTimeout"],u=we[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&u){const h=s[Zone.__symbol__("OriginalDelegate")];h&&(s=h);const p=u[Zone.__symbol__("OriginalDelegate")];p&&(u=p)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function C_(r){const s=()=>{!function DE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(we,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Vf(r),r.isCheckStableRunning=!0,Ff(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Vf(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,y,T,C)=>{if(function D_(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(C))return u.invokeTask(p,y,T,C);try{return Hd(r),u.invokeTask(p,y,T,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&s(),ud(r)}},onInvoke:(u,h,p,y,T,C,R)=>{try{return Hd(r),u.invoke(p,y,T,C,R)}finally{r.shouldCoalesceRunChangeDetection&&s(),ud(r)}},onHasTask:(u,h,p,y)=>{u.hasTask(p,y),h===p&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,Vf(r),Ff(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,p,y)=>(u.handleError(p,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ks.isInAngularZone())throw new Kt(909,!1)}static assertNotInAngularZone(){if(Ks.isInAngularZone())throw new Kt(909,!1)}run(s,u,h){return this._inner.run(s,u,h)}runTask(s,u,h,p){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+p,s,CE,tv,tv);try{return y.runTask(T,u,h)}finally{y.cancelTask(T)}}runGuarded(s,u,h){return this._inner.runGuarded(s,u,h)}runOutsideAngular(s){return this._outer.run(s)}}const CE={};function Ff(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Vf(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Hd(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ud(r){r._nesting--,Ff(r)}class AE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(s,u,h){return s.apply(u,h)}runGuarded(s,u,h){return s.apply(u,h)}runOutsideAngular(s){return s()}runTask(s,u,h,p){return s.apply(u,h)}}const kp=new ct("",{providedIn:"root",factory:nv});function nv(){const r=Pr(Ks);let s=!0;const u=new cr.y(p=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{p.next(s),p.complete()})}),h=new cr.y(p=>{let y;r.runOutsideAngular(()=>{y=r.onStable.subscribe(()=>{Ks.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,p.next(!0))})})});const T=r.onUnstable.subscribe(()=>{Ks.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{p.next(!1)}))});return()=>{y.unsubscribe(),T.unsubscribe()}});return(0,Er.T)(u,h.pipe((0,si.B)()))}var Rc=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(Rc||{});const SE={destroy(){}};function Uf(r,s){!s&&function Gs(r){if(!br()&&!function Ps(){return ys}())throw new Kt(-203,!1)}();const u=s?.injector??Pr(ea);if(!function ja(r){return"browser"===(r??Pr(ea)).get(Ea)}(u))return SE;il("NgAfterNextRender");const h=u.get(Lp),p=h.handler??=new Uw,y=s?.phase??Rc.MixedReadWrite,T=()=>{p.unregister(R),C()},C=u.get(Xg).onDestroy(T),R=new Vw(u,y,()=>{T(),r()});return p.register(R),{destroy:T}}class Vw{constructor(s,u,h){this.phase=u,this.callbackFn=h,this.zone=s.get(Ks),this.errorHandler=s.get(Sc,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){this.errorHandler?.handleError(s)}}}class Uw{constructor(){this.executingCallbacks=!1,this.buckets={[Rc.EarlyRead]:new Set,[Rc.Write]:new Set,[Rc.MixedReadWrite]:new Set,[Rc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Kt(102,!1)}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const u of s)u.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let Lp=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const u of this.internalCallbacks)u();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ln({token:r,providedIn:"root",factory:()=>new r})}return r})();function rv(r,s){const u=Oa(s,r),h=u[qt];!function A_(r,s){for(let u=s.length;u<r.blueprint.length;u++)s.push(r.blueprint[u])}(h,u);const p=u[Ni];null!==p&&null===u[os]&&(u[os]=Ep(p,u[ts])),Fp(h,u,u[hi])}function Fp(r,s,u){nt(s);try{const h=r.viewQuery;null!==h&&Op(1,h,u);const p=r.template;null!==p&&$g(r,s,p,1,u),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Vd(r,s),r.staticViewQueries&&Op(2,r.viewQuery,u);const y=r.components;null!==y&&function S_(r,s){for(let u=0;u<s.length;u++)rv(r,s[u])}(s,y)}catch(h){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),h}finally{s[sr]&=-5,so()}}function Bf(r,s,u){let h=u?r.styles:null,p=u?r.classes:null,y=0;if(null!==s)for(let T=0;T<s.length;T++){const C=s[T];"number"==typeof C?y=C:1==y?p=cn(p,C):2==y&&(h=cn(h,C+": "+s[++T]+";"))}u?r.styles=h:r.stylesWithoutHost=h,u?r.classes=p:r.classesWithoutHost=p}class iv extends wp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=dr(s);return new Uh(u,this.ngModule)}}function x_(r){const s=[];for(let u in r)r.hasOwnProperty(u)&&s.push({propName:r[u],templateName:u});return s}class im{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,h){h=Wa(h);const p=this.injector.get(s,i_,h);return p!==i_||u===i_?p:this.parentInjector.get(s,u,h)}}class Uh extends Ng{get inputs(){const s=this.componentDef,u=s.inputTransforms,h=x_(s.inputs);if(null!==u)for(const p of h)u.hasOwnProperty(p.propName)&&(p.transform=u[p.propName]);return h}get outputs(){return x_(this.componentDef.outputs)}constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function ca(r){return r.map(ji).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}create(s,u,h,p){let y=(p=p||this.ngModule)instanceof cu?p:p?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const T=y?new im(s,y):s,C=T.get(nE,null);if(null===C)throw new Kt(407,!1);const ee={rendererFactory:C,sanitizer:T.get(Vy,null),inlineEffectRunner:null,afterRenderEventManager:T.get(Lp,null)},ce=C.createRenderer(null,this.componentDef),xe=this.componentDef.selectors[0][0]||"div",Fe=h?function kf(r,s,u,h){const y=h.get(Mf,!1)||u===ws.ShadowDom,T=r.selectRootElement(s,y);return function f_(r){Wg(r)}(T),T}(ce,h,this.componentDef.encapsulation,T):Ad(ce,xe,function Vp(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(xe)),wn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let nr=null;null!==Fe&&(nr=Ep(Fe,T,!0));const Ht=qg(0,null,null,1,0,null,null,null,null,null,null),jr=Hg(null,Ht,null,wn,null,null,ee,ce,T,null,nr);let es,Es;nt(jr);try{const ul=this.componentDef;let Ov,FA=null;ul.findHostDirectiveDefs?(Ov=[],FA=new Map,ul.findHostDirectiveDefs(ul,Ov,FA),Ov.push(ul)):Ov=[ul];const e1=function P_(r,s){const u=r[qt],h=zn;return r[h]=s,rd(u,h,2,"#host",null)}(jr,Fe),t1=function xE(r,s,u,h,p,y,T){const C=p[qt];!function sv(r,s,u,h){for(const p of r)s.mergedAttrs=Ya(s.mergedAttrs,p.hostAttrs);null!==s.mergedAttrs&&(Bf(s,s.mergedAttrs,!0),null!==u&&lp(h,u,s))}(h,r,s,T);let R=null;null!==s&&(R=Ep(s,p[ts]));const G=y.rendererFactory.createRenderer(s,u);let ee=16;u.signals?ee=4096:u.onPush&&(ee=64);const ce=Hg(p,Gg(u),null,ee,p[r.index],r,y,G,null,null,R);return C.firstCreatePass&&od(C,r,h.length-1),y_(p,ce),p[r.index]=ce}(e1,Fe,ul,Ov,jr,ee,ce);Es=su(Ht,zn),Fe&&function ov(r,s,u,h){if(h)Fo(r,u,["ng-version",Dh.full]);else{const{attrs:p,classes:y}=function Ja(r){const s=[],u=[];let h=1,p=2;for(;h<r.length;){let y=r[h];if("string"==typeof y)2===p?""!==y&&s.push(y,r[++h]):8===p&&u.push(y);else{if(!fo(p))break;p=y}h++}return{attrs:s,classes:u}}(s.selectors[0]);p&&Fo(r,u,p),y&&y.length>0&&uo(r,u,y.join(" "))}}(ce,ul,Fe,h),void 0!==u&&function M_(r,s,u){const h=r.projection=[];for(let p=0;p<s.length;p++){const y=u[p];h.push(null!=y?Array.from(y):null)}}(Es,this.ngContentSelectors,u),es=function RE(r,s,u,h,p,y){const T=He(),C=p[qt],R=$i(T,p);sd(C,p,T,u,null,h);for(let ee=0;ee<u.length;ee++)Pn(Ba(p,C,T.directiveStart+ee,T),p);Lf(C,p,T),R&&Pn(R,p);const G=Ba(p,C,T.directiveStart+T.componentOffset,T);if(r[hi]=p[hi]=G,null!==y)for(const ee of y)ee(G,s);return Fd(C,T,r),G}(t1,ul,Ov,FA,jr,[Up]),Fp(Ht,jr,null)}finally{so()}return new R_(this.componentType,es,Sf(Es,jr),jr,Es)}}class R_ extends Ql{constructor(s,u,h,p,y){super(),this.location=h,this._rootLView=p,this._tNode=y,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new jd(p,void 0,!1),this.componentType=s}setInput(s,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),u))return;const y=this._rootLView;Ud(y[qt],y,p,s,u),this.previousInputValues.set(s,u),Bd(Oa(this._tNode.index,y))}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Up(){const r=He();Ul(It()[qt],r)}function av(r){let s=function PE(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),u=!0;const h=[r];for(;s;){let p;if(bs(r))p=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Kt(903,!1);p=s.\u0275dir}if(p){if(u){h.push(p);const T=r;T.inputs=sm(r.inputs),T.inputTransforms=sm(r.inputTransforms),T.declaredInputs=sm(r.declaredInputs),T.outputs=sm(r.outputs);const C=p.hostBindings;C&&nc(r,C);const R=p.viewQuery,G=p.contentQueries;if(R&&P0(r,R),G&&om(r,G),Wr(r.inputs,p.inputs),Wr(r.declaredInputs,p.declaredInputs),Wr(r.outputs,p.outputs),null!==p.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),Wr(T.inputTransforms,p.inputTransforms)),bs(p)&&p.data.animation){const ee=r.data;ee.animation=(ee.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let T=0;T<y.length;T++){const C=y[T];C&&C.ngInherit&&C(r),C===av&&(u=!1)}}s=Object.getPrototypeOf(s)}!function R0(r){let s=0,u=null;for(let h=r.length-1;h>=0;h--){const p=r[h];p.hostVars=s+=p.hostVars,p.hostAttrs=Ya(p.hostAttrs,u=Ya(u,p.hostAttrs))}}(h)}function sm(r){return r===Ms?{}:r===$r?[]:r}function P0(r,s){const u=r.viewQuery;r.viewQuery=u?(h,p)=>{s(h,p),u(h,p)}:s}function om(r,s){const u=r.contentQueries;r.contentQueries=u?(h,p,y)=>{s(h,p,y),u(h,p,y)}:s}function nc(r,s){const u=r.hostBindings;r.hostBindings=u?(h,p)=>{s(h,p),u(h,p)}:s}function lv(r){const s=r.inputConfig,u={};for(const h in s)if(s.hasOwnProperty(h)){const p=s[h];Array.isArray(p)&&p[2]&&(u[h]=p[2])}r.inputTransforms=u}function Pc(r,s,u){return r[s]=u}function lo(r,s,u){return!Object.is(r[s],u)&&(r[s]=u,!0)}function Mc(r,s,u,h){const p=lo(r,s,u);return lo(r,s+1,h)||p}function am(r,s,u,h){const p=It();return lo(p,rs(),s)&&(kt(),Jl(ii(),p,r,s,u,h)),am}function rc(r,s,u,h){return lo(r,rs(),u)?s+je(u)+h:Vr}function $h(r,s,u,h,p,y){const C=Mc(r,function ro(){return tn.lFrame.bindingIndex}(),u,p);return Ao(2),C?s+je(u)+h+je(p)+y:Vr}function cm(r,s){return r<<17|s<<2}function Ga(r){return r>>17&32767}function zf(r){return 2|r}function Gd(r){return(131068&r)>>2}function zh(r,s){return-131069&r|s<<2}function Hp(r){return 1|r}function n(r,s,u,h,p){const y=r[u+1],T=null===s;let C=h?Ga(y):Gd(y),R=!1;for(;0!==C&&(!1===R||T);){const ee=r[C+1];o(r[C],s)&&(R=!0,r[C+1]=h?Hp(ee):zf(ee)),C=h?Ga(ee):Gd(ee)}R&&(r[u+1]=h?zf(y):Hp(y))}function o(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&yc(r,s)>=0}function vi(r,s,u){const h=It();return lo(h,rs(),s)&&Mo(kt(),ii(),h,r,s,h[pr],u,!1),vi}function ti(r,s,u,h,p){const T=p?"class":"style";Ud(r,u,s.inputs[T],T,h)}function co(r,s,u){return Nc(r,s,u,!1),co}function yo(r,s){return Nc(r,s,null,!0),yo}function Nc(r,s,u,h){const p=It(),y=kt(),T=Ao(2);y.firstUpdatePass&&function VE(r,s,u,h){const p=r.data;if(null===p[u+1]){const y=p[Ii()],T=function FE(r,s){return s>=r.expandoStartIndex}(r,u);(function N0(r,s){return 0!=(r.flags&(s?8:16))})(y,h)&&null===s&&!T&&(s=!1),s=function qw(r,s,u,h){const p=function F(r){const s=tn.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let y=h?s.residualClasses:s.residualStyles;if(null===p)0===(h?s.classBindings:s.styleBindings)&&(u=Gh(u=zp(null,r,s,u,h),s.attrs,h),y=null);else{const T=s.directiveStylingLast;if(-1===T||r[T]!==p)if(u=zp(p,r,s,u,h),null===y){let R=function L_(r,s,u){const h=u?s.classBindings:s.styleBindings;if(0!==Gd(h))return r[Ga(h)]}(r,s,h);void 0!==R&&Array.isArray(R)&&(R=zp(null,r,s,R[1],h),R=Gh(R,s.attrs,h),function $p(r,s,u,h){r[Ga(u?s.classBindings:s.styleBindings)]=h}(r,s,h,R))}else y=function Ww(r,s,u){let h;const p=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<p;y++)h=Gh(h,r[y].hostAttrs,u);return Gh(h,s.attrs,u)}(r,s,h)}return void 0!==y&&(h?s.residualClasses=y:s.residualStyles=y),u}(p,y,s,h),function hv(r,s,u,h,p,y){let T=y?s.classBindings:s.styleBindings,C=Ga(T),R=Gd(T);r[h]=u;let ee,G=!1;if(Array.isArray(u)?(ee=u[1],(null===ee||yc(u,ee)>0)&&(G=!0)):ee=u,p)if(0!==R){const xe=Ga(r[C+1]);r[h+1]=cm(xe,C),0!==xe&&(r[xe+1]=zh(r[xe+1],h)),r[C+1]=function zw(r,s){return 131071&r|s<<17}(r[C+1],h)}else r[h+1]=cm(C,0),0!==C&&(r[C+1]=zh(r[C+1],h)),C=h;else r[h+1]=cm(R,0),0===C?C=h:r[R+1]=zh(r[R+1],h),R=h;G&&(r[h+1]=zf(r[h+1])),n(r,ee,h,!0),n(r,ee,h,!1),function l(r,s,u,h,p){const y=p?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof s&&yc(y,s)>=0&&(u[h+1]=Hp(u[h+1]))}(s,ee,r,h,y),T=cm(C,R),y?s.classBindings=T:s.styleBindings=T}(p,y,s,u,T,h)}}(y,r,T,h),s!==Vr&&lo(p,T,s)&&function UE(r,s,u,h,p,y,T,C){if(!(3&s.type))return;const R=r.data,G=R[C+1],ee=function cv(r){return 1==(1&r)}(G)?BE(R,s,u,p,Gd(G),T):void 0;F_(ee)||(F_(y)||function $w(r){return 2==(2&r)}(G)&&(y=BE(R,null,u,p,C,T)),function Py(r,s,u,h,p){if(s)p?r.addClass(u,h):r.removeClass(u,h);else{let y=-1===h.indexOf("-")?void 0:ao.DashCase;null==p?r.removeStyle(u,h,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=ao.Important),r.setStyle(u,h,p,y))}}(h,T,iu(Ii(),u),p,y))}(y,y.data[Ii()],p,p[pr],r,p[T+1]=function Kw(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=or(Rl(r)))),r}(s,u),h,T)}function zp(r,s,u,h,p){let y=null;const T=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<T&&(y=s[C],h=Gh(h,y.hostAttrs,p),y!==r);)C++;return null!==r&&(u.directiveStylingLast=C),h}function Gh(r,s,u){const h=u?1:2;let p=-1;if(null!==s)for(let y=0;y<s.length;y++){const T=s[y];"number"==typeof T?p=T:p===h&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ks(r,T,!!u||s[++y]))}return void 0===r?null:r}function BE(r,s,u,h,p,y){const T=null===s;let C;for(;p>0;){const R=r[p],G=Array.isArray(R),ee=G?R[1]:R,ce=null===ee;let xe=u[p+1];xe===Vr&&(xe=ce?$r:void 0);let Fe=ce?$l(xe,h):ee===h?xe:void 0;if(G&&!F_(Fe)&&(Fe=$l(R,h)),F_(Fe)&&(C=Fe,T))return C;const At=r[p+1];p=T?Ga(At):Gd(At)}if(null!==s){let R=y?s.residualClasses:s.residualStyles;null!=R&&(C=$l(R,h))}return C}function F_(r){return void 0!==r}function j_(r,s){return!s||mt(r)}function H_(r,s,u,h=!0){const p=s[qt];if(function Xc(r,s,u,h){const p=ki+h,y=u.length;h>0&&(u[p-1][Js]=s),h<y-ki?(s[Js]=u[p],qc(u,ki+h,s)):(u.push(s),s[Js]=null),s[yr]=u;const T=s[Sa];null!==T&&u!==T&&function $v(r,s){const u=r[Xs];s[Ai]!==s[yr][yr][Ai]&&(r[sr]|=Kr.HasTransplantedViews),null===u?r[Xs]=[s]:u.push(s)}(T,s);const C=s[Ki];null!==C&&C.insertView(r),Kn(s),s[sr]|=128}(p,s,r,u),h){const y=Ay(u,r),T=s[pr],C=Eg(T,r[Hs]);null!==C&&function xw(r,s,u,h,p,y){h[Ni]=p,h[Ts]=s,Sd(r,h,u,1,p,y)}(p,r[Ts],T,s,C,y)}}let Wf=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=K0}return r})();function K0(){return Y0(He(),It())}const ZE=Wf,Z0=class extends ZE{constructor(s,u,h){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=h}get element(){return Sf(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){const s=Qo(this._hostTNode,this._hostLView);if(Qu(s)){const u=Yu(s,this._hostLView),h=Ui(s);return new ui(u[qt].data[h+8],u)}return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=Q0(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-ki}createEmbeddedView(s,u,h){let p,y;"number"==typeof h?p=h:null!=h&&(p=h.index,y=h.injector);const C=s.createEmbeddedViewImpl(u||{},y,null);return this.insertImpl(C,p,j_(this._hostTNode,null)),C}createComponent(s,u,h,p,y){const T=s&&!function Jf(r){return"function"==typeof r}(s);let C;if(T)C=u;else{const At=u||{};C=At.index,h=At.injector,p=At.projectableNodes,y=At.environmentInjector||At.ngModuleRef}const R=T?s:new Uh(dr(s)),G=h||this.parentInjector;if(!y&&null==R.ngModule){const Gt=(T?G:this.parentInjector).get(cu,null);Gt&&(y=Gt)}dr(R.componentType??{});const Fe=R.create(G,p,null,y);return this.insertImpl(Fe.hostView,C,j_(this._hostTNode,null)),Fe}insert(s,u){return this.insertImpl(s,u,!0)}insertImpl(s,u,h){const p=s._lView;if(function Ns(r){return Yi(r[yr])}(p)){const C=this.indexOf(s);if(-1!==C)this.detach(C);else{const R=p[yr],G=new Z0(R,R[Ts],R[yr]);G.detach(G.indexOf(s))}}const y=this._adjustIndex(u),T=this._lContainer;return H_(T,p,y,h),s.attachToViewContainerRef(),qc(pI(T),y,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=Q0(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),h=Ia(this._lContainer,u);h&&(mc(pI(this._lContainer),u),ph(h[qt],h))}detach(s){const u=this._adjustIndex(s,-1),h=Ia(this._lContainer,u);return h&&null!=mc(pI(this._lContainer),u)?new jd(h):null}_adjustIndex(s,u=0){return s??this.length+u}};function Q0(r){return r[8]}function pI(r){return r[8]||(r[8]=[])}function Y0(r,s){let u;const h=s[r.index];return Yi(h)?u=h:(u=Mp(h,s,null,r),s[r.index]=u,y_(s,u)),YE(u,s,r,h),new Z0(u,r,s)}let YE=function gI(r,s,u,h){if(r[Hs])return;let p;p=8&u.type?Fi(h):function QE(r,s){const u=r[pr],h=u.createComment(""),p=$i(s,r);return Ha(u,Eg(u,p),h,function qv(r,s){return r.nextSibling(s)}(u,p),!1),h}(s,u),r[Hs]=p},yv=(r,s,u)=>!1;function pm(r,s,u,h,p,y,T,C){const R=It(),G=kt(),ee=r+zn,ce=G.firstCreatePass?function yI(r,s,u,h,p,y,T,C,R){const G=s.consts,ee=rd(s,r,4,T||null,er(G,C));p_(s,u,ee,er(G,R)),Ul(s,ee);const ce=ee.tView=qg(2,ee,h,p,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,G,null);return null!==s.queries&&(s.queries.template(s,ee),ce.queries=s.queries.embeddedTView(ee)),ee}(ee,G,R,s,u,h,p,y,T):G.data[ee];Do(ce,!1);const xe=gm(G,R,ce,r);hc()&&Ro(G,R,xe,ce),Pn(xe,R);const Fe=Mp(xe,R,xe,ce);return R[ee]=Fe,y_(R,Fe),function JE(r,s,u){return yv(r,s,u)}(Fe,ce,R),fa(ce)&&Sp(G,R,ce),null!=T&&zg(R,ce,C),pm}let gm=function vI(r,s,u,h){return ou(!0),s[pr].createComment("")};function Wp(r,s,u,h){const p=It(),y=kt(),T=zn+r,C=p[pr],R=y.firstCreatePass?function qA(r,s,u,h,p,y){const T=s.consts,R=rd(s,r,2,h,er(T,p));return p_(s,u,R,er(T,y)),null!==R.attrs&&Bf(R,R.attrs,!1),null!==R.mergedAttrs&&Bf(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(T,y,p,s,u,h):y.data[T],G=DC(y,p,R,C,s,r);p[T]=G;const ee=fa(R);return Do(R,!0),lp(C,G,R),32!=(32&R.flags)&&hc()&&Ro(y,p,G,R),0===function Gu(){return tn.lFrame.elementDepthCount}()&&Pn(G,p),function to(){tn.lFrame.elementDepthCount++}(),ee&&(Sp(y,p,R),Fd(y,R,p)),null!==h&&zg(p,R),Wp}function NI(){let r=He();Iu()?ka():(r=r.parent,Do(r,!1));const s=r;(function El(r){return tn.skipHydrationRootTNode===r})(s)&&function Yd(){tn.skipHydrationRootTNode=null}(),function vl(){tn.lFrame.elementDepthCount--}();const u=kt();return u.firstCreatePass&&(Ul(u,r),$s(r)&&u.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Xd(r){return 0!=(8&r.flags)}(s)&&ti(u,s,It(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Yh(r){return 0!=(16&r.flags)}(s)&&ti(u,s,It(),s.stylesWithoutHost,!1),NI}function Kp(r,s,u,h){return Wp(r,s,u,h),NI(),Kp}let DC=(r,s,u,h,p,y)=>(ou(!0),Ad(h,p,function bu(){return tn.lFrame.currentNamespace}()));function bm(r,s,u){const h=It(),p=kt(),y=r+zn,T=p.firstCreatePass?function KA(r,s,u,h,p){const y=s.consts,T=er(y,h),C=rd(s,r,8,"ng-container",T);return null!==T&&Bf(C,T,!0),p_(s,u,C,er(y,p)),null!==s.queries&&s.queries.elementStart(s,C),C}(y,p,h,s,u):p.data[y];Do(T,!0);const C=bv(p,h,T,r);return h[y]=C,hc()&&Ro(p,h,C,T),Pn(C,h),fa(T)&&(Sp(p,h,T),Fd(p,T,h)),null!=u&&zg(h,T),bm}function LI(){let r=He();const s=kt();return Iu()?ka():(r=r.parent,Do(r,!1)),s.firstCreatePass&&(Ul(s,r),$s(r)&&s.queries.elementEnd(r)),LI}let bv=(r,s,u,h)=>(ou(!0),fh(s[pr],""));function Cv(){return It()}const Zp=void 0;var mT=["en",[["a","p"],["AM","PM"],Zp],[["AM","PM"],Zp,Zp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zp,"{1} 'at' {0}",Zp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gT(r){const u=Math.floor(Math.abs(r)),h=r.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Cm={};function _T(r){const s=function YA(r){return r.toLowerCase().replace(/_/g,"-")}(r);let u=MC(s);if(u)return u;const h=s.split("-")[0];if(u=MC(h),u)return u;if("en"===h)return mT;throw new Kt(701,!1)}function PC(r){return _T(r)[Y_.PluralCase]}function MC(r){return r in Cm||(Cm[r]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[r]),Cm[r]}var Y_=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Y_||{});const qh="en-US";let OC=qh;function HI(r){return!!r&&"function"==typeof r.then}function UT(r){return!!r&&"function"==typeof r.subscribe}function $I(r,s,u,h){const p=It(),y=kt(),T=He();return function jT(r,s,u,h,p,y,T){const C=fa(h),G=r.firstCreatePass&&yE(r),ee=s[hi],ce=v_(s);let xe=!0;if(3&h.type||T){const Gt=$i(h,s),wn=T?T(Gt):Gt,nr=ce.length,Ht=T?es=>T(Fi(es[h.index])):h.index;let jr=null;if(!T&&C&&(jr=function sD(r,s,u,h){const p=r.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const T=p[y];if(T===u&&p[y+1]===h){const C=s[js],R=p[y+2];return C.length>R?C[R]:null}"string"==typeof T&&(y+=2)}return null}(r,s,p,h.index)),null!==jr)(jr.__ngLastListenerFn__||jr).__ngNextListenerFn__=y,jr.__ngLastListenerFn__=y,xe=!1;else{y=$T(h,s,ee,y,!1);const es=u.listen(wn,p,y);ce.push(y,es),G&&G.push(p,Ht,nr,nr+1)}}else y=$T(h,s,ee,y,!1);const Fe=h.outputs;let At;if(xe&&null!==Fe&&(At=Fe[p])){const Gt=At.length;if(Gt)for(let wn=0;wn<Gt;wn+=2){const Es=s[At[wn]][At[wn+1]].subscribe(y),ul=ce.length;ce.push(y,Es),G&&G.push(p,h.index,ul,-(ul+1))}}}(y,p,p[pr],T,r,s,h),$I}function HT(r,s,u,h){try{return st(6,s,u),!1!==u(h)}catch(p){return Bi(r,p),!1}finally{st(7,s,u)}}function $T(r,s,u,h,p){return function y(T){if(T===Function)return h;Bd(r.componentOffset>-1?Oa(r.index,s):s);let R=HT(s,u,h,T),G=y.__ngNextListenerFn__;for(;G;)R=HT(s,u,G,T)&&R,G=G.__ngNextListenerFn__;return p&&!1===R&&T.preventDefault(),R}}function zT(r=1){return function Tu(r){return(tn.lFrame.contextLView=function zi(r,s){for(;r>0;)s=s[tu],r--;return s}(r,tn.lFrame.contextLView))[hi]}(r)}function zI(r,s,u){return hw(r,"",s,"",u),zI}function hw(r,s,u,h,p){const y=It(),T=rc(y,s,u,h);return T!==Vr&&Mo(kt(),ii(),y,r,T,y[pr],p,!1),hw}function zo(r){return bo(function md(){return tn.lFrame.contextLView}(),zn+r)}function nb(r,s=""){const u=It(),h=kt(),p=r+zn,y=h.firstCreatePass?rd(h,p,1,s,null):h.data[p],T=rb(h,u,y,s,r);u[p]=T,hc()&&Ro(h,u,T,y),Do(y,!1)}let rb=(r,s,u,h,p)=>(ou(!0),function hh(r,s){return r.createText(s)}(s[pr],h));function ZI(r){return pw("",r,""),ZI}function pw(r,s,u){const h=It(),p=rc(h,r,s,u);return p!==Vr&&ad(h,Ii(),p),pw}function QI(r,s,u,h,p){const y=It(),T=$h(y,r,s,u,h,p);return T!==Vr&&ad(y,Ii(),T),QI}function YI(r,s,u,h,p){if(r=Jt(r),Array.isArray(r))for(let y=0;y<r.length;y++)YI(r[y],s,u,h,p);else{const y=kt(),T=It(),C=He();let R=nl(r)?r:Jt(r.provide);const G=du(r),ee=1048575&C.providerIndexes,ce=C.directiveStart,xe=C.providerIndexes>>20;if(nl(r)||!r.multi){const Fe=new Vi(G,p,Nf),At=XI(R,s,p?ee:ee+xe,ce);-1===At?(lu(Du(C,T),y,R),JI(y,r,s.length),s.push(R),C.directiveStart++,C.directiveEnd++,p&&(C.providerIndexes+=1048576),u.push(Fe),T.push(Fe)):(u[At]=Fe,T[At]=Fe)}else{const Fe=XI(R,s,ee+xe,ce),At=XI(R,s,ee,ee+xe),wn=At>=0&&u[At];if(p&&!wn||!p&&!(Fe>=0&&u[Fe])){lu(Du(C,T),y,R);const nr=function mD(r,s,u,h,p){const y=new Vi(r,u,Nf);return y.multi=[],y.index=s,y.componentProviders=0,db(y,p,h&&!u),y}(p?_S:mS,u.length,p,h,G);!p&&wn&&(u[At].providerFactory=nr),JI(y,r,s.length,0),s.push(R),C.directiveStart++,C.directiveEnd++,p&&(C.providerIndexes+=1048576),u.push(nr),T.push(nr)}else JI(y,r,Fe>-1?Fe:At,db(u[p?At:Fe],G,!p&&h));!p&&h&&wn&&u[At].componentProviders++}}}function JI(r,s,u,h){const p=nl(s),y=function Mm(r){return!!r.useClass}(s);if(p||y){const R=(y?Jt(s.useClass):s).prototype.ngOnDestroy;if(R){const G=r.destroyHooks||(r.destroyHooks=[]);if(!p&&s.multi){const ee=G.indexOf(u);-1===ee?G.push(u,[h,R]):G[ee+1].push(h,R)}else G.push(u,R)}}}function db(r,s,u){return u&&r.componentProviders++,r.multi.push(s)-1}function XI(r,s,u,h){for(let p=u;p<h;p++)if(s[p]===r)return p;return-1}function mS(r,s,u,h){return e0(this.multi,[])}function _S(r,s,u,h){const p=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,C=Ba(u,u[qt],this.providerFactory.index,h);y=C.slice(0,T),e0(p,y);for(let R=T;R<C.length;R++)y.push(C[R])}else y=[],e0(p,y);return y}function e0(r,s){for(let u=0;u<r.length;u++)s.push((0,r[u])());return s}function hb(r,s=[]){return u=>{u.providersResolver=(h,p)=>function gD(r,s,u){const h=kt();if(h.firstCreatePass){const p=bs(r);YI(u,h.data,h.blueprint,p,!0),YI(s,h.data,h.blueprint,p,!1)}}(h,p?p(r):r,s)}}class xm{}class fb{}function _D(r,s){return new t0(r,s??null,[])}class t0 extends xm{constructor(s,u,h){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iv(this);const p=Hi(s);this._bootstrapComponents=wa(p.bootstrap),this._r3Injector=af(s,u,[{provide:xm,useValue:this},{provide:wp,useValue:this.componentFactoryResolver},...h],or(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class n0 extends fb{constructor(s){super(),this.moduleType=s}create(s){return new t0(this.moduleType,s,[])}}class pb extends xm{constructor(s){super(),this.componentFactoryResolver=new iv(this),this.instance=null;const u=new Su([...s.providers,{provide:xm,useValue:this},{provide:wp,useValue:this.componentFactoryResolver}],s.parent||lg(),s.debugName,new Set(["environment"]));this.injector=u,s.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function gb(r,s,u=null){return new pb({providers:r,parent:s,debugName:u,runEnvironmentInitializers:!0}).injector}let vD=(()=>{class r{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=nh(0,u.type),p=h.length>0?gb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,p)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ln({token:r,providedIn:"environment",factory:()=>new r(Oi(cu))})}return r})();function mb(r){il("NgStandalone"),r.getStandaloneInjector=s=>s.get(vD).getOrCreateStandaloneInjector(r)}function DD(r,s,u,h){return SD(It(),ri(),r,s,u,h)}function AD(r,s,u,h,p,y){return function RD(r,s,u,h,p,y,T,C){const R=s+u;return function Hf(r,s,u,h,p){const y=Mc(r,s,u,h);return lo(r,s+2,p)||y}(r,R,p,y,T)?Pc(r,R+3,C?h.call(C,p,y,T):h(p,y,T)):gw(r,R+3)}(It(),ri(),r,s,u,h,p,y)}function gw(r,s){const u=r[s];return u===Vr?void 0:u}function SD(r,s,u,h,p,y){const T=s+u;return lo(r,T,p)?Pc(r,T+1,y?h.call(y,p):h(p)):gw(r,T+1)}function OD(r,s){const u=kt();let h;const p=r+zn;u.firstCreatePass?(h=function MS(r,s){if(s)for(let u=s.length-1;u>=0;u--){const h=s[u];if(r===h.name)return h}}(s,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks??=[]).push(p,h.onDestroy)):h=u.data[p];const y=h.factory||(h.factory=gr(h.type)),C=oi(Nf);try{const R=gs(!1),G=y();return gs(R),function Qp(r,s,u,h){u>=r.data.length&&(r.data[u]=null,r.blueprint[u]=null),s[u]=h}(u,It(),p,G),G}finally{oi(C)}}function ND(r,s,u){const h=r+zn,p=It(),y=bo(p,h);return mw(p,h)?SD(p,ri(),s,y.transform,u,y):y.transform(u)}function kD(r,s,u,h){const p=r+zn,y=It(),T=bo(y,p);return mw(y,p)?function xD(r,s,u,h,p,y,T){const C=s+u;return Mc(r,C,p,y)?Pc(r,C+2,T?h.call(T,p,y):h(p,y)):gw(r,C+2)}(y,ri(),s,T.transform,u,h,T):T.transform(u,h)}function mw(r,s){return r[qt].data[s].pure}function LS(){return this._results[Symbol.iterator]()}class Eb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new kl)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Eb.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=LS)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){this.dirty=!1;const h=function mo(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ef(r,s,u){if(r.length!==s.length)return!1;for(let h=0;h<r.length;h++){let p=r[h],y=s[h];if(u&&(p=u(p),y=u(y)),y!==p)return!1}return!0}(this._results,h,u))&&(this._results=h,this.length=h.length,this.last=h[this.length-1],this.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _w=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=US}return r})();const FS=_w,VS=class extends FS{constructor(s,u,h){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,u){return this.createEmbeddedViewImpl(s,u)}createEmbeddedViewImpl(s,u,h){const p=function mv(r,s,u,h){const p=s.tView,C=Hg(r,p,u,4096&r[sr]?4096:16,null,s,null,null,null,h?.injector??null,h?.dehydratedView??null);C[Sa]=r[s.index];const G=r[Ki];return null!==G&&(C[Ki]=G.createEmbeddedView(p)),Fp(p,C,u),C}(this._declarationLView,this._declarationTContainer,s,{injector:u,dehydratedView:h});return new jd(p)}};function US(){return l0(He(),It())}function l0(r,s){return 4&r.type?new VS(s,r,Sf(r,s)):null}class wb{constructor(s){this.queryList=s,this.matches=null}clone(){return new wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ib{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const h=null!==s.contentQueries?s.contentQueries[0]:u.length,p=[];for(let y=0;y<h;y++){const T=u.getByIndex(y);p.push(this.queries[T.indexInDeclarationView].clone())}return new Ib(p)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==d0(s,u).matches&&this.queries[u].setDirty()}}class LD{constructor(s,u,h=null){this.predicate=s,this.flags=u,this.read=h}}class Tb{constructor(s=[]){this.queries=s}elementStart(s,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(s,p);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new Tb(u):null}template(s,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class bb{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new bb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=s.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const y=h[p];this.matchTNodeWithReadOption(s,u,BS(u,y)),this.matchTNodeWithReadOption(s,u,Ua(u,s,y,!1,!1))}else h===_w?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Ua(u,s,h,!1,!1))}matchTNodeWithReadOption(s,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===xf||p===Wf||p===_w&&4&u.type)this.addMatch(u.index,-2);else{const y=Ua(u,s,p,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function BS(r,s){const u=r.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===s)return u[h+1];return null}function HS(r,s,u,h){return-1===u?function jS(r,s){return 11&r.type?Sf(r,s):4&r.type?l0(r,s):null}(s,r):-2===u?function $S(r,s,u){return u===xf?Sf(s,r):u===_w?l0(s,r):u===Wf?Y0(s,r):void 0}(r,s,h):Ba(r,r[qt],u,s)}function FD(r,s,u,h){const p=s[Ki].queries[h];if(null===p.matches){const y=r.data,T=u.matches,C=[];for(let R=0;R<T.length;R+=2){const G=T[R];C.push(G<0?null:HS(s,y[G],T[R+1],u.metadata.read))}p.matches=C}return p.matches}function Cb(r,s,u,h){const p=r.queries.getByIndex(u),y=p.matches;if(null!==y){const T=FD(r,s,p,u);for(let C=0;C<y.length;C+=2){const R=y[C];if(R>0)h.push(T[C/2]);else{const G=y[C+1],ee=s[-R];for(let ce=ki;ce<ee.length;ce++){const xe=ee[ce];xe[Sa]===xe[yr]&&Cb(xe[qt],xe,G,h)}if(null!==ee[Xs]){const ce=ee[Xs];for(let xe=0;xe<ce.length;xe++){const Fe=ce[xe];Cb(Fe[qt],Fe,G,h)}}}}}return h}function VD(r){const s=It(),u=kt(),h=W();se(h+1);const p=d0(u,h);if(r.dirty&&function uc(r){return 4==(4&r[sr])}(s)===(2==(2&p.metadata.flags))){if(null===p.matches)r.reset([]);else{const y=p.crossesNgTemplate?Cb(u,s,h,[]):FD(u,s,p,h);r.reset(y,tE),r.notifyOnChanges()}return!0}return!1}function UD(r,s,u){const h=kt();h.firstCreatePass&&(Ab(h,new LD(r,s,u),-1),2==(2&s)&&(h.staticViewQueries=!0)),Db(h,It(),s)}function BD(r,s,u,h){const p=kt();if(p.firstCreatePass){const y=He();Ab(p,new LD(s,u,h),y.index),function c0(r,s){const u=r.contentQueries||(r.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(r.queries.length-1,s)}(p,r),2==(2&u)&&(p.staticContentQueries=!0)}Db(p,It(),u)}function jD(){return function zS(r,s){return r[Ki].queries[s].queryList}(It(),W())}function Db(r,s,u){const h=new Eb(4==(4&u));(function Zy(r,s,u,h){const p=v_(s);p.push(u),r.firstCreatePass&&yE(r).push(h,p.length-1)})(r,s,h,h.destroy),null===s[Ki]&&(s[Ki]=new Ib),s[Ki].queries.push(new wb(h))}function Ab(r,s,u){null===r.queries&&(r.queries=new Tb),r.queries.track(new bb(s,u))}function d0(r,s){return r.queries.getByIndex(s)}const sA=new ct("Application Initializer");let Ob=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=Pr(sA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const p of this.appInits){const y=p();if(HI(y))u.push(y);else if(UT(y)){const T=new Promise((C,R)=>{y.subscribe({complete:C,error:R})});u.push(T)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),oA=(()=>{class r{log(u){console.log(u)}warn(u){console.warn(u)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const p0=new ct("LocaleId",{providedIn:"root",factory:()=>Pr(p0,Lt.Optional|Lt.SkipSelf)||function dx(){return typeof $localize<"u"&&$localize.locale||qh}()}),hx=new ct("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let fA=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zr.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class pA{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let g0=(()=>{class r{compileModuleSync(u){return new n0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),y=wa(Hi(u).declarations).reduce((T,C)=>{const R=dr(C);return R&&T.push(new Uh(R)),T},[]);return new pA(h,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const CA=new ct(""),DA=new ct("");let m0,Sx=(()=>{class r{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,m0||(function Vb(r){m0=r}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ks.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}static#e=this.\u0275fac=function(h){return new(h||r)(Oi(Ks),Oi(AA),Oi(DA))};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac})}return r})(),AA=(()=>{class r{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return m0?.findTestabilityInTree(this,u,h)??null}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Xp=null;const i=new ct("AllowMultipleToken"),e=new ct("PlatformDestroyListeners"),t=new ct("appBootstrapListener");function Re(r,s,u=[]){const h=`Platform: ${s}`,p=new ct(h);return(y=[])=>{let T=pn();if(!T||T.injector.get(i,!1)){const C=[...u,...y,{provide:p,useValue:!0}];r?r(C):function L(r){if(Xp&&!Xp.get(i,!1))throw new Kt(400,!1);(function g(){!function Jn(r){bn=r}(()=>{throw new Kt(600,!1)})})(),Xp=r;const s=r.get(Ar);(function X(r){r.get(Lm,null)?.forEach(u=>u())})(r)}(function zt(r=[],s){return ea.create({name:s,providers:[{provide:Fs,useValue:"platform"},{provide:e,useValue:new Set([()=>Xp=null])},...r]})}(C,h))}return function rt(r){const s=pn();if(!s)throw new Kt(401,!1);return s}()}}function pn(){return Xp?.get(Ar)??null}let Ar=(()=>{class r{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function Or(r="zone.js",s){return"noop"===r?new AE:"zone.js"===r?new Ks(s):r}(h?.ngZone,function Ur(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const y=function yD(r,s,u){return new t0(r,s,u)}(u.moduleType,this.injector,function xx(r){return[{provide:Ks,useFactory:r},{provide:nf,multi:!0,useFactory:()=>{const s=Pr(wR,{optional:!0});return()=>s.initialize()}},{provide:Ub,useFactory:Bb},{provide:kp,useFactory:nv}]}(()=>p)),T=y.injector.get(Sc,null);return p.runOutsideAngular(()=>{const C=p.onError.subscribe({next:R=>{T.handleError(R)}});y.onDestroy(()=>{ua(this._modules,y),C.unsubscribe()})}),function xi(r,s,u){try{const h=u();return HI(h)?h.catch(p=>{throw s.runOutsideAngular(()=>r.handleError(p)),p}):h}catch(h){throw s.runOutsideAngular(()=>r.handleError(h)),h}}(T,p,()=>{const C=y.injector.get(Ob);return C.runInitializers(),C.donePromise.then(()=>(function Zf(r){ge(r,"Expected localeId to be defined"),"string"==typeof r&&(OC=r.toLowerCase().replace(/_/g,"-"))}(y.injector.get(p0,qh)||qh),this._moduleDoBootstrap(y),y))})})}bootstrapModule(u,h=[]){const p=Rs({},h);return function a(r,s,u){const h=new n0(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(u){const h=u.injector.get(qi);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Kt(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Kt(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(e,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||r)(Oi(ea))};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function Rs(r,s){return Array.isArray(s)?s.reduce(Rs,r):{...r,...s}}let qi=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pr(Ub),this.zoneIsStable=Pr(kp),this.componentTypes=[],this.components=[],this.isStable=Pr(fA).hasPendingTasks.pipe((0,Br.w)(u=>u?(0,ci.of)(!1):this.zoneIsStable),(0,Sr.x)(),(0,si.B)()),this._injector=Pr(cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const p=u instanceof Ng;if(!this._injector.get(Ob).done)throw!p&&Wo(u),new Kt(405,!1);let T;T=p?u:this._injector.get(wp).resolveComponentFactory(u),this.componentTypes.push(T.componentType);const C=function v(r){return r.isBoundToModule}(T)?void 0:this._injector.get(xm),G=T.create(ea.NULL,[],h||T.selector,C),ee=G.location.nativeElement,ce=G.injector.get(CA,null);return ce?.registerApplication(ee),G.onDestroy(()=>{this.detachView(G.hostView),ua(this.components,G),ce?.unregisterApplication(ee)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new Kt(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;ua(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(t,[]);[...this._bootstrapListeners,...h].forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ua(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Kt(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ua(r,s){const u=r.indexOf(s);u>-1&&r.splice(u,1)}const Ub=new ct("",{providedIn:"root",factory:()=>Pr(Sc).handleError.bind(void 0)});function Bb(){const r=Pr(Ks),s=Pr(Sc);return u=>r.runOutsideAngular(()=>s.handleError(u))}let wR=(()=>{class r{constructor(){this.zone=Pr(Ks),this.applicationRef=Pr(qi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||r)};static#t=this.\u0275prov=Ln({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function bR(){return!1}const xR=Re(null,"core",[]);let RR=(()=>{class r{constructor(u){}static#e=this.\u0275fac=function(h){return new(h||r)(Oi(qi))};static#t=this.\u0275mod=di({type:r});static#n=this.\u0275inj=Ue({})}return r})();function YR(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function XR(r){const s=dr(r);if(!s)return null;const u=new Uh(s);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(Wt,ze,U)=>{U.d(ze,{Z:()=>lt});var I=U(9058),te=U(4537),J=U(7592),_e=U(7879);class m{constructor(Tt,ke){this._delegate=Tt,this.firebase=ke,(0,J._addComponent)(Tt,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Tt){this._delegate.automaticDataCollectionEnabled=Tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Tt=>{this._delegate.checkDestroyed(),Tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Tt,ke=J._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(Tt);return!bt.isInitialized()&&"EXPLICIT"===(null===(Oe=bt.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:ke})}_removeServiceInstance(Tt,ke=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Tt).clearInstance(ke)}_addComponent(Tt){(0,J._addComponent)(this._delegate,Tt)}_addOrOverwriteComponent(Tt){(0,J._addOrOverwriteComponent)(this._delegate,Tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function Ve(){const at=function me(at){const Tt={},ke={__esModule:!0,initializeApp:function tt(vt,ye={}){const ht=J.initializeApp(vt,ye);if((0,I.r3)(Tt,ht.name))return Tt[ht.name];const Pt=new at(ht,ke);return Tt[ht.name]=Pt,Pt},app:bt,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function ut(vt){const ye=vt.name,ht=ye.replace("-compat","");if(J._registerComponent(vt)&&"PUBLIC"===vt.type){const Pt=(an=bt())=>{if("function"!=typeof an[ht])throw be.create("invalid-app-argument",{appName:ye});return an[ht]()};void 0!==vt.serviceProps&&(0,I.ZB)(Pt,vt.serviceProps),ke[ht]=Pt,at.prototype[ht]=function(...an){return this._getService.bind(this,ye).apply(this,vt.multipleInstances?an:[])}}return"PUBLIC"===vt.type?ke[ht]:null},removeApp:function Oe(vt){delete Tt[vt]},useAsService:function St(vt,ye){return"serverAuth"===ye?null:ye},modularAPIs:J}};function bt(vt){if(!(0,I.r3)(Tt,vt=vt||J._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:vt});return Tt[vt]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function Xe(){return Object.keys(Tt).map(vt=>Tt[vt])}}),bt.App=at,ke}(m);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function Tt(ke){(0,I.ZB)(at,ke)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),at}(),pe=new _e.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=le;!function Je(at){(0,J.registerVersion)("@firebase/app-compat","0.2.13",at)}()},7592:(Wt,ze,U)=>{U.r(ze),U.d(ze,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>hr,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>Et,_addOrOverwriteComponent:()=>Mt,_apps:()=>Ye,_clearComponents:()=>vn,_components:()=>We,_getProvider:()=>Tn,_registerComponent:()=>Yt,_removeServiceInstance:()=>rn,deleteApp:()=>ci,getApp:()=>Er,getApps:()=>Zr,initializeApp:()=>cr,onLog:()=>Sr,registerVersion:()=>Br,setLogLevel:()=>Wn});var I=U(5861),te=U(4537),J=U(7879),_e=U(9058),m=U(1878);class fe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function be(it){const Se=it.getComponent();return"VERSION"===Se?.type}(je)){const _t=je.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(je=>je).join(" ")}}const me="@firebase/app",le=new J.Yd("@firebase/app"),qe="[DEFAULT]",Ke={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,We=new Map;function Et(it,Se){try{it.container.addComponent(Se)}catch(je){le.debug(`Component ${Se.name} failed to register with FirebaseApp ${it.name}`,je)}}function Mt(it,Se){it.container.addOrOverwriteComponent(Se)}function Yt(it){const Se=it.name;if(We.has(Se))return le.debug(`There were multiple attempts to register component ${Se}.`),!1;We.set(Se,it);for(const je of Ye.values())Et(je,it);return!0}function Tn(it,Se){const je=it.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),it.container.getProvider(Se)}function rn(it,Se,je=qe){Tn(it,Se).clearInstance(je)}function vn(){We.clear()}const Cn=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mr{constructor(Se,je,_t){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}const hr="9.23.0";function cr(it,Se={}){let je=it;"object"!=typeof Se&&(Se={name:Se});const _t=Object.assign({name:qe,automaticDataCollectionEnabled:!1},Se),sn=_t.name;if("string"!=typeof sn||!sn)throw Cn.create("bad-app-name",{appName:String(sn)});if(je||(je=(0,_e.aH)()),!je)throw Cn.create("no-options");const En=Ye.get(sn);if(En){if((0,_e.vZ)(je,En.options)&&(0,_e.vZ)(_t,En.config))return En;throw Cn.create("duplicate-app",{appName:sn})}const _r=new te.H0(sn);for(const re of We.values())_r.addComponent(re);const Te=new mr(je,_t,_r);return Ye.set(sn,Te),Te}function Er(it=qe){const Se=Ye.get(it);if(!Se&&it===qe&&(0,_e.aH)())return cr();if(!Se)throw Cn.create("no-app",{appName:it});return Se}function Zr(){return Array.from(Ye.values())}function ci(it){return si.apply(this,arguments)}function si(){return(si=(0,I.Z)(function*(it){const Se=it.name;Ye.has(Se)&&(Ye.delete(Se),yield Promise.all(it.container.getProviders().map(je=>je.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Br(it,Se,je){var _t;let sn=null!==(_t=Ke[it])&&void 0!==_t?_t:it;je&&(sn+=`-${je}`);const En=sn.match(/\s|\//),_r=Se.match(/\s|\//);if(En||_r){const Te=[`Unable to register library "${sn}" with version "${Se}":`];return En&&Te.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),En&&_r&&Te.push("and"),_r&&Te.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void le.warn(Te.join(" "))}Yt(new te.wA(`${sn}-version`,()=>({library:sn,version:Se}),"VERSION"))}function Sr(it,Se){if(null!==it&&"function"!=typeof it)throw Cn.create("invalid-log-argument");(0,J.Am)(it,Se)}function Wn(it){(0,J.Ub)(it)}const Wr="firebase-heartbeat-database",or=1,cn="firebase-heartbeat-store";let Fn=null;function kr(){return Fn||(Fn=(0,m.X3)(Wr,or,{upgrade:(it,Se)=>{0===Se&&it.createObjectStore(cn)}}).catch(it=>{throw Cn.create("idb-open",{originalErrorMessage:it.message})})),Fn}function Jt(){return(Jt=(0,I.Z)(function*(it){try{return yield(yield kr()).transaction(cn).objectStore(cn).get(Ri(it))}catch(Se){if(Se instanceof _e.ZR)le.warn(Se.message);else{const je=Cn.create("idb-get",{originalErrorMessage:Se?.message});le.warn(je.message)}}})).apply(this,arguments)}function On(it,Se){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(it,Se){try{const _t=(yield kr()).transaction(cn,"readwrite");yield _t.objectStore(cn).put(Se,Ri(it)),yield _t.done}catch(je){if(je instanceof _e.ZR)le.warn(je.message);else{const _t=Cn.create("idb-set",{originalErrorMessage:je?.message});le.warn(_t.message)}}})).apply(this,arguments)}function Ri(it){return`${it.name}!${it.options.appId}`}class Un{constructor(Se){this.container=Se,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Wi(je),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var Se=this;return(0,I.Z)(function*(){const _t=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=Ir();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==sn&&!Se._heartbeatsCache.heartbeats.some(En=>En.date===sn))return Se._heartbeatsCache.heartbeats.push({date:sn,agent:_t}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(En=>{const _r=new Date(En.date).valueOf();return Date.now()-_r<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,I.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const je=Ir(),{heartbeatsToSend:_t,unsentEntries:sn}=function Pi(it,Se=1024){const je=[];let _t=it.slice();for(const sn of it){const En=je.find(_r=>_r.agent===sn.agent);if(En){if(En.dates.push(sn.date),ar(je)>Se){En.dates.pop();break}}else if(je.push({agent:sn.agent,dates:[sn.date]}),ar(je)>Se){je.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:je,unsentEntries:_t}}(Se._heartbeatsCache.heartbeats),En=(0,_e.L)(JSON.stringify({version:2,heartbeats:_t}));return Se._heartbeatsCache.lastSentHeartbeatDate=je,sn.length>0?(Se._heartbeatsCache.heartbeats=sn,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),En})()}}function Ir(){return(new Date).toISOString().substring(0,10)}class Wi{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,I.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Gr(it){return Jt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var je=this;return(0,I.Z)(function*(){var _t;if(yield je._canUseIndexedDBPromise){const En=yield je.read();return On(je.app,{lastSentHeartbeatDate:null!==(_t=Se.lastSentHeartbeatDate)&&void 0!==_t?_t:En.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var je=this;return(0,I.Z)(function*(){var _t;if(yield je._canUseIndexedDBPromise){const En=yield je.read();return On(je.app,{lastSentHeartbeatDate:null!==(_t=Se.lastSentHeartbeatDate)&&void 0!==_t?_t:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Se.heartbeats]})}})()}}function ar(it){return(0,_e.L)(JSON.stringify({version:2,heartbeats:it})).length}!function qn(it){Yt(new te.wA("platform-logger",Se=>new fe(Se),"PRIVATE")),Yt(new te.wA("heartbeat",Se=>new Un(Se),"PRIVATE")),Br(me,"0.9.13",it),Br(me,"0.9.13","esm2017"),Br("fire-js","")}("")},4097:(Wt,ze,U)=>{U.d(ze,{C6:()=>I.getApps,KN:()=>I.registerVersion,Mq:()=>I.getApp,ZF:()=>I.initializeApp});var I=U(7592);(0,I.registerVersion)("firebase","9.23.0","app")},120:(Wt,ze,U)=>{U.d(ze,{Z:()=>I.Z});var I=U(3399);I.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(Wt,ze,U)=>{U.r(ze);var I=U(5861),te=U(3399),J=U(6710),_e=U(9058),be=(U(7592),U(7879),U(4537));function me(){return window}function pe(){return pe=(0,I.Z)(function*(q,B,$){var he;const{BuildInfo:$e}=me();(0,J.as)(B.sessionId,"AuthEvent did not contain a session ID");const wt=yield function ke(q){return Oe.apply(this,arguments)}(B.sessionId),on={};return(0,J.at)()?on.ibi=$e.packageName:(0,J.au)()?on.apn=$e.packageName:(0,J.av)(q,"operation-not-supported-in-this-environment"),$e.displayName&&(on.appDisplayName=$e.displayName),on.sessionId=wt,(0,J.aw)(q,$,B.type,void 0,null!==(he=B.eventId)&&void 0!==he?he:void 0,on)}),pe.apply(this,arguments)}function Ze(){return(Ze=(0,I.Z)(function*(q){const{BuildInfo:B}=me(),$={};(0,J.at)()?$.iosBundleId=B.packageName:(0,J.au)()?$.androidPackageName=B.packageName:(0,J.av)(q,"operation-not-supported-in-this-environment"),yield(0,J.ax)(q,$)})).apply(this,arguments)}function at(){return(at=(0,I.Z)(function*(q,B,$){const{cordova:he}=me();let $e=()=>{};try{yield new Promise((wt,on)=>{let Xt=null;function Xn(){var Qn;wt();const yt=null===(Qn=he.plugins.browsertab)||void 0===Qn?void 0:Qn.close;"function"==typeof yt&&yt(),"function"==typeof $?.close&&$.close()}function Hn(){Xt||(Xt=window.setTimeout(()=>{on((0,J.az)(q,"redirect-cancelled-by-user"))},2e3))}function Tr(){"visible"===document?.visibilityState&&Hn()}B.addPassiveListener(Xn),document.addEventListener("resume",Hn,!1),(0,J.au)()&&document.addEventListener("visibilitychange",Tr,!1),$e=()=>{B.removePassiveListener(Xn),document.removeEventListener("resume",Hn,!1),document.removeEventListener("visibilitychange",Tr,!1),Xt&&window.clearTimeout(Xt)}})}finally{$e()}})).apply(this,arguments)}function Oe(){return(Oe=(0,I.Z)(function*(q){const B=function bt(q){if((0,J.as)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(q);const B=new ArrayBuffer(q.length),$=new Uint8Array(B);for(let he=0;he<q.length;he++)$[he]=q.charCodeAt(he);return $}(q),$=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array($)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xe extends J.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach($=>$(B)),super.onEvent(B)}initialized(){var B=this;return(0,I.Z)(function*(){yield B.initPromise})()}}function vt(q){return ye.apply(this,arguments)}function ye(){return(ye=(0,I.Z)(function*(q){const B=yield an()._get(In(q));return B&&(yield an()._remove(In(q))),B})).apply(this,arguments)}function Pt(){const q=[];for(let $=0;$<20;$++){const he=Math.floor(62*Math.random());q.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return q.join("")}function an(){return(0,J.aC)(J.b)}function In(q){return(0,J.aD)("authEvent",q.config.apiKey,q.name)}function zr(q){if(!q?.includes("?"))return{};const[B,...$]=q.split("?");return(0,_e.zd)($.join("?"))}const qe=class Nr{constructor(){this._redirectPersistence=J.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=J.aE,this._overrideRedirectResult=J.aF}_initialize(B){var $=this;return(0,I.Z)(function*(){const he=B._key();let $e=$.eventManagers.get(he);return $e||($e=new Xe(B),$.eventManagers.set(he,$e),$.attachCallbackListeners(B,$e)),$e})()}_openPopup(B){(0,J.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,$,he,$e){var wt=this;return(0,I.Z)(function*(){!function Tt(q){var B,$,he,$e,wt,on,Xt,Xn,Hn,Tr;const Qn=me();(0,J.aA)("function"==typeof(null===(B=Qn?.universalLinks)||void 0===B?void 0:B.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,J.aA)(typeof(null===($=Qn?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,J.aA)("function"==typeof(null===(wt=null===($e=null===(he=Qn?.cordova)||void 0===he?void 0:he.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===wt?void 0:wt.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,J.aA)("function"==typeof(null===(Xn=null===(Xt=null===(on=Qn?.cordova)||void 0===on?void 0:on.plugins)||void 0===Xt?void 0:Xt.browsertab)||void 0===Xn?void 0:Xn.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,J.aA)("function"==typeof(null===(Tr=null===(Hn=Qn?.cordova)||void 0===Hn?void 0:Hn.InAppBrowser)||void 0===Tr?void 0:Tr.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const on=yield wt._initialize(B);yield on.initialized(),on.resetRedirect(),(0,J.aG)(),yield wt._originValidation(B);const Xt=function ut(q,B,$=null){return{type:B,eventId:$,urlResponse:null,sessionId:Pt(),postBody:null,tenantId:q.tenantId,error:(0,J.az)(q,"no-auth-event")}}(B,he,$e);yield function St(q,B){return an()._set(In(q),B)}(B,Xt);const Xn=yield function le(q,B,$){return pe.apply(this,arguments)}(B,Xt,$),Hn=yield function Je(q){const{cordova:B}=me();return new Promise($=>{B.plugins.browsertab.isAvailable(he=>{let $e=null;he?B.plugins.browsertab.openUrl(q):$e=B.InAppBrowser.open(q,(0,J.ay)()?"_blank":"_system","location=yes"),$($e)})})}(Xn);return function lt(q,B,$){return at.apply(this,arguments)}(B,on,Hn)})()}_isIframeWebStorageSupported(B,$){throw new Error("Method not implemented.")}_originValidation(B){const $=B._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function Be(q){return Ze.apply(this,arguments)}(B)),this.originValidationPromises[$]}attachCallbackListeners(B,$){const{universalLinks:he,handleOpenURL:$e,BuildInfo:wt}=me(),on=setTimeout((0,I.Z)(function*(){yield vt(B),$.onEvent(Ke())}),500),Xt=function(){var Tr=(0,I.Z)(function*(Qn){clearTimeout(on);const yt=yield vt(B);let ie=null;yt&&Qn?.url&&(ie=function ht(q,B){var $,he;const $e=function bn(q){const B=zr(q),$=B.link?decodeURIComponent(B.link):void 0,he=zr($).link,$e=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return zr($e).link||$e||he||$||q}(B);if($e.includes("/__/auth/callback")){const wt=zr($e),on=wt.firebaseError?function Vn(q){try{return JSON.parse(q)}catch{return null}}(decodeURIComponent(wt.firebaseError)):null,Xt=null===(he=null===($=on?.code)||void 0===$?void 0:$.split("auth/"))||void 0===he?void 0:he[1],Xn=Xt?(0,J.az)(Xt):null;return Xn?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:Xn,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:$e,postBody:null}}return null}(yt,Qn.url)),$.onEvent(ie||Ke())});return function(yt){return Tr.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,Xt);const Xn=$e,Hn=`${wt.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Tr=(0,I.Z)(function*(Qn){if(Qn.toLowerCase().startsWith(Hn)&&Xt({url:Qn}),"function"==typeof Xn)try{Xn(Qn)}catch(yt){console.error(yt)}});return function(Qn){return Tr.apply(this,arguments)}}()}};function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,J.az)("no-auth-event")}}function Yt(){var q;return(null===(q=self?.location)||void 0===q?void 0:q.protocol)||null}function rn(q=(0,_e.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function hr(){try{const q=self.localStorage,B=J.aL();if(q)return q.setItem(B,"1"),q.removeItem(B),!function mr(q=(0,_e.z$)()){return function rr(){return(0,_e.w1)()&&11===document?.documentMode}()||function Cn(q=(0,_e.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,_e.hl)()}catch{return cr()&&(0,_e.hl)()}return!1}function cr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Er(){return(function Tn(){return"http:"===Yt()||"https:"===Yt()}()||(0,_e.ru)()||rn())&&!function vn(){return(0,_e.b$)()||(0,_e.UG)()}()&&hr()&&!cr()}function Zr(){return rn()&&typeof document<"u"}function si(){return(si=(0,I.Z)(function*(){return!!Zr()&&new Promise(q=>{const B=setTimeout(()=>{q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(B),q(!0)})})})).apply(this,arguments)}const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=J.aA,Wr="persistence";function cn(q){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,I.Z)(function*(q){yield q._initializationPromise;const B=Gr(),$=J.aD(Wr,q.config.apiKey,q.name);B&&B.setItem($,q._getPersistence())})).apply(this,arguments)}function Gr(){var q;try{return(null===(q=function Br(){return typeof window<"u"?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch{return null}}const Jt=J.aA;class On{constructor(){this.browserResolver=J.aC(J.k),this.cordovaResolver=J.aC(qe),this.underlyingResolver=null,this._redirectPersistence=J.a,this._completeRedirectFn=J.aE,this._overrideRedirectResult=J.aF}_initialize(B){var $=this;return(0,I.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,$,he,$e){var wt=this;return(0,I.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openPopup(B,$,he,$e)})()}_openRedirect(B,$,he,$e){var wt=this;return(0,I.Z)(function*(){return yield wt.selectUnderlyingResolver(),wt.assertedUnderlyingResolver._openRedirect(B,$,he,$e)})()}_isIframeWebStorageSupported(B,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,$)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Zr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,I.Z)(function*(){if(B.underlyingResolver)return;const $=yield function ci(){return si.apply(this,arguments)}();B.underlyingResolver=$?B.cordovaResolver:B.browserResolver})()}}function wr(q){return q.unwrap()}function ir(q){return Un(q)}function Un(q){const{_tokenResponse:B}=q instanceof _e.ZR?q.customData:q;if(!B)return null;if(!(q instanceof _e.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return J.P.credentialFromResult(q);const $=B.providerId;if(!$||$===J.p.PASSWORD)return null;let he;switch($){case J.p.GOOGLE:he=J.V;break;case J.p.FACEBOOK:he=J.U;break;case J.p.GITHUB:he=J.W;break;case J.p.TWITTER:he=J.Z;break;default:const{oauthIdToken:$e,oauthAccessToken:wt,oauthTokenSecret:on,pendingToken:Xt,nonce:Xn}=B;return wt||on||$e||Xt?Xt?$.startsWith("saml.")?J.aO._create($,Xt):J.L._fromParams({providerId:$,signInMethod:$,pendingToken:Xt,idToken:$e,accessToken:wt}):new J.X($).credential({idToken:$e,accessToken:wt,rawNonce:Xn}):null}return q instanceof _e.ZR?he.credentialFromError(q):he.credentialFromResult(q)}function Ir(q,B){return B.catch($=>{throw $ instanceof _e.ZR&&function Kt(q,B){var $;const he=null===($=B.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new ar(q,J.aq(q,B));else if(he){const $e=Un(B),wt=B;$e&&(wt.credential=$e,wt.tenantId=he.tenantId||void 0,wt.email=he.email||void 0,wt.phoneNumber=he.phoneNumber||void 0)}}(q,$),$}).then($=>{const $e=$.user;return{operationType:$.operationType,credential:ir($),additionalUserInfo:J.ao($),user:qn.getOrCreate($e)}})}function Pi(q,B){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,I.Z)(function*(q,B){const $=yield B;return{verificationId:$.verificationId,confirm:he=>Ir(q,$.confirm(he))}})).apply(this,arguments)}class ar{constructor(B,$){this.resolver=$,this.auth=function Ri(q){return q.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return Ir(wr(this.auth),this.resolver.resolveSignIn(B))}}class qn{constructor(B){this._delegate=B,this.multiFactor=J.ar(B)}static getOrCreate(B){return qn.USER_MAP.has(B)||qn.USER_MAP.set(B,new qn(B)),qn.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var $=this;return(0,I.Z)(function*(){return Ir($.auth,J.a0($._delegate,B))})()}linkWithPhoneNumber(B,$){var he=this;return(0,I.Z)(function*(){return Pi(he.auth,J.l(he._delegate,B,$))})()}linkWithPopup(B){var $=this;return(0,I.Z)(function*(){return Ir($.auth,J.d($._delegate,B,On))})()}linkWithRedirect(B){var $=this;return(0,I.Z)(function*(){return yield cn(J.aH($.auth)),J.g($._delegate,B,On)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var $=this;return(0,I.Z)(function*(){return Ir($.auth,J.a1($._delegate,B))})()}reauthenticateWithPhoneNumber(B,$){return Pi(this.auth,J.r(this._delegate,B,$))}reauthenticateWithPopup(B){return Ir(this.auth,J.e(this._delegate,B,On))}reauthenticateWithRedirect(B){var $=this;return(0,I.Z)(function*(){return yield cn(J.aH($.auth)),J.h($._delegate,B,On)})()}sendEmailVerification(B){return J.ae(this._delegate,B)}unlink(B){var $=this;return(0,I.Z)(function*(){return yield J.an($._delegate,B),$})()}updateEmail(B){return J.aj(this._delegate,B)}updatePassword(B){return J.ak(this._delegate,B)}updatePhoneNumber(B){return J.u(this._delegate,B)}updateProfile(B){return J.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,$){return J.af(this._delegate,B,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qn.USER_MAP=new WeakMap;const it=J.aA;let Se=(()=>{class q{constructor($,he){if(this.app=$,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=$.options;it($e,"invalid-api-key",{appName:$.name}),it($e,"invalid-api-key",{appName:$.name});const wt=typeof window<"u"?On:void 0;this._delegate=he.initialize({options:{persistence:_t($e,$.name),popupRedirectResolver:wt}}),this._delegate._updateErrorMap(J.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,he){J.I(this._delegate,$,he)}applyActionCode($){return J.a5(this._delegate,$)}checkActionCode($){return J.a6(this._delegate,$)}confirmPasswordReset($,he){return J.a4(this._delegate,$,he)}createUserWithEmailAndPassword($,he){var $e=this;return(0,I.Z)(function*(){return Ir($e._delegate,J.a8($e._delegate,$,he))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return J.ad(this._delegate,$)}isSignInWithEmailLink($){return J.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,I.Z)(function*(){it(Er(),$._delegate,"operation-not-supported-in-this-environment");const he=yield J.j($._delegate,On);return he?Ir($._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Ye(q,B){(0,J.aH)(q)._logFramework(B)}(this._delegate,$)}onAuthStateChanged($,he,$e){const{next:wt,error:on,complete:Xt}=je($,he,$e);return this._delegate.onAuthStateChanged(wt,on,Xt)}onIdTokenChanged($,he,$e){const{next:wt,error:on,complete:Xt}=je($,he,$e);return this._delegate.onIdTokenChanged(wt,on,Xt)}sendSignInLinkToEmail($,he){return J.aa(this._delegate,$,he)}sendPasswordResetEmail($,he){return J.a3(this._delegate,$,he||void 0)}setPersistence($){var he=this;return(0,I.Z)(function*(){let $e;switch(function or(q,B){Wn(Object.values(Sr).includes(B),q,"invalid-persistence-type"),(0,_e.b$)()?Wn(B!==Sr.SESSION,q,"unsupported-persistence-type"):(0,_e.UG)()?Wn(B===Sr.NONE,q,"unsupported-persistence-type"):cr()?Wn(B===Sr.NONE||B===Sr.LOCAL&&(0,_e.hl)(),q,"unsupported-persistence-type"):Wn(B===Sr.NONE||hr(),q,"unsupported-persistence-type")}(he._delegate,$),$){case Sr.SESSION:$e=J.a;break;case Sr.LOCAL:$e=(yield J.aC(J.i)._isAvailable())?J.i:J.b;break;case Sr.NONE:$e=J.N;break;default:return J.av("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Ir(this._delegate,J._(this._delegate))}signInWithCredential($){return Ir(this._delegate,J.$(this._delegate,$))}signInWithCustomToken($){return Ir(this._delegate,J.a2(this._delegate,$))}signInWithEmailAndPassword($,he){return Ir(this._delegate,J.a9(this._delegate,$,he))}signInWithEmailLink($,he){return Ir(this._delegate,J.ac(this._delegate,$,he))}signInWithPhoneNumber($,he){return Pi(this._delegate,J.s(this._delegate,$,he))}signInWithPopup($){var he=this;return(0,I.Z)(function*(){return it(Er(),he._delegate,"operation-not-supported-in-this-environment"),Ir(he._delegate,J.c(he._delegate,$,On))})()}signInWithRedirect($){var he=this;return(0,I.Z)(function*(){return it(Er(),he._delegate,"operation-not-supported-in-this-environment"),yield cn(he._delegate),J.f(he._delegate,$,On)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return J.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Sr,q})();function je(q,B,$){let he=q;"function"!=typeof q&&({next:he,error:B,complete:$}=q);const $e=he;return{next:on=>$e(on&&qn.getOrCreate(on)),error:B,complete:$}}function _t(q,B){const $=function kr(q,B){const $=Gr();if(!$)return[];const he=J.aD(Wr,q,B);switch($.getItem(he)){case Sr.NONE:return[J.N];case Sr.LOCAL:return[J.i,J.a];case Sr.SESSION:return[J.a];default:return[]}}(q,B);if(typeof self<"u"&&!$.includes(J.i)&&$.push(J.i),typeof window<"u")for(const he of[J.b,J.a])$.includes(he)||$.push(he);return $.includes(J.N)||$.push(J.N),$}class sn{constructor(){this.providerId="phone",this._delegate=new J.P(wr(te.Z.auth()))}static credential(B,$){return J.P.credential(B,$)}verifyPhoneNumber(B,$){return this._delegate.verifyPhoneNumber(B,$)}unwrap(){return this._delegate}}sn.PHONE_SIGN_IN_METHOD=J.P.PHONE_SIGN_IN_METHOD,sn.PROVIDER_ID=J.P.PROVIDER_ID;const En=J.aA;class _r{constructor(B,$,he=te.Z.app()){var $e;En(null===($e=he.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new J.R(B,$,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(q){q.INTERNAL.registerComponent(new be.wA("auth-compat",B=>{const $=B.getProvider("app-compat").getImmediate(),he=B.getProvider("auth");return new Se($,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:J.A.EMAIL_SIGNIN,PASSWORD_RESET:J.A.PASSWORD_RESET,RECOVER_EMAIL:J.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:J.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:J.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:J.A.VERIFY_EMAIL}},EmailAuthProvider:J.Q,FacebookAuthProvider:J.U,GithubAuthProvider:J.W,GoogleAuthProvider:J.V,OAuthProvider:J.X,SAMLAuthProvider:J.Y,PhoneAuthProvider:sn,PhoneMultiFactorGenerator:J.m,RecaptchaVerifier:_r,TwitterAuthProvider:J.Z,Auth:Se,AuthCredential:J.J,Error:_e.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.4.2")}(te.Z)},6593:(Wt,ze,U)=>{U.d(ze,{Dx:()=>Sr,b2:()=>Er,q6:()=>Cn});var I=U(9212),te=U(6814);class J extends te.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends J{static makeCurrent(){(0,te.HT)(new _e)}onAndCancel(q,B,$){return q.addEventListener(B,$),()=>{q.removeEventListener(B,$)}}dispatchEvent(q,B){q.dispatchEvent(B)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,B){return(B=B||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,B){return"window"===B?window:"document"===B?q:"body"===B?q.body:null}getBaseHref(q){const B=function fe(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==B?null:function me(re){be=be||document.createElement("a"),be.setAttribute("href",re);const q=be.pathname;return"/"===q.charAt(0)?q:`/${q}`}(B)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,te.Mx)(document.cookie,q)}}let be,m=null,le=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function($){return new($||re)};static#t=this.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac})}return re})();const pe=new I.OlP("EventManagerPlugins");let Be=(()=>{class re{constructor(B,$){this._zone=$,this._eventNameToPlugin=new Map,B.forEach(he=>{he.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,$,he){return this._findPluginFor($).addEventListener(B,$,he)}getZone(){return this._zone}_findPluginFor(B){let $=this._eventNameToPlugin.get(B);if($)return $;if($=this._plugins.find($e=>$e.supports(B)),!$)throw new I.vHH(5101,!1);return this._eventNameToPlugin.set(B,$),$}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(pe),I.LFG(I.R0b))};static#t=this.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac})}return re})();class Ze{constructor(q){this._doc=q}}const Je="ng-app-id";let lt=(()=>{class re{constructor(B,$,he,$e={}){this.doc=B,this.appId=$,this.nonce=he,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,te.PM)($e),this.resetHostNodes()}addStyles(B){for(const $ of B)1===this.changeUsageCount($,1)&&this.onStyleAdded($)}removeStyles(B){for(const $ of B)this.changeUsageCount($,-1)<=0&&this.onStyleRemoved($)}ngOnDestroy(){const B=this.styleNodesInDOM;B&&(B.forEach($=>$.remove()),B.clear());for(const $ of this.getAllStyles())this.onStyleRemoved($);this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const $ of this.getAllStyles())this.addStyleToHost(B,$)}removeHost(B){this.hostNodes.delete(B)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(B){for(const $ of this.hostNodes)this.addStyleToHost($,B)}onStyleRemoved(B){const $=this.styleRef;$.get(B)?.elements?.forEach(he=>he.remove()),$.delete(B)}collectServerRenderedStyles(){const B=this.doc.head?.querySelectorAll(`style[${Je}="${this.appId}"]`);if(B?.length){const $=new Map;return B.forEach(he=>{null!=he.textContent&&$.set(he.textContent,he)}),$}return null}changeUsageCount(B,$){const he=this.styleRef;if(he.has(B)){const $e=he.get(B);return $e.usage+=$,$e.usage}return he.set(B,{usage:$,elements:[]}),$}getStyleElement(B,$){const he=this.styleNodesInDOM,$e=he?.get($);if($e?.parentNode===B)return he.delete($),$e.removeAttribute(Je),$e;{const wt=this.doc.createElement("style");return this.nonce&&wt.setAttribute("nonce",this.nonce),wt.textContent=$,this.platformIsServer&&wt.setAttribute(Je,this.appId),B.appendChild(wt),wt}}addStyleToHost(B,$){const he=this.getStyleElement(B,$),$e=this.styleRef,wt=$e.get($)?.elements;wt?wt.push(he):$e.set($,{elements:[he],usage:1})}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(te.K0),I.LFG(I.AFp),I.LFG(I.Ojb,8),I.LFG(I.Lbi))};static#t=this.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac})}return re})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tt=/%COMP%/g,Xe=new I.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function vt(re,q){return q.map(B=>B.replace(Tt,re))}let ye=(()=>{class re{constructor(B,$,he,$e,wt,on,Xt,Xn=null){this.eventManager=B,this.sharedStylesHost=$,this.appId=he,this.removeStylesOnCompDestroy=$e,this.doc=wt,this.platformId=on,this.ngZone=Xt,this.nonce=Xn,this.rendererByCompId=new Map,this.platformIsServer=(0,te.PM)(on),this.defaultRenderer=new ht(B,wt,Xt,this.platformIsServer)}createRenderer(B,$){if(!B||!$)return this.defaultRenderer;this.platformIsServer&&$.encapsulation===I.ifc.ShadowDom&&($={...$,encapsulation:I.ifc.Emulated});const he=this.getOrCreateRenderer(B,$);return he instanceof zr?he.applyToHost(B):he instanceof bn&&he.applyStyles(),he}getOrCreateRenderer(B,$){const he=this.rendererByCompId;let $e=he.get($.id);if(!$e){const wt=this.doc,on=this.ngZone,Xt=this.eventManager,Xn=this.sharedStylesHost,Hn=this.removeStylesOnCompDestroy,Tr=this.platformIsServer;switch($.encapsulation){case I.ifc.Emulated:$e=new zr(Xt,Xn,$,this.appId,Hn,wt,on,Tr);break;case I.ifc.ShadowDom:return new Vn(Xt,Xn,B,$,wt,on,this.nonce,Tr);default:$e=new bn(Xt,Xn,$,Hn,wt,on,Tr)}he.set($.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(Be),I.LFG(lt),I.LFG(I.AFp),I.LFG(Xe),I.LFG(te.K0),I.LFG(I.Lbi),I.LFG(I.R0b),I.LFG(I.Ojb))};static#t=this.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac})}return re})();class ht{constructor(q,B,$,he){this.eventManager=q,this.doc=B,this.ngZone=$,this.platformIsServer=he,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(q,B){return B?this.doc.createElementNS(at[B]||B,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,B){(In(q)?q.content:q).appendChild(B)}insertBefore(q,B,$){q&&(In(q)?q.content:q).insertBefore(B,$)}removeChild(q,B){q&&q.removeChild(B)}selectRootElement(q,B){let $="string"==typeof q?this.doc.querySelector(q):q;if(!$)throw new I.vHH(-5104,!1);return B||($.textContent=""),$}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,B,$,he){if(he){B=he+":"+B;const $e=at[he];$e?q.setAttributeNS($e,B,$):q.setAttribute(B,$)}else q.setAttribute(B,$)}removeAttribute(q,B,$){if($){const he=at[$];he?q.removeAttributeNS(he,B):q.removeAttribute(`${$}:${B}`)}else q.removeAttribute(B)}addClass(q,B){q.classList.add(B)}removeClass(q,B){q.classList.remove(B)}setStyle(q,B,$,he){he&(I.JOm.DashCase|I.JOm.Important)?q.style.setProperty(B,$,he&I.JOm.Important?"important":""):q.style[B]=$}removeStyle(q,B,$){$&I.JOm.DashCase?q.style.removeProperty(B):q.style[B]=""}setProperty(q,B,$){null!=q&&(q[B]=$)}setValue(q,B){q.nodeValue=B}listen(q,B,$){if("string"==typeof q&&!(q=(0,te.q)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${B}`);return this.eventManager.addEventListener(q,B,this.decoratePreventDefault($))}decoratePreventDefault(q){return B=>{if("__ngUnwrap__"===B)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(B)):q(B))&&B.preventDefault()}}}function In(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class Vn extends ht{constructor(q,B,$,he,$e,wt,on,Xt){super(q,$e,wt,Xt),this.sharedStylesHost=B,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xn=vt(he.id,he.styles);for(const Hn of Xn){const Tr=document.createElement("style");on&&Tr.setAttribute("nonce",on),Tr.textContent=Hn,this.shadowRoot.appendChild(Tr)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,B){return super.appendChild(this.nodeOrShadowRoot(q),B)}insertBefore(q,B,$){return super.insertBefore(this.nodeOrShadowRoot(q),B,$)}removeChild(q,B){return super.removeChild(this.nodeOrShadowRoot(q),B)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bn extends ht{constructor(q,B,$,he,$e,wt,on,Xt){super(q,$e,wt,on),this.sharedStylesHost=B,this.removeStylesOnCompDestroy=he,this.styles=Xt?vt(Xt,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zr extends bn{constructor(q,B,$,he,$e,wt,on,Xt){const Xn=he+"-"+$.id;super(q,B,$,$e,wt,on,Xt,Xn),this.contentAttr=function ut(re){return"_ngcontent-%COMP%".replace(Tt,re)}(Xn),this.hostAttr=function St(re){return"_nghost-%COMP%".replace(Tt,re)}(Xn)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,B){const $=super.createElement(q,B);return super.setAttribute($,this.contentAttr,""),$}}let Jn=(()=>{class re extends Ze{constructor(B){super(B)}supports(B){return!0}addEventListener(B,$,he){return B.addEventListener($,he,!1),()=>this.removeEventListener(B,$,he)}removeEventListener(B,$,he){return B.removeEventListener($,he)}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(te.K0))};static#t=this.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac})}return re})();const Nr=["alt","control","meta","shift"],qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Ye=(()=>{class re extends Ze{constructor(B){super(B)}supports(B){return null!=re.parseEventName(B)}addEventListener(B,$,he){const $e=re.parseEventName($),wt=re.eventCallback($e.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,te.q)().onAndCancel(B,$e.domEventName,wt))}static parseEventName(B){const $=B.toLowerCase().split("."),he=$.shift();if(0===$.length||"keydown"!==he&&"keyup"!==he)return null;const $e=re._normalizeKey($.pop());let wt="",on=$.indexOf("code");if(on>-1&&($.splice(on,1),wt="code."),Nr.forEach(Xn=>{const Hn=$.indexOf(Xn);Hn>-1&&($.splice(Hn,1),wt+=Xn+".")}),wt+=$e,0!=$.length||0===$e.length)return null;const Xt={};return Xt.domEventName=he,Xt.fullKey=wt,Xt}static matchEventFullKeyCode(B,$){let he=qe[B.key]||B.key,$e="";return $.indexOf("code.")>-1&&(he=B.code,$e="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),Nr.forEach(wt=>{wt!==he&&(0,Ke[wt])(B)&&($e+=wt+".")}),$e+=he,$e===$)}static eventCallback(B,$,he){return $e=>{re.matchEventFullKeyCode($e,B)&&he.runGuarded(()=>$($e))}}static _normalizeKey(B){return"esc"===B?"escape":B}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(te.K0))};static#t=this.\u0275prov=I.Yz7({token:re,factory:re.\u0275fac})}return re})();const Cn=(0,I.eFA)(I._c5,"browser",[{provide:I.Lbi,useValue:te.bD},{provide:I.g9A,useValue:function Tn(){_e.makeCurrent()},multi:!0},{provide:te.K0,useFactory:function vn(){return(0,I.RDi)(document),document},deps:[]}]),mr=new I.OlP(""),hr=[{provide:I.rWj,useClass:class Ve{addToWindow(q){I.dqk.getAngularTestability=($,he=!0)=>{const $e=q.findTestabilityInTree($,he);if(null==$e)throw new I.vHH(5103,!1);return $e},I.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),I.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),I.dqk.frameworkStabilizers||(I.dqk.frameworkStabilizers=[]),I.dqk.frameworkStabilizers.push($=>{const he=I.dqk.getAllAngularTestabilities();let $e=he.length,wt=!1;const on=function(Xt){wt=wt||Xt,$e--,0==$e&&$(wt)};he.forEach(Xt=>{Xt.whenStable(on)})})}findTestabilityInTree(q,B,$){return null==B?null:q.getTestability(B)??($?(0,te.q)().isShadowRoot(B)?this.findTestabilityInTree(q,B.host,!0):this.findTestabilityInTree(q,B.parentElement,!0):null)}},deps:[]},{provide:I.lri,useClass:I.dDg,deps:[I.R0b,I.eoX,I.rWj]},{provide:I.dDg,useClass:I.dDg,deps:[I.R0b,I.eoX,I.rWj]}],cr=[{provide:I.zSh,useValue:"root"},{provide:I.qLn,useFactory:function rn(){return new I.qLn},deps:[]},{provide:pe,useClass:Jn,multi:!0,deps:[te.K0,I.R0b,I.Lbi]},{provide:pe,useClass:Ye,multi:!0,deps:[te.K0]},ye,lt,Be,{provide:I.FYo,useExisting:ye},{provide:te.JF,useClass:le,deps:[]},[]];let Er=(()=>{class re{constructor(B){}static withServerTransition(B){return{ngModule:re,providers:[{provide:I.AFp,useValue:B.appId}]}}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(mr,12))};static#t=this.\u0275mod=I.oAB({type:re});static#n=this.\u0275inj=I.cJS({providers:[...cr,...hr],imports:[te.ez,I.hGG]})}return re})(),Sr=(()=>{class re{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}static#e=this.\u0275fac=function($){return new($||re)(I.LFG(te.K0))};static#t=this.\u0275prov=I.Yz7({token:re,factory:function($){let he=null;return he=$?new $:function Br(){return new Sr((0,I.LFG)(te.K0))}(),he},providedIn:"root"})}return re})();typeof window<"u"&&window},3914:(Wt,ze,U)=>{U.d(ze,{gz:()=>Oi,F0:()=>$i,rH:()=>bo,Bz:()=>no,lC:()=>ho});var I=U(9212),te=U(5592),J=U(4674),m=U(2459),fe=U(2096),be=U(5619),me=U(2572),Ve=U(6973),le=U(5211),pe=U(4829);function Be(D){return new te.y(k=>{(0,pe.Xf)(D()).subscribe(k)})}var Ze=U(8407),Je=U(8504),lt=U(6232),at=U(7394),Tt=U(9360),ke=U(8251);function Oe(){return(0,Tt.e)((D,k)=>{let A=null;D._refCount++;const F=(0,ke.x)(k,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(A=null);const W=D._connection,se=A;A=null,W&&(!se||W===se)&&W.unsubscribe(),k.unsubscribe()});D.subscribe(F),F.closed||(A=D.connect())})}class bt extends te.y{constructor(k,A){super(),this.source=k,this.subjectFactory=A,this._subject=null,this._refCount=0,this._connection=null,(0,Tt.A)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new at.w0;const A=this.getSubject();k.add(this.source.subscribe((0,ke.x)(A,void 0,()=>{this._teardown(),A.complete()},F=>{this._teardown(),A.error(F)},()=>this._teardown()))),k.closed&&(this._connection=null,k=at.w0.EMPTY)}return k}refCount(){return Oe()(this)}}var tt=U(8645),Xe=U(6814),ut=U(7398),St=U(4664),vt=U(8180),ye=U(7921),ht=U(2181),Pt=U(1631),an=U(1374),In=U(6328),Vn=U(9397),bn=U(6306),zr=U(6699),Jn=U(3572);function Nr(D){return D<=0?()=>lt.E:(0,Tt.e)((k,A)=>{let F=[];k.subscribe((0,ke.x)(A,W=>{F.push(W),D<F.length&&F.shift()},()=>{for(const W of F)A.next(W);A.complete()},void 0,()=>{F=null}))})}var qe=U(3026),Ke=U(2737),Et=U(4716),Mt=U(9773),Yt=U(7537),Tn=U(6593);const rn="primary",vn=Symbol("RouteTitle");class rr{constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const A=this.params[k];return Array.isArray(A)?A[0]:A}return null}getAll(k){if(this.has(k)){const A=this.params[k];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function Cn(D){return new rr(D)}function mr(D,k,A){const F=A.path.split("/");if(F.length>D.length||"full"===A.pathMatch&&(k.hasChildren()||F.length<D.length))return null;const W={};for(let se=0;se<F.length;se++){const Ee=F[se],ot=D[se];if(Ee.startsWith(":"))W[Ee.substring(1)]=ot;else if(Ee!==ot.path)return null}return{consumed:D.slice(0,F.length),posParams:W}}function cr(D,k){const A=D?Er(D):void 0,F=k?Er(k):void 0;if(!A||!F||A.length!=F.length)return!1;let W;for(let se=0;se<A.length;se++)if(W=A[se],!Zr(D[W],k[W]))return!1;return!0}function Er(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Zr(D,k){if(Array.isArray(D)&&Array.isArray(k)){if(D.length!==k.length)return!1;const A=[...D].sort(),F=[...k].sort();return A.every((W,se)=>F[se]===W)}return D===k}function ci(D){return D.length>0?D[D.length-1]:null}function si(D){return function _e(D){return!!D&&(D instanceof te.y||(0,J.m)(D.lift)&&(0,J.m)(D.subscribe))}(D)?D:(0,I.QGY)(D)?(0,m.D)(Promise.resolve(D)):(0,fe.of)(D)}const Br={exact:function or(D,k,A){if(!ir(D.segments,k.segments)||!Gr(D.segments,k.segments,A)||D.numberOfChildren!==k.numberOfChildren)return!1;for(const F in k.children)if(!D.children[F]||!or(D.children[F],k.children[F],A))return!1;return!0},subset:Fn},Sr={exact:function Wr(D,k){return cr(D,k)},subset:function cn(D,k){return Object.keys(k).length<=Object.keys(D).length&&Object.keys(k).every(A=>Zr(D[A],k[A]))},ignored:()=>!0};function Wn(D,k,A){return Br[A.paths](D.root,k.root,A.matrixParams)&&Sr[A.queryParams](D.queryParams,k.queryParams)&&!("exact"===A.fragment&&D.fragment!==k.fragment)}function Fn(D,k,A){return kr(D,k,k.segments,A)}function kr(D,k,A,F){if(D.segments.length>A.length){const W=D.segments.slice(0,A.length);return!(!ir(W,A)||k.hasChildren()||!Gr(W,A,F))}if(D.segments.length===A.length){if(!ir(D.segments,A)||!Gr(D.segments,A,F))return!1;for(const W in k.children)if(!D.children[W]||!Fn(D.children[W],k.children[W],F))return!1;return!0}{const W=A.slice(0,D.segments.length),se=A.slice(D.segments.length);return!!(ir(D.segments,W)&&Gr(D.segments,W,F)&&D.children[rn])&&kr(D.children[rn],k,se,F)}}function Gr(D,k,A){return k.every((F,W)=>Sr[A](D[W].parameters,F.parameters))}class Jt{constructor(k=new On([],{}),A={},F=null){this.root=k,this.queryParams=A,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return Pi.serialize(this)}}class On{constructor(k,A){this.segments=k,this.children=A,this.parent=null,Object.values(A).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wi(this)}}class wr{constructor(k,A){this.path=k,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return En(this)}}function ir(D,k){return D.length===k.length&&D.every((A,F)=>A.path===k[F].path)}let Un=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:()=>new Ir,providedIn:"root"})}return D})();class Ir{parse(k){const A=new Xt(k);return new Jt(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(k){const A=`/${ar(k.root,!0)}`,F=function Te(D){const k=Object.keys(D).map(A=>{const F=D[A];return Array.isArray(F)?F.map(W=>`${it(A)}=${it(W)}`).join("&"):`${it(A)}=${it(F)}`}).filter(A=>!!A);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${A}${F}${"string"==typeof k.fragment?`#${function Se(D){return encodeURI(D)}(k.fragment)}`:""}`}}const Pi=new Ir;function Wi(D){return D.segments.map(k=>En(k)).join("/")}function ar(D,k){if(!D.hasChildren())return Wi(D);if(k){const A=D.children[rn]?ar(D.children[rn],!1):"",F=[];return Object.entries(D.children).forEach(([W,se])=>{W!==rn&&F.push(`${W}:${ar(se,!1)}`)}),F.length>0?`${A}(${F.join("//")})`:A}{const A=function Kt(D,k){let A=[];return Object.entries(D.children).forEach(([F,W])=>{F===rn&&(A=A.concat(k(W,F)))}),Object.entries(D.children).forEach(([F,W])=>{F!==rn&&(A=A.concat(k(W,F)))}),A}(D,(F,W)=>W===rn?[ar(D.children[rn],!1)]:[`${W}:${ar(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[rn]?`${Wi(D)}/${A[0]}`:`${Wi(D)}/(${A.join("//")})`}}function qn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function it(D){return qn(D).replace(/%3B/gi,";")}function je(D){return qn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(D){return decodeURIComponent(D)}function sn(D){return _t(D.replace(/\+/g,"%20"))}function En(D){return`${je(D.path)}${function _r(D){return Object.keys(D).map(k=>`;${je(k)}=${je(D[k])}`).join("")}(D.parameters)}`}const re=/^[^\/()?;#]+/;function q(D){const k=D.match(re);return k?k[0]:""}const B=/^[^\/()?;=#]+/,he=/^[^=?&#]+/,wt=/^[^&#]+/;class Xt{constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(k.length>0||Object.keys(A).length>0)&&(F[rn]=new On(k,A)),F}parseSegment(){const k=q(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new I.vHH(4009,!1);return this.capture(k),new wr(_t(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const A=function $(D){const k=D.match(B);return k?k[0]:""}(this.remaining);if(!A)return;this.capture(A);let F="";if(this.consumeOptional("=")){const W=q(this.remaining);W&&(F=W,this.capture(F))}k[_t(A)]=_t(F)}parseQueryParam(k){const A=function $e(D){const k=D.match(he);return k?k[0]:""}(this.remaining);if(!A)return;this.capture(A);let F="";if(this.consumeOptional("=")){const Ee=function on(D){const k=D.match(wt);return k?k[0]:""}(this.remaining);Ee&&(F=Ee,this.capture(F))}const W=sn(A),se=sn(F);if(k.hasOwnProperty(W)){let Ee=k[W];Array.isArray(Ee)||(Ee=[Ee],k[W]=Ee),Ee.push(se)}else k[W]=se}parseParens(k){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=q(this.remaining),W=this.remaining[F.length];if("/"!==W&&")"!==W&&";"!==W)throw new I.vHH(4010,!1);let se;F.indexOf(":")>-1?(se=F.slice(0,F.indexOf(":")),this.capture(se),this.capture(":")):k&&(se=rn);const Ee=this.parseChildren();A[se]=1===Object.keys(Ee).length?Ee[rn]:new On([],Ee),this.consumeOptional("//")}return A}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new I.vHH(4011,!1)}}function Xn(D){return D.segments.length>0?new On([],{[rn]:D}):D}function Hn(D){const k={};for(const F of Object.keys(D.children)){const se=Hn(D.children[F]);if(F===rn&&0===se.segments.length&&se.hasChildren())for(const[Ee,ot]of Object.entries(se.children))k[Ee]=ot;else(se.segments.length>0||se.hasChildren())&&(k[F]=se)}return function Tr(D){if(1===D.numberOfChildren&&D.children[rn]){const k=D.children[rn];return new On(D.segments.concat(k.segments),k.children)}return D}(new On(D.segments,k))}function Qn(D){return D instanceof Jt}function ie(D){let k;const W=Xn(function A(se){const Ee={};for(const nt of se.children){const en=A(nt);Ee[nt.outlet]=en}const ot=new On(se.url,Ee);return se===D&&(k=ot),ot}(D.root));return k??W}function ge(D,k,A,F){let W=D;for(;W.parent;)W=W.parent;if(0===k.length)return Dn(W,W,W,A,F);const se=function Ln(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Xr(!0,0,D);let k=0,A=!1;const F=D.reduce((W,se,Ee)=>{if("object"==typeof se&&null!=se){if(se.outlets){const ot={};return Object.entries(se.outlets).forEach(([nt,en])=>{ot[nt]="string"==typeof en?en.split("/"):en}),[...W,{outlets:ot}]}if(se.segmentPath)return[...W,se.segmentPath]}return"string"!=typeof se?[...W,se]:0===Ee?(se.split("/").forEach((ot,nt)=>{0==nt&&"."===ot||(0==nt&&""===ot?A=!0:".."===ot?k++:""!=ot&&W.push(ot))}),W):[...W,se]},[]);return new Xr(A,k,F)}(k);if(se.toRoot())return Dn(W,W,new On([],{}),A,F);const Ee=function Ue(D,k,A){if(D.isAbsolute)return new is(k,!0,0);if(!A)return new is(k,!1,NaN);if(null===A.parent)return new is(A,!0,0);const F=Me(D.commands[0])?0:1;return function De(D,k,A){let F=D,W=k,se=A;for(;se>W;){if(se-=W,F=F.parent,!F)throw new I.vHH(4005,!1);W=F.segments.length}return new is(F,!1,W-se)}(A,A.segments.length-1+F,D.numberOfDoubleDots)}(se,W,D),ot=Ee.processChildren?Ct(Ee.segmentGroup,Ee.index,se.commands):dt(Ee.segmentGroup,Ee.index,se.commands);return Dn(W,Ee.segmentGroup,ot,A,F)}function Me(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Bt(D){return"object"==typeof D&&null!=D&&D.outlets}function Dn(D,k,A,F,W){let Ee,se={};F&&Object.entries(F).forEach(([nt,en])=>{se[nt]=Array.isArray(en)?en.map(Lr=>`${Lr}`):`${en}`}),Ee=D===k?A:fr(D,k,A);const ot=Xn(Hn(Ee));return new Jt(ot,se,W)}function fr(D,k,A){const F={};return Object.entries(D.children).forEach(([W,se])=>{F[W]=se===k?A:fr(se,k,A)}),new On(D.segments,F)}class Xr{constructor(k,A,F){if(this.isAbsolute=k,this.numberOfDoubleDots=A,this.commands=F,k&&F.length>0&&Me(F[0]))throw new I.vHH(4003,!1);const W=F.find(Bt);if(W&&W!==ci(F))throw new I.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class is{constructor(k,A,F){this.segmentGroup=k,this.processChildren=A,this.index=F}}function dt(D,k,A){if(D||(D=new On([],{})),0===D.segments.length&&D.hasChildren())return Ct(D,k,A);const F=function Ut(D,k,A){let F=0,W=k;const se={match:!1,pathIndex:0,commandIndex:0};for(;W<D.segments.length;){if(F>=A.length)return se;const Ee=D.segments[W],ot=A[F];if(Bt(ot))break;const nt=`${ot}`,en=F<A.length-1?A[F+1]:null;if(W>0&&void 0===nt)break;if(nt&&en&&"object"==typeof en&&void 0===en.outlets){if(!Mr(nt,en,Ee))return se;F+=2}else{if(!Mr(nt,{},Ee))return se;F++}W++}return{match:!0,pathIndex:W,commandIndex:F}}(D,k,A),W=A.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const se=new On(D.segments.slice(0,F.pathIndex),{});return se.children[rn]=new On(D.segments.slice(F.pathIndex),D.children),Ct(se,0,W)}return F.match&&0===W.length?new On(D.segments,{}):F.match&&!D.hasChildren()?Vt(D,k,A):F.match?Ct(D,0,W):Vt(D,k,A)}function Ct(D,k,A){if(0===A.length)return new On(D.segments,{});{const F=function Ae(D){return Bt(D[0])?D[0].outlets:{[rn]:D}}(A),W={};if(Object.keys(F).some(se=>se!==rn)&&D.children[rn]&&1===D.numberOfChildren&&0===D.children[rn].segments.length){const se=Ct(D.children[rn],k,A);return new On(D.segments,se.children)}return Object.entries(F).forEach(([se,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(W[se]=dt(D.children[se],k,Ee))}),Object.entries(D.children).forEach(([se,Ee])=>{void 0===F[se]&&(W[se]=Ee)}),new On(D.segments,W)}}function Vt(D,k,A){const F=D.segments.slice(0,k);let W=0;for(;W<A.length;){const se=A[W];if(Bt(se)){const nt=$n(se.outlets);return new On(F,nt)}if(0===W&&Me(A[0])){F.push(new wr(D.segments[k].path,Nn(A[0]))),W++;continue}const Ee=Bt(se)?se.outlets[rn]:`${se}`,ot=W<A.length-1?A[W+1]:null;Ee&&ot&&Me(ot)?(F.push(new wr(Ee,Nn(ot))),W+=2):(F.push(new wr(Ee,{})),W++)}return new On(F,{})}function $n(D){const k={};return Object.entries(D).forEach(([A,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(k[A]=Vt(new On([],{}),0,F))}),k}function Nn(D){const k={};return Object.entries(D).forEach(([A,F])=>k[A]=`${F}`),k}function Mr(D,k,A){return D==A.path&&cr(k,A.parameters)}const Lt="imperative";class ur{constructor(k,A){this.id=k,this.url=A}}class br extends ur{constructor(k,A,F="imperative",W=null){super(k,A),this.type=0,this.navigationTrigger=F,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends ur{constructor(k,A,F){super(k,A),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends ur{constructor(k,A,F,W){super(k,A),this.reason=F,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pe extends ur{constructor(k,A,F,W){super(k,A),this.reason=F,this.code=W,this.type=16}}class we extends ur{constructor(k,A,F,W){super(k,A),this.error=F,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ge extends ur{constructor(k,A,F,W){super(k,A),this.urlAfterRedirects=F,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends ur{constructor(k,A,F,W){super(k,A),this.urlAfterRedirects=F,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct extends ur{constructor(k,A,F,W,se){super(k,A),this.urlAfterRedirects=F,this.state=W,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bn extends ur{constructor(k,A,F,W){super(k,A),this.urlAfterRedirects=F,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends ur{constructor(k,A,F,W){super(k,A),this.urlAfterRedirects=F,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr{constructor(k){this.route=k,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rr{constructor(k){this.route=k,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Eo{constructor(k){this.snapshot=k,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(k){this.snapshot=k,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(k){this.snapshot=k,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(k){this.snapshot=k,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ll{constructor(k,A,F){this.routerEvent=k,this.position=A,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qa{}class cl{constructor(k){this.url=k}}class Lu{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Go,this.attachRef=null}}let Go=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(A,F){const W=this.getOrCreateContext(A);W.outlet=F,this.contexts.set(A,W)}onChildOutletDestroyed(A){const F=this.getContext(A);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let F=this.getContext(A);return F||(F=new Lu,this.contexts.set(A,F)),F}getContext(A){return this.contexts.get(A)||null}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class sc{constructor(k){this._root=k}get root(){return this._root.value}parent(k){const A=this.pathFromRoot(k);return A.length>1?A[A.length-2]:null}children(k){const A=fu(k,this._root);return A?A.children.map(F=>F.value):[]}firstChild(k){const A=fu(k,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(k){const A=pu(k,this._root);return A.length<2?[]:A[A.length-2].children.map(W=>W.value).filter(W=>W!==k)}pathFromRoot(k){return pu(k,this._root).map(A=>A.value)}}function fu(D,k){if(D===k.value)return k;for(const A of k.children){const F=fu(D,A);if(F)return F}return null}function pu(D,k){if(D===k.value)return[k];for(const A of k.children){const F=pu(D,A);if(F.length)return F.unshift(k),F}return[]}class Qs{constructor(k,A){this.value=k,this.children=A}toString(){return`TreeNode(${this.value})`}}function ys(D){const k={};return D&&D.children.forEach(A=>k[A.value.outlet]=A),k}class Ps extends sc{constructor(k,A){super(k),this.snapshot=A,hs(this,k)}toString(){return this.snapshot.toString()}}function qo(D,k){const A=function Fu(D,k){const Ee=new Pr([],{},{},"",{},rn,k,null,{});return new Wa("",new Qs(Ee,[]))}(0,k),F=new be.X([new wr("",{})]),W=new be.X({}),se=new be.X({}),Ee=new be.X({}),ot=new be.X(""),nt=new Oi(F,W,Ee,ot,se,rn,k,A.root);return nt.snapshot=A.root,new Ps(new Qs(nt,[]),A)}class Oi{constructor(k,A,F,W,se,Ee,ot,nt){this.urlSubject=k,this.paramsSubject=A,this.queryParamsSubject=F,this.fragmentSubject=W,this.dataSubject=se,this.outlet=Ee,this.component=ot,this._futureSnapshot=nt,this.title=this.dataSubject?.pipe((0,ut.U)(en=>en[vn]))??(0,fe.of)(void 0),this.url=k,this.params=A,this.queryParams=F,this.fragment=W,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(k=>Cn(k)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(k=>Cn(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qr(D,k,A="emptyOnly"){let F;const{routeConfig:W}=D;return F=null===k||"always"!==A&&""!==W?.path&&(k.component||k.routeConfig?.loadComponent)?{params:D.params,data:D.data,resolve:{...D.data,...D._resolvedData??{}}}:{params:{...k.params,...D.params},data:{...k.data,...D.data},resolve:{...D.data,...k.data,...W?.data,...D._resolvedData}},W&&hl(W)&&(F.resolve[vn]=W.title),F}class Pr{get title(){return this.data?.[vn]}constructor(k,A,F,W,se,Ee,ot,nt,en){this.url=k,this.params=A,this.queryParams=F,this.fragment=W,this.data=se,this.outlet=Ee,this.component=ot,this.routeConfig=nt,this._resolve=en}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wa extends sc{constructor(k,A){super(A),this.url=k,hs(this,A)}toString(){return gu(this._root)}}function hs(D,k){k.value._routerState=D,k.children.forEach(A=>hs(D,A))}function gu(D){const k=D.children.length>0?` { ${D.children.map(gu).join(", ")} } `:"";return`${D.value}${k}`}function mu(D){if(D.snapshot){const k=D.snapshot,A=D._futureSnapshot;D.snapshot=A,cr(k.queryParams,A.queryParams)||D.queryParamsSubject.next(A.queryParams),k.fragment!==A.fragment&&D.fragmentSubject.next(A.fragment),cr(k.params,A.params)||D.paramsSubject.next(A.params),function hr(D,k){if(D.length!==k.length)return!1;for(let A=0;A<D.length;++A)if(!cr(D[A],k[A]))return!1;return!0}(k.url,A.url)||D.urlSubject.next(A.url),cr(k.data,A.data)||D.dataSubject.next(A.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function dl(D,k){const A=cr(D.params,k.params)&&function Ri(D,k){return ir(D,k)&&D.every((A,F)=>cr(A.parameters,k[F].parameters))}(D.url,k.url);return A&&!(!D.parent!=!k.parent)&&(!D.parent||dl(D.parent,k.parent))}function hl(D){return"string"==typeof D.title||null===D.title}let ho=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=rn,this.activateEvents=new I.vpe,this.deactivateEvents=new I.vpe,this.attachEvents=new I.vpe,this.detachEvents=new I.vpe,this.parentContexts=(0,I.f3M)(Go),this.location=(0,I.f3M)(I.s_b),this.changeDetector=(0,I.f3M)(I.sBO),this.environmentInjector=(0,I.f3M)(I.lqb),this.inputBinder=(0,I.f3M)(ws,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:F,previousValue:W}=A.name;if(F)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I.vHH(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,F){this.activated=A,this._activatedRoute=F,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,F){if(this.isActivated)throw new I.vHH(4013,!1);this._activatedRoute=A;const W=this.location,Ee=A.snapshot.component,ot=this.parentContexts.getOrCreateContext(this.name).children,nt=new Ka(A,ot,W.injector);this.activated=W.createComponent(Ee,{index:W.length,injector:nt,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275dir=I.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[I.TTD]})}return D})();class Ka{constructor(k,A,F){this.route=k,this.childContexts=A,this.parent=F}get(k,A){return k===Oi?this.route:k===Go?this.childContexts:this.parent.get(k,A)}}const ws=new I.OlP("");let Ms=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:F}=A,W=(0,me.a)([F.queryParams,F.params,F.data]).pipe((0,St.w)(([se,Ee,ot],nt)=>(ot={...se,...Ee,...ot},0===nt?(0,fe.of)(ot):Promise.resolve(ot)))).subscribe(se=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(A);const Ee=(0,I.qFp)(F.component);if(Ee)for(const{templateName:ot}of Ee.inputs)A.activatedComponentRef.setInput(ot,se[ot]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,W)}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac})}return D})();function Os(D,k,A){if(A&&D.shouldReuseRoute(k.value,A.value.snapshot)){const F=A.value;F._futureSnapshot=k.value;const W=function Fo(D,k,A){return k.children.map(F=>{for(const W of A.children)if(D.shouldReuseRoute(F.value,W.value.snapshot))return Os(D,F,W);return Os(D,F)})}(D,k,A);return new Qs(F,W)}{if(D.shouldAttach(k.value)){const se=D.retrieve(k.value);if(null!==se){const Ee=se.route;return Ee.value._futureSnapshot=k.value,Ee.children=k.children.map(ot=>Os(D,ot)),Ee}}const F=function Za(D){return new Oi(new be.X(D.url),new be.X(D.params),new be.X(D.queryParams),new be.X(D.fragment),new be.X(D.data),D.outlet,D.component,D)}(k.value),W=k.children.map(se=>Os(D,se));return new Qs(F,W)}}const Qa="ngNavigationCancelingError";function Ya(D,k){const{redirectTo:A,navigationBehaviorOptions:F}=Qn(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,W=Vu(!1,0,k);return W.url=A,W.navigationBehaviorOptions=F,W}function Vu(D,k,A){const F=new Error("NavigationCancelingError: "+(D||""));return F[Qa]=!0,F.cancellationCode=k,A&&(F.url=A),F}function _u(D){return D&&D[Qa]}let Da=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275cmp=I.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[I.jDz],decls:1,vars:0,template:function(F,W){1&F&&I._UZ(0,"router-outlet")},dependencies:[ho],encapsulation:2})}return D})();function Is(D){const k=D.children&&D.children.map(Is),A=k?{...D,children:k}:{...D};return!A.component&&!A.loadComponent&&(k||A.loadChildren)&&A.outlet&&A.outlet!==rn&&(A.component=Da),A}function ji(D){return D.outlet||rn}function Ja(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let k=D.parent;k;k=k.parent){const A=k.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class Fl{constructor(k,A,F,W,se){this.routeReuseStrategy=k,this.futureState=A,this.currState=F,this.forwardEvent=W,this.inputBindingEnabled=se}activate(k){const A=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,F,k),mu(this.futureState.root),this.activateChildRoutes(A,F,k)}deactivateChildRoutes(k,A,F){const W=ys(A);k.children.forEach(se=>{const Ee=se.value.outlet;this.deactivateRoutes(se,W[Ee],F),delete W[Ee]}),Object.values(W).forEach(se=>{this.deactivateRouteAndItsChildren(se,F)})}deactivateRoutes(k,A,F){const W=k.value,se=A?A.value:null;if(W===se)if(W.component){const Ee=F.getContext(W.outlet);Ee&&this.deactivateChildRoutes(k,A,Ee.children)}else this.deactivateChildRoutes(k,A,F);else se&&this.deactivateRouteAndItsChildren(A,F)}deactivateRouteAndItsChildren(k,A){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,A):this.deactivateRouteAndOutlet(k,A)}detachAndStoreRouteSubtree(k,A){const F=A.getContext(k.value.outlet),W=F&&k.value.component?F.children:A,se=ys(k);for(const Ee of Object.keys(se))this.deactivateRouteAndItsChildren(se[Ee],W);if(F&&F.outlet){const Ee=F.outlet.detach(),ot=F.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:Ee,route:k,contexts:ot})}}deactivateRouteAndOutlet(k,A){const F=A.getContext(k.value.outlet),W=F&&k.value.component?F.children:A,se=ys(k);for(const Ee of Object.keys(se))this.deactivateRouteAndItsChildren(se[Ee],W);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(k,A,F){const W=ys(A);k.children.forEach(se=>{this.activateRoutes(se,W[se.value.outlet],F),this.forwardEvent(new Ei(se.value.snapshot))}),k.children.length&&this.forwardEvent(new ko(k.value.snapshot))}activateRoutes(k,A,F){const W=k.value,se=A?A.value:null;if(mu(W),W===se)if(W.component){const Ee=F.getOrCreateContext(W.outlet);this.activateChildRoutes(k,A,Ee.children)}else this.activateChildRoutes(k,A,F);else if(W.component){const Ee=F.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const ot=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Ee.children.onOutletReAttached(ot.contexts),Ee.attachRef=ot.componentRef,Ee.route=ot.route.value,Ee.outlet&&Ee.outlet.attach(ot.componentRef,ot.route.value),mu(ot.route.value),this.activateChildRoutes(k,null,Ee.children)}else{const ot=Ja(W.snapshot);Ee.attachRef=null,Ee.route=W,Ee.injector=ot,Ee.outlet&&Ee.outlet.activateWith(W,Ee.injector),this.activateChildRoutes(k,null,Ee.children)}}else this.activateChildRoutes(k,null,F)}}class di{constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class Hu{constructor(k,A){this.component=k,this.route=A}}function Vl(D,k,A){const F=D._root;return ai(F,k?k._root:null,A,[F.value])}function dr(D,k){const A=Symbol(),F=k.get(D,A);return F===A?"function"!=typeof D||(0,I.Z0I)(D)?k.get(D):D:F}function ai(D,k,A,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const se=ys(k);return D.children.forEach(Ee=>{(function ss(D,k,A,F,W={canDeactivateChecks:[],canActivateChecks:[]}){const se=D.value,Ee=k?k.value:null,ot=A?A.getContext(D.value.outlet):null;if(Ee&&se.routeConfig===Ee.routeConfig){const nt=function Wo(D,k,A){if("function"==typeof A)return A(D,k);switch(A){case"pathParamsChange":return!ir(D.url,k.url);case"pathParamsOrQueryParamsChange":return!ir(D.url,k.url)||!cr(D.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dl(D,k)||!cr(D.queryParams,k.queryParams);default:return!dl(D,k)}}(Ee,se,se.routeConfig.runGuardsAndResolvers);nt?W.canActivateChecks.push(new di(F)):(se.data=Ee.data,se._resolvedData=Ee._resolvedData),ai(D,k,se.component?ot?ot.children:null:A,F,W),nt&&ot&&ot.outlet&&ot.outlet.isActivated&&W.canDeactivateChecks.push(new Hu(ot.outlet.component,Ee))}else Ee&&Hi(k,ot,W),W.canActivateChecks.push(new di(F)),ai(D,null,se.component?ot?ot.children:null:A,F,W)})(Ee,se[Ee.value.outlet],A,F.concat([Ee.value]),W),delete se[Ee.value.outlet]}),Object.entries(se).forEach(([Ee,ot])=>Hi(ot,A.getContext(Ee),W)),W}function Hi(D,k,A){const F=ys(D),W=D.value;Object.entries(F).forEach(([se,Ee])=>{Hi(Ee,W.component?k?k.children.getContext(se):null:k,A)}),A.canDeactivateChecks.push(new Hu(W.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,W))}function Ko(D){return"function"==typeof D}function Js(D){return D instanceof Ve.K||"EmptyError"===D?.name}const Ts=Symbol("INITIAL_VALUE");function os(){return(0,St.w)(D=>(0,me.a)(D.map(k=>k.pipe((0,vt.q)(1),(0,ye.O)(Ts)))).pipe((0,ut.U)(k=>{for(const A of k)if(!0!==A){if(A===Ts)return Ts;if(!1===A||A instanceof Jt)return A}return!0}),(0,ht.h)(k=>k!==Ts),(0,vt.q)(1)))}function Sa(D){return(0,Ze.z)((0,Vn.b)(k=>{if(Qn(k))throw Ya(0,k)}),(0,ut.U)(k=>!0===k))}class Ki{constructor(k){this.segmentGroup=k||null}}class go extends Error{constructor(k){super(),this.urlTree=k}}function da(D){return(0,Je._)(new Ki(D))}class zn{constructor(k,A){this.urlSerializer=k,this.urlTree=A}noMatchError(k){return new I.vHH(4002,!1)}lineralizeSegments(k,A){let F=[],W=A.root;for(;;){if(F=F.concat(W.segments),0===W.numberOfChildren)return(0,fe.of)(F);if(W.numberOfChildren>1||!W.children[rn])return(0,Je._)(new I.vHH(4e3,!1));W=W.children[rn]}}applyRedirectCommands(k,A,F){const W=this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),k,F);if(A.startsWith("/"))throw new go(W);return W}applyRedirectCreateUrlTree(k,A,F,W){const se=this.createSegmentGroup(k,A.root,F,W);return new Jt(se,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(k,A){const F={};return Object.entries(k).forEach(([W,se])=>{if("string"==typeof se&&se.startsWith(":")){const ot=se.substring(1);F[W]=A[ot]}else F[W]=se}),F}createSegmentGroup(k,A,F,W){const se=this.createSegments(k,A.segments,F,W);let Ee={};return Object.entries(A.children).forEach(([ot,nt])=>{Ee[ot]=this.createSegmentGroup(k,nt,F,W)}),new On(se,Ee)}createSegments(k,A,F,W){return A.map(se=>se.path.startsWith(":")?this.findPosParam(k,se,W):this.findOrReturn(se,F))}findPosParam(k,A,F){const W=F[A.path.substring(1)];if(!W)throw new I.vHH(4001,!1);return W}findOrReturn(k,A){let F=0;for(const W of A){if(W.path===k.path)return A.splice(F),W;F++}return k}}const Ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nu(D,k,A,F,W){const se=Hs(D,k,A);return se.matched?(F=function Uu(D,k){return D.providers&&!D._injector&&(D._injector=(0,I.MMx)(D.providers,k,`Route: ${D.path}`)),D._injector??k}(k,F),function po(D,k,A,F){const W=k.canMatch;if(!W||0===W.length)return(0,fe.of)(!0);const se=W.map(Ee=>{const ot=dr(Ee,D);return si(function qt(D){return D&&Ko(D.canMatch)}(ot)?ot.canMatch(k,A):D.runInContext(()=>ot(k,A)))});return(0,fe.of)(se).pipe(os(),Sa())}(F,k,A).pipe((0,ut.U)(Ee=>!0===Ee?se:{...Ra}))):(0,fe.of)(se)}function Hs(D,k,A){if(""===k.path)return"full"===k.pathMatch&&(D.hasChildren()||A.length>0)?{...Ra}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const W=(k.matcher||mr)(A,D,k);if(!W)return{...Ra};const se={};Object.entries(W.posParams??{}).forEach(([ot,nt])=>{se[ot]=nt.path});const Ee=W.consumed.length>0?{...se,...W.consumed[W.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:W.consumed,remainingSegments:A.slice(W.consumed.length),parameters:Ee,positionalParamSegments:W.posParams??{}}}function ns(D,k,A,F){return A.length>0&&function Kr(D,k,A){return A.some(F=>Yi(D,k,F)&&ji(F)!==rn)}(D,A,F)?{segmentGroup:new On(k,ki(F,new On(A,D.children))),slicedSegments:[]}:0===A.length&&function fs(D,k,A){return A.some(F=>Yi(D,k,F))}(D,A,F)?{segmentGroup:new On(D.segments,Xs(D,0,A,F,D.children)),slicedSegments:A}:{segmentGroup:new On(D.segments,D.children),slicedSegments:A}}function Xs(D,k,A,F,W){const se={};for(const Ee of F)if(Yi(D,A,Ee)&&!W[ji(Ee)]){const ot=new On([],{});se[ji(Ee)]=ot}return{...W,...se}}function ki(D,k){const A={};A[rn]=k;for(const F of D)if(""===F.path&&ji(F)!==rn){const W=new On([],{});A[ji(F)]=W}return A}function Yi(D,k,A){return(!(D.hasChildren()||k.length>0)||"full"!==A.pathMatch)&&""===A.path}class fa{}class hd{constructor(k,A,F,W,se,Ee,ot){this.injector=k,this.configLoader=A,this.rootComponentType=F,this.config=W,this.urlTree=se,this.paramsInheritanceStrategy=Ee,this.urlSerializer=ot,this.applyRedirects=new zn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(k){return new I.vHH(4002,!1)}recognize(){const k=ns(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(k).pipe((0,ut.U)(A=>{const F=new Pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,{}),W=new Qs(F,A),se=new Wa("",W),Ee=function yt(D,k,A=null,F=null){return ge(ie(D),k,A,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(se._root,null),{state:se,tree:Ee}}))}match(k){return this.processSegmentGroup(this.injector,this.config,k,rn).pipe((0,bn.K)(F=>{if(F instanceof go)return this.urlTree=F.urlTree,this.match(F.urlTree.root);throw F instanceof Ki?this.noMatchError(F):F}))}inheritParamsAndData(k,A){const F=k.value,W=Qr(F,A,this.paramsInheritanceStrategy);F.params=Object.freeze(W.params),F.data=Object.freeze(W.data),k.children.forEach(se=>this.inheritParamsAndData(se,F))}processSegmentGroup(k,A,F,W){return 0===F.segments.length&&F.hasChildren()?this.processChildren(k,A,F):this.processSegment(k,A,F,F.segments,W,!0).pipe((0,ut.U)(se=>se instanceof Qs?[se]:[]))}processChildren(k,A,F){const W=[];for(const se of Object.keys(F.children))"primary"===se?W.unshift(se):W.push(se);return(0,m.D)(W).pipe((0,In.b)(se=>{const Ee=F.children[se],ot=function ca(D,k){const A=D.filter(F=>ji(F)===k);return A.push(...D.filter(F=>ji(F)!==k)),A}(A,se);return this.processSegmentGroup(k,ot,Ee,se)}),(0,zr.R)((se,Ee)=>(se.push(...Ee),se)),(0,Jn.d)(null),function Ye(D,k){const A=arguments.length>=2;return F=>F.pipe(D?(0,ht.h)((W,se)=>D(W,se,F)):Ke.y,Nr(1),A?(0,Jn.d)(k):(0,qe.T)(()=>new Ve.K))}(),(0,Pt.z)(se=>{if(null===se)return da(F);const Ee=vs(se);return function pa(D){D.sort((k,A)=>k.value.outlet===rn?-1:A.value.outlet===rn?1:k.value.outlet.localeCompare(A.value.outlet))}(Ee),(0,fe.of)(Ee)}))}processSegment(k,A,F,W,se,Ee){return(0,m.D)(A).pipe((0,In.b)(ot=>this.processSegmentAgainstRoute(ot._injector??k,A,ot,F,W,se,Ee).pipe((0,bn.K)(nt=>{if(nt instanceof Ki)return(0,fe.of)(null);throw nt}))),(0,an.P)(ot=>!!ot),(0,bn.K)(ot=>{if(Js(ot))return function Pa(D,k,A){return 0===k.length&&!D.children[A]}(F,W,se)?(0,fe.of)(new fa):da(F);throw ot}))}processSegmentAgainstRoute(k,A,F,W,se,Ee,ot){return function $s(D,k,A,F){return!!(ji(D)===F||F!==rn&&Yi(k,A,D))&&("**"===D.path||Hs(k,D,A).matched)}(F,W,se,Ee)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(k,W,F,se,Ee):this.allowRedirects&&ot?this.expandSegmentAgainstRouteUsingRedirect(k,W,A,F,se,Ee):da(W):da(W)}expandSegmentAgainstRouteUsingRedirect(k,A,F,W,se,Ee){const{matched:ot,consumedSegments:nt,positionalParamSegments:en,remainingSegments:Lr}="**"===W.path?Ma(se):Hs(A,W,se);if(!ot)return da(A);W.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Fr=this.applyRedirects.applyRedirectCommands(nt,W.redirectTo,en);return this.applyRedirects.lineralizeSegments(W,Fr).pipe((0,Pt.z)(us=>this.processSegment(k,F,A,us.concat(Lr),Ee,!1)))}matchSegmentAgainstRoute(k,A,F,W,se){let Ee;return"**"===F.path?(Ee=(0,fe.of)(Ma(W)),A.children={}):Ee=nu(A,F,W,k),Ee.pipe((0,St.w)(ot=>ot.matched?this.getChildConfig(k=F._injector??k,F,W).pipe((0,St.w)(({routes:nt})=>{const en=F._loadedInjector??k,{consumedSegments:Lr,remainingSegments:Fr,parameters:us}=ot,so=new Pr(Lr,us,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Eu(D){return D.data||{}}(F),ji(F),F.component??F._loadedComponent??null,F,function ml(D){return D.resolve||{}}(F)),{segmentGroup:Tu,slicedSegments:Ii}=ns(A,Lr,Fr,nt);if(0===Ii.length&&Tu.hasChildren())return this.processChildren(en,nt,Tu).pipe((0,ut.U)(ii=>null===ii?null:new Qs(so,ii)));if(0===nt.length&&0===Ii.length)return(0,fe.of)(new Qs(so,[]));const _a=ji(F)===se;return this.processSegment(en,nt,Tu,Ii,_a?rn:se,!0).pipe((0,ut.U)(ii=>new Qs(so,ii instanceof Qs?[ii]:[])))})):da(A)))}getChildConfig(k,A,F){return A.children?(0,fe.of)({routes:A.children,injector:k}):A.loadChildren?void 0!==A._loadedRoutes?(0,fe.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function Ai(D,k,A,F){const W=k.canLoad;if(void 0===W||0===W.length)return(0,fe.of)(!0);const se=W.map(Ee=>{const ot=dr(Ee,D);return si(function $u(D){return D&&Ko(D.canLoad)}(ot)?ot.canLoad(k,A):D.runInContext(()=>ot(k,A)))});return(0,fe.of)(se).pipe(os(),Sa())}(k,A,F).pipe((0,Pt.z)(W=>W?this.configLoader.loadChildren(k,A).pipe((0,Vn.b)(se=>{A._loadedRoutes=se.routes,A._loadedInjector=se.injector})):function wo(D){return(0,Je._)(Vu(!1,3))}())):(0,fe.of)({routes:[],injector:k})}}function eo(D){const k=D.value.routeConfig;return k&&""===k.path}function vs(D){const k=[],A=new Set;for(const F of D){if(!eo(F)){k.push(F);continue}const W=k.find(se=>F.value.routeConfig===se.value.routeConfig);void 0!==W?(W.children.push(...F.children),A.add(W)):k.push(F)}for(const F of A){const W=vs(F.children);k.push(new Qs(F.value,W))}return k.filter(F=>!A.has(F))}function Ma(D){return{matched:!0,parameters:D.length>0?ci(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}function ru(D,k){return(0,Pt.z)(A=>{const{targetSnapshot:F,guards:{canActivateChecks:W}}=A;if(!W.length)return(0,fe.of)(A);const se=W.map(en=>en.route),Ee=new Set(se),ot=Uc(se[0].parent).slice(1);let nt=0;return(0,m.D)(ot).pipe((0,In.b)(en=>Ee.has(en)?function M(D,k,A,F){const W=D.routeConfig,se=D._resolve;return void 0!==W?.title&&!hl(W)&&(se[vn]=W.title),function ne(D,k,A,F){const W=Er(D);if(0===W.length)return(0,fe.of)({});const se={};return(0,m.D)(W).pipe((0,Pt.z)(Ee=>function j(D,k,A,F){const W=Ja(k)??F,se=dr(D,W);return si(se.resolve?se.resolve(k,A):W.runInContext(()=>se(k,A)))}(D[Ee],k,A,F).pipe((0,an.P)(),(0,Vn.b)(ot=>{se[Ee]=ot}))),Nr(1),function We(D){return(0,ut.U)(()=>D)}(se),(0,bn.K)(Ee=>Js(Ee)?lt.E:(0,Je._)(Ee)))}(se,D,k,F).pipe((0,ut.U)(Ee=>(D._resolvedData=Ee,D.data=Qr(D,D.parent,A).resolve,null)))}(en,F,D,k):(en.data=Qr(en,en.parent,D).resolve,(0,fe.of)(void 0))),(0,Vn.b)(()=>nt++),Nr(1),(0,Pt.z)(en=>nt===ot.length?(0,fe.of)(A):lt.E))})}function Uc(D){const k=D.children.map(A=>Uc(A)).flat();return[D,...k]}function Q(D){return(0,St.w)(k=>{const A=D(k);return A?(0,m.D)(A).pipe((0,ut.U)(()=>k)):(0,fe.of)(k)})}let ve=(()=>{class D{buildTitle(A){let F,W=A.root;for(;void 0!==W;)F=this.getResolvedTitleForRoute(W)??F,W=W.children.find(se=>se.outlet===rn);return F}getResolvedTitleForRoute(A){return A.data[vn]}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:()=>(0,I.f3M)(ft),providedIn:"root"})}return D})(),ft=(()=>{class D extends ve{constructor(A){super(),this.title=A}updateTitle(A){const F=this.buildTitle(A);void 0!==F&&this.title.setTitle(F)}static#e=this.\u0275fac=function(F){return new(F||D)(I.LFG(Tn.Dx))};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Rt=new I.OlP("",{providedIn:"root",factory:()=>({})}),Rn=new I.OlP("ROUTES");let ni=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,I.f3M)(I.Sil)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,fe.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const F=si(A.loadComponent()).pipe((0,ut.U)(Yn),(0,Vn.b)(se=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=se}),(0,Et.x)(()=>{this.componentLoaders.delete(A)})),W=new bt(F,()=>new tt.x).pipe(Oe());return this.componentLoaders.set(A,W),W}loadChildren(A,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,fe.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const se=function fi(D,k,A,F){return si(D.loadChildren()).pipe((0,ut.U)(Yn),(0,Pt.z)(W=>W instanceof I.YKP||Array.isArray(W)?(0,fe.of)(W):(0,m.D)(k.compileModuleAsync(W))),(0,ut.U)(W=>{F&&F(D);let se,Ee,ot=!1;return Array.isArray(W)?(Ee=W,!0):(se=W.create(A).injector,Ee=se.get(Rn,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(Is),injector:se}}))}(F,this.compiler,A,this.onLoadEndListener).pipe((0,Et.x)(()=>{this.childrenLoaders.delete(F)})),Ee=new bt(se,()=>new tt.x).pipe(Oe());return this.childrenLoaders.set(F,Ee),Ee}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function Yn(D){return function pi(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let ei=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:()=>(0,I.f3M)(gr),providedIn:"root"})}return D})(),gr=(()=>{class D{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,F){return A}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Ji=new I.OlP(""),Io=new I.OlP("");function Ot(D,k,A){const F=D.get(Io),W=D.get(Xe.K0);return D.get(I.R0b).runOutsideAngular(()=>{if(!W.startViewTransition||F.skipNextTransition)return F.skipNextTransition=!1,Promise.resolve();let se;const Ee=new Promise(en=>{se=en}),ot=W.startViewTransition(()=>(se(),function wi(D){return new Promise(k=>{(0,I.T8G)(k,{injector:D})})}(D))),{onViewTransitionCreated:nt}=F;return nt&&(0,I.r_H)(D,()=>nt({transition:ot,from:k,to:A})),Ee})}let Li=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt.x,this.transitionAbortSubject=new tt.x,this.configLoader=(0,I.f3M)(ni),this.environmentInjector=(0,I.f3M)(I.lqb),this.urlSerializer=(0,I.f3M)(Un),this.rootContexts=(0,I.f3M)(Go),this.location=(0,I.f3M)(Xe.Ye),this.inputBindingEnabled=null!==(0,I.f3M)(ws,{optional:!0}),this.titleStrategy=(0,I.f3M)(ve),this.options=(0,I.f3M)(Rt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,I.f3M)(ei),this.createViewTransition=(0,I.f3M)(Ji,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new Rr(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new lr(W))}complete(){this.transitions?.complete()}handleNavigationRequest(A){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...A,id:F})}setupNavigations(A,F,W){return this.transitions=new be.X({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lt,restoredState:null,currentSnapshot:W.snapshot,targetSnapshot:null,currentRouterState:W,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ht.h)(se=>0!==se.id),(0,ut.U)(se=>({...se,extractedUrl:this.urlHandlingStrategy.extract(se.rawUrl)})),(0,St.w)(se=>{this.currentTransition=se;let Ee=!1,ot=!1;return(0,fe.of)(se).pipe((0,Vn.b)(nt=>{this.currentNavigation={id:nt.id,initialUrl:nt.rawUrl,extractedUrl:nt.extractedUrl,trigger:nt.source,extras:nt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,St.w)(nt=>{const en=!A.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!en&&"reload"!==(nt.extras.onSameUrlNavigation??A.onSameUrlNavigation)){const Fr="";return this.events.next(new Pe(nt.id,this.urlSerializer.serialize(nt.rawUrl),Fr,0)),nt.resolve(null),lt.E}if(this.urlHandlingStrategy.shouldProcessUrl(nt.rawUrl))return(0,fe.of)(nt).pipe((0,St.w)(Fr=>{const us=this.transitions?.getValue();return this.events.next(new br(Fr.id,this.urlSerializer.serialize(Fr.extractedUrl),Fr.source,Fr.restoredState)),us!==this.transitions?.getValue()?lt.E:Promise.resolve(Fr)}),function ac(D,k,A,F,W,se){return(0,Pt.z)(Ee=>function bs(D,k,A,F,W,se,Ee="emptyOnly"){return new hd(D,k,A,F,W,Ee,se).recognize()}(D,k,A,F,Ee.extractedUrl,W,se).pipe((0,ut.U)(({state:ot,tree:nt})=>({...Ee,targetSnapshot:ot,urlAfterRedirects:nt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Vn.b)(Fr=>{se.targetSnapshot=Fr.targetSnapshot,se.urlAfterRedirects=Fr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Fr.urlAfterRedirects};const us=new Ge(Fr.id,this.urlSerializer.serialize(Fr.extractedUrl),this.urlSerializer.serialize(Fr.urlAfterRedirects),Fr.targetSnapshot);this.events.next(us)}));if(en&&this.urlHandlingStrategy.shouldProcessUrl(nt.currentRawUrl)){const{id:Fr,extractedUrl:us,source:so,restoredState:Tu,extras:Ii}=nt,_a=new br(Fr,this.urlSerializer.serialize(us),so,Tu);this.events.next(_a);const ii=qo(0,this.rootComponentType).snapshot;return this.currentTransition=se={...nt,targetSnapshot:ii,urlAfterRedirects:us,extras:{...Ii,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=us,(0,fe.of)(se)}{const Fr="";return this.events.next(new Pe(nt.id,this.urlSerializer.serialize(nt.extractedUrl),Fr,1)),nt.resolve(null),lt.E}}),(0,Vn.b)(nt=>{const en=new xt(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(en)}),(0,ut.U)(nt=>(this.currentTransition=se={...nt,guards:Vl(nt.targetSnapshot,nt.currentSnapshot,this.rootContexts)},se)),function js(D,k){return(0,Pt.z)(A=>{const{targetSnapshot:F,currentSnapshot:W,guards:{canActivateChecks:se,canDeactivateChecks:Ee}}=A;return 0===Ee.length&&0===se.length?(0,fe.of)({...A,guardsResult:!0}):function hi(D,k,A,F){return(0,m.D)(D).pipe((0,Pt.z)(W=>function tu(D,k,A,F,W){const se=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,fe.of)(!0);const Ee=se.map(ot=>{const nt=Ja(k)??W,en=dr(ot,nt);return si(function Ni(D){return D&&Ko(D.canDeactivate)}(en)?en.canDeactivate(D,k,A,F):nt.runInContext(()=>en(D,k,A,F))).pipe((0,an.P)())});return(0,fe.of)(Ee).pipe(os())}(W.component,W.route,A,k,F)),(0,an.P)(W=>!0!==W,!0))}(Ee,F,W,D).pipe((0,Pt.z)(ot=>ot&&function Vo(D){return"boolean"==typeof D}(ot)?function ts(D,k,A,F){return(0,m.D)(k).pipe((0,In.b)(W=>(0,le.z)(function pr(D,k){return null!==D&&k&&k(new Eo(D)),(0,fe.of)(!0)}(W.route.parent,F),function Zo(D,k){return null!==D&&k&&k(new Di(D)),(0,fe.of)(!0)}(W.route,F),function pl(D,k,A){const F=k[k.length-1],se=k.slice(0,k.length-1).reverse().map(Ee=>function Ys(D){const k=D.routeConfig?D.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:D,guards:k}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>Be(()=>{const ot=Ee.guards.map(nt=>{const en=Ja(Ee.node)??A,Lr=dr(nt,en);return si(function fl(D){return D&&Ko(D.canActivateChild)}(Lr)?Lr.canActivateChild(F,D):en.runInContext(()=>Lr(F,D))).pipe((0,an.P)())});return(0,fe.of)(ot).pipe(os())}));return(0,fe.of)(se).pipe(os())}(D,W.path,A),function eu(D,k,A){const F=k.routeConfig?k.routeConfig.canActivate:null;if(!F||0===F.length)return(0,fe.of)(!0);const W=F.map(se=>Be(()=>{const Ee=Ja(k)??A,ot=dr(se,Ee);return si(function Vc(D){return D&&Ko(D.canActivate)}(ot)?ot.canActivate(k,D):Ee.runInContext(()=>ot(k,D))).pipe((0,an.P)())}));return(0,fe.of)(W).pipe(os())}(D,W.route,A))),(0,an.P)(W=>!0!==W,!0))}(F,se,D,k):(0,fe.of)(ot)),(0,ut.U)(ot=>({...A,guardsResult:ot})))})}(this.environmentInjector,nt=>this.events.next(nt)),(0,Vn.b)(nt=>{if(se.guardsResult=nt.guardsResult,Qn(nt.guardsResult))throw Ya(0,nt.guardsResult);const en=new ct(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot,!!nt.guardsResult);this.events.next(en)}),(0,ht.h)(nt=>!!nt.guardsResult||(this.cancelNavigationTransition(nt,"",3),!1)),Q(nt=>{if(nt.guards.canActivateChecks.length)return(0,fe.of)(nt).pipe((0,Vn.b)(en=>{const Lr=new Bn(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects),en.targetSnapshot);this.events.next(Lr)}),(0,St.w)(en=>{let Lr=!1;return(0,fe.of)(en).pipe(ru(this.paramsInheritanceStrategy,this.environmentInjector),(0,Vn.b)({next:()=>Lr=!0,complete:()=>{Lr||this.cancelNavigationTransition(en,"",2)}}))}),(0,Vn.b)(en=>{const Lr=new xr(en.id,this.urlSerializer.serialize(en.extractedUrl),this.urlSerializer.serialize(en.urlAfterRedirects),en.targetSnapshot);this.events.next(Lr)}))}),Q(nt=>{const en=Lr=>{const Fr=[];Lr.routeConfig?.loadComponent&&!Lr.routeConfig._loadedComponent&&Fr.push(this.configLoader.loadComponent(Lr.routeConfig).pipe((0,Vn.b)(us=>{Lr.component=us}),(0,ut.U)(()=>{})));for(const us of Lr.children)Fr.push(...en(us));return Fr};return(0,me.a)(en(nt.targetSnapshot.root)).pipe((0,Jn.d)(),(0,vt.q)(1))}),Q(()=>this.afterPreactivation()),(0,St.w)(()=>{const{currentSnapshot:nt,targetSnapshot:en}=se,Lr=this.createViewTransition?.(this.environmentInjector,nt.root,en.root);return Lr?(0,m.D)(Lr).pipe((0,ut.U)(()=>se)):(0,fe.of)(se)}),(0,ut.U)(nt=>{const en=function $r(D,k,A){const F=Os(D,k._root,A?A._root:void 0);return new Ps(F,k)}(A.routeReuseStrategy,nt.targetSnapshot,nt.currentRouterState);return this.currentTransition=se={...nt,targetRouterState:en},this.currentNavigation.targetRouterState=en,se}),(0,Vn.b)(()=>{this.events.next(new qa)}),((D,k,A,F)=>(0,ut.U)(W=>(new Fl(k,W.targetRouterState,W.currentRouterState,A,F).activate(D),W)))(this.rootContexts,A.routeReuseStrategy,nt=>this.events.next(nt),this.inputBindingEnabled),(0,vt.q)(1),(0,Vn.b)({next:nt=>{Ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects))),this.titleStrategy?.updateTitle(nt.targetRouterState.snapshot),nt.resolve(!0)},complete:()=>{Ee=!0}}),(0,Mt.R)(this.transitionAbortSubject.pipe((0,Vn.b)(nt=>{throw nt}))),(0,Et.x)(()=>{Ee||ot||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),(0,bn.K)(nt=>{if(ot=!0,_u(nt))this.events.next(new Mi(se.id,this.urlSerializer.serialize(se.extractedUrl),nt.message,nt.cancellationCode)),function la(D){return _u(D)&&Qn(D.url)}(nt)?this.events.next(new cl(nt.url)):se.resolve(!1);else{this.events.next(new we(se.id,this.urlSerializer.serialize(se.extractedUrl),nt,se.targetSnapshot??void 0));try{se.resolve(A.errorHandler(nt))}catch(en){se.reject(en)}}return lt.E}))}))}cancelNavigationTransition(A,F,W){const se=new Mi(A.id,this.urlSerializer.serialize(A.extractedUrl),F,W);this.events.next(se),A.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function To(D){return D!==Lt}let gn=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:()=>(0,I.f3M)(_l),providedIn:"root"})}return D})();class xn{shouldDetach(k){return!1}store(k,A){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,A){return k.routeConfig===A.routeConfig}}let _l=(()=>{class D extends xn{static#e=this.\u0275fac=(()=>{let A;return function(W){return(A||(A=I.n5z(D)))(W||D)}})();static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),un=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:()=>(0,I.f3M)(st),providedIn:"root"})}return D})(),st=(()=>{class D extends un{constructor(){super(...arguments),this.location=(0,I.f3M)(Xe.Ye),this.urlSerializer=(0,I.f3M)(Un),this.options=(0,I.f3M)(Rt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,I.f3M)(ei),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qo(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(A){return this.location.subscribe(F=>{"popstate"===F.type&&A(F.url,F.state)})}handleRouterEvent(A,F){if(A instanceof br)this.stateMemento=this.createStateMemento();else if(A instanceof Pe)this.rawUrlTree=F.initialUrl;else if(A instanceof Ge){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(W,F)}}else A instanceof qa?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F))):A instanceof Mi&&(3===A.code||2===A.code)?this.restoreHistory(F):A instanceof we?this.restoreHistory(F,!0):A instanceof oi&&(this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId)}setBrowserUrl(A,F){const W=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(W)||F.extras.replaceUrl){const Ee={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(W,"",Ee)}else{const se={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(W,"",se)}}restoreHistory(A,F=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===A.finalUrl&&0===se&&(this.resetState(A),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,F){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:F}:{navigationId:A}}static#e=this.\u0275fac=(()=>{let A;return function(W){return(A||(A=I.n5z(D)))(W||D)}})();static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var Nt=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(Nt||{});function Zi(D,k){D.events.pipe((0,ht.h)(A=>A instanceof oi||A instanceof Mi||A instanceof we||A instanceof Pe),(0,ut.U)(A=>A instanceof oi||A instanceof Pe?Nt.COMPLETE:A instanceof Mi&&(0===A.code||1===A.code)?Nt.REDIRECTING:Nt.FAILED),(0,ht.h)(A=>A!==Nt.REDIRECTING),(0,vt.q)(1)).subscribe(()=>{k()})}function Fi(D){throw D}const fd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,I.f3M)(I.c2e),this.stateManager=(0,I.f3M)(un),this.options=(0,I.f3M)(Rt,{optional:!0})||{},this.pendingTasks=(0,I.f3M)(I.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,I.f3M)(Li),this.urlSerializer=(0,I.f3M)(Un),this.location=(0,I.f3M)(Xe.Ye),this.urlHandlingStrategy=(0,I.f3M)(ei),this._events=new tt.x,this.errorHandler=this.options.errorHandler||Fi,this.navigated=!1,this.routeReuseStrategy=(0,I.f3M)(gn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,I.f3M)(Rn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,I.f3M)(ws,{optional:!0}),this.eventsSubscription=new at.w0,this.isNgZoneEnabled=(0,I.f3M)(I.R0b)instanceof I.R0b&&I.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:A=>{this.console.warn(A)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(F=>{try{const W=this.navigationTransitions.currentTransition,se=this.navigationTransitions.currentNavigation;if(null!==W&&null!==se)if(this.stateManager.handleRouterEvent(F,se),F instanceof Mi&&0!==F.code&&1!==F.code)this.navigated=!0;else if(F instanceof oi)this.navigated=!0;else if(F instanceof cl){const Ee=this.urlHandlingStrategy.merge(F.url,W.currentRawUrl),ot={skipLocationChange:W.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||To(W.source)};this.scheduleNavigation(Ee,Lt,null,ot,{resolve:W.resolve,reject:W.reject,promise:W.promise})}(function su(D){return!(D instanceof qa||D instanceof cl)})(F)&&this._events.next(F)}catch(W){this.navigationTransitions.transitionAbortSubject.next(W)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((A,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(A,"popstate",F)},0)}))}navigateToSyncWithBrowser(A,F,W){const se={replaceUrl:!0},Ee=W?.navigationId?W:null;if(W){const nt={...W};delete nt.navigationId,delete nt.\u0275routerPageId,0!==Object.keys(nt).length&&(se.state=nt)}const ot=this.parseUrl(A);this.scheduleNavigation(ot,F,Ee,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(Is),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,F={}){const{relativeTo:W,queryParams:se,fragment:Ee,queryParamsHandling:ot,preserveFragment:nt}=F,en=nt?this.currentUrlTree.fragment:Ee;let Fr,Lr=null;switch(ot){case"merge":Lr={...this.currentUrlTree.queryParams,...se};break;case"preserve":Lr=this.currentUrlTree.queryParams;break;default:Lr=se||null}null!==Lr&&(Lr=this.removeEmptyProps(Lr));try{Fr=ie(W?W.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),Fr=this.currentUrlTree.root}return ge(Fr,A,Lr,en??null)}navigateByUrl(A,F={skipLocationChange:!1}){const W=Qn(A)?A:this.parseUrl(A),se=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(se,Lt,null,F)}navigate(A,F={skipLocationChange:!1}){return function Wh(D){for(let k=0;k<D.length;k++)if(null==D[k])throw new I.vHH(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,F),F)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){try{return this.urlSerializer.parse(A)}catch{return this.urlSerializer.parse("/")}}isActive(A,F){let W;if(W=!0===F?{...fd}:!1===F?{...iu}:F,Qn(A))return Wn(this.currentUrlTree,A,W);const se=this.parseUrl(A);return Wn(this.currentUrlTree,se,W)}removeEmptyProps(A){return Object.keys(A).reduce((F,W)=>{const se=A[W];return null!=se&&(F[W]=se),F},{})}scheduleNavigation(A,F,W,se,Ee){if(this.disposed)return Promise.resolve(!1);let ot,nt,en;Ee?(ot=Ee.resolve,nt=Ee.reject,en=Ee.promise):en=new Promise((Fr,us)=>{ot=Fr,nt=us});const Lr=this.pendingTasks.add();return Zi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Lr))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:A,extras:se,resolve:ot,reject:nt,promise:en,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),en.catch(Fr=>Promise.reject(Fr))}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),bo=(()=>{class D{constructor(A,F,W,se,Ee,ot){this.router=A,this.route=F,this.tabIndexAttribute=W,this.renderer=se,this.el=Ee,this.locationStrategy=ot,this.href=null,this.commands=null,this.onChanges=new tt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const nt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===nt||"area"===nt,this.isAnchorElement?this.subscription=A.events.subscribe(en=>{en instanceof oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,F,W,se,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==A||F||W||se||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const A=null===this.href?null:(0,I.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(A,F){const W=this.renderer,se=this.el.nativeElement;null!==F?W.setAttribute(se,A,F):W.removeAttribute(se,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(F){return new(F||D)(I.Y36($i),I.Y36(Oi),I.$8M("tabindex"),I.Y36(I.Qsj),I.Y36(I.SBq),I.Y36(Xe.S$))};static#t=this.\u0275dir=I.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,W){1&F&&I.NdJ("click",function(Ee){return W.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&F&&I.uIk("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",I.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",I.VuI],replaceUrl:["replaceUrl","replaceUrl",I.VuI],routerLink:"routerLink"},standalone:!0,features:[I.Xq5,I.TTD]})}return D})();class lc{}let zu=(()=>{class D{constructor(A,F,W,se,Ee){this.router=A,this.injector=W,this.preloadingStrategy=se,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.h)(A=>A instanceof oi),(0,In.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,F){const W=[];for(const se of F){se.providers&&!se._injector&&(se._injector=(0,I.MMx)(se.providers,A,`Route: ${se.path}`));const Ee=se._injector??A,ot=se._loadedInjector??Ee;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&W.push(this.preloadConfig(Ee,se)),(se.children||se._loadedRoutes)&&W.push(this.processRoutes(ot,se.children??se._loadedRoutes))}return(0,m.D)(W).pipe((0,Yt.J)())}preloadConfig(A,F){return this.preloadingStrategy.preload(F,()=>{let W;W=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(A,F):(0,fe.of)(null);const se=W.pipe((0,Pt.z)(Ee=>null===Ee?(0,fe.of)(void 0):(F._loadedRoutes=Ee.routes,F._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??A,Ee.routes))));if(F.loadComponent&&!F._loadedComponent){const Ee=this.loader.loadComponent(F);return(0,m.D)([se,Ee]).pipe((0,Yt.J)())}return se})}static#e=this.\u0275fac=function(F){return new(F||D)(I.LFG($i),I.LFG(I.Sil),I.LFG(I.lqb),I.LFG(lc),I.LFG(ni))};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const pd=new I.OlP("");let zi=(()=>{class D{constructor(A,F,W,se,Ee={}){this.urlSerializer=A,this.transitions=F,this.viewportScroller=W,this.zone=se,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof oi?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Pe&&0===A.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof ll&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ll(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(F){I.$Z()};static#t=this.\u0275prov=I.Yz7({token:D,factory:D.\u0275fac})}return D})();function An(D,k){return{\u0275kind:D,\u0275providers:k}}function Gu(){const D=(0,I.f3M)(I.zs3);return k=>{const A=D.get(I.z2F);if(k!==A.components[0])return;const F=D.get($i),W=D.get(to);1===D.get(vl)&&F.initialNavigation(),D.get(wl,null,I.XFs.Optional)?.setUpPreloading(),D.get(pd,null,I.XFs.Optional)?.init(),F.resetRootComponentType(A.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const to=new I.OlP("",{factory:()=>new tt.x}),vl=new I.OlP("",{providedIn:"root",factory:()=>1}),wl=new I.OlP("");function cc(D){return An(0,[{provide:wl,useExisting:zu},{provide:lc,useExisting:D}])}function Na(D){return An(9,[{provide:Ji,useValue:Ot},{provide:Io,useValue:{skipNextTransition:!!D?.skipInitialTransition,...D}}])}const He=new I.OlP("ROUTER_FORROOT_GUARD"),wu=[Xe.Ye,{provide:Un,useClass:Ir},$i,Go,{provide:Oi,useFactory:function ga(D){return D.routerState.root},deps:[$i]},ni,[]];let no=(()=>{class D{constructor(A){}static forRoot(A,F){return{ngModule:D,providers:[wu,[],{provide:Rn,multi:!0,useValue:A},{provide:He,useFactory:md,deps:[[$i,new I.FiY,new I.tp0]]},{provide:Rt,useValue:F||{}},F?.useHash?{provide:Xe.S$,useClass:Xe.Do}:{provide:Xe.S$,useClass:Xe.b0},{provide:pd,useFactory:()=>{const D=(0,I.f3M)(Xe.EM),k=(0,I.f3M)(I.R0b),A=(0,I.f3M)(Rt),F=(0,I.f3M)(Li),W=(0,I.f3M)(Un);return A.scrollOffset&&D.setOffset(A.scrollOffset),new zi(W,F,D,k,A)}},F?.preloadingStrategy?cc(F.preloadingStrategy).\u0275providers:[],F?.initialNavigation?as(F):[],F?.bindToComponentInputs?An(8,[Ms,{provide:ws,useExisting:Ms}]).\u0275providers:[],F?.enableViewTransitions?Na().\u0275providers:[],[{provide:Il,useFactory:Gu},{provide:I.tb,multi:!0,useExisting:Il}]]}}static forChild(A){return{ngModule:D,providers:[{provide:Rn,multi:!0,useValue:A}]}}static#e=this.\u0275fac=function(F){return new(F||D)(I.LFG(He,8))};static#t=this.\u0275mod=I.oAB({type:D});static#n=this.\u0275inj=I.cJS({})}return D})();function md(D){return"guarded"}function as(D){return["disabled"===D.initialNavigation?An(3,[{provide:I.ip1,multi:!0,useFactory:()=>{const k=(0,I.f3M)($i);return()=>{k.setUpLocationChangeListener()}}},{provide:vl,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?An(2,[{provide:vl,useValue:0},{provide:I.ip1,multi:!0,deps:[I.zs3],useFactory:k=>{const A=k.get(Xe.V_,Promise.resolve());return()=>A.then(()=>new Promise(F=>{const W=k.get($i),se=k.get(to);Zi(W,()=>{F(!0)}),k.get(Li).afterPreactivation=()=>(F(!0),se.closed?(0,fe.of)(void 0):se),W.initialNavigation()}))}}]).\u0275providers:[]]}const Il=new I.OlP("")},4303:(Wt,ze,U)=>{U.d(ze,{Jn:()=>hr,KN:()=>Br,Xd:()=>Yt,qX:()=>Tn});var I=U(5861),te=U(4537),J=U(7879),_e=U(9058),m=U(1878);class fe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function be(it){const Se=it.getComponent();return"VERSION"===Se?.type}(je)){const _t=je.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(je=>je).join(" ")}}const me="@firebase/app",le=new J.Yd("@firebase/app"),Ke={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,We=new Map;function Et(it,Se){try{it.container.addComponent(Se)}catch(je){le.debug(`Component ${Se.name} failed to register with FirebaseApp ${it.name}`,je)}}function Yt(it){const Se=it.name;if(We.has(Se))return le.debug(`There were multiple attempts to register component ${Se}.`),!1;We.set(Se,it);for(const je of Ye.values())Et(je,it);return!0}function Tn(it,Se){const je=it.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),it.container.getProvider(Se)}const Cn=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),hr="10.6.0";function Br(it,Se,je){var _t;let sn=null!==(_t=Ke[it])&&void 0!==_t?_t:it;je&&(sn+=`-${je}`);const En=sn.match(/\s|\//),_r=Se.match(/\s|\//);if(En||_r){const Te=[`Unable to register library "${sn}" with version "${Se}":`];return En&&Te.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),En&&_r&&Te.push("and"),_r&&Te.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void le.warn(Te.join(" "))}Yt(new te.wA(`${sn}-version`,()=>({library:sn,version:Se}),"VERSION"))}const Wr="firebase-heartbeat-database",or=1,cn="firebase-heartbeat-store";let Fn=null;function kr(){return Fn||(Fn=(0,m.X3)(Wr,or,{upgrade:(it,Se)=>{0===Se&&it.createObjectStore(cn)}}).catch(it=>{throw Cn.create("idb-open",{originalErrorMessage:it.message})})),Fn}function Jt(){return(Jt=(0,I.Z)(function*(it){try{return yield(yield kr()).transaction(cn).objectStore(cn).get(Ri(it))}catch(Se){if(Se instanceof _e.ZR)le.warn(Se.message);else{const je=Cn.create("idb-get",{originalErrorMessage:Se?.message});le.warn(je.message)}}})).apply(this,arguments)}function On(it,Se){return wr.apply(this,arguments)}function wr(){return(wr=(0,I.Z)(function*(it,Se){try{const _t=(yield kr()).transaction(cn,"readwrite");yield _t.objectStore(cn).put(Se,Ri(it)),yield _t.done}catch(je){if(je instanceof _e.ZR)le.warn(je.message);else{const _t=Cn.create("idb-set",{originalErrorMessage:je?.message});le.warn(_t.message)}}})).apply(this,arguments)}function Ri(it){return`${it.name}!${it.options.appId}`}class Un{constructor(Se){this.container=Se,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Wi(je),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var Se=this;return(0,I.Z)(function*(){var je;const sn=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),En=Ir();if(null==(null===(je=Se._heartbeatsCache)||void 0===je?void 0:je.heartbeats)&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==En&&!Se._heartbeatsCache.heartbeats.some(_r=>_r.date===En))return Se._heartbeatsCache.heartbeats.push({date:En,agent:sn}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(_r=>{const Te=new Date(_r.date).valueOf();return Date.now()-Te<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,I.Z)(function*(){var je;if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null==(null===(je=Se._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||0===Se._heartbeatsCache.heartbeats.length)return"";const _t=Ir(),{heartbeatsToSend:sn,unsentEntries:En}=function Pi(it,Se=1024){const je=[];let _t=it.slice();for(const sn of it){const En=je.find(_r=>_r.agent===sn.agent);if(En){if(En.dates.push(sn.date),ar(je)>Se){En.dates.pop();break}}else if(je.push({agent:sn.agent,dates:[sn.date]}),ar(je)>Se){je.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:je,unsentEntries:_t}}(Se._heartbeatsCache.heartbeats),_r=(0,_e.L)(JSON.stringify({version:2,heartbeats:sn}));return Se._heartbeatsCache.lastSentHeartbeatDate=_t,En.length>0?(Se._heartbeatsCache.heartbeats=En,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),_r})()}}function Ir(){return(new Date).toISOString().substring(0,10)}class Wi{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,I.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Gr(it){return Jt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var je=this;return(0,I.Z)(function*(){var _t;if(yield je._canUseIndexedDBPromise){const En=yield je.read();return On(je.app,{lastSentHeartbeatDate:null!==(_t=Se.lastSentHeartbeatDate)&&void 0!==_t?_t:En.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var je=this;return(0,I.Z)(function*(){var _t;if(yield je._canUseIndexedDBPromise){const En=yield je.read();return On(je.app,{lastSentHeartbeatDate:null!==(_t=Se.lastSentHeartbeatDate)&&void 0!==_t?_t:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Se.heartbeats]})}})()}}function ar(it){return(0,_e.L)(JSON.stringify({version:2,heartbeats:it})).length}!function qn(it){Yt(new te.wA("platform-logger",Se=>new fe(Se),"PRIVATE")),Yt(new te.wA("heartbeat",Se=>new Un(Se),"PRIVATE")),Br(me,"0.9.23",it),Br(me,"0.9.23","esm2017"),Br("fire-js","")}("")},4537:(Wt,ze,U)=>{U.d(ze,{H0:()=>me,wA:()=>J});var I=U(5861),te=U(9058);class J{constructor(le,pe,Be){this.name=le,this.instanceFactory=pe,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const _e="[DEFAULT]";class m{constructor(le,pe){this.name=le,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const pe=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(pe)){const Be=new te.BH;if(this.instancesDeferred.set(pe,Be),this.isInitialized(pe)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:pe});Ze&&Be.resolve(Ze)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(le){var pe;const Be=this.normalizeInstanceIdentifier(le?.identifier),Ze=null!==(pe=le?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(Je){if(Ze)return null;throw Je}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function be(Ve){return"EAGER"===Ve.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[pe,Be]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(pe);try{const Je=this.getOrInitializeService({instanceIdentifier:Ze});Be.resolve(Je)}catch{}}}}clearInstance(le=_e){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,I.Z)(function*(){const pe=Array.from(le.instances.values());yield Promise.all([...pe.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...pe.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=_e){return this.instances.has(le)}getOptions(le=_e){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:pe={}}=le,Be=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Be,options:pe});for(const[Je,lt]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(Je)&&lt.resolve(Ze);return Ze}onInit(le,pe){var Be;const Ze=this.normalizeInstanceIdentifier(pe),Je=null!==(Be=this.onInitCallbacks.get(Ze))&&void 0!==Be?Be:new Set;Je.add(le),this.onInitCallbacks.set(Ze,Je);const lt=this.instances.get(Ze);return lt&&le(lt,Ze),()=>{Je.delete(le)}}invokeOnInitCallbacks(le,pe){const Be=this.onInitCallbacks.get(pe);if(Be)for(const Ze of Be)try{Ze(le,pe)}catch{}}getOrInitializeService({instanceIdentifier:le,options:pe={}}){let Be=this.instances.get(le);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=le,Ve===_e?void 0:Ve),options:pe}),this.instances.set(le,Be),this.instancesOptions.set(le,pe),this.invokeOnInitCallbacks(Be,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Be)}catch{}var Ve;return Be||null}normalizeInstanceIdentifier(le=_e){return this.component?this.component.multipleInstances?le:_e:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const pe=this.getProvider(le.name);if(pe.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);pe.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const pe=new m(le,this);return this.providers.set(le,pe),pe}getProviders(){return Array.from(this.providers.values())}}},7879:(Wt,ze,U)=>{U.d(ze,{Am:()=>Ve,Ub:()=>me,Yd:()=>be,in:()=>te});const I=[];var te=function(le){return le[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",le}(te||{});const J={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},_e=te.INFO,m={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},fe=(le,pe,...Be)=>{if(pe<le.logLevel)return;const Ze=(new Date).toISOString(),Je=m[pe];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Je](`[${Ze}]  ${le.name}:`,...Be)};class be{constructor(pe){this.name=pe,this._logLevel=_e,this._logHandler=fe,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in te))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?J[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...pe),this._logHandler(this,te.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...pe),this._logHandler(this,te.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,te.INFO,...pe),this._logHandler(this,te.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,te.WARN,...pe),this._logHandler(this,te.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...pe),this._logHandler(this,te.ERROR,...pe)}}function me(le){I.forEach(pe=>{pe.setLogLevel(le)})}function Ve(le,pe){for(const Be of I){let Ze=null;pe&&pe.level&&(Ze=J[pe.level]),Be.userLogHandler=null===le?null:(Je,lt,...at)=>{const Tt=at.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");lt>=(Ze??Je.logLevel)&&le({level:te[lt].toLowerCase(),message:Tt,args:at,type:Je.name})}}}},1878:(Wt,ze,U)=>{U.d(ze,{X3:()=>bt});var I=U(5861);const te=(ye,ht)=>ht.some(Pt=>ye instanceof Pt);let J,_e;const be=new WeakMap,me=new WeakMap,Ve=new WeakMap,le=new WeakMap,pe=new WeakMap;let Je={get(ye,ht,Pt){if(ye instanceof IDBTransaction){if("done"===ht)return me.get(ye);if("objectStoreNames"===ht)return ye.objectStoreNames||Ve.get(ye);if("store"===ht)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return ke(ye[ht])},set:(ye,ht,Pt)=>(ye[ht]=Pt,!0),has:(ye,ht)=>ye instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in ye};function Tt(ye){return"function"==typeof ye?function at(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...ht){return ye.apply(Oe(this),ht),ke(be.get(this))}:function(...ht){return ke(ye.apply(Oe(this),ht))}:function(ht,...Pt){const an=ye.call(Oe(this),ht,...Pt);return Ve.set(an,ht.sort?ht.sort():[ht]),ke(an)}}(ye):(ye instanceof IDBTransaction&&function Ze(ye){if(me.has(ye))return;const ht=new Promise((Pt,an)=>{const In=()=>{ye.removeEventListener("complete",Vn),ye.removeEventListener("error",bn),ye.removeEventListener("abort",bn)},Vn=()=>{Pt(),In()},bn=()=>{an(ye.error||new DOMException("AbortError","AbortError")),In()};ye.addEventListener("complete",Vn),ye.addEventListener("error",bn),ye.addEventListener("abort",bn)});me.set(ye,ht)}(ye),te(ye,function m(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Je):ye)}function ke(ye){if(ye instanceof IDBRequest)return function Be(ye){const ht=new Promise((Pt,an)=>{const In=()=>{ye.removeEventListener("success",Vn),ye.removeEventListener("error",bn)},Vn=()=>{Pt(ke(ye.result)),In()},bn=()=>{an(ye.error),In()};ye.addEventListener("success",Vn),ye.addEventListener("error",bn)});return ht.then(Pt=>{Pt instanceof IDBCursor&&be.set(Pt,ye)}).catch(()=>{}),pe.set(ht,ye),ht}(ye);if(le.has(ye))return le.get(ye);const ht=Tt(ye);return ht!==ye&&(le.set(ye,ht),pe.set(ht,ye)),ht}const Oe=ye=>pe.get(ye);function bt(ye,ht,{blocked:Pt,upgrade:an,blocking:In,terminated:Vn}={}){const bn=indexedDB.open(ye,ht),zr=ke(bn);return an&&bn.addEventListener("upgradeneeded",Jn=>{an(ke(bn.result),Jn.oldVersion,Jn.newVersion,ke(bn.transaction),Jn)}),Pt&&bn.addEventListener("blocked",Jn=>Pt(Jn.oldVersion,Jn.newVersion,Jn)),zr.then(Jn=>{Vn&&Jn.addEventListener("close",()=>Vn()),In&&Jn.addEventListener("versionchange",Nr=>In(Nr.oldVersion,Nr.newVersion,Nr))}).catch(()=>{}),zr}const Xe=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],St=new Map;function vt(ye,ht){if(!(ye instanceof IDBDatabase)||ht in ye||"string"!=typeof ht)return;if(St.get(ht))return St.get(ht);const Pt=ht.replace(/FromIndex$/,""),an=ht!==Pt,In=ut.includes(Pt);if(!(Pt in(an?IDBIndex:IDBObjectStore).prototype)||!In&&!Xe.includes(Pt))return;const Vn=function(){var bn=(0,I.Z)(function*(zr,...Jn){const Nr=this.transaction(zr,In?"readwrite":"readonly");let qe=Nr.store;return an&&(qe=qe.index(Jn.shift())),(yield Promise.all([qe[Pt](...Jn),In&&Nr.done]))[0]});return function(Jn){return bn.apply(this,arguments)}}();return St.set(ht,Vn),Vn}!function lt(ye){Je=ye(Je)}(ye=>({...ye,get:(ht,Pt,an)=>vt(ht,Pt)||ye.get(ht,Pt,an),has:(ht,Pt)=>!!vt(ht,Pt)||ye.has(ht,Pt)}))},5861:(Wt,ze,U)=>{function I(J,_e,m,fe,be,me,Ve){try{var le=J[me](Ve),pe=le.value}catch(Be){return void m(Be)}le.done?_e(pe):Promise.resolve(pe).then(fe,be)}function te(J){return function(){var _e=this,m=arguments;return new Promise(function(fe,be){var me=J.apply(_e,m);function Ve(pe){I(me,fe,be,Ve,le,"next",pe)}function le(pe){I(me,fe,be,Ve,le,"throw",pe)}Ve(void 0)})}}U.d(ze,{Z:()=>te})},7582:(Wt,ze,U)=>{function _e(qe,Ke){var Ye={};for(var We in qe)Object.prototype.hasOwnProperty.call(qe,We)&&Ke.indexOf(We)<0&&(Ye[We]=qe[We]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(We=Object.getOwnPropertySymbols(qe);Et<We.length;Et++)Ke.indexOf(We[Et])<0&&Object.prototype.propertyIsEnumerable.call(qe,We[Et])&&(Ye[We[Et]]=qe[We[Et]])}return Ye}function Be(qe,Ke,Ye,We){return new(Ye||(Ye=Promise))(function(Mt,Yt){function Tn(rr){try{vn(We.next(rr))}catch(Cn){Yt(Cn)}}function rn(rr){try{vn(We.throw(rr))}catch(Cn){Yt(Cn)}}function vn(rr){rr.done?Mt(rr.value):function Et(Mt){return Mt instanceof Ye?Mt:new Ye(function(Yt){Yt(Mt)})}(rr.value).then(Tn,rn)}vn((We=We.apply(qe,Ke||[])).next())})}function tt(qe){return this instanceof tt?(this.v=qe,this):new tt(qe)}function Xe(qe,Ke,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,We=Ye.apply(qe,Ke||[]),Mt=[];return Et={},Yt("next"),Yt("throw"),Yt("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function Yt(mr){We[mr]&&(Et[mr]=function(hr){return new Promise(function(cr,Er){Mt.push([mr,hr,cr,Er])>1||Tn(mr,hr)})})}function Tn(mr,hr){try{!function rn(mr){mr.value instanceof tt?Promise.resolve(mr.value.v).then(vn,rr):Cn(Mt[0][2],mr)}(We[mr](hr))}catch(cr){Cn(Mt[0][3],cr)}}function vn(mr){Tn("next",mr)}function rr(mr){Tn("throw",mr)}function Cn(mr,hr){mr(hr),Mt.shift(),Mt.length&&Tn(Mt[0][0],Mt[0][1])}}function St(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Ke=qe[Symbol.asyncIterator];return Ke?Ke.call(qe):(qe=function at(qe){var Ke="function"==typeof Symbol&&Symbol.iterator,Ye=Ke&&qe[Ke],We=0;if(Ye)return Ye.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&We>=qe.length&&(qe=void 0),{value:qe&&qe[We++],done:!qe}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),Ye={},We("next"),We("throw"),We("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function We(Mt){Ye[Mt]=qe[Mt]&&function(Yt){return new Promise(function(Tn,rn){!function Et(Mt,Yt,Tn,rn){Promise.resolve(rn).then(function(vn){Mt({value:vn,done:Tn})},Yt)}(Tn,rn,(Yt=qe[Mt](Yt)).done,Yt.value)})}}}U.d(ze,{FC:()=>Xe,KL:()=>St,_T:()=>_e,mG:()=>Be,qq:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},Wt=>{Wt(Wt.s=5311)}]);