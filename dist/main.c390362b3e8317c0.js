"use strict";(self.webpackChunkeCom=self.webpackChunkeCom||[]).push([[179],{2194:(Gt,$e,U)=>{U.d($e,{nm:()=>di});var w=U(2793),m=(U(5879),U(8726),U(4097),U(5861)),Ae=U(4303),Ie=U(4537),pe=U(9058),Se=U(7879);const re=new Map,ye={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function Be(je){return re.get(je)||Object.assign({},ye)}function Pt(){return Pe}const Le="https://content-firebaseappcheck.googleapis.com/v1",wt="exchangeDebugToken",yt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class pt{constructor(Ve,tt,xt,Kt,Hn){if(this.operation=Ve,this.retryPolicy=tt,this.getWaitDuration=xt,this.lowerBound=Kt,this.upperBound=Hn,this.pending=null,this.nextErrorWaitInterval=Kt,Kt>Hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var tt=this;return(0,m.Z)(function*(){tt.stop();try{tt.pending=new pe.BH,yield function Ke(je){return new Promise(Ve=>{setTimeout(Ve,je)})}(tt.getNextRun(Ve)),tt.pending.resolve(),yield tt.pending.promise,tt.pending=new pe.BH,yield tt.operation(),tt.pending.resolve(),yield tt.pending.promise,tt.process(!0).catch(()=>{})}catch(xt){tt.retryPolicy(xt)?tt.process(!1).catch(()=>{}):tt.stop()}})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const tt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),tt}}}const mt=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(je){if(!Be(je).activated)throw mt.create("use-before-activation",{appName:je.name})}function _n(je,Ve){return yr.apply(this,arguments)}function yr(){return(yr=(0,m.Z)(function*({url:je,body:Ve},tt){const xt={"Content-Type":"application/json"},Kt=tt.getImmediate({optional:!0});if(Kt){const Ls=yield Kt.getHeartbeatsHeader();Ls&&(xt["X-Firebase-Client"]=Ls)}const Hn={method:"POST",body:JSON.stringify(Ve),headers:xt};let gr,Er;try{gr=yield fetch(je,Hn)}catch(Ls){throw mt.create("fetch-network-error",{originalErrorMessage:Ls?.message})}if(200!==gr.status)throw mt.create("fetch-status-error",{httpStatus:gr.status});try{Er=yield gr.json()}catch(Ls){throw mt.create("fetch-parse-error",{originalErrorMessage:Ls?.message})}const Hr=Er.ttl.match(/^([\d.]+)(s)$/);if(!Hr||!Hr[2]||isNaN(Number(Hr[1])))throw mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Er.ttl}`});const ka=1e3*Number(Hr[1]),Kr=Date.now();return{token:Er.token,expireTimeMillis:Kr+ka,issuedAtTimeMillis:Kr}})).apply(this,arguments)}function Kn(je,Ve){const{projectId:tt,appId:xt,apiKey:Kt}=je.options;return{url:`${Le}/projects/${tt}/apps/${xt}:${wt}?key=${Kt}`,body:{debug_token:Ve}}}const fr="firebase-app-check-database",qe=1,at="firebase-app-check-store";let Je=null;function Vn(){return(Vn=(0,m.Z)(function*(je,Ve){const xt=(yield function vt(){return Je||(Je=new Promise((je,Ve)=>{try{const tt=indexedDB.open(fr,qe);tt.onsuccess=xt=>{je(xt.target.result)},tt.onerror=xt=>{var Kt;Ve(mt.create("storage-open",{originalErrorMessage:null===(Kt=xt.target.error)||void 0===Kt?void 0:Kt.message}))},tt.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(at,{keyPath:"compositeKey"})}}catch(tt){Ve(mt.create("storage-open",{originalErrorMessage:tt?.message}))}}),Je)}()).transaction(at,"readwrite"),Hn=xt.objectStore(at).put({compositeKey:je,value:Ve});return new Promise((gr,Er)=>{Hn.onsuccess=Hr=>{gr()},xt.onerror=Hr=>{var ka;Er(mt.create("storage-set",{originalErrorMessage:null===(ka=Hr.target.error)||void 0===ka?void 0:ka.message}))}})})).apply(this,arguments)}const vr=new Se.Yd("@firebase/app-check");function ai(je,Ve){return(0,pe.hl)()?function Wt(je,Ve){return function Tn(je,Ve){return Vn.apply(this,arguments)}(function Zn(je){return`${je.options.appId}-${je.name}`}(je),Ve)}(je,Ve).catch(tt=>{vr.warn(`Failed to write token to IndexedDB. Error: ${tt}`)}):Promise.resolve()}function Or(){return Pt().enabled}function ui(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(){const je=Pt();if(je.enabled&&je.token)return je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const an={error:"UNKNOWN_ERROR"};function An(je){return pe.US.encodeString(JSON.stringify(je),!1)}function kn(je){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,m.Z)(function*(je,Ve=!1){const tt=je.app;dt(tt);const xt=Be(tt);let Hn,Kt=xt.token;if(Kt&&!dr(Kt)&&(xt.token=void 0,Kt=void 0),!Kt){const Hr=yield xt.cachedTokenPromise;Hr&&(dr(Hr)?Kt=Hr:yield ai(tt,void 0))}if(!Ve&&Kt&&dr(Kt))return{token:Kt.token};let Er,gr=!1;if(Or()){xt.exchangeTokenPromise||(xt.exchangeTokenPromise=_n(Kn(tt,yield ui()),je.heartbeatServiceProvider).finally(()=>{xt.exchangeTokenPromise=void 0}),gr=!0);const Hr=yield xt.exchangeTokenPromise;return yield ai(tt,Hr),xt.token=Hr,{token:Hr.token}}try{xt.exchangeTokenPromise||(xt.exchangeTokenPromise=xt.provider.getToken().finally(()=>{xt.exchangeTokenPromise=void 0}),gr=!0),Kt=yield Be(tt).exchangeTokenPromise}catch(Hr){"appCheck/throttled"===Hr.code?vr.warn(Hr.message):vr.error(Hr),Hn=Hr}return Kt?Hn?Er=dr(Kt)?{token:Kt.token,internalError:Hn}:wi(Hn):(Er={token:Kt.token},xt.token=Kt,yield ai(tt,Kt)):Er=wi(Hn),gr&&function Qn(je,Ve){const tt=Be(je).tokenObservers;for(const xt of tt)try{"EXTERNAL"===xt.type&&null!=Ve.error?xt.error(Ve.error):xt.next(Ve)}catch{}}(tt,Er),Er})).apply(this,arguments)}function qr(je){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(je){const Ve=je.app;dt(Ve);const{provider:tt}=Be(Ve);if(Or()){const xt=yield ui(),{token:Kt}=yield _n(Kn(Ve,xt),je.heartbeatServiceProvider);return{token:Kt}}{const{token:xt}=yield tt.getToken();return{token:xt}}})).apply(this,arguments)}function pi(je,Ve){const tt=Be(je),xt=tt.tokenObservers.filter(Kt=>Kt.next!==Ve);0===xt.length&&tt.tokenRefresher&&tt.tokenRefresher.isRunning()&&tt.tokenRefresher.stop(),tt.tokenObservers=xt}function $n(je){const{app:Ve}=je,tt=Be(Ve);let xt=tt.tokenRefresher;xt||(xt=function gi(je){const{app:Ve}=je;return new pt((0,m.Z)(function*(){let xt;if(xt=Be(Ve).token?yield kn(je,!0):yield kn(je),xt.error)throw xt.error;if(xt.internalError)throw xt.internalError}),()=>!0,()=>{const tt=Be(Ve);if(tt.token){let xt=tt.token.issuedAtTimeMillis+.5*(tt.token.expireTimeMillis-tt.token.issuedAtTimeMillis)+3e5;return xt=Math.min(xt,tt.token.expireTimeMillis-3e5),Math.max(0,xt-Date.now())}return 0},yt.RETRIAL_MIN_WAIT,yt.RETRIAL_MAX_WAIT)}(je),tt.tokenRefresher=xt),!xt.isRunning()&&tt.isTokenAutoRefreshEnabled&&xt.start()}function dr(je){return je.expireTimeMillis-Date.now()>0}function wi(je){return{token:An(an),error:je}}class Hi{constructor(Ve,tt){this.app=Ve,this.heartbeatServiceProvider=tt}_delete(){const{tokenObservers:Ve}=Be(this.app);for(const tt of Ve)pi(this.app,tt.next);return Promise.resolve()}}const Xt="app-check-internal";!function Bt(){(0,Ae.Xd)(new Ie.wA("app-check",je=>function ur(je,Ve){return new Hi(je,Ve)}(je.getProvider("app").getImmediate(),je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((je,Ve,tt)=>{je.getProvider(Xt).initialize()})),(0,Ae.Xd)(new Ie.wA(Xt,je=>function Bn(je){return{getToken:Ve=>kn(je,Ve),getLimitedUseToken:()=>qr(je),addTokenListener:Ve=>function Jn(je,Ve,tt,xt){const{app:Kt}=je,Hn=Be(Kt);if(Hn.tokenObservers=[...Hn.tokenObservers,{next:tt,error:xt,type:Ve}],Hn.token&&dr(Hn.token)){const Er=Hn.token;Promise.resolve().then(()=>{tt({token:Er.token}),$n(je)}).catch(()=>{})}Hn.cachedTokenPromise.then(()=>$n(je))}(je,"INTERNAL",Ve),removeTokenListener:Ve=>pi(je.app,Ve)}}(je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.KN)("@firebase/app-check","0.8.0")}();class di{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},8726:(Gt,$e,U)=>{U.d($e,{Ot:()=>ue,ZF:()=>De,hX:()=>Be,z6:()=>m});var w=U(4097),ie=U(5879),Y=U(2793);class ue{constructor(pt){return pt}}class m{constructor(){return(0,w.C6)()}}const pe=new ie.OlP("angularfire2._apps"),Se={provide:ue,useFactory:function Ie(xe){return xe&&1===xe.length?xe[0]:new ue((0,w.Mq)())},deps:[[new ie.FiY,pe]]},re={provide:m,deps:[[new ie.FiY,pe]]};function ye(xe){return(pt,Ke)=>{const ut=pt.runOutsideAngular(()=>xe(Ke));return new ue(ut)}}let Pe=(()=>{class xe{constructor(Ke){(0,w.KN)("angularfire",Y.q4.full,"core"),(0,w.KN)("angularfire",Y.q4.full,"app"),(0,w.KN)("angular",ie.q4F.full,Ke.toString())}}return xe.\u0275fac=function(Ke){return new(Ke||xe)(ie.LFG(ie.Lbi))},xe.\u0275mod=ie.oAB({type:xe}),xe.\u0275inj=ie.cJS({providers:[Se,re]}),xe})();function Be(xe,...pt){return{ngModule:Pe,providers:[{provide:pe,useFactory:ye(xe),multi:!0,deps:[ie.R0b,ie.zs3,Y.HU,...pt]}]}}const De=(0,Y.u3)(w.ZF,!0)},7708:(Gt,$e,U)=>{U.d($e,{ST:()=>lt});var w=U(5879),ie=U(6321),Y=U(5592),ue=U(2459),m=U(2096),Ae=U(2793),Ie=U(7921),pe=U(9384),Se=U(7398),re=U(6699),ye=U(3997),Pe=U(2181),Be=U(6304),it=U(6814),Le=(U(8661),U(3399)),De=U(8162),Fe=U(9058),wt=U(4537);function pt(Me,ee){if(void 0===ee)return{merge:!1};if(void 0!==ee.mergeFields&&void 0!==ee.merge)throw new De.WA("invalid-argument",`Invalid options passed to function ${Me}(): You cannot specify both "merge" and "mergeFields".`);return ee}function Ke(){if(typeof Uint8Array>"u")throw new De.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ut(){if(!(0,De.Me)())throw new De.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class mt{constructor(ee){this._delegate=ee}static fromBase64String(ee){return ut(),new mt(De.Jj.fromBase64String(ee))}static fromUint8Array(ee){return Ke(),new mt(De.Jj.fromUint8Array(ee))}toBase64(){return ut(),this._delegate.toBase64()}toUint8Array(){return Ke(),this._delegate.toUint8Array()}isEqual(ee){return this._delegate.isEqual(ee._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ee(Me){return function dt(Me,ee){if("object"!=typeof Me||null===Me)return!1;const ge=Me;for(const Qe of ee)if(Qe in ge&&"function"==typeof ge[Qe])return!0;return!1}(Me,["next","error","complete"])}class Ot{enableIndexedDbPersistence(ee,ge){return(0,De.ST)(ee._delegate,{forceOwnership:ge})}enableMultiTabIndexedDbPersistence(ee){return(0,De.fH)(ee._delegate)}clearIndexedDbPersistence(ee){return(0,De.Fc)(ee._delegate)}}class Qt{constructor(ee,ge,Qe){this._delegate=ge,this._persistenceProvider=Qe,this.INTERNAL={delete:()=>this.terminate()},ee instanceof De.l7||(this._appCompat=ee)}get _databaseId(){return this._delegate._databaseId}settings(ee){const ge=this._delegate._getSettings();!ee.merge&&ge.host!==ee.host&&(0,De.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),ee.merge&&delete(ee=Object.assign(Object.assign({},ge),ee)).merge,this._delegate._setSettings(ee)}useEmulator(ee,ge,Qe={}){(0,De.at)(this._delegate,ee,ge,Qe)}enableNetwork(){return(0,De.Ix)(this._delegate)}disableNetwork(){return(0,De.TF)(this._delegate)}enablePersistence(ee){let ge=!1,Qe=!1;return ee&&(ge=!!ee.synchronizeTabs,Qe=!!ee.experimentalForceOwningTab,(0,De.Wi)("synchronizeTabs",ge,"experimentalForceOwningTab",Qe)),ge?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Qe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,De.Mx)(this._delegate)}onSnapshotsInSync(ee){return(0,De.sc)(this._delegate,ee)}get app(){if(!this._appCompat)throw new De.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(ee){try{return new Wn(this,(0,De.hJ)(this._delegate,ee))}catch(ge){throw qe(ge,"collection()","Firestore.collection()")}}doc(ee){try{return new fr(this,(0,De.JU)(this._delegate,ee))}catch(ge){throw qe(ge,"doc()","Firestore.doc()")}}collectionGroup(ee){try{return new Dt(this,(0,De.B$)(this._delegate,ee))}catch(ge){throw qe(ge,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(ee){return(0,De.i3)(this._delegate,ge=>ee(new Sn(this,ge)))}batch(){return(0,De.qY)(this._delegate),new ar(new De.PU(this._delegate,ee=>(0,De.GL)(this._delegate,ee)))}loadBundle(ee){return(0,De.Pb)(this._delegate,ee)}namedQuery(ee){return(0,De.L$)(this._delegate,ee).then(ge=>ge?new Dt(this,ge):null)}}class _n extends De.u7{constructor(ee){super(),this.firestore=ee}convertBytes(ee){return new mt(new De.Jj(ee))}convertReference(ee){const ge=this.convertDocumentKey(ee,this.firestore._databaseId);return fr.forKey(ge,this.firestore,null)}}class Sn{constructor(ee,ge){this._firestore=ee,this._delegate=ge,this._userDataWriter=new _n(ee)}get(ee){const ge=Tn(ee);return this._delegate.get(ge).then(Qe=>new Je(this._firestore,new De.xU(this._firestore._delegate,this._userDataWriter,Qe._key,Qe._document,Qe.metadata,ge.converter)))}set(ee,ge,Qe){const me=Tn(ee);return Qe?(pt("Transaction.set",Qe),this._delegate.set(me,ge,Qe)):this._delegate.set(me,ge),this}update(ee,ge,Qe,...me){const _e=Tn(ee);return 2===arguments.length?this._delegate.update(_e,ge):this._delegate.update(_e,ge,Qe,...me),this}delete(ee){const ge=Tn(ee);return this._delegate.delete(ge),this}}class ar{constructor(ee){this._delegate=ee}set(ee,ge,Qe){const me=Tn(ee);return Qe?(pt("WriteBatch.set",Qe),this._delegate.set(me,ge,Qe)):this._delegate.set(me,ge),this}update(ee,ge,Qe,...me){const _e=Tn(ee);return 2===arguments.length?this._delegate.update(_e,ge):this._delegate.update(_e,ge,Qe,...me),this}delete(ee){const ge=Tn(ee);return this._delegate.delete(ge),this}commit(){return this._delegate.commit()}}class Kn{constructor(ee,ge,Qe){this._firestore=ee,this._userDataWriter=ge,this._delegate=Qe}fromFirestore(ee,ge){const Qe=new De.$q(this._firestore._delegate,this._userDataWriter,ee._key,ee._document,ee.metadata,null);return this._delegate.fromFirestore(new vt(this._firestore,Qe),ge??{})}toFirestore(ee,ge){return ge?this._delegate.toFirestore(ee,ge):this._delegate.toFirestore(ee)}static getInstance(ee,ge){const Qe=Kn.INSTANCES;let me=Qe.get(ee);me||(me=new WeakMap,Qe.set(ee,me));let _e=me.get(ge);return _e||(_e=new Kn(ee,new _n(ee),ge),me.set(ge,_e)),_e}}Kn.INSTANCES=new WeakMap;class fr{constructor(ee,ge){this.firestore=ee,this._delegate=ge,this._userDataWriter=new _n(ee)}static forPath(ee,ge,Qe){if(ee.length%2!=0)throw new De.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${ee.canonicalString()} has ${ee.length}`);return new fr(ge,new De.my(ge._delegate,Qe,new De.Ky(ee)))}static forKey(ee,ge,Qe){return new fr(ge,new De.my(ge._delegate,Qe,ee))}get id(){return this._delegate.id}get parent(){return new Wn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(ee){try{return new Wn(this.firestore,(0,De.hJ)(this._delegate,ee))}catch(ge){throw qe(ge,"collection()","DocumentReference.collection()")}}isEqual(ee){return(ee=(0,Fe.m9)(ee))instanceof De.my&&(0,De.Eo)(this._delegate,ee)}set(ee,ge){ge=pt("DocumentReference.set",ge);try{return ge?(0,De.pl)(this._delegate,ee,ge):(0,De.pl)(this._delegate,ee)}catch(Qe){throw qe(Qe,"setDoc()","DocumentReference.set()")}}update(ee,ge,...Qe){try{return 1===arguments.length?(0,De.r7)(this._delegate,ee):(0,De.r7)(this._delegate,ee,ge,...Qe)}catch(me){throw qe(me,"updateDoc()","DocumentReference.update()")}}delete(){return(0,De.oe)(this._delegate)}onSnapshot(...ee){const ge=at(ee),Qe=ct(ee,me=>new Je(this.firestore,new De.xU(this.firestore._delegate,this._userDataWriter,me._key,me._document,me.metadata,this._delegate.converter)));return(0,De.cf)(this._delegate,ge,Qe)}get(ee){let ge;return ge="cache"===ee?.source?(0,De.kl)(this._delegate):"server"===ee?.source?(0,De.Xk)(this._delegate):(0,De.QT)(this._delegate),ge.then(Qe=>new Je(this.firestore,new De.xU(this.firestore._delegate,this._userDataWriter,Qe._key,Qe._document,Qe.metadata,this._delegate.converter)))}withConverter(ee){return new fr(this.firestore,this._delegate.withConverter(ee?Kn.getInstance(this.firestore,ee):null))}}function qe(Me,ee,ge){return Me.message=Me.message.replace(ee,ge),Me}function at(Me){for(const ee of Me)if("object"==typeof ee&&!Ee(ee))return ee;return{}}function ct(Me,ee){var ge,Qe;let me;return me=Ee(Me[0])?Me[0]:Ee(Me[1])?Me[1]:"function"==typeof Me[0]?{next:Me[0],error:Me[1],complete:Me[2]}:{next:Me[1],error:Me[2],complete:Me[3]},{next:_e=>{me.next&&me.next(ee(_e))},error:null===(ge=me.error)||void 0===ge?void 0:ge.bind(me),complete:null===(Qe=me.complete)||void 0===Qe?void 0:Qe.bind(me)}}class Je{constructor(ee,ge){this._firestore=ee,this._delegate=ge}get ref(){return new fr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(ee){return this._delegate.data(ee)}get(ee,ge){return this._delegate.get(ee,ge)}isEqual(ee){return(0,De.qK)(this._delegate,ee._delegate)}}class vt extends Je{data(ee){const ge=this._delegate.data(ee);return(0,De.K9)(void 0!==ge,"Document in a QueryDocumentSnapshot should exist"),ge}}class Dt{constructor(ee,ge){this.firestore=ee,this._delegate=ge,this._userDataWriter=new _n(ee)}where(ee,ge,Qe){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.ar)(ee,ge,Qe)))}catch(me){throw qe(me,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(ee,ge){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.Xo)(ee,ge)))}catch(Qe){throw qe(Qe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(ee){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.b9)(ee)))}catch(ge){throw qe(ge,"limit()","Query.limit()")}}limitToLast(ee){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.vh)(ee)))}catch(ge){throw qe(ge,"limitToLast()","Query.limitToLast()")}}startAt(...ee){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.e0)(...ee)))}catch(ge){throw qe(ge,"startAt()","Query.startAt()")}}startAfter(...ee){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.TQ)(...ee)))}catch(ge){throw qe(ge,"startAfter()","Query.startAfter()")}}endBefore(...ee){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.Lx)(...ee)))}catch(ge){throw qe(ge,"endBefore()","Query.endBefore()")}}endAt(...ee){try{return new Dt(this.firestore,(0,De.IO)(this._delegate,(0,De.Wu)(...ee)))}catch(ge){throw qe(ge,"endAt()","Query.endAt()")}}isEqual(ee){return(0,De.iE)(this._delegate,ee._delegate)}get(ee){let ge;return ge="cache"===ee?.source?(0,De.UQ)(this._delegate):"server"===ee?.source?(0,De.zN)(this._delegate):(0,De.PL)(this._delegate),ge.then(Qe=>new gt(this.firestore,new De.W(this.firestore._delegate,this._userDataWriter,this._delegate,Qe._snapshot)))}onSnapshot(...ee){const ge=at(ee),Qe=ct(ee,me=>new gt(this.firestore,new De.W(this.firestore._delegate,this._userDataWriter,this._delegate,me._snapshot)));return(0,De.cf)(this._delegate,ge,Qe)}withConverter(ee){return new Dt(this.firestore,this._delegate.withConverter(ee?Kn.getInstance(this.firestore,ee):null))}}class Wt{constructor(ee,ge){this._firestore=ee,this._delegate=ge}get type(){return this._delegate.type}get doc(){return new vt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gt{constructor(ee,ge){this._firestore=ee,this._delegate=ge}get query(){return new Dt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(ee=>new vt(this._firestore,ee))}docChanges(ee){return this._delegate.docChanges(ee).map(ge=>new Wt(this._firestore,ge))}forEach(ee,ge){this._delegate.forEach(Qe=>{ee.call(ge,new vt(this._firestore,Qe))})}isEqual(ee){return(0,De.qK)(this._delegate,ee._delegate)}}class Wn extends Dt{constructor(ee,ge){super(ee,ge),this.firestore=ee,this._delegate=ge}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const ee=this._delegate.parent;return ee?new fr(this.firestore,ee):null}doc(ee){try{return new fr(this.firestore,void 0===ee?(0,De.JU)(this._delegate):(0,De.JU)(this._delegate,ee))}catch(ge){throw qe(ge,"doc()","CollectionReference.doc()")}}add(ee){return(0,De.ET)(this._delegate,ee).then(ge=>new fr(this.firestore,ge))}isEqual(ee){return(0,De.Eo)(this._delegate,ee._delegate)}withConverter(ee){return new Wn(this.firestore,this._delegate.withConverter(ee?Kn.getInstance(this.firestore,ee):null))}}function Tn(Me){return(0,De.Cf)(Me,De.my)}class Vn{constructor(...ee){this._delegate=new De.Lz(...ee)}static documentId(){return new Vn(De.Xb.keyField().canonicalString())}isEqual(ee){return(ee=(0,Fe.m9)(ee))instanceof De.Lz&&this._delegate._internalPath.isEqual(ee._internalPath)}}class sn{constructor(ee){this._delegate=ee}static serverTimestamp(){const ee=(0,De.Bt)();return ee._methodName="FieldValue.serverTimestamp",new sn(ee)}static delete(){const ee=(0,De.AK)();return ee._methodName="FieldValue.delete",new sn(ee)}static arrayUnion(...ee){const ge=(0,De.vr)(...ee);return ge._methodName="FieldValue.arrayUnion",new sn(ge)}static arrayRemove(...ee){const ge=(0,De.Ab)(...ee);return ge._methodName="FieldValue.arrayRemove",new sn(ge)}static increment(ee){const ge=(0,De.nP)(ee);return ge._methodName="FieldValue.increment",new sn(ge)}isEqual(ee){return this._delegate.isEqual(ee._delegate)}}const tr={Firestore:Qt,GeoPoint:De.F8,Timestamp:De.EK,Blob:mt,Transaction:Sn,WriteBatch:ar,DocumentReference:fr,DocumentSnapshot:Je,Query:Dt,QueryDocumentSnapshot:vt,QuerySnapshot:gt,CollectionReference:Wn,FieldPath:Vn,FieldValue:sn,setLogLevel:function yr(Me){(0,De.Ub)(Me)},CACHE_SIZE_UNLIMITED:De.IX};!function vr(Me){(function Zn(Me,ee){Me.INTERNAL.registerComponent(new wt.wA("firestore-compat",ge=>{const Qe=ge.getProvider("app-compat").getImmediate(),me=ge.getProvider("firestore").getImmediate();return ee(Qe,me)},"PUBLIC").setServiceProps(Object.assign({},tr)))})(Me,(ee,ge)=>new Qt(ee,ge,new Ot)),Me.registerVersion("@firebase/firestore-compat","0.3.12")}(Le.Z);var cr=U(8645),Cr=U(3019),ai=U(3093),zr=U(4664),Ar=U(940),Or=U(1374),ui=U(4674);function Gr(Me,ee){return(0,ui.m)(ee)?(0,zr.w)(()=>Me,ee):(0,zr.w)(()=>Me)}var wn=U(5137),an=U(2194);U(120);const Rn=new w.OlP("angularfire2.auth.use-emulator"),qr=new w.OlP("angularfire2.auth.settings"),Un=new w.OlP("angularfire2.auth.tenant-id"),Jn=new w.OlP("angularfire2.auth.langugage-code"),pi=new w.OlP("angularfire2.auth.use-device-language"),$n=new w.OlP("angularfire.auth.persistence"),gi=(Me,ee,ge,Qe,me,_e,ze,Ye)=>(0,Be.cc)(`${Me.name}.auth`,"AngularFireAuth",Me.name,()=>{const Ft=ee.runOutsideAngular(()=>Me.auth());if(ge&&Ft.useEmulator(...ge),Qe&&(Ft.tenantId=Qe),Ft.languageCode=me,_e&&Ft.useDeviceLanguage(),ze)for(const[Mt,Xt]of Object.entries(ze))Ft.settings[Mt]=Xt;return Ye&&Ft.setPersistence(Ye),Ft},[ge,Qe,me,_e,ze,Ye]);let Qn=(()=>{class Me{constructor(ge,Qe,me,_e,ze,Ye,Ft,Mt,Xt,Bt,ir,Fn){const di=new cr.x,Di=(0,m.of)(void 0).pipe((0,ai.Q)(ze.outsideAngular),(0,zr.w)(()=>_e.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8661)))),(0,Se.U)(()=>(0,Be.on)(ge,_e,Qe)),(0,Se.U)(Dr=>gi(Dr,_e,Ye,Mt,Xt,Bt,Ft,ir)),(0,Ar.d)({bufferSize:1,refCount:!1}));if((0,it.PM)(me))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{Di.pipe((0,Or.P)()).subscribe();const ni=Di.pipe((0,zr.w)(Pn=>Pn.getRedirectResult().then(jn=>jn,()=>null)),Ae.iC,(0,Ar.d)({bufferSize:1,refCount:!1})),ps=Di.pipe((0,zr.w)(Pn=>new Y.y(jn=>({unsubscribe:_e.runOutsideAngular(()=>Pn.onAuthStateChanged(ri=>jn.next(ri),ri=>jn.error(ri),()=>jn.complete()))})))),jr=Di.pipe((0,zr.w)(Pn=>new Y.y(jn=>({unsubscribe:_e.runOutsideAngular(()=>Pn.onIdTokenChanged(ri=>jn.next(ri),ri=>jn.error(ri),()=>jn.complete()))}))));this.authState=ni.pipe(Gr(ps),(0,wn.R)(ze.outsideAngular),(0,ai.Q)(ze.insideAngular)),this.user=ni.pipe(Gr(jr),(0,wn.R)(ze.outsideAngular),(0,ai.Q)(ze.insideAngular)),this.idToken=this.user.pipe((0,zr.w)(Pn=>Pn?(0,ue.D)(Pn.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe((0,zr.w)(Pn=>Pn?(0,ue.D)(Pn.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,Cr.T)(ni,di,this.authState.pipe((0,Pe.h)(Pn=>!Pn))).pipe((0,Se.U)(Pn=>Pn?.user?Pn:null),(0,wn.R)(ze.outsideAngular),(0,ai.Q)(ze.insideAngular))}return(0,Be.pX)(this,Di,_e,{spy:{apply:(Dr,ni,ps)=>{(Dr.startsWith("signIn")||Dr.startsWith("createUser"))&&ps.then(jr=>di.next(jr))}}})}}return Me.\u0275fac=function(ge){return new(ge||Me)(w.LFG(Be.Dh),w.LFG(Be.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(Ae.HU),w.LFG(Rn,8),w.LFG(qr,8),w.LFG(Un,8),w.LFG(Jn,8),w.LFG(pi,8),w.LFG($n,8),w.LFG(an.nm,8))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"any"}),Me})();function Hi(Me,ee){return function wi(Me,ee=ie.z){return new Y.y(ge=>{let Qe;return null!=ee?ee.schedule(()=>{Qe=Me.onSnapshot({includeMetadataChanges:!0},ge)}):Qe=Me.onSnapshot({includeMetadataChanges:!0},ge),()=>{Qe?.()}})}(Me,ee)}function Bn(Me,ee){return Hi(Me,ee).pipe((0,Se.U)(ge=>({payload:ge,type:"query"})))}function nt(Me,ee){return Bn(Me,ee).pipe((0,Ie.O)(void 0),(0,pe.G)(),(0,Se.U)(([ge,Qe])=>{const me=Qe.payload.docChanges(),_e=me.map(ze=>({type:ze.type,payload:ze}));return ge&&JSON.stringify(ge.payload.metadata)!==JSON.stringify(Qe.payload.metadata)&&Qe.payload.docs.forEach((ze,Ye)=>{const Ft=me.find(Xt=>Xt.doc.ref.isEqual(ze.ref)),Mt=ge?.payload.docs.find(Xt=>Xt.ref.isEqual(ze.ref));Ft&&JSON.stringify(Ft.doc.metadata)===JSON.stringify(ze.metadata)||!Ft&&Mt&&JSON.stringify(Mt.metadata)===JSON.stringify(ze.metadata)||_e.push({type:"modified",payload:{oldIndex:Ye,newIndex:Ye,type:"modified",doc:ze}})}),_e}))}function Re(Me,ee,ge){return nt(Me,ge).pipe((0,re.R)((Qe,me)=>function It(Me,ee,ge){return ee.forEach(Qe=>{ge.indexOf(Qe.type)>-1&&(Me=function cn(Me,ee){switch(ee.type){case"added":if(!Me[ee.newIndex]||!Me[ee.newIndex].doc.ref.isEqual(ee.doc.ref))return kt(Me,ee.newIndex,0,ee);break;case"modified":if(null==Me[ee.oldIndex]||Me[ee.oldIndex].doc.ref.isEqual(ee.doc.ref)){if(ee.oldIndex!==ee.newIndex){const ge=Me.slice();return ge.splice(ee.oldIndex,1),ge.splice(ee.newIndex,0,ee),ge}return kt(Me,ee.newIndex,1,ee)}break;case"removed":if(Me[ee.oldIndex]&&Me[ee.oldIndex].doc.ref.isEqual(ee.doc.ref))return kt(Me,ee.oldIndex,1)}return Me}(Me,Qe))}),Me}(Qe,me.map(_e=>_e.payload),ee),[]),(0,ye.x)(),(0,Se.U)(Qe=>Qe.map(me=>({type:me.type,payload:me}))))}function kt(Me,ee,ge,...Qe){const me=Me.slice();return me.splice(ee,ge,...Qe),me}function In(Me){return(!Me||0===Me.length)&&(Me=["added","removed","modified"]),Me}class pr{constructor(ee,ge,Qe){this.ref=ee,this.query=ge,this.afs=Qe}stateChanges(ee){let ge=nt(this.query,this.afs.schedulers.outsideAngular);return ee&&ee.length>0&&(ge=ge.pipe((0,Se.U)(Qe=>Qe.filter(me=>ee.indexOf(me.type)>-1)))),ge.pipe((0,Ie.O)(void 0),(0,pe.G)(),(0,Pe.h)(([Qe,me])=>me.length>0||!Qe),(0,Se.U)(([Qe,me])=>me),Ae.iC)}auditTrail(ee){return this.stateChanges(ee).pipe((0,re.R)((ge,Qe)=>[...ge,...Qe],[]))}snapshotChanges(ee){const ge=In(ee);return Re(this.query,ge,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(ee={}){return Bn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(ge=>ge.payload.docs.map(Qe=>ee.idField?Object.assign(Object.assign({},Qe.data()),{[ee.idField]:Qe.id}):Qe.data())),Ae.iC)}get(ee){return(0,ue.D)(this.query.get(ee)).pipe(Ae.iC)}add(ee){return this.ref.add(ee)}doc(ee){return new be(this.ref.doc(ee),this.afs)}}class be{constructor(ee,ge){this.ref=ee,this.afs=ge}set(ee,ge){return this.ref.set(ee,ge)}update(ee){return this.ref.update(ee)}delete(){return this.ref.delete()}collection(ee,ge){const Qe=this.ref.collection(ee),{ref:me,query:_e}=ke(Qe,ge);return new pr(me,_e,this.afs)}snapshotChanges(){return function ur(Me,ee){return Hi(Me,ee).pipe((0,Ie.O)(void 0),(0,pe.G)(),(0,Se.U)(([ge,Qe])=>Qe.exists?ge?.exists?{payload:Qe,type:"modified"}:{payload:Qe,type:"added"}:{payload:Qe,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(ee={}){return this.snapshotChanges().pipe((0,Se.U)(({payload:ge})=>ee.idField?Object.assign(Object.assign({},ge.data()),{[ee.idField]:ge.id}):ge.data()))}get(ee){return(0,ue.D)(this.ref.get(ee)).pipe(Ae.iC)}}class ne{constructor(ee,ge){this.query=ee,this.afs=ge}stateChanges(ee){return ee&&0!==ee.length?nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(ge=>ge.filter(Qe=>ee.indexOf(Qe.type)>-1)),(0,Pe.h)(ge=>ge.length>0),Ae.iC):nt(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}auditTrail(ee){return this.stateChanges(ee).pipe((0,re.R)((ge,Qe)=>[...ge,...Qe],[]))}snapshotChanges(ee){const ge=In(ee);return Re(this.query,ge,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(ee={}){return Bn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(Qe=>Qe.payload.docs.map(me=>ee.idField?Object.assign({[ee.idField]:me.id},me.data()):me.data())),Ae.iC)}get(ee){return(0,ue.D)(this.query.get(ee)).pipe(Ae.iC)}}const G=new w.OlP("angularfire2.enableFirestorePersistence"),K=new w.OlP("angularfire2.firestore.persistenceSettings"),H=new w.OlP("angularfire2.firestore.settings"),de=new w.OlP("angularfire2.firestore.use-emulator");function ke(Me,ee=(ge=>ge)){return{query:ee(Me),ref:Me}}let lt=(()=>{class Me{constructor(ge,Qe,me,_e,ze,Ye,Ft,Mt,Xt,Bt,ir,Fn,di,Di,Dr,ni,ps){this.schedulers=Ft;const jr=(0,Be.on)(ge,Ye,Qe),Pn=Xt;Bt&&gi(jr,Ye,ir,di,Di,Dr,Fn,ni),[this.firestore,this.persistenceEnabled$]=(0,Be.cc)(`${jr.name}.firestore`,"AngularFirestore",jr.name,()=>{const jn=Ye.runOutsideAngular(()=>jr.firestore());if(_e&&jn.settings(_e),Pn&&jn.useEmulator(...Pn),me&&!(0,it.PM)(ze)){const ri=()=>{try{return(0,ue.D)(jn.enablePersistence(Mt||void 0).then(()=>!0,()=>!1))}catch(bs){return typeof console<"u"&&console.warn(bs),(0,m.of)(!1)}};return[jn,Ye.runOutsideAngular(ri)]}return[jn,(0,m.of)(!1)]},[_e,Pn,me])}collection(ge,Qe){let me;me="string"==typeof ge?this.firestore.collection(ge):ge;const{ref:_e,query:ze}=ke(me,Qe),Ye=this.schedulers.ngZone.run(()=>_e);return new pr(Ye,ze,this)}collectionGroup(ge,Qe){const me=Qe||(ze=>ze),_e=this.firestore.collectionGroup(ge);return new ne(me(_e),this)}doc(ge){let Qe;Qe="string"==typeof ge?this.firestore.doc(ge):ge;const me=this.schedulers.ngZone.run(()=>Qe);return new be(me,this)}createId(){return this.firestore.collection("_").doc().id}}return Me.\u0275fac=function(ge){return new(ge||Me)(w.LFG(Be.Dh),w.LFG(Be.xv,8),w.LFG(G,8),w.LFG(H,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(Ae.HU),w.LFG(K,8),w.LFG(de,8),w.LFG(Qn,8),w.LFG(Rn,8),w.LFG(qr,8),w.LFG(Un,8),w.LFG(Jn,8),w.LFG(pi,8),w.LFG($n,8),w.LFG(an.nm,8))},Me.\u0275prov=w.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"any"}),Me})()},6304:(Gt,$e,U)=>{U.d($e,{Dh:()=>pe,GT:()=>Ae,cc:()=>it,hO:()=>Be,on:()=>re,pX:()=>m,xv:()=>Se});var w=U(5879),ie=U(120),Y=U(2793);Gt=U.hmd(Gt);const ue=["ngOnDestroy"],m=(Fe,wt,yt,xe={})=>new Proxy(Fe,{get:(pt,Ke)=>yt.runOutsideAngular(()=>{var ut;if(Fe[Ke])return!(null===(ut=xe?.spy)||void 0===ut)&&ut.get&&xe.spy.get(Ke,Fe[Ke]),Fe[Ke];if(ue.indexOf(Ke)>-1)return()=>{};const mt=wt.toPromise().then(Ee=>{const dt=Ee&&Ee[Ke];return"function"==typeof dt?dt.bind(Ee):dt&&dt.then?dt.then(Ot=>yt.run(()=>Ot)):yt.run(()=>dt)});return new Proxy(()=>{},{get:(Ee,dt)=>mt[dt],apply:(Ee,dt,Ot)=>mt.then(Qt=>{var _n;const yr=Qt&&Qt(...Ot);return!(null===(_n=xe?.spy)||void 0===_n)&&_n.apply&&xe.spy.apply(Ke,Ot,yr),yr})})})}),Ae=(Fe,wt)=>{wt.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(xe=>{Object.defineProperty(Fe.prototype,xe,Object.getOwnPropertyDescriptor(yt.prototype||yt,xe))})})};class Ie{constructor(wt){return wt}}const pe=new w.OlP("angularfire2.app.options"),Se=new w.OlP("angularfire2.app.name");function re(Fe,wt,yt){const pt="object"==typeof yt&&yt||{};pt.name=pt.name||"string"==typeof yt&&yt||"[DEFAULT]";const ut=ie.Z.apps.filter(mt=>mt&&mt.name===pt.name)[0]||wt.runOutsideAngular(()=>ie.Z.initializeApp(Fe,pt));try{JSON.stringify(Fe)!==JSON.stringify(ut.options)&&ye("error",`${ut.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(ut)}const ye=(Fe,...wt)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Fe](...wt)},Pe={provide:Ie,useFactory:re,deps:[pe,w.R0b,[new w.FiY,Se]]};let Be=(()=>{class Fe{constructor(yt){ie.Z.registerVersion("angularfire",Y.q4.full,"core"),ie.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),ie.Z.registerVersion("angular",w.q4F.full,yt.toString())}static initializeApp(yt,xe){return{ngModule:Fe,providers:[{provide:pe,useValue:yt},{provide:Se,useValue:xe}]}}}return Fe.\u0275fac=function(yt){return new(yt||Fe)(w.LFG(w.Lbi))},Fe.\u0275mod=w.oAB({type:Fe}),Fe.\u0275inj=w.cJS({providers:[Pe]}),Fe})();function it(Fe,wt,yt,xe,pt){const[,Ke,ut]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===Fe)||[];if(Ke)return function Pt(Fe,wt){try{return Fe.toString()===wt.toString()}catch{return Fe===wt}}(pt,ut)||(De("error",`${wt} was already initialized on the ${yt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:pt,was:ut})),Ke;{const mt=xe();return globalThis.\u0275AngularfireInstanceCache.push([Fe,mt,pt]),mt}}const Le=!!Gt.hot,De=(Fe,...wt)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Fe](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(Gt,$e,U)=>{U.d($e,{q4:()=>Xa,iC:()=>Ni,HU:()=>$s,vb:()=>nh,JM:()=>Kc,u3:()=>Xu});var w=U(5879),ie=U(4097),Y=U(5861),ue=U(4303),m=U(9058),Ae=U(4537),Ie=U(7879);const pe=(R,F)=>F.some(Q=>R instanceof Q);let Se,re;const Be=new WeakMap,it=new WeakMap,Pt=new WeakMap,Le=new WeakMap,De=new WeakMap;let yt={get(R,F,Q){if(R instanceof IDBTransaction){if("done"===F)return it.get(R);if("objectStoreNames"===F)return R.objectStoreNames||Pt.get(R);if("store"===F)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return ut(R[F])},set:(R,F,Q)=>(R[F]=Q,!0),has:(R,F)=>R instanceof IDBTransaction&&("done"===F||"store"===F)||F in R};function Ke(R){return"function"==typeof R?function pt(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...F){return R.apply(mt(this),F),ut(Be.get(this))}:function(...F){return ut(R.apply(mt(this),F))}:function(F,...Q){const he=R.call(mt(this),F,...Q);return Pt.set(he,F.sort?F.sort():[F]),ut(he)}}(R):(R instanceof IDBTransaction&&function wt(R){if(it.has(R))return;const F=new Promise((Q,he)=>{const Te=()=>{R.removeEventListener("complete",We),R.removeEventListener("error",Et),R.removeEventListener("abort",Et)},We=()=>{Q(),Te()},Et=()=>{he(R.error||new DOMException("AbortError","AbortError")),Te()};R.addEventListener("complete",We),R.addEventListener("error",Et),R.addEventListener("abort",Et)});it.set(R,F)}(R),pe(R,function ye(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,yt):R)}function ut(R){if(R instanceof IDBRequest)return function Fe(R){const F=new Promise((Q,he)=>{const Te=()=>{R.removeEventListener("success",We),R.removeEventListener("error",Et)},We=()=>{Q(ut(R.result)),Te()},Et=()=>{he(R.error),Te()};R.addEventListener("success",We),R.addEventListener("error",Et)});return F.then(Q=>{Q instanceof IDBCursor&&Be.set(Q,R)}).catch(()=>{}),De.set(F,R),F}(R);if(Le.has(R))return Le.get(R);const F=Ke(R);return F!==R&&(Le.set(R,F),De.set(F,R)),F}const mt=R=>De.get(R),Ot=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],_n=new Map;function yr(R,F){if(!(R instanceof IDBDatabase)||F in R||"string"!=typeof F)return;if(_n.get(F))return _n.get(F);const Q=F.replace(/FromIndex$/,""),he=F!==Q,Te=Qt.includes(Q);if(!(Q in(he?IDBIndex:IDBObjectStore).prototype)||!Te&&!Ot.includes(Q))return;const We=function(){var Et=(0,Y.Z)(function*(ln,...un){const xn=this.transaction(ln,Te?"readwrite":"readonly");let hr=xn.store;return he&&(hr=hr.index(un.shift())),(yield Promise.all([hr[Q](...un),Te&&xn.done]))[0]});return function(un){return Et.apply(this,arguments)}}();return _n.set(F,We),We}!function xe(R){yt=R(yt)}(R=>({...R,get:(F,Q,he)=>yr(F,Q)||R.get(F,Q,he),has:(F,Q)=>!!yr(F,Q)||R.has(F,Q)}));const Sn="@firebase/installations",ar="0.6.4",Kn=1e4,fr=`w:${ar}`,qe="FIS_v2",at="https://firebaseinstallations.googleapis.com/v1",ct=36e5,Wt=new m.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(R){return R instanceof m.ZR&&R.code.includes("request-failed")}function Wn({projectId:R}){return`${at}/projects/${R}/installations`}function Tn(R){return{token:R.token,requestStatus:2,expiresIn:Cr(R.expiresIn),creationTime:Date.now()}}function Vn(R,F){return sn.apply(this,arguments)}function sn(){return(sn=(0,Y.Z)(function*(R,F){const he=(yield F.json()).error;return Wt.create("request-failed",{requestName:R,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function tr({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function vr(R){return cr.apply(this,arguments)}function cr(){return(cr=(0,Y.Z)(function*(R){const F=yield R();return F.status>=500&&F.status<600?R():F})).apply(this,arguments)}function Cr(R){return Number(R.replace("s","000"))}function Ar(){return(Ar=(0,Y.Z)(function*({appConfig:R,heartbeatServiceProvider:F},{fid:Q}){const he=Wn(R),Te=tr(R),We=F.getImmediate({optional:!0});if(We){const xn=yield We.getHeartbeatsHeader();xn&&Te.append("x-firebase-client",xn)}const ln={method:"POST",headers:Te,body:JSON.stringify({fid:Q,authVersion:qe,appId:R.appId,sdkVersion:fr})},un=yield vr(()=>fetch(he,ln));if(un.ok){const xn=yield un.json();return{fid:xn.fid||Q,registrationStatus:2,refreshToken:xn.refreshToken,authToken:Tn(xn.authToken)}}throw yield Vn("Create Installation",un)})).apply(this,arguments)}function Or(R){return new Promise(F=>{setTimeout(F,R)})}const Gr=/^[cdef][\w-]{21}$/,wn="";function an(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const Q=function An(R){return function ui(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Gr.test(Q)?Q:wn}catch{return wn}}function kn(R){return`${R.appName}!${R.appId}`}const Rn=new Map;function qr(R,F){const Q=kn(R);pi(Q,F),function $n(R,F){const Q=function Qn(){return!gi&&"BroadcastChannel"in self&&(gi=new BroadcastChannel("[Firebase] FID Change"),gi.onmessage=R=>{pi(R.data.key,R.data.fid)}),gi}();Q&&Q.postMessage({key:R,fid:F}),function dr(){0===Rn.size&&gi&&(gi.close(),gi=null)}()}(Q,F)}function pi(R,F){const Q=Rn.get(R);if(Q)for(const he of Q)he(F)}let gi=null;const wi="firebase-installations-database",Hi=1,ur="firebase-installations-store";let Bn=null;function nt(){return Bn||(Bn=function Ee(R,F,{blocked:Q,upgrade:he,blocking:Te,terminated:We}={}){const Et=indexedDB.open(R,F),ln=ut(Et);return he&&Et.addEventListener("upgradeneeded",un=>{he(ut(Et.result),un.oldVersion,un.newVersion,ut(Et.transaction))}),Q&&Et.addEventListener("blocked",()=>Q()),ln.then(un=>{We&&un.addEventListener("close",()=>We()),Te&&un.addEventListener("versionchange",()=>Te())}).catch(()=>{}),ln}(wi,Hi,{upgrade:(R,F)=>{0===F&&R.createObjectStore(ur)}})),Bn}function Re(R,F){return It.apply(this,arguments)}function It(){return(It=(0,Y.Z)(function*(R,F){const Q=kn(R),Te=(yield nt()).transaction(ur,"readwrite"),We=Te.objectStore(ur),Et=yield We.get(Q);return yield We.put(F,Q),yield Te.done,(!Et||Et.fid!==F.fid)&&qr(R,F.fid),F})).apply(this,arguments)}function kt(R){return cn.apply(this,arguments)}function cn(){return(cn=(0,Y.Z)(function*(R){const F=kn(R),he=(yield nt()).transaction(ur,"readwrite");yield he.objectStore(ur).delete(F),yield he.done})).apply(this,arguments)}function In(R,F){return pr.apply(this,arguments)}function pr(){return(pr=(0,Y.Z)(function*(R,F){const Q=kn(R),Te=(yield nt()).transaction(ur,"readwrite"),We=Te.objectStore(ur),Et=yield We.get(Q),ln=F(Et);return void 0===ln?yield We.delete(Q):yield We.put(ln,Q),yield Te.done,ln&&(!Et||Et.fid!==ln.fid)&&qr(R,ln.fid),ln})).apply(this,arguments)}function be(R){return ne.apply(this,arguments)}function ne(){return ne=(0,Y.Z)(function*(R){let F;const Q=yield In(R.appConfig,he=>{const Te=function G(R){return Me(R||{fid:an(),registrationStatus:0})}(he),We=function K(R,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Wt.create("app-offline"))};const Q={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},he=function H(R,F){return de.apply(this,arguments)}(R,Q);return{installationEntry:Q,registrationPromise:he}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:ke(R)}:{installationEntry:F}}(R,Te);return F=We.registrationPromise,We.installationEntry});return Q.fid===wn?{installationEntry:yield F}:{installationEntry:Q,registrationPromise:F}}),ne.apply(this,arguments)}function de(){return de=(0,Y.Z)(function*(R,F){try{const Q=yield function zr(R,F){return Ar.apply(this,arguments)}(R,F);return Re(R.appConfig,Q)}catch(Q){throw gt(Q)&&409===Q.customData.serverCode?yield kt(R.appConfig):yield Re(R.appConfig,{fid:F.fid,registrationStatus:0}),Q}}),de.apply(this,arguments)}function ke(R){return lt.apply(this,arguments)}function lt(){return(lt=(0,Y.Z)(function*(R){let F=yield qt(R.appConfig);for(;1===F.registrationStatus;)yield Or(100),F=yield qt(R.appConfig);if(0===F.registrationStatus){const{installationEntry:Q,registrationPromise:he}=yield be(R);return he||Q}return F})).apply(this,arguments)}function qt(R){return In(R,F=>{if(!F)throw Wt.create("installation-not-found");return Me(F)})}function Me(R){return function ee(R){return 1===R.registrationStatus&&R.registrationTime+Kn<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Qe(){return(Qe=(0,Y.Z)(function*({appConfig:R,heartbeatServiceProvider:F},Q){const he=function me(R,{fid:F}){return`${Wn(R)}/${F}/authTokens:generate`}(R,Q),Te=function Zn(R,{refreshToken:F}){const Q=tr(R);return Q.append("Authorization",function ai(R){return`${qe} ${R}`}(F)),Q}(R,Q),We=F.getImmediate({optional:!0});if(We){const xn=yield We.getHeartbeatsHeader();xn&&Te.append("x-firebase-client",xn)}const ln={method:"POST",headers:Te,body:JSON.stringify({installation:{sdkVersion:fr,appId:R.appId}})},un=yield vr(()=>fetch(he,ln));if(un.ok)return Tn(yield un.json());throw yield Vn("Generate Auth Token",un)})).apply(this,arguments)}function _e(R){return ze.apply(this,arguments)}function ze(){return ze=(0,Y.Z)(function*(R,F=!1){let Q;const he=yield In(R.appConfig,We=>{if(!ir(We))throw Wt.create("not-registered");const Et=We.authToken;if(!F&&function Fn(R){return 2===R.requestStatus&&!function di(R){const F=Date.now();return F<R.creationTime||R.creationTime+R.expiresIn<F+ct}(R)}(Et))return We;if(1===Et.requestStatus)return Q=function Ye(R,F){return Ft.apply(this,arguments)}(R,F),We;{if(!navigator.onLine)throw Wt.create("app-offline");const ln=function Di(R){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:F})}(We);return Q=function Xt(R,F){return Bt.apply(this,arguments)}(R,ln),ln}});return Q?yield Q:he.authToken}),ze.apply(this,arguments)}function Ft(){return(Ft=(0,Y.Z)(function*(R,F){let Q=yield Mt(R.appConfig);for(;1===Q.authToken.requestStatus;)yield Or(100),Q=yield Mt(R.appConfig);const he=Q.authToken;return 0===he.requestStatus?_e(R,F):he})).apply(this,arguments)}function Mt(R){return In(R,F=>{if(!ir(F))throw Wt.create("not-registered");return function Dr(R){return 1===R.requestStatus&&R.requestTime+Kn<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Bt(){return Bt=(0,Y.Z)(function*(R,F){try{const Q=yield function ge(R,F){return Qe.apply(this,arguments)}(R,F),he=Object.assign(Object.assign({},F),{authToken:Q});return yield Re(R.appConfig,he),Q}catch(Q){if(!gt(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const he=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Re(R.appConfig,he)}else yield kt(R.appConfig);throw Q}}),Bt.apply(this,arguments)}function ir(R){return void 0!==R&&2===R.registrationStatus}function ps(){return(ps=(0,Y.Z)(function*(R){const F=R,{installationEntry:Q,registrationPromise:he}=yield be(F);return he?he.catch(console.error):_e(F).catch(console.error),Q.fid})).apply(this,arguments)}function Pn(){return Pn=(0,Y.Z)(function*(R,F=!1){const Q=R;return yield function jn(R){return ri.apply(this,arguments)}(Q),(yield _e(Q,F)).token}),Pn.apply(this,arguments)}function ri(){return(ri=(0,Y.Z)(function*(R){const{registrationPromise:F}=yield be(R);F&&(yield F)})).apply(this,arguments)}function Ve(R){return Wt.create("missing-app-config-values",{valueName:R})}const tt="installations",Kt=R=>{const F=R.getProvider("app").getImmediate(),Q=function je(R){if(!R||!R.options)throw Ve("App Configuration");if(!R.name)throw Ve("App Name");const F=["projectId","apiKey","appId"];for(const Q of F)if(!R.options[Q])throw Ve(Q);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(F);return{app:F,appConfig:Q,heartbeatServiceProvider:(0,ue.qX)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Hn=R=>{const F=R.getProvider("app").getImmediate(),Q=(0,ue.qX)(F,tt).getImmediate();return{getId:()=>function ni(R){return ps.apply(this,arguments)}(Q),getToken:Te=>function jr(R){return Pn.apply(this,arguments)}(Q,Te)}};(function gr(){(0,ue.Xd)(new Ae.wA(tt,Kt,"PUBLIC")),(0,ue.Xd)(new Ae.wA("installations-internal",Hn,"PRIVATE"))})(),(0,ue.KN)(Sn,ar),(0,ue.KN)(Sn,ar,"esm2017");const Er="@firebase/remote-config",$i=new m.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sr{constructor(F,Q,he,Te){this.client=F,this.storage=Q,this.storageCache=he,this.logger=Te}isCachedDataFresh(F,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Q,Te=he<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Te}.`),Te}fetch(F){var Q=this;return(0,Y.Z)(function*(){const[he,Te]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(Te&&Q.isCachedDataFresh(F.cacheMaxAgeMillis,he))return Te;F.eTag=Te&&Te.eTag;const We=yield Q.client.fetch(F),Et=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&Et.push(Q.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(Et),We})()}}function Jr(R=navigator){return R.languages&&R.languages[0]||R.language}class Fs{constructor(F,Q,he,Te,We,Et){this.firebaseInstallations=F,this.sdkVersion=Q,this.namespace=he,this.projectId=Te,this.apiKey=We,this.appId=Et}fetch(F){var Q=this;return(0,Y.Z)(function*(){const[he,Te]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},un={sdk_version:Q.sdkVersion,app_instance_id:he,app_instance_id_token:Te,app_id:Q.appId,language_code:Jr()},xn={method:"POST",headers:ln,body:JSON.stringify(un)},hr=fetch(Et,xn),Yn=new Promise((Wo,hs)=>{F.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",hs(dc)})});let zs;try{yield Promise.race([hr,Yn]),zs=yield hr}catch(Wo){let hs="fetch-client-network";throw"AbortError"===Wo?.name&&(hs="fetch-timeout"),$i.create(hs,{originalErrorMessage:Wo?.message})}let Gs=zs.status;const Gi=zs.headers.get("ETag")||void 0;let Id,da;if(200===zs.status){let Wo;try{Wo=yield zs.json()}catch(hs){throw $i.create("fetch-client-parse",{originalErrorMessage:hs?.message})}Id=Wo.entries,da=Wo.state}if("INSTANCE_STATE_UNSPECIFIED"===da?Gs=500:"NO_CHANGE"===da?Gs=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(Id={}),304!==Gs&&200!==Gs)throw $i.create("fetch-status",{httpStatus:Gs});return{status:Gs,eTag:Gi,config:Id}})()}}class _o{constructor(F,Q){this.client=F,this.storage=Q}fetch(F){var Q=this;return(0,Y.Z)(function*(){const he=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(F,he)})()}attemptFetch(F,{throttleEndTimeMillis:Q,backoffCount:he}){var Te=this;return(0,Y.Z)(function*(){yield function ta(R,F){return new Promise((Q,he)=>{const Te=Math.max(F-Date.now(),0),We=setTimeout(Q,Te);R.addEventListener(()=>{clearTimeout(We),he($i.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,Q);try{const We=yield Te.client.fetch(F);return yield Te.storage.deleteThrottleMetadata(),We}catch(We){if(!function gs(R){if(!(R instanceof m.ZR&&R.customData))return!1;const F=Number(R.customData.httpStatus);return 429===F||500===F||503===F||504===F}(We))throw We;const Et={throttleEndTimeMillis:Date.now()+(0,m.$s)(he),backoffCount:he+1};return yield Te.storage.setThrottleMetadata(Et),Te.attemptFetch(F,Et)}})()}}class ma{constructor(F,Q,he,Te,We){this.app=F,this._client=Q,this._storageCache=he,this._storage=Te,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mn(R,F){const Q=R.target.error||void 0;return $i.create(F,{originalErrorMessage:Q&&Q?.message})}const Vs="app_namespace_store";class _a{constructor(F,Q,he,Te=function us(){return new Promise((R,F)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=he=>{F(Mn(he,"storage-open"))},Q.onsuccess=he=>{R(he.target.result)},Q.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(Vs,{keyPath:"compositeKey"})}}catch(Q){F($i.create("storage-open",{originalErrorMessage:Q?.message}))}})}()){this.appId=F,this.appName=Q,this.namespace=he,this.openDbPromise=Te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var Q=this;return(0,Y.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((Te,We)=>{const ln=he.transaction([Vs],"readonly").objectStore(Vs),un=Q.createCompositeKey(F);try{const xn=ln.get(un);xn.onerror=hr=>{We(Mn(hr,"storage-get"))},xn.onsuccess=hr=>{const Yn=hr.target.result;Te(Yn?Yn.value:void 0)}}catch(xn){We($i.create("storage-get",{originalErrorMessage:xn?.message}))}})})()}set(F,Q){var he=this;return(0,Y.Z)(function*(){const Te=yield he.openDbPromise;return new Promise((We,Et)=>{const un=Te.transaction([Vs],"readwrite").objectStore(Vs),xn=he.createCompositeKey(F);try{const hr=un.put({compositeKey:xn,value:Q});hr.onerror=Yn=>{Et(Mn(Yn,"storage-set"))},hr.onsuccess=()=>{We()}}catch(hr){Et($i.create("storage-set",{originalErrorMessage:hr?.message}))}})})()}delete(F){var Q=this;return(0,Y.Z)(function*(){const he=yield Q.openDbPromise;return new Promise((Te,We)=>{const ln=he.transaction([Vs],"readwrite").objectStore(Vs),un=Q.createCompositeKey(F);try{const xn=ln.delete(un);xn.onerror=hr=>{We(Mn(hr,"storage-delete"))},xn.onsuccess=()=>{Te()}}catch(xn){We($i.create("storage-delete",{originalErrorMessage:xn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class to{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,Y.Z)(function*(){const Q=F.storage.getLastFetchStatus(),he=F.storage.getLastSuccessfulFetchTimestampMillis(),Te=F.storage.getActiveConfig(),We=yield Q;We&&(F.lastFetchStatus=We);const Et=yield he;Et&&(F.lastSuccessfulFetchTimestampMillis=Et);const ln=yield Te;ln&&(F.activeConfig=ln)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function va(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,Y.Z)(function*(){if(!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}!function ls(){(0,ue.Xd)(new Ae.wA("remote-config",function R(F,{instanceIdentifier:Q}){const he=F.getProvider("app").getImmediate(),Te=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $i.create("registration-window");if(!(0,m.hl)())throw $i.create("indexed-db-unavailable");const{projectId:We,apiKey:Et,appId:ln}=he.options;if(!We)throw $i.create("registration-project-id");if(!Et)throw $i.create("registration-api-key");if(!ln)throw $i.create("registration-app-id");const un=new _a(ln,he.name,Q=Q||"firebase"),xn=new to(un),hr=new Ie.Yd(Er);hr.logLevel=Ie.in.ERROR;const Yn=new Fs(Te,ue.Jn,Q,We,Et,ln),zs=new _o(Yn,un),Gs=new sr(zs,un,xn,hr),Gi=new ma(he,Gs,xn,un,hr);return function ns(R){const F=(0,m.m9)(R);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Gi),Gi},"PUBLIC").setMultipleInstances(!0)),(0,ue.KN)(Er,"0.4.4"),(0,ue.KN)(Er,"0.4.4","esm2017")}();const kl=(R,F)=>F.some(Q=>R instanceof Q);let no,Rr;const xi=new WeakMap,Qi=new WeakMap,Oi=new WeakMap,Ea=new WeakMap,wa=new WeakMap;let Fi={get(R,F,Q){if(R instanceof IDBTransaction){if("done"===F)return Qi.get(R);if("objectStoreNames"===F)return R.objectStoreNames||Oi.get(R);if("store"===F)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return As(R[F])},set:(R,F,Q)=>(R[F]=Q,!0),has:(R,F)=>R instanceof IDBTransaction&&("done"===F||"store"===F)||F in R};function Ds(R){return"function"==typeof R?function Fl(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fu(){return Rr||(Rr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...F){return R.apply(Ss(this),F),As(xi.get(this))}:function(...F){return As(R.apply(Ss(this),F))}:function(F,...Q){const he=R.call(Ss(this),F,...Q);return Oi.set(he,F.sort?F.sort():[F]),As(he)}}(R):(R instanceof IDBTransaction&&function fu(R){if(Qi.has(R))return;const F=new Promise((Q,he)=>{const Te=()=>{R.removeEventListener("complete",We),R.removeEventListener("error",Et),R.removeEventListener("abort",Et)},We=()=>{Q(),Te()},Et=()=>{he(R.error||new DOMException("AbortError","AbortError")),Te()};R.addEventListener("complete",We),R.addEventListener("error",Et),R.addEventListener("abort",Et)});Qi.set(R,F)}(R),kl(R,function Ll(){return no||(no=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,Fi):R)}function As(R){if(R instanceof IDBRequest)return function Li(R){const F=new Promise((Q,he)=>{const Te=()=>{R.removeEventListener("success",We),R.removeEventListener("error",Et)},We=()=>{Q(As(R.result)),Te()},Et=()=>{he(R.error),Te()};R.addEventListener("success",We),R.addEventListener("error",Et)});return F.then(Q=>{Q instanceof IDBCursor&&xi.set(Q,R)}).catch(()=>{}),wa.set(F,R),F}(R);if(Ea.has(R))return Ea.get(R);const F=Ds(R);return F!==R&&(Ea.set(R,F),wa.set(F,R)),F}const Ss=R=>wa.get(R);function Ua(R,F,{blocked:Q,upgrade:he,blocking:Te,terminated:We}={}){const Et=indexedDB.open(R,F),ln=As(Et);return he&&Et.addEventListener("upgradeneeded",un=>{he(As(Et.result),un.oldVersion,un.newVersion,As(Et.transaction))}),Q&&Et.addEventListener("blocked",()=>Q()),ln.then(un=>{We&&un.addEventListener("close",()=>We()),Te&&un.addEventListener("versionchange",()=>Te())}).catch(()=>{}),ln}function Oo(R,{blocked:F}={}){const Q=indexedDB.deleteDatabase(R);return F&&Q.addEventListener("blocked",()=>F()),As(Q).then(()=>{})}const pu=["get","getKey","getAll","getAllKeys","count"],dl=["put","add","delete","clear"],Xl=new Map;function yo(R,F){if(!(R instanceof IDBDatabase)||F in R||"string"!=typeof F)return;if(Xl.get(F))return Xl.get(F);const Q=F.replace(/FromIndex$/,""),he=F!==Q,Te=dl.includes(Q);if(!(Q in(he?IDBIndex:IDBObjectStore).prototype)||!Te&&!pu.includes(Q))return;const We=function(){var Et=(0,Y.Z)(function*(ln,...un){const xn=this.transaction(ln,Te?"readwrite":"readonly");let hr=xn.store;return he&&(hr=hr.index(un.shift())),(yield Promise.all([hr[Q](...un),Te&&xn.done]))[0]});return function(un){return Et.apply(this,arguments)}}();return Xl.set(F,We),We}!function Pr(R){Fi=R(Fi)}(R=>({...R,get:(F,Q,he)=>yo(F,Q)||R.get(F,Q,he),has:(F,Q)=>!!yo(F,Q)||R.has(F,Q)}));const ec="/firebase-messaging-sw.js",tc="/firebase-cloud-messaging-push-scope",Bc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_d="https://fcmregistrations.googleapis.com/v1",Ti="google.c.a.c_id",jc="google.c.a.c_l",nc="google.c.a.ts";var Vu=function(R){return R.PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",R}(Vu||{});function No(R){const F=new Uint8Array(R);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hc(R){const Q=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Q),Te=new Uint8Array(he.length);for(let We=0;We<he.length;++We)Te[We]=he.charCodeAt(We);return Te}const na="fcm_token_details_db",gu=5,yd="fcm_token_object_Store";function hl(){return hl=(0,Y.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(We=>We.name).includes(na))return null;let F=null;return(yield Ua(na,gu,{upgrade:(he=(0,Y.Z)(function*(Te,We,Et,ln){var un;if(We<2||!Te.objectStoreNames.contains(yd))return;const xn=ln.objectStore(yd),hr=yield xn.index("fcmSenderId").get(R);if(yield xn.clear(),hr)if(2===We){const Yn=hr;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;F={token:Yn.fcmToken,createTime:null!==(un=Yn.createTime)&&void 0!==un?un:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:No(Yn.vapidKey)}}}else if(3===We){const Yn=hr;F={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:No(Yn.auth),p256dh:No(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:No(Yn.vapidKey)}}}else if(4===We){const Yn=hr;F={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:No(Yn.auth),p256dh:No(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:No(Yn.vapidKey)}}}}),function(We,Et,ln,un){return he.apply(this,arguments)})})).close(),yield Oo(na),yield Oo("fcm_vapid_details_db"),yield Oo("undefined"),function ko(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:F}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var he}),hl.apply(this,arguments)}const Lo="firebase-messaging-database",ja=1,Us="firebase-messaging-store";let ii=null;function mu(){return ii||(ii=Ua(Lo,ja,{upgrade:(R,F)=>{0===F&&R.createObjectStore(Us)}})),ii}function xs(R){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,Y.Z)(function*(R){const F=fl(R),he=yield(yield mu()).transaction(Us).objectStore(Us).get(F);if(he)return he;{const Te=yield function rc(R){return hl.apply(this,arguments)}(R.appConfig.senderId);if(Te)return yield Uu(R,Te),Te}}),Ha.apply(this,arguments)}function Uu(R,F){return $a.apply(this,arguments)}function $a(){return($a=(0,Y.Z)(function*(R,F){const Q=fl(R),Te=(yield mu()).transaction(Us,"readwrite");return yield Te.objectStore(Us).put(F,Q),yield Te.done,F})).apply(this,arguments)}function Fo(){return(Fo=(0,Y.Z)(function*(R){const F=fl(R),he=(yield mu()).transaction(Us,"readwrite");yield he.objectStore(Us).delete(F),yield he.done})).apply(this,arguments)}function fl({appConfig:R}){return R.appId}const Yi=new m.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vo(R,F){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,Y.Z)(function*(R,F){const Q=yield Bu(R),he=Ga(F),Te={method:"POST",headers:Q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(Vl(R.appConfig),Te)).json()}catch(Et){throw Yi.create("token-subscribe-failed",{errorInfo:Et?.toString()})}if(We.error)throw Yi.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw Yi.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function _u(){return(_u=(0,Y.Z)(function*(R,F){const Q=yield Bu(R),he=Ga(F.subscriptionOptions),Te={method:"PATCH",headers:Q,body:JSON.stringify(he)};let We;try{We=yield(yield fetch(`${Vl(R.appConfig)}/${F.token}`,Te)).json()}catch(Et){throw Yi.create("token-update-failed",{errorInfo:Et?.toString()})}if(We.error)throw Yi.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw Yi.create("token-update-no-token");return We.token})).apply(this,arguments)}function yu(R,F){return cs.apply(this,arguments)}function cs(){return(cs=(0,Y.Z)(function*(R,F){const he={method:"DELETE",headers:yield Bu(R)};try{const We=yield(yield fetch(`${Vl(R.appConfig)}/${F}`,he)).json();if(We.error)throw Yi.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Te){throw Yi.create("token-unsubscribe-failed",{errorInfo:Te?.toString()})}})).apply(this,arguments)}function Vl({projectId:R}){return`${_d}/projects/${R}/registrations`}function Bu(R){return ra.apply(this,arguments)}function ra(){return(ra=(0,Y.Z)(function*({appConfig:R,installations:F}){const Q=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Ga({p256dh:R,auth:F,endpoint:Q,vapidKey:he}){const Te={web:{endpoint:Q,auth:F,p256dh:R}};return he!==Bc&&(Te.web.applicationPubKey=he),Te}const ic=6048e5;function uo(){return uo=(0,Y.Z)(function*(R){const F=yield function ia(R,F){return gl.apply(this,arguments)}(R.swRegistration,R.vapidKey),Q={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:F.endpoint,auth:No(F.getKey("auth")),p256dh:No(F.getKey("p256dh"))},he=yield xs(R.firebaseDependencies);if(he){if(function x(R,F){return F.vapidKey===R.vapidKey&&F.endpoint===R.endpoint&&F.auth===R.auth&&F.p256dh===R.p256dh}(he.subscriptionOptions,Q))return Date.now()>=he.createTime+ic?function pl(R,F){return Wa.apply(this,arguments)}(R,{token:he.token,createTime:Date.now(),subscriptionOptions:Q}):he.token;try{yield yu(R.firebaseDependencies,he.token)}catch(Te){console.warn(Te)}return Ka(R.firebaseDependencies,Q)}return Ka(R.firebaseDependencies,Q)}),uo.apply(this,arguments)}function qa(){return qa=(0,Y.Z)(function*(R){const F=yield xs(R.firebaseDependencies);F&&(yield yu(R.firebaseDependencies,F.token),yield function ro(R){return Fo.apply(this,arguments)}(R.firebaseDependencies));const Q=yield R.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()}),qa.apply(this,arguments)}function Wa(){return Wa=(0,Y.Z)(function*(R,F){try{const Q=yield function Xr(R,F){return _u.apply(this,arguments)}(R.firebaseDependencies,F),he=Object.assign(Object.assign({},F),{token:Q,createTime:Date.now()});return yield Uu(R.firebaseDependencies,he),Q}catch(Q){throw yield function ms(R){return qa.apply(this,arguments)}(R),Q}}),Wa.apply(this,arguments)}function Ka(R,F){return sc.apply(this,arguments)}function sc(){return(sc=(0,Y.Z)(function*(R,F){const he={token:yield Vo(R,F),createTime:Date.now(),subscriptionOptions:F};return yield Uu(R,he),he.token})).apply(this,arguments)}function gl(){return(gl=(0,Y.Z)(function*(R,F){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hc(F)})})).apply(this,arguments)}function q(R){const F={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function ve(R,F){if(!F.notification)return;R.notification={};const Q=F.notification.title;Q&&(R.notification.title=Q);const he=F.notification.body;he&&(R.notification.body=he);const Te=F.notification.image;Te&&(R.notification.image=Te);const We=F.notification.icon;We&&(R.notification.icon=We)}(F,R),function j(R,F){F.data&&(R.data=F.data)}(F,R),function ce(R,F){var Q,he,Te,We,Et;if(!(F.fcmOptions||null!==(Q=F.notification)&&void 0!==Q&&Q.click_action))return;R.fcmOptions={};const ln=null!==(Te=null===(he=F.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Te?Te:null===(We=F.notification)||void 0===We?void 0:We.click_action;ln&&(R.fcmOptions.link=ln);const un=null===(Et=F.fcmOptions)||void 0===Et?void 0:Et.analytics_label;un&&(R.fcmOptions.analyticsLabel=un)}(F,R),F}function bt(R,F){const Q=[];for(let he=0;he<R.length;he++)Q.push(R.charAt(he)),he<F.length&&Q.push(F.charAt(he));return Q.join("")}function Nr(R){return Yi.create("missing-app-config-values",{valueName:R})}bt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $r{constructor(F,Q,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Te=function tn(R){if(!R||!R.options)throw Nr("App Configuration Object");if(!R.name)throw Nr("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=R;for(const he of F)if(!Q[he])throw Nr(he);return{appName:R.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Te,installations:Q,analyticsProvider:he}}_delete(){return Promise.resolve()}}function pn(){return(pn=(0,Y.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(ec,{scope:tc}),R.swRegistration.update().catch(()=>{})}catch(F){throw Yi.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function wr(){return(wr=(0,Y.Z)(function*(R,F){if(!F&&!R.swRegistration&&(yield function ei(R){return pn.apply(this,arguments)}(R)),F||!R.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Yi.create("invalid-sw-registration");R.swRegistration=F}})).apply(this,arguments)}function io(){return(io=(0,Y.Z)(function*(R,F){F?R.vapidKey=F:R.vapidKey||(R.vapidKey=Bc)})).apply(this,arguments)}function Zr(){return Zr=(0,Y.Z)(function*(R,F){if(!navigator)throw Yi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yi.create("permission-blocked");return yield function mi(R,F){return io.apply(this,arguments)}(R,F?.vapidKey),yield function hi(R,F){return wr.apply(this,arguments)}(R,F?.serviceWorkerRegistration),function Uo(R){return uo.apply(this,arguments)}(R)}),Zr.apply(this,arguments)}function rs(){return(rs=(0,Y.Z)(function*(R,F,Q){const he=function Yt(R){switch(R){case Vu.NOTIFICATION_CLICKED:return"notification_open";case Vu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Q[Ti],message_name:Q[jc],message_time:Q[nc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function si(){return si=(0,Y.Z)(function*(R,F){const Q=F.data;if(!Q.isFirebaseMessaging)return;R.onMessageHandler&&Q.messageType===Vu.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(q(Q)):R.onMessageHandler.next(q(Q)));const he=Q.data;(function Ne(R){return"object"==typeof R&&!!R&&Ti in R})(he)&&"1"===he["google.c.a.e"]&&(yield function Vi(R,F,Q){return rs.apply(this,arguments)}(R,Q.messageType,he))}),si.apply(this,arguments)}const rn="@firebase/messaging",At=R=>{const F=new $r(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function vn(R,F){return si.apply(this,arguments)}(F,Q)),F},ds=R=>{const F=R.getProvider("messaging").getImmediate();return{getToken:he=>function Lt(R,F){return Zr.apply(this,arguments)}(F,he)}};function Za(){return vo.apply(this,arguments)}function vo(){return(vo=(0,Y.Z)(function*(){try{yield(0,m.eu)()}catch{return!1}return typeof window<"u"&&(0,m.hl)()&&(0,m.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bh(){(0,ue.Xd)(new Ae.wA("messaging",At,"PUBLIC")),(0,ue.Xd)(new Ae.wA("messaging-internal",ds,"PRIVATE")),(0,ue.KN)(rn,"0.12.4"),(0,ue.KN)(rn,"0.12.4","esm2017")}();const or="analytics",$u="firebase_id",nr="origin",bi=6e4,On="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",Xn=new Ie.Yd("@firebase/analytics"),Mr=new m.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function on(R){if(!R.startsWith(jo)){const F=Mr.create("invalid-gtag-resource",{gtagURL:R});return Xn.warn(F.message),""}return R}function Eu(R){return Promise.all(R.map(F=>F.catch(Q=>Q)))}function Rt(){return(Rt=(0,Y.Z)(function*(R,F,Q,he,Te,We){const Et=he[Te];try{if(Et)yield F[Et];else{const un=(yield Eu(Q)).find(xn=>xn.measurementId===Te);un&&(yield F[un.appId])}}catch(ln){Xn.error(ln)}R("config",Te,We)})).apply(this,arguments)}function Iu(){return(Iu=(0,Y.Z)(function*(R,F,Q,he,Te){try{let We=[];if(Te&&Te.send_to){let Et=Te.send_to;Array.isArray(Et)||(Et=[Et]);const ln=yield Eu(Q);for(const un of Et){const xn=ln.find(Yn=>Yn.measurementId===un),hr=xn&&F[xn.appId];if(!hr){We=[];break}We.push(hr)}}0===We.length&&(We=Object.values(F)),yield Promise.all(We),R("event",he,Te||{})}catch(We){Xn.error(We)}})).apply(this,arguments)}const dn=30,Tu=new class zn{constructor(F={},Q=1e3){this.throttleMetadata=F,this.intervalMillis=Q}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,Q){this.throttleMetadata[F]=Q}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function ot(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function lo(){return(lo=(0,Y.Z)(function*(R){var F;const{appId:Q,apiKey:he}=R,Te={method:"GET",headers:ot(he)},We=On.replace("{app-id}",Q),Et=yield fetch(We,Te);if(200!==Et.status&&304!==Et.status){let ln="";try{const un=yield Et.json();null!==(F=un.error)&&void 0!==F&&F.message&&(ln=un.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:Et.status,responseMessage:ln})}return Et.json()})).apply(this,arguments)}function To(){return(To=(0,Y.Z)(function*(R,F=Tu,Q){const{appId:he,apiKey:Te,measurementId:We}=R.options;if(!he)throw Mr.create("no-app-id");if(!Te){if(We)return{measurementId:We,appId:he};throw Mr.create("no-api-key")}const Et=F.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new M;return setTimeout((0,Y.Z)(function*(){ln.abort()}),void 0!==Q?Q:bi),bu({appId:he,apiKey:Te,measurementId:We},Et,ln,F)})).apply(this,arguments)}function bu(R,F,Q){return A.apply(this,arguments)}function A(){return A=(0,Y.Z)(function*(R,{throttleEndTimeMillis:F,backoffCount:Q},he,Te=Tu){var We;const{appId:Et,measurementId:ln}=R;try{yield function N(R,F){return new Promise((Q,he)=>{const Te=Math.max(F-Date.now(),0),We=setTimeout(Q,Te);R.addEventListener(()=>{clearTimeout(We),he(Mr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(he,F)}catch(un){if(ln)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:Et,measurementId:ln};throw un}try{const un=yield function Xd(R){return lo.apply(this,arguments)}(R);return Te.deleteThrottleMetadata(Et),un}catch(un){const xn=un;if(!function V(R){if(!(R instanceof m.ZR&&R.customData))return!1;const F=Number(R.customData.httpStatus);return 429===F||500===F||503===F||504===F}(xn)){if(Te.deleteThrottleMetadata(Et),ln)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${xn?.message}]`),{appId:Et,measurementId:ln};throw un}const hr=503===Number(null===(We=xn?.customData)||void 0===We?void 0:We.httpStatus)?(0,m.$s)(Q,Te.intervalMillis,dn):(0,m.$s)(Q,Te.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+hr,backoffCount:Q+1};return Te.setThrottleMetadata(Et,Yn),Xn.debug(`Calling attemptFetch again in ${hr} millis`),bu(R,Yn,he,Te)}}),A.apply(this,arguments)}class M{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let z,Ho;function fe(){return(fe=(0,Y.Z)(function*(R,F,Q,he,Te){if(Te&&Te.global)R("event",Q,he);else{const We=yield F;R("event",Q,Object.assign(Object.assign({},he),{send_to:We}))}})).apply(this,arguments)}function Qa(){return(Qa=(0,Y.Z)(function*(){if(!(0,m.hl)())return Xn.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,m.eu)()}catch(R){return Xn.warn(Mr.create("indexeddb-unavailable",{errorInfo:R?.toString()}).message),!1}return!0})).apply(this,arguments)}function Cu(){return Cu=(0,Y.Z)(function*(R,F,Q,he,Te,We,Et){var ln;const un=function Bs(R){return To.apply(this,arguments)}(R);un.then(Gs=>{Q[Gs.measurementId]=Gs.appId,R.options.measurementId&&Gs.measurementId!==R.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Gs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gs=>Xn.error(Gs)),F.push(un);const xn=function $o(){return Qa.apply(this,arguments)}().then(Gs=>{if(Gs)return he.getId()}),[hr,Yn]=yield Promise.all([un,xn]);(function wo(R){const F=window.document.getElementsByTagName("script");for(const Q of Object.values(F))if(Q.src&&Q.src.includes(jo)&&Q.src.includes(R))return Q;return null})(We)||function wu(R,F){const Q=function Eo(R,F){let Q;return window.trustedTypes&&(Q=window.trustedTypes.createPolicy(R,F)),Q}("firebase-js-sdk-policy",{createScriptURL:on}),he=document.createElement("script"),Te=`${jo}?l=${R}&id=${F}`;he.src=Q?Q?.createScriptURL(Te):Te,he.async=!0,document.head.appendChild(he)}(We,hr.measurementId),Ho&&(Te("consent","default",Ho),function ml(R){Ho=R}(void 0)),Te("js",new Date);const zs=null!==(ln=Et?.config)&&void 0!==ln?ln:{};return zs[nr]="firebase",zs.update=!0,null!=Yn&&(zs[$u]=Yn),Te("config",hr.measurementId,zs),z&&(Te("set",z),function ac(R){z=R}(void 0)),hr.measurementId}),Cu.apply(this,arguments)}class Ed{constructor(F){this.app=F}_delete(){return delete Ya[this.app.options.appId],Promise.resolve()}}let Ya={},eh=[];const th={};let _l,oa,uc="dataLayer",yl=!1;function zc(R,F,Q){!function Gu(){const R=[];if((0,m.ru)()&&R.push("This is a browser extension environment."),(0,m.zI)()||R.push("Cookies are not available."),R.length>0){const F=R.map((he,Te)=>`(${Te+1}) ${he}`).join(" "),Q=Mr.create("invalid-analytics-context",{errorInfo:F});Xn.warn(Q.message)}}();const he=R.options.appId;if(!he)throw Mr.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Mr.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ya[he])throw Mr.create("already-exists",{id:he});if(!yl){!function oc(R){let F=[];Array.isArray(window[R])?F=window[R]:window[R]=F}(uc);const{wrappedGtag:We,gtagCore:Et}=function _i(R,F,Q,he,Te){let We=function(...Et){window[he].push(arguments)};return window[Te]&&"function"==typeof window[Te]&&(We=window[Te]),window[Te]=function $c(R,F,Q,he){function We(){return We=(0,Y.Z)(function*(Et,...ln){try{if("event"===Et){const[un,xn]=ln;yield function Vr(R,F,Q,he,Te){return Iu.apply(this,arguments)}(R,F,Q,un,xn)}else if("config"===Et){const[un,xn]=ln;yield function Ta(R,F,Q,he,Te,We){return Rt.apply(this,arguments)}(R,F,Q,he,un,xn)}else if("consent"===Et){const[un]=ln;R("consent","update",un)}else if("get"===Et){const[un,xn,hr]=ln;R("get",un,xn,hr)}else if("set"===Et){const[un]=ln;R("set",un)}else R(Et,...ln)}catch(un){Xn.error(un)}}),We.apply(this,arguments)}return function Te(Et){return We.apply(this,arguments)}}(We,R,F,Q),{gtagCore:We,wrappedGtag:window[Te]}}(Ya,eh,th,uc,"gtag");oa=We,_l=Et,yl=!0}return Ya[he]=function Ji(R,F,Q,he,Te,We,Et){return Cu.apply(this,arguments)}(R,eh,th,F,_l,uc,Q),new Ed(R)}function js(){return aa.apply(this,arguments)}function aa(){return(aa=(0,Y.Z)(function*(){if((0,m.ru)()||!(0,m.zI)()||!(0,m.hl)())return!1;try{return yield(0,m.eu)()}catch{return!1}})).apply(this,arguments)}const qc="@firebase/analytics";!function _s(){(0,ue.Xd)(new Ae.wA(or,(F,{options:Q})=>zc(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,ue.Xd)(new Ae.wA("analytics-internal",function R(F){try{const Q=F.getProvider(or).getImmediate();return{logEvent:(he,Te,We)=>function Gc(R,F,Q,he){R=(0,m.m9)(R),function se(R,F,Q,he,Te){return fe.apply(this,arguments)}(oa,Ya[R.app.options.appId],F,Q,he).catch(Te=>Xn.error(Te))}(Q,he,Te,We)}}catch(Q){throw Mr.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,ue.KN)(qc,"0.10.0"),(0,ue.KN)(qc,"0.10.0","esm2017")}();var wd=U(1954),Ri=U(2631);const ys=new class qu extends Ri.v{}(class Ja extends wd.o{constructor(F,Q){super(F,Q),this.scheduler=F,this.work=Q}schedule(F,Q=0){return Q>0?super.schedule(F,Q):(this.delay=Q,this.state=F,this.scheduler.flush(this),this)}execute(F,Q){return Q>0||this.closed?super.execute(F,Q):this._execute(F,Q)}requestAsyncId(F,Q,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(F,Q,he):(F.flush(this),0)}});var jl=U(6321),zo=U(5592),Wu=U(9397),ca=U(5137),Hl=U(3093);const Xa=new w.GfV("7.6.1"),Go="__angularfire_symbol__analyticsIsSupportedValue",Ku="__angularfire_symbol__analyticsIsSupported",Du="__angularfire_symbol__remoteConfigIsSupportedValue",Zu="__angularfire_symbol__remoteConfigIsSupported",Ca="__angularfire_symbol__messagingIsSupportedValue",El="__angularfire_symbol__messagingIsSupported";function Kc(R,F,Q){if(F){if(1===F.length)return F[0];const We=F.filter(Et=>Et.app===Q);if(1===We.length)return We[0]}return Q.container.getProvider(R).getImmediate({optional:!0})}globalThis[Ku]||(globalThis[Ku]=js().then(R=>globalThis[Go]=R).catch(()=>globalThis[Go]=!1)),globalThis[El]||(globalThis[El]=Za().then(R=>globalThis[Ca]=R).catch(()=>globalThis[Ca]=!1)),globalThis[Zu]||(globalThis[Zu]=va().then(R=>globalThis[Du]=R).catch(()=>globalThis[Du]=!1));const nh=(R,F)=>{const Q=F?[F]:(0,ie.C6)(),he=[];return Q.forEach(Te=>{Te.container.getProvider(R).instances.forEach(Et=>{he.includes(Et)||he.push(Et)})}),he};function Yu(){}class qo{constructor(F,Q=ys){this.zone=F,this.delegate=Q}now(){return this.delegate.now()}schedule(F,Q,he){const Te=this.zone;return this.delegate.schedule(function(Et){Te.runGuarded(()=>{F.apply(this,[Et])})},Q,he)}}class Gh{constructor(F){this.zone=F,this.task=null}call(F,Q){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yu,{},Yu,Yu)),Q.pipe((0,Wu.b)({next:he,complete:he,error:he})).subscribe(F).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $s=(()=>{class R{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new qo(Zone.current)),this.insideAngular=Q.run(()=>new qo(Zone.current,jl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(Q){return new(Q||R)(w.LFG(w.R0b))},R.\u0275prov=w.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function zl(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Ju(R){return zl().ngZone.run(()=>R())}function Ni(R){return zl(),function Da(R){return function(Q){return(Q=Q.lift(new Gh(R.ngZone))).pipe((0,ca.R)(R.outsideAngular),(0,Hl.Q)(R.insideAngular))}}(zl())(R)}const Aa=(R,F)=>function(){const he=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),Ju(()=>R.apply(void 0,he))},Xu=(R,F)=>function(){let Q;const he=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof he[We]&&(F&&(Q||(Q=Ju(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yu,{},Yu,Yu)))),he[We]=Aa(he[We],Q));const Te=function Zc(R){return zl().ngZone.runOutsideAngular(()=>R())}(()=>R.apply(this,he));if(!F){if(Te instanceof zo.y){const We=zl();return Te.pipe((0,ca.R)(We.outsideAngular),(0,Hl.Q)(We.insideAngular))}return Ju(()=>Te)}return Te instanceof zo.y?Te.pipe(Ni):Te instanceof Promise?Ju(()=>new Promise((We,Et)=>Te.then(ln=>Ju(()=>We(ln)),ln=>Ju(()=>Et(ln))))):"function"==typeof Te&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),Te.apply(this,arguments)}:Ju(()=>Te)}},6710:(Gt,$e,U)=>{U.d($e,{$:()=>ec,A:()=>ye,D:()=>it,I:()=>xo,J:()=>Kt,L:()=>en,N:()=>In,P:()=>Ji,Q:()=>_a,R:()=>Tt,U:()=>cl,V:()=>va,W:()=>Mo,X:()=>ya,Y:()=>Ll,Z:()=>Fu,_:()=>wa,a:()=>ju,a0:()=>Bc,a1:()=>Ti,a2:()=>Uh,a3:()=>yd,a4:()=>hl,a5:()=>Lo,a6:()=>Us,a7:()=>mu,a8:()=>Ha,a9:()=>$a,aA:()=>Ee,aB:()=>Ku,aC:()=>kt,aD:()=>pr,aE:()=>Wu,aF:()=>zh,aG:()=>Xi,aH:()=>Yr,aL:()=>Hu,aO:()=>no,aa:()=>ro,ab:()=>fl,ac:()=>za,ad:()=>Xr,ae:()=>yu,af:()=>Vl,ai:()=>ic,aj:()=>uo,ak:()=>ms,an:()=>Fl,ao:()=>ve,aq:()=>io,ar:()=>rn,as:()=>Ot,at:()=>Me,au:()=>ke,av:()=>xe,aw:()=>Yn,ax:()=>El,ay:()=>ee,az:()=>pt,b:()=>vd,c:()=>oa,d:()=>zc,e:()=>jh,f:()=>qc,g:()=>qu,h:()=>wd,i:()=>Io,j:()=>jl,k:()=>da,l:()=>co,m:()=>dc,p:()=>pe,r:()=>sa,s:()=>oi,u:()=>$o});var w=U(5861),ie=U(9058),Y=U(7592),ue=U(7582),m=U(7879),Ae=U(4537);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const it=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Pt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new m.Yd("@firebase/auth");function yt(S,...E){Fe.logLevel<=m.in.ERROR&&Fe.error(`Auth (${Y.SDK_VERSION}): ${S}`,...E)}function xe(S,...E){throw mt(S,...E)}function pt(S,...E){return mt(S,...E)}function Ke(S,E,T){const P=Object.assign(Object.assign({},Pt()),{[E]:T});return new ie.LL("auth","Firebase",P).create(E,{appName:S.name})}function ut(S,E,T){if(!(E instanceof T))throw T.name!==E.constructor.name&&xe(S,"argument-error"),Ke(S,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(S,...E){if("string"!=typeof S){const T=E[0],P=[...E.slice(1)];return P[0]&&(P[0].appName=S.name),S._errorFactory.create(T,...P)}return Le.create(S,...E)}function Ee(S,E,...T){if(!S)throw mt(E,...T)}function dt(S){const E="INTERNAL ASSERTION FAILED: "+S;throw yt(E),new Error(E)}function Ot(S,E){S||dt(E)}function Qt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function _n(){return"http:"===yr()||"https:"===yr()}function yr(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class Kn{constructor(E,T){this.shortDelay=E,this.longDelay=T,Ot(T>E,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function Sn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fr(S,E){Ot(S.emulator,"Emulator should always be set here");const{url:T}=S.emulator;return E?`${T}${E.startsWith("/")?E.slice(1):E}`:T}class qe{static initialize(E,T,P){this.fetchImpl=E,T&&(this.headersImpl=T),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const at={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ct=new Kn(3e4,6e4);function Je(S,E){return S.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:S.tenantId}):E}function vt(S,E,T,P){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,w.Z)(function*(S,E,T,P,J={}){return Wt(S,J,(0,w.Z)(function*(){let oe={},He={};P&&("GET"===E?He=P:oe={body:JSON.stringify(P)});const ft=(0,ie.xO)(Object.assign({key:S.config.apiKey},He)).slice(1),nn=yield S._getAdditionalHeaders();return nn["Content-Type"]="application/json",S.languageCode&&(nn["X-Firebase-Locale"]=S.languageCode),qe.fetch()(Vn(S,S.config.apiHost,T,ft),Object.assign({method:E,headers:nn,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Wt(S,E,T){return gt.apply(this,arguments)}function gt(){return(gt=(0,w.Z)(function*(S,E,T){S._canInitEmulator=!1;const P=Object.assign(Object.assign({},at),E);try{const J=new sn(S),oe=yield Promise.race([T(),J.promise]);J.clearNetworkTimeout();const He=yield oe.json();if("needConfirmation"in He)throw tr(S,"account-exists-with-different-credential",He);if(oe.ok&&!("errorMessage"in He))return He;{const ft=oe.ok?He.errorMessage:He.error.message,[nn,jt]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw tr(S,"credential-already-in-use",He);if("EMAIL_EXISTS"===nn)throw tr(S,"email-already-in-use",He);if("USER_DISABLED"===nn)throw tr(S,"user-disabled",He);const Nn=P[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(jt)throw Ke(S,Nn,jt);xe(S,Nn)}}catch(J){if(J instanceof ie.ZR)throw J;xe(S,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function Wn(S,E,T,P){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,w.Z)(function*(S,E,T,P,J={}){const oe=yield vt(S,E,T,P,J);return"mfaPendingCredential"in oe&&xe(S,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Vn(S,E,T,P){const J=`${E}${T}?${P}`;return S.config.emulator?fr(S.config,J):`${S.config.apiScheme}://${J}`}class sn{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((T,P)=>{this.timer=setTimeout(()=>P(pt(this.auth,"network-request-failed")),ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tr(S,E,T){const P={appName:S.name};T.email&&(P.email=T.email),T.phoneNumber&&(P.phoneNumber=T.phoneNumber);const J=pt(S,E,P);return J.customData._tokenResponse=T,J}function vr(){return(vr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Cr(){return(Cr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function zr(){return(zr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function Ar(S){if(S)try{const E=new Date(Number(S));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function Gr(){return(Gr=(0,w.Z)(function*(S,E=!1){const T=(0,ie.m9)(S),P=yield T.getIdToken(E),J=an(P);Ee(J&&J.exp&&J.auth_time&&J.iat,T.auth,"internal-error");const oe="object"==typeof J.firebase?J.firebase:void 0,He=oe?.sign_in_provider;return{claims:J,token:P,authTime:Ar(wn(J.auth_time)),issuedAtTime:Ar(wn(J.iat)),expirationTime:Ar(wn(J.exp)),signInProvider:He||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function wn(S){return 1e3*Number(S)}function an(S){const[E,T,P]=S.split(".");if(void 0===E||void 0===T||void 0===P)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,ie.tV)(T);return J?JSON.parse(J):(yt("Failed to decode base64 JWT payload"),null)}catch(J){return yt("Caught error parsing JWT payload as JSON",J?.toString()),null}}function kn(S,E){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,w.Z)(function*(S,E,T=!1){if(T)return E;try{return yield E}catch(P){throw P instanceof ie.ZR&&function qr({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}(P)&&S.auth.currentUser===S&&(yield S.auth.signOut()),P}})).apply(this,arguments)}class Un{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var T;if(E){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const J=(null!==(T=this.user.stsTokenManager.expirationTime)&&void 0!==T?T:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(E=!1){var T=this;if(!this.isRunning)return;const P=this.getInterval(E);this.timerId=setTimeout((0,w.Z)(function*(){yield T.iteration()}),P)}iteration(){var E=this;return(0,w.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===T?.code&&E.schedule(!0))}E.schedule()})()}}class Jn{constructor(E,T){this.createdAt=E,this.lastLoginAt=T,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(S){return $n.apply(this,arguments)}function $n(){return $n=(0,w.Z)(function*(S){var E;const T=S.auth,P=yield S.getIdToken(),J=yield kn(S,function ai(S,E){return zr.apply(this,arguments)}(T,{idToken:P}));Ee(J?.users.length,T,"internal-error");const oe=J.users[0];S._notifyReloadListener(oe);const He=null!==(E=oe.providerUserInfo)&&void 0!==E&&E.length?function wi(S){return S.map(E=>{var{providerId:T}=E,P=(0,ue._T)(E,["providerId"]);return{providerId:T,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}(oe.providerUserInfo):[],ft=function dr(S,E){return[...S.filter(P=>!E.some(J=>J.providerId===P.providerId)),...E]}(S.providerData,He),Nn=!!S.isAnonymous&&!(S.email&&oe.passwordHash||ft?.length),kr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:ft,metadata:new Jn(oe.createdAt,oe.lastLoginAt),isAnonymous:Nn};Object.assign(S,kr)}),$n.apply(this,arguments)}function Qn(){return(Qn=(0,w.Z)(function*(S){const E=(0,ie.m9)(S);yield pi(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function ur(){return(ur=(0,w.Z)(function*(S,E){const T=yield Wt(S,{},(0,w.Z)(function*(){const P=(0,ie.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:J,apiKey:oe}=S.config,He=Vn(S,J,"/v1/token",`key=${oe}`),ft=yield S._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(He,{method:"POST",headers:ft,body:P})}));return{accessToken:T.access_token,expiresIn:T.expires_in,refreshToken:T.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){Ee(E.idToken,"internal-error"),Ee(typeof E.idToken<"u","internal-error"),Ee(typeof E.refreshToken<"u","internal-error");const T="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function An(S){const E=an(S);return Ee(E,"internal-error"),Ee(typeof E.exp<"u","internal-error"),Ee(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,T)}getToken(E,T=!1){var P=this;return(0,w.Z)(function*(){return Ee(!P.accessToken||P.refreshToken,E,"user-token-expired"),T||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(E,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,T){var P=this;return(0,w.Z)(function*(){const{accessToken:J,refreshToken:oe,expiresIn:He}=yield function Hi(S,E){return ur.apply(this,arguments)}(E,T);P.updateTokensAndExpiration(J,oe,Number(He))})()}updateTokensAndExpiration(E,T,P){this.refreshToken=T||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(E,T){const{refreshToken:P,accessToken:J,expirationTime:oe}=T,He=new Bn;return P&&(Ee("string"==typeof P,"internal-error",{appName:E}),He.refreshToken=P),J&&(Ee("string"==typeof J,"internal-error",{appName:E}),He.accessToken=J),oe&&(Ee("number"==typeof oe,"internal-error",{appName:E}),He.expirationTime=oe),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return dt("not implemented")}}function nt(S,E){Ee("string"==typeof S||typeof S>"u","internal-error",{appName:E})}class Re{constructor(E){var{uid:T,auth:P,stsTokenManager:J}=E,oe=(0,ue._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=T,this.auth=P,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Jn(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(E){var T=this;return(0,w.Z)(function*(){const P=yield kn(T,T.stsTokenManager.getToken(T.auth,E));return Ee(P,T.auth,"internal-error"),T.accessToken!==P&&(T.accessToken=P,yield T.auth._persistUserIfCurrent(T),T.auth._notifyListenersIfCurrent(T)),P})()}getIdTokenResult(E){return function ui(S){return Gr.apply(this,arguments)}(this,E)}reload(){return function gi(S){return Qn.apply(this,arguments)}(this)}_assign(E){this!==E&&(Ee(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(T=>Object.assign({},T)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const T=new Re(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return T.metadata._copy(this.metadata),T}_onReload(E){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,T=!1){var P=this;return(0,w.Z)(function*(){let J=!1;E.idToken&&E.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(E),J=!0),T&&(yield pi(P)),yield P.auth._persistUserIfCurrent(P),J&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var E=this;return(0,w.Z)(function*(){const T=yield E.getIdToken();return yield kn(E,function Zn(S,E){return vr.apply(this,arguments)}(E.auth,{idToken:T})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,T){var P,J,oe,He,ft,nn,jt,Nn;const kr=null!==(P=T.displayName)&&void 0!==P?P:void 0,so=null!==(J=T.email)&&void 0!==J?J:void 0,ho=null!==(oe=T.phoneNumber)&&void 0!==oe?oe:void 0,sh=null!==(He=T.photoURL)&&void 0!==He?He:void 0,Sa=null!==(ft=T.tenantId)&&void 0!==ft?ft:void 0,Ff=null!==(nn=T._redirectEventId)&&void 0!==nn?nn:void 0,Il=null!==(jt=T.createdAt)&&void 0!==jt?jt:void 0,Td=null!==(Nn=T.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:ha,emailVerified:fc,isAnonymous:Qc,providerData:Vf,stsTokenManager:wm}=T;Ee(ha&&wm,E,"internal-error");const Ir=Bn.fromJSON(this.name,wm);Ee("string"==typeof ha,E,"internal-error"),nt(kr,E.name),nt(so,E.name),Ee("boolean"==typeof fc,E,"internal-error"),Ee("boolean"==typeof Qc,E,"internal-error"),nt(ho,E.name),nt(sh,E.name),nt(Sa,E.name),nt(Ff,E.name),nt(Il,E.name),nt(Td,E.name);const ig=new Re({uid:ha,auth:E,email:so,emailVerified:fc,displayName:kr,isAnonymous:Qc,photoURL:sh,phoneNumber:ho,tenantId:Sa,stsTokenManager:Ir,createdAt:Il,lastLoginAt:Td});return Vf&&Array.isArray(Vf)&&(ig.providerData=Vf.map(sg=>Object.assign({},sg))),Ff&&(ig._redirectEventId=Ff),ig}static _fromIdTokenResponse(E,T,P=!1){return(0,w.Z)(function*(){const J=new Bn;J.updateFromServerResponse(T);const oe=new Re({uid:T.localId,auth:E,stsTokenManager:J,isAnonymous:P});return yield pi(oe),oe})()}}const It=new Map;function kt(S){Ot(S instanceof Function,"Expected a class definition");let E=It.get(S);return E?(Ot(E instanceof S,"Instance stored in cache mismatched with class"),E):(E=new S,It.set(S,E),E)}const In=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(T,P){var J=this;return(0,w.Z)(function*(){J.storage[T]=P})()}_get(T){var P=this;return(0,w.Z)(function*(){const J=P.storage[T];return void 0===J?null:J})()}_remove(T){var P=this;return(0,w.Z)(function*(){delete P.storage[T]})()}_addListener(T,P){}_removeListener(T,P){}}return S.type="NONE",S})();function pr(S,E,T){return`firebase:${S}:${E}:${T}`}class be{constructor(E,T,P){this.persistence=E,this.auth=T,this.userKey=P;const{config:J,name:oe}=this.auth;this.fullUserKey=pr(this.userKey,J.apiKey,oe),this.fullPersistenceKey=pr("persistence",J.apiKey,oe),this.boundEventHandler=T._onStorageEvent.bind(T),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,w.Z)(function*(){const T=yield E.persistence._get(E.fullUserKey);return T?Re._fromJSON(E.auth,T):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var T=this;return(0,w.Z)(function*(){if(T.persistence===E)return;const P=yield T.getCurrentUser();return yield T.removeCurrentUser(),T.persistence=E,P?T.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,T,P="authUser"){return(0,w.Z)(function*(){if(!T.length)return new be(kt(In),E,P);const J=(yield Promise.all(T.map(function(){var jt=(0,w.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return jt.apply(this,arguments)}}()))).filter(jt=>jt);let oe=J[0]||kt(In);const He=pr(P,E.config.apiKey,E.name);let ft=null;for(const jt of T)try{const Nn=yield jt._get(He);if(Nn){const kr=Re._fromJSON(E,Nn);jt!==oe&&(ft=kr),oe=jt;break}}catch{}const nn=J.filter(jt=>jt._shouldAllowMigration);return oe._shouldAllowMigration&&nn.length?(oe=nn[0],ft&&(yield oe._set(He,ft.toJSON())),yield Promise.all(T.map(function(){var jt=(0,w.Z)(function*(Nn){if(Nn!==oe)try{yield Nn._remove(He)}catch{}});return function(Nn){return jt.apply(this,arguments)}}())),new be(oe,E,P)):new be(oe,E,P)})()}}function ne(S){const E=S.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(de(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(G(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(lt(E))return"Blackberry";if(qt(E))return"Webos";if(K(E))return"Safari";if((E.includes("chrome/")||H(E))&&!E.includes("edge/"))return"Chrome";if(ke(E))return"Android";{const P=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function G(S=(0,ie.z$)()){return/firefox\//i.test(S)}function K(S=(0,ie.z$)()){const E=S.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function H(S=(0,ie.z$)()){return/crios\//i.test(S)}function de(S=(0,ie.z$)()){return/iemobile/i.test(S)}function ke(S=(0,ie.z$)()){return/android/i.test(S)}function lt(S=(0,ie.z$)()){return/blackberry/i.test(S)}function qt(S=(0,ie.z$)()){return/webos/i.test(S)}function Me(S=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function ee(S=(0,ie.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}function me(S=(0,ie.z$)()){return Me(S)||ke(S)||qt(S)||lt(S)||/windows phone/i.test(S)||de(S)}function ze(S,E=[]){let T;switch(S){case"Browser":T=ne((0,ie.z$)());break;case"Worker":T=`${ne((0,ie.z$)())}-${S}`;break;default:T=S}const P=E.length?E.join(","):"FirebaseCore-web";return`${T}/JsCore/${Y.SDK_VERSION}/${P}`}function Ft(){return(Ft=(0,w.Z)(function*(S){return(yield vt(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mt(S,E){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,w.Z)(function*(S,E){return vt(S,"GET","/v2/recaptchaConfig",Je(S,E))})).apply(this,arguments)}function Bt(S){return void 0!==S&&void 0!==S.getResponse}function ir(S){return void 0!==S&&void 0!==S.enterprise}class Fn{constructor(E){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.emailPasswordEnabled=E.recaptchaEnforcementState.some(T=>"EMAIL_PASSWORD_PROVIDER"===T.provider&&"OFF"!==T.enforcementState)}}function Di(S){return new Promise((E,T)=>{const P=document.createElement("script");P.setAttribute("src",S),P.onload=E,P.onerror=J=>{const oe=pt("internal-error");oe.customData=J,T(oe)},P.type="text/javascript",P.charset="UTF-8",function di(){var S,E;return null!==(E=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==E?E:document}().appendChild(P)})}function Dr(S){return`__${S}${Math.floor(1e6*Math.random())}`}class Pn{constructor(E){this.type="recaptcha-enterprise",this.auth=Yr(E)}verify(E="verify",T=!1){var P=this;return(0,w.Z)(function*(){function oe(){return oe=(0,w.Z)(function*(ft){if(!T){if(null==ft.tenantId&&null!=ft._agentRecaptchaConfig)return ft._agentRecaptchaConfig.siteKey;if(null!=ft.tenantId&&void 0!==ft._tenantRecaptchaConfigs[ft.tenantId])return ft._tenantRecaptchaConfigs[ft.tenantId].siteKey}return new Promise(function(){var nn=(0,w.Z)(function*(jt,Nn){Mt(ft,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kr=>{if(void 0!==kr.recaptchaKey){const so=new Fn(kr);return null==ft.tenantId?ft._agentRecaptchaConfig=so:ft._tenantRecaptchaConfigs[ft.tenantId]=so,jt(so.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(kr=>{Nn(kr)})});return function(jt,Nn){return nn.apply(this,arguments)}}())}),oe.apply(this,arguments)}function He(ft,nn,jt){const Nn=window.grecaptcha;ir(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(ft,{action:E}).then(kr=>{nn(kr)}).catch(()=>{nn("NO_RECAPTCHA")})}):jt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ft,nn)=>{(function J(ft){return oe.apply(this,arguments)})(P.auth).then(jt=>{if(!T&&ir(window.grecaptcha))He(jt,ft,nn);else{if(typeof window>"u")return void nn(new Error("RecaptchaVerifier is only supported in browser"));Di("https://www.google.com/recaptcha/enterprise.js?render="+jt).then(()=>{He(jt,ft,nn)}).catch(Nn=>{nn(Nn)})}}).catch(jt=>{nn(jt)})})})()}}function jn(S,E,T){return ri.apply(this,arguments)}function ri(){return(ri=(0,w.Z)(function*(S,E,T,P=!1){const J=new Pn(S);let oe;try{oe=yield J.verify(T)}catch{oe=yield J.verify(T,!0)}const He=Object.assign({},E);return Object.assign(He,P?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(He,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(He,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),He})).apply(this,arguments)}class bs{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,T){const P=oe=>new Promise((He,ft)=>{try{He(E(oe))}catch(nn){ft(nn)}});P.onAbort=T,this.queue.push(P);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(E){var T=this;return(0,w.Z)(function*(){if(T.auth.currentUser===E)return;const P=[];try{for(const J of T.queue)yield J(E),J.onAbort&&P.push(J.onAbort)}catch(J){P.reverse();for(const oe of P)try{oe()}catch{}throw T.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class Wr{constructor(E,T,P,J){this.app=E,this.heartbeatServiceProvider=T,this.appCheckServiceProvider=P,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xs(this),this.idTokenSubscription=new Xs(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(E,T){var P=this;return T&&(this._popupRedirectResolver=kt(T)),this._initializationPromise=this.queue((0,w.Z)(function*(){var J,oe;if(!P._deleted&&(P.persistenceManager=yield be.create(P,E),!P._deleted)){if(null!==(J=P._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(T),P.lastNotifiedUid=(null===(oe=P.currentUser)||void 0===oe?void 0:oe.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,w.Z)(function*(){if(E._deleted)return;const T=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||T){if(E.currentUser&&T&&E.currentUser.uid===T.uid)return E._currentUser._assign(T),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(T,!0)}})()}initializeCurrentUser(E){var T=this;return(0,w.Z)(function*(){var P;const J=yield T.assertedPersistence.getCurrentUser();let oe=J,He=!1;if(E&&T.config.authDomain){yield T.getOrInitRedirectPersistenceManager();const ft=null===(P=T.redirectUser)||void 0===P?void 0:P._redirectEventId,nn=oe?._redirectEventId,jt=yield T.tryRedirectSignIn(E);(!ft||ft===nn)&&jt?.user&&(oe=jt.user,He=!0)}if(!oe)return T.directlySetCurrentUser(null);if(!oe._redirectEventId){if(He)try{yield T.beforeStateQueue.runMiddleware(oe)}catch(ft){oe=J,T._popupRedirectResolver._overrideRedirectResult(T,()=>Promise.reject(ft))}return oe?T.reloadAndSetCurrentUserOrClear(oe):T.directlySetCurrentUser(null)}return Ee(T._popupRedirectResolver,T,"argument-error"),yield T.getOrInitRedirectPersistenceManager(),T.redirectUser&&T.redirectUser._redirectEventId===oe._redirectEventId?T.directlySetCurrentUser(oe):T.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(E){var T=this;return(0,w.Z)(function*(){let P=null;try{P=yield T._popupRedirectResolver._completeRedirectFn(T,E,!0)}catch{yield T._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(E){var T=this;return(0,w.Z)(function*(){try{yield pi(E)}catch(P){if("auth/network-request-failed"!==P?.code)return T.directlySetCurrentUser(null)}return T.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function ar(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var E=this;return(0,w.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var T=this;return(0,w.Z)(function*(){const P=E?(0,ie.m9)(E):null;return P&&Ee(P.auth.config.apiKey===T.config.apiKey,T,"invalid-user-token"),T._updateCurrentUser(P&&P._clone(T))})()}_updateCurrentUser(E,T=!1){var P=this;return(0,w.Z)(function*(){if(!P._deleted)return E&&Ee(P.tenantId===E.tenantId,P,"tenant-id-mismatch"),T||(yield P.beforeStateQueue.runMiddleware(E)),P.queue((0,w.Z)(function*(){yield P.directlySetCurrentUser(E),P.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,w.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var T=this;return this.queue((0,w.Z)(function*(){yield T.assertedPersistence.setPersistence(kt(E))}))}initializeRecaptchaConfig(){var E=this;return(0,w.Z)(function*(){const T=yield Mt(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),P=new Fn(T);null==E.tenantId?E._agentRecaptchaConfig=P:E._tenantRecaptchaConfigs[E.tenantId]=P,P.emailPasswordEnabled&&new Pn(E).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new ie.LL("auth","Firebase",E())}onAuthStateChanged(E,T,P){return this.registerStateListener(this.authStateSubscription,E,T,P)}beforeAuthStateChanged(E,T){return this.beforeStateQueue.pushCallback(E,T)}onIdTokenChanged(E,T,P){return this.registerStateListener(this.idTokenSubscription,E,T,P)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,T){var P=this;return(0,w.Z)(function*(){const J=yield P.getOrInitRedirectPersistenceManager(T);return null===E?J.removeCurrentUser():J.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var T=this;return(0,w.Z)(function*(){if(!T.redirectPersistenceManager){const P=E&&kt(E)||T._popupRedirectResolver;Ee(P,T,"argument-error"),T.redirectPersistenceManager=yield be.create(T,[kt(P._redirectPersistence)],"redirectUser"),T.redirectUser=yield T.redirectPersistenceManager.getCurrentUser()}return T.redirectPersistenceManager})()}_redirectUserForId(E){var T=this;return(0,w.Z)(function*(){var P,J;return T._isInitialized&&(yield T.queue((0,w.Z)(function*(){}))),(null===(P=T._currentUser)||void 0===P?void 0:P._redirectEventId)===E?T._currentUser:(null===(J=T.redirectUser)||void 0===J?void 0:J._redirectEventId)===E?T.redirectUser:null})()}_persistUserIfCurrent(E){var T=this;return(0,w.Z)(function*(){if(E===T.currentUser)return T.queue((0,w.Z)(function*(){return T.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,T;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(T=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==T?T:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,T,P,J){if(this._deleted)return()=>{};const oe="function"==typeof T?T:T.next.bind(T),He=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(He,this,"internal-error"),He.then(()=>oe(this.currentUser)),"function"==typeof T?E.addObserver(T,P,J):E.addObserver(T)}directlySetCurrentUser(E){var T=this;return(0,w.Z)(function*(){T.currentUser&&T.currentUser!==E&&T._currentUser._stopProactiveRefresh(),E&&T.isProactiveRefreshEnabled&&E._startProactiveRefresh(),T.currentUser=E,E?yield T.assertedPersistence.setCurrentUser(E):yield T.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=ze(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,w.Z)(function*(){var T;const P={"X-Client-Version":E.clientVersion};E.app.options.appId&&(P["X-Firebase-gmpid"]=E.app.options.appId);const J=yield null===(T=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getHeartbeatsHeader();J&&(P["X-Firebase-Client"]=J);const oe=yield E._getAppCheckToken();return oe&&(P["X-Firebase-AppCheck"]=oe),P})()}_getAppCheckToken(){var E=this;return(0,w.Z)(function*(){var T;const P=yield null===(T=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===T?void 0:T.getToken();return P?.error&&function wt(S,...E){Fe.logLevel<=m.in.WARN&&Fe.warn(`Auth (${Y.SDK_VERSION}): ${S}`,...E)}(`Error while retrieving App Check token: ${P.error}`),P?.token})()}}function Yr(S){return(0,ie.m9)(S)}class Xs{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,ie.ne)(T=>this.observer=T)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xo(S,E,T){const P=Yr(S);Ee(P._canInitEmulator,P,"emulator-config-failed"),Ee(/^https?:\/\//.test(E),P,"invalid-emulator-scheme");const J=!!T?.disableWarnings,oe=je(E),{host:He,port:ft}=function Ve(S){const E=je(S),T=/(\/\/)?([^?#/]+)/.exec(S.substr(E.length));if(!T)return{host:"",port:null};const P=T[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(P);if(J){const oe=J[1];return{host:oe,port:tt(P.substr(oe.length+1))}}{const[oe,He]=P.split(":");return{host:oe,port:tt(He)}}}(E);P.config.emulator={url:`${oe}//${He}${null===ft?"":`:${ft}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:He,port:ft,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function xt(){function S(){const E=document.createElement("p"),T=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}function je(S){const E=S.indexOf(":");return E<0?"":S.substr(0,E+1)}function tt(S){if(!S)return null;const E=Number(S);return isNaN(E)?null:E}class Kt{constructor(E,T){this.providerId=E,this.signInMethod=T}toJSON(){return dt("not implemented")}_getIdTokenResponse(E){return dt("not implemented")}_linkToIdToken(E,T){return dt("not implemented")}_getReauthenticationResolver(E){return dt("not implemented")}}function Hn(S,E){return gr.apply(this,arguments)}function gr(){return(gr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:resetPassword",Je(S,E))})).apply(this,arguments)}function Er(S,E){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Kr(){return(Kr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:update",Je(S,E))})).apply(this,arguments)}function Ls(S,E){return $i.apply(this,arguments)}function $i(){return($i=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithPassword",Je(S,E))})).apply(this,arguments)}function La(S,E){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:sendOobCode",Je(S,E))})).apply(this,arguments)}function ao(){return(ao=(0,w.Z)(function*(S,E){return La(S,E)})).apply(this,arguments)}function Lu(S,E){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,w.Z)(function*(S,E){return La(S,E)})).apply(this,arguments)}function cu(S,E){return lr.apply(this,arguments)}function lr(){return(lr=(0,w.Z)(function*(S,E){return La(S,E)})).apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(S,E){return La(S,E)})).apply(this,arguments)}function Ai(){return(Ai=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithEmailLink",Je(S,E))})).apply(this,arguments)}function du(){return(du=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithEmailLink",Je(S,E))})).apply(this,arguments)}class hu extends Kt{constructor(E,T,P,J=null){super("password",P),this._email=E,this._password=T,this._tenantId=J}static _fromEmailAndPassword(E,T){return new hu(E,T,"password")}static _fromEmailAndCode(E,T,P=null){return new hu(E,T,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E;if(T?.email&&T?.password){if("password"===T.signInMethod)return this._fromEmailAndPassword(T.email,T.password);if("emailLink"===T.signInMethod)return this._fromEmailAndCode(T.email,T.password,T.tenantId)}return null}_getIdTokenResponse(E){var T=this;return(0,w.Z)(function*(){var P;switch(T.signInMethod){case"password":const J={returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=E._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const oe=yield jn(E,J,"signInWithPassword");return Ls(E,oe)}return Ls(E,J).catch(function(){var oe=(0,w.Z)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ft=yield jn(E,J,"signInWithPassword");return Ls(E,ft)}return Promise.reject(He)});return function(He){return oe.apply(this,arguments)}}());case"emailLink":return function Ms(S,E){return Ai.apply(this,arguments)}(E,{email:T._email,oobCode:T._password});default:xe(E,"internal-error")}})()}_linkToIdToken(E,T){var P=this;return(0,w.Z)(function*(){switch(P.signInMethod){case"password":return Er(E,{idToken:T,returnSecureToken:!0,email:P._email,password:P._password});case"emailLink":return function Ro(S,E){return du.apply(this,arguments)}(E,{idToken:T,email:P._email,oobCode:P._password});default:xe(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Fr(S,E){return Po.apply(this,arguments)}function Po(){return(Po=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithIdp",Je(S,E))})).apply(this,arguments)}class en extends Kt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const T=new en(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(T.idToken=E.idToken),E.accessToken&&(T.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(T.nonce=E.nonce),E.pendingToken&&(T.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(T.accessToken=E.oauthToken,T.secret=E.oauthTokenSecret):xe("argument-error"),T}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E,{providerId:P,signInMethod:J}=T,oe=(0,ue._T)(T,["providerId","signInMethod"]);if(!P||!J)return null;const He=new en(P,J);return He.idToken=oe.idToken||void 0,He.accessToken=oe.accessToken||void 0,He.secret=oe.secret,He.nonce=oe.nonce,He.pendingToken=oe.pendingToken||null,He}_getIdTokenResponse(E){return Fr(E,this.buildRequest())}_linkToIdToken(E,T){const P=this.buildRequest();return P.idToken=T,Fr(E,P)}_getReauthenticationResolver(E){const T=this.buildRequest();return T.autoCreate=!1,Fr(E,T)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const T={};this.idToken&&(T.id_token=this.idToken),this.accessToken&&(T.access_token=this.accessToken),this.secret&&(T.oauth_token_secret=this.secret),T.providerId=this.providerId,this.nonce&&!this.pendingToken&&(T.nonce=this.nonce),E.postBody=(0,ie.xO)(T)}return E}}function Jr(){return(Jr=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:sendVerificationCode",Je(S,E))})).apply(this,arguments)}function ta(){return(ta=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithPhoneNumber",Je(S,E))})).apply(this,arguments)}function _o(){return(_o=(0,w.Z)(function*(S,E){const T=yield Wn(S,"POST","/v1/accounts:signInWithPhoneNumber",Je(S,E));if(T.temporaryProof)throw tr(S,"account-exists-with-different-credential",T);return T})).apply(this,arguments)}const Si={USER_NOT_FOUND:"user-not-found"};function ma(){return(ma=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithPhoneNumber",Je(S,Object.assign(Object.assign({},E),{operation:"REAUTH"})),Si)})).apply(this,arguments)}class Mn extends Kt{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,T){return new Mn({verificationId:E,verificationCode:T})}static _fromTokenResponse(E,T){return new Mn({phoneNumber:E,temporaryProof:T})}_getIdTokenResponse(E){return function Fs(S,E){return ta.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,T){return function gs(S,E){return _o.apply(this,arguments)}(E,Object.assign({idToken:T},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function zi(S,E){return ma.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:T,verificationId:P,verificationCode:J}=this.params;return E&&T?{temporaryProof:E,phoneNumber:T}:{sessionInfo:P,code:J}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:T,verificationCode:P,phoneNumber:J,temporaryProof:oe}=E;return P||T||J||oe?new Mn({verificationId:T,verificationCode:P,phoneNumber:J,temporaryProof:oe}):null}}class eo{constructor(E){var T,P,J,oe,He,ft;const nn=(0,ie.zd)((0,ie.pd)(E)),jt=null!==(T=nn.apiKey)&&void 0!==T?T:null,Nn=null!==(P=nn.oobCode)&&void 0!==P?P:null,kr=function Vs(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=nn.mode)&&void 0!==J?J:null);Ee(jt&&Nn&&kr,"argument-error"),this.apiKey=jt,this.operation=kr,this.code=Nn,this.continueUrl=null!==(oe=nn.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(He=nn.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(ft=nn.tenantId)&&void 0!==ft?ft:null}static parseLink(E){const T=function Va(S){const E=(0,ie.zd)((0,ie.pd)(S)).link,T=E?(0,ie.zd)((0,ie.pd)(E)).deep_link_id:null,P=(0,ie.zd)((0,ie.pd)(S)).deep_link_id;return(P?(0,ie.zd)((0,ie.pd)(P)).link:null)||P||T||E||S}(E);try{return new eo(T)}catch{return null}}}let _a=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(T,P){return hu._fromEmailAndPassword(T,P)}static credentialWithLink(T,P){const J=eo.parseLink(P);return Ee(J,"argument-error"),hu._fromEmailAndCode(T,J.code,J.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class to{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class ls extends to{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class ya extends ls{static credentialFromJSON(E){const T="string"==typeof E?JSON.parse(E):E;return Ee("providerId"in T&&"signInMethod"in T,"argument-error"),en._fromParams(T)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return Ee(E.idToken||E.accessToken,"argument-error"),en._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return ya.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return ya.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:T,oauthAccessToken:P,oauthTokenSecret:J,pendingToken:oe,nonce:He,providerId:ft}=E;if(!P&&!J&&!T&&!oe||!ft)return null;try{return new ya(ft)._credential({idToken:T,accessToken:P,nonce:He,pendingToken:oe})}catch{return null}}}let cl=(()=>{class S extends ls{constructor(){super("facebook.com")}static credential(T){return en._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return S.credential(T.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),va=(()=>{class S extends ls{constructor(){super("google.com"),this.addScope("profile")}static credential(T,P){return en._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:T,accessToken:P})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthIdToken:P,oauthAccessToken:J}=T;if(!P&&!J)return null;try{return S.credential(P,J)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),Mo=(()=>{class S extends ls{constructor(){super("github.com")}static credential(T){return en._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:T})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T||!("oauthAccessToken"in T)||!T.oauthAccessToken)return null;try{return S.credential(T.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class no extends Kt{constructor(E,T){super(E,E),this.pendingToken=T}_getIdTokenResponse(E){return Fr(E,this.buildRequest())}_linkToIdToken(E,T){const P=this.buildRequest();return P.idToken=T,Fr(E,P)}_getReauthenticationResolver(E){const T=this.buildRequest();return T.autoCreate=!1,Fr(E,T)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const T="string"==typeof E?JSON.parse(E):E,{providerId:P,signInMethod:J,pendingToken:oe}=T;return P&&J&&oe&&P===J?new no(P,oe):null}static _create(E,T){return new no(E,T)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ll extends to{constructor(E){Ee(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return Ll.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return Ll.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const T=no.fromJSON(E);return Ee(T,"argument-error"),T}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:T,providerId:P}=E;if(!T||!P)return null;try{return no._create(P,T)}catch{return null}}}let Fu=(()=>{class S extends ls{constructor(){super("twitter.com")}static credential(T,P){return en._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:T,oauthTokenSecret:P})}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{oauthAccessToken:P,oauthTokenSecret:J}=T;if(!P||!J)return null;try{return S.credential(P,J)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function xi(S,E){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signUp",Je(S,E))})).apply(this,arguments)}class Oi{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,T,P,J=!1){return(0,w.Z)(function*(){const oe=yield Re._fromIdTokenResponse(E,P,J),He=Ea(P);return new Oi({user:oe,providerId:He,_tokenResponse:P,operationType:T})})()}static _forOperation(E,T,P){return(0,w.Z)(function*(){yield E._updateTokensIfNecessary(P,!0);const J=Ea(P);return new Oi({user:E,providerId:J,_tokenResponse:P,operationType:T})})()}}function Ea(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function wa(S){return Li.apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(S){var E;const T=Yr(S);if(yield T._initializationPromise,null!==(E=T.currentUser)&&void 0!==E&&E.isAnonymous)return new Oi({user:T.currentUser,providerId:null,operationType:"signIn"});const P=yield xi(T,{returnSecureToken:!0}),J=yield Oi._fromIdTokenResponse(T,"signIn",P,!0);return yield T._updateCurrentUser(J.user),J})).apply(this,arguments)}class fu extends ie.ZR{constructor(E,T,P,J){var oe;super(T.code,T.message),this.operationType=P,this.user=J,Object.setPrototypeOf(this,fu.prototype),this.customData={appName:E.name,tenantId:null!==(oe=E.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:T.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(E,T,P,J){return new fu(E,T,P,J)}}function Fi(S,E,T,P){return("reauthenticate"===E?T._getReauthenticationResolver(S):T._getIdTokenResponse(S)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?fu._fromErrorAndOperation(S,oe,E,P):oe})}function Pr(S){return new Set(S.map(({providerId:E})=>E).filter(E=>!!E))}function Fl(S,E){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,w.Z)(function*(S,E){const T=(0,ie.m9)(S);yield Ua(!0,T,E);const{providerUserInfo:P}=yield function cr(S,E){return Cr.apply(this,arguments)}(T.auth,{idToken:yield T.getIdToken(),deleteProvider:[E]}),J=Pr(P||[]);return T.providerData=T.providerData.filter(oe=>J.has(oe.providerId)),J.has("phone")||(T.phoneNumber=null),yield T.auth._persistUserIfCurrent(T),T}),Ds.apply(this,arguments)}function As(S,E){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,w.Z)(function*(S,E,T=!1){const P=yield kn(S,E._linkToIdToken(S.auth,yield S.getIdToken()),T);return Oi._forOperation(S,"link",P)})).apply(this,arguments)}function Ua(S,E,T){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,w.Z)(function*(S,E,T){yield pi(E);const J=!1===S?"provider-already-linked":"no-such-provider";Ee(Pr(E.providerData).has(T)===S,E.auth,J)})).apply(this,arguments)}function pu(S,E){return dl.apply(this,arguments)}function dl(){return(dl=(0,w.Z)(function*(S,E,T=!1){const{auth:P}=S,J="reauthenticate";try{const oe=yield kn(S,Fi(P,J,E,S),T);Ee(oe.idToken,P,"internal-error");const He=an(oe.idToken);Ee(He,P,"internal-error");const{sub:ft}=He;return Ee(S.uid===ft,P,"user-mismatch"),Oi._forOperation(S,J,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&xe(P,"user-mismatch"),oe}})).apply(this,arguments)}function Xl(S,E){return yo.apply(this,arguments)}function yo(){return(yo=(0,w.Z)(function*(S,E,T=!1){const P="signIn",J=yield Fi(S,P,E),oe=yield Oi._fromIdTokenResponse(S,P,J);return T||(yield S._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function ec(S,E){return tc.apply(this,arguments)}function tc(){return(tc=(0,w.Z)(function*(S,E){return Xl(Yr(S),E)})).apply(this,arguments)}function Bc(S,E){return _d.apply(this,arguments)}function _d(){return(_d=(0,w.Z)(function*(S,E){const T=(0,ie.m9)(S);return yield Ua(!1,T,E.providerId),As(T,E)})).apply(this,arguments)}function Ti(S,E){return jc.apply(this,arguments)}function jc(){return(jc=(0,w.Z)(function*(S,E){return pu((0,ie.m9)(S),E)})).apply(this,arguments)}function Ba(){return(Ba=(0,w.Z)(function*(S,E){return Wn(S,"POST","/v1/accounts:signInWithCustomToken",Je(S,E))})).apply(this,arguments)}function Uh(S,E){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,w.Z)(function*(S,E){const T=Yr(S),P=yield function nc(S,E){return Ba.apply(this,arguments)}(T,{token:E,returnSecureToken:!0}),J=yield Oi._fromIdTokenResponse(T,"signIn",P);return yield T._updateCurrentUser(J.user),J}),Vu.apply(this,arguments)}class No{constructor(E,T){this.factorId=E,this.uid=T.mfaEnrollmentId,this.enrollmentTime=new Date(T.enrolledAt).toUTCString(),this.displayName=T.displayName}static _fromServerResponse(E,T){return"phoneInfo"in T?Hc._fromServerResponse(E,T):"totpInfo"in T?na._fromServerResponse(E,T):xe(E,"internal-error")}}class Hc extends No{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,T){return new Hc(T)}}class na extends No{constructor(E){super("totp",E)}static _fromServerResponse(E,T){return new na(T)}}function gu(S,E,T){var P;Ee((null===(P=T.url)||void 0===P?void 0:P.length)>0,S,"invalid-continue-uri"),Ee(typeof T.dynamicLinkDomain>"u"||T.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),E.continueUrl=T.url,E.dynamicLinkDomain=T.dynamicLinkDomain,E.canHandleCodeInApp=T.handleCodeInApp,T.iOS&&(Ee(T.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),E.iOSBundleId=T.iOS.bundleId),T.android&&(Ee(T.android.packageName.length>0,S,"missing-android-pkg-name"),E.androidInstallApp=T.android.installApp,E.androidMinimumVersionCode=T.android.minimumVersion,E.androidPackageName=T.android.packageName)}function yd(S,E,T){return rc.apply(this,arguments)}function rc(){return rc=(0,w.Z)(function*(S,E,T){var P;const J=Yr(S),oe={requestType:"PASSWORD_RESET",email:E,clientType:"CLIENT_TYPE_WEB"};if(null!==(P=J._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const He=yield jn(J,oe,"getOobCode",!0);T&&gu(J,He,T),yield Lu(J,He)}else T&&gu(J,oe,T),yield Lu(J,oe).catch(function(){var He=(0,w.Z)(function*(ft){if("auth/missing-recaptcha-token"!==ft.code)return Promise.reject(ft);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const nn=yield jn(J,oe,"getOobCode",!0);T&&gu(J,nn,T),yield Lu(J,nn)}});return function(ft){return He.apply(this,arguments)}}())}),rc.apply(this,arguments)}function hl(S,E,T){return ko.apply(this,arguments)}function ko(){return(ko=(0,w.Z)(function*(S,E,T){yield Hn((0,ie.m9)(S),{oobCode:E,newPassword:T})})).apply(this,arguments)}function Lo(S,E){return ja.apply(this,arguments)}function ja(){return ja=(0,w.Z)(function*(S,E){yield function ka(S,E){return Kr.apply(this,arguments)}((0,ie.m9)(S),{oobCode:E})}),ja.apply(this,arguments)}function Us(S,E){return ii.apply(this,arguments)}function ii(){return(ii=(0,w.Z)(function*(S,E){const T=(0,ie.m9)(S),P=yield Hn(T,{oobCode:E}),J=P.requestType;switch(Ee(J,T,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(P.newEmail,T,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(P.mfaInfo,T,"internal-error");default:Ee(P.email,T,"internal-error")}let oe=null;return P.mfaInfo&&(oe=No._fromServerResponse(Yr(T),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:oe},operation:J}})).apply(this,arguments)}function mu(S,E){return xs.apply(this,arguments)}function xs(){return(xs=(0,w.Z)(function*(S,E){const{data:T}=yield Us((0,ie.m9)(S),E);return T.email})).apply(this,arguments)}function Ha(S,E,T){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,w.Z)(function*(S,E,T){var P;const J=Yr(S),oe={returnSecureToken:!0,email:E,password:T,clientType:"CLIENT_TYPE_WEB"};let He;if(null!==(P=J._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const jt=yield jn(J,oe,"signUpPassword");He=xi(J,jt)}else He=xi(J,oe).catch(function(){var jt=(0,w.Z)(function*(Nn){if("auth/missing-recaptcha-token"===Nn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kr=yield jn(J,oe,"signUpPassword");return xi(J,kr)}return Promise.reject(Nn)});return function(Nn){return jt.apply(this,arguments)}}());const ft=yield He.catch(jt=>Promise.reject(jt)),nn=yield Oi._fromIdTokenResponse(J,"signIn",ft);return yield J._updateCurrentUser(nn.user),nn}),Uu.apply(this,arguments)}function $a(S,E,T){return ec((0,ie.m9)(S),_a.credential(E,T))}function ro(S,E,T){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,w.Z)(function*(S,E,T){var P;const J=Yr(S),oe={requestType:"EMAIL_SIGNIN",email:E,clientType:"CLIENT_TYPE_WEB"};function He(ft,nn){Ee(nn.handleCodeInApp,J,"argument-error"),nn&&gu(J,ft,nn)}if(null!==(P=J._getRecaptchaConfig())&&void 0!==P&&P.emailPasswordEnabled){const ft=yield jn(J,oe,"getOobCode",!0);He(ft,T),yield cu(J,ft)}else He(oe,T),yield cu(J,oe).catch(function(){var ft=(0,w.Z)(function*(nn){if("auth/missing-recaptcha-token"!==nn.code)return Promise.reject(nn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const jt=yield jn(J,oe,"getOobCode",!0);He(jt,T),yield cu(J,jt)}});return function(nn){return ft.apply(this,arguments)}}())}),Fo.apply(this,arguments)}function fl(S,E){const T=eo.parseLink(E);return"EMAIL_SIGNIN"===T?.operation}function za(S,E,T){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S),J=_a.credentialWithLink(E,T||Qt());return Ee(J._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),ec(P,J)})).apply(this,arguments)}function Ia(){return(Ia=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:createAuthUri",Je(S,E))})).apply(this,arguments)}function Xr(S,E){return _u.apply(this,arguments)}function _u(){return _u=(0,w.Z)(function*(S,E){const P={identifier:E,continueUri:_n()?Qt():"http://localhost"},{signinMethods:J}=yield function Vo(S,E){return Ia.apply(this,arguments)}((0,ie.m9)(S),P);return J||[]}),_u.apply(this,arguments)}function yu(S,E){return cs.apply(this,arguments)}function cs(){return cs=(0,w.Z)(function*(S,E){const T=(0,ie.m9)(S),J={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};E&&gu(T.auth,J,E);const{email:oe}=yield function ku(S,E){return ao.apply(this,arguments)}(T.auth,J);oe!==S.email&&(yield S.reload())}),cs.apply(this,arguments)}function Vl(S,E,T){return Bu.apply(this,arguments)}function Bu(){return Bu=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:E};T&&gu(P.auth,oe,T);const{email:He}=yield function Ii(S,E){return ns.apply(this,arguments)}(P.auth,oe);He!==S.email&&(yield S.reload())}),Bu.apply(this,arguments)}function Ga(){return(Ga=(0,w.Z)(function*(S,E){return vt(S,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function ic(S,E){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,w.Z)(function*(S,{displayName:E,photoURL:T}){if(void 0===E&&void 0===T)return;const P=(0,ie.m9)(S),oe={idToken:yield P.getIdToken(),displayName:E,photoUrl:T,returnSecureToken:!0},He=yield kn(P,function ra(S,E){return Ga.apply(this,arguments)}(P.auth,oe));P.displayName=He.displayName||null,P.photoURL=He.photoUrl||null;const ft=P.providerData.find(({providerId:nn})=>"password"===nn);ft&&(ft.displayName=P.displayName,ft.photoURL=P.photoURL),yield P._updateTokensIfNecessary(He)}),Uo.apply(this,arguments)}function uo(S,E){return qa((0,ie.m9)(S),E,null)}function ms(S,E){return qa((0,ie.m9)(S),null,E)}function qa(S,E,T){return pl.apply(this,arguments)}function pl(){return(pl=(0,w.Z)(function*(S,E,T){const{auth:P}=S,oe={idToken:yield S.getIdToken(),returnSecureToken:!0};E&&(oe.email=E),T&&(oe.password=T);const He=yield kn(S,Er(P,oe));yield S._updateTokensIfNecessary(He,!0)})).apply(this,arguments)}class Ka{constructor(E,T,P={}){this.isNewUser=E,this.providerId=T,this.profile=P}}class sc extends Ka{constructor(E,T,P,J){super(E,T,P),this.username=J}}class ia extends Ka{constructor(E,T){super(E,"facebook.com",T)}}class gl extends sc{constructor(E,T){super(E,"github.com",T,"string"==typeof T?.login?T?.login:null)}}class x extends Ka{constructor(E,T){super(E,"google.com",T)}}class q extends sc{constructor(E,T,P){super(E,"twitter.com",T,P)}}function ve(S){const{user:E,_tokenResponse:T}=S;return E.isAnonymous&&!T?{providerId:null,isNewUser:!1,profile:null}:function Wa(S){var E,T;if(!S)return null;const{providerId:P}=S,J=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},oe=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!P&&S?.idToken){const He=null===(T=null===(E=an(S.idToken))||void 0===E?void 0:E.firebase)||void 0===T?void 0:T.sign_in_provider;if(He)return new Ka(oe,"anonymous"!==He&&"custom"!==He?He:null)}if(!P)return null;switch(P){case"facebook.com":return new ia(oe,J);case"github.com":return new gl(oe,J);case"google.com":return new x(oe,J);case"twitter.com":return new q(oe,J,S.screenName||null);case"custom":case"anonymous":return new Ka(oe,null);default:return new Ka(oe,P,J)}}(T)}class wr{constructor(E,T,P){this.type=E,this.credential=T,this.auth=P}static _fromIdtoken(E,T){return new wr("enroll",E,T)}static _fromMfaPendingCredential(E){return new wr("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var T,P;if(E?.multiFactorSession){if(null!==(T=E.multiFactorSession)&&void 0!==T&&T.pendingCredential)return wr._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(P=E.multiFactorSession)&&void 0!==P&&P.idToken)return wr._fromIdtoken(E.multiFactorSession.idToken)}return null}}class mi{constructor(E,T,P){this.session=E,this.hints=T,this.signInResolver=P}static _fromError(E,T){const P=Yr(E),J=T.customData._serverResponse,oe=(J.mfaInfo||[]).map(ft=>No._fromServerResponse(P,ft));Ee(J.mfaPendingCredential,P,"internal-error");const He=wr._fromMfaPendingCredential(J.mfaPendingCredential);return new mi(He,oe,function(){var ft=(0,w.Z)(function*(nn){const jt=yield nn._process(P,He);delete J.mfaInfo,delete J.mfaPendingCredential;const Nn=Object.assign(Object.assign({},J),{idToken:jt.idToken,refreshToken:jt.refreshToken});switch(T.operationType){case"signIn":const kr=yield Oi._fromIdTokenResponse(P,T.operationType,Nn);return yield P._updateCurrentUser(kr.user),kr;case"reauthenticate":return Ee(T.user,P,"internal-error"),Oi._forOperation(T.user,T.operationType,Nn);default:xe(P,"internal-error")}});return function(nn){return ft.apply(this,arguments)}}())}resolveSignIn(E){var T=this;return(0,w.Z)(function*(){return T.signInResolver(E)})()}}function io(S,E){var T;const P=(0,ie.m9)(S),J=E;return Ee(E.customData.operationType,P,"argument-error"),Ee(null===(T=J.customData._serverResponse)||void 0===T?void 0:T.mfaPendingCredential,P,"argument-error"),mi._fromError(P,J)}class vn{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(T=>{T.mfaInfo&&(this.enrolledFactors=T.mfaInfo.map(P=>No._fromServerResponse(E.auth,P)))})}static _fromUser(E){return new vn(E)}getSession(){var E=this;return(0,w.Z)(function*(){return wr._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,T){var P=this;return(0,w.Z)(function*(){const J=E,oe=yield P.getSession(),He=yield kn(P.user,J._process(P.user.auth,oe,T));return yield P.user._updateTokensIfNecessary(He),P.user.reload()})()}unenroll(E){var T=this;return(0,w.Z)(function*(){const P="string"==typeof E?E:E.uid,J=yield T.user.getIdToken();try{const oe=yield kn(T.user,function Yt(S,E){return vt(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(S,E))}(T.user.auth,{idToken:J,mfaEnrollmentId:P}));T.enrolledFactors=T.enrolledFactors.filter(({uid:He})=>He!==P),yield T.user._updateTokensIfNecessary(oe),yield T.user.reload()}catch(oe){throw oe}})()}}const si=new WeakMap;function rn(S){const E=(0,ie.m9)(S);return si.has(E)||si.set(E,vn._fromUser(E)),si.get(E)}const ht="__sak";class At{constructor(E,T){this.storageRetriever=E,this.type=T}_isAvailable(){try{return this.storage?(this.storage.setItem(ht,"1"),this.storage.removeItem(ht),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,T){return this.storage.setItem(E,JSON.stringify(T)),Promise.resolve()}_get(E){const T=this.storage.getItem(E);return Promise.resolve(T?JSON.parse(T):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const vd=(()=>{class S extends At{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(T,P)=>this.onStorageEvent(T,P),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ds(){const S=(0,ie.z$)();return K(S)||Me(S)}()&&function _e(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=me(),this._shouldAllowMigration=!0}forAllChangedKeys(T){for(const P of Object.keys(this.listeners)){const J=this.storage.getItem(P),oe=this.localCache[P];J!==oe&&T(P,oe,J)}}onStorageEvent(T,P=!1){if(!T.key)return void this.forAllChangedKeys((ft,nn,jt)=>{this.notifyListeners(ft,jt)});const J=T.key;if(P?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(J);if(T.newValue!==ft)null!==T.newValue?this.storage.setItem(J,T.newValue):this.storage.removeItem(J);else if(this.localCache[J]===T.newValue&&!P)return}const oe=()=>{const ft=this.storage.getItem(J);!P&&this.localCache[J]===ft||this.notifyListeners(J,ft)},He=this.storage.getItem(J);!function Qe(){return(0,ie.w1)()&&10===document.documentMode}()||He===T.newValue||T.newValue===T.oldValue?oe():setTimeout(oe,10)}notifyListeners(T,P){this.localCache[T]=P;const J=this.listeners[T];if(J)for(const oe of Array.from(J))oe(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((T,P,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:T,oldValue:P,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(T,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[T]||(this.listeners[T]=new Set,this.localCache[T]=this.storage.getItem(T)),this.listeners[T].add(P)}_removeListener(T,P){this.listeners[T]&&(this.listeners[T].delete(P),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(T,P){var J=()=>super._set,oe=this;return(0,w.Z)(function*(){yield J().call(oe,T,P),oe.localCache[T]=JSON.stringify(P)})()}_get(T){var P=()=>super._get,J=this;return(0,w.Z)(function*(){const oe=yield P().call(J,T);return J.localCache[T]=JSON.stringify(oe),oe})()}_remove(T){var P=()=>super._remove,J=this;return(0,w.Z)(function*(){yield P().call(J,T),delete J.localCache[T]})()}}return S.type="LOCAL",S})(),ju=(()=>{class S extends At{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(T,P){}_removeListener(T,P){}}return S.type="SESSION",S})();let Bo=(()=>{class S{constructor(T){this.eventTarget=T,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(T){const P=this.receivers.find(oe=>oe.isListeningto(T));if(P)return P;const J=new S(T);return this.receivers.push(J),J}isListeningto(T){return this.eventTarget===T}handleEvent(T){var P=this;return(0,w.Z)(function*(){const J=T,{eventId:oe,eventType:He,data:ft}=J.data,nn=P.handlersMap[He];if(!nn?.size)return;J.ports[0].postMessage({status:"ack",eventId:oe,eventType:He});const jt=Array.from(nn).map(function(){var kr=(0,w.Z)(function*(so){return so(J.origin,ft)});return function(so){return kr.apply(this,arguments)}}()),Nn=yield function vu(S){return Promise.all(S.map(function(){var E=(0,w.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(P){return{fulfilled:!1,reason:P}}});return function(T){return E.apply(this,arguments)}}()))}(jt);J.ports[0].postMessage({status:"done",eventId:oe,eventType:He,response:Nn})})()}_subscribe(T,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[T]||(this.handlersMap[T]=new Set),this.handlersMap[T].add(P)}_unsubscribe(T,P){this.handlersMap[T]&&P&&this.handlersMap[T].delete(P),(!P||0===this.handlersMap[T].size)&&delete this.handlersMap[T],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function Hu(S="",E=10){let T="";for(let P=0;P<E;P++)T+=Math.floor(10*Math.random());return S+T}class kf{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,T,P=50){var J=this;return(0,w.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let He,ft;return new Promise((nn,jt)=>{const Nn=Hu("",20);oe.port1.start();const kr=setTimeout(()=>{jt(new Error("unsupported_event"))},P);ft={messageChannel:oe,onMessage(so){const ho=so;if(ho.data.eventId===Nn)switch(ho.data.status){case"ack":clearTimeout(kr),He=setTimeout(()=>{jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),nn(ho.data.response);break;default:clearTimeout(kr),clearTimeout(He),jt(new Error("invalid_response"))}}},J.handlers.add(ft),oe.port1.addEventListener("message",ft.onMessage),J.target.postMessage({eventType:E,eventId:Nn,data:T},[oe.port2])}).finally(()=>{ft&&J.removeMessageHandler(ft)})})()}}function Rs(){return window}function $u(){return typeof Rs().WorkerGlobalScope<"u"&&"function"==typeof Rs().importScripts}function bi(){return(bi=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xn="firebaseLocalStorageDb",Mr="firebaseLocalStorage",on="fbase_key";class Eu{constructor(E){this.request=E}toPromise(){return new Promise((E,T)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{T(this.request.error)})})}}function Eo(S,E){return S.transaction([Mr],E?"readwrite":"readonly").objectStore(Mr)}function oc(){const S=indexedDB.open(Xn,1);return new Promise((E,T)=>{S.addEventListener("error",()=>{T(S.error)}),S.addEventListener("upgradeneeded",()=>{const P=S.result;try{P.createObjectStore(Mr,{keyPath:on})}catch(J){T(J)}}),S.addEventListener("success",(0,w.Z)(function*(){const P=S.result;P.objectStoreNames.contains(Mr)?E(P):(P.close(),yield function wu(){const S=indexedDB.deleteDatabase(Xn);return new Eu(S).toPromise()}(),E(yield oc()))}))})}function Ta(S,E,T){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,w.Z)(function*(S,E,T){const P=Eo(S,!0).put({[on]:E,value:T});return new Eu(P).toPromise()})).apply(this,arguments)}function Iu(){return(Iu=(0,w.Z)(function*(S,E){const T=Eo(S,!1).get(E),P=yield new Eu(T).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function $c(S,E){const T=Eo(S,!0).delete(E);return new Eu(T).toPromise()}const Io=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var T=this;return(0,w.Z)(function*(){return T.db||(T.db=yield oc()),T.db})()}_withRetries(T){var P=this;return(0,w.Z)(function*(){let J=0;for(;;)try{const oe=yield P._openDb();return yield T(oe)}catch(oe){if(J++>3)throw oe;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var T=this;return(0,w.Z)(function*(){return $u()?T.initializeReceiver():T.initializeSender()})()}initializeReceiver(){var T=this;return(0,w.Z)(function*(){T.receiver=Bo._getInstance(function jo(){return $u()?self:null}()),T.receiver._subscribe("keyChanged",function(){var P=(0,w.Z)(function*(J,oe){return{keyProcessed:(yield T._poll()).includes(oe.key)}});return function(J,oe){return P.apply(this,arguments)}}()),T.receiver._subscribe("ping",function(){var P=(0,w.Z)(function*(J,oe){return["keyChanged"]});return function(J,oe){return P.apply(this,arguments)}}())})()}initializeSender(){var T=this;return(0,w.Z)(function*(){var P,J;if(T.activeServiceWorker=yield function nr(){return bi.apply(this,arguments)}(),!T.activeServiceWorker)return;T.sender=new kf(T.activeServiceWorker);const oe=yield T.sender._send("ping",{},800);oe&&null!==(P=oe[0])&&void 0!==P&&P.fulfilled&&null!==(J=oe[0])&&void 0!==J&&J.value.includes("keyChanged")&&(T.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(T){var P=this;return(0,w.Z)(function*(){if(P.sender&&P.activeServiceWorker&&function On(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:T},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const T=yield oc();return yield Ta(T,ht,"1"),yield $c(T,ht),!0}catch{}return!1})()}_withPendingWrite(T){var P=this;return(0,w.Z)(function*(){P.pendingWrites++;try{yield T()}finally{P.pendingWrites--}})()}_set(T,P){var J=this;return(0,w.Z)(function*(){return J._withPendingWrite((0,w.Z)(function*(){return yield J._withRetries(oe=>Ta(oe,T,P)),J.localCache[T]=P,J.notifyServiceWorker(T)}))})()}_get(T){var P=this;return(0,w.Z)(function*(){const J=yield P._withRetries(oe=>function Vr(S,E){return Iu.apply(this,arguments)}(oe,T));return P.localCache[T]=J,J})()}_remove(T){var P=this;return(0,w.Z)(function*(){return P._withPendingWrite((0,w.Z)(function*(){return yield P._withRetries(J=>$c(J,T)),delete P.localCache[T],P.notifyServiceWorker(T)}))})()}_poll(){var T=this;return(0,w.Z)(function*(){const P=yield T._withRetries(He=>{const ft=Eo(He,!1).getAll();return new Eu(ft).toPromise()});if(!P)return[];if(0!==T.pendingWrites)return[];const J=[],oe=new Set;for(const{fbase_key:He,value:ft}of P)oe.add(He),JSON.stringify(T.localCache[He])!==JSON.stringify(ft)&&(T.notifyListeners(He,ft),J.push(He));for(const He of Object.keys(T.localCache))T.localCache[He]&&!oe.has(He)&&(T.notifyListeners(He,null),J.push(He));return J})()}notifyListeners(T,P){this.localCache[T]=P;const J=this.listeners[T];if(J)for(const oe of Array.from(J))oe(P)}startPolling(){var T=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return T._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(T,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[T]||(this.listeners[T]=new Set,this._get(T)),this.listeners[T].add(P)}_removeListener(T,P){this.listeners[T]&&(this.listeners[T].delete(P),0===this.listeners[T].size&&delete this.listeners[T]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})(),Bs=1e12;class To{constructor(E){this.auth=E,this.counter=Bs,this._widgets=new Map}render(E,T){const P=this.counter;return this._widgets.set(P,new bu(E,this.auth.name,T||{})),this.counter++,P}reset(E){var T;const P=E||Bs;null===(T=this._widgets.get(P))||void 0===T||T.delete(),this._widgets.delete(P)}getResponse(E){var T;return(null===(T=this._widgets.get(E||Bs))||void 0===T?void 0:T.getResponse())||""}execute(E){var T=this;return(0,w.Z)(function*(){var P;return null===(P=T._widgets.get(E||Bs))||void 0===P||P.execute(),""})()}}class bu{constructor(E,T,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof E?document.getElementById(E):E;Ee(J,"argument-error",{appName:T}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function A(S){const E=[],T="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<S;P++)E.push(T.charAt(Math.floor(62*Math.random())));return E.join("")}(50);const{callback:E,"expired-callback":T}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,T)try{T()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const N=Dr("rcb"),V=new Kn(3e4,6e4);class z{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=Rs().grecaptcha)||void 0===E||!E.render)}load(E,T=""){return Ee(function se(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(T),E,"argument-error"),this.shouldResolveImmediately(T)&&Bt(Rs().grecaptcha)?Promise.resolve(Rs().grecaptcha):new Promise((P,J)=>{const oe=Rs().setTimeout(()=>{J(pt(E,"network-request-failed"))},V.get());Rs()[N]=()=>{Rs().clearTimeout(oe),delete Rs()[N];const ft=Rs().grecaptcha;if(!ft||!Bt(ft))return void J(pt(E,"internal-error"));const nn=ft.render;ft.render=(jt,Nn)=>{const kr=nn(jt,Nn);return this.counter++,kr},this.hostLanguage=T,P(ft)},Di(`https://www.google.com/recaptcha/api.js??${(0,ie.xO)({onload:N,render:"explicit",hl:T})}`).catch(()=>{clearTimeout(oe),J(pt(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var T;return!(null===(T=Rs().grecaptcha)||void 0===T||!T.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fe{load(E){return(0,w.Z)(function*(){return new To(E)})()}clearedOneInstance(){}}const Ze="recaptcha",Nt={theme:"light",type:"image"};class Tt{constructor(E,T=Object.assign({},Nt),P){this.parameters=T,this.type=Ze,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yr(P),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof E?document.getElementById(E):E;Ee(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fe:new z,this.validateStartingState()}verify(){var E=this;return(0,w.Z)(function*(){E.assertNotDestroyed();const T=yield E.render(),P=E.getAssertedRecaptcha();return P.getResponse(T)||new Promise(oe=>{const He=ft=>{ft&&(E.tokenChangeListeners.delete(He),oe(ft))};E.tokenChangeListeners.add(He),E.isInvisible&&P.execute(T)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return T=>{if(this.tokenChangeListeners.forEach(P=>P(T)),"function"==typeof E)E(T);else if("string"==typeof E){const P=Rs()[E];"function"==typeof P&&P(T)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,w.Z)(function*(){if(yield E.init(),!E.widgetId){let T=E.container;if(!E.isInvisible){const P=document.createElement("div");T.appendChild(P),T=P}E.widgetId=E.getAssertedRecaptcha().render(T,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,w.Z)(function*(){Ee(_n()&&!$u(),E.auth,"internal-error"),yield function gn(){let S=null;return new Promise(E=>{"complete"!==document.readyState?(S=()=>E(),window.addEventListener("load",S)):E()}).catch(E=>{throw S&&window.removeEventListener("load",S),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const T=yield function Ye(S){return Ft.apply(this,arguments)}(E.auth);Ee(T,E.auth,"internal-error"),E.parameters.sitekey=T})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mr{constructor(E,T){this.verificationId=E,this.onConfirmation=T}confirm(E){const T=Mn._fromVerification(this.verificationId,E);return this.onConfirmation(T)}}function oi(S,E,T){return _r.apply(this,arguments)}function _r(){return(_r=(0,w.Z)(function*(S,E,T){const P=Yr(S),J=yield ml(P,E,(0,ie.m9)(T));return new mr(J,oe=>ec(P,oe))})).apply(this,arguments)}function co(S,E,T){return ba.apply(this,arguments)}function ba(){return(ba=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S);yield Ua(!1,P,"phone");const J=yield ml(P.auth,E,(0,ie.m9)(T));return new mr(J,oe=>Bc(P,oe))})).apply(this,arguments)}function sa(S,E,T){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S),J=yield ml(P.auth,E,(0,ie.m9)(T));return new mr(J,oe=>Ti(P,oe))})).apply(this,arguments)}function ml(S,E,T){return ac.apply(this,arguments)}function ac(){return ac=(0,w.Z)(function*(S,E,T){var P;const J=yield T.verify();try{let oe;if(Ee("string"==typeof J,S,"argument-error"),Ee(T.type===Ze,S,"argument-error"),oe="string"==typeof E?{phoneNumber:E}:E,"session"in oe){const He=oe.session;if("phoneNumber"in oe)return Ee("enroll"===He.type,S,"internal-error"),(yield function Lt(S,E){return vt(S,"POST","/v2/accounts/mfaEnrollment:start",Je(S,E))}(S,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Ee("signin"===He.type,S,"internal-error");const ft=(null===(P=oe.multiFactorHint)||void 0===P?void 0:P.uid)||oe.multiFactorUid;return Ee(ft,S,"missing-multi-factor-info"),(yield function zn(S,E){return vt(S,"POST","/v2/accounts/mfaSignIn:start",Je(S,E))}(S,{mfaPendingCredential:He.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield function sr(S,E){return Jr.apply(this,arguments)}(S,{phoneNumber:oe.phoneNumber,recaptchaToken:J});return He}}finally{T._reset()}}),ac.apply(this,arguments)}function $o(S,E){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,w.Z)(function*(S,E){yield As((0,ie.m9)(S),E)})).apply(this,arguments)}let Ji=(()=>{class S{constructor(T){this.providerId=S.PROVIDER_ID,this.auth=Yr(T)}verifyPhoneNumber(T,P){return ml(this.auth,T,(0,ie.m9)(P))}static credential(T,P){return Mn._fromVerification(T,P)}static credentialFromResult(T){return S.credentialFromTaggedObject(T)}static credentialFromError(T){return S.credentialFromTaggedObject(T.customData||{})}static credentialFromTaggedObject({_tokenResponse:T}){if(!T)return null;const{phoneNumber:P,temporaryProof:J}=T;return P&&J?Mn._fromTokenResponse(P,J):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function Cu(S,E){return E?kt(E):(Ee(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class Ed extends Kt{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Fr(E,this._buildIdpRequest())}_linkToIdToken(E,T){return Fr(E,this._buildIdpRequest(T))}_getReauthenticationResolver(E){return Fr(E,this._buildIdpRequest())}_buildIdpRequest(E){const T={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(T.idToken=E),T}}function Ya(S){return Xl(S.auth,new Ed(S),S.bypassAuthState)}function eh(S){const{auth:E,user:T}=S;return Ee(T,E,"internal-error"),pu(T,new Ed(S),S.bypassAuthState)}function th(S){return uc.apply(this,arguments)}function uc(){return(uc=(0,w.Z)(function*(S){const{auth:E,user:T}=S;return Ee(T,E,"internal-error"),As(T,new Ed(S),S.bypassAuthState)})).apply(this,arguments)}class zu{constructor(E,T,P,J,oe=!1){this.auth=E,this.resolver=P,this.user=J,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(T)?T:[T]}execute(){var E=this;return new Promise(function(){var T=(0,w.Z)(function*(P,J){E.pendingPromise={resolve:P,reject:J};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(oe){E.reject(oe)}});return function(P,J){return T.apply(this,arguments)}}())}onAuthEvent(E){var T=this;return(0,w.Z)(function*(){const{urlResponse:P,sessionId:J,postBody:oe,tenantId:He,error:ft,type:nn}=E;if(ft)return void T.reject(ft);const jt={auth:T.auth,requestUri:P,sessionId:J,tenantId:He||void 0,postBody:oe||void 0,user:T.user,bypassAuthState:T.bypassAuthState};try{T.resolve(yield T.getIdpTask(nn)(jt))}catch(Nn){T.reject(Nn)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Ya;case"linkViaPopup":case"linkViaRedirect":return th;case"reauthViaPopup":case"reauthViaRedirect":return eh;default:xe(this.auth,"internal-error")}}resolve(E){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _l=new Kn(2e3,1e4);function oa(S,E,T){return yl.apply(this,arguments)}function yl(){return(yl=(0,w.Z)(function*(S,E,T){const P=Yr(S);ut(S,E,to);const J=Cu(P,T);return new lc(P,"signInViaPopup",E,J).executeNotNull()})).apply(this,arguments)}function jh(S,E,T){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S);ut(P.auth,E,to);const J=Cu(P.auth,T);return new lc(P.auth,"reauthViaPopup",E,J,P).executeNotNull()})).apply(this,arguments)}function zc(S,E,T){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S);ut(P.auth,E,to);const J=Cu(P.auth,T);return new lc(P.auth,"linkViaPopup",E,J,P).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class S extends zu{constructor(T,P,J,oe,He){super(T,P,oe,He),this.provider=J,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var T=this;return(0,w.Z)(function*(){const P=yield T.execute();return Ee(P,T.auth,"internal-error"),P})()}onExecution(){var T=this;return(0,w.Z)(function*(){Ot(1===T.filter.length,"Popup operations only handle one event");const P=Hu();T.authWindow=yield T.resolver._openPopup(T.auth,T.provider,T.filter[0],P),T.authWindow.associatedEvent=P,T.resolver._originValidation(T.auth).catch(J=>{T.reject(J)}),T.resolver._isIframeWebStorageSupported(T.auth,J=>{J||T.reject(pt(T.auth,"web-storage-unsupported"))}),T.pollUserCancellation()})()}get eventId(){var T;return(null===(T=this.authWindow)||void 0===T?void 0:T.associatedEvent)||null}cancel(){this.reject(pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const T=()=>{var P,J;this.pollId=null!==(J=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(T,_l.get())};T()}}return S.currentPopupAction=null,S})();const js="pendingRedirect",aa=new Map;class ua extends zu{constructor(E,T,P=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],T,void 0,P),this.eventId=null}execute(){var E=()=>super.execute,T=this;return(0,w.Z)(function*(){let P=aa.get(T.auth._key());if(!P){try{const oe=(yield function $h(S,E){return yi.apply(this,arguments)}(T.resolver,T.auth))?yield E().call(T):null;P=()=>Promise.resolve(oe)}catch(J){P=()=>Promise.reject(J)}aa.set(T.auth._key(),P)}return T.bypassAuthState||aa.set(T.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(E){var T=()=>super.onAuthEvent,P=this;return(0,w.Z)(function*(){if("signInViaRedirect"===E.type)return T().call(P,E);if("unknown"!==E.type){if(E.eventId){const J=yield P.auth._redirectUserForId(E.eventId);if(J)return P.user=J,T().call(P,E);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function yi(){return(yi=(0,w.Z)(function*(S,E){const T=la(E),P=Gc(S);if(!(yield P._isAvailable()))return!1;const J="true"===(yield P._get(T));return yield P._remove(T),J})).apply(this,arguments)}function vl(S,E){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,w.Z)(function*(S,E){return Gc(S)._set(la(E),"true")})).apply(this,arguments)}function Xi(){aa.clear()}function zh(S,E){aa.set(S._key(),E)}function Gc(S){return kt(S._redirectPersistence)}function la(S){return pr(js,S.config.apiKey,S.name)}function qc(S,E,T){return function Bl(S,E,T){return _s.apply(this,arguments)}(S,E,T)}function _s(){return(_s=(0,w.Z)(function*(S,E,T){const P=Yr(S);ut(S,E,to),yield P._initializationPromise;const J=Cu(P,T);return yield vl(J,P),J._openRedirect(P,E,"signInViaRedirect")})).apply(this,arguments)}function wd(S,E,T){return function Ja(S,E,T){return Ri.apply(this,arguments)}(S,E,T)}function Ri(){return(Ri=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S);ut(P.auth,E,to),yield P.auth._initializationPromise;const J=Cu(P.auth,T);yield vl(J,P.auth);const oe=yield Hl(P);return J._openRedirect(P.auth,E,"reauthViaRedirect",oe)})).apply(this,arguments)}function qu(S,E,T){return function ys(S,E,T){return vs.apply(this,arguments)}(S,E,T)}function vs(){return(vs=(0,w.Z)(function*(S,E,T){const P=(0,ie.m9)(S);ut(P.auth,E,to),yield P.auth._initializationPromise;const J=Cu(P.auth,T);yield Ua(!1,P,E.providerId),yield vl(J,P.auth);const oe=yield Hl(P);return J._openRedirect(P.auth,E,"linkViaRedirect",oe)})).apply(this,arguments)}function jl(S,E){return zo.apply(this,arguments)}function zo(){return(zo=(0,w.Z)(function*(S,E){return yield Yr(S)._initializationPromise,Wu(S,E,!1)})).apply(this,arguments)}function Wu(S,E){return ca.apply(this,arguments)}function ca(){return(ca=(0,w.Z)(function*(S,E,T=!1){const P=Yr(S),J=Cu(P,E),He=yield new ua(P,J,T).execute();return He&&!T&&(delete He.user._redirectEventId,yield P._persistUserIfCurrent(He.user),yield P._setRedirectUser(null,E)),He})).apply(this,arguments)}function Hl(S){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,w.Z)(function*(S){const E=Hu(`${S.uid}:::`);return S._redirectEventId=E,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),E})).apply(this,arguments)}class Ku{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let T=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(E,P)&&(T=!0,this.sendToConsumer(E,P),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Ca(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zu(S);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,T||(this.queuedRedirectEvent=E,T=!0)),T}sendToConsumer(E,T){var P;if(E.error&&!Zu(E)){const J=(null===(P=E.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";T.onError(pt(this.auth,J))}else T.onAuthEvent(E)}isEventForConsumer(E,T){const P=null===T.eventId||!!E.eventId&&E.eventId===T.eventId;return T.filter.includes(E.type)&&P}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Du(E))}saveEventToCache(E){this.cachedEventUids.add(Du(E)),this.lastProcessedEventTime=Date.now()}}function Du(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(E=>E).join("-")}function Zu({type:S,error:E}){return"unknown"===S&&"auth/no-auth-event"===E?.code}function El(S){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,w.Z)(function*(S,E={}){return vt(S,"GET","/v1/projects",E)})).apply(this,arguments)}const Wc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$l=/^https?/;function Kc(){return(Kc=(0,w.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:E}=yield El(S);for(const T of E)try{if(nh(T))return}catch{}xe(S,"unauthorized-domain")})).apply(this,arguments)}function nh(S){const E=Qt(),{protocol:T,hostname:P}=new URL(E);if(S.startsWith("chrome-extension://")){const He=new URL(S);return""===He.hostname&&""===P?"chrome-extension:"===T&&S.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===T&&He.hostname===P}if(!$l.test(T))return!1;if(Wc.test(S))return P===S;const J=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(P)}const Yu=new Kn(3e4,6e4);function qo(){const S=Rs().___jsl;if(S?.H)for(const E of Object.keys(S.H))if(S.H[E].r=S.H[E].r||[],S.H[E].L=S.H[E].L||[],S.H[E].r=[...S.H[E].L],S.CP)for(let T=0;T<S.CP.length;T++)S.CP[T]=null}let $s=null;const Zc=new Kn(5e3,15e3),Ju="__/auth/iframe",bo="emulator/auth/iframe",cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Da(S){const E=S.config;Ee(E.authDomain,S,"auth-domain-config-required");const T=E.emulator?fr(E,bo):`https://${S.config.authDomain}/${Ju}`,P={apiKey:E.apiKey,appName:S.name,v:Y.SDK_VERSION},J=Ni.get(S.config.apiHost);J&&(P.eid=J);const oe=S._getFrameworks();return oe.length&&(P.fw=oe.join(",")),`${T}?${(0,ie.xO)(P).slice(1)}`}function Xu(){return Xu=(0,w.Z)(function*(S){const E=yield function zl(S){return $s=$s||function Gh(S){return new Promise((E,T)=>{var P,J,oe;function He(){qo(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{qo(),T(pt(S,"network-request-failed"))},timeout:Yu.get()})}if(null!==(J=null===(P=Rs().gapi)||void 0===P?void 0:P.iframes)&&void 0!==J&&J.Iframe)E(gapi.iframes.getContext());else{if(null===(oe=Rs().gapi)||void 0===oe||!oe.load){const ft=Dr("iframefcb");return Rs()[ft]=()=>{gapi.load?He():T(pt(S,"network-request-failed"))},Di(`https://apis.google.com/js/api.js?onload=${ft}`).catch(nn=>T(nn))}He()}}).catch(E=>{throw $s=null,E})}(S),$s}(S),T=Rs().gapi;return Ee(T,S,"internal-error"),E.open({where:document.body,url:Da(S),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cc,dontclear:!0},P=>new Promise(function(){var J=(0,w.Z)(function*(oe,He){yield P.restyle({setHideOnLeave:!1});const ft=pt(S,"network-request-failed"),nn=Rs().setTimeout(()=>{He(ft)},Zc.get());function jt(){Rs().clearTimeout(nn),oe(P)}P.ping(jt).then(jt,()=>{He(ft)})});return function(oe,He){return J.apply(this,arguments)}}()))}),Xu.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class We{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const un="__/auth/handler",xn="emulator/auth/handler",hr=encodeURIComponent("fac");function Yn(S,E,T,P,J,oe){return zs.apply(this,arguments)}function zs(){return(zs=(0,w.Z)(function*(S,E,T,P,J,oe){Ee(S.config.authDomain,S,"auth-domain-config-required"),Ee(S.config.apiKey,S,"invalid-api-key");const He={apiKey:S.config.apiKey,appName:S.name,authType:T,redirectUrl:P,v:Y.SDK_VERSION,eventId:J};if(E instanceof to){E.setDefaultLanguage(S.languageCode),He.providerId=E.providerId||"",(0,ie.xb)(E.getCustomParameters())||(He.customParameters=JSON.stringify(E.getCustomParameters()));for(const[Nn,kr]of Object.entries(oe||{}))He[Nn]=kr}if(E instanceof ls){const Nn=E.getScopes().filter(kr=>""!==kr);Nn.length>0&&(He.scopes=Nn.join(","))}S.tenantId&&(He.tid=S.tenantId);const ft=He;for(const Nn of Object.keys(ft))void 0===ft[Nn]&&delete ft[Nn];const nn=yield S._getAppCheckToken(),jt=nn?`#${hr}=${encodeURIComponent(nn)}`:"";return`${function Gs({config:S}){return S.emulator?fr(S,xn):`https://${S.authDomain}/${un}`}(S)}?${(0,ie.xO)(ft).slice(1)}${jt}`})).apply(this,arguments)}const Gi="webStorageSupport",da=class Id{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ju,this._completeRedirectFn=Wu,this._overrideRedirectResult=zh}_openPopup(E,T,P,J){var oe=this;return(0,w.Z)(function*(){var He;Ot(null===(He=oe.eventManagers[E._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const ft=yield Yn(E,T,P,Qt(),J);return function Et(S,E,T,P=500,J=600){const oe=Math.max((window.screen.availHeight-J)/2,0).toString(),He=Math.max((window.screen.availWidth-P)/2,0).toString();let ft="";const nn=Object.assign(Object.assign({},R),{width:P.toString(),height:J.toString(),top:oe,left:He}),jt=(0,ie.z$)().toLowerCase();T&&(ft=H(jt)?"_blank":T),G(jt)&&(E=E||"http://localhost",nn.scrollbars="yes");const Nn=Object.entries(nn).reduce((so,[ho,sh])=>`${so}${ho}=${sh},`,"");if(function ge(S=(0,ie.z$)()){var E;return Me(S)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(jt)&&"_self"!==ft)return function ln(S,E){const T=document.createElement("a");T.href=S,T.target=E;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),T.dispatchEvent(P)}(E||"",ft),new We(null);const kr=window.open(E||"",ft,Nn);Ee(kr,S,"popup-blocked");try{kr.focus()}catch{}return new We(kr)}(E,ft,Hu())})()}_openRedirect(E,T,P,J){var oe=this;return(0,w.Z)(function*(){return yield oe._originValidation(E),function or(S){Rs().location.href=S}(yield Yn(E,T,P,Qt(),J)),new Promise(()=>{})})()}_initialize(E){const T=E._key();if(this.eventManagers[T]){const{manager:J,promise:oe}=this.eventManagers[T];return J?Promise.resolve(J):(Ot(oe,"If manager is not set, promise should be"),oe)}const P=this.initAndGetManager(E);return this.eventManagers[T]={promise:P},P.catch(()=>{delete this.eventManagers[T]}),P}initAndGetManager(E){var T=this;return(0,w.Z)(function*(){const P=yield function Aa(S){return Xu.apply(this,arguments)}(E),J=new Ku(E);return P.register("authEvent",oe=>(Ee(oe?.authEvent,E,"invalid-auth-event"),{status:J.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),T.eventManagers[E._key()]={manager:J},T.iframes[E._key()]=P,J})()}_isIframeWebStorageSupported(E,T){this.iframes[E._key()].send(Gi,{type:Gi},J=>{var oe;const He=null===(oe=J?.[0])||void 0===oe?void 0:oe[Gi];void 0!==He&&T(!!He),xe(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const T=E._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function eu(S){return Kc.apply(this,arguments)}(E)),this.originValidationPromises[T]}get _shouldInitProactively(){return me()||K()||Me()}};class Wo{constructor(E){this.factorId=E}_process(E,T,P){switch(T.type){case"enroll":return this._finalizeEnroll(E,T.credential,P);case"signin":return this._finalizeSignIn(E,T.credential);default:return dt("unexpected MultiFactorSessionType")}}}class hs extends Wo{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new hs(E)}_finalizeEnroll(E,T,P){return function Zr(S,E){return vt(S,"POST","/v2/accounts/mfaEnrollment:finalize",Je(S,E))}(E,{idToken:T,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,T){return function Tu(S,E){return vt(S,"POST","/v2/accounts/mfaSignIn:finalize",Je(S,E))}(E,{mfaPendingCredential:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dc=(()=>{class S{constructor(){}static assertion(T){return hs._fromCredential(T)}}return S.FACTOR_ID="phone",S})();var rh="@firebase/auth";class rg{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var T=this;return(0,w.Z)(function*(){return T.assertAuthConfigured(),yield T.auth._initializationPromise,T.auth.currentUser?{accessToken:yield T.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const T=this.auth.onIdTokenChanged(P=>{E(P?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,T),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const T=this.internalListeners.get(E);T&&(this.internalListeners.delete(E),T(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ie.Pz)("authIdTokenMaxAge"),function qh(S){(0,Y._registerComponent)(new Ae.wA("auth",(E,{options:T})=>{const P=E.getProvider("app").getImmediate(),J=E.getProvider("heartbeat"),oe=E.getProvider("app-check-internal"),{apiKey:He,authDomain:ft}=P.options;Ee(He&&!He.includes(":"),"invalid-api-key",{appName:P.name});const nn={apiKey:He,authDomain:ft,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ze(S)},jt=new Wr(P,J,oe,nn);return function Na(S,E){const T=E?.persistence||[],P=(Array.isArray(T)?T:[T]).map(kt);E?.errorMap&&S._updateErrorMap(E.errorMap),S._initializeWithPersistence(P,E?.popupRedirectResolver)}(jt,T),jt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,T,P)=>{E.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new Ae.wA("auth-internal",E=>{const T=Yr(E.getProvider("auth").getImmediate());return new rg(T)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(rh,"0.23.2",function Co(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,Y.registerVersion)(rh,"0.23.2","esm2017")}("Browser")},8162:(Gt,$e,U)=>{U.d($e,{u7:()=>E_,Jj:()=>$d,IX:()=>fE,my:()=>Qs,xU:()=>Yl,Lz:()=>Rl,WA:()=>At,F8:()=>zg,$q:()=>Fc,W:()=>hd,EK:()=>bi,PU:()=>nm,l7:()=>Wu,Ky:()=>on,Xb:()=>Mr,Cf:()=>Qr,K9:()=>si,Me:()=>Bl,yq:()=>Vi,Wi:()=>Tf,ET:()=>D_,Ab:()=>Pf,vr:()=>rm,Fc:()=>f_,hJ:()=>Ky,B$:()=>c_,at:()=>Wy,oe:()=>Hp,AK:()=>Kw,TF:()=>Cf,JU:()=>Hd,ST:()=>Fp,fH:()=>jw,Ix:()=>Zy,Wu:()=>y_,Lx:()=>EE,qY:()=>Ys,GL:()=>Wd,QT:()=>AE,kl:()=>jp,Xk:()=>b_,PL:()=>SE,UQ:()=>xE,zN:()=>RE,ad:()=>Rh,nP:()=>im,b9:()=>yE,vh:()=>Zg,Pb:()=>p_,L$:()=>$w,cf:()=>rv,sc:()=>A_,Xo:()=>_E,IO:()=>Up,iE:()=>d_,Eo:()=>Nc,i3:()=>Ww,Bt:()=>zp,pl:()=>Xg,Ub:()=>io,qK:()=>DE,TQ:()=>__,e0:()=>vE,r7:()=>C_,Mx:()=>pE,ar:()=>kh});var pe,w=U(5861),ie=U(7592),Y=U(4537),ue=U(7879),m=U(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={},Se=Se||{},re=Ae||self;function ye(u){var t=typeof u;return"array"==(t="object"!=t?t:u?Array.isArray(u)?"array":t:"null")||"object"==t&&"number"==typeof u.length}function Pe(u){var t=typeof u;return"object"==t&&null!=u||"function"==t}var it="closure_uid_"+(1e9*Math.random()>>>0),Pt=0;function Le(u,t,o){return u.call.apply(u.bind,arguments)}function De(u,t,o){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,c),u.apply(t,p)}}return function(){return u.apply(t,arguments)}}function Fe(u,t,o){return(Fe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Le:De).apply(null,arguments)}function wt(u,t){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function yt(u,t){function o(){}o.prototype=t.prototype,u.$=t.prototype,u.prototype=new o,u.prototype.constructor=u,u.ac=function(c,p,y){for(var I=Array(arguments.length-2),O=2;O<arguments.length;O++)I[O-2]=arguments[O];return t.prototype[p].apply(c,I)}}function xe(){this.s=this.s,this.o=this.o}xe.prototype.s=!1,xe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Be(u){Object.prototype.hasOwnProperty.call(u,it)&&u[it]||(u[it]=++Pt)}(this)},xe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ke=Array.prototype.indexOf?function(u,t){return Array.prototype.indexOf.call(u,t,void 0)}:function(u,t){if("string"==typeof u)return"string"!=typeof t||1!=t.length?-1:u.indexOf(t,0);for(let o=0;o<u.length;o++)if(o in u&&u[o]===t)return o;return-1};function ut(u){const t=u.length;if(0<t){const o=Array(t);for(let c=0;c<t;c++)o[c]=u[c];return o}return[]}function mt(u,t){for(let o=1;o<arguments.length;o++){const c=arguments[o];if(ye(c)){const p=u.length||0,y=c.length||0;u.length=p+y;for(let I=0;I<y;I++)u[p+I]=c[I]}else u.push(c)}}function Ee(u,t){this.type=u,this.g=this.target=t,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var u=!1,t=Object.defineProperty({},"passive",{get:function(){u=!0}});try{re.addEventListener("test",()=>{},t),re.removeEventListener("test",()=>{},t)}catch{}return u}();function Ot(u){return/^[\s\xa0]*$/.test(u)}function Qt(){var u=re.navigator;return u&&(u=u.userAgent)?u:""}function _n(u){return-1!=Qt().indexOf(u)}function yr(u){return yr[" "](u),u}yr[" "]=function(){};var vt,u,ar=_n("Opera"),Kn=_n("Trident")||_n("MSIE"),fr=_n("Edge"),qe=fr||Kn,at=_n("Gecko")&&!(-1!=Qt().toLowerCase().indexOf("webkit")&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),ct=-1!=Qt().toLowerCase().indexOf("webkit")&&!_n("Edge");function Je(){var u=re.document;return u?u.documentMode:void 0}e:{var Dt="",Wt=(u=Qt(),at?/rv:([^\);]+)(\)|;)/.exec(u):fr?/Edge\/([\d\.]+)/.exec(u):Kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):ct?/WebKit\/(\S+)/.exec(u):ar?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Wt&&(Dt=Wt?Wt[1]:""),Kn){var gt=Je();if(null!=gt&&gt>parseFloat(Dt)){vt=String(gt);break e}}vt=Dt}var Vn=re.document&&Kn&&(Je()||parseInt(vt,10))||void 0;function sn(u,t){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var o=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=t,t=u.relatedTarget){if(at){e:{try{yr(t.nodeName);var p=!0;break e}catch{}p=!1}p||(t=null)}}else"mouseover"==o?t=u.fromElement:"mouseout"==o&&(t=u.toElement);this.relatedTarget=t,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:tr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&sn.$.h.call(this)}}yt(sn,Ee);var tr={2:"touch",3:"pen",4:"mouse"};sn.prototype.h=function(){sn.$.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Zn="closure_listenable_"+(1e6*Math.random()|0),vr=0;function cr(u,t,o,c,p){this.listener=u,this.proxy=null,this.src=t,this.type=o,this.capture=!!c,this.la=p,this.key=++vr,this.fa=this.ia=!1}function Cr(u){u.fa=!0,u.listener=null,u.proxy=null,u.src=null,u.la=null}function ai(u,t,o){for(const c in u)t.call(o,u[c],c,u)}function Ar(u){const t={};for(const o in u)t[o]=u[o];return t}const Or="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ui(u,t){let o,c;for(let p=1;p<arguments.length;p++){for(o in c=arguments[p],c)u[o]=c[o];for(let y=0;y<Or.length;y++)o=Or[y],Object.prototype.hasOwnProperty.call(c,o)&&(u[o]=c[o])}}function Gr(u){this.src=u,this.g={},this.h=0}function wn(u,t){var o=t.type;if(o in u.g){var y,c=u.g[o],p=Ke(c,t);(y=0<=p)&&Array.prototype.splice.call(c,p,1),y&&(Cr(t),0==u.g[o].length&&(delete u.g[o],u.h--))}}function an(u,t,o,c){for(var p=0;p<u.length;++p){var y=u[p];if(!y.fa&&y.listener==t&&y.capture==!!o&&y.la==c)return p}return-1}Gr.prototype.add=function(u,t,o,c,p){var y=u.toString();(u=this.g[y])||(u=this.g[y]=[],this.h++);var I=an(u,t,c,p);return-1<I?(t=u[I],o||(t.ia=!1)):((t=new cr(t,this.src,y,!!c,p)).ia=o,u.push(t)),t};var An="closure_lm_"+(1e6*Math.random()|0),kn={};function Rn(u,t,o,c,p){if(c&&c.once)return Jn(u,t,o,c,p);if(Array.isArray(t)){for(var y=0;y<t.length;y++)Rn(u,t[y],o,c,p);return null}return o=Hi(o),u&&u[Zn]?u.O(t,o,Pe(c)?!!c.capture:!!c,p):qr(u,t,o,!1,c,p)}function qr(u,t,o,c,p,y){if(!t)throw Error("Invalid event type");var I=Pe(p)?!!p.capture:!!p,O=dr(u);if(O||(u[An]=O=new Gr(u)),(o=O.add(t,o,c,I,y)).proxy)return o;if(c=function Un(){const t=Qn;return function u(o){return t.call(u.src,u.listener,o)}}(),o.proxy=c,c.src=u,c.listener=o,u.addEventListener)dt||(p=I),void 0===p&&(p=!1),u.addEventListener(t.toString(),c,p);else if(u.attachEvent)u.attachEvent(gi(t.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return o}function Jn(u,t,o,c,p){if(Array.isArray(t)){for(var y=0;y<t.length;y++)Jn(u,t[y],o,c,p);return null}return o=Hi(o),u&&u[Zn]?u.P(t,o,Pe(c)?!!c.capture:!!c,p):qr(u,t,o,!0,c,p)}function pi(u,t,o,c,p){if(Array.isArray(t))for(var y=0;y<t.length;y++)pi(u,t[y],o,c,p);else c=Pe(c)?!!c.capture:!!c,o=Hi(o),u&&u[Zn]?(u=u.i,(t=String(t).toString())in u.g&&-1<(o=an(y=u.g[t],o,c,p))&&(Cr(y[o]),Array.prototype.splice.call(y,o,1),0==y.length&&(delete u.g[t],u.h--))):u&&(u=dr(u))&&(t=u.g[t.toString()],u=-1,t&&(u=an(t,o,c,p)),(o=-1<u?t[u]:null)&&$n(o))}function $n(u){if("number"!=typeof u&&u&&!u.fa){var t=u.src;if(t&&t[Zn])wn(t.i,u);else{var o=u.type,c=u.proxy;t.removeEventListener?t.removeEventListener(o,c,u.capture):t.detachEvent?t.detachEvent(gi(o),c):t.addListener&&t.removeListener&&t.removeListener(c),(o=dr(t))?(wn(o,u),0==o.h&&(o.src=null,t[An]=null)):Cr(u)}}}function gi(u){return u in kn?kn[u]:kn[u]="on"+u}function Qn(u,t){if(u.fa)u=!0;else{t=new sn(t,this);var o=u.listener,c=u.la||u.src;u.ia&&$n(u),u=o.call(c,t)}return u}function dr(u){return(u=u[An])instanceof Gr?u:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hi(u){return"function"==typeof u?u:(u[wi]||(u[wi]=function(t){return u.handleEvent(t)}),u[wi])}function ur(){xe.call(this),this.i=new Gr(this),this.S=this,this.J=null}function Bn(u,t){var o,c=u.J;if(c)for(o=[];c;c=c.J)o.push(c);if(u=u.S,c=t.type||t,"string"==typeof t)t=new Ee(t,u);else if(t instanceof Ee)t.target=t.target||u;else{var p=t;ui(t=new Ee(c,u),p)}if(p=!0,o)for(var y=o.length-1;0<=y;y--){var I=t.g=o[y];p=nt(I,c,!0,t)&&p}if(p=nt(I=t.g=u,c,!0,t)&&p,p=nt(I,c,!1,t)&&p,o)for(y=0;y<o.length;y++)p=nt(I=t.g=o[y],c,!1,t)&&p}function nt(u,t,o,c){if(!(t=u.i.g[String(t)]))return!0;t=t.concat();for(var p=!0,y=0;y<t.length;++y){var I=t[y];if(I&&!I.fa&&I.capture==o){var O=I.listener,$=I.la||I.src;I.ia&&wn(u.i,I),p=!1!==O.call($,c)&&p}}return p&&!c.defaultPrevented}yt(ur,xe),ur.prototype[Zn]=!0,ur.prototype.removeEventListener=function(u,t,o,c){pi(this,u,t,o,c)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var t,u=this.i;for(t in u.g){for(var o=u.g[t],c=0;c<o.length;c++)Cr(o[c]);delete u.g[t],u.h--}}this.J=null},ur.prototype.O=function(u,t,o,c){return this.i.add(String(u),t,!1,o,c)},ur.prototype.P=function(u,t,o,c){return this.i.add(String(u),t,!0,o,c)};var Re=re.JSON.stringify;function kt(){var u=H;let t=null;return u.g&&(t=u.g,u.g=u.g.next,u.g||(u.h=null),t.next=null),t}var In=new class It{constructor(t,o){this.i=t,this.j=o,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new pr,u=>u.reset());class pr{constructor(){this.next=this.g=this.h=null}set(t,o){this.h=t,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function be(u){var t=1;u=u.split(":");const o=[];for(;0<t&&u.length;)o.push(u.shift()),t--;return u.length&&o.push(u.join(":")),o}function ne(u){re.setTimeout(()=>{throw u},0)}let G,K=!1,H=new class cn{constructor(){this.h=this.g=null}add(t,o){const c=In.get();c.set(t,o),this.h?this.h.next=c:this.g=c,this.h=c}},de=()=>{const u=re.Promise.resolve(void 0);G=()=>{u.then(ke)}};var ke=()=>{for(var u;u=kt();){try{u.h.call(u.g)}catch(o){ne(o)}var t=In;t.j(u),100>t.h&&(t.h++,u.next=t.g,t.g=u)}K=!1};function lt(u,t){ur.call(this),this.h=u||1,this.g=t||re,this.j=Fe(this.qb,this),this.l=Date.now()}function qt(u){u.ga=!1,u.T&&(u.g.clearTimeout(u.T),u.T=null)}function Me(u,t,o){if("function"==typeof u)o&&(u=Fe(u,o));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Fe(u.handleEvent,u)}return 2147483647<Number(t)?-1:re.setTimeout(u,t||0)}function ee(u){u.g=Me(()=>{u.g=null,u.i&&(u.i=!1,ee(u))},u.j);const t=u.h;u.h=null,u.m.apply(null,t)}yt(lt,ur),(pe=lt.prototype).ga=!1,pe.T=null,pe.qb=function(){if(this.ga){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-u):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(qt(this),this.start()))}},pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.N=function(){lt.$.N.call(this),qt(this),delete this.g};class ge extends xe{constructor(t,o){super(),this.m=t,this.j=o,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(u){xe.call(this),this.h=u,this.g={}}yt(Qe,xe);var me=[];function _e(u,t,o,c){Array.isArray(o)||(o&&(me[0]=o.toString()),o=me);for(var p=0;p<o.length;p++){var y=Rn(t,o[p],c||u.handleEvent,!1,u.h||u);if(!y)break;u.g[y.key]=y}}function ze(u){ai(u.g,function(t,o){this.g.hasOwnProperty(o)&&$n(t)},u),u.g={}}function Ye(){this.g=!0}function Xt(u,t,o,c){u.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ir(u,t){if(!u.g)return t;if(!t)return null;try{var o=JSON.parse(t);if(o)for(u=0;u<o.length;u++)if(Array.isArray(o[u])){var c=o[u];if(!(2>c.length)){var p=c[1];if(Array.isArray(p)&&!(1>p.length)){var y=p[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var I=1;I<p.length;I++)p[I]=""}}}return Re(o)}catch{return t}}(u,o)+(c?" "+c:"")})}Qe.prototype.N=function(){Qe.$.N.call(this),ze(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ye.prototype.Ea=function(){this.g=!1},Ye.prototype.info=function(){};var Fn={},di=null;function Di(){return di=di||new ur}function Dr(u){Ee.call(this,Fn.Ta,u)}function ni(u){const t=Di();Bn(t,new Dr(t))}function ps(u,t){Ee.call(this,Fn.STAT_EVENT,u),this.stat=t}function jr(u){const t=Di();Bn(t,new ps(t,u))}function Pn(u,t){Ee.call(this,Fn.Ua,u),this.size=t}function jn(u,t){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){u()},t)}Fn.Ta="serverreachability",yt(Dr,Ee),Fn.STAT_EVENT="statevent",yt(ps,Ee),Fn.Ua="timingevent",yt(Pn,Ee);var ri={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wr(){}function Xs(){}Wr.prototype.h=null;var je,Cs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Na(){Ee.call(this,"d")}function xo(){Ee.call(this,"c")}function Ve(){}function tt(u,t,o,c){this.l=u,this.j=t,this.m=o,this.W=c||1,this.U=new Qe(this),this.P=Kt,this.V=new lt(u=qe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}yt(Na,Ee),yt(xo,Ee),yt(Ve,Wr),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},je=new Ve;var Kt=45e3,Hn={},gr={};function Er(u,t,o){u.L=1,u.v=Po(Ai(t)),u.s=o,u.S=!0,Hr(u,null)}function Hr(u,t){u.G=Date.now(),$i(u),u.A=Ai(u.v);var o=u.A,c=u.W;Array.isArray(c)||(c=[String(c)]),Vs(o.i,"t",c),u.C=0,o=u.l.J,u.h=new xt,u.g=Ha(u.l,o?t:null,!u.s),0<u.O&&(u.M=new ge(Fe(u.Pa,u,u.g),u.O)),_e(u.U,u.g,"readystatechange",u.nb),t=u.I?Ar(u.I):{},u.s?(u.u||(u.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",u.g.ha(u.A,u.u,u.s,t)):(u.u="GET",u.g.ha(u.A,u.u,null,t)),ni(),function Ft(u,t,o,c,p,y){u.info(function(){if(u.g)if(y)for(var I="",O=y.split("&"),$=0;$<O.length;$++){var Z=O[$].split("=");if(1<Z.length){var ae=Z[0];Z=Z[1];var Ce=ae.split("_");I=2<=Ce.length&&"type"==Ce[1]?I+(ae+"=")+Z+"&":I+(ae+"=redacted&")}}else I=null;else I=y;return"XMLHTTP REQ ("+c+") [attempt "+p+"]: "+t+"\n"+o+"\n"+I})}(u.j,u.u,u.A,u.m,u.W,u.s)}function ka(u){return!!u.g&&"GET"==u.u&&2!=u.L&&u.l.Ha}function Kr(u,t,o){let p,c=!0;for(;!u.J&&u.C<o.length;){if(p=Ls(u,o),p==gr){4==t&&(u.o=4,jr(14),c=!1),Xt(u.j,u.m,null,"[Incomplete Response]");break}if(p==Hn){u.o=4,jr(15),Xt(u.j,u.m,o,"[Invalid Chunk]"),c=!1;break}Xt(u.j,u.m,p,null),Lu(u,p)}ka(u)&&p!=gr&&p!=Hn&&(u.h.g="",u.C=0),4!=t||0!=o.length||u.h.h||(u.o=1,jr(16),c=!1),u.i=u.i&&c,c?0<o.length&&!u.ba&&(u.ba=!0,(t=u.l).g==u&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+o.length),hl(t),t.M=!0,jr(11))):(Xt(u.j,u.m,o,"[Invalid Chunked Response]"),ao(u),ku(u))}function Ls(u,t){var o=u.C,c=t.indexOf("\n",o);return-1==c?gr:(o=Number(t.substring(o,c)),isNaN(o)?Hn:(c+=1)+o>t.length?gr:(t=t.slice(c,c+o),u.C=c+o,t))}function $i(u){u.Y=Date.now()+u.P,La(u,u.P)}function La(u,t){if(null!=u.B)throw Error("WatchDog timer not null");u.B=jn(Fe(u.lb,u),t)}function Nl(u){u.B&&(re.clearTimeout(u.B),u.B=null)}function ku(u){0==u.l.H||u.J||ja(u.l,u)}function ao(u){Nl(u);var t=u.M;t&&"function"==typeof t.sa&&t.sa(),u.M=null,qt(u.V),ze(u.U),u.g&&(t=u.g,u.g=null,t.abort(),t.sa())}function Lu(u,t){try{var o=u.l;if(0!=o.H&&(o.g==u||cl(o.i,u)))if(!u.K&&cl(o.i,u)&&3==o.H){try{var c=o.Ja.g.parse(t)}catch{c=null}if(Array.isArray(c)&&3==c.length){var p=c;if(0==p[0]){e:if(!o.u){if(o.g){if(!(o.g.G+3e3<u.G))break e;Lo(o),Ba(o)}rc(o),jr(18)}}else o.Fa=p[1],0<o.Fa-o.V&&37500>p[2]&&o.G&&0==o.A&&!o.v&&(o.v=jn(Fe(o.ib,o),6e3));if(1>=ya(o.i)&&o.oa){try{o.oa()}catch{}o.oa=void 0}}else ii(o,11)}else if((u.K||o.g==u)&&Lo(o),!Ot(t))for(p=o.Ja.g.parse(t),t=0;t<p.length;t++){let Z=p[t];if(o.V=Z[0],Z=Z[1],2==o.H)if("c"==Z[0]){o.K=Z[1],o.pa=Z[2];const ae=Z[3];null!=ae&&(o.ra=ae,o.l.info("VER="+o.ra));const Ce=Z[4];null!=Ce&&(o.Ga=Ce,o.l.info("SVER="+o.Ga));const rt=Z[5];null!=rt&&"number"==typeof rt&&0<rt&&(o.L=c=1.5*rt,o.l.info("backChannelRequestTimeoutMs_="+c)),c=o;const Ct=u.g;if(Ct){const Zt=Ct.g?Ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var y=c.i;y.g||-1==Zt.indexOf("spdy")&&-1==Zt.indexOf("quic")&&-1==Zt.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(va(y,y.h),y.h=null))}if(c.F){const En=Ct.g?Ct.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(c.Da=En,Fr(c.I,c.F,En))}}o.H=3,o.h&&o.h.Ba(),o.ca&&(o.S=Date.now()-u.G,o.l.info("Handshake RTT: "+o.S+"ms"));var I=u;if((c=o).wa=xs(c,c.J?c.pa:null,c.Y),I.K){Mo(c.i,I);var O=I,$=c.L;$&&O.setTimeout($),O.B&&(Nl(O),$i(O)),c.g=I}else yd(c);0<o.j.length&&Vu(o)}else"stop"!=Z[0]&&"close"!=Z[0]||ii(o,7);else 3==o.H&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?ii(o,7):nc(o):"noop"!=Z[0]&&o.h&&o.h.Aa(Z),o.A=0)}ni()}catch{}}function lr(u,t){if(u.forEach&&"function"==typeof u.forEach)u.forEach(t,void 0);else if(ye(u)||"string"==typeof u)Array.prototype.forEach.call(u,t,void 0);else for(var o=function cu(u){if(u.ta&&"function"==typeof u.ta)return u.ta();if(!u.Z||"function"!=typeof u.Z){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(ye(u)||"string"==typeof u){var t=[];u=u.length;for(var o=0;o<u;o++)t.push(o);return t}t=[],o=0;for(const c in u)t[o++]=c;return t}}}(u),c=function Fa(u){if(u.Z&&"function"==typeof u.Z)return u.Z();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if("string"==typeof u)return u.split("");if(ye(u)){for(var t=[],o=u.length,c=0;c<o;c++)t.push(u[c]);return t}for(c in t=[],o=0,u)t[o++]=u[c];return t}(u),p=c.length,y=0;y<p;y++)t.call(void 0,c[y],o&&o[y],u)}(pe=tt.prototype).setTimeout=function(u){this.P=u},pe.nb=function(u){u=u.target;const t=this.M;t&&3==yo(u)?t.l():this.Pa(u)},pe.Pa=function(u){try{if(u==this.g)e:{const ae=yo(this.g);var t=this.g.Ia();if(this.g.da(),!(3>ae)&&(3!=ae||qe||this.g&&(this.h.h||this.g.ja()||ec(this.g)))){this.J||4!=ae||7==t||ni(),Nl(this);var o=this.g.da();this.ca=o;t:if(ka(this)){var c=ec(this.g);u="";var p=c.length,y=4==yo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),ku(this);var I="";break t}this.h.i=new re.TextDecoder}for(t=0;t<p;t++)this.h.h=!0,u+=this.h.i.decode(c[t],{stream:y&&t==p-1});c.splice(0,p),this.h.g+=u,this.C=0,I=this.h.g}else I=this.g.ja();if(this.i=200==o,function Mt(u,t,o,c,p,y,I){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+p+"]: "+t+"\n"+o+"\n"+y+" "+I})}(this.j,this.u,this.A,this.m,this.W,ae,o),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,$=this.g;if((O=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ot(O)){var Z=O;break t}}Z=null}if(!(o=Z)){this.i=!1,this.o=3,jr(12),ao(this),ku(this);break e}Xt(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lu(this,o)}this.S?(Kr(this,ae,I),qe&&this.i&&3==ae&&(_e(this.U,this.V,"tick",this.mb),this.V.start())):(Xt(this.j,this.m,I,null),Lu(this,I)),4==ae&&ao(this),this.i&&!this.J&&(4==ae?ja(this.l,this):(this.i=!1,$i(this)))}else(function tc(u){const t={};u=(u.g&&2<=yo(u)&&u.g.getAllResponseHeaders()||"").split("\r\n");for(let c=0;c<u.length;c++){if(Ot(u[c]))continue;var o=be(u[c]);const p=o[0];if("string"!=typeof(o=o[1]))continue;o=o.trim();const y=t[p]||[];t[p]=y,y.push(o)}!function zr(u,t){for(const o in u)t.call(void 0,u[o],o,u)}(t,function(c){return c.join(", ")})})(this.g),400==o&&0<I.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),ao(this),ku(this)}}}catch{}},pe.mb=function(){if(this.g){var u=yo(this.g),t=this.g.ja();this.C<t.length&&(Nl(this),Kr(this,u,t),this.i&&4!=u&&$i(this))}},pe.cancel=function(){this.J=!0,ao(this)},pe.lb=function(){this.B=null;const u=Date.now();0<=u-this.Y?(function Bt(u,t){u.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(ni(),jr(17)),ao(this),this.o=2,ku(this)):La(this,this.Y-u)};var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(u){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,u instanceof Ms){this.h=u.h,Ro(this,u.j),this.s=u.s,this.g=u.g,du(this,u.m),this.l=u.l;var t=u.i,o=new Si;o.i=t.i,t.g&&(o.g=new Map(t.g),o.h=t.h),hu(this,o),this.o=u.o}else u&&(t=String(u).match(Ii))?(this.h=!1,Ro(this,t[1]||"",!0),this.s=li(t[2]||""),this.g=li(t[3]||"",!0),du(this,t[4]),this.l=li(t[5]||"",!0),hu(this,t[6]||"",!0),this.o=li(t[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}function Ai(u){return new Ms(u)}function Ro(u,t,o){u.j=o?li(t,!0):t,u.j&&(u.j=u.j.replace(/:$/,""))}function du(u,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);u.m=t}else u.m=null}function hu(u,t,o){t instanceof Si?(u.i=t,function eo(u,t){t&&!u.j&&(zi(u),u.i=null,u.g.forEach(function(o,c){var p=c.toLowerCase();c!=p&&(ma(this,c),Vs(this,p,o))},u)),u.j=t}(u.i,u.h)):(o||(t=en(t,gs)),u.i=new Si(t,u.h))}function Fr(u,t,o){u.i.set(t,o)}function Po(u){return Fr(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function li(u,t){return u?t?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function en(u,t,o){return"string"==typeof u?(u=encodeURI(u).replace(t,sr),o&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sr(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Ms.prototype.toString=function(){var u=[],t=this.j;t&&u.push(en(t,Jr,!0),":");var o=this.g;return(o||"file"==t)&&(u.push("//"),(t=this.s)&&u.push(en(t,Jr,!0),"@"),u.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&u.push(":",String(o))),(o=this.l)&&(this.g&&"/"!=o.charAt(0)&&u.push("/"),u.push(en(o,"/"==o.charAt(0)?ta:Fs,!0))),(o=this.i.toString())&&u.push("?",o),(o=this.o)&&u.push("#",en(o,_o)),u.join("")};var Jr=/[#\/\?@]/g,Fs=/[#\?:]/g,ta=/[#\?]/g,gs=/[#\?@]/g,_o=/#/g;function Si(u,t){this.h=this.g=null,this.i=u||null,this.j=!!t}function zi(u){u.g||(u.g=new Map,u.h=0,u.i&&function ns(u,t){if(u){u=u.split("&");for(var o=0;o<u.length;o++){var c=u[o].indexOf("="),p=null;if(0<=c){var y=u[o].substring(0,c);p=u[o].substring(c+1)}else y=u[o];t(y,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}(u.i,function(t,o){u.add(decodeURIComponent(t.replace(/\+/g," ")),o)}))}function ma(u,t){zi(u),t=Va(u,t),u.g.has(t)&&(u.i=null,u.h-=u.g.get(t).length,u.g.delete(t))}function Mn(u,t){return zi(u),t=Va(u,t),u.g.has(t)}function Vs(u,t,o){ma(u,t),0<o.length&&(u.i=null,u.g.set(Va(u,t),ut(o)),u.h+=o.length)}function Va(u,t){return t=String(t),u.j&&(t=t.toLowerCase()),t}function _a(u){this.l=u||to,u=re.PerformanceNavigationTiming?0<(u=re.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=Si.prototype).add=function(u,t){zi(this),this.i=null,u=Va(this,u);var o=this.g.get(u);return o||this.g.set(u,o=[]),o.push(t),this.h+=1,this},pe.forEach=function(u,t){zi(this),this.g.forEach(function(o,c){o.forEach(function(p){u.call(t,p,c,this)},this)},this)},pe.ta=function(){zi(this);const u=Array.from(this.g.values()),t=Array.from(this.g.keys()),o=[];for(let c=0;c<t.length;c++){const p=u[c];for(let y=0;y<p.length;y++)o.push(t[c])}return o},pe.Z=function(u){zi(this);let t=[];if("string"==typeof u)Mn(this,u)&&(t=t.concat(this.g.get(Va(this,u))));else{u=Array.from(this.g.values());for(let o=0;o<u.length;o++)t=t.concat(u[o])}return t},pe.set=function(u,t){return zi(this),this.i=null,Mn(this,u=Va(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[t]),this.h+=1,this},pe.get=function(u,t){return u&&0<(u=this.Z(u)).length?String(u[0]):t},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],t=Array.from(this.g.keys());for(var o=0;o<t.length;o++){var c=t[o];const y=encodeURIComponent(String(c)),I=this.Z(c);for(c=0;c<I.length;c++){var p=y;""!==I[c]&&(p+="="+encodeURIComponent(String(I[c]))),u.push(p)}}return this.i=u.join("&")};var to=10;function ls(u){return!!u.h||!!u.g&&u.g.size>=u.j}function ya(u){return u.h?1:u.g?u.g.size:0}function cl(u,t){return u.h?u.h==t:!!u.g&&u.g.has(t)}function va(u,t){u.g?u.g.add(t):u.h=t}function Mo(u,t){u.h&&u.h==t?u.h=null:u.g&&u.g.has(t)&&u.g.delete(t)}function kl(u){if(null!=u.h)return u.i.concat(u.h.F);if(null!=u.g&&0!==u.g.size){let t=u.i;for(const o of u.g.values())t=t.concat(o.F);return t}return ut(u.i)}_a.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const u of this.g.values())u.cancel();this.g.clear()}};var no=class{stringify(u){return re.JSON.stringify(u,void 0)}parse(u){return re.JSON.parse(u,void 0)}};function Rr(){this.g=new no}function Ll(u,t,o){const c=o||"";try{lr(u,function(p,y){let I=p;Pe(p)&&(I=Re(p)),t.push(c+y+"="+encodeURIComponent(I))})}catch(p){throw t.push(c+"type="+encodeURIComponent("_badmap")),p}}function xi(u,t,o,c,p){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,p(c)}catch{}}function Qi(u){this.l=u.fc||null,this.j=u.ob||!1}function Oi(u,t){ur.call(this),this.F=u,this.u=t,this.m=void 0,this.readyState=Ea,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yt(Qi,Wr),Qi.prototype.g=function(){return new Oi(this.l,this.j)},Qi.prototype.i=function(u){return function(){return u}}({}),yt(Oi,ur);var Ea=0;function wa(u){u.j.read().then(u.Xa.bind(u)).catch(u.ka.bind(u))}function Li(u){u.readyState=4,u.l=null,u.j=null,u.A=null,fu(u)}function fu(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(pe=Oi.prototype).open=function(u,t){if(this.readyState!=Ea)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=t,this.readyState=1,fu(this)},pe.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(t.body=u),(this.F||re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Li(this)),this.readyState=Ea},pe.$a=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wa(this)}else u.text().then(this.Za.bind(this),this.ka.bind(this))},pe.Xa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var t=u.value?u.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!u.done}))&&(this.response=this.responseText+=t)}u.done?Li(this):fu(this),3==this.readyState&&wa(this)}},pe.Za=function(u){this.g&&(this.response=this.responseText=u,Li(this))},pe.Ya=function(u){this.g&&(this.response=u,Li(this))},pe.ka=function(){this.g&&Li(this)},pe.setRequestHeader=function(u,t){this.v.append(u,t)},pe.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],t=this.h.entries();for(var o=t.next();!o.done;)u.push((o=o.value)[0]+": "+o[1]),o=t.next();return u.join("\r\n")},Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Fi=re.JSON.parse;function Pr(u){ur.call(this),this.headers=new Map,this.u=u||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Fl,this.L=this.M=!1}yt(Pr,ur);var Fl="",Ds=/^https?$/i,As=["POST","PUT"];function Ua(u,t){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=t,u.m=5,Oo(u),dl(u)}function Oo(u){u.F||(u.F=!0,Bn(u,"complete"),Bn(u,"error"))}function pu(u){if(u.h&&typeof Se<"u"&&(!u.C[1]||4!=yo(u)||2!=u.da()))if(u.v&&4==yo(u))Me(u.La,0,u);else if(Bn(u,"readystatechange"),4==yo(u)){u.h=!1;try{const I=u.da();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var o;if(!(o=t)){var c;if(c=0===I){var p=String(u.I).match(Ii)[1]||null;!p&&re.self&&re.self.location&&(p=re.self.location.protocol.slice(0,-1)),c=!Ds.test(p?p.toLowerCase():"")}o=c}if(o)Bn(u,"complete"),Bn(u,"success");else{u.m=6;try{var y=2<yo(u)?u.g.statusText:""}catch{y=""}u.j=y+" ["+u.da()+"]",Oo(u)}}finally{dl(u)}}}function dl(u,t){if(u.g){Xl(u);const o=u.g,c=u.C[0]?()=>{}:null;u.g=null,u.C=null,t||Bn(u,"ready");try{o.onreadystatechange=c}catch{}}}function Xl(u){u.g&&u.L&&(u.g.ontimeout=null),u.A&&(re.clearTimeout(u.A),u.A=null)}function yo(u){return u.g?u.g.readyState:0}function ec(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.K){case Fl:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bc(u){let t="";return ai(u,function(o,c){t+=c,t+=":",t+=o,t+="\r\n"}),t}function _d(u,t,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=Bc(o),"string"==typeof u?null!=o&&encodeURIComponent(String(o)):Fr(u,t,o))}function Ti(u,t,o){return o&&o.internalChannelParams&&o.internalChannelParams[u]||t}function jc(u){this.Ga=0,this.j=[],this.l=new Ye,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ti("failFast",!1,u),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ti("baseRetryDelayMs",5e3,u),this.hb=Ti("retryDelaySeedMs",1e4,u),this.eb=Ti("forwardChannelMaxRetries",2,u),this.xa=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.va=u&&u.xmlHttpFactory||void 0,this.Ha=u&&u.dc||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.i=new _a(u&&u.concurrentRequestLimit),this.Ja=new Rr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=u&&u.bc||!1,u&&u.Ea&&this.l.Ea(),u&&u.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&u&&u.detectBufferingProxy||!1,this.qa=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.qa=u.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nc(u){if(Uh(u),3==u.H){var t=u.W++,o=Ai(u.I);if(Fr(o,"SID",u.K),Fr(o,"RID",t),Fr(o,"TYPE","terminate"),na(u,o),(t=new tt(u,u.l,t)).L=2,t.v=Po(Ai(o)),o=!1,re.navigator&&re.navigator.sendBeacon)try{o=re.navigator.sendBeacon(t.v.toString(),"")}catch{}!o&&re.Image&&((new Image).src=t.v,o=!0),o||(t.g=Ha(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$i(t)}mu(u)}function Ba(u){u.g&&(hl(u),u.g.cancel(),u.g=null)}function Uh(u){Ba(u),u.u&&(re.clearTimeout(u.u),u.u=null),Lo(u),u.i.cancel(),u.m&&("number"==typeof u.m&&re.clearTimeout(u.m),u.m=null)}function Vu(u){if(!ls(u.i)&&!u.m){u.m=!0;var t=u.Na;G||de(),K||(G(),K=!0),H.add(t,u),u.C=0}}function Hc(u,t){var o;o=t?t.m:u.W++;const c=Ai(u.I);Fr(c,"SID",u.K),Fr(c,"RID",o),Fr(c,"AID",u.V),na(u,c),u.o&&u.s&&_d(c,u.o,u.s),o=new tt(u,u.l,o,u.C+1),null===u.o&&(o.I=u.s),t&&(u.j=t.F.concat(u.j)),t=gu(u,o,1e3),o.setTimeout(Math.round(.5*u.xa)+Math.round(.5*u.xa*Math.random())),va(u.i,o),Er(o,c,t)}function na(u,t){u.na&&ai(u.na,function(o,c){Fr(t,c,o)}),u.h&&lr({},function(o,c){Fr(t,c,o)})}function gu(u,t,o){o=Math.min(u.j.length,o);var c=u.h?Fe(u.h.Va,u.h,u):null;e:{var p=u.j;let y=-1;for(;;){const I=["count="+o];-1==y?0<o?(y=p[0].g,I.push("ofs="+y)):y=0:I.push("ofs="+y);let O=!0;for(let $=0;$<o;$++){let Z=p[$].g;const ae=p[$].map;if(Z-=y,0>Z)y=Math.max(0,p[$].g-100),O=!1;else try{Ll(ae,I,"req"+Z+"_")}catch{c&&c(ae)}}if(O){c=I.join("&");break e}}}return u=u.j.splice(0,o),t.F=u,c}function yd(u){if(!u.g&&!u.u){u.ba=1;var t=u.Ma;G||de(),K||(G(),K=!0),H.add(t,u),u.A=0}}function rc(u){return!(u.g||u.u||3<=u.A||(u.ba++,u.u=jn(Fe(u.Ma,u),Us(u,u.A)),u.A++,0))}function hl(u){null!=u.B&&(re.clearTimeout(u.B),u.B=null)}function ko(u){u.g=new tt(u,u.l,"rpc",u.ba),null===u.o&&(u.g.I=u.s),u.g.O=0;var t=Ai(u.wa);Fr(t,"RID","rpc"),Fr(t,"SID",u.K),Fr(t,"AID",u.V),Fr(t,"CI",u.G?"0":"1"),!u.G&&u.qa&&Fr(t,"TO",u.qa),Fr(t,"TYPE","xmlhttp"),na(u,t),u.o&&u.s&&_d(t,u.o,u.s),u.L&&u.g.setTimeout(u.L);var o=u.g;u=u.pa,o.L=1,o.v=Po(Ai(t)),o.s=null,o.S=!0,Hr(o,u)}function Lo(u){null!=u.v&&(re.clearTimeout(u.v),u.v=null)}function ja(u,t){var o=null;if(u.g==t){Lo(u),hl(u),u.g=null;var c=2}else{if(!cl(u.i,t))return;o=t.F,Mo(u.i,t),c=1}if(0!=u.H)if(t.i)if(1==c){o=t.s?t.s.length:0,t=Date.now()-t.G;var p=u.C;Bn(c=Di(),new Pn(c,o)),Vu(u)}else yd(u);else if(3==(p=t.o)||0==p&&0<t.ca||!(1==c&&function No(u,t){return!(ya(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.j=t.F.concat(u.j),0):1==u.H||2==u.H||u.C>=(u.cb?0:u.eb)||(u.m=jn(Fe(u.Na,u,t),Us(u,u.C)),u.C++,0)))}(u,t)||2==c&&rc(u)))switch(o&&0<o.length&&(t=u.i,t.i=t.i.concat(o)),p){case 1:ii(u,5);break;case 4:ii(u,10);break;case 3:ii(u,6);break;default:ii(u,2)}}function Us(u,t){let o=u.ab+Math.floor(Math.random()*u.hb);return u.isActive()||(o*=2),o*t}function ii(u,t){if(u.l.info("Error code "+t),2==t){var o=null;u.h&&(o=null);var c=Fe(u.pb,u);o||(o=new Ms("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Ro(o,"https"),Po(o)),function Fu(u,t){const o=new Ye;if(re.Image){const c=new Image;c.onload=wt(xi,o,c,"TestLoadImage: loaded",!0,t),c.onerror=wt(xi,o,c,"TestLoadImage: error",!1,t),c.onabort=wt(xi,o,c,"TestLoadImage: abort",!1,t),c.ontimeout=wt(xi,o,c,"TestLoadImage: timeout",!1,t),re.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else t(!1)}(o.toString(),c)}else jr(2);u.H=0,u.h&&u.h.za(t),mu(u),Uh(u)}function mu(u){if(u.H=0,u.ma=[],u.h){const t=kl(u.i);(0!=t.length||0!=u.j.length)&&(mt(u.ma,t),mt(u.ma,u.j),u.i.i.length=0,ut(u.j),u.j.length=0),u.h.ya()}}function xs(u,t,o){var c=o instanceof Ms?Ai(o):new Ms(o);if(""!=c.g)t&&(c.g=t+"."+c.g),du(c,c.m);else{var p=re.location;c=p.protocol,t=t?t+"."+p.hostname:p.hostname,p=+p.port;var y=new Ms(null);c&&Ro(y,c),t&&(y.g=t),p&&du(y,p),o&&(y.l=o),c=y}return t=u.Da,(o=u.F)&&t&&Fr(c,o,t),Fr(c,"VER",u.ra),na(u,c),c}function Ha(u,t,o){if(t&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Pr(o&&u.Ha&&!u.va?new Qi({ob:!0}):u.va)).Oa(u.J),t}function Uu(){}function $a(){if(Kn&&!(10<=Number(Vn)))throw Error("Environmental error: no available transport.")}function ro(u,t){ur.call(this),this.g=new jc(t),this.l=u,this.h=t&&t.messageUrlParams||null,u=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(u?u["X-WebChannel-Content-Type"]=t.messageContentType:u={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(u?u["X-WebChannel-Client-Profile"]=t.Ca:u={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=u,(u=t&&t.cc)&&!Ot(u)&&(this.g.o=u),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ot(t)&&(this.g.F=t,null!==(u=this.h)&&t in u&&t in(u=this.h)&&delete u[t]),this.j=new za(this)}function Fo(u){Na.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var t=u.__sm__;if(t){e:{for(const o in t){u=o;break e}u=void 0}(this.i=u)&&(u=this.i,t=null!==t&&u in t?t[u]:void 0),this.data=t}else this.data=u}function fl(){xo.call(this),this.status=1}function za(u){this.g=u}function Vo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ia(u,t,o){o||(o=0);var c=Array(16);if("string"==typeof t)for(var p=0;16>p;++p)c[p]=t.charCodeAt(o++)|t.charCodeAt(o++)<<8|t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<24;else for(p=0;16>p;++p)c[p]=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;var y=u.g[3],I=(t=u.g[0])+(y^(o=u.g[1])&((p=u.g[2])^y))+c[0]+3614090360&4294967295;I=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=(o=(p=(y=(t=o+(I<<7&4294967295|I>>>25))+((I=y+(p^t&(o^p))+c[1]+3905402710&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^y&(t^o))+c[2]+606105819&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^p&(y^t))+c[3]+3250441966&4294967295)<<22&4294967295|I>>>10))+((I=t+(y^o&(p^y))+c[4]+4118548399&4294967295)<<7&4294967295|I>>>25))+((I=y+(p^t&(o^p))+c[5]+1200080426&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^y&(t^o))+c[6]+2821735955&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^p&(y^t))+c[7]+4249261313&4294967295)<<22&4294967295|I>>>10))+((I=t+(y^o&(p^y))+c[8]+1770035416&4294967295)<<7&4294967295|I>>>25))+((I=y+(p^t&(o^p))+c[9]+2336552879&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^y&(t^o))+c[10]+4294925233&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^p&(y^t))+c[11]+2304563134&4294967295)<<22&4294967295|I>>>10))+((I=t+(y^o&(p^y))+c[12]+1804603682&4294967295)<<7&4294967295|I>>>25))+((I=y+(p^t&(o^p))+c[13]+4254626195&4294967295)<<12&4294967295|I>>>20))+((I=p+(o^y&(t^o))+c[14]+2792965006&4294967295)<<17&4294967295|I>>>15))+((I=o+(t^p&(y^t))+c[15]+1236535329&4294967295)<<22&4294967295|I>>>10))+((I=t+(p^y&(o^p))+c[1]+4129170786&4294967295)<<5&4294967295|I>>>27))+((I=y+(o^p&(t^o))+c[6]+3225465664&4294967295)<<9&4294967295|I>>>23))+((I=p+(t^o&(y^t))+c[11]+643717713&4294967295)<<14&4294967295|I>>>18))+((I=o+(y^t&(p^y))+c[0]+3921069994&4294967295)<<20&4294967295|I>>>12))+((I=t+(p^y&(o^p))+c[5]+3593408605&4294967295)<<5&4294967295|I>>>27))+((I=y+(o^p&(t^o))+c[10]+38016083&4294967295)<<9&4294967295|I>>>23))+((I=p+(t^o&(y^t))+c[15]+3634488961&4294967295)<<14&4294967295|I>>>18))+((I=o+(y^t&(p^y))+c[4]+3889429448&4294967295)<<20&4294967295|I>>>12))+((I=t+(p^y&(o^p))+c[9]+568446438&4294967295)<<5&4294967295|I>>>27))+((I=y+(o^p&(t^o))+c[14]+3275163606&4294967295)<<9&4294967295|I>>>23))+((I=p+(t^o&(y^t))+c[3]+4107603335&4294967295)<<14&4294967295|I>>>18))+((I=o+(y^t&(p^y))+c[8]+1163531501&4294967295)<<20&4294967295|I>>>12))+((I=t+(p^y&(o^p))+c[13]+2850285829&4294967295)<<5&4294967295|I>>>27))+((I=y+(o^p&(t^o))+c[2]+4243563512&4294967295)<<9&4294967295|I>>>23))+((I=p+(t^o&(y^t))+c[7]+1735328473&4294967295)<<14&4294967295|I>>>18))+((I=o+(y^t&(p^y))+c[12]+2368359562&4294967295)<<20&4294967295|I>>>12))+((I=t+(o^p^y)+c[5]+4294588738&4294967295)<<4&4294967295|I>>>28))+((I=y+(t^o^p)+c[8]+2272392833&4294967295)<<11&4294967295|I>>>21))+((I=p+(y^t^o)+c[11]+1839030562&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^y^t)+c[14]+4259657740&4294967295)<<23&4294967295|I>>>9))+((I=t+(o^p^y)+c[1]+2763975236&4294967295)<<4&4294967295|I>>>28))+((I=y+(t^o^p)+c[4]+1272893353&4294967295)<<11&4294967295|I>>>21))+((I=p+(y^t^o)+c[7]+4139469664&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^y^t)+c[10]+3200236656&4294967295)<<23&4294967295|I>>>9))+((I=t+(o^p^y)+c[13]+681279174&4294967295)<<4&4294967295|I>>>28))+((I=y+(t^o^p)+c[0]+3936430074&4294967295)<<11&4294967295|I>>>21))+((I=p+(y^t^o)+c[3]+3572445317&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^y^t)+c[6]+76029189&4294967295)<<23&4294967295|I>>>9))+((I=t+(o^p^y)+c[9]+3654602809&4294967295)<<4&4294967295|I>>>28))+((I=y+(t^o^p)+c[12]+3873151461&4294967295)<<11&4294967295|I>>>21))+((I=p+(y^t^o)+c[15]+530742520&4294967295)<<16&4294967295|I>>>16))+((I=o+(p^y^t)+c[2]+3299628645&4294967295)<<23&4294967295|I>>>9))+((I=t+(p^(o|~y))+c[0]+4096336452&4294967295)<<6&4294967295|I>>>26))+((I=y+(o^(t|~p))+c[7]+1126891415&4294967295)<<10&4294967295|I>>>22))+((I=p+(t^(y|~o))+c[14]+2878612391&4294967295)<<15&4294967295|I>>>17))+((I=o+(y^(p|~t))+c[5]+4237533241&4294967295)<<21&4294967295|I>>>11))+((I=t+(p^(o|~y))+c[12]+1700485571&4294967295)<<6&4294967295|I>>>26))+((I=y+(o^(t|~p))+c[3]+2399980690&4294967295)<<10&4294967295|I>>>22))+((I=p+(t^(y|~o))+c[10]+4293915773&4294967295)<<15&4294967295|I>>>17))+((I=o+(y^(p|~t))+c[1]+2240044497&4294967295)<<21&4294967295|I>>>11))+((I=t+(p^(o|~y))+c[8]+1873313359&4294967295)<<6&4294967295|I>>>26))+((I=y+(o^(t|~p))+c[15]+4264355552&4294967295)<<10&4294967295|I>>>22))+((I=p+(t^(y|~o))+c[6]+2734768916&4294967295)<<15&4294967295|I>>>17))+((I=o+(y^(p|~t))+c[13]+1309151649&4294967295)<<21&4294967295|I>>>11))+((y=(t=o+((I=t+(p^(o|~y))+c[4]+4149444226&4294967295)<<6&4294967295|I>>>26))+((I=y+(o^(t|~p))+c[11]+3174756917&4294967295)<<10&4294967295|I>>>22))^((p=y+((I=p+(t^(y|~o))+c[2]+718787259&4294967295)<<15&4294967295|I>>>17))|~t))+c[9]+3951481745&4294967295,u.g[0]=u.g[0]+t&4294967295,u.g[1]=u.g[1]+(p+(I<<21&4294967295|I>>>11))&4294967295,u.g[2]=u.g[2]+p&4294967295,u.g[3]=u.g[3]+y&4294967295}function Xr(u,t){this.h=t;for(var o=[],c=!0,p=u.length-1;0<=p;p--){var y=0|u[p];c&&y==t||(o[p]=y,c=!1)}this.g=o}(pe=Pr.prototype).Oa=function(u){this.M=u},pe.ha=function(u,t,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+u);t=t?t.toUpperCase():"GET",this.I=u,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():je.g(),this.C=function Yr(u){return u.h||(u.h=u.i())}(this.u?this.u:je),this.g.onreadystatechange=Fe(this.La,this);try{this.G=!0,this.g.open(t,String(u),!0),this.G=!1}catch(y){return void Ua(this,y)}if(u=o||"",o=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var p in c)o.set(p,c[p]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const y of c.keys())o.set(y,c.get(y))}c=Array.from(o.keys()).find(y=>"content-type"==y.toLowerCase()),p=re.FormData&&u instanceof re.FormData,!(0<=Ke(As,t))||c||p||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,I]of o)this.g.setRequestHeader(y,I);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xl(this),0<this.B&&((this.L=function Ss(u){return Kn&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fe(this.ua,this)):this.A=Me(this.ua,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(y){Ua(this,y)}},pe.ua=function(){typeof Se<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},pe.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Bn(this,"complete"),Bn(this,"abort"),dl(this))},pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dl(this,!0)),Pr.$.N.call(this)},pe.La=function(){this.s||(this.G||this.v||this.l?pu(this):this.kb())},pe.kb=function(){pu(this)},pe.isActive=function(){return!!this.g},pe.da=function(){try{return 2<yo(this)?this.g.status:-1}catch{return-1}},pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pe.Wa=function(u){if(this.g){var t=this.g.responseText;return u&&0==t.indexOf(u)&&(t=t.substring(u.length)),Fi(t)}},pe.Ia=function(){return this.m},pe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=jc.prototype).ra=8,pe.H=1,pe.Na=function(u){if(this.m)if(this.m=null,1==this.H){if(!u){this.W=Math.floor(1e5*Math.random()),u=this.W++;const p=new tt(this,this.l,u);let y=this.s;if(this.U&&(y?(y=Ar(y),ui(y,this.U)):y=this.U),null!==this.o||this.O||(p.I=y,y=null),this.P)e:{for(var t=0,o=0;o<this.j.length;o++){var c=this.j[o];if(void 0===(c="__data__"in c.map&&"string"==typeof(c=c.map.__data__)?c.length:void 0))break;if(4096<(t+=c)){t=o;break e}if(4096===t||o===this.j.length-1){t=o+1;break e}}t=1e3}else t=1e3;t=gu(this,p,t),Fr(o=Ai(this.I),"RID",u),Fr(o,"CVER",22),this.F&&Fr(o,"X-HTTP-Session-Id",this.F),na(this,o),y&&(this.O?t="headers="+encodeURIComponent(String(Bc(y)))+"&"+t:this.o&&_d(o,this.o,y)),va(this.i,p),this.bb&&Fr(o,"TYPE","init"),this.P?(Fr(o,"$req",t),Fr(o,"SID","null"),p.aa=!0,Er(p,o,null)):Er(p,o,t),this.H=2}}else 3==this.H&&(u?Hc(this,u):0==this.j.length||ls(this.i)||Hc(this))},pe.Ma=function(){if(this.u=null,ko(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var u=2*this.S;this.l.info("BP detection timer enabled: "+u),this.B=jn(Fe(this.jb,this),u)}},pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jr(10),Ba(this),ko(this))},pe.ib=function(){null!=this.v&&(this.v=null,Ba(this),rc(this),jr(19))},pe.pb=function(u){u?(this.l.info("Successfully pinged google.com"),jr(2)):(this.l.info("Failed to ping google.com"),jr(1))},pe.isActive=function(){return!!this.h&&this.h.isActive(this)},(pe=Uu.prototype).Ba=function(){},pe.Aa=function(){},pe.za=function(){},pe.ya=function(){},pe.isActive=function(){return!0},pe.Va=function(){},$a.prototype.g=function(u,t){return new ro(u,t)},yt(ro,ur),ro.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var u=this.g,t=this.l,o=this.h||void 0;jr(0),u.Y=t,u.na=o||{},u.G=u.aa,u.I=xs(u,null,u.Y),Vu(u)},ro.prototype.close=function(){nc(this.g)},ro.prototype.u=function(u){var t=this.g;if("string"==typeof u){var o={};o.__data__=u,u=o}else this.v&&((o={}).__data__=Re(u),u=o);t.j.push(new class{constructor(u,t){this.g=u,this.map=t}}(t.fb++,u)),3==t.H&&Vu(t)},ro.prototype.N=function(){this.g.h=null,delete this.j,nc(this.g),delete this.g,ro.$.N.call(this)},yt(Fo,Na),yt(fl,xo),yt(za,Uu),za.prototype.Ba=function(){Bn(this.g,"a")},za.prototype.Aa=function(u){Bn(this.g,new Fo(u))},za.prototype.za=function(u){Bn(this.g,new fl)},za.prototype.ya=function(){Bn(this.g,"b")},yt(Vo,function Yi(){this.blockSize=-1}),Vo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vo.prototype.j=function(u,t){void 0===t&&(t=u.length);for(var o=t-this.blockSize,c=this.m,p=this.h,y=0;y<t;){if(0==p)for(;y<=o;)Ia(this,u,y),y+=this.blockSize;if("string"==typeof u){for(;y<t;)if(c[p++]=u.charCodeAt(y++),p==this.blockSize){Ia(this,c),p=0;break}}else for(;y<t;)if(c[p++]=u[y++],p==this.blockSize){Ia(this,c),p=0;break}}this.h=p,this.i+=t},Vo.prototype.l=function(){var u=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);u[0]=128;for(var t=1;t<u.length-8;++t)u[t]=0;var o=8*this.i;for(t=u.length-8;t<u.length;++t)u[t]=255&o,o/=256;for(this.j(u),u=Array(16),t=o=0;4>t;++t)for(var c=0;32>c;c+=8)u[o++]=this.g[t]>>>c&255;return u};var _u={};function yu(u){return-128<=u&&128>u?function Sn(u,t){var o=_u;return Object.prototype.hasOwnProperty.call(o,u)?o[u]:o[u]=t(u)}(u,function(t){return new Xr([0|t],0>t?-1:0)}):new Xr([0|u],0>u?-1:0)}function cs(u){if(isNaN(u)||!isFinite(u))return ra;if(0>u)return ms(cs(-u));for(var t=[],o=1,c=0;u>=o;c++)t[c]=u/o|0,o*=Bu;return new Xr(t,0)}var Bu=4294967296,ra=yu(0),Ga=yu(1),ic=yu(16777216);function Uo(u){if(0!=u.h)return!1;for(var t=0;t<u.g.length;t++)if(0!=u.g[t])return!1;return!0}function uo(u){return-1==u.h}function ms(u){for(var t=u.g.length,o=[],c=0;c<t;c++)o[c]=~u.g[c];return new Xr(o,~u.h).add(Ga)}function qa(u,t){return u.add(ms(t))}function pl(u,t){for(;(65535&u[t])!=u[t];)u[t+1]+=u[t]>>>16,u[t]&=65535,t++}function Wa(u,t){this.g=u,this.h=t}function Ka(u,t){if(Uo(t))throw Error("division by zero");if(Uo(u))return new Wa(ra,ra);if(uo(u))return t=Ka(ms(u),t),new Wa(ms(t.g),ms(t.h));if(uo(t))return t=Ka(u,ms(t)),new Wa(ms(t.g),t.h);if(30<u.g.length){if(uo(u)||uo(t))throw Error("slowDivide_ only works with positive integers.");for(var o=Ga,c=t;0>=c.X(u);)o=sc(o),c=sc(c);var p=ia(o,1),y=ia(c,1);for(c=ia(c,2),o=ia(o,2);!Uo(c);){var I=y.add(c);0>=I.X(u)&&(p=p.add(o),y=I),c=ia(c,1),o=ia(o,1)}return t=qa(u,p.R(t)),new Wa(p,t)}for(p=ra;0<=u.X(t);){for(o=Math.max(1,Math.floor(u.ea()/t.ea())),c=48>=(c=Math.ceil(Math.log(o)/Math.LN2))?1:Math.pow(2,c-48),I=(y=cs(o)).R(t);uo(I)||0<I.X(u);)I=(y=cs(o-=c)).R(t);Uo(y)&&(y=Ga),p=p.add(y),u=qa(u,I)}return new Wa(p,u)}function sc(u){for(var t=u.g.length+1,o=[],c=0;c<t;c++)o[c]=u.D(c)<<1|u.D(c-1)>>>31;return new Xr(o,u.h)}function ia(u,t){var o=t>>5;t%=32;for(var c=u.g.length-o,p=[],y=0;y<c;y++)p[y]=0<t?u.D(y+o)>>>t|u.D(y+o+1)<<32-t:u.D(y+o);return new Xr(p,u.h)}(pe=Xr.prototype).ea=function(){if(uo(this))return-ms(this).ea();for(var u=0,t=1,o=0;o<this.g.length;o++){var c=this.D(o);u+=(0<=c?c:Bu+c)*t,t*=Bu}return u},pe.toString=function(u){if(2>(u=u||10)||36<u)throw Error("radix out of range: "+u);if(Uo(this))return"0";if(uo(this))return"-"+ms(this).toString(u);for(var t=cs(Math.pow(u,6)),o=this,c="";;){var p=Ka(o,t).g,y=((0<(o=qa(o,p.R(t))).g.length?o.g[0]:o.h)>>>0).toString(u);if(Uo(o=p))return y+c;for(;6>y.length;)y="0"+y;c=y+c}},pe.D=function(u){return 0>u?0:u<this.g.length?this.g[u]:this.h},pe.X=function(u){return uo(u=qa(this,u))?-1:Uo(u)?0:1},pe.abs=function(){return uo(this)?ms(this):this},pe.add=function(u){for(var t=Math.max(this.g.length,u.g.length),o=[],c=0,p=0;p<=t;p++){var y=c+(65535&this.D(p))+(65535&u.D(p)),I=(y>>>16)+(this.D(p)>>>16)+(u.D(p)>>>16);c=I>>>16,o[p]=(I&=65535)<<16|(y&=65535)}return new Xr(o,-2147483648&o[o.length-1]?-1:0)},pe.R=function(u){if(Uo(this)||Uo(u))return ra;if(uo(this))return uo(u)?ms(this).R(ms(u)):ms(ms(this).R(u));if(uo(u))return ms(this.R(ms(u)));if(0>this.X(ic)&&0>u.X(ic))return cs(this.ea()*u.ea());for(var t=this.g.length+u.g.length,o=[],c=0;c<2*t;c++)o[c]=0;for(c=0;c<this.g.length;c++)for(var p=0;p<u.g.length;p++){var y=this.D(c)>>>16,I=65535&this.D(c),O=u.D(p)>>>16,$=65535&u.D(p);o[2*c+2*p]+=I*$,pl(o,2*c+2*p),o[2*c+2*p+1]+=y*$,pl(o,2*c+2*p+1),o[2*c+2*p+1]+=I*O,pl(o,2*c+2*p+1),o[2*c+2*p+2]+=y*O,pl(o,2*c+2*p+2)}for(c=0;c<t;c++)o[c]=o[2*c+1]<<16|o[2*c];for(c=t;c<2*t;c++)o[c]=0;return new Xr(o,0)},pe.gb=function(u){return Ka(this,u).h},pe.and=function(u){for(var t=Math.max(this.g.length,u.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)&u.D(c);return new Xr(o,this.h&u.h)},pe.or=function(u){for(var t=Math.max(this.g.length,u.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)|u.D(c);return new Xr(o,this.h|u.h)},pe.xor=function(u){for(var t=Math.max(this.g.length,u.g.length),o=[],c=0;c<t;c++)o[c]=this.D(c)^u.D(c);return new Xr(o,this.h^u.h)},$a.prototype.createWebChannel=$a.prototype.g,ro.prototype.send=ro.prototype.u,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,bs.COMPLETE="complete",Xs.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",ur.prototype.listen=ur.prototype.O,Pr.prototype.listenOnce=Pr.prototype.P,Pr.prototype.getLastError=Pr.prototype.Sa,Pr.prototype.getLastErrorCode=Pr.prototype.Ia,Pr.prototype.getStatus=Pr.prototype.da,Pr.prototype.getResponseJson=Pr.prototype.Wa,Pr.prototype.getResponseText=Pr.prototype.ja,Pr.prototype.send=Pr.prototype.ha,Pr.prototype.setWithCredentials=Pr.prototype.Oa,Vo.prototype.digest=Vo.prototype.l,Vo.prototype.reset=Vo.prototype.reset,Vo.prototype.update=Vo.prototype.j,Xr.prototype.add=Xr.prototype.add,Xr.prototype.multiply=Xr.prototype.R,Xr.prototype.modulo=Xr.prototype.gb,Xr.prototype.compare=Xr.prototype.X,Xr.prototype.toNumber=Xr.prototype.ea,Xr.prototype.toString=Xr.prototype.toString,Xr.prototype.getBits=Xr.prototype.D,Xr.fromNumber=cs,Xr.fromString=function Vl(u,t){if(0==u.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==u.charAt(0))return ms(Vl(u.substring(1),t));if(0<=u.indexOf("-"))throw Error('number format error: interior "-" character');for(var o=cs(Math.pow(t,8)),c=ra,p=0;p<u.length;p+=8){var y=Math.min(8,u.length-p),I=parseInt(u.substring(p,p+y),t);8>y?(y=cs(Math.pow(t,y)),c=c.R(y).add(cs(I))):c=(c=c.R(o)).add(cs(I))}return c};var gl=Ie.createWebChannelTransport=function(){return new $a},x=Ie.getStatEventTarget=function(){return Di()},q=Ie.ErrorCode=ri,ve=Ie.EventType=bs,j=Ie.Event=Fn,ce=Ie.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ne=Ie.FetchXmlHttpFactory=Qi,bt=Ie.WebChannel=Xs,tn=Ie.XhrIo=Pr,Nr=Ie.Md5=Vo,$r=Ie.Integer=Xr;const ei="@firebase/firestore";class pn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let hi="9.23.0";const wr=new ue.Yd("@firebase/firestore");function mi(){return wr.logLevel}function io(u){wr.setLogLevel(u)}function Lt(u,...t){if(wr.logLevel<=ue.in.DEBUG){const o=t.map(rs);wr.debug(`Firestore (${hi}): ${u}`,...o)}}function Zr(u,...t){if(wr.logLevel<=ue.in.ERROR){const o=t.map(rs);wr.error(`Firestore (${hi}): ${u}`,...o)}}function Vi(u,...t){if(wr.logLevel<=ue.in.WARN){const o=t.map(rs);wr.warn(`Firestore (${hi}): ${u}`,...o)}}function rs(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Yt(u="Unexpected state"){const t=`FIRESTORE (${hi}) INTERNAL ASSERTION FAILED: `+u;throw Zr(t),new Error(t)}function vn(u,t){u||Yt()}function si(u,t){u||Yt()}function rn(u,t){return u}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends m.ZR{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}}class Bh{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Za{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(pn.UNAUTHENTICATED))}shutdown(){}}class vo{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,o){this.changeListener=o,t.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class vd{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){var c=this;let p=this.i;const y=Z=>this.i!==p?(p=this.i,o(Z)):Promise.resolve();let I=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new ds,t.enqueueRetryable(()=>y(this.currentUser))};const O=()=>{const Z=I;t.enqueueRetryable((0,w.Z)(function*(){yield Z.promise,yield y(c.currentUser)}))},$=Z=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(Z=>$(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?$(Z):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new ds)}},0),O()}getToken(){const t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(c=>this.i!==t?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(vn("string"==typeof c.accessToken),new Bh(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vn(null===t||"string"==typeof t),new pn(t)}}class Ul{constructor(t,o,c){this.h=t,this.l=o,this.m=c,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ju{constructor(t,o,c){this.h=t,this.l=o,this.m=c}getToken(){return Promise.resolve(new Ul(this.h,this.l,this.m))}start(t,o){t.enqueueRetryable(()=>o(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vu{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bo{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,o){const c=y=>{null!=y.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const I=y.token!==this.T;return this.T=y.token,Lt("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?o(y.token):Promise.resolve()};this.o=y=>{t.enqueueRetryable(()=>c(y))};const p=y=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.I.onInit(y=>p(y)),setTimeout(()=>{if(!this.appCheck){const y=this.I.getImmediate({optional:!0});y?p(y):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(vn("string"==typeof o.token),this.T=o.token,new vu(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kf(u){const t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(u);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(o);else for(let c=0;c<u;c++)o[c]=Math.floor(256*Math.random());return o}class Rs{static A(){const o=62*Math.floor(256/62);let c="";for(;c.length<20;){const p=kf(40);for(let y=0;y<p.length;++y)c.length<20&&p[y]<o&&(c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(p[y]%62))}return c}}function or(u,t){return u<t?-1:u>t?1:0}function $u(u,t,o){return u.length===t.length&&u.every((c,p)=>o(c,t[p]))}function nr(u){return u+"\0"}class bi{constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new At(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new At(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<-62135596800)throw new At(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bi.fromMillis(Date.now())}static fromDate(t){return bi.fromMillis(t.getTime())}static fromMillis(t){const o=Math.floor(t/1e3),c=Math.floor(1e6*(t-1e3*o));return new bi(o,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?or(this.nanoseconds,t.nanoseconds):or(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class On{constructor(t){this.timestamp=t}static fromTimestamp(t){return new On(t)}static min(){return new On(new bi(0,0))}static max(){return new On(new bi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jo{constructor(t,o,c){void 0===o?o=0:o>t.length&&Yt(),void 0===c?c=t.length-o:c>t.length-o&&Yt(),this.segments=t,this.offset=o,this.len=c}get length(){return this.len}isEqual(t){return 0===jo.comparator(this,t)}child(t){const o=this.segments.slice(this.offset,this.limit());return t instanceof jo?t.forEach(c=>{o.push(c)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,c=this.limit();o<c;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){const c=Math.min(t.length,o.length);for(let p=0;p<c;p++){const y=t.get(p),I=o.get(p);if(y<I)return-1;if(y>I)return 1}return t.length<o.length?-1:t.length>o.length?1:0}}class Xn extends jo{construct(t,o,c){return new Xn(t,o,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const o=[];for(const c of t){if(c.indexOf("//")>=0)throw new At(ht.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);o.push(...c.split("/").filter(p=>p.length>0))}return new Xn(o)}static emptyPath(){return new Xn([])}}const Jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends jo{construct(t,o,c){return new Mr(t,o,c)}static isValidIdentifier(t){return Jd.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(t){const o=[];let c="",p=0;const y=()=>{if(0===c.length)throw new At(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(c),c=""};let I=!1;for(;p<t.length;){const O=t[p];if("\\"===O){if(p+1===t.length)throw new At(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const $=t[p+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new At(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);c+=$,p+=2}else"`"===O?(I=!I,p++):"."!==O||I?(c+=O,p++):(y(),p++)}if(y(),I)throw new At(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mr(o)}static emptyPath(){return new Mr([])}}class on{constructor(t){this.path=t}static fromPath(t){return new on(Xn.fromString(t))}static fromName(t){return new on(Xn.fromString(t).popFirst(5))}static empty(){return new on(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Xn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,o){return Xn.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new on(new Xn(t.slice()))}}class Eu{constructor(t,o,c,p){this.indexId=t,this.collectionGroup=o,this.fields=c,this.indexState=p}}function Eo(u){return u.fields.find(t=>2===t.kind)}function wu(u){return u.fields.filter(t=>2!==t.kind)}Eu.UNKNOWN_ID=-1;class Ta{constructor(t,o){this.fieldPath=t,this.kind=o}}class Vr{constructor(t,o){this.sequenceNumber=t,this.offset=o}static empty(){return new Vr(0,_i.min())}}function Iu(u,t){const o=u.toTimestamp().seconds,c=u.toTimestamp().nanoseconds+1,p=On.fromTimestamp(1e9===c?new bi(o+1,0):new bi(o,c));return new _i(p,on.empty(),t)}function $c(u){return new _i(u.readTime,u.key,-1)}class _i{constructor(t,o,c){this.readTime=t,this.documentKey=o,this.largestBatchId=c}static min(){return new _i(On.min(),on.empty(),-1)}static max(){return new _i(On.max(),on.empty(),-1)}}function wo(u,t){let o=u.readTime.compareTo(t.readTime);return 0!==o?o:(o=on.comparator(u.documentKey,t.documentKey),0!==o?o:or(u.largestBatchId,t.largestBatchId))}const dn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Io{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function zn(u){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,w.Z)(function*(u){if(u.code!==ht.FAILED_PRECONDITION||u.message!==dn)throw u;Lt("LocalStore","Unexpectedly lost primary lease")}),Tu.apply(this,arguments)}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(t){return this.next(void 0,t)}next(t,o){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(t,this.result):new ot((c,p)=>{this.nextCallback=y=>{this.wrapSuccess(t,y).next(c,p)},this.catchCallback=y=>{this.wrapFailure(o,y).next(c,p)}})}toPromise(){return new Promise((t,o)=>{this.next(t,o)})}wrapUserFunction(t){try{const o=t();return o instanceof ot?o:ot.resolve(o)}catch(o){return ot.reject(o)}}wrapSuccess(t,o){return t?this.wrapUserFunction(()=>t(o)):ot.resolve(o)}wrapFailure(t,o){return t?this.wrapUserFunction(()=>t(o)):ot.reject(o)}static resolve(t){return new ot((o,c)=>{o(t)})}static reject(t){return new ot((o,c)=>{c(t)})}static waitFor(t){return new ot((o,c)=>{let p=0,y=0,I=!1;t.forEach(O=>{++p,O.next(()=>{++y,I&&y===p&&o()},$=>c($))}),I=!0,y===p&&o()})}static or(t){let o=ot.resolve(!1);for(const c of t)o=o.next(p=>p?ot.resolve(p):c());return o}static forEach(t,o){const c=[];return t.forEach((p,y)=>{c.push(o.call(this,p,y))}),this.waitFor(c)}static mapArray(t,o){return new ot((c,p)=>{const y=t.length,I=new Array(y);let O=0;for(let $=0;$<y;$++){const Z=$;o(t[Z]).next(ae=>{I[Z]=ae,++O,O===y&&c(I)},ae=>p(ae))}})}static doWhile(t,o){return new ot((c,p)=>{const y=()=>{!0===t()?o().next(()=>{y()},p):c()};y()})}}class Xd{constructor(t,o){this.action=t,this.transaction=o,this.aborted=!1,this.v=new ds,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{o.error?this.v.reject(new To(t,o.error)):this.v.resolve()},this.transaction.onerror=c=>{const p=M(c.target.error);this.v.reject(new To(t,p))}}static open(t,o,c,p){try{return new Xd(o,t.transaction(p,c))}catch(y){throw new To(o,y)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Lt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const o=this.transaction.objectStore(t);return new A(o)}}class lo{constructor(t,o,c){this.name=t,this.version=o,this.V=c,12.2===lo.S((0,m.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Lt("SimpleDb","Removing database:",t),N(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,m.hl)())return!1;if(lo.C())return!0;const t=(0,m.z$)(),o=lo.S(t),c=0<o&&o<10,p=lo.N(t),y=0<p&&p<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||c||y)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,o){return t.store(o)}static S(t){const o=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static N(t){const o=t.match(/Android ([\d.]+)/i),c=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(c)}$(t){var o=this;return(0,w.Z)(function*(){return o.db||(Lt("SimpleDb","Opening database:",o.name),o.db=yield new Promise((c,p)=>{const y=indexedDB.open(o.name,o.version);y.onsuccess=I=>{c(I.target.result)},y.onblocked=()=>{p(new To(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=I=>{const O=I.target.error;p("VersionError"===O.name?new At(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new At(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new To(t,O))},y.onupgradeneeded=I=>{Lt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',I.oldVersion),o.V.O(I.target.result,y.transaction,I.oldVersion,o.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.F&&(o.db.onversionchange=c=>o.F(c)),o.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=o=>t(o))}runTransaction(t,o,c,p){var y=this;return(0,w.Z)(function*(){const I="readonly"===o;let O=0;for(;;){++O;try{y.db=yield y.$(t);const $=Xd.open(y.db,t,I?"readonly":"readwrite",c),Z=p($).next(ae=>($.P(),ae)).catch(ae=>($.abort(ae),ot.reject(ae))).toPromise();return Z.catch(()=>{}),yield $.R,Z}catch($){const Z=$,ae="FirebaseError"!==Z.name&&O<3;if(Lt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ae),y.close(),!ae)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Bs{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return N(this.L.delete())}}class To extends At{constructor(t,o){super(ht.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function bu(u){return"IndexedDbTransactionError"===u.name}class A{constructor(t){this.store=t}put(t,o){let c;return void 0!==o?(Lt("SimpleDb","PUT",this.store.name,t,o),c=this.store.put(o,t)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",t),c=this.store.put(t)),N(c)}add(t){return Lt("SimpleDb","ADD",this.store.name,t,t),N(this.store.add(t))}get(t){return N(this.store.get(t)).next(o=>(void 0===o&&(o=null),Lt("SimpleDb","GET",this.store.name,t,o),o))}delete(t){return Lt("SimpleDb","DELETE",this.store.name,t),N(this.store.delete(t))}count(){return Lt("SimpleDb","COUNT",this.store.name),N(this.store.count())}j(t,o){const c=this.options(t,o);if(c.index||"function"!=typeof this.store.getAll){const p=this.cursor(c),y=[];return this.W(p,(I,O)=>{y.push(O)}).next(()=>y)}{const p=this.store.getAll(c.range);return new ot((y,I)=>{p.onerror=O=>{I(O.target.error)},p.onsuccess=O=>{y(O.target.result)}})}}H(t,o){const c=this.store.getAll(t,null===o?void 0:o);return new ot((p,y)=>{c.onerror=I=>{y(I.target.error)},c.onsuccess=I=>{p(I.target.result)}})}J(t,o){Lt("SimpleDb","DELETE ALL",this.store.name);const c=this.options(t,o);c.Y=!1;const p=this.cursor(c);return this.W(p,(y,I,O)=>O.delete())}X(t,o){let c;o?c=t:(c={},o=t);const p=this.cursor(c);return this.W(p,o)}Z(t){const o=this.cursor({});return new ot((c,p)=>{o.onerror=y=>{const I=M(y.target.error);p(I)},o.onsuccess=y=>{const I=y.target.result;I?t(I.primaryKey,I.value).next(O=>{O?I.continue():c()}):c()}})}W(t,o){const c=[];return new ot((p,y)=>{t.onerror=I=>{y(I.target.error)},t.onsuccess=I=>{const O=I.target.result;if(!O)return void p();const $=new Bs(O),Z=o(O.primaryKey,O.value,$);if(Z instanceof ot){const ae=Z.catch(Ce=>($.done(),ot.reject(Ce)));c.push(ae)}$.isDone?p():null===$.K?O.continue():O.continue($.K)}}).next(()=>ot.waitFor(c))}options(t,o){let c;return void 0!==t&&("string"==typeof t?c=t:o=t),{index:c,range:o}}cursor(t){let o="next";if(t.reverse&&(o="prev"),t.index){const c=this.store.index(t.index);return t.Y?c.openKeyCursor(t.range,o):c.openCursor(t.range,o)}return this.store.openCursor(t.range,o)}}function N(u){return new ot((t,o)=>{u.onsuccess=c=>{t(c.target.result)},u.onerror=c=>{const p=M(c.target.error);o(p)}})}let V=!1;function M(u){const t=lo.S((0,m.z$)());if(t>=12.2&&t<13){const o="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(o)>=0){const c=new At("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V||(V=!0,setTimeout(()=>{throw c},0)),c}}return u}class z{constructor(t,o){this.asyncQueue=t,this.tt=o,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var o=this;Lt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,w.Z)(function*(){o.task=null;try{Lt("IndexBackiller",`Documents written: ${yield o.tt.nt()}`)}catch(c){bu(c)?Lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield zn(c)}yield o.et(6e4)}))}}class se{constructor(t,o){this.localStore=t,this.persistence=o}nt(t=50){var o=this;return(0,w.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>o.st(c,t))})()}st(t,o){const c=new Set;let p=o,y=!0;return ot.doWhile(()=>!0===y&&p>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(I=>{if(null!==I&&!c.has(I))return Lt("IndexBackiller",`Processing collection: ${I}`),this.it(t,I,p).next(O=>{p-=O,c.add(I)});y=!1})).next(()=>o-p)}it(t,o,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,o).next(p=>this.localStore.localDocuments.getNextDocuments(t,o,p,c).next(y=>{const I=y.changes;return this.localStore.indexManager.updateIndexEntries(t,I).next(()=>this.rt(p,y)).next(O=>(Lt("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(t,o,O))).next(()=>I.size)}))}rt(t,o){let c=t;return o.changes.forEach((p,y)=>{const I=$c(y);wo(I,c)>0&&(c=I)}),new _i(c.readTime,c.documentKey,Math.max(o.batchId,t.largestBatchId))}}let fe=(()=>{class u{constructor(o,c){this.previousValue=o,c&&(c.sequenceNumberHandler=p=>this.ot(p),this.ut=p=>c.writeSequenceNumber(p))}ot(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue}next(){const o=++this.previousValue;return this.ut&&this.ut(o),o}}return u.ct=-1,u})();function Ze(u){return null==u}function Nt(u){return 0===u&&1/u==-1/0}function Tt(u){return"number"==typeof u&&Number.isInteger(u)&&!Nt(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function gn(u){let t="";for(let o=0;o<u.length;o++)t.length>0&&(t=oi(t)),t=mr(u.get(o),t);return oi(t)}function mr(u,t){let o=t;const c=u.length;for(let p=0;p<c;p++){const y=u.charAt(p);switch(y){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=y}}return o}function oi(u){return u+"\x01\x01"}function _r(u){const t=u.length;if(vn(t>=2),2===t)return vn("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),Xn.emptyPath();const o=t-2,c=[];let p="";for(let y=0;y<t;){const I=u.indexOf("\x01",y);switch((I<0||I>o)&&Yt(),u.charAt(I+1)){case"\x01":const O=u.substring(y,I);let $;0===p.length?$=O:(p+=O,$=p,p=""),c.push($);break;case"\x10":p+=u.substring(y,I),p+="\0";break;case"\x11":p+=u.substring(y,I+1);break;default:Yt()}y=I+2}return new Xn(c)}const co=["userId","batchId"];function ba(u,t){return[u,gn(t)]}function sa(u,t,o){return[u,gn(t),o]}const Ho={},ml=["prefixPath","collectionGroup","readTime","documentId"],ac=["prefixPath","collectionGroup","documentId"],$o=["collectionGroup","readTime","prefixPath","documentId"],Qa=["canonicalId","targetId"],Ji=["targetId","path"],Cu=["path","targetId"],Ed=["collectionId","parent"],Ya=["indexId","uid"],eh=["uid","sequenceNumber"],th=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uc=["indexId","uid","orderedDocumentKey"],zu=["userId","collectionPath","documentId"],_l=["userId","collectionPath","largestBatchId"],oa=["userId","collectionGroup","largestBatchId"],yl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jh=[...yl,"documentOverlays"],Gu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zc=Gu,Hh=[...zc,"indexConfiguration","indexState","indexEntries"];class lc extends Io{constructor(t,o){super(),this.ht=t,this.currentSequenceNumber=o}}function js(u,t){const o=rn(u);return lo.M(o.ht,t)}function aa(u){let t=0;for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&t++;return t}function ua(u,t){for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&t(o,u[o])}function $h(u){for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t))return!1;return!0}class yi{constructor(t,o){this.comparator=t,this.root=o||Hs.EMPTY}insert(t,o){return new yi(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,Hs.BLACK,null,null))}remove(t){return new yi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hs.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){const c=this.comparator(t,o.key);if(0===c)return o.value;c<0?o=o.left:c>0&&(o=o.right)}return null}indexOf(t){let o=0,c=this.root;for(;!c.isEmpty();){const p=this.comparator(t,c.key);if(0===p)return o+c.left.size;p<0?c=c.left:(o+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,c)=>(t(o,c),!1))}toString(){const t=[];return this.inorderTraversal((o,c)=>(t.push(`${o}:${c}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vl(this.root,t,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vl(this.root,t,this.comparator,!0)}}class vl{constructor(t,o,c,p){this.isReverse=p,this.nodeStack=[];let y=1;for(;!t.isEmpty();)if(y=o?c(t.key,o):1,o&&p&&(y*=-1),y<0)t=this.isReverse?t.left:t.right;else{if(0===y){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Hs{constructor(t,o,c,p,y){this.key=t,this.value=o,this.color=c??Hs.RED,this.left=p??Hs.EMPTY,this.right=y??Hs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,c,p,y){return new Hs(t??this.key,o??this.value,c??this.color,p??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,c){let p=this;const y=c(t,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(t,o,c),null):0===y?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(t,o,c)),p.fixUp()}removeMin(){if(this.left.isEmpty())return Hs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let c,p=this;if(o(t,p.key)<0)p.left.isEmpty()||p.left.isRed()||p.left.left.isRed()||(p=p.moveRedLeft()),p=p.copy(null,null,null,p.left.remove(t,o),null);else{if(p.left.isRed()&&(p=p.rotateRight()),p.right.isEmpty()||p.right.isRed()||p.right.left.isRed()||(p=p.moveRedRight()),0===o(t,p.key)){if(p.right.isEmpty())return Hs.EMPTY;c=p.right.min(),p=p.copy(c.key,c.value,null,null,p.right.removeMin())}p=p.copy(null,null,null,null,p.right.remove(t,o))}return p.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Hs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Hs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const t=this.left.check();if(t!==this.right.check())throw Yt();return t+(this.isRed()?0:1)}}Hs.EMPTY=null,Hs.RED=!0,Hs.BLACK=!1,Hs.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(u,t,o,c,p){return this}insert(u,t,o){return new Hs(u,t)}remove(u,t){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xi{constructor(t){this.comparator=t,this.data=new yi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,c)=>(t(o),!1))}forEachInRange(t,o){const c=this.data.getIteratorFrom(t[0]);for(;c.hasNext();){const p=c.getNext();if(this.comparator(p.key,t[1])>=0)return;o(p.key)}}forEachWhile(t,o){let c;for(c=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();c.hasNext();)if(!t(c.getNext().key))return}firstAfterOrEqual(t){const o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new zh(this.data.getIterator())}getIteratorFrom(t){return new zh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(c=>{o=o.add(c)}),o}isEqual(t){if(!(t instanceof Xi)||this.size!==t.size)return!1;const o=this.data.getIterator(),c=t.data.getIterator();for(;o.hasNext();){const p=o.getNext().key,y=c.getNext().key;if(0!==this.comparator(p,y))return!1}return!0}toArray(){const t=[];return this.forEach(o=>{t.push(o)}),t}toString(){const t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){const o=new Xi(this.comparator);return o.data=t,o}}class zh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gc(u){return u.hasNext()?u.getNext():void 0}class la{constructor(t){this.fields=t,t.sort(Mr.comparator)}static empty(){return new la([])}unionWith(t){let o=new Xi(Mr.comparator);for(const c of this.fields)o=o.add(c);for(const c of t)o=o.add(c);return new la(o.toArray())}covers(t){for(const o of this.fields)if(o.isPrefixOf(t))return!0;return!1}isEqual(t){return $u(this.fields,t.fields,(o,c)=>o.isEqual(c))}}class qc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Bl(){return typeof atob<"u"}class _s{constructor(t){this.binaryString=t}static fromBase64String(t){const o=function(c){try{return atob(c)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new qc("Invalid base64 string: "+p):p}}(t);return new _s(o)}static fromUint8Array(t){const o=function(c){let p="";for(let y=0;y<c.length;++y)p+=String.fromCharCode(c[y]);return p}(t);return new _s(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let c=0;c<t.length;c++)o[c]=t.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return or(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const wd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(u){if(vn(!!u),"string"==typeof u){let t=0;const o=wd.exec(u);if(vn(!!o),o[1]){let p=o[1];p=(p+"000000000").substr(0,9),t=Number(p)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:Ri(u.seconds),nanos:Ri(u.nanos)}}function Ri(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function qu(u){return"string"==typeof u?_s.fromBase64String(u):_s.fromUint8Array(u)}function ys(u){var t,o;return"server_timestamp"===(null===(o=((null===(t=u?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function vs(u){const t=u.mapValue.fields.__previous_value__;return ys(t)?vs(t):t}function jl(u){const t=Ja(u.mapValue.fields.__local_write_time__.timestampValue);return new bi(t.seconds,t.nanos)}class zo{constructor(t,o,c,p,y,I,O,$,Z){this.databaseId=t,this.appId=o,this.persistenceKey=c,this.host=p,this.ssl=y,this.forceLongPolling=I,this.autoDetectLongPolling=O,this.longPollingOptions=$,this.useFetchStreams=Z}}class Wu{constructor(t,o){this.projectId=t,this.database=o||"(default)"}static empty(){return new Wu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Wu&&t.projectId===this.projectId&&t.database===this.database}}const ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hl={nullValue:"NULL_VALUE"};function Xa(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ys(u)?4:Gh(u)?9007199254740991:10:Yt()}function Go(u,t){if(u===t)return!0;const o=Xa(u);if(o!==Xa(t))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===t.booleanValue;case 4:return jl(u).isEqual(jl(t));case 3:return function(c,p){if("string"==typeof c.timestampValue&&"string"==typeof p.timestampValue&&c.timestampValue.length===p.timestampValue.length)return c.timestampValue===p.timestampValue;const y=Ja(c.timestampValue),I=Ja(p.timestampValue);return y.seconds===I.seconds&&y.nanos===I.nanos}(u,t);case 5:return u.stringValue===t.stringValue;case 6:return p=t,qu(u.bytesValue).isEqual(qu(p.bytesValue));case 7:return u.referenceValue===t.referenceValue;case 8:return function(c,p){return Ri(c.geoPointValue.latitude)===Ri(p.geoPointValue.latitude)&&Ri(c.geoPointValue.longitude)===Ri(p.geoPointValue.longitude)}(u,t);case 2:return function(c,p){if("integerValue"in c&&"integerValue"in p)return Ri(c.integerValue)===Ri(p.integerValue);if("doubleValue"in c&&"doubleValue"in p){const y=Ri(c.doubleValue),I=Ri(p.doubleValue);return y===I?Nt(y)===Nt(I):isNaN(y)&&isNaN(I)}return!1}(u,t);case 9:return $u(u.arrayValue.values||[],t.arrayValue.values||[],Go);case 10:return function(c,p){const y=c.mapValue.fields||{},I=p.mapValue.fields||{};if(aa(y)!==aa(I))return!1;for(const O in y)if(y.hasOwnProperty(O)&&(void 0===I[O]||!Go(y[O],I[O])))return!1;return!0}(u,t);default:return Yt()}var p}function Ku(u,t){return void 0!==(u.values||[]).find(o=>Go(o,t))}function Du(u,t){if(u===t)return 0;const o=Xa(u),c=Xa(t);if(o!==c)return or(o,c);switch(o){case 0:case 9007199254740991:return 0;case 1:return or(u.booleanValue,t.booleanValue);case 2:return function(p,y){const I=Ri(p.integerValue||p.doubleValue),O=Ri(y.integerValue||y.doubleValue);return I<O?-1:I>O?1:I===O?0:isNaN(I)?isNaN(O)?0:-1:1}(u,t);case 3:return Zu(u.timestampValue,t.timestampValue);case 4:return Zu(jl(u),jl(t));case 5:return or(u.stringValue,t.stringValue);case 6:return function(p,y){const I=qu(p),O=qu(y);return I.compareTo(O)}(u.bytesValue,t.bytesValue);case 7:return function(p,y){const I=p.split("/"),O=y.split("/");for(let $=0;$<I.length&&$<O.length;$++){const Z=or(I[$],O[$]);if(0!==Z)return Z}return or(I.length,O.length)}(u.referenceValue,t.referenceValue);case 8:return function(p,y){const I=or(Ri(p.latitude),Ri(y.latitude));return 0!==I?I:or(Ri(p.longitude),Ri(y.longitude))}(u.geoPointValue,t.geoPointValue);case 9:return function(p,y){const I=p.values||[],O=y.values||[];for(let $=0;$<I.length&&$<O.length;++$){const Z=Du(I[$],O[$]);if(Z)return Z}return or(I.length,O.length)}(u.arrayValue,t.arrayValue);case 10:return function(p,y){if(p===ca.mapValue&&y===ca.mapValue)return 0;if(p===ca.mapValue)return 1;if(y===ca.mapValue)return-1;const I=p.fields||{},O=Object.keys(I),$=y.fields||{},Z=Object.keys($);O.sort(),Z.sort();for(let ae=0;ae<O.length&&ae<Z.length;++ae){const Ce=or(O[ae],Z[ae]);if(0!==Ce)return Ce;const rt=Du(I[O[ae]],$[Z[ae]]);if(0!==rt)return rt}return or(O.length,Z.length)}(u.mapValue,t.mapValue);default:throw Yt()}}function Zu(u,t){if("string"==typeof u&&"string"==typeof t&&u.length===t.length)return or(u,t);const o=Ja(u),c=Ja(t),p=or(o.seconds,c.seconds);return 0!==p?p:or(o.nanos,c.nanos)}function Ca(u){return El(u)}function El(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const p=Ja(c);return`time(${p.seconds},${p.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?qu(u.bytesValue).toBase64():"referenceValue"in u?on.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(t=u.geoPointValue).latitude},${t.longitude})`:"arrayValue"in u?function(c){let p="[",y=!0;for(const I of c.values||[])y?y=!1:p+=",",p+=El(I);return p+"]"}(u.arrayValue):"mapValue"in u?function(c){const p=Object.keys(c.fields||{}).sort();let y="{",I=!0;for(const O of p)I?I=!1:y+=",",y+=`${O}:${El(c.fields[O])}`;return y+"}"}(u.mapValue):Yt();var t}function Wc(u,t){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${t.path.canonicalString()}`}}function $l(u){return!!u&&"integerValue"in u}function eu(u){return!!u&&"arrayValue"in u}function Kc(u){return!!u&&"nullValue"in u}function nh(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Yu(u){return!!u&&"mapValue"in u}function qo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const t={mapValue:{fields:{}}};return ua(u.mapValue.fields,(o,c)=>t.mapValue.fields[o]=qo(c)),t}if(u.arrayValue){const t={arrayValue:{values:[]}};for(let o=0;o<(u.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=qo(u.arrayValue.values[o]);return t}return Object.assign({},u)}function Gh(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function $s(u){return"nullValue"in u?Hl:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Wc(Wu.empty(),on.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:Yt()}function zl(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Wc(Wu.empty(),on.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?ca:Yt()}function Zc(u,t){const o=Du(u.value,t.value);return 0!==o?o:u.inclusive&&!t.inclusive?-1:!u.inclusive&&t.inclusive?1:0}function Ju(u,t){const o=Du(u.value,t.value);return 0!==o?o:u.inclusive&&!t.inclusive?1:!u.inclusive&&t.inclusive?-1:0}class bo{constructor(t){this.value=t}static empty(){return new bo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let o=this.value;for(let c=0;c<t.length-1;++c)if(o=(o.mapValue.fields||{})[t.get(c)],!Yu(o))return null;return o=(o.mapValue.fields||{})[t.lastSegment()],o||null}}set(t,o){this.getFieldsMap(t.popLast())[t.lastSegment()]=qo(o)}setAll(t){let o=Mr.emptyPath(),c={},p=[];t.forEach((I,O)=>{if(!o.isImmediateParentOf(O)){const $=this.getFieldsMap(o);this.applyChanges($,c,p),c={},p=[],o=O.popLast()}I?c[O.lastSegment()]=qo(I):p.push(O.lastSegment())});const y=this.getFieldsMap(o);this.applyChanges(y,c,p)}delete(t){const o=this.field(t.popLast());Yu(o)&&o.mapValue.fields&&delete o.mapValue.fields[t.lastSegment()]}isEqual(t){return Go(this.value,t.value)}getFieldsMap(t){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let c=0;c<t.length;++c){let p=o.mapValue.fields[t.get(c)];Yu(p)&&p.mapValue.fields||(p={mapValue:{fields:{}}},o.mapValue.fields[t.get(c)]=p),o=p}return o.mapValue.fields}applyChanges(t,o,c){ua(o,(p,y)=>t[p]=y);for(const p of c)delete t[p]}clone(){return new bo(qo(this.value))}}function cc(u){const t=[];return ua(u.fields,(o,c)=>{const p=new Mr([o]);if(Yu(c)){const y=cc(c.mapValue).fields;if(0===y.length)t.push(p);else for(const I of y)t.push(p.child(I))}else t.push(p)}),new la(t)}class Ni{constructor(t,o,c,p,y,I,O){this.key=t,this.documentType=o,this.version=c,this.readTime=p,this.createTime=y,this.data=I,this.documentState=O}static newInvalidDocument(t){return new Ni(t,0,On.min(),On.min(),On.min(),bo.empty(),0)}static newFoundDocument(t,o,c,p){return new Ni(t,1,o,On.min(),c,p,0)}static newNoDocument(t,o){return new Ni(t,2,o,On.min(),On.min(),bo.empty(),0)}static newUnknownDocument(t,o){return new Ni(t,3,o,On.min(),On.min(),bo.empty(),2)}convertToFoundDocument(t,o){return!this.createTime.isEqual(On.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=On.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ni&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Da{constructor(t,o){this.position=t,this.inclusive=o}}function Aa(u,t,o){let c=0;for(let p=0;p<u.position.length;p++){const y=t[p],I=u.position[p];if(c=y.field.isKeyField()?on.comparator(on.fromName(I.referenceValue),o.key):Du(I,o.data.field(y.field)),"desc"===y.dir&&(c*=-1),0!==c)break}return c}function Xu(u,t){if(null===u)return null===t;if(null===t||u.inclusive!==t.inclusive||u.position.length!==t.position.length)return!1;for(let o=0;o<u.position.length;o++)if(!Go(u.position[o],t.position[o]))return!1;return!0}class R{constructor(t,o="asc"){this.field=t,this.dir=o}}function F(u,t){return u.dir===t.dir&&u.field.isEqual(t.field)}class Q{}class he extends Q{constructor(t,o,c){super(),this.field=t,this.op=o,this.value=c}static create(t,o,c){return t.isKeyField()?"in"===o||"not-in"===o?this.createKeyFieldInFilter(t,o,c):new Gs(t,o,c):"array-contains"===o?new Wo(t,c):"in"===o?new hs(t,c):"not-in"===o?new dc(t,c):"array-contains-any"===o?new ng(t,c):new he(t,o,c)}static createKeyFieldInFilter(t,o,c){return"in"===o?new Gi(t,c):new Id(t,c)}matches(t){const o=t.data.field(this.field);return"!="===this.op?null!==o&&this.matchesComparison(Du(o,this.value)):null!==o&&Xa(this.value)===Xa(o)&&this.matchesComparison(Du(o,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends Q{constructor(t,o){super(),this.filters=t,this.op=o,this.lt=null}static create(t,o){return new Te(t,o)}matches(t){return We(this)?void 0===this.filters.find(o=>!o.matches(t)):void 0!==this.filters.find(o=>o.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,o)=>t.concat(o.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(o=>o.isInequality());return null!==t?t.field:null}ft(t){for(const o of this.getFlattenedFilters())if(t(o))return o;return null}}function We(u){return"and"===u.op}function Et(u){return"or"===u.op}function ln(u){return un(u)&&We(u)}function un(u){for(const t of u.filters)if(t instanceof Te)return!1;return!0}function xn(u){if(u instanceof he)return u.field.canonicalString()+u.op.toString()+Ca(u.value);if(ln(u))return u.filters.map(t=>xn(t)).join(",");{const t=u.filters.map(o=>xn(o)).join(",");return`${u.op}(${t})`}}function hr(u,t){return u instanceof he?(o=u,(c=t)instanceof he&&o.op===c.op&&o.field.isEqual(c.field)&&Go(o.value,c.value)):u instanceof Te?function(o,c){return c instanceof Te&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((p,y,I)=>p&&hr(y,c.filters[I]),!0)}(u,t):void Yt();var o,c}function Yn(u,t){const o=u.filters.concat(t);return Te.create(o,u.op)}function zs(u){return u instanceof he?`${(t=u).field.canonicalString()} ${t.op} ${Ca(t.value)}`:u instanceof Te?function(t){return t.op.toString()+" {"+t.getFilters().map(zs).join(" ,")+"}"}(u):"Filter";var t}class Gs extends he{constructor(t,o,c){super(t,o,c),this.key=on.fromName(c.referenceValue)}matches(t){const o=on.comparator(t.key,this.key);return this.matchesComparison(o)}}class Gi extends he{constructor(t,o){super(t,"in",o),this.keys=da(0,o)}matches(t){return this.keys.some(o=>o.isEqual(t.key))}}class Id extends he{constructor(t,o){super(t,"not-in",o),this.keys=da(0,o)}matches(t){return!this.keys.some(o=>o.isEqual(t.key))}}function da(u,t){var o;return((null===(o=t.arrayValue)||void 0===o?void 0:o.values)||[]).map(c=>on.fromName(c.referenceValue))}class Wo extends he{constructor(t,o){super(t,"array-contains",o)}matches(t){const o=t.data.field(this.field);return eu(o)&&Ku(o.arrayValue,this.value)}}class hs extends he{constructor(t,o){super(t,"in",o)}matches(t){const o=t.data.field(this.field);return null!==o&&Ku(this.value.arrayValue,o)}}class dc extends he{constructor(t,o){super(t,"not-in",o)}matches(t){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=t.data.field(this.field);return null!==o&&!Ku(this.value.arrayValue,o)}}class ng extends he{constructor(t,o){super(t,"array-contains-any",o)}matches(t){const o=t.data.field(this.field);return!(!eu(o)||!o.arrayValue.values)&&o.arrayValue.values.some(c=>Ku(this.value.arrayValue,c))}}class hc{constructor(t,o=null,c=[],p=[],y=null,I=null,O=null){this.path=t,this.collectionGroup=o,this.orderBy=c,this.filters=p,this.limit=y,this.startAt=I,this.endAt=O,this.dt=null}}function Gl(u,t=null,o=[],c=[],p=null,y=null,I=null){return new hc(u,t,o,c,p,y,I)}function wl(u){const t=rn(u);if(null===t.dt){let o=t.path.canonicalString();null!==t.collectionGroup&&(o+="|cg:"+t.collectionGroup),o+="|f:",o+=t.filters.map(c=>xn(c)).join(","),o+="|ob:",o+=t.orderBy.map(c=>{return(p=c).field.canonicalString()+p.dir;var p}).join(","),Ze(t.limit)||(o+="|l:",o+=t.limit),t.startAt&&(o+="|lb:",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(c=>Ca(c)).join(",")),t.endAt&&(o+="|ub:",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(c=>Ca(c)).join(",")),t.dt=o}return t.dt}function rh(u,t){if(u.limit!==t.limit||u.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<u.orderBy.length;o++)if(!F(u.orderBy[o],t.orderBy[o]))return!1;if(u.filters.length!==t.filters.length)return!1;for(let o=0;o<u.filters.length;o++)if(!hr(u.filters[o],t.filters[o]))return!1;return u.collectionGroup===t.collectionGroup&&!!u.path.isEqual(t.path)&&!!Xu(u.startAt,t.startAt)&&Xu(u.endAt,t.endAt)}function ih(u){return on.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function rg(u,t){return u.filters.filter(o=>o instanceof he&&o.field.isEqual(t))}function Co(u,t,o){let c=Hl,p=!0;for(const y of rg(u,t)){let I=Hl,O=!0;switch(y.op){case"<":case"<=":I=$s(y.value);break;case"==":case"in":case">=":I=y.value;break;case">":I=y.value,O=!1;break;case"!=":case"not-in":I=Hl}Zc({value:c,inclusive:p},{value:I,inclusive:O})<0&&(c=I,p=O)}if(null!==o)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(t)){const I=o.position[y];Zc({value:c,inclusive:p},{value:I,inclusive:o.inclusive})<0&&(c=I,p=o.inclusive);break}return{value:c,inclusive:p}}function qh(u,t,o){let c=ca,p=!0;for(const y of rg(u,t)){let I=ca,O=!0;switch(y.op){case">=":case">":I=zl(y.value),O=!1;break;case"==":case"in":case"<=":I=y.value;break;case"<":I=y.value,O=!1;break;case"!=":case"not-in":I=ca}Ju({value:c,inclusive:p},{value:I,inclusive:O})>0&&(c=I,p=O)}if(null!==o)for(let y=0;y<u.orderBy.length;++y)if(u.orderBy[y].field.isEqual(t)){const I=o.position[y];Ju({value:c,inclusive:p},{value:I,inclusive:o.inclusive})>0&&(c=I,p=o.inclusive);break}return{value:c,inclusive:p}}class Ko{constructor(t,o=null,c=[],p=[],y=null,I="F",O=null,$=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=c,this.filters=p,this.limit=y,this.limitType=I,this.startAt=O,this.endAt=$,this.wt=null,this._t=null}}function Wh(u,t,o,c,p,y,I,O){return new Ko(u,t,o,c,p,y,I,O)}function tu(u){return new Ko(u)}function Lf(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function Em(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function S(u){for(const t of u.filters){const o=t.getFirstInequalityField();if(null!==o)return o}return null}function E(u){return null!==u.collectionGroup}function T(u){const t=rn(u);if(null===t.wt){t.wt=[];const o=S(t),c=Em(t);if(null!==o&&null===c)o.isKeyField()||t.wt.push(new R(o)),t.wt.push(new R(Mr.keyField(),"asc"));else{let p=!1;for(const y of t.explicitOrderBy)t.wt.push(y),y.field.isKeyField()&&(p=!0);if(!p){const y=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new R(Mr.keyField(),y))}}}return t.wt}function P(u){const t=rn(u);if(!t._t)if("F"===t.limitType)t._t=Gl(t.path,t.collectionGroup,T(t),t.filters,t.limit,t.startAt,t.endAt);else{const o=[];for(const y of T(t))o.push(new R(y.field,"desc"===y.dir?"asc":"desc"));const c=t.endAt?new Da(t.endAt.position,t.endAt.inclusive):null,p=t.startAt?new Da(t.startAt.position,t.startAt.inclusive):null;t._t=Gl(t.path,t.collectionGroup,o,t.filters,t.limit,c,p)}return t._t}function J(u,t){t.getFirstInequalityField(),S(u);const o=u.filters.concat([t]);return new Ko(u.path,u.collectionGroup,u.explicitOrderBy.slice(),o,u.limit,u.limitType,u.startAt,u.endAt)}function oe(u,t,o){return new Ko(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),t,o,u.startAt,u.endAt)}function He(u,t){return rh(P(u),P(t))&&u.limitType===t.limitType}function ft(u){return`${wl(P(u))}|lt:${u.limitType}`}function nn(u){return`Query(target=${function(t){let o=t.path.canonicalString();return null!==t.collectionGroup&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(c=>zs(c)).join(", ")}]`),Ze(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(c=>{return`${(p=c).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(c=>Ca(c)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(c=>Ca(c)).join(",")),`Target(${o})`}(P(u))}; limitType=${u.limitType})`}function jt(u,t){return t.isFoundDocument()&&function(o,c){const p=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):on.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(u,t)&&function(o,c){for(const p of T(o))if(!p.field.isKeyField()&&null===c.data.field(p.field))return!1;return!0}(u,t)&&function(o,c){for(const p of o.filters)if(!p.matches(c))return!1;return!0}(u,t)&&(c=t,!((o=u).startAt&&!function(p,y,I){const O=Aa(p,y,I);return p.inclusive?O<=0:O<0}(o.startAt,T(o),c)||o.endAt&&!function(p,y,I){const O=Aa(p,y,I);return p.inclusive?O>=0:O>0}(o.endAt,T(o),c)));var o,c}function Nn(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function kr(u){return(t,o)=>{let c=!1;for(const p of T(u)){const y=so(p,t,o);if(0!==y)return y;c=c||p.field.isKeyField()}return 0}}function so(u,t,o){const c=u.field.isKeyField()?on.comparator(t.key,o.key):function(p,y,I){const O=y.data.field(p),$=I.data.field(p);return null!==O&&null!==$?Du(O,$):Yt()}(u.field,t,o);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return Yt()}}class ho{constructor(t,o){this.mapKeyFn=t,this.equalsFn=o,this.inner={},this.innerSize=0}get(t){const o=this.mapKeyFn(t),c=this.inner[o];if(void 0!==c)for(const[p,y]of c)if(this.equalsFn(p,t))return y}has(t){return void 0!==this.get(t)}set(t,o){const c=this.mapKeyFn(t),p=this.inner[c];if(void 0===p)return this.inner[c]=[[t,o]],void this.innerSize++;for(let y=0;y<p.length;y++)if(this.equalsFn(p[y][0],t))return void(p[y]=[t,o]);p.push([t,o]),this.innerSize++}delete(t){const o=this.mapKeyFn(t),c=this.inner[o];if(void 0===c)return!1;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],t))return 1===c.length?delete this.inner[o]:c.splice(p,1),this.innerSize--,!0;return!1}forEach(t){ua(this.inner,(o,c)=>{for(const[p,y]of c)t(p,y)})}isEmpty(){return $h(this.inner)}size(){return this.innerSize}}const sh=new yi(on.comparator);function Sa(){return sh}const Ff=new yi(on.comparator);function Il(...u){let t=Ff;for(const o of u)t=t.insert(o.key,o);return t}function Td(u){let t=Ff;return u.forEach((o,c)=>t=t.insert(o,c.overlayedDocument)),t}function ha(){return Qc()}function fc(){return Qc()}function Qc(){return new ho(u=>u.toString(),(u,t)=>u.isEqual(t))}const Vf=new yi(on.comparator),wm=new Xi(on.comparator);function Ir(...u){let t=wm;for(const o of u)t=t.add(o);return t}const ig=new Xi(or);function sg(){return ig}function Uf(u,t){if(u.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nt(t)?"-0":t}}function ny(u){return{integerValue:""+u}}function ry(u,t){return Tt(t)?ny(t):Uf(u,t)}class Bf{constructor(){this._=void 0}}function Ov(u,t,o){return u instanceof Kh?function(c,p){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return p&&ys(p)&&(p=vs(p)),p&&(y.fields.__previous_value__=p),{mapValue:y}}(o,t):u instanceof Zh?Tm(u,t):u instanceof jf?Ew(u,t):function(c,p){const y=Nv(c,p),I=og(y)+og(c.gt);return $l(y)&&$l(c.gt)?ny(I):Uf(c.serializer,I)}(u,t)}function Im(u,t,o){return u instanceof Zh?Tm(u,t):u instanceof jf?Ew(u,t):o}function Nv(u,t){return u instanceof pc?$l(o=t)||(c=o)&&"doubleValue"in c?t:{integerValue:0}:null;var c,o}class Kh extends Bf{}class Zh extends Bf{constructor(t){super(),this.elements=t}}function Tm(u,t){const o=bm(t);for(const c of u.elements)o.some(p=>Go(p,c))||o.push(c);return{arrayValue:{values:o}}}class jf extends Bf{constructor(t){super(),this.elements=t}}function Ew(u,t){let o=bm(t);for(const c of u.elements)o=o.filter(p=>!Go(p,c));return{arrayValue:{values:o}}}class pc extends Bf{constructor(t,o){super(),this.serializer=t,this.gt=o}}function og(u){return Ri(u.integerValue||u.doubleValue)}function bm(u){return eu(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Hf{constructor(t,o){this.field=t,this.transform=o}}class Cm{constructor(t,o){this.version=t,this.transformResults=o}}class is{constructor(t,o){this.updateTime=t,this.exists=o}static none(){return new is}static exists(t){return new is(void 0,t)}static updateTime(t){return new is(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qh(u,t){return void 0!==u.updateTime?t.isFoundDocument()&&t.version.isEqual(u.updateTime):void 0===u.exists||u.exists===t.isFoundDocument()}class ss{}function Dm(u,t){if(!u.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return u.isNoDocument()?new Yh(u.key,is.none()):new oh(u.key,u.data,is.none());{const o=u.data,c=bo.empty();let p=new Xi(Mr.comparator);for(let y of t.fields)if(!p.has(y)){let I=o.field(y);null===I&&y.length>1&&(y=y.popLast(),I=o.field(y)),null===I?c.delete(y):c.set(y,I),p=p.add(y)}return new Tl(u.key,c,new la(p.toArray()),is.none())}}function kv(u,t,o){u instanceof oh?function(c,p,y){const I=c.value.clone(),O=Gf(c.fieldTransforms,p,y.transformResults);I.setAll(O),p.convertToFoundDocument(y.version,I).setHasCommittedMutations()}(u,t,o):u instanceof Tl?function(c,p,y){if(!Qh(c.precondition,p))return void p.convertToUnknownDocument(y.version);const I=Gf(c.fieldTransforms,p,y.transformResults),O=p.data;O.setAll(ah(c)),O.setAll(I),p.convertToFoundDocument(y.version,O).setHasCommittedMutations()}(u,t,o):t.convertToNoDocument(o.version).setHasCommittedMutations()}function $f(u,t,o,c){return u instanceof oh?function(p,y,I,O){if(!Qh(p.precondition,y))return I;const $=p.value.clone(),Z=gc(p.fieldTransforms,O,y);return $.setAll(Z),y.convertToFoundDocument(y.version,$).setHasLocalMutations(),null}(u,t,o,c):u instanceof Tl?function(p,y,I,O){if(!Qh(p.precondition,y))return I;const $=gc(p.fieldTransforms,O,y),Z=y.data;return Z.setAll(ah(p)),Z.setAll($),y.convertToFoundDocument(y.version,Z).setHasLocalMutations(),null===I?null:I.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(ae=>ae.field))}(u,t,o,c):(I=o,Qh(u.precondition,y=t)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):I);var y,I}function zf(u,t){let o=null;for(const c of u.fieldTransforms){const p=t.data.field(c.field),y=Nv(c.transform,p||null);null!=y&&(null===o&&(o=bo.empty()),o.set(c.field,y))}return o||null}function Am(u,t){return u.type===t.type&&!!u.key.isEqual(t.key)&&!!u.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(o=u.fieldTransforms)&&void 0===c||o&&c&&$u(o,c,(p,y)=>function ww(u,t){return u.field.isEqual(t.field)&&(c=t.transform,(o=u.transform)instanceof Zh&&c instanceof Zh||o instanceof jf&&c instanceof jf?$u(o.elements,c.elements,Go):o instanceof pc&&c instanceof pc?Go(o.gt,c.gt):o instanceof Kh&&c instanceof Kh);var o,c}(p,y))))&&(0===u.type?u.value.isEqual(t.value):1!==u.type||u.data.isEqual(t.data)&&u.fieldMask.isEqual(t.fieldMask));var o,c}class oh extends ss{constructor(t,o,c,p=[]){super(),this.key=t,this.value=o,this.precondition=c,this.fieldTransforms=p,this.type=0}getFieldMask(){return null}}class Tl extends ss{constructor(t,o,c,p,y=[]){super(),this.key=t,this.data=o,this.fieldMask=c,this.precondition=p,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function ah(u){const t=new Map;return u.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const c=u.data.field(o);t.set(o,c)}}),t}function Gf(u,t,o){const c=new Map;vn(u.length===o.length);for(let p=0;p<o.length;p++){const y=u[p],I=y.transform,O=t.data.field(y.field);c.set(y.field,Im(I,O,o[p]))}return c}function gc(u,t,o){const c=new Map;for(const p of u){const y=p.transform,I=o.data.field(p.field);c.set(p.field,Ov(y,I,t))}return c}class Yh extends ss{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iy extends ss{constructor(t,o){super(),this.key=t,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ag{constructor(t,o,c,p){this.batchId=t,this.localWriteTime=o,this.baseMutations=c,this.mutations=p}applyToRemoteDocument(t,o){const c=o.mutationResults;for(let p=0;p<this.mutations.length;p++){const y=this.mutations[p];y.key.isEqual(t.key)&&kv(y,t,c[p])}}applyToLocalView(t,o){for(const c of this.baseMutations)c.key.isEqual(t.key)&&(o=$f(c,t,o,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(t.key)&&(o=$f(c,t,o,this.localWriteTime));return o}applyToLocalDocumentSet(t,o){const c=fc();return this.mutations.forEach(p=>{const y=t.get(p.key),I=y.overlayedDocument;let O=this.applyToLocalView(I,y.mutatedFields);O=o.has(p.key)?null:O;const $=Dm(I,O);null!==$&&c.set(p.key,$),I.isValidDocument()||I.convertToNoDocument(On.min())}),c}keys(){return this.mutations.reduce((t,o)=>t.add(o.key),Ir())}isEqual(t){return this.batchId===t.batchId&&$u(this.mutations,t.mutations,(o,c)=>Am(o,c))&&$u(this.baseMutations,t.baseMutations,(o,c)=>Am(o,c))}}class Jh{constructor(t,o,c,p){this.batch=t,this.commitVersion=o,this.mutationResults=c,this.docVersions=p}static from(t,o,c){vn(t.mutations.length===c.length);let p=Vf;const y=t.mutations;for(let I=0;I<y.length;I++)p=p.insert(y[I].key,c[I].version);return new Jh(t,o,c,p)}}class Xh{constructor(t,o){this.largestBatchId=t,this.mutation=o}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sy{constructor(t,o){this.count=t,this.unchangedNames=o}}var Os,vi;function ug(u){switch(u){default:return Yt();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function Au(u){if(void 0===u)return Zr("GRPC error has no .code"),ht.UNKNOWN;switch(u){case Os.OK:return ht.OK;case Os.CANCELLED:return ht.CANCELLED;case Os.UNKNOWN:return ht.UNKNOWN;case Os.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Os.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Os.INTERNAL:return ht.INTERNAL;case Os.UNAVAILABLE:return ht.UNAVAILABLE;case Os.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Os.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Os.NOT_FOUND:return ht.NOT_FOUND;case Os.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Os.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Os.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Os.ABORTED:return ht.ABORTED;case Os.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Os.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Os.DATA_LOSS:return ht.DATA_LOSS;default:return Yt()}}(vi=Os||(Os={}))[vi.OK=0]="OK",vi[vi.CANCELLED=1]="CANCELLED",vi[vi.UNKNOWN=2]="UNKNOWN",vi[vi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vi[vi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vi[vi.NOT_FOUND=5]="NOT_FOUND",vi[vi.ALREADY_EXISTS=6]="ALREADY_EXISTS",vi[vi.PERMISSION_DENIED=7]="PERMISSION_DENIED",vi[vi.UNAUTHENTICATED=16]="UNAUTHENTICATED",vi[vi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vi[vi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vi[vi.ABORTED=10]="ABORTED",vi[vi.OUT_OF_RANGE=11]="OUT_OF_RANGE",vi[vi.UNIMPLEMENTED=12]="UNIMPLEMENTED",vi[vi.INTERNAL=13]="INTERNAL",vi[vi.UNAVAILABLE=14]="UNAVAILABLE",vi[vi.DATA_LOSS=15]="DATA_LOSS";class qf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bd}static getOrCreateInstance(){return null===bd&&(bd=new qf),bd}onExistenceFilterMismatch(t){const o=Symbol();return this.onExistenceFilterMismatchCallbacks.set(o,t),()=>this.onExistenceFilterMismatchCallbacks.delete(o)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(o=>o(t))}}let bd=null;function lg(){return new TextEncoder}const xa=new $r([4294967295,4294967295],0);function uh(u){const t=lg().encode(u),o=new Nr;return o.update(t),new Uint8Array(o.digest())}function cg(u){const t=new DataView(u.buffer),o=t.getUint32(0,!0),c=t.getUint32(4,!0),p=t.getUint32(8,!0),y=t.getUint32(12,!0);return[new $r([o,c],0),new $r([p,y],0)]}class dg{constructor(t,o,c){if(this.bitmap=t,this.padding=o,this.hashCount=c,o<0||o>=8)throw new lh(`Invalid padding: ${o}`);if(c<0)throw new lh(`Invalid hash count: ${c}`);if(t.length>0&&0===this.hashCount)throw new lh(`Invalid hash count: ${c}`);if(0===t.length&&0!==o)throw new lh(`Invalid padding when bitmap length is 0: ${o}`);this.It=8*t.length-o,this.Tt=$r.fromNumber(this.It)}Et(t,o,c){let p=t.add(o.multiply($r.fromNumber(c)));return 1===p.compare(xa)&&(p=new $r([p.getBits(0),p.getBits(1)],0)),p.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const o=uh(t),[c,p]=cg(o);for(let y=0;y<this.hashCount;y++){const I=this.Et(c,p,y);if(!this.At(I))return!1}return!0}static create(t,o,c){const p=t%8==0?0:8-t%8,y=new Uint8Array(Math.ceil(t/8)),I=new dg(y,p,o);return c.forEach(O=>I.insert(O)),I}insert(t){if(0===this.It)return;const o=uh(t),[c,p]=cg(o);for(let y=0;y<this.hashCount;y++){const I=this.Et(c,p,y);this.Rt(I)}}Rt(t){const o=Math.floor(t/8);this.bitmap[o]|=1<<t%8}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ef{constructor(t,o,c,p,y){this.snapshotVersion=t,this.targetChanges=o,this.targetMismatches=c,this.documentUpdates=p,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(t,o,c){const p=new Map;return p.set(t,Wf.createSynthesizedTargetChangeForCurrentChange(t,o,c)),new ef(On.min(),p,new yi(or),Sa(),Ir())}}class Wf{constructor(t,o,c,p,y){this.resumeToken=t,this.current=o,this.addedDocuments=c,this.modifiedDocuments=p,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(t,o,c){return new Wf(c,o,Ir(),Ir(),Ir())}}class mc{constructor(t,o,c,p){this.Pt=t,this.removedTargetIds=o,this.key=c,this.bt=p}}class oy{constructor(t,o){this.targetId=t,this.Vt=o}}class Sm{constructor(t,o,c=_s.EMPTY_BYTE_STRING,p=null){this.state=t,this.targetIds=o,this.resumeToken=c,this.cause=p}}class ay{constructor(){this.St=0,this.Dt=nu(),this.Ct=_s.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Ir(),o=Ir(),c=Ir();return this.Dt.forEach((p,y)=>{switch(y){case 0:t=t.add(p);break;case 2:o=o.add(p);break;case 1:c=c.add(p);break;default:Yt()}}),new Wf(this.Ct,this.xt,t,o,c)}Ft(){this.Nt=!1,this.Dt=nu()}Bt(t,o){this.Nt=!0,this.Dt=this.Dt.insert(t,o)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Fv{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Sa(),this.zt=tf(),this.Wt=new yi(or)}Ht(t){for(const o of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(o,t.bt):this.Yt(o,t.key,t.bt);for(const o of t.removedTargetIds)this.Yt(o,t.key,t.bt)}Xt(t){this.forEachTarget(t,o=>{const c=this.Zt(o);switch(t.state){case 0:this.te(o)&&c.$t(t.resumeToken);break;case 1:c.Ut(),c.kt||c.Ft(),c.$t(t.resumeToken);break;case 2:c.Ut(),c.kt||this.removeTarget(o);break;case 3:this.te(o)&&(c.Kt(),c.$t(t.resumeToken));break;case 4:this.te(o)&&(this.ee(o),c.$t(t.resumeToken));break;default:Yt()}})}forEachTarget(t,o){t.targetIds.length>0?t.targetIds.forEach(o):this.Qt.forEach((c,p)=>{this.te(p)&&o(p)})}ne(t){var o;const c=t.targetId,p=t.Vt.count,y=this.se(c);if(y){const I=y.target;if(ih(I))if(0===p){const O=new on(I.path);this.Yt(c,O,Ni.newNoDocument(O,On.min()))}else vn(1===p);else{const O=this.ie(c);if(O!==p){const $=this.re(t,O);0!==$&&(this.ee(c),this.Wt=this.Wt.insert(c,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(o=qf.instance)||void 0===o||o.notifyOnExistenceFilterMismatch(function(Z,ae,Ce){var rt,Ct,Zt,En,Cn,Tr;const Ei={localCacheCount:ae,existenceFilterCount:Ce.count},ti=Ce.unchangedNames;return ti&&(Ei.bloomFilter={applied:0===Z,hashCount:null!==(rt=ti?.hashCount)&&void 0!==rt?rt:0,bitmapLength:null!==(En=null===(Zt=null===(Ct=ti?.bits)||void 0===Ct?void 0:Ct.bitmap)||void 0===Zt?void 0:Zt.length)&&void 0!==En?En:0,padding:null!==(Tr=null===(Cn=ti?.bits)||void 0===Cn?void 0:Cn.padding)&&void 0!==Tr?Tr:0}),Ei}($,O,t.Vt))}}}}re(t,o){const{unchangedNames:c,count:p}=t.Vt;if(!c||!c.bits)return 1;const{bits:{bitmap:y="",padding:I=0},hashCount:O=0}=c;let $,Z;try{$=qu(y).toUint8Array()}catch(ae){if(ae instanceof qc)return Vi("Decoding the base64 bloom filter in existence filter failed ("+ae.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ae}try{Z=new dg($,I,O)}catch(ae){return Vi(ae instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",ae),1}return 0===Z.It?1:p!==o-this.oe(t.targetId,Z)?2:0}oe(t,o){const c=this.Gt.getRemoteKeysForTarget(t);let p=0;return c.forEach(y=>{const I=this.Gt.ue(),O=`projects/${I.projectId}/databases/${I.database}/documents/${y.path.canonicalString()}`;o.vt(O)||(this.Yt(t,y,null),p++)}),p}ce(t){const o=new Map;this.Qt.forEach((y,I)=>{const O=this.se(I);if(O){if(y.current&&ih(O.target)){const $=new on(O.target.path);null!==this.jt.get($)||this.ae(I,$)||this.Yt(I,$,Ni.newNoDocument($,t))}y.Mt&&(o.set(I,y.Ot()),y.Ft())}});let c=Ir();this.zt.forEach((y,I)=>{let O=!0;I.forEachWhile($=>{const Z=this.se($);return!Z||"TargetPurposeLimboResolution"===Z.purpose||(O=!1,!1)}),O&&(c=c.add(y))}),this.jt.forEach((y,I)=>I.setReadTime(t));const p=new ef(t,o,this.Wt,this.jt,c);return this.jt=Sa(),this.zt=tf(),this.Wt=new yi(or),p}Jt(t,o){if(!this.te(t))return;const c=this.ae(t,o.key)?2:0;this.Zt(t).Bt(o.key,c),this.jt=this.jt.insert(o.key,o),this.zt=this.zt.insert(o.key,this.he(o.key).add(t))}Yt(t,o,c){if(!this.te(t))return;const p=this.Zt(t);this.ae(t,o)?p.Bt(o,1):p.Lt(o),this.zt=this.zt.insert(o,this.he(o).delete(t)),c&&(this.jt=this.jt.insert(o,c))}removeTarget(t){this.Qt.delete(t)}ie(t){const o=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+o.addedDocuments.size-o.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let o=this.Qt.get(t);return o||(o=new ay,this.Qt.set(t,o)),o}he(t){let o=this.zt.get(t);return o||(o=new Xi(or),this.zt=this.zt.insert(t,o)),o}te(t){const o=null!==this.se(t);return o||Lt("WatchChangeAggregator","Detected inactive target",t),o}se(t){const o=this.Qt.get(t);return o&&o.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new ay),this.Gt.getRemoteKeysForTarget(t).forEach(o=>{this.Yt(t,o,null)})}ae(t,o){return this.Gt.getRemoteKeysForTarget(t).has(o)}}function tf(){return new yi(on.comparator)}function nu(){return new yi(on.comparator)}const Vv={asc:"ASCENDING",desc:"DESCENDING"},Kf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zf={and:"AND",or:"OR"};class Iw{constructor(t,o){this.databaseId=t,this.useProto3Json=o}}function el(u,t){return u.useProto3Json||Ze(t)?t:{value:t}}function Cd(u,t){return u.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ui(u,t){return u.useProto3Json?t.toBase64():t.toUint8Array()}function Qf(u,t){return Cd(u,t.toTimestamp())}function Es(u){return vn(!!u),On.fromTimestamp(function(t){const o=Ja(t);return new bi(o.seconds,o.nanos)}(u))}function bl(u,t){return(o=u,new Xn(["projects",o.projectId,"databases",o.database])).child("documents").child(t).canonicalString();var o}function hg(u){const t=Xn.fromString(u);return vn(fo(t)),t}function Yc(u,t){return bl(u.databaseId,t.path)}function Su(u,t){const o=hg(t);if(o.get(1)!==u.databaseId.projectId)throw new At(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+u.databaseId.projectId);if(o.get(3)!==u.databaseId.database)throw new At(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+u.databaseId.database);return new on(Dl(o))}function fg(u,t){return bl(u.databaseId,t)}function uy(u){const t=hg(u);return 4===t.length?Xn.emptyPath():Dl(t)}function Cl(u){return new Xn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Dl(u){return vn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function fa(u,t,o){return{name:Yc(u,t),fields:o.value.mapValue.fields}}function Yf(u,t,o){const c=Su(u,t.name),p=Es(t.updateTime),y=t.createTime?Es(t.createTime):On.min(),I=new bo({mapValue:{fields:t.fields}}),O=Ni.newFoundDocument(c,p,y,I);return o&&O.setHasCommittedMutations(),o?O.setHasCommittedMutations():O}function Jc(u,t){let o;if(t instanceof oh)o={update:fa(u,t.key,t.value)};else if(t instanceof Yh)o={delete:Yc(u,t.key)};else if(t instanceof Tl)o={update:fa(u,t.key,t.data),updateMask:fy(t.fieldMask)};else{if(!(t instanceof iy))return Yt();o={verify:Yc(u,t.key)}}return t.fieldTransforms.length>0&&(o.updateTransforms=t.fieldTransforms.map(c=>function(p,y){const I=y.transform;if(I instanceof Kh)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Zh)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof jf)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof pc)return{fieldPath:y.field.canonicalString(),increment:I.gt};throw Yt()}(0,c))),t.precondition.isNone||(o.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:Qf(u,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Yt()),o;var p}function xm(u,t){const o=t.currentDocument?void 0!==(p=t.currentDocument).updateTime?is.updateTime(Es(p.updateTime)):void 0!==p.exists?is.exists(p.exists):is.none():is.none(),c=t.updateTransforms?t.updateTransforms.map(p=>function(y,I){let O=null;"setToServerValue"in I?(vn("REQUEST_TIME"===I.setToServerValue),O=new Kh):"appendMissingElements"in I?O=new Zh(I.appendMissingElements.values||[]):"removeAllFromArray"in I?O=new jf(I.removeAllFromArray.values||[]):"increment"in I?O=new pc(y,I.increment):Yt();const $=Mr.fromServerFormat(I.fieldPath);return new Hf($,O)}(u,p)):[];var p;if(t.update){const p=Su(u,t.update.name),y=new bo({mapValue:{fields:t.update.fields}});if(t.updateMask){const I=new la((t.updateMask.fieldPaths||[]).map(Z=>Mr.fromServerFormat(Z)));return new Tl(p,y,I,o,c)}return new oh(p,y,o,c)}if(t.delete){const p=Su(u,t.delete);return new Yh(p,o)}if(t.verify){const p=Su(u,t.verify);return new iy(p,o)}return Yt()}function ly(u,t){return{documents:[fg(u,t.path)]}}function cy(u,t){const o={structuredQuery:{}},c=t.path;null!==t.collectionGroup?(o.parent=fg(u,c),o.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o.parent=fg(u,c.popLast()),o.structuredQuery.from=[{collectionId:c.lastSegment()}]);const p=function($){if(0!==$.length)return hy(Te.create($,"and"))}(t.filters);p&&(o.structuredQuery.where=p);const y=function($){if(0!==$.length)return $.map(Z=>{return{field:af((ae=Z).field),direction:yI(ae.dir)};var ae})}(t.orderBy);y&&(o.structuredQuery.orderBy=y);const I=el(u,t.limit);var O,$;return null!==I&&(o.structuredQuery.limit=I),t.startAt&&(o.structuredQuery.startAt={before:(O=t.startAt).inclusive,values:O.position}),t.endAt&&(o.structuredQuery.endAt={before:!($=t.endAt).inclusive,values:$.position}),o}function sf(u){let t=uy(u.parent);const o=u.structuredQuery,c=o.from?o.from.length:0;let p=null;if(c>0){vn(1===c);const ae=o.from[0];ae.allDescendants?p=ae.collectionId:t=t.child(ae.collectionId)}let y=[];o.where&&(y=function(ae){const Ce=Uv(ae);return Ce instanceof Te&&ln(Ce)?Ce.getFilters():[Ce]}(o.where));let I=[];o.orderBy&&(I=o.orderBy.map(ae=>{return new R(Xf((Ce=ae).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let O=null;o.limit&&(O=function(ae){let Ce;return Ce="object"==typeof ae?ae.value:ae,Ze(Ce)?null:Ce}(o.limit));let $=null;var ae;o.startAt&&($=new Da((ae=o.startAt).values||[],!!ae.before));let Z=null;return o.endAt&&(Z=function(ae){return new Da(ae.values||[],!ae.before)}(o.endAt)),Wh(t,p,I,y,O,"F",$,Z)}function Uv(u){return void 0!==u.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=Xf(t.unaryFilter.field);return he.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=Xf(t.unaryFilter.field);return he.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Xf(t.unaryFilter.field);return he.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Xf(t.unaryFilter.field);return he.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}(u):void 0!==u.fieldFilter?he.create(Xf((t=u).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==u.compositeFilter?function(t){return Te.create(t.compositeFilter.filters.map(o=>Uv(o)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Yt()}}(t.compositeFilter.op))}(u):Yt();var t}function yI(u){return Vv[u]}function db(u){return Kf[u]}function dy(u){return Zf[u]}function af(u){return{fieldPath:u.canonicalString()}}function Xf(u){return Mr.fromServerFormat(u.fieldPath)}function hy(u){return u instanceof he?function(t){if("=="===t.op){if(nh(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NAN"}};if(Kc(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nh(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NOT_NAN"}};if(Kc(t.value))return{unaryFilter:{field:af(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(t.field),op:db(t.op),value:t.value}}}(u):u instanceof Te?function(t){const o=t.getFilters().map(c=>hy(c));return 1===o.length?o[0]:{compositeFilter:{op:dy(t.op),filters:o}}}(u):Yt()}function fy(u){const t=[];return u.fields.forEach(o=>t.push(o.canonicalString())),{fieldPaths:t}}function fo(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class tl{constructor(t,o,c,p,y=On.min(),I=On.min(),O=_s.EMPTY_BYTE_STRING,$=null){this.target=t,this.targetId=o,this.purpose=c,this.sequenceNumber=p,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=O,this.expectedCount=$}withSequenceNumber(t){return new tl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,o){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ql{constructor(t){this.fe=t}}function Bv(u,t){const o=t.key,c={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Ht(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())c.document={name:Yc(p=u.fe,(y=t).key),fields:y.data.value.mapValue.fields,updateTime:Cd(p,y.version.toTimestamp()),createTime:Cd(p,y.createTime.toTimestamp())};else if(t.isNoDocument())c.noDocument={path:o.path.toArray(),readTime:qi(t.version)};else{if(!t.isUnknownDocument())return Yt();c.unknownDocument={path:o.path.toArray(),version:qi(t.version)}}var p,y;return c}function Ht(u){const t=u.toTimestamp();return[t.seconds,t.nanoseconds]}function qi(u){const t=u.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Zo(u){const t=new bi(u.seconds,u.nanoseconds);return On.fromTimestamp(t)}function _c(u,t){const o=(t.baseMutations||[]).map(y=>xm(u.fe,y));for(let y=0;y<t.mutations.length-1;++y)y+1<t.mutations.length&&void 0!==t.mutations[y+1].transform&&(t.mutations[y].updateTransforms=t.mutations[y+1].transform.fieldTransforms,t.mutations.splice(y+1,1),++y);const c=t.mutations.map(y=>xm(u.fe,y)),p=bi.fromMillis(t.localWriteTimeMs);return new ag(t.batchId,p,o,c)}function bn(u){const t=Zo(u.readTime),o=void 0!==u.lastLimboFreeSnapshotVersion?Zo(u.lastLimboFreeSnapshotVersion):On.min();let c;var p;return void 0!==u.query.documents?(vn(1===(p=u.query).documents.length),c=P(tu(uy(p.documents[0])))):c=P(sf(u.query)),new tl(c,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,t,o,_s.fromBase64String(u.resumeToken))}function Gn(u,t){const o=qi(t.snapshotVersion),c=qi(t.lastLimboFreeSnapshotVersion);let p;p=ih(t.target)?ly(u.fe,t.target):cy(u.fe,t.target);const y=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wl(t.target),readTime:o,resumeToken:y,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:p}}function py(u){const t=sf({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?oe(t,t.limit,"L"):t}function hn(u,t){return new Xh(t.largestBatchId,xm(u.fe,t.overlayMutation))}function _t(u,t){const o=t.path.lastSegment();return[u,gn(t.path.popLast()),o]}function $t(u,t,o,c){return{indexId:u,uid:t.uid||"",sequenceNumber:o,readTime:qi(c.readTime),documentKey:gn(c.documentKey.path),largestBatchId:c.largestBatchId}}class Do{getBundleMetadata(t,o){return Rm(t).get(o).next(c=>{if(c)return{id:(p=c).bundleId,createTime:Zo(p.createTime),version:p.version};var p})}saveBundleMetadata(t,o){return Rm(t).put({bundleId:(c=o).id,createTime:qi(Es(c.createTime)),version:c.version});var c}getNamedQuery(t,o){return pg(t).get(o).next(c=>{if(c)return{name:(p=c).name,query:py(p.bundledQuery),readTime:Zo(p.readTime)};var p})}saveNamedQuery(t,o){return pg(t).put({name:(c=o).name,readTime:qi(Es(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Rm(u){return js(u,"bundles")}function pg(u){return js(u,"namedQueries")}class ep{constructor(t,o){this.serializer=t,this.userId=o}static de(t,o){return new ep(t,o.uid||"")}getOverlay(t,o){return ed(t).get(_t(this.userId,o)).next(c=>c?hn(this.serializer,c):null)}getOverlays(t,o){const c=ha();return ot.forEach(o,p=>this.getOverlay(t,p).next(y=>{null!==y&&c.set(p,y)})).next(()=>c)}saveOverlays(t,o,c){const p=[];return c.forEach((y,I)=>{const O=new Xh(o,I);p.push(this.we(t,O))}),ot.waitFor(p)}removeOverlaysForBatchId(t,o,c){const p=new Set;o.forEach(I=>p.add(gn(I.getCollectionPath())));const y=[];return p.forEach(I=>{const O=IDBKeyRange.bound([this.userId,I,c],[this.userId,I,c+1],!1,!0);y.push(ed(t).J("collectionPathOverlayIndex",O))}),ot.waitFor(y)}getOverlaysForCollection(t,o,c){const p=ha(),y=gn(o),I=IDBKeyRange.bound([this.userId,y,c],[this.userId,y,Number.POSITIVE_INFINITY],!0);return ed(t).j("collectionPathOverlayIndex",I).next(O=>{for(const $ of O){const Z=hn(this.serializer,$);p.set(Z.getKey(),Z)}return p})}getOverlaysForCollectionGroup(t,o,c,p){const y=ha();let I;const O=IDBKeyRange.bound([this.userId,o,c],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ed(t).X({index:"collectionGroupOverlayIndex",range:O},($,Z,ae)=>{const Ce=hn(this.serializer,Z);y.size()<p||Ce.largestBatchId===I?(y.set(Ce.getKey(),Ce),I=Ce.largestBatchId):ae.done()}).next(()=>y)}we(t,o){return ed(t).put(function(c,p,y){const[I,O,$]=_t(p,y.mutation.key);return{userId:p,collectionPath:O,documentId:$,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Jc(c.fe,y.mutation)}}(this.serializer,this.userId,o))}}function ed(u){return js(u,"documentOverlays")}class uf{constructor(){}_e(t,o){this.me(t,o),o.ge()}me(t,o){if("nullValue"in t)this.ye(o,5);else if("booleanValue"in t)this.ye(o,10),o.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(o,15),o.pe(Ri(t.integerValue));else if("doubleValue"in t){const c=Ri(t.doubleValue);isNaN(c)?this.ye(o,13):(this.ye(o,15),Nt(c)?o.pe(0):o.pe(c))}else if("timestampValue"in t){const c=t.timestampValue;this.ye(o,20),"string"==typeof c?o.Ie(c):(o.Ie(`${c.seconds||""}`),o.pe(c.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,o),this.Ee(o);else if("bytesValue"in t)this.ye(o,30),o.Ae(qu(t.bytesValue)),this.Ee(o);else if("referenceValue"in t)this.ve(t.referenceValue,o);else if("geoPointValue"in t){const c=t.geoPointValue;this.ye(o,45),o.pe(c.latitude||0),o.pe(c.longitude||0)}else"mapValue"in t?Gh(t)?this.ye(o,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,o),this.Ee(o)):"arrayValue"in t?(this.Pe(t.arrayValue,o),this.Ee(o)):Yt()}Te(t,o){this.ye(o,25),this.be(t,o)}be(t,o){o.Ie(t)}Re(t,o){const c=t.fields||{};this.ye(o,55);for(const p of Object.keys(c))this.Te(p,o),this.me(c[p],o)}Pe(t,o){const c=t.values||[];this.ye(o,50);for(const p of c)this.me(p,o)}ve(t,o){this.ye(o,37),on.fromName(t).path.forEach(c=>{this.ye(o,60),this.be(c,o)})}ye(t,o){t.pe(o)}Ee(t){t.pe(2)}}function bw(u){if(0===u)return 8;let t=0;return!(u>>4)&&(t+=4,u<<=4),!(u>>6)&&(t+=2,u<<=2),!(u>>7)&&(t+=1),t}function jv(u){const t=64-function(o){let c=0;for(let p=0;p<8;++p){const y=bw(255&o[p]);if(c+=y,8!==y)break}return c}(u);return Math.ceil(t/8)}uf.Ve=new uf;class Cw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const o=t[Symbol.iterator]();let c=o.next();for(;!c.done;)this.De(c.value),c=o.next();this.Ce()}xe(t){const o=t[Symbol.iterator]();let c=o.next();for(;!c.done;)this.Ne(c.value),c=o.next();this.ke()}Me(t){for(const o of t){const c=o.charCodeAt(0);if(c<128)this.De(c);else if(c<2048)this.De(960|c>>>6),this.De(128|63&c);else if(o<"\ud800"||"\udbff"<o)this.De(480|c>>>12),this.De(128|63&c>>>6),this.De(128|63&c);else{const p=o.codePointAt(0);this.De(240|p>>>18),this.De(128|63&p>>>12),this.De(128|63&p>>>6),this.De(128|63&p)}}this.Ce()}$e(t){for(const o of t){const c=o.charCodeAt(0);if(c<128)this.Ne(c);else if(c<2048)this.Ne(960|c>>>6),this.Ne(128|63&c);else if(o<"\ud800"||"\udbff"<o)this.Ne(480|c>>>12),this.Ne(128|63&c>>>6),this.Ne(128|63&c);else{const p=o.codePointAt(0);this.Ne(240|p>>>18),this.Ne(128|63&p>>>12),this.Ne(128|63&p>>>6),this.Ne(128|63&p)}}this.ke()}Oe(t){const o=this.Fe(t),c=jv(o);this.Be(1+c),this.buffer[this.position++]=255&c;for(let p=o.length-c;p<o.length;++p)this.buffer[this.position++]=255&o[p]}Le(t){const o=this.Fe(t),c=jv(o);this.Be(1+c),this.buffer[this.position++]=~(255&c);for(let p=o.length-c;p<o.length;++p)this.buffer[this.position++]=~(255&o[p])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const o=function(p){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,p,!1),new Uint8Array(y.buffer)}(t),c=0!=(128&o[0]);o[0]^=c?255:128;for(let p=1;p<o.length;++p)o[p]^=c?255:0;return o}De(t){const o=255&t;0===o?(this.Ue(0),this.Ue(255)):255===o?(this.Ue(255),this.Ue(0)):this.Ue(o)}Ne(t){const o=255&t;0===o?(this.Ge(0),this.Ge(255)):255===o?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const o=t+this.position;if(o<=this.buffer.length)return;let c=2*this.buffer.length;c<o&&(c=o);const p=new Uint8Array(c);p.set(this.buffer),this.buffer=p}}class Hv{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class Dw{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class yc{constructor(){this.je=new Cw,this.ze=new Hv(this.je),this.We=new Dw(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class rr{constructor(t,o,c,p){this.indexId=t,this.documentKey=o,this.arrayValue=c,this.directionalValue=p}Je(){const t=this.directionalValue.length,o=0===t||255===this.directionalValue[t-1]?t+1:t,c=new Uint8Array(o);return c.set(this.directionalValue,0),o!==t?c.set([0],this.directionalValue.length):++c[c.length-1],new rr(this.indexId,this.documentKey,this.arrayValue,c)}}function xu(u,t){let o=u.indexId-t.indexId;return 0!==o?o:(o=Pm(u.arrayValue,t.arrayValue),0!==o?o:(o=Pm(u.directionalValue,t.directionalValue),0!==o?o:on.comparator(u.documentKey,t.documentKey)))}function Pm(u,t){for(let o=0;o<u.length&&o<t.length;++o){const c=u[o]-t[o];if(0!==c)return c}return u.length-t.length}class Ns{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const o of t.filters){const c=o;c.isInequality()?this.Ze=c:this.Xe.push(c)}}tn(t){vn(t.collectionGroup===this.collectionId);const o=Eo(t);if(void 0!==o&&!this.en(o))return!1;const c=wu(t);let p=new Set,y=0,I=0;for(;y<c.length&&this.en(c[y]);++y)p=p.add(c[y].fieldPath.canonicalString());if(y===c.length)return!0;if(void 0!==this.Ze){if(!p.has(this.Ze.field.canonicalString())){const O=c[y];if(!this.nn(this.Ze,O)||!this.sn(this.Ye[I++],O))return!1}++y}for(;y<c.length;++y)if(I>=this.Ye.length||!this.sn(this.Ye[I++],c[y]))return!1;return!0}en(t){for(const o of this.Xe)if(this.nn(o,t))return!0;return!1}nn(t,o){return!(void 0===t||!t.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,o){return!!t.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===t.dir||1===o.kind&&"desc"===t.dir)}}function qn(u){var t,o;if(vn(u instanceof he||u instanceof Te),u instanceof he){if(u instanceof hs){const p=(null===(o=null===(t=u.value.arrayValue)||void 0===t?void 0:t.values)||void 0===o?void 0:o.map(y=>he.create(u.field,"==",y)))||[];return Te.create(p,"or")}return u}const c=u.filters.map(p=>qn(p));return Te.create(c,u.op)}function gg(u){if(0===u.getFilters().length)return[];const t=yn(qn(u));return vn(qs(t)),fi(t)||gy(t)?[t]:t.getFilters()}function fi(u){return u instanceof he}function gy(u){return u instanceof Te&&ln(u)}function qs(u){return fi(u)||gy(u)||function(t){if(t instanceof Te&&Et(t)){for(const o of t.getFilters())if(!fi(o)&&!gy(o))return!1;return!0}return!1}(u)}function yn(u){if(vn(u instanceof he||u instanceof Te),u instanceof he)return u;if(1===u.filters.length)return yn(u.filters[0]);const t=u.filters.map(c=>yn(c));let o=Te.create(t,u.op);return o=nl(o),qs(o)?o:(vn(o instanceof Te),vn(We(o)),vn(o.filters.length>1),o.filters.reduce((c,p)=>ch(c,p)))}function ch(u,t){let o;return vn(u instanceof he||u instanceof Te),vn(t instanceof he||t instanceof Te),o=u instanceof he?t instanceof he?Te.create([u,t],"and"):vc(u,t):t instanceof he?vc(t,u):function(c,p){if(vn(c.filters.length>0&&p.filters.length>0),We(c)&&We(p))return Yn(c,p.getFilters());const y=Et(c)?c:p,I=Et(c)?p:c,O=y.filters.map($=>ch($,I));return Te.create(O,"or")}(u,t),nl(o)}function vc(u,t){if(We(t))return Yn(t,u.getFilters());{const o=t.filters.map(c=>ch(u,c));return Te.create(o,"or")}}function nl(u){if(vn(u instanceof he||u instanceof Te),u instanceof he)return u;const t=u.getFilters();if(1===t.length)return nl(t[0]);if(un(u))return u;const o=t.map(p=>nl(p)),c=[];return o.forEach(p=>{p instanceof he?c.push(p):p instanceof Te&&(p.op===u.op?c.push(...p.filters):c.push(p))}),1===c.length?c[0]:Te.create(c,u.op)}class Aw{constructor(){this.rn=new dh}addToCollectionParentIndex(t,o){return this.rn.add(o),ot.resolve()}getCollectionParents(t,o){return ot.resolve(this.rn.getEntries(o))}addFieldIndex(t,o){return ot.resolve()}deleteFieldIndex(t,o){return ot.resolve()}getDocumentsMatchingTarget(t,o){return ot.resolve(null)}getIndexType(t,o){return ot.resolve(0)}getFieldIndexes(t,o){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,o){return ot.resolve(_i.min())}getMinOffsetFromCollectionGroup(t,o){return ot.resolve(_i.min())}updateCollectionGroup(t,o,c){return ot.resolve()}updateIndexEntries(t,o){return ot.resolve()}}class dh{constructor(){this.index={}}add(t){const o=t.lastSegment(),c=t.popLast(),p=this.index[o]||new Xi(Xn.comparator),y=!p.has(c);return this.index[o]=p.add(c),y}has(t){const o=t.lastSegment(),c=t.popLast(),p=this.index[o];return p&&p.has(c)}getEntries(t){return(this.index[t]||new Xi(Xn.comparator)).toArray()}}const my=new Uint8Array(0);class mg{constructor(t,o){this.user=t,this.databaseId=o,this.on=new dh,this.un=new ho(c=>wl(c),(c,p)=>rh(c,p)),this.uid=t.uid||""}addToCollectionParentIndex(t,o){if(!this.on.has(o)){const c=o.lastSegment(),p=o.popLast();t.addOnCommittedListener(()=>{this.on.add(o)});const y={collectionId:c,parent:gn(p)};return $v(t).put(y)}return ot.resolve()}getCollectionParents(t,o){const c=[],p=IDBKeyRange.bound([o,""],[nr(o),""],!1,!0);return $v(t).j(p).next(y=>{for(const I of y){if(I.collectionId!==o)break;c.push(_r(I.parent))}return c})}addFieldIndex(t,o){const c=Ra(t),p={indexId:(I=o).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var I;delete p.indexId;const y=c.add(p);if(o.indexState){const I=lf(t);return y.next(O=>{I.put($t(O,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return y.next()}deleteFieldIndex(t,o){const c=Ra(t),p=lf(t),y=_g(t);return c.delete(o.indexId).next(()=>p.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,o){const c=_g(t);let p=!0;const y=new Map;return ot.forEach(this.cn(o),I=>this.an(t,I).next(O=>{p&&(p=!!O),y.set(I,O)})).next(()=>{if(p){let I=Ir();const O=[];return ot.forEach(y,($,Z)=>{var ae;Lt("IndexedDbIndexManager",`Using index ${ae=$,`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${wl(o)}`);const Ce=function(ti,mo){const as=Eo(mo);if(void 0===as)return null;for(const fs of rg(ti,as.fieldPath))switch(fs.op){case"array-contains-any":return fs.value.arrayValue.values||[];case"array-contains":return[fs.value]}return null}(Z,$),rt=function(ti,mo){const as=new Map;for(const fs of wu(mo))for(const lu of rg(ti,fs.fieldPath))switch(lu.op){case"==":case"in":as.set(fs.fieldPath.canonicalString(),lu.value);break;case"not-in":case"!=":return as.set(fs.fieldPath.canonicalString(),lu.value),Array.from(as.values())}return null}(Z,$),Ct=function(ti,mo){const as=[];let fs=!0;for(const lu of wu(mo)){const Zd=0===lu.kind?Co(ti,lu.fieldPath,ti.startAt):qh(ti,lu.fieldPath,ti.startAt);as.push(Zd.value),fs&&(fs=Zd.inclusive)}return new Da(as,fs)}(Z,$),Zt=function(ti,mo){const as=[];let fs=!0;for(const lu of wu(mo)){const Zd=0===lu.kind?qh(ti,lu.fieldPath,ti.endAt):Co(ti,lu.fieldPath,ti.endAt);as.push(Zd.value),fs&&(fs=Zd.inclusive)}return new Da(as,fs)}(Z,$),En=this.hn($,Z,Ct),Cn=this.hn($,Z,Zt),Tr=this.ln($,Z,rt),Ei=this.fn($.indexId,Ce,En,Ct.inclusive,Cn,Zt.inclusive,Tr);return ot.forEach(Ei,ti=>c.H(ti,o.limit).next(mo=>{mo.forEach(as=>{const fs=on.fromSegments(as.documentKey);I.has(fs)||(I=I.add(fs),O.push(fs))})}))}).next(()=>O)}return ot.resolve(null)})}cn(t){let o=this.un.get(t);return o||(o=0===t.filters.length?[t]:gg(Te.create(t.filters,"and")).map(c=>Gl(t.path,t.collectionGroup,t.orderBy,c.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,o),o)}fn(t,o,c,p,y,I,O){const $=(null!=o?o.length:1)*Math.max(c.length,y.length),Z=$/(null!=o?o.length:1),ae=[];for(let Ce=0;Ce<$;++Ce){const rt=o?this.dn(o[Ce/Z]):my,Ct=this.wn(t,rt,c[Ce%Z],p),Zt=this._n(t,rt,y[Ce%Z],I),En=O.map(Cn=>this.wn(t,rt,Cn,!0));ae.push(...this.createRange(Ct,Zt,En))}return ae}wn(t,o,c,p){const y=new rr(t,on.empty(),o,c);return p?y:y.Je()}_n(t,o,c,p){const y=new rr(t,on.empty(),o,c);return p?y.Je():y}an(t,o){const c=new Ns(o),p=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(t,p).next(y=>{let I=null;for(const O of y)c.tn(O)&&(!I||O.fields.length>I.fields.length)&&(I=O);return I})}getIndexType(t,o){let c=2;const p=this.cn(o);return ot.forEach(p,y=>this.an(t,y).next(I=>{I?0!==c&&I.fields.length<function(O){let $=new Xi(Mr.comparator),Z=!1;for(const ae of O.filters)for(const Ce of ae.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?Z=!0:$=$.add(Ce.field));for(const ae of O.orderBy)ae.field.isKeyField()||($=$.add(ae.field));return $.size+(Z?1:0)}(y)&&(c=1):c=0})).next(()=>null!==o.limit&&p.length>1&&2===c?1:c)}mn(t,o){const c=new yc;for(const p of wu(t)){const y=o.data.field(p.fieldPath);if(null==y)return null;const I=c.He(p.kind);uf.Ve._e(y,I)}return c.Qe()}dn(t){const o=new yc;return uf.Ve._e(t,o.He(0)),o.Qe()}gn(t,o){const c=new yc;return uf.Ve._e(Wc(this.databaseId,o),c.He(function(p){const y=wu(p);return 0===y.length?0:y[y.length-1].kind}(t))),c.Qe()}ln(t,o,c){if(null===c)return[];let p=[];p.push(new yc);let y=0;for(const I of wu(t)){const O=c[y++];for(const $ of p)if(this.yn(o,I.fieldPath)&&eu(O))p=this.pn(p,I,O);else{const Z=$.He(I.kind);uf.Ve._e(O,Z)}}return this.In(p)}hn(t,o,c){return this.ln(t,o,c.position)}In(t){const o=[];for(let c=0;c<t.length;++c)o[c]=t[c].Qe();return o}pn(t,o,c){const p=[...t],y=[];for(const I of c.arrayValue.values||[])for(const O of p){const $=new yc;$.seed(O.Qe()),uf.Ve._e(I,$.He(o.kind)),y.push($)}return y}yn(t,o){return!!t.filters.find(c=>c instanceof he&&c.field.isEqual(o)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(t,o){const c=Ra(t),p=lf(t);return(o?c.j("collectionGroupIndex",IDBKeyRange.bound(o,o)):c.j()).next(y=>{const I=[];return ot.forEach(y,O=>p.get([O.indexId,this.uid]).next($=>{I.push(function(Z,ae){const Ce=ae?new Vr(ae.sequenceNumber,new _i(Zo(ae.readTime),new on(_r(ae.documentKey)),ae.largestBatchId)):Vr.empty(),rt=Z.fields.map(([Ct,Zt])=>new Ta(Mr.fromServerFormat(Ct),Zt));return new Eu(Z.indexId,Z.collectionGroup,rt,Ce)}(O,$))})).next(()=>I)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(o=>0===o.length?null:(o.sort((c,p)=>{const y=c.indexState.sequenceNumber-p.indexState.sequenceNumber;return 0!==y?y:or(c.collectionGroup,p.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(t,o,c){const p=Ra(t),y=lf(t);return this.Tn(t).next(I=>p.j("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(O=>ot.forEach(O,$=>y.put($t($.indexId,this.user,I,c)))))}updateIndexEntries(t,o){const c=new Map;return ot.forEach(o,(p,y)=>{const I=c.get(p.collectionGroup);return(I?ot.resolve(I):this.getFieldIndexes(t,p.collectionGroup)).next(O=>(c.set(p.collectionGroup,O),ot.forEach(O,$=>this.En(t,p,$).next(Z=>{const ae=this.An(y,$);return Z.isEqual(ae)?ot.resolve():this.vn(t,y,$,Z,ae)}))))})}Rn(t,o,c,p){return _g(t).put({indexId:p.indexId,uid:this.uid,arrayValue:p.arrayValue,directionalValue:p.directionalValue,orderedDocumentKey:this.gn(c,o.key),documentKey:o.key.path.toArray()})}Pn(t,o,c,p){return _g(t).delete([p.indexId,this.uid,p.arrayValue,p.directionalValue,this.gn(c,o.key),o.key.path.toArray()])}En(t,o,c){const p=_g(t);let y=new Xi(xu);return p.X({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.gn(c,o)])},(I,O)=>{y=y.add(new rr(c.indexId,o,O.arrayValue,O.directionalValue))}).next(()=>y)}An(t,o){let c=new Xi(xu);const p=this.mn(o,t);if(null==p)return c;const y=Eo(o);if(null!=y){const I=t.data.field(y.fieldPath);if(eu(I))for(const O of I.arrayValue.values||[])c=c.add(new rr(o.indexId,t.key,this.dn(O),p))}else c=c.add(new rr(o.indexId,t.key,my,p));return c}vn(t,o,c,p,y){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const I=[];return function(O,$,Z,ae,Ce){const rt=O.getIterator(),Ct=$.getIterator();let Zt=Gc(rt),En=Gc(Ct);for(;Zt||En;){let Cn=!1,Tr=!1;if(Zt&&En){const Ei=Z(Zt,En);Ei<0?Tr=!0:Ei>0&&(Cn=!0)}else null!=Zt?Tr=!0:Cn=!0;Cn?(ae(En),En=Gc(Ct)):Tr?(Ce(Zt),Zt=Gc(rt)):(Zt=Gc(rt),En=Gc(Ct))}}(p,y,xu,O=>{I.push(this.Rn(t,o,c,O))},O=>{I.push(this.Pn(t,o,c,O))}),ot.waitFor(I)}Tn(t){let o=1;return lf(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,p,y)=>{y.done(),o=p.sequenceNumber+1}).next(()=>o)}createRange(t,o,c){c=c.sort((I,O)=>xu(I,O)).filter((I,O,$)=>!O||0!==xu(I,$[O-1]));const p=[];p.push(t);for(const I of c){const O=xu(I,t),$=xu(I,o);if(0===O)p[0]=t.Je();else if(O>0&&$<0)p.push(I),p.push(I.Je());else if($>0)break}p.push(o);const y=[];for(let I=0;I<p.length;I+=2){if(this.bn(p[I],p[I+1]))return[];y.push(IDBKeyRange.bound([p[I].indexId,this.uid,p[I].arrayValue,p[I].directionalValue,my,[]],[p[I+1].indexId,this.uid,p[I+1].arrayValue,p[I+1].directionalValue,my,[]]))}return y}bn(t,o){return xu(t,o)>0}getMinOffsetFromCollectionGroup(t,o){return this.getFieldIndexes(t,o).next(_y)}getMinOffset(t,o){return ot.mapArray(this.cn(o),c=>this.an(t,c).next(p=>p||Yt())).next(_y)}}function $v(u){return js(u,"collectionParents")}function _g(u){return js(u,"indexEntries")}function Ra(u){return js(u,"indexConfiguration")}function lf(u){return js(u,"indexState")}function _y(u){vn(0!==u.length);let t=u[0].indexState.offset,o=t.largestBatchId;for(let c=1;c<u.length;c++){const p=u[c].indexState.offset;wo(p,t)<0&&(t=p),o<p.largestBatchId&&(o=p.largestBatchId)}return new _i(t.readTime,t.documentKey,o)}const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(t,o,c){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=c}static withCacheSize(t){return new Ws(t,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tp(u,t,o){const c=u.store("mutations"),p=u.store("documentMutations"),y=[],I=IDBKeyRange.only(o.batchId);let O=0;const $=c.X({range:I},(ae,Ce,rt)=>(O++,rt.delete()));y.push($.next(()=>{vn(1===O)}));const Z=[];for(const ae of o.mutations){const Ce=sa(t,ae.key.path,o.batchId);y.push(p.delete(Ce)),Z.push(ae.key)}return ot.waitFor(y).next(()=>Z)}function et(u){if(!u)return 0;let t;if(u.document)t=u.document;else if(u.unknownDocument)t=u.unknownDocument;else{if(!u.noDocument)throw Yt();t=u.noDocument}return JSON.stringify(t).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class Ec{constructor(t,o,c,p){this.userId=t,this.serializer=o,this.indexManager=c,this.referenceDelegate=p,this.Vn={}}static de(t,o,c,p){vn(""!==t.uid);const y=t.isAuthenticated()?t.uid:"";return new Ec(y,o,c,p)}checkEmpty(t){let o=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dd(t).X({index:"userMutationsIndex",range:c},(p,y,I)=>{o=!1,I.done()}).next(()=>o)}addMutationBatch(t,o,c,p){const y=wc(t),I=Dd(t);return I.add({}).next(O=>{vn("number"==typeof O);const $=new ag(O,o,c,p),Z=function(rt,Ct,Zt){const En=Zt.baseMutations.map(Tr=>Jc(rt.fe,Tr)),Cn=Zt.mutations.map(Tr=>Jc(rt.fe,Tr));return{userId:Ct,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:En,mutations:Cn}}(this.serializer,this.userId,$),ae=[];let Ce=new Xi((rt,Ct)=>or(rt.canonicalString(),Ct.canonicalString()));for(const rt of p){const Ct=sa(this.userId,rt.key.path,O);Ce=Ce.add(rt.key.path.popLast()),ae.push(I.put(Z)),ae.push(y.put(Ct,Ho))}return Ce.forEach(rt=>{ae.push(this.indexManager.addToCollectionParentIndex(t,rt))}),t.addOnCommittedListener(()=>{this.Vn[O]=$.keys()}),ot.waitFor(ae).next(()=>$)})}lookupMutationBatch(t,o){return Dd(t).get(o).next(c=>c?(vn(c.userId===this.userId),_c(this.serializer,c)):null)}Sn(t,o){return this.Vn[o]?ot.resolve(this.Vn[o]):this.lookupMutationBatch(t,o).next(c=>{if(c){const p=c.keys();return this.Vn[o]=p,p}return null})}getNextMutationBatchAfterBatchId(t,o){const c=o+1,p=IDBKeyRange.lowerBound([this.userId,c]);let y=null;return Dd(t).X({index:"userMutationsIndex",range:p},(I,O,$)=>{O.userId===this.userId&&(vn(O.batchId>=c),y=_c(this.serializer,O)),$.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(t){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Dd(t).X({index:"userMutationsIndex",range:o,reverse:!0},(p,y,I)=>{c=y.batchId,I.done()}).next(()=>c)}getAllMutationBatches(t){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dd(t).j("userMutationsIndex",o).next(c=>c.map(p=>_c(this.serializer,p)))}getAllMutationBatchesAffectingDocumentKey(t,o){const c=ba(this.userId,o.path),p=IDBKeyRange.lowerBound(c),y=[];return wc(t).X({range:p},(I,O,$)=>{const[Z,ae,Ce]=I,rt=_r(ae);if(Z===this.userId&&o.path.isEqual(rt))return Dd(t).get(Ce).next(Ct=>{if(!Ct)throw Yt();vn(Ct.userId===this.userId),y.push(_c(this.serializer,Ct))});$.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(t,o){let c=new Xi(or);const p=[];return o.forEach(y=>{const I=ba(this.userId,y.path),O=IDBKeyRange.lowerBound(I),$=wc(t).X({range:O},(Z,ae,Ce)=>{const[rt,Ct,Zt]=Z,En=_r(Ct);rt===this.userId&&y.path.isEqual(En)?c=c.add(Zt):Ce.done()});p.push($)}),ot.waitFor(p).next(()=>this.Dn(t,c))}getAllMutationBatchesAffectingQuery(t,o){const c=o.path,p=c.length+1,y=ba(this.userId,c),I=IDBKeyRange.lowerBound(y);let O=new Xi(or);return wc(t).X({range:I},($,Z,ae)=>{const[Ce,rt,Ct]=$,Zt=_r(rt);Ce===this.userId&&c.isPrefixOf(Zt)?Zt.length===p&&(O=O.add(Ct)):ae.done()}).next(()=>this.Dn(t,O))}Dn(t,o){const c=[],p=[];return o.forEach(y=>{p.push(Dd(t).get(y).next(I=>{if(null===I)throw Yt();vn(I.userId===this.userId),c.push(_c(this.serializer,I))}))}),ot.waitFor(p).next(()=>c)}removeMutationBatch(t,o){return tp(t.ht,this.userId,o).next(c=>(t.addOnCommittedListener(()=>{this.Cn(o.batchId)}),ot.forEach(c,p=>this.referenceDelegate.markPotentiallyOrphaned(t,p))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(o=>{if(!o)return ot.resolve();const c=IDBKeyRange.lowerBound([this.userId]),p=[];return wc(t).X({range:c},(y,I,O)=>{if(y[0]===this.userId){const $=_r(y[1]);p.push($)}else O.done()}).next(()=>{vn(0===p.length)})})}containsKey(t,o){return Al(t,this.userId,o)}xn(t){return hh(t).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Al(u,t,o){const c=ba(t,o.path),p=c[1],y=IDBKeyRange.lowerBound(c);let I=!1;return wc(u).X({range:y,Y:!0},(O,$,Z)=>{const[ae,Ce,rt]=O;ae===t&&Ce===p&&(I=!0),Z.done()}).next(()=>I)}function Dd(u){return js(u,"mutations")}function wc(u){return js(u,"documentMutations")}function hh(u){return js(u,"mutationQueues")}class np{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new np(0)}static Mn(){return new np(-1)}}class rp{constructor(t,o){this.referenceDelegate=t,this.serializer=o}allocateTargetId(t){return this.$n(t).next(o=>{const c=new np(o.highestTargetId);return o.highestTargetId=c.next(),this.On(t,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(o=>On.fromTimestamp(new bi(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(t,o,c){return this.$n(t).next(p=>(p.highestListenSequenceNumber=o,c&&(p.lastRemoteSnapshotVersion=c.toTimestamp()),o>p.highestListenSequenceNumber&&(p.highestListenSequenceNumber=o),this.On(t,p)))}addTargetData(t,o){return this.Fn(t,o).next(()=>this.$n(t).next(c=>(c.targetCount+=1,this.Bn(o,c),this.On(t,c))))}updateTargetData(t,o){return this.Fn(t,o)}removeTargetData(t,o){return this.removeMatchingKeysForTargetId(t,o.targetId).next(()=>Ad(t).delete(o.targetId)).next(()=>this.$n(t)).next(c=>(vn(c.targetCount>0),c.targetCount-=1,this.On(t,c)))}removeTargets(t,o,c){let p=0;const y=[];return Ad(t).X((I,O)=>{const $=bn(O);$.sequenceNumber<=o&&null===c.get($.targetId)&&(p++,y.push(this.removeTargetData(t,$)))}).next(()=>ot.waitFor(y)).next(()=>p)}forEachTarget(t,o){return Ad(t).X((c,p)=>{const y=bn(p);o(y)})}$n(t){return ip(t).get("targetGlobalKey").next(o=>(vn(null!==o),o))}On(t,o){return ip(t).put("targetGlobalKey",o)}Fn(t,o){return Ad(t).put(Gn(this.serializer,o))}Bn(t,o){let c=!1;return t.targetId>o.highestTargetId&&(o.highestTargetId=t.targetId,c=!0),t.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t.sequenceNumber,c=!0),c}getTargetCount(t){return this.$n(t).next(o=>o.targetCount)}getTargetData(t,o){const c=wl(o),p=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let y=null;return Ad(t).X({range:p,index:"queryTargetsIndex"},(I,O,$)=>{const Z=bn(O);rh(o,Z.target)&&(y=Z,$.done())}).next(()=>y)}addMatchingKeys(t,o,c){const p=[],y=cf(t);return o.forEach(I=>{const O=gn(I.path);p.push(y.put({targetId:c,path:O})),p.push(this.referenceDelegate.addReference(t,c,I))}),ot.waitFor(p)}removeMatchingKeys(t,o,c){const p=cf(t);return ot.forEach(o,y=>{const I=gn(y.path);return ot.waitFor([p.delete([c,I]),this.referenceDelegate.removeReference(t,c,y)])})}removeMatchingKeysForTargetId(t,o){const c=cf(t),p=IDBKeyRange.bound([o],[o+1],!1,!0);return c.delete(p)}getMatchingKeysForTargetId(t,o){const c=IDBKeyRange.bound([o],[o+1],!1,!0),p=cf(t);let y=Ir();return p.X({range:c,Y:!0},(I,O,$)=>{const Z=_r(I[1]),ae=new on(Z);y=y.add(ae)}).next(()=>y)}containsKey(t,o){const c=gn(o.path),p=IDBKeyRange.bound([c],[nr(c)],!1,!0);let y=0;return cf(t).X({index:"documentTargetsIndex",Y:!0,range:p},([I,O],$,Z)=>{0!==I&&(y++,Z.done())}).next(()=>y>0)}le(t,o){return Ad(t).get(o).next(c=>c?bn(c):null)}}function Ad(u){return js(u,"targets")}function ip(u){return js(u,"targetGlobal")}function cf(u){return js(u,"targetDocuments")}function xw([u,t],[o,c]){const p=or(u,o);return 0===p?or(t,c):p}class rl{constructor(t){this.Ln=t,this.buffer=new Xi(xw),this.qn=0}Un(){return++this.qn}Kn(t){const o=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(o);else{const c=this.buffer.last();xw(o,c)<0&&(this.buffer=this.buffer.delete(c).add(o))}}get maxValue(){return this.buffer.last()[0]}}class sp{constructor(t,o,c){this.garbageCollector=t,this.asyncQueue=o,this.localStore=c,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var o=this;Lt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,w.Z)(function*(){o.Gn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(c){bu(c)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield zn(c)}yield o.Qn(3e5)}))}}class yg{constructor(t,o){this.jn=t,this.params=o}calculateTargetCount(t,o){return this.jn.zn(t).next(c=>Math.floor(o/100*c))}nthSequenceNumber(t,o){if(0===o)return ot.resolve(fe.ct);const c=new rl(o);return this.jn.forEachTarget(t,p=>c.Kn(p.sequenceNumber)).next(()=>this.jn.Wn(t,p=>c.Kn(p))).next(()=>c.maxValue)}removeTargets(t,o,c){return this.jn.removeTargets(t,o,c)}removeOrphanedDocuments(t,o){return this.jn.removeOrphanedDocuments(t,o)}collect(t,o){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(Sw)):this.getCacheSize(t).next(c=>c<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.Hn(t,o))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,o){let c,p,y,I,O,$,Z;const ae=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),p=this.params.maximumSequenceNumbersToCollect):p=Ce,I=Date.now(),this.nthSequenceNumber(t,p))).next(Ce=>(c=Ce,O=Date.now(),this.removeTargets(t,c,o))).next(Ce=>(y=Ce,$=Date.now(),this.removeOrphanedDocuments(t,c))).next(Ce=>(Z=Date.now(),mi()<=ue.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-ae}ms\n\tDetermined least recently used ${p} in `+(O-I)+`ms\n\tRemoved ${y} targets in `+($-O)+`ms\n\tRemoved ${Ce} documents in `+(Z-$)+`ms\nTotal Duration: ${Z-ae}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:p,targetsRemoved:y,documentsRemoved:Ce})))}}class ru{constructor(t,o){this.db=t,this.garbageCollector=function yy(u,t){return new yg(u,t)}(this,o)}zn(t){const o=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(c=>o.next(p=>c+p))}Jn(t){let o=0;return this.Wn(t,c=>{o++}).next(()=>o)}forEachTarget(t,o){return this.db.getTargetCache().forEachTarget(t,o)}Wn(t,o){return this.Yn(t,(c,p)=>o(p))}addReference(t,o,c){return vg(t,c)}removeReference(t,o,c){return vg(t,c)}removeTargets(t,o,c){return this.db.getTargetCache().removeTargets(t,o,c)}markPotentiallyOrphaned(t,o){return vg(t,o)}Xn(t,o){return function(c,p){let y=!1;return hh(c).Z(I=>Al(c,I,p).next(O=>(O&&(y=!0),ot.resolve(!O)))).next(()=>y)}(t,o)}removeOrphanedDocuments(t,o){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),p=[];let y=0;return this.Yn(t,(I,O)=>{if(O<=o){const $=this.Xn(t,I).next(Z=>{if(!Z)return y++,c.getEntry(t,I).next(()=>(c.removeEntry(I,On.min()),cf(t).delete([0,gn(I.path)])))});p.push($)}}).next(()=>ot.waitFor(p)).next(()=>c.apply(t)).next(()=>y)}removeTarget(t,o){const c=o.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,c)}updateLimboDocument(t,o){return vg(t,o)}Yn(t,o){const c=cf(t);let p,y=fe.ct;return c.X({index:"documentTargetsIndex"},([I,O],{path:$,sequenceNumber:Z})=>{0===I?(y!==fe.ct&&o(new on(_r(p)),y),y=Z,p=$):y=fe.ct}).next(()=>{y!==fe.ct&&o(new on(_r(p)),y)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function vg(u,t){return cf(u).put((c=u.currentSequenceNumber,{targetId:0,path:gn(t.path),sequenceNumber:c}));var c}class op{constructor(){this.changes=new ho(t=>t.toString(),(t,o)=>t.isEqual(o)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,o){this.assertNotApplied(),this.changes.set(t,Ni.newInvalidDocument(t).setReadTime(o))}getEntry(t,o){this.assertNotApplied();const c=this.changes.get(o);return void 0!==c?ot.resolve(c):this.getFromCache(t,o)}getEntries(t,o){return this.getAllFromCache(t,o)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class td{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,o,c){return ph(t).put(c)}removeEntry(t,o,c){return ph(t).delete(function(p,y){const I=p.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],Ht(y),I[I.length-1]]}(o,c))}updateMetadata(t,o){return this.getMetadata(t).next(c=>(c.byteSize+=o,this.Zn(t,c)))}getEntry(t,o){let c=Ni.newInvalidDocument(o);return ph(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(wg(o))},(p,y)=>{c=this.ts(o,y)}).next(()=>c)}es(t,o){let c={size:0,document:Ni.newInvalidDocument(o)};return ph(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(wg(o))},(p,y)=>{c={document:this.ts(o,y),size:et(y)}}).next(()=>c)}getEntries(t,o){let c=Sa();return this.ns(t,o,(p,y)=>{const I=this.ts(p,y);c=c.insert(p,I)}).next(()=>c)}ss(t,o){let c=Sa(),p=new yi(on.comparator);return this.ns(t,o,(y,I)=>{const O=this.ts(y,I);c=c.insert(y,O),p=p.insert(y,et(I))}).next(()=>({documents:c,rs:p}))}ns(t,o,c){if(o.isEmpty())return ot.resolve();let p=new Xi(vy);o.forEach($=>p=p.add($));const y=IDBKeyRange.bound(wg(p.first()),wg(p.last())),I=p.getIterator();let O=I.getNext();return ph(t).X({index:"documentKeyIndex",range:y},($,Z,ae)=>{const Ce=on.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;O&&vy(O,Ce)<0;)c(O,null),O=I.getNext();O&&O.isEqual(Ce)&&(c(O,Z),O=I.hasNext()?I.getNext():null),O?ae.G(wg(O)):ae.done()}).next(()=>{for(;O;)c(O,null),O=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(t,o,c,p){const y=o.path,I=[y.popLast().toArray(),y.lastSegment(),Ht(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],O=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ph(t).j(IDBKeyRange.bound(I,O,!0)).next($=>{let Z=Sa();for(const ae of $){const Ce=this.ts(on.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);Ce.isFoundDocument()&&(jt(o,Ce)||p.has(Ce.key))&&(Z=Z.insert(Ce.key,Ce))}return Z})}getAllFromCollectionGroup(t,o,c,p){let y=Sa();const I=Om(o,c),O=Om(o,_i.max());return ph(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,O,!0)},($,Z,ae)=>{const Ce=this.ts(on.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);y=y.insert(Ce.key,Ce),y.size===p&&ae.done()}).next(()=>y)}newChangeBuffer(t){return new Mm(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(o=>o.byteSize)}getMetadata(t){return fh(t).get("remoteDocumentGlobalKey").next(o=>(vn(!!o),o))}Zn(t,o){return fh(t).put("remoteDocumentGlobalKey",o)}ts(t,o){if(o){const c=function Xc(u,t){let o;if(t.document)o=Yf(u.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const c=on.fromSegments(t.noDocument.path),p=Zo(t.noDocument.readTime);o=Ni.newNoDocument(c,p),t.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yt();{const c=on.fromSegments(t.unknownDocument.path),p=Zo(t.unknownDocument.version);o=Ni.newUnknownDocument(c,p)}}return t.readTime&&o.setReadTime(function(c){const p=new bi(c[0],c[1]);return On.fromTimestamp(p)}(t.readTime)),o}(this.serializer,o);if(!c.isNoDocument()||!c.version.isEqual(On.min()))return c}return Ni.newInvalidDocument(t)}}function Eg(u){return new td(u)}class Mm extends op{constructor(t,o){super(),this.os=t,this.trackRemovals=o,this.us=new ho(c=>c.toString(),(c,p)=>c.isEqual(p))}applyChanges(t){const o=[];let c=0,p=new Xi((y,I)=>or(y.canonicalString(),I.canonicalString()));return this.changes.forEach((y,I)=>{const O=this.us.get(y);if(o.push(this.os.removeEntry(t,y,O.readTime)),I.isValidDocument()){const $=Bv(this.os.serializer,I);p=p.add(y.path.popLast());const Z=et($);c+=Z-O.size,o.push(this.os.addEntry(t,y,$))}else if(c-=O.size,this.trackRemovals){const $=Bv(this.os.serializer,I.convertToNoDocument(On.min()));o.push(this.os.addEntry(t,y,$))}}),p.forEach(y=>{o.push(this.os.indexManager.addToCollectionParentIndex(t,y))}),o.push(this.os.updateMetadata(t,c)),ot.waitFor(o)}getFromCache(t,o){return this.os.es(t,o).next(c=>(this.us.set(o,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(t,o){return this.os.ss(t,o).next(({documents:c,rs:p})=>(p.forEach((y,I)=>{this.us.set(y,{size:I,readTime:c.get(y).readTime})}),c))}}function fh(u){return js(u,"remoteDocumentGlobal")}function ph(u){return js(u,"remoteDocumentsV14")}function wg(u){const t=u.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Om(u,t){const o=t.documentKey.path.toArray();return[u,Ht(t.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function vy(u,t){const o=u.path.toArray(),c=t.path.toArray();let p=0;for(let y=0;y<o.length-2&&y<c.length-2;++y)if(p=or(o[y],c[y]),p)return p;return p=or(o.length,c.length),p||(p=or(o[o.length-2],c[c.length-2]),p||or(o[o.length-1],c[c.length-1]))}class Rw{constructor(t,o){this.overlayedDocument=t,this.mutatedFields=o}}class zv{constructor(t,o,c,p){this.remoteDocumentCache=t,this.mutationQueue=o,this.documentOverlayCache=c,this.indexManager=p}getDocument(t,o){let c=null;return this.documentOverlayCache.getOverlay(t,o).next(p=>(c=p,this.remoteDocumentCache.getEntry(t,o))).next(p=>(null!==c&&$f(c.mutation,p,la.empty(),bi.now()),p))}getDocuments(t,o){return this.remoteDocumentCache.getEntries(t,o).next(c=>this.getLocalViewOfDocuments(t,c,Ir()).next(()=>c))}getLocalViewOfDocuments(t,o,c=Ir()){const p=ha();return this.populateOverlays(t,p,o).next(()=>this.computeViews(t,o,p,c).next(y=>{let I=Il();return y.forEach((O,$)=>{I=I.insert(O,$.overlayedDocument)}),I}))}getOverlayedDocuments(t,o){const c=ha();return this.populateOverlays(t,c,o).next(()=>this.computeViews(t,o,c,Ir()))}populateOverlays(t,o,c){const p=[];return c.forEach(y=>{o.has(y)||p.push(y)}),this.documentOverlayCache.getOverlays(t,p).next(y=>{y.forEach((I,O)=>{o.set(I,O)})})}computeViews(t,o,c,p){let y=Sa();const I=Qc(),O=Qc();return o.forEach(($,Z)=>{const ae=c.get(Z.key);p.has(Z.key)&&(void 0===ae||ae.mutation instanceof Tl)?y=y.insert(Z.key,Z):void 0!==ae?(I.set(Z.key,ae.mutation.getFieldMask()),$f(ae.mutation,Z,ae.mutation.getFieldMask(),bi.now())):I.set(Z.key,la.empty())}),this.recalculateAndSaveOverlays(t,y).next($=>($.forEach((Z,ae)=>I.set(Z,ae)),o.forEach((Z,ae)=>{var Ce;return O.set(Z,new Rw(ae,null!==(Ce=I.get(Z))&&void 0!==Ce?Ce:null))}),O))}recalculateAndSaveOverlays(t,o){const c=Qc();let p=new yi((I,O)=>I-O),y=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,o).next(I=>{for(const O of I)O.keys().forEach($=>{const Z=o.get($);if(null===Z)return;let ae=c.get($)||la.empty();ae=O.applyToLocalView(Z,ae),c.set($,ae);const Ce=(p.get(O.batchId)||Ir()).add($);p=p.insert(O.batchId,Ce)})}).next(()=>{const I=[],O=p.getReverseIterator();for(;O.hasNext();){const $=O.getNext(),Z=$.key,ae=$.value,Ce=fc();ae.forEach(rt=>{if(!y.has(rt)){const Ct=Dm(o.get(rt),c.get(rt));null!==Ct&&Ce.set(rt,Ct),y=y.add(rt)}}),I.push(this.documentOverlayCache.saveOverlays(t,Z,Ce))}return ot.waitFor(I)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(t,o){return this.remoteDocumentCache.getEntries(t,o).next(c=>this.recalculateAndSaveOverlays(t,c))}getDocumentsMatchingQuery(t,o,c){return on.isDocumentKey((p=o).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(t,o.path):E(o)?this.getDocumentsMatchingCollectionGroupQuery(t,o,c):this.getDocumentsMatchingCollectionQuery(t,o,c);var p}getNextDocuments(t,o,c,p){return this.remoteDocumentCache.getAllFromCollectionGroup(t,o,c,p).next(y=>{const I=p-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,o,c.largestBatchId,p-y.size):ot.resolve(ha());let O=-1,$=y;return I.next(Z=>ot.forEach(Z,(ae,Ce)=>(O<Ce.largestBatchId&&(O=Ce.largestBatchId),y.get(ae)?ot.resolve():this.remoteDocumentCache.getEntry(t,ae).next(rt=>{$=$.insert(ae,rt)}))).next(()=>this.populateOverlays(t,Z,y)).next(()=>this.computeViews(t,$,Z,Ir())).next(ae=>({batchId:O,changes:Td(ae)})))})}getDocumentsMatchingDocumentQuery(t,o){return this.getDocument(t,new on(o)).next(c=>{let p=Il();return c.isFoundDocument()&&(p=p.insert(c.key,c)),p})}getDocumentsMatchingCollectionGroupQuery(t,o,c){const p=o.collectionGroup;let y=Il();return this.indexManager.getCollectionParents(t,p).next(I=>ot.forEach(I,O=>{const $=(Z=o,ae=O.child(p),new Ko(ae,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,ae;return this.getDocumentsMatchingCollectionQuery(t,$,c).next(Z=>{Z.forEach((ae,Ce)=>{y=y.insert(ae,Ce)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(t,o,c){let p;return this.documentOverlayCache.getOverlaysForCollection(t,o.path,c.largestBatchId).next(y=>(p=y,this.remoteDocumentCache.getDocumentsMatchingQuery(t,o,c,p))).next(y=>{p.forEach((O,$)=>{const Z=$.getKey();null===y.get(Z)&&(y=y.insert(Z,Ni.newInvalidDocument(Z)))});let I=Il();return y.forEach((O,$)=>{const Z=p.get(O);void 0!==Z&&$f(Z.mutation,$,la.empty(),bi.now()),jt(o,$)&&(I=I.insert(O,$))}),I})}}class Pw{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,o){return ot.resolve(this.cs.get(o))}saveBundleMetadata(t,o){var c;return this.cs.set(o.id,{id:(c=o).id,version:c.version,createTime:Es(c.createTime)}),ot.resolve()}getNamedQuery(t,o){return ot.resolve(this.hs.get(o))}saveNamedQuery(t,o){return this.hs.set(o.name,{name:(c=o).name,query:py(c.bundledQuery),readTime:Es(c.readTime)}),ot.resolve();var c}}class Mw{constructor(){this.overlays=new yi(on.comparator),this.ls=new Map}getOverlay(t,o){return ot.resolve(this.overlays.get(o))}getOverlays(t,o){const c=ha();return ot.forEach(o,p=>this.getOverlay(t,p).next(y=>{null!==y&&c.set(p,y)})).next(()=>c)}saveOverlays(t,o,c){return c.forEach((p,y)=>{this.we(t,o,y)}),ot.resolve()}removeOverlaysForBatchId(t,o,c){const p=this.ls.get(c);return void 0!==p&&(p.forEach(y=>this.overlays=this.overlays.remove(y)),this.ls.delete(c)),ot.resolve()}getOverlaysForCollection(t,o,c){const p=ha(),y=o.length+1,I=new on(o.child("")),O=this.overlays.getIteratorFrom(I);for(;O.hasNext();){const $=O.getNext().value,Z=$.getKey();if(!o.isPrefixOf(Z.path))break;Z.path.length===y&&$.largestBatchId>c&&p.set($.getKey(),$)}return ot.resolve(p)}getOverlaysForCollectionGroup(t,o,c,p){let y=new yi((Z,ae)=>Z-ae);const I=this.overlays.getIterator();for(;I.hasNext();){const Z=I.getNext().value;if(Z.getKey().getCollectionGroup()===o&&Z.largestBatchId>c){let ae=y.get(Z.largestBatchId);null===ae&&(ae=ha(),y=y.insert(Z.largestBatchId,ae)),ae.set(Z.getKey(),Z)}}const O=ha(),$=y.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((Z,ae)=>O.set(Z,ae)),!(O.size()>=p)););return ot.resolve(O)}we(t,o,c){const p=this.overlays.get(c.key);if(null!==p){const I=this.ls.get(p.largestBatchId).delete(c.key);this.ls.set(p.largestBatchId,I)}this.overlays=this.overlays.insert(c.key,new Xh(o,c));let y=this.ls.get(o);void 0===y&&(y=Ir(),this.ls.set(o,y)),this.ls.set(o,y.add(c.key))}}class Nm{constructor(){this.fs=new Xi(Pa.ds),this.ws=new Xi(Pa._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,o){const c=new Pa(t,o);this.fs=this.fs.add(c),this.ws=this.ws.add(c)}gs(t,o){t.forEach(c=>this.addReference(c,o))}removeReference(t,o){this.ys(new Pa(t,o))}ps(t,o){t.forEach(c=>this.removeReference(c,o))}Is(t){const o=new on(new Xn([])),c=new Pa(o,t),p=new Pa(o,t+1),y=[];return this.ws.forEachInRange([c,p],I=>{this.ys(I),y.push(I.key)}),y}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const o=new on(new Xn([])),c=new Pa(o,t),p=new Pa(o,t+1);let y=Ir();return this.ws.forEachInRange([c,p],I=>{y=y.add(I.key)}),y}containsKey(t){const o=new Pa(t,0),c=this.fs.firstAfterOrEqual(o);return null!==c&&t.isEqual(c.key)}}class Pa{constructor(t,o){this.key=t,this.As=o}static ds(t,o){return on.comparator(t.key,o.key)||or(t.As,o.As)}static _s(t,o){return or(t.As,o.As)||on.comparator(t.key,o.key)}}class vI{constructor(t,o){this.indexManager=t,this.referenceDelegate=o,this.mutationQueue=[],this.vs=1,this.Rs=new Xi(Pa.ds)}checkEmpty(t){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(t,o,c,p){const y=this.vs;this.vs++;const I=new ag(y,o,c,p);this.mutationQueue.push(I);for(const O of p)this.Rs=this.Rs.add(new Pa(O.key,y)),this.indexManager.addToCollectionParentIndex(t,O.key.path.popLast());return ot.resolve(I)}lookupMutationBatch(t,o){return ot.resolve(this.Ps(o))}getNextMutationBatchAfterBatchId(t,o){const p=this.bs(o+1),y=p<0?0:p;return ot.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,o){const c=new Pa(o,0),p=new Pa(o,Number.POSITIVE_INFINITY),y=[];return this.Rs.forEachInRange([c,p],I=>{const O=this.Ps(I.As);y.push(O)}),ot.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(t,o){let c=new Xi(or);return o.forEach(p=>{const y=new Pa(p,0),I=new Pa(p,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([y,I],O=>{c=c.add(O.As)})}),ot.resolve(this.Vs(c))}getAllMutationBatchesAffectingQuery(t,o){const c=o.path,p=c.length+1;let y=c;on.isDocumentKey(y)||(y=y.child(""));const I=new Pa(new on(y),0);let O=new Xi(or);return this.Rs.forEachWhile($=>{const Z=$.key.path;return!!c.isPrefixOf(Z)&&(Z.length===p&&(O=O.add($.As)),!0)},I),ot.resolve(this.Vs(O))}Vs(t){const o=[];return t.forEach(c=>{const p=this.Ps(c);null!==p&&o.push(p)}),o}removeMutationBatch(t,o){vn(0===this.Ss(o.batchId,"removed")),this.mutationQueue.shift();let c=this.Rs;return ot.forEach(o.mutations,p=>{const y=new Pa(p.key,o.batchId);return c=c.delete(y),this.referenceDelegate.markPotentiallyOrphaned(t,p.key)}).next(()=>{this.Rs=c})}Cn(t){}containsKey(t,o){const c=new Pa(o,0),p=this.Rs.firstAfterOrEqual(c);return ot.resolve(o.isEqual(p&&p.key))}performConsistencyCheck(t){return ot.resolve()}Ss(t,o){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const o=this.bs(t);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class Ig{constructor(t){this.Ds=t,this.docs=new yi(on.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,o){const c=o.key,p=this.docs.get(c),y=p?p.size:0,I=this.Ds(o);return this.docs=this.docs.insert(c,{document:o.mutableCopy(),size:I}),this.size+=I-y,this.indexManager.addToCollectionParentIndex(t,c.path.popLast())}removeEntry(t){const o=this.docs.get(t);o&&(this.docs=this.docs.remove(t),this.size-=o.size)}getEntry(t,o){const c=this.docs.get(o);return ot.resolve(c?c.document.mutableCopy():Ni.newInvalidDocument(o))}getEntries(t,o){let c=Sa();return o.forEach(p=>{const y=this.docs.get(p);c=c.insert(p,y?y.document.mutableCopy():Ni.newInvalidDocument(p))}),ot.resolve(c)}getDocumentsMatchingQuery(t,o,c,p){let y=Sa();const I=o.path,O=new on(I.child("")),$=this.docs.getIteratorFrom(O);for(;$.hasNext();){const{key:Z,value:{document:ae}}=$.getNext();if(!I.isPrefixOf(Z.path))break;Z.path.length>I.length+1||wo($c(ae),c)<=0||(p.has(ae.key)||jt(o,ae))&&(y=y.insert(ae.key,ae.mutableCopy()))}return ot.resolve(y)}getAllFromCollectionGroup(t,o,c,p){Yt()}Cs(t,o){return ot.forEach(this.docs,c=>o(c))}newChangeBuffer(t){return new Bi(this)}getSize(t){return ot.resolve(this.size)}}class Bi extends op{constructor(t){super(),this.os=t}applyChanges(t){const o=[];return this.changes.forEach((c,p)=>{p.isValidDocument()?o.push(this.os.addEntry(t,p)):this.os.removeEntry(c)}),ot.waitFor(o)}getFromCache(t,o){return this.os.getEntry(t,o)}getAllFromCache(t,o){return this.os.getEntries(t,o)}}class Tg{constructor(t){this.persistence=t,this.xs=new ho(o=>wl(o),rh),this.lastRemoteSnapshotVersion=On.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Nm,this.targetCount=0,this.Ms=np.kn()}forEachTarget(t,o){return this.xs.forEach((c,p)=>o(p)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,o,c){return c&&(this.lastRemoteSnapshotVersion=c),o>this.Ns&&(this.Ns=o),ot.resolve()}Fn(t){this.xs.set(t.target,t);const o=t.targetId;o>this.highestTargetId&&(this.Ms=new np(o),this.highestTargetId=o),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,o){return this.Fn(o),this.targetCount+=1,ot.resolve()}updateTargetData(t,o){return this.Fn(o),ot.resolve()}removeTargetData(t,o){return this.xs.delete(o.target),this.ks.Is(o.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,o,c){let p=0;const y=[];return this.xs.forEach((I,O)=>{O.sequenceNumber<=o&&null===c.get(O.targetId)&&(this.xs.delete(I),y.push(this.removeMatchingKeysForTargetId(t,O.targetId)),p++)}),ot.waitFor(y).next(()=>p)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,o){const c=this.xs.get(o)||null;return ot.resolve(c)}addMatchingKeys(t,o,c){return this.ks.gs(o,c),ot.resolve()}removeMatchingKeys(t,o,c){this.ks.ps(o,c);const p=this.persistence.referenceDelegate,y=[];return p&&o.forEach(I=>{y.push(p.markPotentiallyOrphaned(t,I))}),ot.waitFor(y)}removeMatchingKeysForTargetId(t,o){return this.ks.Is(o),ot.resolve()}getMatchingKeysForTargetId(t,o){const c=this.ks.Es(o);return ot.resolve(c)}containsKey(t,o){return ot.resolve(this.ks.containsKey(o))}}class km{constructor(t,o){this.$s={},this.overlays={},this.Os=new fe(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Tg(this),this.indexManager=new Aw,this.remoteDocumentCache=new Ig(c=>this.referenceDelegate.Ls(c)),this.serializer=new ql(o),this.qs=new Pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let o=this.overlays[t.toKey()];return o||(o=new Mw,this.overlays[t.toKey()]=o),o}getMutationQueue(t,o){let c=this.$s[t.toKey()];return c||(c=new vI(o,this.referenceDelegate),this.$s[t.toKey()]=c),c}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,o,c){Lt("MemoryPersistence","Starting transaction:",t);const p=new Ey(this.Os.next());return this.referenceDelegate.Us(),c(p).next(y=>this.referenceDelegate.Ks(p).next(()=>y)).toPromise().then(y=>(p.raiseOnCommittedEvent(),y))}Gs(t,o){return ot.or(Object.values(this.$s).map(c=>()=>c.containsKey(t,o)))}}class Ey extends Io{constructor(t){super(),this.currentSequenceNumber=t}}class ap{constructor(t){this.persistence=t,this.Qs=new Nm,this.js=null}static zs(t){return new ap(t)}get Ws(){if(this.js)return this.js;throw Yt()}addReference(t,o,c){return this.Qs.addReference(c,o),this.Ws.delete(c.toString()),ot.resolve()}removeReference(t,o,c){return this.Qs.removeReference(c,o),this.Ws.add(c.toString()),ot.resolve()}markPotentiallyOrphaned(t,o){return this.Ws.add(o.toString()),ot.resolve()}removeTarget(t,o){this.Qs.Is(o.targetId).forEach(p=>this.Ws.add(p.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,o.targetId).next(p=>{p.forEach(y=>this.Ws.add(y.toString()))}).next(()=>c.removeTargetData(t,o))}Us(){this.js=new Set}Ks(t){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Ws,c=>{const p=on.fromPath(c);return this.Hs(t,p).next(y=>{y||o.removeEntry(p,On.min())})}).next(()=>(this.js=null,o.apply(t)))}updateLimboDocument(t,o){return this.Hs(t,o).next(c=>{c?this.Ws.delete(o.toString()):this.Ws.add(o.toString())})}Ls(t){return 0}Hs(t,o){return ot.or([()=>ot.resolve(this.Qs.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(t,o),()=>this.persistence.Gs(t,o)])}}class Gv{constructor(t){this.serializer=t}O(t,o,c,p){const y=new Xd("createOrUpgrade",o);var O;c<1&&p>=1&&(t.createObjectStore("owner"),(O=t).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",co,{unique:!0}),O.createObjectStore("documentMutations"),wy(t),function(O){O.createObjectStore("remoteDocuments")}(t));let I=ot.resolve();return c<3&&p>=3&&(0!==c&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(t),wy(t)),I=I.next(()=>function(O){const $=O.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:On.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",Z)}(y))),c<4&&p>=4&&(0!==c&&(I=I.next(()=>function(O,$){return $.store("mutations").j().next(Z=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",co,{unique:!0});const ae=$.store("mutations"),Ce=Z.map(rt=>ae.put(rt));return ot.waitFor(Ce)})}(t,y))),I=I.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),c<5&&p>=5&&(I=I.next(()=>this.Ys(y))),c<6&&p>=6&&(I=I.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(y)))),c<7&&p>=7&&(I=I.next(()=>this.Zs(y))),c<8&&p>=8&&(I=I.next(()=>this.ti(t,y))),c<9&&p>=9&&(I=I.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(t)})),c<10&&p>=10&&(I=I.next(()=>this.ei(y))),c<11&&p>=11&&(I=I.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),c<12&&p>=12&&(I=I.next(()=>{!function(O){const $=O.createObjectStore("documentOverlays",{keyPath:zu});$.createIndex("collectionPathOverlayIndex",_l,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",oa,{unique:!1})}(t)})),c<13&&p>=13&&(I=I.next(()=>function(O){const $=O.createObjectStore("remoteDocumentsV14",{keyPath:ml});$.createIndex("documentKeyIndex",ac),$.createIndex("collectionGroupIndex",$o)}(t)).next(()=>this.ni(t,y)).next(()=>t.deleteObjectStore("remoteDocuments"))),c<14&&p>=14&&(I=I.next(()=>this.si(t,y))),c<15&&p>=15&&(I=I.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Ya}).createIndex("sequenceNumberIndex",eh,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:th}).createIndex("documentKeyIndex",uc,{unique:!1})}(t))),I}Xs(t){let o=0;return t.store("remoteDocuments").X((c,p)=>{o+=et(p)}).next(()=>{const c={byteSize:o};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Ys(t){const o=t.store("mutationQueues"),c=t.store("mutations");return o.j().next(p=>ot.forEach(p,y=>{const I=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return c.j("userMutationsIndex",I).next(O=>ot.forEach(O,$=>{vn($.userId===y.userId);const Z=_c(this.serializer,$);return tp(t,y.userId,Z).next(()=>{})}))}))}Zs(t){const o=t.store("targetDocuments"),c=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(p=>{const y=[];return c.X((I,O)=>{const $=new Xn(I),Z=[0,gn($)];y.push(o.get(Z).next(ae=>ae?ot.resolve():o.put({targetId:0,path:gn($),sequenceNumber:p.highestListenSequenceNumber})))}).next(()=>ot.waitFor(y))})}ti(t,o){t.createObjectStore("collectionParents",{keyPath:Ed});const c=o.store("collectionParents"),p=new dh,y=I=>{if(p.add(I)){const O=I.lastSegment(),$=I.popLast();return c.put({collectionId:O,parent:gn($)})}};return o.store("remoteDocuments").X({Y:!0},(I,O)=>{const $=new Xn(I);return y($.popLast())}).next(()=>o.store("documentMutations").X({Y:!0},([I,O,$],Z)=>{const ae=_r(O);return y(ae.popLast())}))}ei(t){const o=t.store("targets");return o.X((c,p)=>{const y=bn(p),I=Gn(this.serializer,y);return o.put(I)})}ni(t,o){const c=o.store("remoteDocuments"),p=[];return c.X((y,I)=>{const O=o.store("remoteDocumentsV14"),$=(Z=I,Z.document?new on(Xn.fromString(Z.document.name).popFirst(5)):Z.noDocument?on.fromSegments(Z.noDocument.path):Z.unknownDocument?on.fromSegments(Z.unknownDocument.path):Yt()).path.toArray();var Z;const ae={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};p.push(O.put(ae))}).next(()=>ot.waitFor(p))}si(t,o){const c=o.store("mutations"),p=Eg(this.serializer),y=new km(ap.zs,this.serializer.fe);return c.j().next(I=>{const O=new Map;return I.forEach($=>{var Z;let ae=null!==(Z=O.get($.userId))&&void 0!==Z?Z:Ir();_c(this.serializer,$).keys().forEach(Ce=>ae=ae.add(Ce)),O.set($.userId,ae)}),ot.forEach(O,($,Z)=>{const ae=new pn(Z),Ce=ep.de(this.serializer,ae),rt=y.getIndexManager(ae),Ct=Ec.de(ae,this.serializer,rt,y.referenceDelegate);return new zv(p,Ct,Ce,rt).recalculateAndSaveOverlaysForDocumentKeys(new lc(o,fe.ct),$).next()})})}}function wy(u){u.createObjectStore("targetDocuments",{keyPath:Ji}).createIndex("documentTargetsIndex",Cu,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qa,{unique:!0}),u.createObjectStore("targetGlobal")}const up="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ks{constructor(t,o,c,p,y,I,O,$,Z,ae,Ce=15){if(this.allowTabSynchronization=t,this.persistenceKey=o,this.clientId=c,this.ii=y,this.window=I,this.document=O,this.ri=Z,this.oi=ae,this.ui=Ce,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=rt=>Promise.resolve(),!Ks.D())throw new At(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ru(this,p),this.di=o+"main",this.serializer=new ql($),this.wi=new lo(this.di,this.ui,new Gv(this.serializer)),this.Bs=new rp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Eg(this.serializer),this.qs=new Do,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ae&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new At(ht.FAILED_PRECONDITION,up);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new fe(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var o=this;return this.fi=function(){var c=(0,w.Z)(function*(p){if(o.started)return t(p)});return function(p){return c.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var o=(0,w.Z)(function*(c){null===c.newVersion&&(yield t())});return function(c){return o.apply(this,arguments)}}())}setNetworkEnabled(t){var o=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,w.Z)(function*(){o.started&&(yield o.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Sl(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(o=>{o||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(o=>this.isPrimary&&!o?this.Ai(t).next(()=>!1):!!o&&this.vi(t).next(()=>!0))).catch(t=>{if(bu(t))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return bg(t).get("owner").next(o=>ot.resolve(this.Ri(o)))}Pi(t){return Sl(t).delete(this.clientId)}bi(){var t=this;return(0,w.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const o=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const p=js(c,"clientMetadata");return p.j().next(y=>{const I=t.Si(y,18e5),O=y.filter($=>-1===I.indexOf($));return ot.forEach(O,$=>p.delete($.clientId)).next(()=>O)})}).catch(()=>[]);if(t._i)for(const c of o)t._i.removeItem(t.Di(c.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ot.resolve(!0):bg(t).get("owner").next(o=>{if(null!==o&&this.Vi(o.leaseTimestampMs,5e3)&&!this.Ci(o.ownerId)){if(this.Ri(o)&&this.networkEnabled)return!0;if(!this.Ri(o)){if(!o.allowTabSynchronization)throw new At(ht.FAILED_PRECONDITION,up);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sl(t).j().next(c=>void 0===this.Si(c,5e3).find(p=>!(this.clientId===p.clientId||!(!this.networkEnabled&&p.networkEnabled||!this.inForeground&&p.inForeground&&this.networkEnabled===p.networkEnabled))))}).next(o=>(this.isPrimary!==o&&Lt("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var t=this;return(0,w.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const c=new lc(o,fe.ct);return t.Ai(c).next(()=>t.Pi(c))}),t.wi.close(),t.Mi()})()}Si(t,o){return t.filter(c=>this.Vi(c.updateTimeMs,o)&&!this.Ci(c.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>Sl(t).j().next(o=>this.Si(o,18e5).map(c=>c.clientId)))}get started(){return this.Fs}getMutationQueue(t,o){return Ec.de(t,this.serializer,o,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new mg(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return ep.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,o,c){Lt("IndexedDbPersistence","Starting transaction:",t);const p="readonly"===o?"readonly":"readwrite",y=15===(I=this.ui)?Hh:14===I?zc:13===I?Gu:12===I?jh:11===I?yl:void Yt();var I;let O;return this.wi.runTransaction(t,p,y,$=>(O=new lc($,this.Os?this.Os.next():fe.ct),"readwrite-primary"===o?this.Ti(O).next(Z=>!!Z||this.Ei(O)).next(Z=>{if(!Z)throw Zr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new At(ht.FAILED_PRECONDITION,dn);return c(O)}).next(Z=>this.vi(O).next(()=>Z)):this.Oi(O).next(()=>c(O)))).then($=>(O.raiseOnCommittedEvent(),$))}Oi(t){return bg(t).get("owner").next(o=>{if(null!==o&&this.Vi(o.leaseTimestampMs,5e3)&&!this.Ci(o.ownerId)&&!this.Ri(o)&&!(this.oi||this.allowTabSynchronization&&o.allowTabSynchronization))throw new At(ht.FAILED_PRECONDITION,up)})}vi(t){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bg(t).put("owner",o)}static D(){return lo.D()}Ai(t){const o=bg(t);return o.get("owner").next(c=>this.Ri(c)?(Lt("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):ot.resolve())}Vi(t,o){const c=Date.now();return!(t<c-o||t>c&&(Zr(`Detected an update time that is in the future: ${t} > ${c}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const o=/(?:Version|Mobile)\/1[456]/;(0,m.G6)()&&(navigator.appVersion.match(o)||navigator.userAgent.match(o))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var o;try{const c=null!==(null===(o=this._i)||void 0===o?void 0:o.getItem(this.Di(t)));return Lt("IndexedDbPersistence",`Client '${t}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Zr("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Zr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function bg(u){return js(u,"owner")}function Sl(u){return js(u,"clientMetadata")}function Lm(u,t){let o=u.projectId;return u.isDefaultDatabase||(o+="."+u.database),"firestore/"+t+"/"+o+"/"}class Wi{constructor(t,o,c,p){this.targetId=t,this.fromCache=o,this.Fi=c,this.Bi=p}static Li(t,o){let c=Ir(),p=Ir();for(const y of o.docChanges)switch(y.type){case 0:c=c.add(y.doc.key);break;case 1:p=p.add(y.doc.key)}return new Wi(t,o.fromCache,c,p)}}class lp{constructor(){this.qi=!1}initialize(t,o){this.Ui=t,this.indexManager=o,this.qi=!0}getDocumentsMatchingQuery(t,o,c,p){return this.Ki(t,o).next(y=>y||this.Gi(t,o,p,c)).next(y=>y||this.Qi(t,o))}Ki(t,o){if(Lf(o))return ot.resolve(null);let c=P(o);return this.indexManager.getIndexType(t,c).next(p=>0===p?null:(null!==o.limit&&1===p&&(o=oe(o,null,"F"),c=P(o)),this.indexManager.getDocumentsMatchingTarget(t,c).next(y=>{const I=Ir(...y);return this.Ui.getDocuments(t,I).next(O=>this.indexManager.getMinOffset(t,c).next($=>{const Z=this.ji(o,O);return this.zi(o,Z,I,$.readTime)?this.Ki(t,oe(o,null,"F")):this.Wi(t,Z,o,$)}))})))}Gi(t,o,c,p){return Lf(o)||p.isEqual(On.min())?this.Qi(t,o):this.Ui.getDocuments(t,c).next(y=>{const I=this.ji(o,y);return this.zi(o,I,c,p)?this.Qi(t,o):(mi()<=ue.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",p.toString(),nn(o)),this.Wi(t,I,o,Iu(p,-1)))})}ji(t,o){let c=new Xi(kr(t));return o.forEach((p,y)=>{jt(t,y)&&(c=c.add(y))}),c}zi(t,o,c,p){if(null===t.limit)return!1;if(c.size!==o.size)return!0;const y="F"===t.limitType?o.last():o.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(p)>0)}Qi(t,o){return mi()<=ue.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",nn(o)),this.Ui.getDocumentsMatchingQuery(t,o,_i.min())}Wi(t,o,c,p){return this.Ui.getDocumentsMatchingQuery(t,c,p).next(y=>(o.forEach(I=>{y=y.insert(I.key,I)}),y))}}class pa{constructor(t,o,c,p){this.persistence=t,this.Hi=o,this.serializer=p,this.Ji=new yi(or),this.Yi=new ho(y=>wl(y),rh),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(c)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>t.collect(o,this.Ji))}}function Pi(u,t,o,c){return new pa(u,t,o,c)}function Iy(u,t){return nd.apply(this,arguments)}function nd(){return nd=(0,w.Z)(function*(u,t){const o=rn(u);return yield o.persistence.runTransaction("Handle user change","readonly",c=>{let p;return o.mutationQueue.getAllMutationBatches(c).next(y=>(p=y,o.tr(t),o.mutationQueue.getAllMutationBatches(c))).next(y=>{const I=[],O=[];let $=Ir();for(const Z of p){I.push(Z.batchId);for(const ae of Z.mutations)$=$.add(ae.key)}for(const Z of y){O.push(Z.batchId);for(const ae of Z.mutations)$=$.add(ae.key)}return o.localDocuments.getDocuments(c,$).next(Z=>({er:Z,removedBatchIds:I,addedBatchIds:O}))})})}),nd.apply(this,arguments)}function Ty(u){const t=rn(u);return t.persistence.runTransaction("Get last remote snapshot version","readonly",o=>t.Bs.getLastRemoteSnapshotVersion(o))}function Zs(u,t,o){let c=Ir(),p=Ir();return o.forEach(y=>c=c.add(y)),t.getEntries(u,c).next(y=>{let I=Sa();return o.forEach((O,$)=>{const Z=y.get(O);$.isFoundDocument()!==Z.isFoundDocument()&&(p=p.add(O)),$.isNoDocument()&&$.version.isEqual(On.min())?(t.removeEntry(O,$.readTime),I=I.insert(O,$)):!Z.isValidDocument()||$.version.compareTo(Z.version)>0||0===$.version.compareTo(Z.version)&&Z.hasPendingWrites?(t.addEntry($),I=I.insert(O,$)):Lt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",Z.version," Watch version:",$.version)}),{nr:I,sr:p}})}function rd(u,t){const o=rn(u);return o.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===t&&(t=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(c,t)))}function iu(u,t){const o=rn(u);return o.persistence.runTransaction("Allocate target","readwrite",c=>{let p;return o.Bs.getTargetData(c,t).next(y=>y?(p=y,ot.resolve(p)):o.Bs.allocateTargetId(c).next(I=>(p=new tl(t,I,"TargetPurposeListen",c.currentSequenceNumber),o.Bs.addTargetData(c,p).next(()=>p))))}).then(c=>{const p=o.Ji.get(c.targetId);return(null===p||c.snapshotVersion.compareTo(p.snapshotVersion)>0)&&(o.Ji=o.Ji.insert(c.targetId,c),o.Yi.set(t,c.targetId)),c})}function es(u,t,o){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,w.Z)(function*(u,t,o){const c=rn(u),p=c.Ji.get(t),y=o?"readwrite":"readwrite-primary";try{o||(yield c.persistence.runTransaction("Release target",y,I=>c.persistence.referenceDelegate.removeTarget(I,p)))}catch(I){if(!bu(I))throw I;Lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${I}`)}c.Ji=c.Ji.remove(t),c.Yi.delete(p.target)}),Ic.apply(this,arguments)}function hf(u,t,o){const c=rn(u);let p=On.min(),y=Ir();return c.persistence.runTransaction("Execute query","readonly",I=>function(O,$,Z){const ae=rn(O),Ce=ae.Yi.get(Z);return void 0!==Ce?ot.resolve(ae.Ji.get(Ce)):ae.Bs.getTargetData($,Z)}(c,I,P(t)).next(O=>{if(O)return p=O.lastLimboFreeSnapshotVersion,c.Bs.getMatchingKeysForTargetId(I,O.targetId).next($=>{y=$})}).next(()=>c.Hi.getDocumentsMatchingQuery(I,t,o?p:On.min(),o?y:Ir())).next(O=>(Wv(c,Nn(t),O),{documents:O,ir:y})))}function cp(u,t){const o=rn(u),c=rn(o.Bs),p=o.Ji.get(t);return p?Promise.resolve(p.target):o.persistence.runTransaction("Get target data","readonly",y=>c.le(y,t).next(I=>I?I.target:null))}function Tc(u,t){const o=rn(u),c=o.Xi.get(t)||On.min();return o.persistence.runTransaction("Get new document changes","readonly",p=>o.Zi.getAllFromCollectionGroup(p,t,Iu(c,-1),Number.MAX_SAFE_INTEGER)).then(p=>(Wv(o,t,p),p))}function Wv(u,t,o){let c=u.Xi.get(t)||On.min();o.forEach((p,y)=>{y.readTime.compareTo(c)>0&&(c=y.readTime)}),u.Xi.set(t,c)}function id(){return id=(0,w.Z)(function*(u,t,o,c){const p=rn(u);let y=Ir(),I=Sa();for(const Z of o){const ae=t.rr(Z.metadata.name);Z.document&&(y=y.add(ae));const Ce=t.ur(Z);Ce.setReadTime(t.cr(Z.metadata.readTime)),I=I.insert(ae,Ce)}const O=p.Zi.newChangeBuffer({trackRemovals:!0}),$=yield iu(p,(Z=c,P(tu(Xn.fromString(`__bundle__/docs/${Z}`)))));var Z;return p.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Zs(Z,O,I).next(ae=>(O.apply(Z),ae)).next(ae=>p.Bs.removeMatchingKeysForTargetId(Z,$.targetId).next(()=>p.Bs.addMatchingKeys(Z,y,$.targetId)).next(()=>p.localDocuments.getLocalViewOfDocuments(Z,ae.nr,ae.sr)).next(()=>ae.nr)))}),id.apply(this,arguments)}function dp(u,t){return bc.apply(this,arguments)}function bc(){return bc=(0,w.Z)(function*(u,t,o=Ir()){const c=yield iu(u,P(py(t.bundledQuery))),p=rn(u);return p.persistence.runTransaction("Save named query","readwrite",y=>{const I=Es(t.readTime);if(c.snapshotVersion.compareTo(I)>=0)return p.qs.saveNamedQuery(y,t);const O=c.withResumeToken(_s.EMPTY_BYTE_STRING,I);return p.Ji=p.Ji.insert(O.targetId,O),p.Bs.updateTargetData(y,O).next(()=>p.Bs.removeMatchingKeysForTargetId(y,c.targetId)).next(()=>p.Bs.addMatchingKeys(y,o,c.targetId)).next(()=>p.qs.saveNamedQuery(y,t))})}),bc.apply(this,arguments)}function Cc(u,t){return`firestore_clients_${u}_${t}`}function pf(u,t,o){let c=`firestore_mutations_${u}_${o}`;return t.isAuthenticated()&&(c+=`_${t.uid}`),c}function Wl(u,t){return`firestore_targets_${u}_${t}`}class Fm{constructor(t,o,c,p){this.user=t,this.batchId=o,this.state=c,this.error=p}static ar(t,o,c){const p=JSON.parse(c);let y,I="object"==typeof p&&-1!==["pending","acknowledged","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return I&&p.error&&(I="string"==typeof p.error.message&&"string"==typeof p.error.code,I&&(y=new At(p.error.code,p.error.message))),I?new Fm(t,o,p.state,y):(Zr("SharedClientState",`Failed to parse mutation state for ID '${o}': ${c}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Sd{constructor(t,o,c){this.targetId=t,this.state=o,this.error=c}static ar(t,o){const c=JSON.parse(o);let p,y="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(p=new At(c.error.code,c.error.message))),y?new Sd(t,c.state,p):(Zr("SharedClientState",`Failed to parse target state for ID '${t}': ${o}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hp{constructor(t,o){this.clientId=t,this.activeTargetIds=o}static ar(t,o){const c=JSON.parse(o);let p="object"==typeof c&&c.activeTargetIds instanceof Array,y=sg();for(let I=0;p&&I<c.activeTargetIds.length;++I)p=Tt(c.activeTargetIds[I]),y=y.add(c.activeTargetIds[I]);return p?new hp(t,y):(Zr("SharedClientState",`Failed to parse client data for instance '${t}': ${o}`),null)}}class fp{constructor(t,o){this.clientId=t,this.onlineState=o}static ar(t){const o=JSON.parse(t);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new fp(o.clientId,o.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class gh{constructor(){this.activeTargetIds=sg()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Vm{constructor(t,o,c,p,y){this.window=t,this.ii=o,this.persistenceKey=c,this.wr=p,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new yi(or),this.started=!1,this.yr=[];const I=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.pr=Cc(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new gh),this.Tr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,w.Z)(function*(){const o=yield t.syncEngine.$i();for(const p of o){if(p===t.wr)continue;const y=t.getItem(Cc(t.persistenceKey,p));if(y){const I=hp.ar(p,y);I&&(t.gr=t.gr.insert(I.clientId,I))}}t.Pr();const c=t.storage.getItem(t.vr);if(c){const p=t.br(c);p&&t.Vr(p)}for(const p of t.yr)t.mr(p);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let o=!1;return this.gr.forEach((c,p)=>{p.activeTargetIds.has(t)&&(o=!0)}),o}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,o,c){this.Dr(t,o,c),this.Cr(t)}addLocalQueryTarget(t){let o="not-current";if(this.isActiveQueryTarget(t)){const c=this.storage.getItem(Wl(this.persistenceKey,t));if(c){const p=Sd.ar(t,c);p&&(o=p.state)}}return this.Nr.lr(t),this.Pr(),o}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Wl(this.persistenceKey,t))}updateQueryState(t,o,c){this.kr(t,o,c)}handleUserChange(t,o,c){o.forEach(p=>{this.Cr(p)}),this.currentUser=t,c.forEach(p=>{this.addPendingMutation(p)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const o=this.storage.getItem(t);return Lt("SharedClientState","READ",t,o),o}setItem(t,o){Lt("SharedClientState","SET",t,o),this.storage.setItem(t,o)}removeItem(t){Lt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var o=this;const c=t;if(c.storageArea===this.storage){if(Lt("SharedClientState","EVENT",c.key,c.newValue),c.key===this.pr)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,w.Z)(function*(){if(o.started){if(null!==c.key)if(o.Tr.test(c.key)){if(null==c.newValue){const p=o.Or(c.key);return o.Fr(p,null)}{const p=o.Br(c.key,c.newValue);if(p)return o.Fr(p.clientId,p)}}else if(o.Er.test(c.key)){if(null!==c.newValue){const p=o.Lr(c.key,c.newValue);if(p)return o.qr(p)}}else if(o.Ar.test(c.key)){if(null!==c.newValue){const p=o.Ur(c.key,c.newValue);if(p)return o.Kr(p)}}else if(c.key===o.vr){if(null!==c.newValue){const p=o.br(c.newValue);if(p)return o.Vr(p)}}else if(c.key===o.Ir){const p=function(y){let I=fe.ct;if(null!=y)try{const O=JSON.parse(y);vn("number"==typeof O),I=O}catch(O){Zr("SharedClientState","Failed to read sequence number from WebStorage",O)}return I}(c.newValue);p!==fe.ct&&o.sequenceNumberHandler(p)}else if(c.key===o.Rr){const p=o.Gr(c.newValue);yield Promise.all(p.map(y=>o.syncEngine.Qr(y)))}}else o.yr.push(c)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,o,c){const p=new Fm(this.currentUser,t,o,c),y=pf(this.persistenceKey,this.currentUser,t);this.setItem(y,p.hr())}Cr(t){const o=pf(this.persistenceKey,this.currentUser,t);this.removeItem(o)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,o,c){const p=Wl(this.persistenceKey,t),y=new Sd(t,o,c);this.setItem(p,y.hr())}$r(t){const o=JSON.stringify(Array.from(t));this.setItem(this.Rr,o)}Or(t){const o=this.Tr.exec(t);return o?o[1]:null}Br(t,o){const c=this.Or(t);return hp.ar(c,o)}Lr(t,o){const c=this.Er.exec(t),p=Number(c[1]);return Fm.ar(new pn(void 0!==c[2]?c[2]:null),p,o)}Ur(t,o){const c=this.Ar.exec(t),p=Number(c[1]);return Sd.ar(p,o)}br(t){return fp.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var o=this;return(0,w.Z)(function*(){if(t.user.uid===o.currentUser.uid)return o.syncEngine.jr(t.batchId,t.state,t.error);Lt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,o){const c=o?this.gr.insert(t,o):this.gr.remove(t),p=this.Sr(this.gr),y=this.Sr(c),I=[],O=[];return y.forEach($=>{p.has($)||I.push($)}),p.forEach($=>{y.has($)||O.push($)}),this.syncEngine.Wr(I,O).then(()=>{this.gr=c})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let o=sg();return t.forEach((c,p)=>{o=o.unionWith(p.activeTargetIds)}),o}}class xd{constructor(){this.Hr=new gh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,o,c){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,o,c){this.Jr[t]=o}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new gh,Promise.resolve()}handleUserChange(t,o,c){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Kv{Yr(t){}shutdown(){}}class Cg{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rd=null;function Kl(){return null===Rd?Rd=268435456+Math.round(2147483648*Math.random()):Rd++,"0x"+Rd.toString(16)}const Um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class by{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ao="WebChannelConnection";class Dg extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,o,c,p,y){const I=Kl(),O=this.To(t,o);Lt("RestConnection",`Sending RPC '${t}' ${I}:`,O,c);const $={};return this.Eo($,p,y),this.Ao(t,O,$,c).then(Z=>(Lt("RestConnection",`Received RPC '${t}' ${I}: `,Z),Z),Z=>{throw Vi("RestConnection",`RPC '${t}' ${I} failed with error: `,Z,"url: ",O,"request:",c),Z})}vo(t,o,c,p,y,I){return this.Io(t,o,c,p,y)}Eo(t,o,c){t["X-Goog-Api-Client"]="gl-js/ fire/"+hi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,y)=>t[y]=p),c&&c.headers.forEach((p,y)=>t[y]=p)}To(t,o){return`${this.mo}/v1/${o}:${Um[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,o,c,p){const y=Kl();return new Promise((I,O)=>{const $=new tn;$.setWithCredentials(!0),$.listenOnce(ve.COMPLETE,()=>{try{switch($.getLastErrorCode()){case q.NO_ERROR:const ae=$.getResponseJson();Lt(Ao,`XHR for RPC '${t}' ${y} received:`,JSON.stringify(ae)),I(ae);break;case q.TIMEOUT:Lt(Ao,`RPC '${t}' ${y} timed out`),O(new At(ht.DEADLINE_EXCEEDED,"Request time out"));break;case q.HTTP_ERROR:const Ce=$.getStatus();if(Lt(Ao,`RPC '${t}' ${y} failed with status:`,Ce,"response text:",$.getResponseText()),Ce>0){let rt=$.getResponseJson();Array.isArray(rt)&&(rt=rt[0]);const Ct=rt?.error;if(Ct&&Ct.status&&Ct.message){const Zt=function(En){const Cn=En.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Cn)>=0?Cn:ht.UNKNOWN}(Ct.status);O(new At(Zt,Ct.message))}else O(new At(ht.UNKNOWN,"Server responded with status "+$.getStatus()))}else O(new At(ht.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{Lt(Ao,`RPC '${t}' ${y} completed.`)}});const Z=JSON.stringify(p);Lt(Ao,`RPC '${t}' ${y} sending request:`,p),$.send(o,"POST",Z,c,15)})}Ro(t,o,c){const p=Kl(),y=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],I=gl(),O=x(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Z=this.longPollingOptions.timeoutSeconds;void 0!==Z&&($.longPollingTimeout=Math.round(1e3*Z)),this.useFetchStreams&&($.xmlHttpFactory=new Ne({})),this.Eo($.initMessageHeaders,o,c),$.encodeInitMessageHeaders=!0;const ae=y.join("");Lt(Ao,`Creating RPC '${t}' stream ${p}: ${ae}`,$);const Ce=I.createWebChannel(ae,$);let rt=!1,Ct=!1;const Zt=new by({ro:Cn=>{Ct?Lt(Ao,`Not sending because RPC '${t}' stream ${p} is closed:`,Cn):(rt||(Lt(Ao,`Opening RPC '${t}' stream ${p} transport.`),Ce.open(),rt=!0),Lt(Ao,`RPC '${t}' stream ${p} sending:`,Cn),Ce.send(Cn))},oo:()=>Ce.close()}),En=(Cn,Tr,Ei)=>{Cn.listen(Tr,ti=>{try{Ei(ti)}catch(mo){setTimeout(()=>{throw mo},0)}})};return En(Ce,bt.EventType.OPEN,()=>{Ct||Lt(Ao,`RPC '${t}' stream ${p} transport opened.`)}),En(Ce,bt.EventType.CLOSE,()=>{Ct||(Ct=!0,Lt(Ao,`RPC '${t}' stream ${p} transport closed`),Zt.wo())}),En(Ce,bt.EventType.ERROR,Cn=>{Ct||(Ct=!0,Vi(Ao,`RPC '${t}' stream ${p} transport errored:`,Cn),Zt.wo(new At(ht.UNAVAILABLE,"The operation could not be completed")))}),En(Ce,bt.EventType.MESSAGE,Cn=>{var Tr;if(!Ct){const Ei=Cn.data[0];vn(!!Ei);const mo=Ei.error||(null===(Tr=Ei[0])||void 0===Tr?void 0:Tr.error);if(mo){Lt(Ao,`RPC '${t}' stream ${p} received error:`,mo);const as=mo.status;let fs=function(Zd){const uv=Os[Zd];if(void 0!==uv)return Au(uv)}(as),lu=mo.message;void 0===fs&&(fs=ht.INTERNAL,lu="Unknown error status: "+as+" with message "+mo.message),Ct=!0,Zt.wo(new At(fs,lu)),Ce.close()}else Lt(Ao,`RPC '${t}' stream ${p} received:`,Ei),Zt._o(Ei)}}),En(O,j.STAT_EVENT,Cn=>{Cn.stat===ce.PROXY?Lt(Ao,`RPC '${t}' stream ${p} detected buffering proxy`):Cn.stat===ce.NOPROXY&&Lt(Ao,`RPC '${t}' stream ${p} detected no buffering proxy`)}),setTimeout(()=>{Zt.fo()},0),Zt}}function mh(){return typeof window<"u"?window:null}function oo(){return typeof document<"u"?document:null}function _h(u){return new Iw(u,!0)}class Ki{constructor(t,o,c=1e3,p=1.5,y=6e4){this.ii=t,this.timerId=o,this.Po=c,this.bo=p,this.Vo=y,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const o=Math.floor(this.So+this.ko()),c=Math.max(0,Date.now()-this.Co),p=Math.max(0,o-c);p>0&&Lt("ExponentialBackoff",`Backing off for ${p} ms (base delay: ${this.So} ms, delay with jitter: ${o} ms, last attempt: ${c} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,p,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yh{constructor(t,o,c,p,y,I,O,$){this.ii=t,this.$o=c,this.Oo=p,this.connection=y,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=O,this.listener=$,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ki(t,o)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,w.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,w.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,o){var c=this;return(0,w.Z)(function*(){c.Ho(),c.Jo(),c.qo.cancel(),c.Fo++,4!==t?c.qo.reset():o&&o.code===ht.RESOURCE_EXHAUSTED?(Zr(o.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),c.qo.xo()):o&&o.code===ht.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.Yo(),c.stream.close(),c.stream=null),c.state=t,yield c.listener.ao(o)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),o=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,p])=>{this.Fo===o&&this.Zo(c,p)},c=>{t(()=>{const p=new At(ht.UNKNOWN,"Fetching auth token failed: "+c.message);return this.tu(p)})})}Zo(t,o){const c=this.Xo(this.Fo);this.stream=this.eu(t,o),this.stream.uo(()=>{c(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(p=>{c(()=>this.tu(p))}),this.stream.onMessage(p=>{c(()=>this.onMessage(p))})}Go(){var t=this;this.state=5,this.qo.No((0,w.Z)(function*(){t.state=0,t.start()}))}tu(t){return Lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return o=>{this.ii.enqueueAndForget(()=>this.Fo===t?o():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bm extends yh{constructor(t,o,c,p,y,I){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,c,p,I),this.serializer=y}eu(t,o){return this.connection.Ro("Listen",t,o)}onMessage(t){this.qo.reset();const o=function rf(u,t){let o;if("targetChange"in t){const c="NO_CHANGE"===($=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Yt(),p=t.targetChange.targetIds||[],y=function($,Z){return $.useProto3Json?(vn(void 0===Z||"string"==typeof Z),_s.fromBase64String(Z||"")):(vn(void 0===Z||Z instanceof Uint8Array),_s.fromUint8Array(Z||new Uint8Array))}(u,t.targetChange.resumeToken),I=t.targetChange.cause,O=I&&function($){const Z=void 0===$.code?ht.UNKNOWN:Au($.code);return new At(Z,$.message||"")}(I);o=new Sm(c,p,y,O||null)}else if("documentChange"in t){const c=t.documentChange,p=Su(u,c.document.name),y=Es(c.document.updateTime),I=c.document.createTime?Es(c.document.createTime):On.min(),O=new bo({mapValue:{fields:c.document.fields}}),$=Ni.newFoundDocument(p,y,I,O);o=new mc(c.targetIds||[],c.removedTargetIds||[],$.key,$)}else if("documentDelete"in t){const c=t.documentDelete,p=Su(u,c.document),y=c.readTime?Es(c.readTime):On.min(),I=Ni.newNoDocument(p,y);o=new mc([],c.removedTargetIds||[],I.key,I)}else if("documentRemove"in t){const c=t.documentRemove,p=Su(u,c.document);o=new mc([],c.removedTargetIds||[],p,null)}else{if(!("filter"in t))return Yt();{const c=t.filter,{count:p=0,unchangedNames:y}=c,I=new sy(p,y);o=new oy(c.targetId,I)}}var $;return o}(this.serializer,t),c=function(p){if(!("targetChange"in p))return On.min();const y=p.targetChange;return y.targetIds&&y.targetIds.length?On.min():y.readTime?Es(y.readTime):On.min()}(t);return this.listener.nu(o,c)}su(t){const o={};o.database=Cl(this.serializer),o.addTarget=function(p,y){let I;const O=y.target;if(I=ih(O)?{documents:ly(p,O)}:{query:cy(p,O)},I.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){I.resumeToken=Ui(p,y.resumeToken);const $=el(p,y.expectedCount);null!==$&&(I.expectedCount=$)}else if(y.snapshotVersion.compareTo(On.min())>0){I.readTime=Cd(p,y.snapshotVersion.toTimestamp());const $=el(p,y.expectedCount);null!==$&&(I.expectedCount=$)}return I}(this.serializer,t);const c=function Tw(u,t){const o=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt()}}(t.purpose);return null==o?null:{"goog-listen-tags":o}}(0,t);c&&(o.labels=c),this.Wo(o)}iu(t){const o={};o.database=Cl(this.serializer),o.removeTarget=t,this.Wo(o)}}class pp extends yh{constructor(t,o,c,p,y,I){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,c,p,I),this.serializer=y,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,o){return this.connection.Ro("Write",t,o)}onMessage(t){if(vn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const o=function Jf(u,t){return u&&u.length>0?(vn(void 0!==t),u.map(o=>function(c,p){let y=Es(c.updateTime?c.updateTime:p);return y.isEqual(On.min())&&(y=Es(p)),new Cm(y,c.transformResults||[])}(o,t))):[]}(t.writeResults,t.commitTime),c=Es(t.commitTime);return this.listener.cu(c,o)}return vn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Cl(this.serializer),this.Wo(t)}uu(t){const o={streamToken:this.lastStreamToken,writes:t.map(c=>Jc(this.serializer,c))};this.Wo(o)}}class gp extends class{}{constructor(t,o,c,p){super(),this.authCredentials=t,this.appCheckCredentials=o,this.connection=c,this.serializer=p,this.lu=!1}fu(){if(this.lu)throw new At(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,o,c){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,y])=>this.connection.Io(t,o,c,p,y)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new At(ht.UNKNOWN,p.toString())})}vo(t,o,c,p){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,I])=>this.connection.vo(t,o,c,y,I,p)).catch(y=>{throw"FirebaseError"===y.name?(y.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new At(ht.UNKNOWN,y.toString())})}terminate(){this.lu=!0}}class ts{constructor(t,o){this.asyncQueue=t,this.onlineStateHandler=o,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const o=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Zr(o),this.mu=!1):Lt("OnlineStateTracker",o)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ji{constructor(t,o,c,p,y){var I=this;this.localStore=t,this.datastore=o,this.asyncQueue=c,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=y,this.Pu.Yr(O=>{c.enqueueAndForget((0,w.Z)(function*(){var $;Ac(I)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,w.Z)(function*(Z){const ae=rn(Z);ae.vu.add(4),yield vh(ae),ae.bu.set("Unknown"),ae.vu.delete(4),yield Dc(ae)}),function(Z){return $.apply(this,arguments)})(I))}))}),this.bu=new ts(c,p)}}function Dc(u){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,w.Z)(function*(u){if(Ac(u))for(const t of u.Ru)yield t(!0)}),Ag.apply(this,arguments)}function vh(u){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,w.Z)(function*(u){for(const t of u.Ru)yield t(!1)}),Cy.apply(this,arguments)}function mp(u,t){const o=rn(u);o.Au.has(t.targetId)||(o.Au.set(t.targetId,t),Sg(o)?jm(o):kd(o).Ko()&&_p(o,t))}function Pd(u,t){const o=rn(u),c=kd(o);o.Au.delete(t),c.Ko()&&Dy(o,t),0===o.Au.size&&(c.Ko()?c.jo():Ac(o)&&o.bu.set("Unknown"))}function _p(u,t){if(u.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(On.min())>0){const o=u.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(o)}kd(u).su(t)}function Dy(u,t){u.Vu.qt(t),kd(u).iu(t)}function jm(u){u.Vu=new Fv({getRemoteKeysForTarget:t=>u.remoteSyncer.getRemoteKeysForTarget(t),le:t=>u.Au.get(t)||null,ue:()=>u.datastore.serializer.databaseId}),kd(u).start(),u.bu.gu()}function Sg(u){return Ac(u)&&!kd(u).Uo()&&u.Au.size>0}function Ac(u){return 0===rn(u).vu.size}function Ay(u){u.Vu=void 0}function Yv(u){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,w.Z)(function*(u){u.Au.forEach((t,o)=>{_p(u,t)})}),Hm.apply(this,arguments)}function Jv(u,t){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,w.Z)(function*(u,t){Ay(u),Sg(u)?(u.bu.Iu(t),jm(u)):u.bu.set("Unknown")}),Xv.apply(this,arguments)}function Ow(u,t,o){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,w.Z)(function*(u,t,o){if(u.bu.set("Online"),t instanceof Sm&&2===t.state&&t.cause)try{yield(c=(0,w.Z)(function*(p,y){const I=y.cause;for(const O of y.targetIds)p.Au.has(O)&&(yield p.remoteSyncer.rejectListen(O,I),p.Au.delete(O),p.Vu.removeTarget(O))}),function(p,y){return c.apply(this,arguments)})(u,t)}catch(c){Lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),c),yield sd(u,c)}else if(t instanceof mc?u.Vu.Ht(t):t instanceof oy?u.Vu.ne(t):u.Vu.Xt(t),!o.isEqual(On.min()))try{const c=yield Ty(u.localStore);o.compareTo(c)>=0&&(yield function(p,y){const I=p.Vu.ce(y);return I.targetChanges.forEach((O,$)=>{if(O.resumeToken.approximateByteSize()>0){const Z=p.Au.get($);Z&&p.Au.set($,Z.withResumeToken(O.resumeToken,y))}}),I.targetMismatches.forEach((O,$)=>{const Z=p.Au.get(O);if(!Z)return;p.Au.set(O,Z.withResumeToken(_s.EMPTY_BYTE_STRING,Z.snapshotVersion)),Dy(p,O);const ae=new tl(Z.target,O,$,Z.sequenceNumber);_p(p,ae)}),p.remoteSyncer.applyRemoteEvent(I)}(u,o))}catch(c){Lt("RemoteStore","Failed to raise snapshot:",c),yield sd(u,c)}var c}),Eh.apply(this,arguments)}function sd(u,t,o){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,w.Z)(function*(u,t,o){if(!bu(t))throw t;u.vu.add(1),yield vh(u),u.bu.set("Offline"),o||(o=()=>Ty(u.localStore)),u.asyncQueue.enqueueRetryable((0,w.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield o(),u.vu.delete(1),yield Dc(u)}))}),Zl.apply(this,arguments)}function Md(u,t){return t().catch(o=>sd(u,o,t))}function Od(u){return xg.apply(this,arguments)}function xg(){return xg=(0,w.Z)(function*(u){const t=rn(u),o=od(t);let c=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;eE(t);)try{const p=yield rd(t.localStore,c);if(null===p){0===t.Eu.length&&o.jo();break}c=p.batchId,Nd(t,p)}catch(p){yield sd(t,p)}Sy(t)&&wh(t)}),xg.apply(this,arguments)}function eE(u){return Ac(u)&&u.Eu.length<10}function Nd(u,t){u.Eu.push(t);const o=od(u);o.Ko()&&o.ou&&o.uu(t.mutations)}function Sy(u){return Ac(u)&&!od(u).Uo()&&u.Eu.length>0}function wh(u){od(u).start()}function xy(u){return gf.apply(this,arguments)}function gf(){return gf=(0,w.Z)(function*(u){od(u).hu()}),gf.apply(this,arguments)}function Ry(u){return mf.apply(this,arguments)}function mf(){return mf=(0,w.Z)(function*(u){const t=od(u);for(const o of u.Eu)t.uu(o.mutations)}),mf.apply(this,arguments)}function _f(u,t,o){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,w.Z)(function*(u,t,o){const c=u.Eu.shift(),p=Jh.from(c,t,o);yield Md(u,()=>u.remoteSyncer.applySuccessfulWrite(p)),yield Od(u)}),Oa.apply(this,arguments)}function tE(u,t){return yp.apply(this,arguments)}function yp(){return yp=(0,w.Z)(function*(u,t){var o;t&&od(u).ou&&(yield(o=(0,w.Z)(function*(c,p){if(ug(y=p.code)&&y!==ht.ABORTED){const I=c.Eu.shift();od(c).Qo(),yield Md(c,()=>c.remoteSyncer.rejectFailedWrite(I.batchId,p)),yield Od(c)}var y}),function(c,p){return o.apply(this,arguments)})(u,t)),Sy(u)&&wh(u)}),yp.apply(this,arguments)}function Rg(u,t){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,w.Z)(function*(u,t){const o=rn(u);o.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const c=Ac(o);o.vu.add(3),yield vh(o),c&&o.bu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(t),o.vu.delete(3),yield Dc(o)}),Ih.apply(this,arguments)}function $m(u,t){return Th.apply(this,arguments)}function Th(){return Th=(0,w.Z)(function*(u,t){const o=rn(u);t?(o.vu.delete(2),yield Dc(o)):t||(o.vu.add(2),yield vh(o),o.bu.set("Unknown"))}),Th.apply(this,arguments)}function kd(u){return u.Su||(u.Su=function(t,o,c){const p=rn(t);return p.fu(),new Bm(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(u.datastore,u.asyncQueue,{uo:Yv.bind(null,u),ao:Jv.bind(null,u),nu:Ow.bind(null,u)}),u.Ru.push(function(){var t=(0,w.Z)(function*(o){o?(u.Su.Qo(),Sg(u)?jm(u):u.bu.set("Unknown")):(yield u.Su.stop(),Ay(u))});return function(o){return t.apply(this,arguments)}}())),u.Su}function od(u){return u.Du||(u.Du=function(t,o,c){const p=rn(t);return p.fu(),new pp(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,c)}(u.datastore,u.asyncQueue,{uo:xy.bind(null,u),ao:tE.bind(null,u),au:Ry.bind(null,u),cu:_f.bind(null,u)}),u.Ru.push(function(){var t=(0,w.Z)(function*(o){o?(u.Du.Qo(),yield Od(u)):(yield u.Du.stop(),u.Eu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${u.Eu.length} pending writes`),u.Eu=[]))});return function(o){return t.apply(this,arguments)}}())),u.Du}class Pg{constructor(t,o,c,p,y){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=c,this.op=p,this.removalCallback=y,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(t,o,c,p,y){const I=Date.now()+c,O=new Pg(t,o,I,p,y);return O.start(c),O}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new At(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function su(u,t){if(Zr("AsyncQueue",`${t}: ${u}`),bu(u))return new At(ht.UNAVAILABLE,`${t}: ${u}`);throw u}class Ru{constructor(t){this.comparator=t?(o,c)=>t(o,c)||on.comparator(o.key,c.key):(o,c)=>on.comparator(o.key,c.key),this.keyedMap=Il(),this.sortedSet=new yi(this.comparator)}static emptySet(t){return new Ru(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const o=this.keyedMap.get(t);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((o,c)=>(t(o),!1))}add(t){const o=this.delete(t.key);return o.copy(o.keyedMap.insert(t.key,t),o.sortedSet.insert(t,null))}delete(t){const o=this.get(t);return o?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(o)):this}isEqual(t){if(!(t instanceof Ru)||this.size!==t.size)return!1;const o=this.sortedSet.getIterator(),c=t.sortedSet.getIterator();for(;o.hasNext();){const p=o.getNext().key,y=c.getNext().key;if(!p.isEqual(y))return!1}return!0}toString(){const t=[];return this.forEach(o=>{t.push(o.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,o){const c=new Ru;return c.comparator=this.comparator,c.keyedMap=t,c.sortedSet=o,c}}class Nw{constructor(){this.Cu=new yi(on.comparator)}track(t){const o=t.doc.key,c=this.Cu.get(o);c?0!==t.type&&3===c.type?this.Cu=this.Cu.insert(o,t):3===t.type&&1!==c.type?this.Cu=this.Cu.insert(o,{type:c.type,doc:t.doc}):2===t.type&&2===c.type?this.Cu=this.Cu.insert(o,{type:2,doc:t.doc}):2===t.type&&0===c.type?this.Cu=this.Cu.insert(o,{type:0,doc:t.doc}):1===t.type&&0===c.type?this.Cu=this.Cu.remove(o):1===t.type&&2===c.type?this.Cu=this.Cu.insert(o,{type:1,doc:c.doc}):0===t.type&&1===c.type?this.Cu=this.Cu.insert(o,{type:2,doc:t.doc}):Yt():this.Cu=this.Cu.insert(o,t)}xu(){const t=[];return this.Cu.inorderTraversal((o,c)=>{t.push(c)}),t}}class po{constructor(t,o,c,p,y,I,O,$,Z){this.query=t,this.docs=o,this.oldDocs=c,this.docChanges=p,this.mutatedKeys=y,this.fromCache=I,this.syncStateChanged=O,this.excludesMetadataChanges=$,this.hasCachedResults=Z}static fromInitialDocuments(t,o,c,p,y){const I=[];return o.forEach(O=>{I.push({type:0,doc:O})}),new po(t,o,Ru.emptySet(o),I,c,p,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&He(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const o=this.docChanges,c=t.docChanges;if(o.length!==c.length)return!1;for(let p=0;p<o.length;p++)if(o[p].type!==c[p].type||!o[p].doc.isEqual(c[p].doc))return!1;return!0}}class Ld{constructor(){this.Nu=void 0,this.listeners=[]}}class yf{constructor(){this.queries=new ho(t=>ft(t),He),this.onlineState="Unknown",this.ku=new Set}}function zm(u,t){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,w.Z)(function*(u,t){const o=rn(u),c=t.query;let p=!1,y=o.queries.get(c);if(y||(p=!0,y=new Ld),p)try{y.Nu=yield o.onListen(c)}catch(I){const O=su(I,`Initialization of query '${nn(t.query)}' failed`);return void t.onError(O)}o.queries.set(c,y),y.listeners.push(t),t.Mu(o.onlineState),y.Nu&&t.$u(y.Nu)&&Ur(o)}),Sc.apply(this,arguments)}function Gm(u,t){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,w.Z)(function*(u,t){const o=rn(u),c=t.query;let p=!1;const y=o.queries.get(c);if(y){const I=y.listeners.indexOf(t);I>=0&&(y.listeners.splice(I,1),p=0===y.listeners.length)}if(p)return o.queries.delete(c),o.onUnlisten(c)}),Fd.apply(this,arguments)}function ad(u,t){const o=rn(u);let c=!1;for(const p of t){const I=o.queries.get(p.query);if(I){for(const O of I.listeners)O.$u(p)&&(c=!0);I.Nu=p}}c&&Ur(o)}function nE(u,t,o){const c=rn(u),p=c.queries.get(t);if(p)for(const y of p.listeners)y.onError(o);c.queries.delete(t)}function Ur(u){u.ku.forEach(t=>{t.next()})}class rE{constructor(t,o,c){this.query=t,this.Ou=o,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=c||{}}$u(t){if(!this.options.includeMetadataChanges){const c=[];for(const p of t.docChanges)3!==p.type&&c.push(p);t=new po(t.query,t.docs,t.oldDocs,c,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let o=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),o=!0):this.qu(t,this.onlineState)&&(this.Uu(t),o=!0),this.Bu=t,o}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let o=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),o=!0),o}qu(t,o){return!t.fromCache||(!this.options.Ku||!("Offline"!==o))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===o)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class So{constructor(t,o){this.Gu=t,this.byteLength=o}Qu(){return"metadata"in this.Gu}}class Py{constructor(t){this.serializer=t}rr(t){return Su(this.serializer,t)}ur(t){return t.metadata.exists?Yf(this.serializer,t.document,!1):Ni.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Es(t)}}class qm{constructor(t,o,c){this.ju=t,this.localStore=o,this.serializer=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=My(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let o=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++o;const c=Xn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}Wu(t){const o=new Map,c=new Py(this.serializer);for(const p of t)if(p.metadata.queries){const y=c.rr(p.metadata.name);for(const I of p.metadata.queries){const O=(o.get(I)||Ir()).add(y);o.set(I,O)}}return o}complete(){var t=this;return(0,w.Z)(function*(){const o=yield function ff(u,t,o,c){return id.apply(this,arguments)}(t.localStore,new Py(t.serializer),t.documents,t.ju.id),c=t.Wu(t.documents);for(const p of t.queries)yield dp(t.localStore,p,c.get(p.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:o}})()}}function My(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class kw{constructor(t){this.key=t}}class Wm{constructor(t){this.key=t}}class Oy{constructor(t,o){this.query=t,this.Yu=o,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ir(),this.mutatedKeys=Ir(),this.tc=kr(t),this.ec=new Ru(this.tc)}get nc(){return this.Yu}sc(t,o){const c=o?o.ic:new Nw,p=o?o.ec:this.ec;let y=o?o.mutatedKeys:this.mutatedKeys,I=p,O=!1;const $="F"===this.query.limitType&&p.size===this.query.limit?p.last():null,Z="L"===this.query.limitType&&p.size===this.query.limit?p.first():null;if(t.inorderTraversal((ae,Ce)=>{const rt=p.get(ae),Ct=jt(this.query,Ce)?Ce:null,Zt=!!rt&&this.mutatedKeys.has(rt.key),En=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let Cn=!1;rt&&Ct?rt.data.isEqual(Ct.data)?Zt!==En&&(c.track({type:3,doc:Ct}),Cn=!0):this.rc(rt,Ct)||(c.track({type:2,doc:Ct}),Cn=!0,($&&this.tc(Ct,$)>0||Z&&this.tc(Ct,Z)<0)&&(O=!0)):!rt&&Ct?(c.track({type:0,doc:Ct}),Cn=!0):rt&&!Ct&&(c.track({type:1,doc:rt}),Cn=!0,($||Z)&&(O=!0)),Cn&&(Ct?(I=I.add(Ct),y=En?y.add(ae):y.delete(ae)):(I=I.delete(ae),y=y.delete(ae)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const ae="F"===this.query.limitType?I.last():I.first();I=I.delete(ae.key),y=y.delete(ae.key),c.track({type:1,doc:ae})}return{ec:I,ic:c,zi:O,mutatedKeys:y}}rc(t,o){return t.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(t,o,c){const p=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const y=t.ic.xu();y.sort((Z,ae)=>function(Ce,rt){const Ct=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return Ct(Ce)-Ct(rt)}(Z.type,ae.type)||this.tc(Z.doc,ae.doc)),this.oc(c);const I=o?this.uc():[],O=0===this.Zu.size&&this.current?1:0,$=O!==this.Xu;return this.Xu=O,0!==y.length||$?{snapshot:new po(this.query,t.ec,p,y,t.mutatedKeys,0===O,$,!1,!!c&&c.resumeToken.approximateByteSize()>0),cc:I}:{cc:I}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Nw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(o=>this.Yu=this.Yu.add(o)),t.modifiedDocuments.forEach(o=>{}),t.removedDocuments.forEach(o=>this.Yu=this.Yu.delete(o)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Ir(),this.ec.forEach(c=>{this.ac(c.key)&&(this.Zu=this.Zu.add(c.key))});const o=[];return t.forEach(c=>{this.Zu.has(c)||o.push(new Wm(c))}),this.Zu.forEach(c=>{t.has(c)||o.push(new kw(c))}),o}hc(t){this.Yu=t.ir,this.Zu=Ir();const o=this.sc(t.documents);return this.applyChanges(o,!0)}lc(){return po.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ny{constructor(t,o,c){this.query=t,this.targetId=o,this.view=c}}class vp{constructor(t){this.key=t,this.fc=!1}}class bh{constructor(t,o,c,p,y,I){this.localStore=t,this.remoteStore=o,this.eventManager=c,this.sharedClientState=p,this.currentUser=y,this.maxConcurrentLimboResolutions=I,this.dc={},this.wc=new ho(O=>ft(O),He),this._c=new Map,this.mc=new Set,this.gc=new yi(on.comparator),this.yc=new Map,this.Ic=new Nm,this.Tc={},this.Ec=new Map,this.Ac=np.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function ky(u,t){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,w.Z)(function*(u,t){const o=Sp(u);let c,p;const y=o.wc.get(t);if(y)c=y.targetId,o.sharedClientState.addLocalQueryTarget(c),p=y.view.lc();else{const I=yield iu(o.localStore,P(t)),O=o.sharedClientState.addLocalQueryTarget(I.targetId);c=I.targetId,p=yield Mg(o,t,c,"current"===O,I.resumeToken),o.isPrimaryClient&&mp(o.remoteStore,I)}return p}),Vd.apply(this,arguments)}function Mg(u,t,o,c,p){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,w.Z)(function*(u,t,o,c,p){u.Rc=(Ce,rt,Ct)=>{return(Zt=(0,w.Z)(function*(En,Cn,Tr,Ei){let ti=Cn.view.sc(Tr);ti.zi&&(ti=yield hf(En.localStore,Cn.query,!1).then(({documents:fs})=>Cn.view.sc(fs,ti)));const mo=Ei&&Ei.targetChanges.get(Cn.targetId),as=Cn.view.applyChanges(ti,En.isPrimaryClient,mo);return kg(En,Cn.targetId,as.cc),as.snapshot}),function(En,Cn,Tr,Ei){return Zt.apply(this,arguments)})(u,Ce,rt,Ct);var Zt};const y=yield hf(u.localStore,t,!0),I=new Oy(t,y.ir),O=I.sc(y.documents),$=Wf.createSynthesizedTargetChangeForCurrentChange(o,c&&"Offline"!==u.onlineState,p),Z=I.applyChanges(O,u.isPrimaryClient,$);kg(u,o,Z.cc);const ae=new Ny(t,o,I);return u.wc.set(t,ae),u._c.has(o)?u._c.get(o).push(t):u._c.set(o,[t]),Z.snapshot}),Ch.apply(this,arguments)}function Ly(u,t){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,w.Z)(function*(u,t){const o=rn(u),c=o.wc.get(t),p=o._c.get(c.targetId);if(p.length>1)return o._c.set(c.targetId,p.filter(y=>!He(y,t))),void o.wc.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield es(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),Pd(o.remoteStore,c.targetId),Ah(o,c.targetId)}).catch(zn))):(Ah(o,c.targetId),yield es(o.localStore,c.targetId,!0))}),Ud.apply(this,arguments)}function Dh(){return Dh=(0,w.Z)(function*(u,t,o){const c=xp(u);try{const p=yield function(y,I){const O=rn(y),$=bi.now(),Z=I.reduce((rt,Ct)=>rt.add(Ct.key),Ir());let ae,Ce;return O.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let Ct=Sa(),Zt=Ir();return O.Zi.getEntries(rt,Z).next(En=>{Ct=En,Ct.forEach((Cn,Tr)=>{Tr.isValidDocument()||(Zt=Zt.add(Cn))})}).next(()=>O.localDocuments.getOverlayedDocuments(rt,Ct)).next(En=>{ae=En;const Cn=[];for(const Tr of I){const Ei=zf(Tr,ae.get(Tr.key).overlayedDocument);null!=Ei&&Cn.push(new Tl(Tr.key,Ei,cc(Ei.value.mapValue),is.exists(!0)))}return O.mutationQueue.addMutationBatch(rt,$,Cn,I)}).next(En=>{Ce=En;const Cn=En.applyToLocalDocumentSet(ae,Zt);return O.documentOverlayCache.saveOverlays(rt,En.batchId,Cn)})}).then(()=>({batchId:Ce.batchId,changes:Td(ae)}))}(c.localStore,t);c.sharedClientState.addPendingMutation(p.batchId),function(y,I,O){let $=y.Tc[y.currentUser.toKey()];$||($=new yi(or)),$=$.insert(I,O),y.Tc[y.currentUser.toKey()]=$}(c,p.batchId,o),yield Ql(c,p.changes),yield Od(c.remoteStore)}catch(p){const y=su(p,"Failed to persist write");o.reject(y)}}),Dh.apply(this,arguments)}function iE(u,t){return ws.apply(this,arguments)}function ws(){return ws=(0,w.Z)(function*(u,t){const o=rn(u);try{const c=yield function qv(u,t){const o=rn(u),c=t.snapshotVersion;let p=o.Ji;return o.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const I=o.Zi.newChangeBuffer({trackRemovals:!0});p=o.Ji;const O=[];t.targetChanges.forEach((ae,Ce)=>{const rt=p.get(Ce);if(!rt)return;O.push(o.Bs.removeMatchingKeys(y,ae.removedDocuments,Ce).next(()=>o.Bs.addMatchingKeys(y,ae.addedDocuments,Ce)));let Ct=rt.withSequenceNumber(y.currentSequenceNumber);var Zt,En,Cn;null!==t.targetMismatches.get(Ce)?Ct=Ct.withResumeToken(_s.EMPTY_BYTE_STRING,On.min()).withLastLimboFreeSnapshotVersion(On.min()):ae.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(ae.resumeToken,c)),p=p.insert(Ce,Ct),En=Ct,Cn=ae,(0===(Zt=rt).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&O.push(o.Bs.updateTargetData(y,Ct))});let $=Sa(),Z=Ir();if(t.documentUpdates.forEach(ae=>{t.resolvedLimboDocuments.has(ae)&&O.push(o.persistence.referenceDelegate.updateLimboDocument(y,ae))}),O.push(Zs(y,I,t.documentUpdates).next(ae=>{$=ae.nr,Z=ae.sr})),!c.isEqual(On.min())){const ae=o.Bs.getLastRemoteSnapshotVersion(y).next(Ce=>o.Bs.setTargetsMetadata(y,y.currentSequenceNumber,c));O.push(ae)}return ot.waitFor(O).next(()=>I.apply(y)).next(()=>o.localDocuments.getLocalViewOfDocuments(y,$,Z)).next(()=>$)}).then(y=>(o.Ji=p,y))}(o.localStore,t);t.targetChanges.forEach((p,y)=>{const I=o.yc.get(y);I&&(vn(p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size<=1),p.addedDocuments.size>0?I.fc=!0:p.modifiedDocuments.size>0?vn(I.fc):p.removedDocuments.size>0&&(vn(I.fc),I.fc=!1))}),yield Ql(o,c,t)}catch(c){yield zn(c)}}),ws.apply(this,arguments)}function Ep(u,t,o){const c=rn(u);if(c.isPrimaryClient&&0===o||!c.isPrimaryClient&&1===o){const p=[];c.wc.forEach((y,I)=>{const O=I.view.Mu(t);O.snapshot&&p.push(O.snapshot)}),function(y,I){const O=rn(y);O.onlineState=I;let $=!1;O.queries.forEach((Z,ae)=>{for(const Ce of ae.listeners)Ce.Mu(I)&&($=!0)}),$&&Ur(O)}(c.eventManager,t),p.length&&c.dc.nu(p),c.onlineState=t,c.isPrimaryClient&&c.sharedClientState.setOnlineState(t)}}function Lw(u,t,o){return wp.apply(this,arguments)}function wp(){return wp=(0,w.Z)(function*(u,t,o){const c=rn(u);c.sharedClientState.updateQueryState(t,"rejected",o);const p=c.yc.get(t),y=p&&p.key;if(y){let I=new yi(on.comparator);I=I.insert(y,Ni.newNoDocument(y,On.min()));const O=Ir().add(y),$=new ef(On.min(),new Map,new yi(or),I,O);yield iE(c,$),c.gc=c.gc.remove(y),c.yc.delete(t),Qm(c)}else yield es(c.localStore,t,!1).then(()=>Ah(c,t,o)).catch(zn)}),wp.apply(this,arguments)}function Og(u,t){return ud.apply(this,arguments)}function ud(){return ud=(0,w.Z)(function*(u,t){const o=rn(u),c=t.batch.batchId;try{const p=yield function Ma(u,t){const o=rn(u);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const p=t.batch.keys(),y=o.Zi.newChangeBuffer({trackRemovals:!0});return function(I,O,$,Z){const ae=$.batch,Ce=ae.keys();let rt=ot.resolve();return Ce.forEach(Ct=>{rt=rt.next(()=>Z.getEntry(O,Ct)).next(Zt=>{const En=$.docVersions.get(Ct);vn(null!==En),Zt.version.compareTo(En)<0&&(ae.applyToRemoteDocument(Zt,$),Zt.isValidDocument()&&(Zt.setReadTime($.commitVersion),Z.addEntry(Zt)))})}),rt.next(()=>I.mutationQueue.removeMutationBatch(O,ae))}(o,c,t,y).next(()=>y.apply(c)).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,p,t.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(I){let O=Ir();for(let $=0;$<I.mutationResults.length;++$)I.mutationResults[$].transformResults.length>0&&(O=O.add(I.batch.mutations[$].key));return O}(t))).next(()=>o.localDocuments.getDocuments(c,p))})}(o.localStore,t);Zm(o,c,null),Km(o,c),o.sharedClientState.updateMutationState(c,"acknowledged"),yield Ql(o,p)}catch(p){yield zn(p)}}),ud.apply(this,arguments)}function sE(u,t,o){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,w.Z)(function*(u,t,o){const c=rn(u);try{const p=yield function(y,I){const O=rn(y);return O.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let Z;return O.mutationQueue.lookupMutationBatch($,I).next(ae=>(vn(null!==ae),Z=ae.keys(),O.mutationQueue.removeMutationBatch($,ae))).next(()=>O.mutationQueue.performConsistencyCheck($)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId($,Z,I)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,Z)).next(()=>O.localDocuments.getDocuments($,Z))})}(c.localStore,t);Zm(c,t,o),Km(c,t),c.sharedClientState.updateMutationState(t,"rejected",o),yield Ql(c,p)}catch(p){yield zn(p)}}),Ng.apply(this,arguments)}function xc(){return xc=(0,w.Z)(function*(u,t){const o=rn(u);Ac(o.remoteStore)||Lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(y){const I=rn(y);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>I.mutationQueue.getHighestUnacknowledgedBatchId(O))}(o.localStore);if(-1===c)return void t.resolve();const p=o.Ec.get(c)||[];p.push(t),o.Ec.set(c,p)}catch(c){const p=su(c,"Initialization of waitForPendingWrites() operation failed");t.reject(p)}}),xc.apply(this,arguments)}function Km(u,t){(u.Ec.get(t)||[]).forEach(o=>{o.resolve()}),u.Ec.delete(t)}function Zm(u,t,o){const c=rn(u);let p=c.Tc[c.currentUser.toKey()];if(p){const y=p.get(t);y&&(o?y.reject(o):y.resolve(),p=p.remove(t)),c.Tc[c.currentUser.toKey()]=p}}function Ah(u,t,o=null){u.sharedClientState.removeLocalQueryTarget(t);for(const c of u._c.get(t))u.wc.delete(c),o&&u.dc.Pc(c,o);u._c.delete(t),u.isPrimaryClient&&u.Ic.Is(t).forEach(c=>{u.Ic.containsKey(c)||Tp(u,c)})}function Tp(u,t){u.mc.delete(t.path.canonicalString());const o=u.gc.get(t);null!==o&&(Pd(u.remoteStore,o),u.gc=u.gc.remove(t),u.yc.delete(o),Qm(u))}function kg(u,t,o){for(const c of o)c instanceof kw?(u.Ic.addReference(c.key,t),oE(u,c)):c instanceof Wm?(Lt("SyncEngine","Document no longer in limbo: "+c.key),u.Ic.removeReference(c.key,t),u.Ic.containsKey(c.key)||Tp(u,c.key)):Yt()}function oE(u,t){const o=t.key,c=o.path.canonicalString();u.gc.get(o)||u.mc.has(c)||(Lt("SyncEngine","New document in limbo: "+o),u.mc.add(c),Qm(u))}function Qm(u){for(;u.mc.size>0&&u.gc.size<u.maxConcurrentLimboResolutions;){const t=u.mc.values().next().value;u.mc.delete(t);const o=new on(Xn.fromString(t)),c=u.Ac.next();u.yc.set(c,new vp(o)),u.gc=u.gc.insert(o,c),mp(u.remoteStore,new tl(P(tu(o.path)),c,"TargetPurposeLimboResolution",fe.ct))}}function Ql(u,t,o){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,w.Z)(function*(u,t,o){const c=rn(u),p=[],y=[],I=[];var O;c.wc.isEmpty()||(c.wc.forEach((O,$)=>{I.push(c.Rc($,t,o).then(Z=>{if((Z||o)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState($.targetId,Z?.fromCache?"not-current":"current"),Z){p.push(Z);const ae=Wi.Li($.targetId,Z);y.push(ae)}}))}),yield Promise.all(I),c.dc.nu(p),yield(O=(0,w.Z)(function*($,Z){const ae=rn($);try{yield ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>ot.forEach(Z,rt=>ot.forEach(rt.Fi,Ct=>ae.persistence.referenceDelegate.addReference(Ce,rt.targetId,Ct)).next(()=>ot.forEach(rt.Bi,Ct=>ae.persistence.referenceDelegate.removeReference(Ce,rt.targetId,Ct)))))}catch(Ce){if(!bu(Ce))throw Ce;Lt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of Z){const rt=Ce.targetId;if(!Ce.fromCache){const Ct=ae.Ji.get(rt),En=Ct.withLastLimboFreeSnapshotVersion(Ct.snapshotVersion);ae.Ji=ae.Ji.insert(rt,En)}}}),function($,Z){return O.apply(this,arguments)})(c.localStore,y))}),Ym.apply(this,arguments)}function EI(u,t){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,w.Z)(function*(u,t){const o=rn(u);if(!o.currentUser.isEqual(t)){Lt("SyncEngine","User change. New user:",t.toKey());const c=yield Iy(o.localStore,t);o.currentUser=t,(p=o).Ec.forEach(I=>{I.forEach(O=>{O.reject(new At(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Ec.clear(),o.sharedClientState.handleUserChange(t,c.removedBatchIds,c.addedBatchIds),yield Ql(o,c.er)}var p}),Ps.apply(this,arguments)}function Mi(u,t){const o=rn(u),c=o.yc.get(t);if(c&&c.fc)return Ir().add(c.key);{let p=Ir();const y=o._c.get(t);if(!y)return p;for(const I of y){const O=o.wc.get(I);p=p.unionWith(O.view.nc)}return p}}function Fy(u,t){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,w.Z)(function*(u,t){const o=rn(u),c=yield hf(o.localStore,t.query,!0),p=t.view.hc(c);return o.isPrimaryClient&&kg(o,t.targetId,p.cc),p}),Lg.apply(this,arguments)}function Jm(u,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,w.Z)(function*(u,t){const o=rn(u);return Tc(o.localStore,t).then(c=>Ql(o,c))}),Fg.apply(this,arguments)}function aE(u,t,o,c){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,w.Z)(function*(u,t,o,c){const p=rn(u),y=yield function(I,O){const $=rn(I),Z=rn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",ae=>Z.Sn(ae,O).next(Ce=>Ce?$.localDocuments.getDocuments(ae,Ce):ot.resolve(null)))}(p.localStore,t);var O;null!==y?("pending"===o?yield Od(p.remoteStore):"acknowledged"===o||"rejected"===o?(Zm(p,t,c||null),Km(p,t),O=t,rn(rn(p.localStore).mutationQueue).Cn(O)):Yt(),yield Ql(p,y)):Lt("SyncEngine","Cannot apply mutation batch with id: "+t)}),Sr.apply(this,arguments)}function bp(){return bp=(0,w.Z)(function*(u,t){const o=rn(u);if(Sp(o),xp(o),!0===t&&!0!==o.vc){const c=o.sharedClientState.getAllActiveQueryTargets(),p=yield Rc(o,c.toArray());o.vc=!0,yield $m(o.remoteStore,!0);for(const y of p)mp(o.remoteStore,y)}else if(!1===t&&!1!==o.vc){const c=[];let p=Promise.resolve();o._c.forEach((y,I)=>{o.sharedClientState.isLocalQueryTarget(I)?c.push(I):p=p.then(()=>(Ah(o,I),es(o.localStore,I,!0))),Pd(o.remoteStore,I)}),yield p,yield Rc(o,c),function(y){const I=rn(y);I.yc.forEach((O,$)=>{Pd(I.remoteStore,$)}),I.Ic.Ts(),I.yc=new Map,I.gc=new yi(on.comparator)}(o),o.vc=!1,yield $m(o.remoteStore,!1)}}),bp.apply(this,arguments)}function Rc(u,t,o){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,w.Z)(function*(u,t,o){const c=rn(u),p=[],y=[];for(const I of t){let O;const $=c._c.get(I);if($&&0!==$.length){O=yield iu(c.localStore,P($[0]));for(const Z of $){const ae=c.wc.get(Z),Ce=yield Fy(c,ae);Ce.snapshot&&y.push(Ce.snapshot)}}else{const Z=yield cp(c.localStore,I);O=yield iu(c.localStore,Z),yield Mg(c,Cp(Z),I,!1,O.resumeToken)}p.push(O)}return c.dc.nu(y),p}),Sh.apply(this,arguments)}function Cp(u){return Wh(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function vf(u){const t=rn(u);return rn(rn(t.localStore).persistence).$i()}function Ef(u,t,o,c){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,w.Z)(function*(u,t,o,c){const p=rn(u);if(p.vc)return void Lt("SyncEngine","Ignoring unexpected query state notification.");const y=p._c.get(t);if(y&&y.length>0)switch(o){case"current":case"not-current":{const I=yield Tc(p.localStore,Nn(y[0])),O=ef.createSynthesizedRemoteEventForCurrentChange(t,"current"===o,_s.EMPTY_BYTE_STRING);yield Ql(p,I,O);break}case"rejected":yield es(p.localStore,t,!0),Ah(p,t,c);break;default:Yt()}}),Dp.apply(this,arguments)}function Ap(u,t,o){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,w.Z)(function*(u,t,o){const c=Sp(u);if(c.vc){for(const p of t){if(c._c.has(p)){Lt("SyncEngine","Adding an already active target "+p);continue}const y=yield cp(c.localStore,p),I=yield iu(c.localStore,y);yield Mg(c,Cp(y),I.targetId,!1,I.resumeToken),mp(c.remoteStore,I)}for(const p of o)c._c.has(p)&&(yield es(c.localStore,p,!1).then(()=>{Pd(c.remoteStore,p),Ah(c,p)}).catch(zn))}}),Xm.apply(this,arguments)}function Sp(u){const t=rn(u);return t.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mi.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lw.bind(null,t),t.dc.nu=ad.bind(null,t.eventManager),t.dc.Pc=nE.bind(null,t.eventManager),t}function xp(u){const t=rn(u);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Og.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sE.bind(null,t),t}class Rp{constructor(){this.synchronizeTabs=!1}initialize(t){var o=this;return(0,w.Z)(function*(){o.serializer=_h(t.databaseInfo.databaseId),o.sharedClientState=o.createSharedClientState(t),o.persistence=o.createPersistence(t),yield o.persistence.start(),o.localStore=o.createLocalStore(t),o.gcScheduler=o.createGarbageCollectionScheduler(t,o.localStore),o.indexBackfillerScheduler=o.createIndexBackfillerScheduler(t,o.localStore)})()}createGarbageCollectionScheduler(t,o){return null}createIndexBackfillerScheduler(t,o){return null}createLocalStore(t){return Pi(this.persistence,new lp,t.initialUser,this.serializer)}createPersistence(t){return new km(ap.zs,this.serializer)}createSharedClientState(t){return new xd}terminate(){var t=this;return(0,w.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class jy extends Rp{constructor(t,o,c){super(),this.Vc=t,this.cacheSizeBytes=o,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(t){var o=()=>super.initialize,c=this;return(0,w.Z)(function*(){yield o().call(c,t),yield c.Vc.initialize(c,t),yield xp(c.Vc.syncEngine),yield Od(c.Vc.remoteStore),yield c.persistence.Ii(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Pi(this.persistence,new lp,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,o){return new sp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,o)}createIndexBackfillerScheduler(t,o){const c=new se(o,this.persistence);return new z(t.asyncQueue,c)}createPersistence(t){const o=Lm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new Ks(this.synchronizeTabs,o,t.clientId,c,t.asyncQueue,mh(),oo(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new xd}}class e_ extends jy{constructor(t,o){super(t,o,!1),this.Vc=t,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(t){var o=()=>super.initialize,c=this;return(0,w.Z)(function*(){yield o().call(c,t);const p=c.Vc.syncEngine;c.sharedClientState instanceof Vm&&(c.sharedClientState.syncEngine={jr:aE.bind(null,p),zr:Ef.bind(null,p),Wr:Ap.bind(null,p),$i:vf.bind(null,p),Qr:Jm.bind(null,p)},yield c.sharedClientState.start()),yield c.persistence.Ii(function(){var y=(0,w.Z)(function*(I){yield function Vy(u,t){return bp.apply(this,arguments)}(c.Vc.syncEngine,I),c.gcScheduler&&(I&&!c.gcScheduler.started?c.gcScheduler.start():I||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(I&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():I||c.indexBackfillerScheduler.stop())});return function(I){return y.apply(this,arguments)}}())})()}createSharedClientState(t){const o=mh();if(!Vm.D(o))throw new At(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Lm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Vm(o,t.asyncQueue,c,t.clientId,t.initialUser)}}class Pc{initialize(t,o){var c=this;return(0,w.Z)(function*(){c.localStore||(c.localStore=t.localStore,c.sharedClientState=t.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!t.synchronizeTabs),c.sharedClientState.onlineStateHandler=p=>Ep(c.syncEngine,p,1),c.remoteStore.remoteSyncer.handleCredentialChange=EI.bind(null,c.syncEngine),yield $m(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(t){return new yf}createDatastore(t){const o=_h(t.databaseInfo.databaseId),c=new Dg(t.databaseInfo);return new gp(t.authCredentials,t.appCheckCredentials,c,o)}createRemoteStore(t){return o=this.localStore,c=this.datastore,p=t.asyncQueue,y=O=>Ep(this.syncEngine,O,0),I=Cg.D()?new Cg:new Kv,new ji(o,c,p,y,I);var o,c,p,y,I}createSyncEngine(t,o){return function(c,p,y,I,O,$,Z){const ae=new bh(c,p,y,I,O,$);return Z&&(ae.vc=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,o)}terminate(){return(t=(0,w.Z)(function*(o){const c=rn(o);Lt("RemoteStore","RemoteStore shutting down."),c.vu.add(5),yield vh(c),c.Pu.shutdown(),c.bu.set("Unknown")}),function(o){return t.apply(this,arguments)})(this.remoteStore);var t}}function t_(u,t=10240){let o=0;return{read:()=>(0,w.Z)(function*(){if(o<u.byteLength){const c={value:u.slice(o,o+t),done:!1};return o+=t,c}return{done:!0}})(),cancel:()=>(0,w.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class n_{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Zr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,o){this.muted||setTimeout(()=>{this.muted||t(o)},0)}}class go{constructor(t,o){this.Cc=t,this.serializer=o,this.metadata=new ds,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(c=>{c&&c.Qu()?this.metadata.resolve(c.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.Gu)}`))},c=>this.metadata.reject(c))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,w.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,w.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,w.Z)(function*(){const o=yield t.kc();if(null===o)return null;const c=t.xc.decode(o),p=Number(c);isNaN(p)&&t.Mc(`length string (${c}) is not valid number`);const y=yield t.$c(p);return new So(JSON.parse(y),o.length+p)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,w.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const o=t.Oc();o<0&&t.Mc("Reached the end of bundle when a length string is expected.");const c=t.buffer.slice(0,o);return t.buffer=t.buffer.slice(o),c})()}$c(t){var o=this;return(0,w.Z)(function*(){for(;o.buffer.length<t;)(yield o.Fc())&&o.Mc("Reached the end of bundle when more is expected.");const c=o.xc.decode(o.buffer.slice(0,t));return o.buffer=o.buffer.slice(t),c})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,w.Z)(function*(){const o=yield t.Cc.read();if(!o.done){const c=new Uint8Array(t.buffer.length+o.value.length);c.set(t.buffer),c.set(o.value,t.buffer.length),t.buffer=c}return o.done})()}}class Hy{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var o=this;return(0,w.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new At(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(p=(0,w.Z)(function*(y,I){const O=rn(y),$=Cl(O.serializer)+"/documents",Z={documents:I.map(Ct=>Yc(O.serializer,Ct))},ae=yield O.vo("BatchGetDocuments",$,Z,I.length),Ce=new Map;ae.forEach(Ct=>{const Zt=function nf(u,t){return"found"in t?function(o,c){vn(!!c.found);const p=Su(o,c.found.name),y=Es(c.found.updateTime),I=c.found.createTime?Es(c.found.createTime):On.min(),O=new bo({mapValue:{fields:c.found.fields}});return Ni.newFoundDocument(p,y,I,O)}(u,t):"missing"in t?function(o,c){vn(!!c.missing),vn(!!c.readTime);const p=Su(o,c.missing),y=Es(c.readTime);return Ni.newNoDocument(p,y)}(u,t):Yt()}(O.serializer,Ct);Ce.set(Zt.key.toString(),Zt)});const rt=[];return I.forEach(Ct=>{const Zt=Ce.get(Ct.toString());vn(!!Zt),rt.push(Zt)}),rt}),function(y,I){return p.apply(this,arguments)})(o.datastore,t);var p;return c.forEach(p=>o.recordVersion(p)),c})()}set(t,o){this.write(o.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,o){try{this.write(o.toMutation(t,this.preconditionForUpdate(t)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(t.toString())}delete(t){this.write(new Yh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,w.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const o=t.readVersions;var c;t.mutations.forEach(c=>{o.delete(c.key.toString())}),o.forEach((c,p)=>{const y=on.fromPath(p);t.mutations.push(new iy(y,t.precondition(y)))}),yield(c=(0,w.Z)(function*(p,y){const I=rn(p),O=Cl(I.serializer)+"/documents",$={writes:y.map(Z=>Jc(I.serializer,Z))};yield I.Io("Commit",O,$)}),function(p,y){return c.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let o;if(t.isFoundDocument())o=t.version;else{if(!t.isNoDocument())throw Yt();o=On.min()}const c=this.readVersions.get(t.key.toString());if(c){if(!o.isEqual(c))throw new At(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),o)}precondition(t){const o=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&o?o.isEqual(On.min())?is.exists(!1):is.updateTime(o):is.none()}preconditionForUpdate(t){const o=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&o){if(o.isEqual(On.min()))throw new At(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return is.updateTime(o)}return is.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class uE{constructor(t,o,c,p,y){this.asyncQueue=t,this.datastore=o,this.options=c,this.updateFunction=p,this.deferred=y,this.Bc=c.maxAttempts,this.qo=new Ki(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,w.Z)(function*(){const o=new Hy(t.datastore),c=t.qc(o);c&&c.then(p=>{t.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{t.deferred.resolve(p)}).catch(y=>{t.Uc(y)}))}).catch(p=>{t.Uc(p)})}))}qc(t){try{const o=this.updateFunction(t);return!Ze(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const o=t.code;return"aborted"===o||"failed-precondition"===o||"already-exists"===o||!ug(o)}return!1}}class Pp{constructor(t,o,c,p){var y=this;this.authCredentials=t,this.appCheckCredentials=o,this.asyncQueue=c,this.databaseInfo=p,this.user=pn.UNAUTHENTICATED,this.clientId=Rs.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var I=(0,w.Z)(function*(O){Lt("FirestoreClient","Received user=",O.uid),yield y.authCredentialListener(O),y.user=O});return function(O){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(c,I=>(Lt("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var t=this;return(0,w.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new At(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const o=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),o.resolve()}catch(c){const p=su(c,"Failed to shutdown persistence");o.reject(p)}})),o.promise}}function il(u,t){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,w.Z)(function*(u,t){u.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const o=yield u.getConfiguration();yield t.initialize(o);let c=o.initialUser;u.setCredentialChangeListener(function(){var p=(0,w.Z)(function*(y){c.isEqual(y)||(yield Iy(t.localStore,y),c=y)});return function(y){return p.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=t}),Vg.apply(this,arguments)}function r_(u,t){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,w.Z)(function*(u,t){u.asyncQueue.verifyOperationInProgress();const o=yield i_(u);Lt("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield t.initialize(o,c),u.setCredentialChangeListener(p=>Rg(t.remoteStore,p)),u.setAppCheckTokenChangeListener((p,y)=>Rg(t.remoteStore,y)),u._onlineComponents=t}),Qo.apply(this,arguments)}function $y(u){return"FirebaseError"===u.name?u.code===ht.FAILED_PRECONDITION||u.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code}function i_(u){return zy.apply(this,arguments)}function zy(){return zy=(0,w.Z)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){Lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield il(u,u._uninitializedComponentsProvider._offline)}catch(t){const o=t;if(!$y(o))throw o;Vi("Error using user provided cache. Falling back to memory cache: "+o),yield il(u,new Rp)}}else Lt("FirestoreClient","Using default OfflineComponentProvider"),yield il(u,new Rp);return u._offlineComponents}),zy.apply(this,arguments)}function Mp(u){return s_.apply(this,arguments)}function s_(){return s_=(0,w.Z)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(Lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield r_(u,u._uninitializedComponentsProvider._online)):(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield r_(u,new Pc))),u._onlineComponents}),s_.apply(this,arguments)}function Op(u){return i_(u).then(t=>t.persistence)}function Np(u){return i_(u).then(t=>t.localStore)}function lE(u){return Mp(u).then(t=>t.remoteStore)}function Ug(u){return Mp(u).then(t=>t.syncEngine)}function wf(u){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,w.Z)(function*(u){const t=yield Mp(u),o=t.eventManager;return o.onListen=ky.bind(null,t.syncEngine),o.onUnlisten=Ly.bind(null,t.syncEngine),o}),Bg.apply(this,arguments)}function dE(u,t,o={}){const c=new ds;return u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(p,y,I,O,$){const Z=new n_({next:Ce=>{y.enqueueAndForget(()=>Gm(p,ae));const rt=Ce.docs.has(I);!rt&&Ce.fromCache?$.reject(new At(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&Ce.fromCache&&O&&"server"===O.source?$.reject(new At(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Ce)},error:Ce=>$.reject(Ce)}),ae=new rE(tu(I.path),Z,{includeMetadataChanges:!0,Ku:!0});return zm(p,ae)}(yield wf(u),u.asyncQueue,t,o,c)})),c.promise}function ou(u,t,o={}){const c=new ds;return u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(p,y,I,O,$){const Z=new n_({next:Ce=>{y.enqueueAndForget(()=>Gm(p,ae)),Ce.fromCache&&"server"===O.source?$.reject(new At(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Ce)},error:Ce=>$.reject(Ce)}),ae=new rE(I,Z,{includeMetadataChanges:!0,Ku:!0});return zm(p,ae)}(yield wf(u),u.asyncQueue,t,o,c)})),c.promise}function u_(u){const t={};return void 0!==u.timeoutSeconds&&(t.timeoutSeconds=u.timeoutSeconds),t}const qy=new Map;function If(u,t,o){if(!o)throw new At(ht.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${t}.`)}function Tf(u,t,o,c){if(!0===t&&!0===c)throw new At(ht.INVALID_ARGUMENT,`${u} and ${o} cannot be used together.`)}function bf(u){if(!on.isDocumentKey(u))throw new At(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function jd(u){if(on.isDocumentKey(u))throw new At(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Mc(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const t=(o=u).constructor?o.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var o;return"function"==typeof u?"a function":Yt()}function Qr(u,t){if("_delegate"in u&&(u=u._delegate),!(u instanceof t)){if(t.name===u.constructor.name)throw new At(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Mc(u);throw new At(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${o}`)}}return u}function l_(u,t){if(t<=0)throw new At(ht.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${t}.`)}class kp{constructor(t){var o,c;if(void 0===t.host){if(void 0!==t.ssl)throw new At(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(o=t.ssl)||void 0===o||o;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new At(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Tf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=u_(null!==(c=t.experimentalLongPollingOptions)&&void 0!==c?c:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new At(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new At(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new At(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pu{constructor(t,o,c,p){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=c,this._app=p,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new At(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new At(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(t),void 0!==t.credentials&&(this._authCredentials=function(o){if(!o)return new Za;switch(o.type){case"firstParty":return new ju(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new At(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=qy.get(t);o&&(Lt("ComponentProvider","Removing Datastore"),qy.delete(t),o.terminate())}(this),Promise.resolve()}}function Wy(u,t,o,c={}){var p;const y=(u=Qr(u,Pu))._getSettings(),I=`${t}:${o}`;if("firestore.googleapis.com"!==y.host&&y.host!==I&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},y),{host:I,ssl:!1})),c.mockUserToken){let O,$;if("string"==typeof c.mockUserToken)O=c.mockUserToken,$=pn.MOCK_USER;else{O=(0,m.Sg)(c.mockUserToken,null===(p=u._app)||void 0===p?void 0:p.options.projectId);const Z=c.mockUserToken.sub||c.mockUserToken.user_id;if(!Z)throw new At(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new pn(Z)}u._authCredentials=new vo(new Bh(O,$))}}class Qs{constructor(t,o,c){this.converter=o,this._key=c,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qs(this.firestore,t,this._key)}}class Yo{constructor(t,o,c){this.converter=o,this._query=c,this.type="query",this.firestore=t}withConverter(t){return new Yo(this.firestore,t,this._query)}}class Oc extends Yo{constructor(t,o,c){super(t,o,tu(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qs(this.firestore,null,new on(t))}withConverter(t){return new Oc(this.firestore,t,this._path)}}function Ky(u,t,...o){if(u=(0,m.m9)(u),If("collection","path",t),u instanceof Pu){const c=Xn.fromString(t,...o);return jd(c),new Oc(u,null,c)}{if(!(u instanceof Qs||u instanceof Oc))throw new At(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(Xn.fromString(t,...o));return jd(c),new Oc(u.firestore,null,c)}}function c_(u,t){if(u=Qr(u,Pu),If("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new At(ht.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yo(u,null,(o=t,new Ko(Xn.emptyPath(),o)));var o}function Hd(u,t,...o){if(u=(0,m.m9)(u),1===arguments.length&&(t=Rs.A()),If("doc","path",t),u instanceof Pu){const c=Xn.fromString(t,...o);return bf(c),new Qs(u,null,new on(c))}{if(!(u instanceof Qs||u instanceof Oc))throw new At(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(Xn.fromString(t,...o));return bf(c),new Qs(u.firestore,u instanceof Oc?u.converter:null,new on(c))}}function Nc(u,t){return u=(0,m.m9)(u),t=(0,m.m9)(t),(u instanceof Qs||u instanceof Oc)&&(t instanceof Qs||t instanceof Oc)&&u.firestore===t.firestore&&u.path===t.path&&u.converter===t.converter}function d_(u,t){return u=(0,m.m9)(u),t=(0,m.m9)(t),u instanceof Yo&&t instanceof Yo&&u.firestore===t.firestore&&He(u._query,t._query)&&u.converter===t.converter}class jg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ki(this,"async_queue_retry"),this.Xc=()=>{const o=oo();o&&Lt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.qo.Mo()};const t=oo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const o=oo();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const o=new ds;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,w.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(o){if(!bu(o))throw o;Lt("AsyncQueue","Operation failed with retryable error: "+o)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const o=this.Gc.then(()=>(this.Hc=!0,t().catch(c=>{throw this.Wc=c,this.Hc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(y){let I=y.message||"";return y.stack&&(I=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),I}(c)),c}).then(c=>(this.Hc=!1,c))));return this.Gc=o,o}enqueueAfterDelay(t,o,c){this.Zc(),this.Yc.indexOf(t)>-1&&(o=0);const p=Pg.createAndSchedule(this,t,o,c,y=>this.na(y));return this.zc.push(p),p}Zc(){this.Wc&&Yt()}verifyOperationInProgress(){}sa(){var t=this;return(0,w.Z)(function*(){let o;do{o=t.Gc,yield o}while(o!==t.Gc)})()}ia(t){for(const o of this.zc)if(o.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((o,c)=>o.targetTimeMs-c.targetTimeMs);for(const o of this.zc)if(o.skipDelay(),"all"!==t&&o.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const o=this.zc.indexOf(t);this.zc.splice(o,1)}}function hE(u){return function(t,o){if("object"!=typeof t||null===t)return!1;const c=t;for(const p of["next","error","complete"])if(p in c&&"function"==typeof c[p])return!0;return!1}(u)}class Bw{constructor(){this._progressObserver={},this._taskCompletionResolver=new ds,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,o,c){this._progressObserver={next:t,error:o,complete:c}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,o){return this._taskCompletionResolver.promise.then(t,o)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}const fE=-1;class Zi extends Pu{constructor(t,o,c,p){super(t,o,c,p),this.type="firestore",this._queue=new jg,this._persistenceKey=p?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||h_(this),this._firestoreClient.terminate()}}function Rh(u,t){const o="object"==typeof u?u:(0,ie.getApp)(),c="string"==typeof u?u:t||"(default)",p=(0,ie._getProvider)(o,"firestore").getImmediate({identifier:c});if(!p._initialized){const y=(0,m.P0)("firestore");y&&Wy(p,...y)}return p}function Ys(u){return u._firestoreClient||h_(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function h_(u){var t,o,c;const p=u._freezeSettings(),y=(O=(null===(t=u._app)||void 0===t?void 0:t.options.appId)||"",new zo(u._databaseId,O,u._persistenceKey,(Z=p).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,u_(Z.experimentalLongPollingOptions),Z.useFetchStreams));var O,Z;u._firestoreClient=new Pp(u._authCredentials,u._appCheckCredentials,u._queue,y),null!==(o=p.cache)&&void 0!==o&&o._offlineComponentProvider&&null!==(c=p.cache)&&void 0!==c&&c._onlineComponentProvider&&(u._firestoreClient._uninitializedComponentsProvider={_offlineKind:p.cache.kind,_offline:p.cache._offlineComponentProvider,_online:p.cache._onlineComponentProvider})}function Fp(u,t){g_(u=Qr(u,Zi));const o=Ys(u);if(o._uninitializedComponentsProvider)throw new At(ht.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const c=u._freezeSettings(),p=new Pc;return Hg(o,p,new jy(p,c.cacheSizeBytes,t?.forceOwnership))}function jw(u){g_(u=Qr(u,Zi));const t=Ys(u);if(t._uninitializedComponentsProvider)throw new At(ht.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=u._freezeSettings(),c=new Pc;return Hg(t,c,new e_(c,o.cacheSizeBytes))}function Hg(u,t,o){const c=new ds;return u.asyncQueue.enqueue((0,w.Z)(function*(){try{yield il(u,o),yield r_(u,t),c.resolve()}catch(p){const y=p;if(!$y(y))throw y;Vi("Error enabling indexeddb cache. Falling back to memory cache: "+y),c.reject(y)}})).then(()=>c.promise)}function f_(u){if(u._initialized&&!u._terminated)throw new At(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ds;return u._queue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{yield(o=(0,w.Z)(function*(c){if(!lo.D())return Promise.resolve();const p=c+"main";yield lo.delete(p)}),function(c){return o.apply(this,arguments)})(Lm(u._databaseId,u._persistenceKey)),t.resolve()}catch(o){t.reject(o)}var o})),t.promise}function pE(u){return function(t){const o=new ds;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function Ip(u,t){return xc.apply(this,arguments)}(yield Ug(t),o)})),o.promise}(Ys(u=Qr(u,Zi)))}function Zy(u){return function cE(u){return u.asyncQueue.enqueue((0,w.Z)(function*(){const t=yield Op(u),o=yield lE(u);return t.setNetworkEnabled(!0),function(c){const p=rn(c);return p.vu.delete(0),Dc(p)}(o)}))}(Ys(u=Qr(u,Zi)))}function Cf(u){return function Fw(u){return u.asyncQueue.enqueue((0,w.Z)(function*(){const t=yield Op(u),o=yield lE(u);return t.setNetworkEnabled(!1),(c=(0,w.Z)(function*(p){const y=rn(p);y.vu.add(0),yield vh(y),y.bu.set("Offline")}),function(p){return c.apply(this,arguments)})(o);var c}))}(Ys(u=Qr(u,Zi)))}function p_(u,t){const o=Ys(u=Qr(u,Zi)),c=new Bw;return function Uw(u,t,o,c){const p=function(y,I){let O;return O="string"==typeof y?lg().encode(y):y,$=function($,Z){if($ instanceof Uint8Array)return t_($,Z);if($ instanceof ArrayBuffer)return t_(new Uint8Array($),Z);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new go($,I);var $}(o,_h(t));u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){!function Uy(u,t,o){const c=rn(u);var p;(p=(0,w.Z)(function*(y,I,O){try{const $=yield I.getMetadata();if(yield function(rt,Ct){const Zt=rn(rt),En=Es(Ct.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",Cn=>Zt.qs.getBundleMetadata(Cn,Ct.id)).then(Cn=>!!Cn&&Cn.createTime.compareTo(En)>=0)}(y.localStore,$))return yield I.close(),O._completeWith({taskState:"Success",documentsLoaded:(rt=$).totalDocuments,bytesLoaded:rt.totalBytes,totalDocuments:rt.totalDocuments,totalBytes:rt.totalBytes}),Promise.resolve(new Set);O._updateProgress(My($));const Z=new qm($,y.localStore,I.serializer);let ae=yield I.bc();for(;ae;){const rt=yield Z.zu(ae);rt&&O._updateProgress(rt),ae=yield I.bc()}const Ce=yield Z.complete();return yield Ql(y,Ce.Ju,void 0),yield function(rt,Ct){const Zt=rn(rt);return Zt.persistence.runTransaction("Save bundle","readwrite",En=>Zt.qs.saveBundleMetadata(En,Ct))}(y.localStore,$),O._completeWith(Ce.progress),Promise.resolve(Ce.Hu)}catch($){return Vi("SyncEngine",`Loading bundle failed with ${$}`),O._failWith($),Promise.resolve(new Set)}var rt}),function(y,I,O){return p.apply(this,arguments)})(c,t,o).then(p=>{c.sharedClientState.notifyBundleLoaded(p)})}(yield Ug(u),p,c)}))}(o,u._databaseId,t,c),c}function $w(u,t){return function Gy(u,t){return u.asyncQueue.enqueue((0,w.Z)(function*(){return function(o,c){const p=rn(o);return p.persistence.runTransaction("Get named query","readonly",y=>p.qs.getNamedQuery(y,c))}(yield Np(u),t)}))}(Ys(u=Qr(u,Zi)),t).then(o=>o?new Yo(u,null,o.query):null)}function g_(u){if(u._initialized||u._terminated)throw new At(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $d{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $d(_s.fromBase64String(t))}catch(o){throw new At(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new $d(_s.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rl{constructor(...t){for(let o=0;o<t.length;++o)if(0===t[o].length)throw new At(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sl{constructor(t){this._methodName=t}}class zg{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new At(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new At(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return or(this._lat,t._lat)||or(this._long,t._long)}}const Gg=/^__.*__$/;class au{constructor(t,o,c){this.data=t,this.fieldMask=o,this.fieldTransforms=c}toMutation(t,o){return null!==this.fieldMask?new Tl(t,this.data,this.fieldMask,o,this.fieldTransforms):new oh(t,this.data,o,this.fieldTransforms)}}class Qy{constructor(t,o,c){this.data=t,this.fieldMask=o,this.fieldTransforms=c}toMutation(t,o){return new Tl(t,this.data,this.fieldMask,o,this.fieldTransforms)}}function qg(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class Df{constructor(t,o,c,p,y,I){this.settings=t,this.databaseId=o,this.serializer=c,this.ignoreUndefinedProperties=p,void 0===y&&this.ua(),this.fieldTransforms=y||[],this.fieldMask=I||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new Df(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(t),p=this.aa({path:c,la:!1});return p.fa(t),p}da(t){var o;const c=null===(o=this.path)||void 0===o?void 0:o.child(t),p=this.aa({path:c,la:!1});return p.ua(),p}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return xf(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(o=>t.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>t.isPrefixOf(o.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(qg(this.ca)&&Gg.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class gE{constructor(t,o,c){this.databaseId=t,this.ignoreUndefinedProperties=o,this.serializer=c||_h(t)}ya(t,o,c,p=!1){return new Df({ca:t,methodName:o,ga:c,path:Mr.emptyPath(),la:!1,ma:p},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ol(u){const t=u._freezeSettings(),o=_h(u._databaseId);return new gE(u._databaseId,!!t.ignoreUndefinedProperties,o)}function zd(u,t,o,c,p,y={}){const I=u.ya(y.merge||y.mergeFields?2:0,t,o,p);Mu("Data must be an object, but it was:",I,c);const O=Kg(c,I);let $,Z;if(y.merge)$=new la(I.fieldMask),Z=I.fieldTransforms;else if(y.mergeFields){const ae=[];for(const Ce of y.mergeFields){const rt=Mh(t,Ce,o);if(!I.contains(rt))throw new At(ht.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);al(ae,rt)||ae.push(rt)}$=new la(ae),Z=I.fieldTransforms.filter(Ce=>$.covers(Ce.field))}else $=null,Z=I.fieldTransforms;return new au(new bo(O),$,Z)}class Af extends sl{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Af}}function Gd(u,t,o){return new Df({ca:3,ga:t.settings.ga,methodName:u._methodName,la:o},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Yy extends sl{_toFieldTransform(t){return new Hf(t.path,new Kh)}isEqual(t){return t instanceof Yy}}class Wg extends sl{constructor(t,o){super(t),this.pa=o}_toFieldTransform(t){const o=Gd(this,t,!0),c=this.pa.map(y=>Sf(y,o)),p=new Zh(c);return new Hf(t.path,p)}isEqual(t){return this===t}}class Jy extends sl{constructor(t,o){super(t),this.pa=o}_toFieldTransform(t){const o=Gd(this,t,!0),c=this.pa.map(y=>Sf(y,o)),p=new jf(c);return new Hf(t.path,p)}isEqual(t){return this===t}}class qd extends sl{constructor(t,o){super(t),this.Ia=o}_toFieldTransform(t){const o=new pc(t.serializer,ry(t.serializer,this.Ia));return new Hf(t.path,o)}isEqual(t){return this===t}}function Xy(u,t,o,c){const p=u.ya(1,t,o);Mu("Data must be an object, but it was:",p,c);const y=[],I=bo.empty();ua(c,($,Z)=>{const ae=kc(t,$,o);Z=(0,m.m9)(Z);const Ce=p.da(ae);if(Z instanceof Af)y.push(ae);else{const rt=Sf(Z,Ce);null!=rt&&(y.push(ae),I.set(ae,rt))}});const O=new la(y);return new Qy(I,O,p.fieldTransforms)}function Vp(u,t,o,c,p,y){const I=u.ya(1,t,o),O=[Mh(t,c,o)],$=[p];if(y.length%2!=0)throw new At(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<y.length;rt+=2)O.push(Mh(t,y[rt])),$.push(y[rt+1]);const Z=[],ae=bo.empty();for(let rt=O.length-1;rt>=0;--rt)if(!al(Z,O[rt])){const Ct=O[rt];let Zt=$[rt];Zt=(0,m.m9)(Zt);const En=I.da(Ct);if(Zt instanceof Af)Z.push(Ct);else{const Cn=Sf(Zt,En);null!=Cn&&(Z.push(Ct),ae.set(Ct,Cn))}}const Ce=new la(Z);return new Qy(ae,Ce,I.fieldTransforms)}function ev(u,t,o,c=!1){return Sf(o,u.ya(c?4:3,t))}function Sf(u,t){if(mE(u=(0,m.m9)(u)))return Mu("Unsupported field value:",t,u),Kg(u,t);if(u instanceof sl)return function(o,c){if(!qg(c.ca))throw c._a(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c._a(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(c);p&&c.fieldTransforms.push(p)}(u,t),null;if(void 0===u&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),u instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(o,c){const p=[];let y=0;for(const I of o){let O=Sf(I,c.wa(y));null==O&&(O={nullValue:"NULL_VALUE"}),p.push(O),y++}return{arrayValue:{values:p}}}(u,t)}return function(o,c){if(null===(o=(0,m.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return ry(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=bi.fromDate(o);return{timestampValue:Cd(c.serializer,p)}}if(o instanceof bi){const p=new bi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Cd(c.serializer,p)}}if(o instanceof zg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof $d)return{bytesValue:Ui(c.serializer,o._byteString)};if(o instanceof Qs){const p=c.databaseId,y=o.firestore._databaseId;if(!y.isEqual(p))throw c._a(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:bl(o.firestore._databaseId||c.databaseId,o._key.path)}}throw c._a(`Unsupported field value: ${Mc(o)}`)}(u,t)}function Kg(u,t){const o={};return $h(u)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ua(u,(c,p)=>{const y=Sf(p,t.ha(c));null!=y&&(o[c]=y)}),{mapValue:{fields:o}}}function mE(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof bi||u instanceof zg||u instanceof $d||u instanceof Qs||u instanceof sl)}function Mu(u,t,o){if(!mE(o)||"object"!=typeof(c=o)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Mc(o);throw t._a("an object"===c?u+" a custom object":u+" "+c)}var c}function Mh(u,t,o){if((t=(0,m.m9)(t))instanceof Rl)return t._internalPath;if("string"==typeof t)return kc(u,t);throw xf("Field path arguments must be of type string or ",u,!1,void 0,o)}const uu=new RegExp("[~\\*/\\[\\]]");function kc(u,t,o){if(t.search(uu)>=0)throw xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,o);try{return new Rl(...t.split("."))._internalPath}catch{throw xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,o)}}function xf(u,t,o,c,p){const y=c&&!c.isEmpty(),I=void 0!==p;let O=`Function ${t}() called with invalid data`;o&&(O+=" (via `toFirestore()`)"),O+=". ";let $="";return(y||I)&&($+=" (found",y&&($+=` in field ${c}`),I&&($+=` in document ${p}`),$+=")"),new At(ht.INVALID_ARGUMENT,O+u+$)}function al(u,t){return u.some(o=>o.isEqual(t))}class Pl{constructor(t,o,c,p,y){this._firestore=t,this._userDataWriter=o,this._key=c,this._document=p,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new Qs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const o=this._document.data.field(cd("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o)}}}class ld extends Pl{data(){return super.data()}}function cd(u,t){return"string"==typeof t?kc(u,t):t instanceof Rl?t._internalPath:t._delegate._internalPath}function Oh(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new At(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nh{}class Lc extends Nh{}function Up(u,t,...o){let c=[];t instanceof Nh&&c.push(t),c=c.concat(o),function(p){const y=p.filter(O=>O instanceof os).length,I=p.filter(O=>O instanceof dd).length;if(y>1||y>0&&I>0)throw new At(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const p of c)u=p._apply(u);return u}class dd extends Lc{constructor(t,o,c){super(),this._field=t,this._op=o,this._value=c,this.type="where"}static _create(t,o,c){return new dd(t,o,c)}_apply(t){const o=this._parse(t);return wE(t._query,o),new Yo(t.firestore,t.converter,J(t._query,o))}_parse(t){const o=ol(t.firestore);return function(p,y,I,O,$,Z,ae){let Ce;if($.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new At(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){tv(ae,Z);const rt=[];for(const Ct of ae)rt.push(v_(O,p,Ct));Ce={arrayValue:{values:rt}}}else Ce=v_(O,p,ae)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||tv(ae,Z),Ce=ev(I,"where",ae,"in"===Z||"not-in"===Z);return he.create($,Z,Ce)}(t._query,0,o,t.firestore._databaseId,this._field,this._op,this._value)}}function kh(u,t,o){const c=t,p=cd("where",u);return dd._create(p,c,o)}class os extends Nh{constructor(t,o){super(),this.type=t,this._queryConstraints=o}static _create(t,o){return new os(t,o)}_parse(t){const o=this._queryConstraints.map(c=>c._parse(t)).filter(c=>c.getFilters().length>0);return 1===o.length?o[0]:Te.create(o,this._getOperator())}_apply(t){const o=this._parse(t);return 0===o.getFilters().length?t:(function(c,p){let y=c;const I=p.getFlattenedFilters();for(const O of I)wE(y,O),y=J(y,O)}(t._query,o),new Yo(t.firestore,t.converter,J(t._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class m_ extends Lc{constructor(t,o){super(),this._field=t,this._direction=o,this.type="orderBy"}static _create(t,o){return new m_(t,o)}_apply(t){const o=function(c,p,y){if(null!==c.startAt)throw new At(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new At(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new R(p,y);return function(O,$){if(null===Em(O)){const Z=S(O);null!==Z&&IE(0,Z,$.field)}}(c,I),I}(t._query,this._field,this._direction);return new Yo(t.firestore,t.converter,function(c,p){const y=c.explicitOrderBy.concat([p]);return new Ko(c.path,c.collectionGroup,y,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,o))}}function _E(u,t="asc"){const o=t,c=cd("orderBy",u);return m_._create(c,o)}class Rf extends Lc{constructor(t,o,c){super(),this.type=t,this._limit=o,this._limitType=c}static _create(t,o,c){return new Rf(t,o,c)}_apply(t){return new Yo(t.firestore,t.converter,oe(t._query,this._limit,this._limitType))}}function yE(u){return l_("limit",u),Rf._create("limit",u,"F")}function Zg(u){return l_("limitToLast",u),Rf._create("limitToLast",u,"L")}class Lh extends Lc{constructor(t,o,c){super(),this.type=t,this._docOrFields=o,this._inclusive=c}static _create(t,o,c){return new Lh(t,o,c)}_apply(t){const o=Qg(t,this.type,this._docOrFields,this._inclusive);return new Yo(t.firestore,t.converter,(p=o,new Ko((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,p,c.endAt)));var c,p}}function vE(...u){return Lh._create("startAt",u,!0)}function __(...u){return Lh._create("startAfter",u,!1)}class Bp extends Lc{constructor(t,o,c){super(),this.type=t,this._docOrFields=o,this._inclusive=c}static _create(t,o,c){return new Bp(t,o,c)}_apply(t){const o=Qg(t,this.type,this._docOrFields,this._inclusive);return new Yo(t.firestore,t.converter,(p=o,new Ko((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,p)));var c,p}}function EE(...u){return Bp._create("endBefore",u,!1)}function y_(...u){return Bp._create("endAt",u,!0)}function Qg(u,t,o,c){if(o[0]=(0,m.m9)(o[0]),o[0]instanceof Pl)return function(p,y,I,O,$){if(!O)throw new At(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const Z=[];for(const ae of T(p))if(ae.field.isKeyField())Z.push(Wc(y,O.key));else{const Ce=O.data.field(ae.field);if(ys(Ce))throw new At(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const rt=ae.field.canonicalString();throw new At(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}Z.push(Ce)}return new Da(Z,$)}(u._query,u.firestore._databaseId,t,o[0]._document,c);{const p=ol(u.firestore);return function(y,I,O,$,Z,ae){const Ce=y.explicitOrderBy;if(Z.length>Ce.length)throw new At(ht.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let Ct=0;Ct<Z.length;Ct++){const Zt=Z[Ct];if(Ce[Ct].field.isKeyField()){if("string"!=typeof Zt)throw new At(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Zt}`);if(!E(y)&&-1!==Zt.indexOf("/"))throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Zt}' contains a slash.`);const En=y.path.child(Xn.fromString(Zt));if(!on.isDocumentKey(En))throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const Cn=new on(En);rt.push(Wc(I,Cn))}else{const En=ev(O,$,Zt);rt.push(En)}}return new Da(rt,ae)}(u._query,u.firestore._databaseId,p,t,o,c)}}function v_(u,t,o){if("string"==typeof(o=(0,m.m9)(o))){if(""===o)throw new At(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E(t)&&-1!==o.indexOf("/"))throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const c=t.path.child(Xn.fromString(o));if(!on.isDocumentKey(c))throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return Wc(u,new on(c))}if(o instanceof Qs)return Wc(u,o._key);throw new At(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(o)}.`)}function tv(u,t){if(!Array.isArray(u)||0===u.length)throw new At(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function wE(u,t){if(t.isInequality()){const c=S(u),p=t.field;if(null!==c&&!c.isEqual(p))throw new At(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${p.toString()}'`);const y=Em(u);null!==y&&IE(0,p,y)}const o=function(c,p){for(const y of c)for(const I of y.getFlattenedFilters())if(p.indexOf(I.op)>=0)return I.op;return null}(u.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw new At(ht.INVALID_ARGUMENT,o===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${o.toString()}' filters.`)}function IE(u,t,o){if(!o.isEqual(t))throw new At(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class E_{convertValue(t,o="none"){switch(Xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,o);case 5:return t.stringValue;case 6:return this.convertBytes(qu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,o);case 10:return this.convertObject(t.mapValue,o);default:throw Yt()}}convertObject(t,o){return this.convertObjectMap(t.fields,o)}convertObjectMap(t,o="none"){const c={};return ua(t,(p,y)=>{c[p]=this.convertValue(y,o)}),c}convertGeoPoint(t){return new zg(Ri(t.latitude),Ri(t.longitude))}convertArray(t,o){return(t.values||[]).map(c=>this.convertValue(c,o))}convertServerTimestamp(t,o){switch(o){case"previous":const c=vs(t);return null==c?null:this.convertValue(c,o);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const o=Ja(t);return new bi(o.seconds,o.nanos)}convertDocumentKey(t,o){const c=Xn.fromString(t);vn(fo(c));const p=new Wu(c.get(1),c.get(3)),y=new on(c.popFirst(5));return p.isEqual(o)||Zr(`Document ${y} contains a document reference within a different database (${p.projectId}/${p.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),y}}function Yg(u,t,o){let c;return c=u?o&&(o.merge||o.mergeFields)?u.toFirestore(t,o):u.toFirestore(t):t,c}class Jg extends E_{constructor(t){super(),this.firestore=t}convertBytes(t){return new $d(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new Qs(this.firestore,null,o)}}class Ml{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yl extends Pl{constructor(t,o,c,p,y,I){super(t,o,c,p,I),this._firestore=t,this._firestoreImpl=t,this.metadata=y}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const o=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){const c=this._document.data.field(cd("DocumentSnapshot.get",t));if(null!==c)return this._userDataWriter.convertValue(c,o.serverTimestamps)}}}class Fc extends Yl{data(t={}){return super.data(t)}}class hd{constructor(t,o,c,p){this._firestore=t,this._userDataWriter=o,this._snapshot=p,this.metadata=new Ml(p.hasPendingWrites,p.fromCache),this.query=c}get docs(){const t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,o){this._snapshot.docs.forEach(c=>{t.call(o,new Fc(this._firestore,this._userDataWriter,c.key,c,new Ml(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new At(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(c,p){if(c._snapshot.oldDocs.isEmpty()){let y=0;return c._snapshot.docChanges.map(I=>({type:"added",doc:new Fc(c._firestore,c._userDataWriter,I.doc.key,I.doc,new Ml(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:y++}))}{let y=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(I=>p||3!==I.type).map(I=>{const O=new Fc(c._firestore,c._userDataWriter,I.doc.key,I.doc,new Ml(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter);let $=-1,Z=-1;return 0!==I.type&&($=y.indexOf(I.doc.key),y=y.delete(I.doc.key)),1!==I.type&&(y=y.add(I.doc),Z=y.indexOf(I.doc.key)),{type:CE(I.type),doc:O,oldIndex:$,newIndex:Z}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function CE(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function DE(u,t){return u instanceof Yl&&t instanceof Yl?u._firestore===t._firestore&&u._key.isEqual(t._key)&&(null===u._document?null===t._document:u._document.isEqual(t._document))&&u._converter===t._converter:u instanceof hd&&t instanceof hd&&u._firestore===t._firestore&&d_(u.query,t.query)&&u.metadata.isEqual(t.metadata)&&u._snapshot.isEqual(t._snapshot)}function AE(u){u=Qr(u,Qs);const t=Qr(u.firestore,Zi);return dE(Ys(t),u._key).then(o=>em(t,u,o))}class fd extends E_{constructor(t){super(),this.firestore=t}convertBytes(t){return new $d(t)}convertReference(t){const o=this.convertDocumentKey(t,this.firestore._databaseId);return new Qs(this.firestore,null,o)}}function jp(u){u=Qr(u,Qs);const t=Qr(u.firestore,Zi),o=Ys(t),c=new fd(t);return function Vw(u,t){const o=new ds;return u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(c=(0,w.Z)(function*(p,y,I){try{const O=yield function($,Z){const ae=rn($);return ae.persistence.runTransaction("read document","readonly",Ce=>ae.localDocuments.getDocument(Ce,Z))}(p,y);O.isFoundDocument()?I.resolve(O):O.isNoDocument()?I.resolve(null):I.reject(new At(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const $=su(O,`Failed to get document '${y} from cache`);I.reject($)}}),function(p,y,I){return c.apply(this,arguments)})(yield Np(u),t,o);var c})),o.promise}(o,u._key).then(p=>new Yl(t,c,u._key,p,new Ml(null!==p&&p.hasLocalMutations,!0),u.converter))}function b_(u){u=Qr(u,Qs);const t=Qr(u.firestore,Zi);return dE(Ys(t),u._key,{source:"server"}).then(o=>em(t,u,o))}function SE(u){u=Qr(u,Yo);const t=Qr(u.firestore,Zi),o=Ys(t),c=new fd(t);return Oh(u._query),ou(o,u._query).then(p=>new hd(t,c,u,p))}function xE(u){u=Qr(u,Yo);const t=Qr(u.firestore,Zi),o=Ys(t),c=new fd(t);return function xh(u,t){const o=new ds;return u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(c=(0,w.Z)(function*(p,y,I){try{const O=yield hf(p,y,!0),$=new Oy(y,O.ir),Z=$.sc(O.documents),ae=$.applyChanges(Z,!1);I.resolve(ae.snapshot)}catch(O){const $=su(O,`Failed to execute query '${y} against cache`);I.reject($)}}),function(p,y,I){return c.apply(this,arguments)})(yield Np(u),t,o);var c})),o.promise}(o,u._query).then(p=>new hd(t,c,u,p))}function RE(u){u=Qr(u,Yo);const t=Qr(u.firestore,Zi),o=Ys(t),c=new fd(t);return ou(o,u._query,{source:"server"}).then(p=>new hd(t,c,u,p))}function Xg(u,t,o){u=Qr(u,Qs);const c=Qr(u.firestore,Zi),p=Yg(u.converter,t,o);return Wd(c,[zd(ol(c),"setDoc",u._key,p,null!==u.converter,o).toMutation(u._key,is.none())])}function C_(u,t,o,...c){u=Qr(u,Qs);const p=Qr(u.firestore,Zi),y=ol(p);let I;return I="string"==typeof(t=(0,m.m9)(t))||t instanceof Rl?Vp(y,"updateDoc",u._key,t,o,c):Xy(y,"updateDoc",u._key,t),Wd(p,[I.toMutation(u._key,is.exists(!0))])}function Hp(u){return Wd(Qr(u.firestore,Zi),[new Yh(u._key,is.none())])}function D_(u,t){const o=Qr(u.firestore,Zi),c=Hd(u),p=Yg(u.converter,t);return Wd(o,[zd(ol(u.firestore),"addDoc",c._key,p,null!==u.converter,{}).toMutation(c._key,is.exists(!1))]).then(()=>c)}function rv(u,...t){var o,c,p;u=(0,m.m9)(u);let y={includeMetadataChanges:!1},I=0;"object"!=typeof t[I]||hE(t[I])||(y=t[I],I++);const O={includeMetadataChanges:y.includeMetadataChanges};if(hE(t[I])){const Ce=t[I];t[I]=null===(o=Ce.next)||void 0===o?void 0:o.bind(Ce),t[I+1]=null===(c=Ce.error)||void 0===c?void 0:c.bind(Ce),t[I+2]=null===(p=Ce.complete)||void 0===p?void 0:p.bind(Ce)}let $,Z,ae;if(u instanceof Qs)Z=Qr(u.firestore,Zi),ae=tu(u._key.path),$={next:Ce=>{t[I]&&t[I](em(Z,u,Ce))},error:t[I+1],complete:t[I+2]};else{const Ce=Qr(u,Yo);Z=Qr(Ce.firestore,Zi),ae=Ce._query;const rt=new fd(Z);$={next:Ct=>{t[I]&&t[I](new hd(Z,rt,Ce,Ct))},error:t[I+1],complete:t[I+2]},Oh(u._query)}return function(Ce,rt,Ct,Zt){const En=new n_(Zt),Cn=new rE(rt,En,Ct);return Ce.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return zm(yield wf(Ce),Cn)})),()=>{En.Dc(),Ce.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Gm(yield wf(Ce),Cn)}))}}(Ys(Z),ae,O,$)}function A_(u,t){return function a_(u,t){const o=new n_(t);return u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return c=yield wf(u),p=o,rn(c).ku.add(p),void p.next();var c,p})),()=>{o.Dc(),u.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return c=yield wf(u),p=o,void rn(c).ku.delete(p);var c,p}))}}(Ys(u=Qr(u,Zi)),hE(t)?t:{next:t})}function Wd(u,t){return function(o,c){const p=new ds;return o.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function xl(u,t,o){return Dh.apply(this,arguments)}(yield Ug(o),c,p)})),p.promise}(Ys(u),t)}function em(u,t,o){const c=o.docs.get(t._key),p=new fd(u);return new Yl(u,p,t._key,c,new Ml(o.hasPendingWrites,o.fromCache),t.converter)}const R_={maxAttempts:5};class nm{constructor(t,o){this._firestore=t,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=ol(t)}set(t,o,c){this._verifyNotCommitted();const p=Kd(t,this._firestore),y=Yg(p.converter,o,c),I=zd(this._dataReader,"WriteBatch.set",p._key,y,null!==p.converter,c);return this._mutations.push(I.toMutation(p._key,is.none())),this}update(t,o,c,...p){this._verifyNotCommitted();const y=Kd(t,this._firestore);let I;return I="string"==typeof(o=(0,m.m9)(o))||o instanceof Rl?Vp(this._dataReader,"WriteBatch.update",y._key,o,c,p):Xy(this._dataReader,"WriteBatch.update",y._key,o),this._mutations.push(I.toMutation(y._key,is.exists(!0))),this}delete(t){this._verifyNotCommitted();const o=Kd(t,this._firestore);return this._mutations=this._mutations.concat(new Yh(o._key,is.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(u,t){if((u=(0,m.m9)(u)).firestore!==t)throw new At(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class P_ extends class{constructor(t,o){this._firestore=t,this._transaction=o,this._dataReader=ol(t)}get(t){const o=Kd(t,this._firestore),c=new Jg(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return Yt();const y=p[0];if(y.isFoundDocument())return new Pl(this._firestore,c,y.key,y,o.converter);if(y.isNoDocument())return new Pl(this._firestore,c,o._key,null,o.converter);throw Yt()})}set(t,o,c){const p=Kd(t,this._firestore),y=Yg(p.converter,o,c),I=zd(this._dataReader,"Transaction.set",p._key,y,null!==p.converter,c);return this._transaction.set(p._key,I),this}update(t,o,c,...p){const y=Kd(t,this._firestore);let I;return I="string"==typeof(o=(0,m.m9)(o))||o instanceof Rl?Vp(this._dataReader,"Transaction.update",y._key,o,c,p):Xy(this._dataReader,"Transaction.update",y._key,o),this._transaction.update(y._key,I),this}delete(t){const o=Kd(t,this._firestore);return this._transaction.delete(o._key),this}}{constructor(t,o){super(t,o),this._firestore=t}get(t){const o=Kd(t,this._firestore),c=new fd(this._firestore);return super.get(t).then(p=>new Yl(this._firestore,c,o._key,p._document,new Ml(!1,!1),o.converter))}}function Ww(u,t,o){u=Qr(u,Zi);const c=Object.assign(Object.assign({},R_),o);return function(p){if(p.maxAttempts<1)throw new At(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(p,y,I){const O=new ds;return p.asyncQueue.enqueueAndForget((0,w.Z)(function*(){const $=yield function o_(u){return Mp(u).then(t=>t.datastore)}(p);new uE(p.asyncQueue,$,I,y,O).run()})),O.promise}(Ys(u),p=>t(new P_(u,p)),c)}function Kw(){return new Af("deleteField")}function zp(){return new Yy("serverTimestamp")}function rm(...u){return new Wg("arrayUnion",u)}function Pf(...u){return new Jy("arrayRemove",u)}function im(u){return new qd("increment",u)}!function(u,t=!0){hi=ie.SDK_VERSION,(0,ie._registerComponent)(new Y.wA("firestore",(o,{instanceIdentifier:c,options:p})=>{const y=o.getProvider("app").getImmediate(),I=new Zi(new vd(o.getProvider("auth-internal")),new Bo(o.getProvider("app-check-internal")),function(O,$){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new At(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(O.options.projectId,$)}(y,c),y);return p=Object.assign({useFetchStreams:t},p),I._setSettings(p),I},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ei,"3.13.0",u),(0,ie.registerVersion)(ei,"3.13.0","esm2017")}()},9058:(Gt,$e,U)=>{U.d($e,{$s:()=>kt,BH:()=>Ke,G6:()=>fr,L:()=>Se,LL:()=>Dt,P0:()=>yt,Pz:()=>pt,Sg:()=>ut,UG:()=>dt,US:()=>Ae,ZB:()=>Pe,ZR:()=>vt,aH:()=>xe,b$:()=>_n,eu:()=>at,hl:()=>qe,jU:()=>Ot,m9:()=>pr,ne:()=>kn,pd:()=>an,r3:()=>cr,ru:()=>Qt,tV:()=>re,uI:()=>Ee,vZ:()=>Ar,w1:()=>Sn,xO:()=>Gr,xb:()=>ai,z$:()=>mt,zI:()=>ct,zd:()=>wn});const ue=function(be){const ne=[];let G=0;for(let K=0;K<be.length;K++){let H=be.charCodeAt(K);H<128?ne[G++]=H:H<2048?(ne[G++]=H>>6|192,ne[G++]=63&H|128):55296==(64512&H)&&K+1<be.length&&56320==(64512&be.charCodeAt(K+1))?(H=65536+((1023&H)<<10)+(1023&be.charCodeAt(++K)),ne[G++]=H>>18|240,ne[G++]=H>>12&63|128,ne[G++]=H>>6&63|128,ne[G++]=63&H|128):(ne[G++]=H>>12|224,ne[G++]=H>>6&63|128,ne[G++]=63&H|128)}return ne},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,ne){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let H=0;H<be.length;H+=3){const de=be[H],ke=H+1<be.length,lt=ke?be[H+1]:0,qt=H+2<be.length,Me=qt?be[H+2]:0;let Qe=(15&lt)<<2|Me>>6,me=63&Me;qt||(me=64,ke||(Qe=64)),K.push(G[de>>2],G[(3&de)<<4|lt>>4],G[Qe],G[me])}return K.join("")},encodeString(be,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(be):this.encodeByteArray(ue(be),ne)},decodeString(be,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(be):function(be){const ne=[];let G=0,K=0;for(;G<be.length;){const H=be[G++];if(H<128)ne[K++]=String.fromCharCode(H);else if(H>191&&H<224){const de=be[G++];ne[K++]=String.fromCharCode((31&H)<<6|63&de)}else if(H>239&&H<365){const qt=((7&H)<<18|(63&be[G++])<<12|(63&be[G++])<<6|63&be[G++])-65536;ne[K++]=String.fromCharCode(55296+(qt>>10)),ne[K++]=String.fromCharCode(56320+(1023&qt))}else{const de=be[G++],ke=be[G++];ne[K++]=String.fromCharCode((15&H)<<12|(63&de)<<6|63&ke)}}return ne.join("")}(this.decodeStringToByteArray(be,ne))},decodeStringToByteArray(be,ne){this.init_();const G=ne?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let H=0;H<be.length;){const de=G[be.charAt(H++)],lt=H<be.length?G[be.charAt(H)]:0;++H;const Me=H<be.length?G[be.charAt(H)]:64;++H;const ge=H<be.length?G[be.charAt(H)]:64;if(++H,null==de||null==lt||null==Me||null==ge)throw new Ie;K.push(de<<2|lt>>4),64!==Me&&(K.push(lt<<4&240|Me>>2),64!==ge&&K.push(Me<<6&192|ge))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(be){return function(be){const ne=ue(be);return Ae.encodeByteArray(ne,!0)}(be).replace(/\./g,"")},re=function(be){try{return Ae.decodeString(be,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function Pe(be,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return ne}for(const G in ne)!ne.hasOwnProperty(G)||!Be(G)||(be[G]=Pe(be[G],ne[G]));return be}function Be(be){return"__proto__"!==be}const Fe=()=>{try{return function it(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=be&&re(be[1]);return ne&&JSON.parse(ne)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},yt=be=>{const ne=(be=>{var ne,G;return null===(G=null===(ne=Fe())||void 0===ne?void 0:ne.emulatorHosts)||void 0===G?void 0:G[be]})(be);if(!ne)return;const G=ne.lastIndexOf(":");if(G<=0||G+1===ne.length)throw new Error(`Invalid host ${ne} with no separate hostname and port!`);const K=parseInt(ne.substring(G+1),10);return"["===ne[0]?[ne.substring(1,G-1),K]:[ne.substring(0,G),K]},xe=()=>{var be;return null===(be=Fe())||void 0===be?void 0:be.config},pt=be=>{var ne;return null===(ne=Fe())||void 0===ne?void 0:ne[`_${be}`]};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,G)=>{this.resolve=ne,this.reject=G})}wrapCallback(ne){return(G,K)=>{G?this.reject(G):this.resolve(K),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(G):ne(G,K))}}}function ut(be,ne){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=ne||"demo-project",H=be.iat||0,de=be.sub||be.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:H,exp:H+3600,auth_time:H,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},be);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(ke)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function dt(){var be;const ne=null===(be=Fe())||void 0===be?void 0:be.forceEnvironment;if("node"===ne)return!0;if("browser"===ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ot(){return"object"==typeof self&&self.self===self}function Qt(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sn(){const be=mt();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function fr(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function at(){return new Promise((be,ne)=>{try{let G=!0;const K="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(K);H.onsuccess=()=>{H.result.close(),G||self.indexedDB.deleteDatabase(K),be(!0)},H.onupgradeneeded=()=>{G=!1},H.onerror=()=>{var de;ne((null===(de=H.error)||void 0===de?void 0:de.message)||"")}}catch(G){ne(G)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class vt extends Error{constructor(ne,G,K){super(G),this.code=ne,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(ne,G,K){this.service=ne,this.serviceName=G,this.errors=K}create(ne,...G){const K=G[0]||{},H=`${this.service}/${ne}`,de=this.errors[ne],ke=de?function Wt(be,ne){return be.replace(gt,(G,K)=>{const H=ne[K];return null!=H?String(H):`<${K}?>`})}(de,K):"Error";return new vt(H,`${this.serviceName}: ${ke} (${H}).`,K)}}const gt=/\{\$([^}]+)}/g;function cr(be,ne){return Object.prototype.hasOwnProperty.call(be,ne)}function ai(be){for(const ne in be)if(Object.prototype.hasOwnProperty.call(be,ne))return!1;return!0}function Ar(be,ne){if(be===ne)return!0;const G=Object.keys(be),K=Object.keys(ne);for(const H of G){if(!K.includes(H))return!1;const de=be[H],ke=ne[H];if(Or(de)&&Or(ke)){if(!Ar(de,ke))return!1}else if(de!==ke)return!1}for(const H of K)if(!G.includes(H))return!1;return!0}function Or(be){return null!==be&&"object"==typeof be}function Gr(be){const ne=[];for(const[G,K]of Object.entries(be))Array.isArray(K)?K.forEach(H=>{ne.push(encodeURIComponent(G)+"="+encodeURIComponent(H))}):ne.push(encodeURIComponent(G)+"="+encodeURIComponent(K));return ne.length?"&"+ne.join("&"):""}function wn(be){const ne={};return be.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[H,de]=K.split("=");ne[decodeURIComponent(H)]=decodeURIComponent(de)}}),ne}function an(be){const ne=be.indexOf("?");if(!ne)return"";const G=be.indexOf("#",ne);return be.substring(ne,G>0?G:void 0)}function kn(be,ne){const G=new Rn(be,ne);return G.subscribe.bind(G)}class Rn{constructor(ne,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{ne(this)}).catch(K=>{this.error(K)})}next(ne){this.forEachObserver(G=>{G.next(ne)})}error(ne){this.forEachObserver(G=>{G.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,G,K){let H;if(void 0===ne&&void 0===G&&void 0===K)throw new Error("Missing Observer.");H=function Un(be,ne){if("object"!=typeof be||null===be)return!1;for(const G of ne)if(G in be&&"function"==typeof be[G])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:G,complete:K},void 0===H.next&&(H.next=Jn),void 0===H.error&&(H.error=Jn),void 0===H.complete&&(H.complete=Jn);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),de}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,ne)}sendOne(ne,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{G(this.observers[ne])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}const Bn=1e3,nt=2,Re=144e5,It=.5;function kt(be,ne=Bn,G=nt){const K=ne*Math.pow(G,be),H=Math.round(It*K*(Math.random()-.5)*2);return Math.min(Re,K+H)}function pr(be){return be&&be._delegate?be._delegate:be}},7402:(Gt,$e,U)=>{U.d($e,{a:()=>Ae});var w=U(8180),ie=U(7398),Y=U(5879),ue=U(6049),m=U(6811);let Ae=(()=>{var Ie;class pe{constructor(re,ye){this.authService=re,this.router=ye}canActivate(re,ye){return this.authService.user.pipe((0,w.q)(1),(0,ie.U)(Pe=>!!Pe||this.router.createUrlTree(["/login"])))}}return(Ie=pe).\u0275fac=function(re){return new(re||Ie)(Y.LFG(ue.e),Y.LFG(m.F0))},Ie.\u0275prov=Y.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),pe})()},6049:(Gt,$e,U)=>{U.d($e,{e:()=>Pe});var w=U(5861),ie=U(653),Y=U(5619),ue=U(6306),m=U(9397),Ae=U(8504);class Ie{constructor(it,Pt,Le,De){this.email=it,this.id=Pt,this._token=Le,this._tokenExpirationDate=De}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}var pe=U(5879),Se=U(9862),re=U(6811),ye=U(7708);let Pe=(()=>{var Be;class it{constructor(Le,De,Fe){this.http=Le,this.router=De,this.firestore=Fe,this.users=localStorage.getItem("users")||"",this.user=new Y.X(null)}getUsers(){this.http.get("http://localhost:3000/users").subscribe(Le=>this.objUsers=Le)}signUserDetails(Le){var De=this;return(0,w.Z)(function*(){return De.firestore.collection("users").add(Le).then(()=>{console.log("user created")}).catch(Fe=>{console.log(Fe)})})()}signup(Le){const De=Le.email,Fe=Le.inputPassword;return this.signUserDetails({firstName:Le.firstName,lastName:Le.lastName,email:De}),this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key="+ie.N.API_KEY,{email:De,password:Fe,returnSecureToken:!0}).pipe((0,ue.K)(this.handleError),(0,m.b)(xe=>{this.handleAuth(xe.email,xe.localId,xe.idToken,+xe.expiresIn)}))}handleError(Le){let De="An unknown error occured!";if(!Le.error||!Le.error.error)return(0,Ae._)(De);switch(Le.error.error.message){case"EMAIL_EXISTS":De="The email address is already in use!";break;case"OPERATION_NOT_ALLOWED":De="Password sign-in is disabled for this project!";break;case"INVALID_EMAIL":De="Please enter a valid email";break;case"EMAIL_NOT_FOUND":De="user not found!";break;case"INVALID_PASSWORD":De="Invalid password!";break;case"USER_DISABLED":De="User has been disabled";break;default:De=Le.error.error.message}return(0,Ae._)("INVALID_LOGIN_CREDENTIALS"==Le.error.error.message?"Invalid Login Credentials!":De)}handleAuth(Le,De,Fe,wt){const yt=new Date((new Date).getTime()+1e3*wt),xe=new Ie(Le,De,Fe,yt);this.user.next(xe),this.autoLogout(1e3*wt),localStorage.setItem("loggedData",JSON.stringify(xe))}getLoggedUser(Le){return this.firestore.collection("users",De=>De.where("email","==",Le)).valueChanges()}login(Le,De){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",{email:Le,password:De,returnSecureToken:!0}).pipe((0,ue.K)(this.handleError),(0,m.b)(Fe=>{this.handleAuth(Fe.email,Fe.localId,Fe.idToken,+Fe.expiresIn),this.getLoggedUser(Le).subscribe(wt=>{let yt=JSON.stringify(wt);localStorage.setItem("currentUser",yt)}),this.user.next(Fe.idToken),this.router.navigate(["/"])}))}autoLogout(Le){console.log("autoLogout"),this.tokenExpirationTimer=setTimeout(()=>{this.logout()},Le)}isLogged(){return console.log("islog"),localStorage.getItem("loggedData")}logout(){console.log("logout"),localStorage.removeItem("loggedData"),this.user.next(null),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogin(){console.log("autoLogin");const Le=localStorage.getItem("loggedData"),De=Le?JSON.parse(Le):null;if(!De)return;const Fe=new Ie(De.email,De.userId,De._token,new Date(De._tokenExpirationDate));if(Fe.token){const wt=new Date(De._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(wt),this.user.next(Fe)}}}return(Be=it).\u0275fac=function(Le){return new(Le||Be)(pe.LFG(Se.eN),pe.LFG(re.F0),pe.LFG(ye.ST))},Be.\u0275prov=pe.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),it})()},9537:(Gt,$e,U)=>{U.d($e,{P:()=>Pt});var w=U(5879),ie=U(3414),Y=U(6811),ue=U(6049),m=U(6814);function Ae(Le,De){1&Le&&(w.TgZ(0,"div",3),w._UZ(1,"img",4),w.TgZ(2,"p",5),w._uU(3,"Your cart is empty."),w.qZA(),w.TgZ(4,"p",6),w._uU(5," Go to homepage? "),w.TgZ(6,"a",7),w._uU(7,"Click here..."),w.qZA()()())}function Ie(Le,De){if(1&Le){const Fe=w.EpF();w.TgZ(0,"button",22),w.NdJ("click",function(){w.CHM(Fe);const yt=w.oxw().index,xe=w.oxw(2);return w.KtG(xe.productCart(yt,"remove"))}),w._uU(1," - "),w.qZA()}}function pe(Le,De){1&Le&&(w.TgZ(0,"span"),w._uU(1,"Out of Stock"),w.qZA())}function Se(Le,De){if(1&Le){const Fe=w.EpF();w.TgZ(0,"button",23),w.NdJ("click",function(){w.CHM(Fe);const yt=w.oxw().index,xe=w.oxw(2);return w.KtG(xe.productCart(yt,"add"))}),w._uU(1," + "),w.qZA()}if(2&Le){const Fe=w.oxw().$implicit;w.Q6J("disabled",Fe.amount==Fe.stock)}}function re(Le,De){1&Le&&(w.TgZ(0,"span",24),w._uU(1,"Max QTY"),w.qZA())}function ye(Le,De){if(1&Le&&(w.TgZ(0,"tr",15)(1,"td"),w._UZ(2,"img",16),w.qZA(),w.TgZ(3,"td"),w._uU(4),w.qZA(),w.TgZ(5,"td"),w._uU(6),w.qZA(),w.TgZ(7,"td"),w._uU(8),w.qZA(),w.TgZ(9,"td"),w.YNc(10,Ie,2,0,"button",17),w.YNc(11,pe,2,0,"span",18),w.YNc(12,Se,2,1,"button",19),w._UZ(13,"br"),w.YNc(14,re,2,0,"span",20),w.qZA(),w.TgZ(15,"td",21),w._uU(16),w.qZA()()),2&Le){const Fe=De.$implicit;w.xp6(2),w.s9C("src",Fe.images[0],w.LSH),w.xp6(2),w.Oqu(Fe.title),w.xp6(2),w.Oqu(Fe.amount),w.xp6(2),w.Oqu(Fe.price),w.xp6(2),w.Q6J("ngIf",0!=Fe.stock),w.xp6(1),w.Q6J("ngIf",0==Fe.stock),w.xp6(1),w.Q6J("ngIf",0!=Fe.stock),w.xp6(2),w.Q6J("ngIf",Fe.amount==Fe.stock),w.xp6(2),w.hij("$",Fe.amount*Fe.price,"")}}function Pe(Le,De){if(1&Le&&(w.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"table",11)(4,"thead")(5,"tr",12)(6,"th",13),w._uU(7,"Image"),w.qZA(),w.TgZ(8,"th",13),w._uU(9,"Name"),w.qZA(),w.TgZ(10,"th",13),w._uU(11,"Amount"),w.qZA(),w.TgZ(12,"th",13),w._uU(13,"Price"),w.qZA(),w.TgZ(14,"th",13),w._uU(15,"Actions"),w.qZA(),w.TgZ(16,"th",13),w._uU(17,"Total"),w.qZA()()(),w.TgZ(18,"tbody"),w.YNc(19,ye,17,9,"tr",14),w.qZA()()()()()),2&Le){const Fe=w.oxw();w.xp6(19),w.Q6J("ngForOf",Fe.dataSource)}}function Be(Le,De){if(1&Le&&(w.TgZ(0,"span",32),w._uU(1),w.qZA()),2&Le){const Fe=w.oxw(2);w.xp6(1),w.hij("",Fe.onOrder," ")}}function it(Le,De){if(1&Le){const Fe=w.EpF();w.TgZ(0,"div",25)(1,"div",26)(2,"p",27),w._uU(3,"Total Amount:"),w.qZA(),w.TgZ(4,"p",28),w._uU(5),w.ALo(6,"currency"),w.qZA()(),w.TgZ(7,"div",29),w.YNc(8,Be,2,1,"span",30),w.TgZ(9,"button",31),w.NdJ("click",function(){w.CHM(Fe);const yt=w.oxw();return w.KtG(yt.placeOrderHandler())}),w._uU(10," Place Order "),w.qZA()()()}if(2&Le){const Fe=w.oxw();w.xp6(5),w.hij(" ",w.xi3(6,2,Fe.totalAmount,"USD")," "),w.xp6(3),w.Q6J("ngIf",Fe.onOrder)}}let Pt=(()=>{var Le;class De{ngOnInit(){this.tableSync(),this.prods=this.cart.cartdata,this.getTotal()}constructor(wt,yt,xe){this.cart=wt,this.router=yt,this.auth=xe,this.displayedColumns=["image","title","amount","price","actions","total"],this.onOrder=null}tableSync(){this.cart.cart$.subscribe(wt=>{this.dataSource=wt,console.log(wt)})}productCart(wt,yt){this.cart.data(this.dataSource[wt],yt),this.prods=this.cart.cartdata;const xe=[...this.prods];this.dataSource=xe,this.getTotal()}getTotal(){this.totalAmount=0,this.prods.map(wt=>{this.totalAmount+=wt.amount*wt.price})}placeOrderHandler(){this.auth.user.subscribe(wt=>{wt?(this.onOrder="Redirecting to Order page...",setTimeout(()=>{this.router.navigate(["order"])},300)):(this.onOrder="User not logged in.Redirecting to Login page...",setTimeout(()=>{this.router.navigate(["login"])},300))})}}return(Le=De).\u0275fac=function(wt){return new(wt||Le)(w.Y36(ie.b),w.Y36(Y.F0),w.Y36(ue.e))},Le.\u0275cmp=w.Xpm({type:Le,selectors:[["app-cart"]],decls:3,vars:3,consts:[["class","text-center mt-5 pt-5",4,"ngIf"],["class","container mx-auto bg-white",4,"ngIf"],["class","card py-3 my-2 container mx-auto",4,"ngIf"],[1,"text-center","mt-5","pt-5"],["src","\\assets\\cart-icon.png","alt","empty cart","height","300px",1,"mt-5","pt-5"],[1,"m-0","fw-bold","h4"],[1,"h6","mt-3"],["href","products?page=1",1,"text-decoration-none","text-info"],[1,"container","mx-auto","bg-white"],[1,"row"],[1,""],[1,"table"],[1,"text-center"],["scope","col"],["class","text-center align-middle",4,"ngFor","ngForOf"],[1,"text-center","align-middle"],["width","100px","alt","",3,"src"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[4,"ngIf"],["class","btn btn-success btn-sm mx-1",3,"disabled","click",4,"ngIf"],["class","fw-light",4,"ngIf"],[1,"fw-bold"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-success","btn-sm","mx-1",3,"disabled","click"],[1,"fw-light"],[1,"card","py-3","my-2","container","mx-auto"],[1,"d-flex","flex-row","justify-content-between"],[1,"display-6","fw-medium","px-3"],[1,"display-6","px-3"],[1,"col-12"],["class","text-black ms-4 fw-semibold",4,"ngIf"],[1,"btn","btn-primary","float-end","col-2",3,"click"],[1,"text-black","ms-4","fw-semibold"]],template:function(wt,yt){1&wt&&(w.YNc(0,Ae,8,0,"div",0),w.YNc(1,Pe,20,1,"div",1),w.YNc(2,it,11,5,"div",2)),2&wt&&(w.Q6J("ngIf",0===yt.dataSource.length),w.xp6(1),w.Q6J("ngIf",yt.dataSource.length>0),w.xp6(1),w.Q6J("ngIf",yt.dataSource.length>0))},dependencies:[m.sg,m.O5,m.H9]}),De})()},3749:(Gt,$e,U)=>{U.d($e,{R:()=>ie});var w=U(5879);let ie=(()=>{var Y;class ue{}return(Y=ue).\u0275fac=function(Ae){return new(Ae||Y)},Y.\u0275cmp=w.Xpm({type:Y,selectors:[["app-loader"]],decls:13,vars:0,consts:[[1,"loader"],[1,"bar1"],[1,"bar2"],[1,"bar3"],[1,"bar4"],[1,"bar5"],[1,"bar6"],[1,"bar7"],[1,"bar8"],[1,"bar9"],[1,"bar10"],[1,"bar11"],[1,"bar12"]],template:function(Ae,Ie){1&Ae&&(w.TgZ(0,"div",0),w._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),w.qZA())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:54px;height:54px;top:5em;border-radius:10px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8%;height:24%;background:rgb(0,0,0);position:absolute;left:50%;top:30%;opacity:0;border-radius:50px;box-shadow:0 0 3px #0003;animation:_ngcontent-%COMP%_fade458 1s linear infinite}@keyframes _ngcontent-%COMP%_fade458{0%{opacity:1}to{opacity:.25}}.loader[_ngcontent-%COMP%]   .bar1[_ngcontent-%COMP%]{transform:rotate(0) translateY(-130%);animation-delay:0s}.loader[_ngcontent-%COMP%]   .bar2[_ngcontent-%COMP%]{transform:rotate(30deg) translateY(-130%);animation-delay:-1.1s}.loader[_ngcontent-%COMP%]   .bar3[_ngcontent-%COMP%]{transform:rotate(60deg) translateY(-130%);animation-delay:-1s}.loader[_ngcontent-%COMP%]   .bar4[_ngcontent-%COMP%]{transform:rotate(90deg) translateY(-130%);animation-delay:-.9s}.loader[_ngcontent-%COMP%]   .bar5[_ngcontent-%COMP%]{transform:rotate(120deg) translateY(-130%);animation-delay:-.8s}.loader[_ngcontent-%COMP%]   .bar6[_ngcontent-%COMP%]{transform:rotate(150deg) translateY(-130%);animation-delay:-.7s}.loader[_ngcontent-%COMP%]   .bar7[_ngcontent-%COMP%]{transform:rotate(180deg) translateY(-130%);animation-delay:-.6s}.loader[_ngcontent-%COMP%]   .bar8[_ngcontent-%COMP%]{transform:rotate(210deg) translateY(-130%);animation-delay:-.5s}.loader[_ngcontent-%COMP%]   .bar9[_ngcontent-%COMP%]{transform:rotate(240deg) translateY(-130%);animation-delay:-.4s}.loader[_ngcontent-%COMP%]   .bar10[_ngcontent-%COMP%]{transform:rotate(270deg) translateY(-130%);animation-delay:-.3s}.loader[_ngcontent-%COMP%]   .bar11[_ngcontent-%COMP%]{transform:rotate(300deg) translateY(-130%);animation-delay:-.2s}.loader[_ngcontent-%COMP%]   .bar12[_ngcontent-%COMP%]{transform:rotate(330deg) translateY(-130%);animation-delay:-.1s}"]}),ue})()},3414:(Gt,$e,U)=>{U.d($e,{b:()=>m});var w=U(5879),ie=U(5619),Y=U(7708),ue=U(6811);let m=(()=>{var Ae;class Ie{constructor(Se,re){this.firebase=Se,this.router=re,this.storedPro=localStorage.getItem("cart")||"[]",this.prods=JSON.parse(this.storedPro),this.cartdata=this.prods,this.cart$=new ie.X(this.cartdata),this.items=new w.vpe}data(Se,re){const ye=this.cartdata.find(({id:Pe})=>Pe===Se.id);if("add"===re)ye?ye.amount+=1:this.cartdata.push({...Se,amount:1});else{let Pe=this.cartdata.findIndex(Be=>Be.id===Se.id);1==ye?.amount?this.cartdata.splice(Pe,1):ye&&(ye.amount-=1)}localStorage.setItem("cart",JSON.stringify(this.cartdata)),this.cart$.next(this.cartdata),this.items.emit(this.cartdata.length)}handleOrder(Se,re,ye){this.firebase.collection("products").ref.where("id","==",Se).get().then(Pe=>{Pe.forEach(Be=>{const it=Be.id;console.log(it),this.firebase.doc(`products/${it}`).update({stock:ye-re})}),this.items.emit(0)}).catch(Pe=>{console.log(Pe)}),localStorage.removeItem("cart"),this.router.navigate(["/"])}}return(Ae=Ie).\u0275fac=function(Se){return new(Se||Ae)(w.LFG(Y.ST),w.LFG(ue.F0))},Ae.\u0275prov=w.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ie})()},2158:(Gt,$e,U)=>{U.d($e,{M:()=>Y});var w=U(5879),ie=U(7708);let Y=(()=>{var ue;class m{constructor(Ie){this.firebase=Ie,this.currentUserEmail=JSON.parse(localStorage.getItem("currentUser"))[0].email}saveOrderData(Ie){var Se=(new Date).toLocaleString();let re={...Ie,email:this.currentUserEmail,id:this.firebase.createId(),orderId:Math.round(1e10*Math.random()),orderTime:Se};console.log(re),this.firebase.collection("userData").add(re).then(()=>{console.log("Order Success!")})}getUserOrderData(){return this.firebase.collection("userData",Ie=>Ie.where("email","==",this.currentUserEmail)).valueChanges()}}return(ue=m).\u0275fac=function(Ie){return new(Ie||ue)(w.LFG(ie.ST))},ue.\u0275prov=w.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),m})()},653:(Gt,$e,U)=>{U.d($e,{N:()=>w});const w={production:!1,API_KEY:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",firebaseConfig:{apiKey:"AIzaSyBsv9RRWMipsQbrgOvq16gClAraUZRZA3U",authDomain:"anywhere-ecom.firebaseapp.com",projectId:"anywhere-ecom",storageBucket:"anywhere-ecom.appspot.com",messagingSenderId:"24709365004",appId:"1:24709365004:web:12005ff74089fc9deedd29"}}},9809:(Gt,$e,U)=>{var w=U(6593),ie=U(9862),Y=U(6811),ue=U(7402),m=U(5879),Ae=U(6049),Ie=U(6814),pe=U(2459),Se=U(5592),re=U(7453),ye=U(4829),Pe=U(9940),Be=U(8251),it=U(7400),Pt=U(2714),De=U(7398);let Fe=(()=>{var r;class e{constructor(i,l){this._renderer=i,this._elementRef=l,this.onChange=f=>{},this.onTouched=()=>{}}setProperty(i,l){this._renderer.setProperty(this._elementRef.nativeElement,i,l)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.Qsj),m.Y36(m.SBq))},r.\u0275dir=m.lG2({type:r}),e})(),wt=(()=>{var r;class e extends Fe{}return(r=e).\u0275fac=function(){let n;return function(l){return(n||(n=m.n5z(r)))(l||r)}}(),r.\u0275dir=m.lG2({type:r,features:[m.qOj]}),e})();const yt=new m.OlP("NgValueAccessor"),Ke={provide:yt,useExisting:(0,m.Gpc)(()=>Ee),multi:!0},mt=new m.OlP("CompositionEventMode");let Ee=(()=>{var r;class e extends Fe{constructor(i,l,f){super(i,l),this._compositionMode=f,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ut(){const r=(0,Ie.q)()?(0,Ie.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(mt,8))},r.\u0275dir=m.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,l){1&i&&m.NdJ("input",function(_){return l._handleInput(_.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(_){return l._compositionEnd(_.target.value)})},features:[m._Bn([Ke]),m.qOj]}),e})();function dt(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Ot(r){return null!=r&&"number"==typeof r.length}const Qt=new m.OlP("NgValidators"),_n=new m.OlP("NgAsyncValidators"),yr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sn{static min(e){return function ar(r){return e=>{if(dt(e.value)||dt(r))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<r?{min:{min:r,actual:e.value}}:null}}(e)}static max(e){return function Kn(r){return e=>{if(dt(e.value)||dt(r))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>r?{max:{max:r,actual:e.value}}:null}}(e)}static required(e){return fr(e)}static requiredTrue(e){return function qe(r){return!0===r.value?null:{required:!0}}(e)}static email(e){return at(e)}static minLength(e){return ct(e)}static maxLength(e){return function Je(r){return e=>Ot(e.value)&&e.value.length>r?{maxlength:{requiredLength:r,actualLength:e.value.length}}:null}(e)}static pattern(e){return function vt(r){if(!r)return Dt;let e,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),e=new RegExp(n)):(n=r.toString(),e=r),i=>{if(dt(i.value))return null;const l=i.value;return e.test(l)?null:{pattern:{requiredPattern:n,actualValue:l}}}}(e)}static nullValidator(e){return null}static compose(e){return tr(e)}static composeAsync(e){return vr(e)}}function fr(r){return dt(r.value)?{required:!0}:null}function at(r){return dt(r.value)||yr.test(r.value)?null:{email:!0}}function ct(r){return e=>dt(e.value)||!Ot(e.value)?null:e.value.length<r?{minlength:{requiredLength:r,actualLength:e.value.length}}:null}function Dt(r){return null}function Wt(r){return null!=r}function gt(r){return(0,m.QGY)(r)?(0,pe.D)(r):r}function Wn(r){let e={};return r.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Tn(r,e){return e.map(n=>n(r))}function sn(r){return r.map(e=>function Vn(r){return!r.validate}(e)?e:n=>e.validate(n))}function tr(r){if(!r)return null;const e=r.filter(Wt);return 0==e.length?null:function(n){return Wn(Tn(n,e))}}function Zn(r){return null!=r?tr(sn(r)):null}function vr(r){if(!r)return null;const e=r.filter(Wt);return 0==e.length?null:function(n){return function Le(...r){const e=(0,Pe.jO)(r),{args:n,keys:i}=(0,re.D)(r),l=new Se.y(f=>{const{length:_}=n;if(!_)return void f.complete();const C=new Array(_);let k=_,B=_;for(let X=0;X<_;X++){let le=!1;(0,ye.Xf)(n[X]).subscribe((0,Be.x)(f,Oe=>{le||(le=!0,B--),C[X]=Oe},()=>k--,void 0,()=>{(!k||!le)&&(B||f.next(i?(0,Pt.n)(i,C):C),f.complete())}))}});return e?l.pipe((0,it.Z)(e)):l}(Tn(n,e).map(gt)).pipe((0,De.U)(Wn))}}function cr(r){return null!=r?vr(sn(r)):null}function Cr(r,e){return null===r?[e]:Array.isArray(r)?[...r,e]:[r,e]}function ai(r){return r._rawValidators}function zr(r){return r._rawAsyncValidators}function Ar(r){return r?Array.isArray(r)?r:[r]:[]}function Or(r,e){return Array.isArray(r)?r.includes(e):r===e}function ui(r,e){const n=Ar(e);return Ar(r).forEach(l=>{Or(n,l)||n.push(l)}),n}function Gr(r,e){return Ar(e).filter(n=>!Or(r,n))}class wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zn(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class an extends wn{get formDirective(){return null}get path(){return null}}class An extends wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kn{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Un=(()=>{var r;class e extends kn{constructor(i){super(i)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(An,2))},r.\u0275dir=m.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,l){2&i&&m.ekj("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},features:[m.qOj]}),e})(),Jn=(()=>{var r;class e extends kn{constructor(i){super(i)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(an,10))},r.\u0275dir=m.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,l){2&i&&m.ekj("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)("ng-submitted",l.isSubmitted)},features:[m.qOj]}),e})();const ne="VALID",G="INVALID",K="PENDING",H="DISABLED";function de(r){return(Me(r)?r.validators:r)||null}function lt(r,e){return(Me(e)?e.asyncValidators:r)||null}function Me(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Qe{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ne}get invalid(){return this.status===G}get pending(){return this.status==K}get disabled(){return this.status===H}get enabled(){return this.status!==H}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ui(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ui(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gr(e,this._rawAsyncValidators))}hasValidator(e){return Or(this._rawValidators,e)}hasAsyncValidator(e){return Or(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=K,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=H,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ne,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ne||this.status===K)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H:ne}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=K,this._hasOwnPendingAsyncValidator=!0;const n=gt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,l)=>i&&i._find(l),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?H:this.errors?G:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K)?K:this._anyControlsHaveStatus(G)?G:ne}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Me(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ke(r){return Array.isArray(r)?Zn(r):r||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function qt(r){return Array.isArray(r)?cr(r):r||null}(this._rawAsyncValidators)}}class me extends Qe{constructor(e,n,i){super(de(n),lt(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function ge(r,e,n){r._forEachChild((i,l)=>{if(void 0===n[l])throw new m.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function ee(r,e,n){const i=r.controls;if(!(e?Object.keys(i):i).length)throw new m.vHH(1e3,"");if(!i[n])throw new m.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{const l=this.controls[i];l&&l.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,l)=>{i.reset(e[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,l)=>((i.enabled||this.disabled)&&(n[l]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((l,f)=>{i=n(i,l,f)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Mt=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xt}),Xt="always";function Bt(r,e){return[...e.path,r]}function ir(r,e,n=Xt){Dr(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(r.disabled),function ps(r,e){e.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Pn(r,e)})}(r,e),function jn(r,e){const n=(i,l)=>{e.valueAccessor.writeValue(i),l&&e.viewToModelUpdate(i)};r.registerOnChange(n),e._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,e),function jr(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Pn(r,e),"submit"!==r.updateOn&&r.markAsTouched()})}(r,e),function Di(r,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(n),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,e)}function Fn(r,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ni(r,e),r&&(e._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function di(r,e){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Dr(r,e){const n=ai(r);null!==e.validator?r.setValidators(Cr(n,e.validator)):"function"==typeof n&&r.setValidators([n]);const i=zr(r);null!==e.asyncValidator?r.setAsyncValidators(Cr(i,e.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const l=()=>r.updateValueAndValidity();di(e._rawValidators,l),di(e._rawAsyncValidators,l)}function ni(r,e){let n=!1;if(null!==r){if(null!==e.validator){const l=ai(r);if(Array.isArray(l)&&l.length>0){const f=l.filter(_=>_!==e.validator);f.length!==l.length&&(n=!0,r.setValidators(f))}}if(null!==e.asyncValidator){const l=zr(r);if(Array.isArray(l)&&l.length>0){const f=l.filter(_=>_!==e.asyncValidator);f.length!==l.length&&(n=!0,r.setAsyncValidators(f))}}}const i=()=>{};return di(e._rawValidators,i),di(e._rawAsyncValidators,i),n}function Pn(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function ri(r,e){Dr(r,e)}function xo(r,e){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Ve(r,e){r._syncPendingControls(),e.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function tt(r,e){if(!e)return null;let n,i,l;return Array.isArray(e),e.forEach(f=>{f.constructor===Ee?n=f:function je(r){return Object.getPrototypeOf(r.constructor)===wt}(f)?i=f:l=f}),l||i||n||null}const Hn={provide:an,useExisting:(0,m.Gpc)(()=>Er)},gr=(()=>Promise.resolve())();let Er=(()=>{var r;class e extends an{constructor(i,l,f){super(),this.callSetDisabledState=f,this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new me({},Zn(i),cr(l))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){gr.then(()=>{const l=this._findContainer(i.path);i.control=l.registerControl(i.name,i.control),ir(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){gr.then(()=>{const l=this._findContainer(i.path);l&&l.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){gr.then(()=>{const l=this._findContainer(i.path),f=new me({});ri(f,i),l.registerControl(i.name,f),f.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){gr.then(()=>{const l=this._findContainer(i.path);l&&l.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,l){gr.then(()=>{this.form.get(i.path).setValue(l)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Ve(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Qt,10),m.Y36(_n,10),m.Y36(Mt,8))},r.\u0275dir=m.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,l){1&i&&m.NdJ("submit",function(_){return l.onSubmit(_)})("reset",function(){return l.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Hn]),m.qOj]}),e})();function Hr(r,e){const n=r.indexOf(e);n>-1&&r.splice(n,1)}function ka(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Kr=class extends Qe{constructor(e=null,n,i){super(de(n),lt(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Me(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=ka(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hr(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hr(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ka(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lr={provide:An,useExisting:(0,m.Gpc)(()=>ns)},Ii=(()=>Promise.resolve())();let ns=(()=>{var r;class e extends An{constructor(i,l,f,_,C,k){super(),this._changeDetectorRef=C,this.callSetDisabledState=k,this.control=new Kr,this._registered=!1,this.name="",this.update=new m.vpe,this._parent=i,this._setValidators(l),this._setAsyncValidators(f),this.valueAccessor=tt(0,_)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const l=i.name.previousValue;this.formDirective.removeControl({name:l,path:this._getPath(l)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),xo(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ir(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){Ii.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const l=i.isDisabled.currentValue,f=0!==l&&(0,m.VuI)(l);Ii.then(()=>{f&&!this.control.disabled?this.control.disable():!f&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Bt(i,this._parent):[i]}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(an,9),m.Y36(Qt,10),m.Y36(_n,10),m.Y36(yt,10),m.Y36(m.sBO,8),m.Y36(Mt,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([lr]),m.qOj,m.TTD]}),e})(),Ms=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275dir=m.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Fr=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({}),e})();const Jr=new m.OlP("NgModelWithFormControlWarning"),gs={provide:an,useExisting:(0,m.Gpc)(()=>_o)};let _o=(()=>{var r;class e extends an{constructor(i,l,f){super(),this.callSetDisabledState=f,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(i),this._setAsyncValidators(l)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ni(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const l=this.form.get(i.path);return ir(l,i,this.callSetDisabledState),l.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),l}getControl(i){return this.form.get(i.path)}removeControl(i){Fn(i.control||null,i,!1),function xt(r,e){const n=r.indexOf(e);n>-1&&r.splice(n,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,l){this.form.get(i.path).setValue(l)}onSubmit(i){return this.submitted=!0,Ve(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const l=i.control,f=this.form.get(i.path);l!==f&&(Fn(l||null,i),(r=>r instanceof Kr)(f)&&(ir(f,i,this.callSetDisabledState),i.control=f))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const l=this.form.get(i.path);ri(l,i),l.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const l=this.form.get(i.path);l&&function bs(r,e){return ni(r,e)}(l,i)&&l.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dr(this.form,this),this._oldForm&&ni(this._oldForm,this)}_checkFormPresent(){}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Qt,10),m.Y36(_n,10),m.Y36(Mt,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,l){1&i&&m.NdJ("submit",function(_){return l.onSubmit(_)})("reset",function(){return l.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([gs]),m.qOj,m.TTD]}),e})();const Va={provide:An,useExisting:(0,m.Gpc)(()=>eo)};let eo=(()=>{var r;class e extends An{set isDisabled(i){}constructor(i,l,f,_,C){super(),this._ngModelWarningConfig=C,this._added=!1,this.name=null,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(l),this._setAsyncValidators(f),this.valueAccessor=tt(0,_)}ngOnChanges(i){this._added||this._setUpControl(),xo(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Bt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(r=e)._ngModelWarningSentOnce=!1,r.\u0275fac=function(i){return new(i||r)(m.Y36(an,13),m.Y36(Qt,10),m.Y36(_n,10),m.Y36(yt,10),m.Y36(Jr,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Va]),m.qOj,m.TTD]}),e})();const us={provide:yt,useExisting:(0,m.Gpc)(()=>ls),multi:!0};function _a(r,e){return null==r?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${r}: ${e}`.slice(0,50))}let ls=(()=>{var r;class e extends wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;const f=_a(this._getOptionId(i),i);this.setProperty("value",f)}registerOnChange(i){this.onChange=l=>{this.value=this._getOptionValue(l),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(const l of this._optionMap.keys())if(this._compareWith(this._optionMap.get(l),i))return l;return null}_getOptionValue(i){const l=function to(r){return r.split(":")[0]}(i);return this._optionMap.has(l)?this._optionMap.get(l):i}}return(r=e).\u0275fac=function(){let n;return function(l){return(n||(n=m.n5z(r)))(l||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,l){1&i&&m.NdJ("change",function(_){return l.onChange(_.target.value)})("blur",function(){return l.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([us]),m.qOj]}),e})(),ya=(()=>{var r;class e{constructor(i,l,f){this._element=i,this._renderer=l,this._select=f,this._select&&(this.id=this._select._registerOption())}set ngValue(i){null!=this._select&&(this._select._optionMap.set(this.id,i),this._setElementValue(_a(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(ls,9))},r.\u0275dir=m.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const cl={provide:yt,useExisting:(0,m.Gpc)(()=>no),multi:!0};function va(r,e){return null==r?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${r}: ${e}`.slice(0,50))}let no=(()=>{var r;class e extends wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){let l;if(this.value=i,Array.isArray(i)){const f=i.map(_=>this._getOptionId(_));l=(_,C)=>{_._setSelected(f.indexOf(C.toString())>-1)}}else l=(f,_)=>{f._setSelected(!1)};this._optionMap.forEach(l)}registerOnChange(i){this.onChange=l=>{const f=[],_=l.selectedOptions;if(void 0!==_){const C=_;for(let k=0;k<C.length;k++){const X=this._getOptionValue(C[k].value);f.push(X)}}else{const C=l.options;for(let k=0;k<C.length;k++){const B=C[k];if(B.selected){const X=this._getOptionValue(B.value);f.push(X)}}}this.value=f,i(f)}}_registerOption(i){const l=(this._idCounter++).toString();return this._optionMap.set(l,i),l}_getOptionId(i){for(const l of this._optionMap.keys())if(this._compareWith(this._optionMap.get(l)._value,i))return l;return null}_getOptionValue(i){const l=function Mo(r){return r.split(":")[0]}(i);return this._optionMap.has(l)?this._optionMap.get(l)._value:i}}return(r=e).\u0275fac=function(){let n;return function(l){return(n||(n=m.n5z(r)))(l||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,l){1&i&&m.NdJ("change",function(_){return l.onChange(_.target)})("blur",function(){return l.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([cl]),m.qOj]}),e})(),Rr=(()=>{var r;class e{constructor(i,l,f){this._element=i,this._renderer=l,this._select=f,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){null!=this._select&&(this._value=i,this._setElementValue(va(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(va(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(no,9))},r.\u0275dir=m.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();let xi=(()=>{var r;class e{constructor(){this._validator=Dt}ngOnChanges(i){if(this.inputName in i){const l=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(l),this._validator=this._enabled?this.createValidator(l):Dt,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275dir=m.lG2({type:r,features:[m.TTD]}),e})();const Li={provide:Qt,useExisting:(0,m.Gpc)(()=>Fi),multi:!0};let Fi=(()=>{var r;class e extends xi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.VuI,this.createValidator=i=>fr}enabled(i){return i}}return(r=e).\u0275fac=function(){let n;return function(l){return(n||(n=m.n5z(r)))(l||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,l){2&i&&m.uIk("required",l._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([Li]),m.qOj]}),e})();const Fl={provide:Qt,useExisting:(0,m.Gpc)(()=>Ds),multi:!0};let Ds=(()=>{var r;class e extends xi{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=m.VuI,this.createValidator=i=>at}enabled(i){return i}}return(r=e).\u0275fac=function(){let n;return function(l){return(n||(n=m.n5z(r)))(l||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[m._Bn([Fl]),m.qOj]}),e})();const As={provide:Qt,useExisting:(0,m.Gpc)(()=>Ss),multi:!0};let Ss=(()=>{var r;class e extends xi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=i=>function Ll(r){return"number"==typeof r?r:parseInt(r,10)}(i),this.createValidator=i=>ct(i)}}return(r=e).\u0275fac=function(){let n;return function(l){return(n||(n=m.n5z(r)))(l||r)}}(),r.\u0275dir=m.lG2({type:r,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,l){2&i&&m.uIk("minlength",l._enabled?l.minlength:null)},inputs:{minlength:"minlength"},features:[m._Bn([As]),m.qOj]}),e})(),tc=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[Fr]}),e})(),No=(()=>{var r;class e{static withConfig(i){return{ngModule:e,providers:[{provide:Mt,useValue:i.callSetDisabledState??Xt}]}}}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[tc]}),e})(),Hc=(()=>{var r;class e{static withConfig(i){return{ngModule:e,providers:[{provide:Jr,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Mt,useValue:i.callSetDisabledState??Xt}]}}}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[tc]}),e})();function na(r,e){if(1&r&&(m.TgZ(0,"span",18),m._uU(1),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Oqu(n.errorMessage)}}let gu=(()=>{var r;class e{constructor(i,l){this.auth=i,this.router=l,this.errorMessage="",this.isError=!1,this.isEmail=!0}formOp(i){this.auth.login(i.value.email,i.value.password).subscribe(_=>{},_=>{this.errorMessage=_,this.isError=!0})}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Ae.e),m.Y36(Y.F0))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-login"]],decls:28,vars:2,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold","my-0"],[1,"text-primary","fw-bolder","display-3"],[1,"h6","text-secondary","my-2"],["href","/signup",1,"text-decoration-none"],["id","box",1,"col-xl-6","col-lg-6","col-md-10","col-sm-12","my-5","rounded"],["id","form",3,"ngSubmit"],["authForm","ngForm"],["class","text-danger small",4,"ngIf"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","ngModel","","name","email","placeholder","Enter Email","email","","required","",1,"form-control","rounded-4","py-3"],["for","password",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","password","ngModel","","name","password","placeholder","Enter Password","required","","password","","minlength","8",1,"form-control","rounded-4","py-3"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["href","/signup",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"]],template:function(i,l){if(1&i){const f=m.EpF();m.TgZ(0,"div",0)(1,"p",1),m._uU(2,"WELCOME BACK"),m.qZA(),m.TgZ(3,"h1",2),m._uU(4," Account Login "),m.TgZ(5,"span",3),m._uU(6,"."),m.qZA()(),m.TgZ(7,"p",4),m._uU(8,"Don't have an Account? "),m.TgZ(9,"a",5),m._uU(10,"Create New Account"),m.qZA()(),m.TgZ(11,"div",6)(12,"form",7,8),m.NdJ("ngSubmit",function(){m.CHM(f);const C=m.MAs(13);return m.KtG(l.formOp(C))}),m.YNc(14,na,2,1,"span",9),m.TgZ(15,"div",10)(16,"label",11),m._uU(17,"Email"),m.qZA(),m._UZ(18,"input",12),m.qZA(),m.TgZ(19,"div",10)(20,"label",13),m._uU(21,"Password"),m.qZA(),m._UZ(22,"input",14),m.qZA(),m.TgZ(23,"div",15)(24,"a",16),m._uU(25,"Change Method"),m.qZA(),m.TgZ(26,"button",17),m._uU(27,"Next"),m.qZA()()()()()}if(2&i){const f=m.MAs(13);m.xp6(14),m.Q6J("ngIf",l.isError),m.xp6(12),m.Q6J("disabled",!f.valid)}},dependencies:[Ie.O5,Ms,Ee,Un,Jn,Fi,Ss,Ds,ns,Er]}),e})();function yd(r,e){if(1&r&&(m.TgZ(0,"span",29),m._uU(1),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Oqu(n.errorMessage)}}function rc(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Name cannot contain numbers. "),m.qZA())}function hl(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," First Name is required "),m.qZA())}function ko(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,rc,2,0,"span",15),m.YNc(2,hl,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("firstName").errors.pattern),m.xp6(1),m.Q6J("ngIf",n.authForm.get("firstName").errors.required)}}function Lo(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Name cannot contain numbers. "),m.qZA())}function ja(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Last Name is required "),m.qZA())}function Us(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,Lo,2,0,"span",15),m.YNc(2,ja,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("lastName").errors.pattern),m.xp6(1),m.Q6J("ngIf",n.authForm.get("lastName").errors.required)}}function ii(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Enter a valid Email "),m.qZA())}function mu(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Email is required "),m.qZA())}function xs(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,ii,2,0,"span",15),m.YNc(2,mu,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("email").errors.email),m.xp6(1),m.Q6J("ngIf",n.authForm.get("email").errors.required)}}function Ha(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Passoword is required "),m.qZA())}function Uu(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Passoword should match the criteria and should be 8 chars long "),m.qZA())}function $a(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,Ha,2,0,"span",15),m.YNc(2,Uu,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("inputPassword").errors.required),m.xp6(1),m.Q6J("ngIf",n.authForm.get("inputPassword").errors.pattern||n.authForm.get("inputPassword").errors.minlength)}}function ro(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Confirm Passoword is required "),m.qZA())}function Fo(r,e){1&r&&(m.TgZ(0,"span",30),m._uU(1," Both password should match "),m.qZA())}function fl(r,e){if(1&r&&(m.TgZ(0,"span",30),m.YNc(1,ro,2,0,"span",15),m.YNc(2,Fo,2,0,"span",15),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.authForm.get("confirmPassword").errors.required),m.xp6(1),m.Q6J("ngIf",n.ifMatched&&n.authForm.get("inputPassword").valid)}}let za=(()=>{var r;class e{constructor(i){this.auth=i,this.confirmPassword="",this.isError=!1,this.inputPassword="",this.ifMatched=!0,this.passwordRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-])/,this.isValid=!1,this.numEx=/^[A-Za-z]+$/}ngOnInit(){this.authForm=new me({firstName:new Kr(null,[Sn.required,Sn.pattern(this.numEx)]),lastName:new Kr(null,[Sn.required,Sn.pattern(this.numEx)]),email:new Kr(null,[Sn.required,Sn.email]),inputPassword:new Kr(null,[Sn.required,Sn.pattern(this.passwordRegex)]),confirmPassword:new Kr(null,[Sn.required,Sn.pattern(this.passwordRegex)])})}onSubmit(){console.log(this.authForm),this.auth.signup(this.authForm.value).subscribe(i=>{},i=>{this.errorMessage=i,this.isError=!0})}passwordMatch(){this.ifMatched=this.confirmPassword===this.inputPassword}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Ae.e))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-sign-up"]],decls:52,vars:8,consts:[[1,"container","my-5"],[1,"fw-bold","h6","my-0","text-secondary"],[1,"display-5","fw-bold"],[1,"text-primary","fw-bolder","display-4"],[1,"h6","text-secondary"],["routerLink","/login",1,"text-decoration-none"],[1,"col-xl-6","col-md-10","col-sm-12","my-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["class","text-danger small",4,"ngIf"],[1,"col-11","d-flex","justify-content-between"],[1,"col-5"],[1,"form-group",3,"has-error"],["for","firstName",1,"col-sm-5","col-form-label","fw-semibold"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter First Name","required","",1,"form-control","rounded-4","py-3"],["class","small text-danger",4,"ngIf"],["for","lastName",1,"col-sm-5","col-form-label","fw-semibold"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter Last Name","required","",1,"form-control","rounded-4","py-3"],[1,"col-11"],["for","email",1,"col-sm-5","col-form-label","fw-semibold"],["type","email","id","Email","formControlName","email","placeholder","Enter Email","required","","email","",1,"form-control","rounded-4","py-3"],["for","inputPassword",1,"col-sm-5","col-form-label","fw-semibold"],["title","A mixture of both uppercase and lowercase letters.\n  A mixture of letters and numbers.\n  Inclusion of at least one special character, e.g., ! @ # ? ]","data-bs-placement","bottom",1,"tt"],["type","password","id","inputPassword","formControlName","inputPassword","placeholder","Enter Password","required","","minlength","8","password","",1,"form-control","rounded-4","py-3",3,"ngModelChange"],["for","confirmPassword",1,"col-sm-5","col-form-label","fw-semibold"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Re-enter Password","required","","minlength","8",1,"form-control","rounded-4","py-3",3,"ngModelChange"],[1,"col-11","justify-content-between","d-flex","my-4","px-4"],["routerLink","/login",1,"btn","btn-secondary","fw-bold","col-5","my-3","py-3","rounded-pill","px-2"],["type","submit","id","signup",1,"btn","btn-primary","col-5","my-3","rounded-pill","py-3","px-2","fw-bold",3,"disabled"],[1,"text-danger","small"],[1,"small","text-danger"]],template:function(i,l){1&i&&(m.TgZ(0,"div",0)(1,"p",1),m._uU(2,"START FOR FREE"),m.qZA(),m.TgZ(3,"h1",2),m._uU(4," Create new account "),m.TgZ(5,"span",3),m._uU(6,"."),m.qZA()(),m.TgZ(7,"p",4),m._uU(8," Already A Member? "),m.TgZ(9,"a",5),m._uU(10,"Log In"),m.qZA()(),m.TgZ(11,"div",6)(12,"form",7),m.NdJ("ngSubmit",function(){return l.onSubmit()}),m.TgZ(13,"div",8),m.YNc(14,yd,2,1,"span",9),m.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),m._uU(19,"First Name"),m.qZA(),m._UZ(20,"input",14),m.qZA(),m.YNc(21,ko,3,2,"span",15),m.qZA(),m.TgZ(22,"div",11)(23,"div",12)(24,"label",16),m._uU(25,"Last Name"),m.qZA(),m._UZ(26,"input",17),m.qZA(),m.YNc(27,Us,3,2,"span",15),m.qZA()(),m.TgZ(28,"div",18)(29,"div",12)(30,"label",19),m._uU(31,"Email"),m.qZA(),m._UZ(32,"input",20),m.qZA(),m.YNc(33,xs,3,2,"span",15),m.qZA()(),m.TgZ(34,"div",18)(35,"div",12)(36,"label",21),m._uU(37,"Password"),m.qZA(),m.TgZ(38,"span",22)(39,"input",23),m.NdJ("ngModelChange",function(){return l.passwordMatch()}),m.qZA()()(),m.YNc(40,$a,3,2,"span",15),m.qZA(),m.TgZ(41,"div",18)(42,"div",12)(43,"label",24),m._uU(44,"Confirm Password"),m.qZA(),m.TgZ(45,"input",25),m.NdJ("ngModelChange",function(){return l.passwordMatch()}),m.qZA()(),m.YNc(46,fl,3,2,"span",15),m.qZA(),m.TgZ(47,"div",26)(48,"a",27),m._uU(49,"Change Method"),m.qZA(),m.TgZ(50,"button",28),m._uU(51," Create Account "),m.qZA()()()()()),2&i&&(m.xp6(12),m.Q6J("formGroup",l.authForm),m.xp6(2),m.Q6J("ngIf",l.isError),m.xp6(7),m.Q6J("ngIf",!l.authForm.get("firstName").valid&&l.authForm.get("firstName").touched),m.xp6(6),m.Q6J("ngIf",!l.authForm.get("lastName").valid&&l.authForm.get("lastName").touched),m.xp6(6),m.Q6J("ngIf",!l.authForm.get("email").valid&&l.authForm.get("email").touched),m.xp6(7),m.Q6J("ngIf",!l.authForm.get("inputPassword").valid&&l.authForm.get("inputPassword").touched),m.xp6(6),m.Q6J("ngIf",!l.authForm.get("confirmPassword").valid&&l.authForm.get("confirmPassword").touched),m.xp6(4),m.Q6J("disabled",!l.authForm.valid||!l.ifMatched))},dependencies:[Ie.O5,Y.rH,Ms,Ee,Un,Jn,Fi,Ss,Ds,_o,eo]}),e})();var Yi=U(9537);let Vo=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-error-page"]],decls:11,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3","text-center"],[1,"display-4"],["href","/",1,"btn","btn-primary"]],template:function(i,l){1&i&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),m._uU(4,"404"),m.qZA(),m.TgZ(5,"h2"),m._uU(6,"Page Not Found"),m.qZA(),m.TgZ(7,"p"),m._uU(8,"We're sorry, but the page you're looking for could not be found."),m.qZA(),m.TgZ(9,"a",4),m._uU(10,"Go back to the homepage"),m.qZA()()()())},encapsulation:2}),e})();var Ia=U(3414),Xr=U(2158);function _u(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Name is required "),m.qZA())}function yu(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,_u,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("name").errors.required)}}function cs(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Email is required "),m.qZA())}function Vl(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Enter a valid Email "),m.qZA())}function Bu(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,cs,2,0,"span",7),m.YNc(2,Vl,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("email").errors.required),m.xp6(1),m.Q6J("ngIf",n.orderForm.get("email").errors.email)}}function ra(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," House No. is required "),m.qZA())}function Ga(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,ra,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("house_number").errors.required)}}function ic(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Area, Sector is required "),m.qZA())}function Uo(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,ic,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("area_sector").errors.required)}}function uo(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," City is required. "),m.qZA())}function ms(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,uo,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("city").errors.required)}}function qa(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," PinCode is required. "),m.qZA())}function pl(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," PinCode should be numeric. "),m.qZA())}function Wa(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,qa,2,0,"span",7),m.YNc(2,pl,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("pincode").errors.required),m.xp6(1),m.Q6J("ngIf",n.orderForm.get("pincode").errors.pattern)}}function Ka(r,e){if(1&r&&(m.TgZ(0,"option",36),m._uU(1),m.qZA()),2&r){const n=e.$implicit;m.Q6J("value",n.value),m.xp6(1),m.hij(" ",n.value," ")}}function sc(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," State is required. "),m.qZA())}function ia(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,sc,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("state").errors.required)}}function gl(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Country is required. "),m.qZA())}function x(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,gl,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("country").errors.required)}}function q(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1," Contact is required "),m.qZA())}function ve(r,e){if(1&r&&(m.TgZ(0,"span",35),m.YNc(1,q,2,0,"span",7),m.qZA()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngIf",n.orderForm.get("contact").errors.required)}}let j=(()=>{var r;class e{constructor(i,l){this.cartData=i,this.userData=l,this.productId="",this.numRegex=/\d+$/,this.totalItems=0,this.objOrderData=[],this.totalAmount=0,this.stateJson={AN:"Andaman and Nicobar Islands",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CG:"Chandigarh",CH:"Chhattisgarh",DN:"Dadra and Nagar Haveli",DD:"Daman and Diu",DL:"Delhi",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JK:"Jammu and Kashmir",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",LA:"Ladakh",LD:"Lakshadweep",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PY:"Puducherry",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TS:"Telangana",TR:"Tripura",UP:"Uttar Pradesh",UK:"Uttarakhand",WB:"West Bengal"}}ngOnInit(){let i=localStorage.getItem("currentUser"),l=JSON.parse(i),f=localStorage.getItem("cart")||"";this.objOrderData=JSON.parse(f),this.objOrderData.map(_=>this.totalAmount+=_.price*_.amount),this.orderForm=new me({name:new Kr("",Sn.required),email:new Kr("",[Sn.required,Sn.email]),house_number:new Kr("",Sn.required),area_sector:new Kr("",Sn.required),city:new Kr("",Sn.required),pincode:new Kr(null,[Sn.required,Sn.pattern(this.numRegex)]),state:new Kr("",Sn.required),country:new Kr("",Sn.required),contact:new Kr(null,[Sn.required,Sn.pattern(this.numRegex)])}),this.orderForm.patchValue({name:`${l[0].firstName} ${l[0].lastName}`,email:`${l[0].email}`}),this.totalItems=this.cartData.cartdata.length}formHandler(){let i=this.cartData.cartdata,l=0;i.map(_=>{l+=_.amount*_.price}),this.userData.saveOrderData({cartItems:i,deliveryDetail:this.orderForm.value,totalAmount:l}),i.map(_=>{console.log(_.id),this.cartData.handleOrder(_.id,_.amount,_.stock)}),console.log(this.orderForm.value)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Ia.b),m.Y36(Xr.M))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-order"]],decls:72,vars:15,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-12","my-3","col-lg-7","bg-white","mx-auto","rounded","px-3","py-4","shadow"],[3,"formGroup","ngSubmit"],[1,"col-12"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name",1,"form-control"],["class","small text-danger",4,"ngIf"],["for","email",1,"form-label"],["type","text","formControlName","email","id","email",1,"form-control"],[1,"row","py-1"],[1,"col-12","col-lg-6"],["for","house_number",1,"form-label"],["type","text","formControlName","house_number","id","house_number",1,"form-control"],["for","area_sector",1,"form-label"],["type","text","formControlName","area_sector","id","area_sector",1,"form-control"],["for","city",1,"form-label"],["type","text","formControlName","city","id","city",1,"form-control"],["for","pincode",1,"form-label"],["type","text","formControlName","pincode","id","pincode",1,"form-control"],["for","state",1,"form-label"],["formControlName","state",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","country",1,"form-label"],["type","text","formControlName","country","id","country",1,"form-control"],["for","contact",1,"form-label"],["type","text","formControlName","contact","id","contact",1,"form-control"],[1,"col-12","col-lg-4","bg-white","px-3","py-4","h-75","my-auto","rounded","shadow"],[1,"fw-bold","mb-4"],[1,"list-group","col-10","mx-auto"],[1,"row","my-0","p-0","list-group-item"],[1,"col-4","mt-1"],[1,"col","text-end","fw-bold"],[1,"row","mt-5"],[1,"btn","btn-success","col-6","mx-auto",3,"disabled","click"],[1,"small","text-danger"],[3,"value"]],template:function(i,l){1&i&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),m.NdJ("ngSubmit",function(){return l.formHandler()}),m.TgZ(4,"div",4)(5,"label",5),m._uU(6,"Name"),m.qZA(),m._UZ(7,"input",6),m.YNc(8,yu,2,1,"span",7),m.qZA(),m.TgZ(9,"div",4)(10,"label",8),m._uU(11,"Email"),m.qZA(),m._UZ(12,"input",9),m.YNc(13,Bu,3,2,"span",7),m.qZA(),m.TgZ(14,"div",10)(15,"div",11)(16,"label",12),m._uU(17,"House no."),m.qZA(),m._UZ(18,"input",13),m.YNc(19,Ga,2,1,"span",7),m.qZA(),m.TgZ(20,"div",11)(21,"label",14),m._uU(22,"Area, Sector"),m.qZA(),m._UZ(23,"input",15),m.YNc(24,Uo,2,1,"span",7),m.qZA()(),m.TgZ(25,"div",1)(26,"div",11)(27,"label",16),m._uU(28,"City"),m.qZA(),m._UZ(29,"input",17),m.YNc(30,ms,2,1,"span",7),m.qZA(),m.TgZ(31,"div",11)(32,"label",18),m._uU(33,"PinCode"),m.qZA(),m._UZ(34,"input",19),m.YNc(35,Wa,3,2,"span",7),m.qZA()(),m.TgZ(36,"div",1)(37,"div",11)(38,"label",20),m._uU(39,"State"),m.qZA(),m.TgZ(40,"select",21),m.YNc(41,Ka,2,2,"option",22),m.ALo(42,"keyvalue"),m.qZA(),m.YNc(43,ia,2,1,"span",7),m.qZA(),m.TgZ(44,"div",11)(45,"label",23),m._uU(46,"Country"),m.qZA(),m._UZ(47,"input",24),m.YNc(48,x,2,1,"span",7),m.qZA()(),m.TgZ(49,"div",4)(50,"label",25),m._uU(51,"Contact"),m.qZA(),m._UZ(52,"input",26),m.YNc(53,ve,2,1,"span",7),m.qZA()()(),m.TgZ(54,"div",27)(55,"div",1)(56,"h3",28),m._uU(57,"Order Total"),m.qZA(),m.TgZ(58,"ul",29)(59,"li",30)(60,"p",31),m._uU(61,"Total Amount:"),m.qZA(),m.TgZ(62,"p",32),m._uU(63),m.qZA()(),m.TgZ(64,"li",30)(65,"p",31),m._uU(66,"Shipping:"),m.qZA(),m.TgZ(67,"p",32),m._uU(68,"Free Shipping"),m.qZA()()(),m.TgZ(69,"div",33)(70,"button",34),m.NdJ("click",function(){return l.formHandler()}),m._uU(71," Place Order "),m.qZA()()()()()()),2&i&&(m.xp6(3),m.Q6J("formGroup",l.orderForm),m.xp6(5),m.Q6J("ngIf",!l.orderForm.get("name").valid&&l.orderForm.get("name").touched),m.xp6(5),m.Q6J("ngIf",!l.orderForm.get("email").valid&&l.orderForm.get("email").touched),m.xp6(6),m.Q6J("ngIf",!l.orderForm.get("house_number").valid&&l.orderForm.get("house_number").touched),m.xp6(5),m.Q6J("ngIf",!l.orderForm.get("area_sector").valid&&l.orderForm.get("area_sector").touched),m.xp6(6),m.Q6J("ngIf",!l.orderForm.get("city").valid&&l.orderForm.get("city").touched),m.xp6(5),m.Q6J("ngIf",!l.orderForm.get("pincode").valid&&l.orderForm.get("pincode").touched),m.xp6(6),m.Q6J("ngForOf",m.lcZ(42,13,l.stateJson)),m.xp6(2),m.Q6J("ngIf",!l.orderForm.get("state").valid&&l.orderForm.get("state").touched),m.xp6(5),m.Q6J("ngIf",!l.orderForm.get("country").valid&&l.orderForm.get("country").touched),m.xp6(5),m.Q6J("ngIf",!l.orderForm.get("contact").valid&&l.orderForm.get("contact").touched),m.xp6(10),m.hij("$",l.totalAmount,""),m.xp6(7),m.Q6J("disabled",!l.orderForm.valid))},dependencies:[Ie.sg,Ie.O5,Ms,ya,Rr,Ee,ls,Un,Jn,_o,eo,Ie.Nd]}),e})();function Ne(r,e=0){return function bt(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):e}function tn(r){return Array.isArray(r)?r:[r]}var pn=U(8645),hi=U(2572),wr=U(5211),mi=U(8180),io=U(2181),Zr=U(6321),Vi=U(9360),Yt=U(7921),vn=U(9773);let si;try{si=typeof Intl<"u"&&Intl.v8BreakIterator}catch{si=!1}let Ul,ju,rn=(()=>{var r;class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?(0,Ie.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!si)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(m.Lbi))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function Bo(){if("object"!=typeof document||!document)return 0;if(null==Ul){const r=document.createElement("div"),e=r.style;r.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",r.appendChild(n),document.body.appendChild(r),Ul=0,0===r.scrollLeft&&(r.scrollLeft=1,Ul=0===r.scrollLeft?1:2),r.remove()}return Ul}const On=new Set;let jo,Xn=(()=>{var r;class e{constructor(i,l){this._platform=i,this._nonce=l,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Mr}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jd(r,e){if(!On.has(r))try{jo||(jo=document.createElement("style"),e&&(jo.nonce=e),jo.setAttribute("type","text/css"),document.head.appendChild(jo)),jo.sheet&&(jo.sheet.insertRule(`@media ${r} {body{ }}`,0),On.add(r))}catch(n){console.error(n)}}(i,this._nonce),this._matchMedia(i)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(rn),m.LFG(m.Ojb,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function Mr(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let on=(()=>{var r;class e{constructor(i,l){this._mediaMatcher=i,this._zone=l,this._queries=new Map,this._destroySubject=new pn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Eu(tn(i)).some(f=>this._registerQuery(f).mql.matches)}observe(i){const f=Eu(tn(i)).map(C=>this._registerQuery(C).observable);let _=(0,hi.a)(f);return _=(0,wr.z)(_.pipe((0,mi.q)(1)),_.pipe(function Lt(r){return(0,io.h)((e,n)=>r<=n)}(1),function rs(r,e=Zr.z){return(0,Vi.e)((n,i)=>{let l=null,f=null,_=null;const C=()=>{if(l){l.unsubscribe(),l=null;const B=f;f=null,i.next(B)}};function k(){const B=_+r,X=e.now();if(X<B)return l=this.schedule(void 0,B-X),void i.add(l);C()}n.subscribe((0,Be.x)(i,B=>{f=B,_=e.now(),l||(l=e.schedule(k,r),i.add(l))},()=>{C(),i.complete()},void 0,()=>{f=l=null}))})}(0))),_.pipe((0,De.U)(C=>{const k={matches:!1,breakpoints:{}};return C.forEach(({matches:B,query:X})=>{k.matches=k.matches||B,k.breakpoints[X]=B}),k}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const l=this._mediaMatcher.matchMedia(i),_={observable:new Se.y(C=>{const k=B=>this._zone.run(()=>C.next(B));return l.addListener(k),()=>{l.removeListener(k)}}).pipe((0,Yt.O)(l),(0,De.U)(({matches:C})=>({query:i,matches:C})),(0,vn.R)(this._destroySubject)),mql:l};return this._queries.set(i,_),_}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(Xn),m.LFG(m.R0b))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function Eu(r){return r.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}const Eo={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var dn,wu=U(9397),oc=U(3997),Ta=U(5861),Rt=U(4303),Vr=U(4537),Iu=U(7879),$c=U(9058),_i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wo={},Io=Io||{},zn=_i||self;function Tu(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ot(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var lo="closure_uid_"+(1e9*Math.random()>>>0),Bs=0;function To(r,e,n){return r.call.apply(r.bind,arguments)}function bu(r,e,n){if(!r)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,i),r.apply(e,l)}}return function(){return r.apply(e,arguments)}}function A(r,e,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?To:bu).apply(null,arguments)}function N(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),r.apply(this,i)}}function V(r,e){function n(){}n.prototype=e.prototype,r.$=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.ac=function(i,l,f){for(var _=Array(arguments.length-2),C=2;C<arguments.length;C++)_[C-2]=arguments[C];return e.prototype[l].apply(i,_)}}function M(){this.s=this.s,this.o=this.o}M.prototype.s=!1,M.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Xd(r){Object.prototype.hasOwnProperty.call(r,lo)&&r[lo]||(r[lo]=++Bs)}(this)},M.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const se=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1};function fe(r){const e=r.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=r[i];return n}return[]}function Ze(r,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Tu(i)){const l=r.length||0,f=i.length||0;r.length=l+f;for(let _=0;_<f;_++)r[l+_]=i[_]}else r.push(i)}}function Nt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!zn.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{zn.addEventListener("test",()=>{},e),zn.removeEventListener("test",()=>{},e)}catch{}return r}();function gn(r){return/^[\s\xa0]*$/.test(r)}function mr(){var r=zn.navigator;return r&&(r=r.userAgent)?r:""}function oi(r){return-1!=mr().indexOf(r)}function _r(r){return _r[" "](r),r}_r[" "]=function(){};var Ji,r,ba=oi("Opera"),sa=oi("Trident")||oi("MSIE"),Ho=oi("Edge"),ml=Ho||sa,ac=oi("Gecko")&&!(-1!=mr().toLowerCase().indexOf("webkit")&&!oi("Edge"))&&!(oi("Trident")||oi("MSIE"))&&!oi("Edge"),$o=-1!=mr().toLowerCase().indexOf("webkit")&&!oi("Edge");function Qa(){var r=zn.document;return r?r.documentMode:void 0}e:{var Cu="",Ed=(r=mr(),ac?/rv:([^\);]+)(\)|;)/.exec(r):Ho?/Edge\/([\d\.]+)/.exec(r):sa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):$o?/WebKit\/(\S+)/.exec(r):ba?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ed&&(Cu=Ed?Ed[1]:""),sa){var Ya=Qa();if(null!=Ya&&Ya>parseFloat(Cu)){Ji=String(Ya);break e}}Ji=Cu}var uc=zn.document&&sa&&(Qa()||parseInt(Ji,10))||void 0;function zu(r,e){if(Nt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,i=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(ac){e:{try{_r(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:_l[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&zu.$.h.call(this)}}V(zu,Nt);var _l={2:"touch",3:"pen",4:"mouse"};zu.prototype.h=function(){zu.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),yl=0;function jh(r,e,n,i,l){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=l,this.key=++yl,this.fa=this.ia=!1}function Gu(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function zc(r,e,n){for(const i in r)e.call(n,r[i],i,r)}function lc(r){const e={};for(const n in r)e[n]=r[n];return e}const js="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aa(r,e){let n,i;for(let l=1;l<arguments.length;l++){for(n in i=arguments[l],i)r[n]=i[n];for(let f=0;f<js.length;f++)n=js[f],Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])}}function ua(r){this.src=r,this.g={},this.h=0}function $h(r,e){var n=e.type;if(n in r.g){var f,i=r.g[n],l=se(i,e);(f=0<=l)&&Array.prototype.splice.call(i,l,1),f&&(Gu(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function yi(r,e,n,i){for(var l=0;l<r.length;++l){var f=r[l];if(!f.fa&&f.listener==e&&f.capture==!!n&&f.la==i)return l}return-1}ua.prototype.add=function(r,e,n,i,l){var f=r.toString();(r=this.g[f])||(r=this.g[f]=[],this.h++);var _=yi(r,e,i,l);return-1<_?(e=r[_],n||(e.ia=!1)):((e=new jh(e,this.src,f,!!i,l)).ia=n,r.push(e)),e};var vl="closure_lm_"+(1e6*Math.random()|0),Hs={};function Xi(r,e,n,i,l){if(i&&i.once)return la(r,e,n,i,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Xi(r,e[f],n,i,l);return null}return n=qu(n),r&&r[oa]?r.O(e,n,ot(i)?!!i.capture:!!i,l):zh(r,e,n,!1,i,l)}function zh(r,e,n,i,l,f){if(!e)throw Error("Invalid event type");var _=ot(l)?!!l.capture:!!l,C=Ja(r);if(C||(r[vl]=C=new ua(r)),(n=C.add(e,n,i,_,f)).proxy)return n;if(i=function Gc(){const e=wd;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=i,i.src=r,i.listener=n,r.addEventListener)Tt||(l=_),void 0===l&&(l=!1),r.addEventListener(e.toString(),i,l);else if(r.attachEvent)r.attachEvent(_s(e.toString()),i);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(i)}return n}function la(r,e,n,i,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)la(r,e[f],n,i,l);return null}return n=qu(n),r&&r[oa]?r.P(e,n,ot(i)?!!i.capture:!!i,l):zh(r,e,n,!0,i,l)}function qc(r,e,n,i,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)qc(r,e[f],n,i,l);else i=ot(i)?!!i.capture:!!i,n=qu(n),r&&r[oa]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=yi(f=r.g[e],n,i,l))&&(Gu(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete r.g[e],r.h--))):r&&(r=Ja(r))&&(e=r.g[e.toString()],r=-1,e&&(r=yi(e,n,i,l)),(n=-1<r?e[r]:null)&&Bl(n))}function Bl(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[oa])$h(e.i,r);else{var n=r.type,i=r.proxy;e.removeEventListener?e.removeEventListener(n,i,r.capture):e.detachEvent?e.detachEvent(_s(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ja(e))?($h(n,r),0==n.h&&(n.src=null,e[vl]=null)):Gu(r)}}}function _s(r){return r in Hs?Hs[r]:Hs[r]="on"+r}function wd(r,e){if(r.fa)r=!0;else{e=new zu(e,this);var n=r.listener,i=r.la||r.src;r.ia&&Bl(r),r=n.call(i,e)}return r}function Ja(r){return(r=r[vl])instanceof ua?r:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(r){return"function"==typeof r?r:(r[Ri]||(r[Ri]=function(e){return r.handleEvent(e)}),r[Ri])}function ys(){M.call(this),this.i=new ua(this),this.S=this,this.J=null}function vs(r,e){var n,i=r.J;if(i)for(n=[];i;i=i.J)n.push(i);if(r=r.S,i=e.type||e,"string"==typeof e)e=new Nt(e,r);else if(e instanceof Nt)e.target=e.target||r;else{var l=e;aa(e=new Nt(i,r),l)}if(l=!0,n)for(var f=n.length-1;0<=f;f--){var _=e.g=n[f];l=jl(_,i,!0,e)&&l}if(l=jl(_=e.g=r,i,!0,e)&&l,l=jl(_,i,!1,e)&&l,n)for(f=0;f<n.length;f++)l=jl(_=e.g=n[f],i,!1,e)&&l}function jl(r,e,n,i){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var _=e[f];if(_&&!_.fa&&_.capture==n){var C=_.listener,k=_.la||_.src;_.ia&&$h(r.i,_),l=!1!==C.call(k,i)&&l}}return l&&!i.defaultPrevented}V(ys,M),ys.prototype[oa]=!0,ys.prototype.removeEventListener=function(r,e,n,i){qc(this,r,e,n,i)},ys.prototype.N=function(){if(ys.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],i=0;i<n.length;i++)Gu(n[i]);delete r.g[e],r.h--}}this.J=null},ys.prototype.O=function(r,e,n,i){return this.i.add(String(r),e,!1,n,i)},ys.prototype.P=function(r,e,n,i){return this.i.add(String(r),e,!0,n,i)};var zo=zn.JSON.stringify;function ca(){var r=El;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Xa=new class Wu{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Go,r=>r.reset());class Go{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ku(r){var e=1;r=r.split(":");const n=[];for(;0<e&&r.length;)n.push(r.shift()),e--;return r.length&&n.push(r.join(":")),n}function Du(r){zn.setTimeout(()=>{throw r},0)}let Zu,Ca=!1,El=new class Hl{constructor(){this.h=this.g=null}add(e,n){const i=Xa.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},Qu=()=>{const r=zn.Promise.resolve(void 0);Zu=()=>{r.then(Wc)}};var Wc=()=>{for(var r;r=ca();){try{r.h.call(r.g)}catch(n){Du(n)}var e=Xa;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ca=!1};function $l(r,e){ys.call(this),this.h=r||1,this.g=e||zn,this.j=A(this.qb,this),this.l=Date.now()}function eu(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Kc(r,e,n){if("function"==typeof r)n&&(r=A(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=A(r.handleEvent,r)}return 2147483647<Number(e)?-1:zn.setTimeout(r,e||0)}function nh(r){r.g=Kc(()=>{r.g=null,r.i&&(r.i=!1,nh(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}V($l,ys),(dn=$l.prototype).ga=!1,dn.T=null,dn.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vs(this,"tick"),this.ga&&(eu(this),this.start()))}},dn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dn.N=function(){$l.$.N.call(this),eu(this),delete this.g};class Yu extends M{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nh(this)}N(){super.N(),this.g&&(zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(r){M.call(this),this.h=r,this.g={}}V(qo,M);var Gh=[];function $s(r,e,n,i){Array.isArray(n)||(n&&(Gh[0]=n.toString()),n=Gh);for(var l=0;l<n.length;l++){var f=Xi(e,n[l],i||r.handleEvent,!1,r.h||r);if(!f)break;r.g[f.key]=f}}function zl(r){zc(r.g,function(e,n){this.g.hasOwnProperty(n)&&Bl(e)},r),r.g={}}function Zc(){this.g=!0}function cc(r,e,n,i){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Da(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var i=n[r];if(!(2>i.length)){var l=i[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<l.length;_++)l[_]=""}}}return zo(n)}catch{return e}}(r,n)+(i?" "+i:"")})}qo.prototype.N=function(){qo.$.N.call(this),zl(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zc.prototype.Ea=function(){this.g=!1},Zc.prototype.info=function(){};var Aa={},Xu=null;function R(){return Xu=Xu||new ys}function F(r){Nt.call(this,Aa.Ta,r)}function Q(r){const e=R();vs(e,new F(e))}function he(r,e){Nt.call(this,Aa.STAT_EVENT,r),this.stat=e}function Te(r){const e=R();vs(e,new he(e,r))}function We(r,e){Nt.call(this,Aa.Ua,r),this.size=e}function Et(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return zn.setTimeout(function(){r()},e)}Aa.Ta="serverreachability",V(F,Nt),Aa.STAT_EVENT="statevent",V(he,Nt),Aa.Ua="timingevent",V(We,Nt);var ln={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},un={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xn(){}function Yn(){}xn.prototype.h=null;var Id,zs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gs(){Nt.call(this,"d")}function Gi(){Nt.call(this,"c")}function da(){}function Wo(r,e,n,i){this.l=r,this.j=e,this.m=n,this.W=i||1,this.U=new qo(this),this.P=dc,this.V=new $l(r=ml?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}V(Gs,Nt),V(Gi,Nt),V(da,xn),da.prototype.g=function(){return new XMLHttpRequest},da.prototype.i=function(){return{}},Id=new da;var dc=45e3,ng={},hc={};function Gl(r,e,n){r.L=1,r.v=Nn(oe(e)),r.s=n,r.S=!0,wl(r,null)}function wl(r,e){r.G=Date.now(),Co(r),r.A=oe(r.v);var n=r.A,i=r.W;Array.isArray(i)||(i=[String(i)]),wm(n.i,"t",i),r.C=0,n=r.l.J,r.h=new hs,r.g=ay(r.l,n?e:null,!r.s),0<r.O&&(r.M=new Yu(A(r.Pa,r,r.g),r.O)),$s(r.U,r.g,"readystatechange",r.nb),e=r.I?lc(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Q(),function Ju(r,e,n,i,l,f){r.info(function(){if(r.g)if(f)for(var _="",C=f.split("&"),k=0;k<C.length;k++){var B=C[k].split("=");if(1<B.length){var X=B[0];B=B[1];var le=X.split("_");_=2<=le.length&&"type"==le[1]?_+(X+"=")+B+"&":_+(X+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+i+") [attempt "+l+"]: "+e+"\n"+n+"\n"+_})}(r.j,r.u,r.A,r.m,r.W,r.s)}function rh(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ih(r,e,n){let l,i=!0;for(;!r.J&&r.C<n.length;){if(l=rg(r,n),l==hc){4==e&&(r.o=4,Te(14),i=!1),cc(r.j,r.m,null,"[Incomplete Response]");break}if(l==ng){r.o=4,Te(15),cc(r.j,r.m,n,"[Invalid Chunk]"),i=!1;break}cc(r.j,r.m,l,null),Lf(r,l)}rh(r)&&l!=hc&&l!=ng&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,Te(16),i=!1),r.i=r.i&&i,i?0<n.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cg(e),e.M=!0,Te(11))):(cc(r.j,r.m,n,"[Invalid Chunked Response]"),tu(r),Wh(r))}function rg(r,e){var n=r.C,i=e.indexOf("\n",n);return-1==i?hc:(n=Number(e.substring(n,i)),isNaN(n)?ng:(i+=1)+n>e.length?hc:(e=e.slice(i,i+n),r.C=i+n,e))}function Co(r){r.Y=Date.now()+r.P,qh(r,r.P)}function qh(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Et(A(r.lb,r),e)}function Ko(r){r.B&&(zn.clearTimeout(r.B),r.B=null)}function Wh(r){0==r.l.H||r.J||ef(r.l,r)}function tu(r){Ko(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,eu(r.V),zl(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Lf(r,e){try{var n=r.l;if(0!=n.H&&(n.g==r||Ov(n.i,r)))if(!r.K&&Ov(n.i,r)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var l=i;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<r.G))break e;lh(n),Os(n)}uh(n),Te(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Et(A(n.ib,n),6e3));if(1>=Bf(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mc(n,11)}else if((r.K||n.g==r)&&lh(n),!gn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let B=l[e];if(n.V=B[0],B=B[1],2==n.H)if("c"==B[0]){n.K=B[1],n.pa=B[2];const X=B[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const le=B[4];null!=le&&(n.Ga=le,n.l.info("SVER="+n.Ga));const Oe=B[5];null!=Oe&&"number"==typeof Oe&&0<Oe&&(n.L=i=1.5*Oe,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const st=r.g;if(st){const zt=st.g?st.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var f=i.i;f.g||-1==zt.indexOf("spdy")&&-1==zt.indexOf("quic")&&-1==zt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Im(f,f.h),f.h=null))}if(i.F){const fn=st.g?st.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(i.Da=fn,jt(i.I,i.F,fn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-r.G,n.l.info("Handshake RTT: "+n.S+"ms"));var _=r;if((i=n).wa=Sm(i,i.J?i.pa:null,i.Y),_.K){Nv(i.i,_);var C=_,k=i.L;k&&C.setTimeout(k),C.B&&(Ko(C),Co(C)),i.g=_}else xa(i);0<n.j.length&&ug(n)}else"stop"!=B[0]&&"close"!=B[0]||mc(n,7);else 3==n.H&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?mc(n,7):sy(n):"noop"!=B[0]&&n.h&&n.h.Aa(B),n.A=0)}Q()}catch{}}function E(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Tu(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var n=function S(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Tu(r)||"string"==typeof r){var e=[];r=r.length;for(var n=0;n<r;n++)e.push(n);return e}e=[],n=0;for(const i in r)e[n++]=i;return e}}}(r),i=function Em(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Tu(r)){for(var e=[],n=r.length,i=0;i<n;i++)e.push(r[i]);return e}for(i in e=[],n=0,r)e[n++]=r[i];return e}(r),l=i.length,f=0;f<l;f++)e.call(void 0,i[f],n&&n[f],r)}(dn=Wo.prototype).setTimeout=function(r){this.P=r},dn.nb=function(r){r=r.target;const e=this.M;e&&3==gc(r)?e.l():this.Pa(r)},dn.Pa=function(r){try{if(r==this.g)e:{const X=gc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||ml||this.g&&(this.h.h||this.g.ja()||Yh(this.g)))){this.J||4!=X||7==e||Q(),Ko(this);var n=this.g.da();this.ca=n;t:if(rh(this)){var i=Yh(this.g);r="";var l=i.length,f=4==gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tu(this),Wh(this);var _="";break t}this.h.i=new zn.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,r+=this.h.i.decode(i[e],{stream:f&&e==l-1});i.splice(0,l),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==n,function bo(r,e,n,i,l,f,_){r.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var C,k=this.g;if((C=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gn(C)){var B=C;break t}}B=null}if(!(n=B)){this.i=!1,this.o=3,Te(12),tu(this),Wh(this);break e}cc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lf(this,n)}this.S?(ih(this,X,_),ml&&this.i&&3==X&&($s(this.U,this.V,"tick",this.mb),this.V.start())):(cc(this.j,this.m,_,null),Lf(this,_)),4==X&&tu(this),this.i&&!this.J&&(4==X?ef(this.l,this):(this.i=!1,Co(this)))}else(function iy(r){const e={};r=(r.g&&2<=gc(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<r.length;i++){if(gn(r[i]))continue;var n=Ku(r[i]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const f=e[l]||[];e[l]=f,f.push(n)}!function Hh(r,e){for(const n in r)e.call(void 0,r[n],n,r)}(e,function(i){return i.join(", ")})})(this.g),400==n&&0<_.indexOf("Unknown SID")?(this.o=3,Te(12)):(this.o=0,Te(13)),tu(this),Wh(this)}}}catch{}},dn.mb=function(){if(this.g){var r=gc(this.g),e=this.g.ja();this.C<e.length&&(Ko(this),ih(this,r,e),this.i&&4!=r&&Co(this))}},dn.cancel=function(){this.J=!0,tu(this)},dn.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ni(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Q(),Te(17)),tu(this),this.o=2,Wh(this)):qh(this,this.Y-r)};var T=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof J){this.h=r.h,He(this,r.j),this.s=r.s,this.g=r.g,ft(this,r.m),this.l=r.l;var e=r.i,n=new ha;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nn(this,n),this.o=r.o}else r&&(e=String(r).match(T))?(this.h=!1,He(this,e[1]||"",!0),this.s=kr(e[2]||""),this.g=kr(e[3]||"",!0),ft(this,e[4]),this.l=kr(e[5]||"",!0),nn(this,e[6]||"",!0),this.o=kr(e[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}function oe(r){return new J(r)}function He(r,e,n){r.j=n?kr(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ft(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function nn(r,e,n){e instanceof ha?(r.i=e,function ig(r,e){e&&!r.j&&(fc(r),r.i=null,r.g.forEach(function(n,i){var l=i.toLowerCase();i!=l&&(Qc(this,i),wm(this,l,n))},r)),r.j=e}(r.i,r.h)):(n||(e=so(e,Il)),r.i=new ha(e,r.h))}function jt(r,e,n){r.i.set(e,n)}function Nn(r){return jt(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function kr(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function so(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,ho),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ho(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}J.prototype.toString=function(){var r=[],e=this.j;e&&r.push(so(e,sh,!0),":");var n=this.g;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(so(e,sh,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&r.push("/"),r.push(so(n,"/"==n.charAt(0)?Ff:Sa,!0))),(n=this.i.toString())&&r.push("?",n),(n=this.o)&&r.push("#",so(n,Td)),r.join("")};var sh=/[#\/\?@]/g,Sa=/[#\?:]/g,Ff=/[#\?]/g,Il=/[#\?@]/g,Td=/#/g;function ha(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function fc(r){r.g||(r.g=new Map,r.h=0,r.i&&function P(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var i=r[n].indexOf("="),l=null;if(0<=i){var f=r[n].substring(0,i);l=r[n].substring(i+1)}else f=r[n];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qc(r,e){fc(r),e=Ir(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Vf(r,e){return fc(r),e=Ir(r,e),r.g.has(e)}function wm(r,e,n){Qc(r,e),0<n.length&&(r.i=null,r.g.set(Ir(r,e),fe(n)),r.h+=n.length)}function Ir(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Uf(r){this.l=r||ny,r=zn.PerformanceNavigationTiming?0<(r=zn.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(zn.g&&zn.g.Ka&&zn.g.Ka()&&zn.g.Ka().dc),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dn=ha.prototype).add=function(r,e){fc(this),this.i=null,r=Ir(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},dn.forEach=function(r,e){fc(this),this.g.forEach(function(n,i){n.forEach(function(l){r.call(e,l,i,this)},this)},this)},dn.ta=function(){fc(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const l=r[i];for(let f=0;f<l.length;f++)n.push(e[i])}return n},dn.Z=function(r){fc(this);let e=[];if("string"==typeof r)Vf(this,r)&&(e=e.concat(this.g.get(Ir(this,r))));else{r=Array.from(this.g.values());for(let n=0;n<r.length;n++)e=e.concat(r[n])}return e},dn.set=function(r,e){return fc(this),this.i=null,Vf(this,r=Ir(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},dn.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},dn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const f=encodeURIComponent(String(i)),_=this.Z(i);for(i=0;i<_.length;i++){var l=f;""!==_[i]&&(l+="="+encodeURIComponent(String(_[i]))),r.push(l)}}return this.i=r.join("&")};var ny=10;function ry(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Bf(r){return r.h?1:r.g?r.g.size:0}function Ov(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Im(r,e){r.g?r.g.add(e):r.h=e}function Nv(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Kh(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.F);return e}return fe(r.i)}Uf.prototype.cancel=function(){if(this.i=Kh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Zh=class{stringify(r){return zn.JSON.stringify(r,void 0)}parse(r){return zn.JSON.parse(r,void 0)}};function Tm(){this.g=new Zh}function jf(r,e,n){const i=n||"";try{E(r,function(l,f){let _=l;ot(l)&&(_=zo(l)),e.push(i+f+"="+encodeURIComponent(_))})}catch(l){throw e.push(i+"type="+encodeURIComponent("_badmap")),l}}function pc(r,e,n,i,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(i)}catch{}}function og(r){this.l=r.ec||null,this.j=r.ob||!1}function bm(r,e){ys.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Hf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}V(og,xn),og.prototype.g=function(){return new bm(this.l,this.j)},og.prototype.i=function(r){return function(){return r}}({}),V(bm,ys);var Hf=0;function ww(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Cm(r){r.readyState=4,r.l=null,r.j=null,r.A=null,is(r)}function is(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(dn=bm.prototype).open=function(r,e){if(this.readyState!=Hf)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,is(this)},dn.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||zn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},dn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cm(this)),this.readyState=Hf},dn.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zn.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ww(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},dn.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Cm(this):is(this),3==this.readyState&&ww(this)}},dn.Za=function(r){this.g&&(this.response=this.responseText=r,Cm(this))},dn.Ya=function(r){this.g&&(this.response=r,Cm(this))},dn.ka=function(){this.g&&Cm(this)},dn.setRequestHeader=function(r,e){this.v.append(r,e)},dn.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},dn.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Qh=zn.JSON.parse;function ss(r){ys.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dm,this.L=this.M=!1}V(ss,ys);var Dm="",kv=/^https?$/i,$f=["POST","PUT"];function Am(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,oh(r),ah(r)}function oh(r){r.F||(r.F=!0,vs(r,"complete"),vs(r,"error"))}function Tl(r){if(r.h&&typeof Io<"u"&&(!r.C[1]||4!=gc(r)||2!=r.da()))if(r.v&&4==gc(r))Kc(r.La,0,r);else if(vs(r,"readystatechange"),4==gc(r)){r.h=!1;try{const _=r.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=0===_){var l=String(r.I).match(T)[1]||null;!l&&zn.self&&zn.self.location&&(l=zn.self.location.protocol.slice(0,-1)),i=!kv.test(l?l.toLowerCase():"")}n=i}if(n)vs(r,"complete"),vs(r,"success");else{r.m=6;try{var f=2<gc(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",oh(r)}}finally{ah(r)}}}function ah(r,e){if(r.g){Gf(r);const n=r.g,i=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||vs(r,"ready");try{n.onreadystatechange=i}catch{}}}function Gf(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(zn.clearTimeout(r.A),r.A=null)}function gc(r){return r.g?r.g.readyState:0}function Yh(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Dm:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ag(r){let e="";return zc(r,function(n,i){e+=i,e+=":",e+=n,e+="\r\n"}),e}function Jh(r,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=ag(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):jt(r,e,n))}function Xh(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function Lv(r){this.Ga=0,this.j=[],this.l=new Zc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xh("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xh("baseRetryDelayMs",5e3,r),this.hb=Xh("retryDelaySeedMs",1e4,r),this.eb=Xh("forwardChannelMaxRetries",2,r),this.xa=Xh("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Uf(r&&r.concurrentRequestLimit),this.Ja=new Tm,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sy(r){if(vi(r),3==r.H){var e=r.W++,n=oe(r.I);if(jt(n,"SID",r.K),jt(n,"RID",e),jt(n,"TYPE","terminate"),bd(r,n),(e=new Wo(r,r.l,e)).L=2,e.v=Nn(oe(n)),n=!1,zn.navigator&&zn.navigator.sendBeacon)try{n=zn.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&zn.Image&&((new Image).src=e.v,n=!0),n||(e.g=ay(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Co(e)}oy(r)}function Os(r){r.g&&(cg(r),r.g.cancel(),r.g=null)}function vi(r){Os(r),r.u&&(zn.clearTimeout(r.u),r.u=null),lh(r),r.i.cancel(),r.m&&("number"==typeof r.m&&zn.clearTimeout(r.m),r.m=null)}function ug(r){if(!ry(r.i)&&!r.m){r.m=!0;var e=r.Na;Zu||Qu(),Ca||(Zu(),Ca=!0),El.add(e,r),r.C=0}}function qf(r,e){var n;n=e?e.m:r.W++;const i=oe(r.I);jt(i,"SID",r.K),jt(i,"RID",n),jt(i,"AID",r.V),bd(r,i),r.o&&r.s&&Jh(i,r.o,r.s),n=new Wo(r,r.l,n,r.C+1),null===r.o&&(n.I=r.s),e&&(r.j=e.F.concat(r.j)),e=lg(r,n,1e3),n.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Im(r.i,n),Gl(n,i,e)}function bd(r,e){r.na&&zc(r.na,function(n,i){jt(e,i,n)}),r.h&&E({},function(n,i){jt(e,i,n)})}function lg(r,e,n){n=Math.min(r.j.length,n);var i=r.h?A(r.h.Va,r.h,r):null;e:{var l=r.j;let f=-1;for(;;){const _=["count="+n];-1==f?0<n?(f=l[0].g,_.push("ofs="+f)):f=0:_.push("ofs="+f);let C=!0;for(let k=0;k<n;k++){let B=l[k].g;const X=l[k].map;if(B-=f,0>B)f=Math.max(0,l[k].g-100),C=!1;else try{jf(X,_,"req"+B+"_")}catch{i&&i(X)}}if(C){i=_.join("&");break e}}}return r=r.j.splice(0,n),e.F=r,i}function xa(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Zu||Qu(),Ca||(Zu(),Ca=!0),El.add(e,r),r.A=0}}function uh(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Et(A(r.Ma,r),Wf(r,r.A)),r.A++,0))}function cg(r){null!=r.B&&(zn.clearTimeout(r.B),r.B=null)}function dg(r){r.g=new Wo(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=oe(r.wa);jt(e,"RID","rpc"),jt(e,"SID",r.K),jt(e,"AID",r.V),jt(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&jt(e,"TO",r.qa),jt(e,"TYPE","xmlhttp"),bd(r,e),r.o&&r.s&&Jh(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var n=r.g;r=r.pa,n.L=1,n.v=Nn(oe(e)),n.s=null,n.S=!0,wl(n,r)}function lh(r){null!=r.v&&(zn.clearTimeout(r.v),r.v=null)}function ef(r,e){var n=null;if(r.g==e){lh(r),cg(r),r.g=null;var i=2}else{if(!Ov(r.i,e))return;n=e.F,Nv(r.i,e),i=1}if(0!=r.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=r.C;vs(i=R(),new We(i,n)),ug(r)}else xa(r);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==i&&function Au(r,e){return!(Bf(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Et(A(r.Na,r,e),Wf(r,r.C)),r.C++,0)))}(r,e)||2==i&&uh(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),l){case 1:mc(r,5);break;case 4:mc(r,10);break;case 3:mc(r,6);break;default:mc(r,2)}}function Wf(r,e){let n=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(n*=2),n*e}function mc(r,e){if(r.l.info("Error code "+e),2==e){var n=null;r.h&&(n=null);var i=A(r.pb,r);n||(n=new J("//www.google.com/images/cleardot.gif"),zn.location&&"http"==zn.location.protocol||He(n,"https"),Nn(n)),function Ew(r,e){const n=new Zc;if(zn.Image){const i=new Image;i.onload=N(pc,n,i,"TestLoadImage: loaded",!0,e),i.onerror=N(pc,n,i,"TestLoadImage: error",!1,e),i.onabort=N(pc,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=N(pc,n,i,"TestLoadImage: timeout",!1,e),zn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=r}else e(!1)}(n.toString(),i)}else Te(2);r.H=0,r.h&&r.h.za(e),oy(r),vi(r)}function oy(r){if(r.H=0,r.ma=[],r.h){const e=Kh(r.i);(0!=e.length||0!=r.j.length)&&(Ze(r.ma,e),Ze(r.ma,r.j),r.i.i.length=0,fe(r.j),r.j.length=0),r.h.ya()}}function Sm(r,e,n){var i=n instanceof J?oe(n):new J(n);if(""!=i.g)e&&(i.g=e+"."+i.g),ft(i,i.m);else{var l=zn.location;i=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var f=new J(null);i&&He(f,i),e&&(f.g=e),l&&ft(f,l),n&&(f.l=n),i=f}return e=r.Da,(n=r.F)&&e&&jt(i,n,e),jt(i,"VER",r.ra),bd(r,i),i}function ay(r,e,n){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ss(n&&r.Ha&&!r.va?new og({ob:!0}):r.va)).Oa(r.J),e}function Fv(){}function tf(){if(sa&&!(10<=Number(uc)))throw Error("Environmental error: no available transport.")}function nu(r,e){ys.call(this),this.g=new Lv(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!gn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Zf(this)}function Vv(r){Gs.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Kf(){Gi.call(this),this.status=1}function Zf(r){this.g=r}function el(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cd(r,e,n){n||(n=0);var i=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)i[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)i[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var f=r.g[3],_=(e=r.g[0])+(f^(n=r.g[1])&((l=r.g[2])^f))+i[0]+3614090360&4294967295;_=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=(n=(l=(f=(e=n+(_<<7&4294967295|_>>>25))+((_=f+(l^e&(n^l))+i[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=l+(n^f&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^l&(f^e))+i[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(l^f))+i[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=f+(l^e&(n^l))+i[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=l+(n^f&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^l&(f^e))+i[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(l^f))+i[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=f+(l^e&(n^l))+i[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=l+(n^f&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^l&(f^e))+i[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(l^f))+i[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=f+(l^e&(n^l))+i[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=l+(n^f&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^l&(f^e))+i[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(l^f&(n^l))+i[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^l&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^n&(f^e))+i[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(l^f))+i[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^f&(n^l))+i[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^l&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^n&(f^e))+i[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(l^f))+i[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^f&(n^l))+i[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^l&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^n&(f^e))+i[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(l^f))+i[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(l^f&(n^l))+i[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^l&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=l+(e^n&(f^e))+i[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(l^f))+i[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(n^l^f)+i[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^l)+i[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=l+(f^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=n+(l^f^e)+i[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^l^f)+i[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^l)+i[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=l+(f^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=n+(l^f^e)+i[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^l^f)+i[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^l)+i[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=l+(f^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=n+(l^f^e)+i[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^l^f)+i[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^l)+i[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=l+(f^e^n)+i[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=n+(l^f^e)+i[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(l^(n|~f))+i[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~l))+i[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(f|~n))+i[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(l|~e))+i[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(n|~f))+i[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~l))+i[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(f|~n))+i[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(l|~e))+i[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(l^(n|~f))+i[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~l))+i[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=l+(e^(f|~n))+i[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(l|~e))+i[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((f=(e=n+((_=e+(l^(n|~f))+i[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~l))+i[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((l=f+((_=l+(e^(f|~n))+i[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+i[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(l+(_<<21&4294967295|_>>>11))&4294967295,r.g[2]=r.g[2]+l&4294967295,r.g[3]=r.g[3]+f&4294967295}function Ui(r,e){this.h=e;for(var n=[],i=!0,l=r.length-1;0<=l;l--){var f=0|r[l];i&&f==e||(n[l]=f,i=!1)}this.g=n}(dn=ss.prototype).Oa=function(r){this.M=r},dn.ha=function(r,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Id.g(),this.C=function hr(r){return r.h||(r.h=r.i())}(this.u?this.u:Id),this.g.onreadystatechange=A(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(f){return void Am(this,f)}if(r=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var l in i)n.set(l,i[l]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const f of i.keys())n.set(f,i.get(f))}i=Array.from(n.keys()).find(f=>"content-type"==f.toLowerCase()),l=zn.FormData&&r instanceof zn.FormData,!(0<=se($f,e))||i||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,_]of n)this.g.setRequestHeader(f,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gf(this),0<this.B&&((this.L=function zf(r){return sa&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=A(this.ua,this)):this.A=Kc(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(f){Am(this,f)}},dn.ua=function(){typeof Io<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vs(this,"timeout"),this.abort(8))},dn.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,vs(this,"complete"),vs(this,"abort"),ah(this))},dn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ah(this,!0)),ss.$.N.call(this)},dn.La=function(){this.s||(this.G||this.v||this.l?Tl(this):this.kb())},dn.kb=function(){Tl(this)},dn.isActive=function(){return!!this.g},dn.da=function(){try{return 2<gc(this)?this.g.status:-1}catch{return-1}},dn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},dn.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Qh(e)}},dn.Ia=function(){return this.m},dn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dn=Lv.prototype).ra=8,dn.H=1,dn.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const l=new Wo(this,this.l,r);let f=this.s;if(this.U&&(f?(f=lc(f),aa(f,this.U)):f=this.U),null!==this.o||this.O||(l.I=f,f=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lg(this,l,e),jt(n=oe(this.I),"RID",r),jt(n,"CVER",22),this.F&&jt(n,"X-HTTP-Session-Id",this.F),bd(this,n),f&&(this.O?e="headers="+encodeURIComponent(String(ag(f)))+"&"+e:this.o&&Jh(n,this.o,f)),Im(this.i,l),this.bb&&jt(n,"TYPE","init"),this.P?(jt(n,"$req",e),jt(n,"SID","null"),l.aa=!0,Gl(l,n,null)):Gl(l,n,e),this.H=2}}else 3==this.H&&(r?qf(this,r):0==this.j.length||ry(this.i)||qf(this))},dn.Ma=function(){if(this.u=null,dg(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Et(A(this.jb,this),r)}},dn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Te(10),Os(this),dg(this))},dn.ib=function(){null!=this.v&&(this.v=null,Os(this),uh(this),Te(19))},dn.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Te(2)):(this.l.info("Failed to ping google.com"),Te(1))},dn.isActive=function(){return!!this.h&&this.h.isActive(this)},(dn=Fv.prototype).Ba=function(){},dn.Aa=function(){},dn.za=function(){},dn.ya=function(){},dn.isActive=function(){return!0},dn.Va=function(){},tf.prototype.g=function(r,e){return new nu(r,e)},V(nu,ys),nu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,n=this.h||void 0;Te(0),r.Y=e,r.na=n||{},r.G=r.aa,r.I=Sm(r,null,r.Y),ug(r)},nu.prototype.close=function(){sy(this.g)},nu.prototype.u=function(r){var e=this.g;if("string"==typeof r){var n={};n.__data__=r,r=n}else this.v&&((n={}).__data__=zo(r),r=n);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ug(e)},nu.prototype.N=function(){this.g.h=null,delete this.j,sy(this.g),delete this.g,nu.$.N.call(this)},V(Vv,Gs),V(Kf,Gi),V(Zf,Fv),Zf.prototype.Ba=function(){vs(this.g,"a")},Zf.prototype.Aa=function(r){vs(this.g,new Vv(r))},Zf.prototype.za=function(r){vs(this.g,new Kf)},Zf.prototype.ya=function(){vs(this.g,"b")},V(el,function Iw(){this.blockSize=-1}),el.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},el.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var n=e-this.blockSize,i=this.m,l=this.h,f=0;f<e;){if(0==l)for(;f<=n;)Cd(this,r,f),f+=this.blockSize;if("string"==typeof r){for(;f<e;)if(i[l++]=r.charCodeAt(f++),l==this.blockSize){Cd(this,i),l=0;break}}else for(;f<e;)if(i[l++]=r[f++],l==this.blockSize){Cd(this,i),l=0;break}}this.h=l,this.i+=e},el.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var n=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&n,n/=256;for(this.j(r),r=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)r[n++]=this.g[e]>>>i&255;return r};var Qf={};function Es(r){return-128<=r&&128>r?function co(r,e){var n=Qf;return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e(r)}(r,function(e){return new Ui([0|e],0>e?-1:0)}):new Ui([0|r],0>r?-1:0)}function bl(r){if(isNaN(r)||!isFinite(r))return Su;if(0>r)return fa(bl(-r));for(var e=[],n=1,i=0;r>=n;i++)e[i]=r/n|0,n*=Yc;return new Ui(e,0)}var Yc=4294967296,Su=Es(0),fg=Es(1),uy=Es(16777216);function Cl(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Dl(r){return-1==r.h}function fa(r){for(var e=r.g.length,n=[],i=0;i<e;i++)n[i]=~r.g[i];return new Ui(n,~r.h).add(fg)}function Yf(r,e){return r.add(fa(e))}function nf(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function rf(r,e){this.g=r,this.h=e}function Jc(r,e){if(Cl(e))throw Error("division by zero");if(Cl(r))return new rf(Su,Su);if(Dl(r))return e=Jc(fa(r),e),new rf(fa(e.g),fa(e.h));if(Dl(e))return e=Jc(r,fa(e)),new rf(fa(e.g),e.h);if(30<r.g.length){if(Dl(r)||Dl(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fg,i=e;0>=i.X(r);)n=xm(n),i=xm(i);var l=Jf(n,1),f=Jf(i,1);for(i=Jf(i,2),n=Jf(n,2);!Cl(i);){var _=f.add(i);0>=_.X(r)&&(l=l.add(n),f=_),i=Jf(i,1),n=Jf(n,1)}return e=Yf(r,l.R(e)),new rf(l,e)}for(l=Su;0<=r.X(e);){for(n=Math.max(1,Math.floor(r.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),_=(f=bl(n)).R(e);Dl(_)||0<_.X(r);)_=(f=bl(n-=i)).R(e);Cl(f)&&(f=fg),l=l.add(f),r=Yf(r,_)}return new rf(l,r)}function xm(r){for(var e=r.g.length+1,n=[],i=0;i<e;i++)n[i]=r.D(i)<<1|r.D(i-1)>>>31;return new Ui(n,r.h)}function Jf(r,e){var n=e>>5;e%=32;for(var i=r.g.length-n,l=[],f=0;f<i;f++)l[f]=0<e?r.D(f+n)>>>e|r.D(f+n+1)<<32-e:r.D(f+n);return new Ui(l,r.h)}(dn=Ui.prototype).ea=function(){if(Dl(this))return-fa(this).ea();for(var r=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);r+=(0<=i?i:Yc+i)*e,e*=Yc}return r},dn.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Cl(this))return"0";if(Dl(this))return"-"+fa(this).toString(r);for(var e=bl(Math.pow(r,6)),n=this,i="";;){var l=Jc(n,e).g,f=((0<(n=Yf(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(r);if(Cl(n=l))return f+i;for(;6>f.length;)f="0"+f;i=f+i}},dn.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},dn.X=function(r){return Dl(r=Yf(this,r))?-1:Cl(r)?0:1},dn.abs=function(){return Dl(this)?fa(this):this},dn.add=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],i=0,l=0;l<=e;l++){var f=i+(65535&this.D(l))+(65535&r.D(l)),_=(f>>>16)+(this.D(l)>>>16)+(r.D(l)>>>16);i=_>>>16,n[l]=(_&=65535)<<16|(f&=65535)}return new Ui(n,-2147483648&n[n.length-1]?-1:0)},dn.R=function(r){if(Cl(this)||Cl(r))return Su;if(Dl(this))return Dl(r)?fa(this).R(fa(r)):fa(fa(this).R(r));if(Dl(r))return fa(this.R(fa(r)));if(0>this.X(uy)&&0>r.X(uy))return bl(this.ea()*r.ea());for(var e=this.g.length+r.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var l=0;l<r.g.length;l++){var f=this.D(i)>>>16,_=65535&this.D(i),C=r.D(l)>>>16,k=65535&r.D(l);n[2*i+2*l]+=_*k,nf(n,2*i+2*l),n[2*i+2*l+1]+=f*k,nf(n,2*i+2*l+1),n[2*i+2*l+1]+=_*C,nf(n,2*i+2*l+1),n[2*i+2*l+2]+=f*C,nf(n,2*i+2*l+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ui(n,0)},dn.gb=function(r){return Jc(this,r).h},dn.and=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&r.D(i);return new Ui(n,this.h&r.h)},dn.or=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|r.D(i);return new Ui(n,this.h|r.h)},dn.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^r.D(i);return new Ui(n,this.h^r.h)},tf.prototype.createWebChannel=tf.prototype.g,nu.prototype.send=nu.prototype.u,nu.prototype.open=nu.prototype.m,nu.prototype.close=nu.prototype.close,ln.NO_ERROR=0,ln.TIMEOUT=8,ln.HTTP_ERROR=6,un.COMPLETE="complete",Yn.EventType=zs,zs.OPEN="a",zs.CLOSE="b",zs.ERROR="c",zs.MESSAGE="d",ys.prototype.listen=ys.prototype.O,ss.prototype.listenOnce=ss.prototype.P,ss.prototype.getLastError=ss.prototype.Sa,ss.prototype.getLastErrorCode=ss.prototype.Ia,ss.prototype.getStatus=ss.prototype.da,ss.prototype.getResponseJson=ss.prototype.Wa,ss.prototype.getResponseText=ss.prototype.ja,ss.prototype.send=ss.prototype.ha,ss.prototype.setWithCredentials=ss.prototype.Oa,el.prototype.digest=el.prototype.l,el.prototype.reset=el.prototype.reset,el.prototype.update=el.prototype.j,Ui.prototype.add=Ui.prototype.add,Ui.prototype.multiply=Ui.prototype.R,Ui.prototype.modulo=Ui.prototype.gb,Ui.prototype.compare=Ui.prototype.X,Ui.prototype.toNumber=Ui.prototype.ea,Ui.prototype.toString=Ui.prototype.toString,Ui.prototype.getBits=Ui.prototype.D,Ui.fromNumber=bl,Ui.fromString=function hg(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return fa(hg(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=bl(Math.pow(e,8)),i=Su,l=0;l<r.length;l+=8){var f=Math.min(8,r.length-l),_=parseInt(r.substring(l,l+f),e);8>f?(f=bl(Math.pow(e,f)),i=i.R(f).add(bl(_))):i=(i=i.R(n)).add(bl(_))}return i},wo.createWebChannelTransport=function(){return new tf},wo.getStatEventTarget=function(){return R()},wo.ErrorCode=ln,wo.EventType=un,wo.Event=Aa,wo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wo.FetchXmlHttpFactory=og,wo.WebChannel=Yn,wo.XhrIo=ss,wo.Md5=el;var hy=wo.Integer=Ui;const fy="@firebase/firestore";class fo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fo.UNAUTHENTICATED=new fo(null),fo.GOOGLE_CREDENTIALS=new fo("google-credentials-uid"),fo.FIRST_PARTY=new fo("first-party-uid"),fo.MOCK_USER=new fo("mock-user");let tl="10.4.0";const ql=new Iu.Yd("@firebase/firestore");function Ht(r,...e){if(ql.logLevel<=Iu.in.DEBUG){const n=e.map(_c);ql.debug(`Firestore (${tl}): ${r}`,...n)}}function qi(r,...e){if(ql.logLevel<=Iu.in.ERROR){const n=e.map(_c);ql.error(`Firestore (${tl}): ${r}`,...n)}}function _c(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function bn(r="Unexpected state"){const e=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+r;throw qi(e),new Error(e)}function Gn(r,e){r||bn()}const _t_CANCELLED="cancelled",_t_INVALID_ARGUMENT="invalid-argument",_t_FAILED_PRECONDITION="failed-precondition",_t_UNAVAILABLE="unavailable";class $t extends $c.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Do{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Rm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fo.UNAUTHENTICATED))}shutdown(){}}class ed{constructor(e){this.t=e,this.currentUser=fo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;let l=this.i;const f=B=>this.i!==l?(l=this.i,n(B)):Promise.resolve();let _=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Do,e.enqueueRetryable(()=>f(this.currentUser))};const C=()=>{const B=_;e.enqueueRetryable((0,Ta.Z)(function*(){yield B.promise,yield f(i.currentUser)}))},k=B=>{Ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(B=>k(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?k(B):(Ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Do)}},0),C()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gn("string"==typeof i.accessToken),new Rm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gn(null===e||"string"==typeof e),new fo(e)}}class uf{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=fo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bw{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new uf(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=f=>{null!=f.error&&Ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,Ht("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>i(f))};const l=f=>{Ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?l(f):Ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Gn("string"==typeof n.token),this.R=n.token,new jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class yc{static V(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const l=Dw(40);for(let f=0;f<l.length;++f)i.length<20&&l[f]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[f]%62))}return i}}function rr(r,e){return r<e?-1:r>e?1:0}class gg{constructor(e,n,i){void 0===n?n=0:n>e.length&&bn(),void 0===i?i=e.length-n:i>e.length-n&&bn(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===gg.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gg?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const f=e.get(l),_=n.get(l);if(f<_)return-1;if(f>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fi extends gg{construct(e,n,i){return new fi(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $t(_t_INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new fi(n)}static emptyPath(){return new fi([])}}class yn{constructor(e){this.path=e}static fromPath(e){return new yn(fi.fromString(e))}static fromName(e){return new yn(fi.fromString(e).popFirst(5))}static empty(){return new yn(fi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yn(new fi(e.slice()))}}function hh(r){return"IndexedDbTransactionError"===r.name}class Wi{constructor(e,n){this.comparator=e,this.root=n||pa.EMPTY}insert(e,n){return new Wi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pa.BLACK,null,null))}remove(e){return new Wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(0===l)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lp(this.root,e,this.comparator,!0)}}class lp{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?i(e.key,n):1,n&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pa{constructor(e,n,i,l,f){this.key=e,this.value=n,this.color=i??pa.RED,this.left=l??pa.EMPTY,this.right=f??pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,f){return new pa(e??this.key,n??this.value,i??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const f=i(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,n,i),null):0===f?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return pa.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bn();const e=this.left.check();if(e!==this.right.check())throw bn();return e+(this.isRed()?0:1)}}pa.EMPTY=null,pa.RED=!0,pa.BLACK=!1,pa.EMPTY=new class{constructor(){this.size=0}get key(){throw bn()}get value(){throw bn()}get color(){throw bn()}get left(){throw bn()}get right(){throw bn()}copy(e,n,i,l,f){return this}insert(e,n,i){return new pa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(e){this.comparator=e,this.data=new Wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Pi)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,f=i.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pi(this.comparator);return n.data=e,n}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ty extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Ty("Invalid base64 string: "+f):f}}(e);return new Zs(n)}static fromUint8Array(e){const n=function(l){let f="";for(let _=0;_<l.length;++_)f+=String.fromCharCode(l[_]);return f}(e);return new Zs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function es(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}Zs.EMPTY_BYTE_STRING=new Zs("");class Wv{constructor(e,n,i,l,f,_,C,k,B){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=C,this.longPollingOptions=k,this.useFetchStreams=B}}class ff{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ff("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}var Ps,Mi;new Wi(yn.comparator),new Wi(yn.comparator),new Wi(yn.comparator),new Pi(yn.comparator),new Pi(rr),(Mi=Ps||(Ps={}))[Mi.OK=0]="OK",Mi[Mi.CANCELLED=1]="CANCELLED",Mi[Mi.UNKNOWN=2]="UNKNOWN",Mi[Mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mi[Mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mi[Mi.NOT_FOUND=5]="NOT_FOUND",Mi[Mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mi[Mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mi[Mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mi[Mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mi[Mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mi[Mi.ABORTED=10]="ABORTED",Mi[Mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mi[Mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mi[Mi.INTERNAL=13]="INTERNAL",Mi[Mi.UNAVAILABLE=14]="UNAVAILABLE",Mi[Mi.DATA_LOSS=15]="DATA_LOSS",new hy([4294967295,4294967295],0);class Nc{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(es(e.integerValue));else if("doubleValue"in e){const i=es(e.doubleValue);isNaN(i)?this.At(n,13):(this.At(n,15),function yg(r){return 0===r&&1/r==-1/0}(i)?n.Rt(0):n.Rt(i))}else if("timestampValue"in e){const i=e.timestampValue;this.At(n,20),"string"==typeof i?n.Vt(i):(n.Vt(`${i.seconds||""}`),n.Rt(i.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(function Ic(r){return"string"==typeof r?Zs.fromBase64String(r):Zs.fromUint8Array(r)}(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.At(n,45),n.Rt(i.latitude||0),n.Rt(i.longitude||0)}else"mapValue"in e?function Um(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):bn()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const i=e.fields||{};this.At(n,55);for(const l of Object.keys(i))this.ft(l,n),this.Tt(i[l],n)}bt(e,n){const i=e.values||[];this.At(n,50);for(const l of i)this.Tt(l,n)}wt(e,n){this.At(n,37),yn.fromName(e).path.forEach(i=>{this.At(n,60),this.Dt(i,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Nc.Ct=new Nc,new Uint8Array(0);class au{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new au(e,au.DEFAULT_COLLECTION_PERCENTILE,au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tm(){return typeof document<"u"?document:null}au.DEFAULT_COLLECTION_PERCENTILE=10,au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,au.DEFAULT=new au(41943040,au.DEFAULT_COLLECTION_PERCENTILE,au.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),au.DISABLED=new au(-1,0,0);class av{constructor(e,n,i=1e3,l=1.5,f=6e4){this._i=e,this.timerId=n,this.xo=i,this.Oo=l,this.No=f,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),i=Math.max(0,Date.now()-this.ko),l=Math.max(0,n-i);l>0&&Ht("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,l,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Yw{constructor(e,n,i,l,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=f,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,f){const _=Date.now()+i,C=new Yw(e,n,_,l,f);return C.start(i),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $t(_t_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class v0{constructor(e,n,i,l){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=fo.UNAUTHENTICATED,this.clientId=yc.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,Ta.Z)(function*(C){Ht("FirestoreClient","Received user=",C.uid),yield f.authCredentialListener(C),f.user=C});return function(C){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(Ht("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,Ta.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $t(_t_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ta.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const l=function am(r,e){if(qi("AsyncQueue",`${e}: ${r}`),hh(r))return new $t(_t_UNAVAILABLE,`${e}: ${r}`);throw r}(i,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function mv(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const b0=new Map;class GI{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new $t(_t_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $t(_t_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function HI(r,e,n,i){if(!0===e&&!0===i)throw new $t(_t_INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mv(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new $t(_t_INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new $t(_t_INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new $t(_t_INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U_{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $t(_t_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $t(_t_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GI(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new pg;switch(i.type){case"firstParty":return new bw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $t(_t_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=b0.get(n);i&&(Ht("ComponentProvider","Removing Datastore"),b0.delete(n),i.terminate())}(this),Promise.resolve()}}class FD{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new av(this,"async_queue_retry"),this.ou=()=>{const n=tm();n&&Ht("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=tm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=tm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new Do;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,Ta.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(n){if(!hh(n))throw n;Ht("AsyncQueue","Operation failed with retryable error: "+n)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(i=>{throw this.nu=i,this.ru=!1,qi("INTERNAL UNHANDLED ERROR: ",function(_){let C=_.message||"";return _.stack&&(C=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),C}(i)),i}).then(i=>(this.ru=!1,i))));return this.Za=n,n}enqueueAfterDelay(e,n,i){this._u(),this.su.indexOf(e)>-1&&(n=0);const l=Yw.createAndSchedule(this,e,n,i,f=>this.cu(f));return this.tu.push(l),l}_u(){this.nu&&bn()}verifyOperationInProgress(){}lu(){var e=this;return(0,Ta.Z)(function*(){let n;do{n=e.Za,yield n}while(n!==e.Za)})()}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}class ks extends U_{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new FD,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function WI(r){var e,n,i;const l=r._freezeSettings(),f=(k=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Wv(r._databaseId,k,r._persistenceKey,(X=l).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,mv(X.experimentalLongPollingOptions),X.useFetchStreams));var k,X;r._firestoreClient=new v0(r._authCredentials,r._appCheckCredentials,r._queue,f),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=l.localCache)&&void 0!==i&&i._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}!function(e,n=!0){tl=Rt.Jn,(0,Rt.Xd)(new Vr.wA("firestore",(i,{instanceIdentifier:l,options:f})=>{const _=i.getProvider("app").getImmediate(),C=new ks(new ed(i.getProvider("auth-internal")),new Cw(i.getProvider("app-check-internal")),function(B,X){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new $t(_t_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(B.options.projectId,X)}(_,l),_);return f=Object.assign({useFetchStreams:n},f),C._setSettings(f),C},"PUBLIC").setMultipleInstances(!0)),(0,Rt.KN)(fy,"4.2.0",e),(0,Rt.KN)(fy,"4.2.0","esm2017")}();var H0=U(7708);let gT=(()=>{var r;class e{constructor(i,l,f){this.http=i,this.actRoute=l,this.firestore=f,this.prodRef=this.firestore}getProducts(){let i;return this.actRoute.queryParams.subscribe(l=>{i=l}),i.price_min&&i.sort&&i.category&&i.price_max?(console.log(i),this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).where("price","<=",+i.price_max).orderBy("price","desc"==i.sort?"desc":"asc").where("category","==",i.category)).valueChanges()):i.price_min&&i.sort&&i.category?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).orderBy("price","desc"==i.sort?"desc":"asc").where("category","==",i.category)).valueChanges():i.sort&&i.category&&i.price_max?this.firestore.collection("products",l=>l.where("price","<=",+i.price_max).orderBy("price","desc"==i.sort?"desc":"asc").where("category","==",i.category)).valueChanges():i.price_min&&i.sort&&i.price_max?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).where("price","<=",+i.price_max).orderBy("price","desc"==i.sort?"desc":"asc")).valueChanges():i.price_min&&i.price_max&&i.category?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).where("price","<=",+i.price_max).where("category","==",i.category)).valueChanges():i.price_min&&i.sort?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).orderBy("price","desc"==i.sort?"desc":"asc")).valueChanges():i.price_max&&i.sort?this.firestore.collection("products",l=>l.where("price",">=",+i.price_max).orderBy("price","desc"==i.sort?"desc":"asc")).valueChanges():i.price_min&&i.price_max?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).where("price","<=",+i.price_max)).valueChanges():i.category&&i.price_min?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min).where("category","==",i.category)).valueChanges():i.category&&i.price_max?this.firestore.collection("products",l=>l.where("price","<=",+i.price_max).where("category","==",i.category)).valueChanges():i.category&&i.sort?this.firestore.collection("products",l=>l.where("category","==",i.category).orderBy("price","desc"==i.sort?"desc":"asc")).valueChanges():i.price_min?this.firestore.collection("products",l=>l.where("price",">=",+i.price_min)).valueChanges():i.price_max?this.firestore.collection("products",l=>l.where("price","<=",+i.price_max)).valueChanges():i.category?this.firestore.collection("products",l=>l.where("category","==",i.category)).valueChanges():i.sort?this.firestore.collection("products",l=>l.orderBy("price","desc"==i.sort?"desc":"asc")).valueChanges():this.firestore.collectionGroup("products").valueChanges()}getCategories(){return this.firestore.collection("categories").doc("UhXnpCPXIasl4tEGsBu7").valueChanges()}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(ie.eN),m.LFG(Y.gz),m.LFG(H0.ST))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();var Cv=U(2096),$0=U(1631),TC=U(4266),_m=U(4674);const bC=["addListener","removeListener"],CC=["addEventListener","removeEventListener"],mT=["on","off"];function Z_(r,e,n,i){if((0,_m.m)(n)&&(i=n,n=void 0),i)return Z_(r,e,n).pipe((0,it.Z)(i));const[l,f]=function vT(r){return(0,_m.m)(r.addEventListener)&&(0,_m.m)(r.removeEventListener)}(r)?CC.map(_=>C=>r[_](e,C,n)):function _T(r){return(0,_m.m)(r.addListener)&&(0,_m.m)(r.removeListener)}(r)?bC.map(z0(r,e)):function yT(r){return(0,_m.m)(r.on)&&(0,_m.m)(r.off)}(r)?mT.map(z0(r,e)):[];if(!l&&(0,TC.z)(r))return(0,$0.z)(_=>Z_(_,e,n))((0,ye.Xf)(r));if(!l)throw new TypeError("Invalid event target");return new Se.y(_=>{const C=(...k)=>_.next(1<k.length?k:k[0]);return l(C),()=>f(C)})}function z0(r,e){return n=>i=>r[n](e,i)}var ET=U(1954),G0=U(7394);const Q_={schedule(r){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:i}=Q_;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);const l=e(f=>{n=void 0,r(f)});return new G0.w0(()=>n?.(l))},requestAnimationFrame(...r){const{delegate:e}=Q_;return(e?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:e}=Q_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var q0=U(2631);const Ol=new class AC extends q0.v{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let l;e=e||i.shift();do{if(l=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,l){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw l}}}(class DC extends ET.o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=Q_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var l;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:f}=e;null!=n&&(null===(l=f[f.length-1])||void 0===l?void 0:l.id)!==n&&(Q_.cancelAnimationFrame(n),e._scheduled=void 0)}});let W0,SC=1;const K0={};function xC(r){return r in K0&&(delete K0[r],!0)}const wT={setImmediate(r){const e=SC++;return K0[e]=!0,W0||(W0=Promise.resolve()),W0.then(()=>xC(e)&&r()),e},clearImmediate(r){xC(r)}},{setImmediate:lA,clearImmediate:cA}=wT,Z0={setImmediate(...r){const{delegate:e}=Z0;return(e?.setImmediate||lA)(...r)},clearImmediate(r){const{delegate:e}=Z0;return(e?.clearImmediate||cA)(r)},delegate:void 0},Q0=new class RC extends q0.v{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let l;e=e||i.shift();do{if(l=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,l){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw l}}}(class Av extends ET.o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=Z0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,i=0){var l;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:f}=e;null!=n&&(null===(l=f[f.length-1])||void 0===l?void 0:l.id)!==n&&(Z0.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});var Y0=U(2664),MC=U(671);function dw(r=0,e,n=Zr.P){let i=-1;return null!=e&&((0,MC.K)(e)?n=e:i=e),new Se.y(l=>{let f=function OC(r){return r instanceof Date&&!isNaN(r)}(r)?+r-n.now():r;f<0&&(f=0);let _=0;return n.schedule(function(){l.closed||(l.next(_++),0<=i?this.schedule(void 0,i):l.complete())},f)})}function hw(r,e=Zr.z){return function PC(r){return(0,Vi.e)((e,n)=>{let i=!1,l=null,f=null,_=!1;const C=()=>{if(f?.unsubscribe(),f=null,i){i=!1;const B=l;l=null,n.next(B)}_&&n.complete()},k=()=>{f=null,_&&n.complete()};e.subscribe((0,Be.x)(n,B=>{i=!0,l=B,f||(0,ye.Xf)(r(B)).subscribe(f=(0,Be.x)(n,C,k))},()=>{_=!0,(!i||!f||f.closed)&&n.complete()}))})}(()=>dw(r,e))}var NC=U(9384),fw=U(4664),J0=U(940);const hA=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function TT(){return(0,m.f3M)(Ie.K0)}}),kC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Yp=(()=>{var r;class e{constructor(i){this.value="ltr",this.change=new m.vpe,i&&(this.value=function bT(r){const e=r?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kC.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(hA,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),X0=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({}),e})();var eI=U(3168);class pA{}class gA extends pA{constructor(e){super(),this._data=e}connect(){return(0,Y0.b)(this._data)?this._data:(0,Cv.of)(this._data)}disconnect(){}}class FC{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,n,i,l,f){e.forEachOperation((_,C,k)=>{let B,X;null==_.previousIndex?(B=this._insertView(()=>i(_,C,k),k,n,l(_)),X=B?1:0):null==k?(this._detachAndCacheView(C,n),X=3):(B=this._moveView(C,k,n,l(_)),X=2),f&&f({context:B?.context,operation:X,record:_})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,n,i,l){const f=this._insertViewFromCache(n,i);if(f)return void(f.context.$implicit=l);const _=e();return i.createEmbeddedView(_.templateRef,_.context,_.index)}_detachAndCacheView(e,n){const i=n.detach(e);this._maybeCacheView(i,n)}_moveView(e,n,i,l){const f=i.get(e);return i.move(f,n),f.context.$implicit=l,f}_maybeCacheView(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=n.indexOf(e);-1===i?e.destroy():n.remove(i)}}_insertViewFromCache(e,n){const i=this._viewCache.pop();return i&&n.insert(i,e),i||null}}const CT=new m.OlP("_ViewRepeater"),DT=["contentWrapper"],AT=["*"],ST=new m.OlP("VIRTUAL_SCROLL_STRATEGY");class BC{constructor(e,n,i){this._scrolledIndexChange=new pn.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,oc.x)()),this._viewport=null,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,n,i){this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},i=this._viewport.getViewportSize(),l=this._viewport.getDataLength();let f=this._viewport.measureScrollOffset(),_=this._itemSize>0?f/this._itemSize:0;if(n.end>l){const k=Math.ceil(i/this._itemSize),B=Math.max(0,Math.min(_,l-k));_!=B&&(_=B,f=B*this._itemSize,n.start=Math.floor(_)),n.end=Math.max(0,Math.min(l,n.start+k))}const C=f-n.start*this._itemSize;if(C<this._minBufferPx&&0!=n.start){const k=Math.ceil((this._maxBufferPx-C)/this._itemSize);n.start=Math.max(0,n.start-k),n.end=Math.min(l,Math.ceil(_+(i+this._minBufferPx)/this._itemSize))}else{const k=n.end*this._itemSize-(f+i);if(k<this._minBufferPx&&n.end!=l){const B=Math.ceil((this._maxBufferPx-k)/this._itemSize);B>0&&(n.end=Math.min(l,n.end+B),n.start=Math.max(0,Math.floor(_-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(_))}}function xT(r){return r._scrollStrategy}let jC=(()=>{var r;class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new BC(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(i){this._itemSize=Ne(i)}get minBufferPx(){return this._minBufferPx}set minBufferPx(i){this._minBufferPx=Ne(i)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(i){this._maxBufferPx=Ne(i)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275dir=m.lG2({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[m._Bn([{provide:ST,useFactory:xT,deps:[(0,m.Gpc)(()=>r)]}]),m.TTD]}),e})(),pw=(()=>{var r;class e{constructor(i,l,f){this._ngZone=i,this._platform=l,this._scrolled=new pn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=f}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const l=this.scrollContainers.get(i);l&&(l.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new Se.y(l=>{this._globalSubscription||this._addGlobalListener();const f=i>0?this._scrolled.pipe(hw(i)).subscribe(l):this._scrolled.subscribe(l);return this._scrolledCount++,()=>{f.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Cv.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,l)=>this.deregister(l)),this._scrolled.complete()}ancestorScrolled(i,l){const f=this.getAncestorScrollContainers(i);return this.scrolled(l).pipe((0,io.h)(_=>!_||f.indexOf(_)>-1))}getAncestorScrollContainers(i){const l=[];return this.scrollContainers.forEach((f,_)=>{this._scrollableContainsElement(_,i)&&l.push(_)}),l}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,l){let f=function $r(r){return r instanceof m.SBq?r.nativeElement:r}(l),_=i.getElementRef().nativeElement;do{if(f==_)return!0}while(f=f.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Z_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(m.R0b),m.LFG(rn),m.LFG(Ie.K0,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),tI=(()=>{var r;class e{constructor(i,l,f,_){this.elementRef=i,this.scrollDispatcher=l,this.ngZone=f,this.dir=_,this._destroyed=new pn.x,this._elementScrolled=new Se.y(C=>this.ngZone.runOutsideAngular(()=>Z_(this.elementRef.nativeElement,"scroll").pipe((0,vn.R)(this._destroyed)).subscribe(C)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const l=this.elementRef.nativeElement,f=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=f?i.end:i.start),null==i.right&&(i.right=f?i.start:i.end),null!=i.bottom&&(i.top=l.scrollHeight-l.clientHeight-i.bottom),f&&0!=Bo()?(null!=i.left&&(i.right=l.scrollWidth-l.clientWidth-i.left),2==Bo()?i.left=i.right:1==Bo()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=l.scrollWidth-l.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const l=this.elementRef.nativeElement;!function vu(){if(null==ju){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ju=!1,ju;if("scrollBehavior"in document.documentElement.style)ju=!0;else{const r=Element.prototype.scrollTo;ju=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ju}()?(null!=i.top&&(l.scrollTop=i.top),null!=i.left&&(l.scrollLeft=i.left)):l.scrollTo(i)}measureScrollOffset(i){const l="left",f="right",_=this.elementRef.nativeElement;if("top"==i)return _.scrollTop;if("bottom"==i)return _.scrollHeight-_.clientHeight-_.scrollTop;const C=this.dir&&"rtl"==this.dir.value;return"start"==i?i=C?f:l:"end"==i&&(i=C?l:f),C&&2==Bo()?i==l?_.scrollWidth-_.clientWidth-_.scrollLeft:_.scrollLeft:C&&1==Bo()?i==l?_.scrollLeft+_.scrollWidth-_.clientWidth:-_.scrollLeft:i==l?_.scrollLeft:_.scrollWidth-_.clientWidth-_.scrollLeft}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(pw),m.Y36(m.R0b),m.Y36(Yp,8))},r.\u0275dir=m.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),e})(),HC=(()=>{var r;class e{constructor(i,l,f){this._platform=i,this._change=new pn.x,this._changeListener=_=>{this._change.next(_)},this._document=f,l.runOutsideAngular(()=>{if(i.isBrowser){const _=this._getWindow();_.addEventListener("resize",this._changeListener),_.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:l,height:f}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+f,right:i.left+l,height:f,width:l}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,l=this._getWindow(),f=i.documentElement,_=f.getBoundingClientRect();return{top:-_.top||i.body.scrollTop||l.scrollY||f.scrollTop||0,left:-_.left||i.body.scrollLeft||l.scrollX||f.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(hw(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return(r=e).\u0275fac=function(i){return new(i||r)(m.LFG(rn),m.LFG(m.R0b),m.LFG(Ie.K0,8))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const MT=new m.OlP("VIRTUAL_SCROLLABLE");let yA=(()=>{var r;class e extends tI{constructor(i,l,f,_){super(i,l,f,_)}measureViewportSize(i){const l=this.elementRef.nativeElement;return"horizontal"===i?l.clientWidth:l.clientHeight}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(pw),m.Y36(m.R0b),m.Y36(Yp,8))},r.\u0275dir=m.lG2({type:r,features:[m.qOj]}),e})();const vA=typeof requestAnimationFrame<"u"?Ol:Q0;let $C=(()=>{var r;class e extends yA{get orientation(){return this._orientation}set orientation(i){this._orientation!==i&&(this._orientation=i,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(i){this._appendOnly=function ce(r){return null!=r&&"false"!=`${r}`}(i)}constructor(i,l,f,_,C,k,B,X){super(i,k,f,C),this.elementRef=i,this._changeDetectorRef=l,this._scrollStrategy=_,this.scrollable=X,this._platform=(0,m.f3M)(rn),this._detachedSubject=new pn.x,this._renderedRangeSubject=new pn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Se.y(le=>this._scrollStrategy.scrolledIndexChange.subscribe(Oe=>Promise.resolve().then(()=>this.ngZone.run(()=>le.next(Oe))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=G0.w0.EMPTY,this._viewportChanges=B.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Yt.O)(null),hw(0,vA)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(i){this.ngZone.runOutsideAngular(()=>{this._forOf=i,this._forOf.dataStream.pipe((0,vn.R)(this._detachedSubject)).subscribe(l=>{const f=l.length;f!==this._dataLength&&(this._dataLength=f,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(i){return this.getElementRef().nativeElement.getBoundingClientRect()[i]}setTotalContentSize(i){this._totalContentSize!==i&&(this._totalContentSize=i,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(i){(function OT(r,e){return r.start==e.start&&r.end==e.end})(this._renderedRange,i)||(this.appendOnly&&(i={start:0,end:Math.max(this._renderedRange.end,i.end)}),this._renderedRangeSubject.next(this._renderedRange=i),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(i,l="to-start"){i=this.appendOnly&&"to-start"===l?0:i;const _="horizontal"==this.orientation,C=_?"X":"Y";let B=`translate${C}(${Number((_&&this.dir&&"rtl"==this.dir.value?-1:1)*i)}px)`;this._renderedContentOffset=i,"to-end"===l&&(B+=` translate${C}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=B&&(this._renderedContentTransform=B,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(i,l="auto"){const f={behavior:l};"horizontal"===this.orientation?f.start=i:f.top=i,this.scrollable.scrollTo(f)}scrollToIndex(i,l="auto"){this._scrollStrategy.scrollToIndex(i,l)}measureScrollOffset(i){let l;return l=this.scrollable==this?f=>super.measureScrollOffset(f):f=>this.scrollable.measureScrollOffset(f),Math.max(0,l(i??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(i){let l;const f="left",_="right",C="rtl"==this.dir?.value;l="start"==i?C?_:f:"end"==i?C?f:_:i||("horizontal"===this.orientation?"left":"top");const k=this.scrollable.measureBoundingClientRectWithScrollOffset(l);return this.elementRef.nativeElement.getBoundingClientRect()[l]-k}measureRenderedContentSize(){const i=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?i.offsetWidth:i.offsetHeight}measureRangeSize(i){return this._forOf?this._forOf.measureRangeSize(i,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(i){i&&this._runAfterChangeDetection.push(i),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const i=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const l of i)l()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(ST,8),m.Y36(Yp,8),m.Y36(pw),m.Y36(HC),m.Y36(MT,8))},r.\u0275cmp=m.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,l){if(1&i&&m.Gf(DT,7),2&i){let f;m.iGM(f=m.CRH())&&(l._contentWrapper=f.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,l){2&i&&m.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===l.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==l.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[m._Bn([{provide:tI,useFactory:(n,i)=>n||i,deps:[[new m.FiY,new m.tBr(MT)],r]}]),m.qOj,m.jDz],ngContentSelectors:AT,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(i,l){1&i&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA(),m._UZ(3,"div",2)),2&i&&(m.xp6(3),m.Udp("width",l._totalContentWidth)("height",l._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),e})();function zC(r,e,n){if(!n.getBoundingClientRect)return 0;const l=n.getBoundingClientRect();return"horizontal"===r?"start"===e?l.left:l.right:"start"===e?l.top:l.bottom}let EA=(()=>{var r;class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(i){this._cdkVirtualForOf=i,function LC(r){return r&&"function"==typeof r.connect&&!(r instanceof eI.c)}(i)?this._dataSourceChanges.next(i):this._dataSourceChanges.next(new gA((0,Y0.b)(i)?i:Array.from(i||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(i){this._needsUpdate=!0,this._cdkVirtualForTrackBy=i?(l,f)=>i(l+(this._renderedRange?this._renderedRange.start:0),f):void 0}set cdkVirtualForTemplate(i){i&&(this._needsUpdate=!0,this._template=i)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(i){this._viewRepeater.viewCacheSize=Ne(i)}constructor(i,l,f,_,C,k){this._viewContainerRef=i,this._template=l,this._differs=f,this._viewRepeater=_,this._viewport=C,this.viewChange=new pn.x,this._dataSourceChanges=new pn.x,this.dataStream=this._dataSourceChanges.pipe((0,Yt.O)(null),(0,NC.G)(),(0,fw.w)(([B,X])=>this._changeDataSource(B,X)),(0,J0.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new pn.x,this.dataStream.subscribe(B=>{this._data=B,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,vn.R)(this._destroyed)).subscribe(B=>{this._renderedRange=B,this.viewChange.observers.length&&k.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(i,l){if(i.start>=i.end)return 0;const f=i.start-this._renderedRange.start,_=i.end-i.start;let C,k;for(let B=0;B<_;B++){const X=this._viewContainerRef.get(B+f);if(X&&X.rootNodes.length){C=k=X.rootNodes[0];break}}for(let B=_-1;B>-1;B--){const X=this._viewContainerRef.get(B+f);if(X&&X.rootNodes.length){k=X.rootNodes[X.rootNodes.length-1];break}}return C&&k?zC(l,"end",k)-zC(l,"start",C):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const i=this._differ.diff(this._renderedItems);i?this._applyChanges(i):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((i,l)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(i,l):l)),this._needsUpdate=!0)}_changeDataSource(i,l){return i&&i.disconnect(this),this._needsUpdate=!0,l?l.connect(this):(0,Cv.of)()}_updateContext(){const i=this._data.length;let l=this._viewContainerRef.length;for(;l--;){const f=this._viewContainerRef.get(l);f.context.index=this._renderedRange.start+l,f.context.count=i,this._updateComputedContextProperties(f.context),f.detectChanges()}}_applyChanges(i){this._viewRepeater.applyChanges(i,this._viewContainerRef,(_,C,k)=>this._getEmbeddedViewArgs(_,k),_=>_.item),i.forEachIdentityChange(_=>{this._viewContainerRef.get(_.currentIndex).context.$implicit=_.item});const l=this._data.length;let f=this._viewContainerRef.length;for(;f--;){const _=this._viewContainerRef.get(f);_.context.index=this._renderedRange.start+f,_.context.count=l,this._updateComputedContextProperties(_.context)}}_updateComputedContextProperties(i){i.first=0===i.index,i.last=i.index===i.count-1,i.even=i.index%2==0,i.odd=!i.even}_getEmbeddedViewArgs(i,l){return{templateRef:this._template,context:{$implicit:i.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:l}}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4),m.Y36(CT),m.Y36($C,4),m.Y36(m.R0b))},r.\u0275dir=m.lG2({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[m._Bn([{provide:CT,useClass:FC}])]}),e})(),GC=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({}),e})(),wA=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[X0,GC,X0,GC]}),e})();function gw(r){return(gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function Ge(r,e,n){return(e=function nI(r){var e=function NT(r,e){if("object"!==gw(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var i=n.call(r,e||"default");if("object"!==gw(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"===gw(e)?e:String(e)}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Sv(r,e=Zr.z,n){const i=dw(r,e);return function qC(r,e){return(0,Vi.e)((n,i)=>{const{leading:l=!0,trailing:f=!1}=e??{};let _=!1,C=null,k=null,B=!1;const X=()=>{k?.unsubscribe(),k=null,f&&(st(),B&&i.complete())},le=()=>{k=null,B&&i.complete()},Oe=zt=>k=(0,ye.Xf)(r(zt)).subscribe((0,Be.x)(i,X,le)),st=()=>{if(_){_=!1;const zt=C;C=null,i.next(zt),!B&&Oe(zt)}};n.subscribe((0,Be.x)(i,zt=>{_=!0,C=zt,(!k||k.closed)&&(l?st():Oe(zt))},()=>{B=!0,(!(f&&_&&k)||k.closed)&&i.complete()}))})}(()=>i,n)}var Vc=typeof window<"u"?window:{screen:{},navigator:{}},xv=(Vc.matchMedia||function(){return{matches:!1}}).bind(Vc),WC=!1,rI=function(){};Vc.addEventListener&&Vc.addEventListener("p",rI,{get passive(){return WC=!0}}),Vc.removeEventListener&&Vc.removeEventListener("p",rI,!1);var kT=WC,iI="ontouchstart"in Vc,Rv=(iI||"TouchEvent"in Vc&&xv("(any-pointer: coarse)"),Vc.navigator.userAgent||"");xv("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Rv)&&Math.min(Vc.screen.width||0,Vc.screen.height||0);function JC(r,e){}function sI(r,e){1&r&&m.YNc(0,JC,0,0,"ng-template")}(xv("(pointer: coarse)").matches||!xv("(pointer: fine)").matches&&iI)&&/Windows.*Firefox/.test(Rv),xv("(any-pointer: fine)").matches||xv("(any-hover: hover)");const XC=function(r,e,n){return{tooltip:r,placement:e,content:n}};function eD(r,e){if(1&r&&(m.ynx(0),m.YNc(1,sI,1,0,null,1),m.BQk()),2&r){const n=m.oxw();m.xp6(1),m.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",m.kEZ(2,XC,n.tooltip,n.placement,n.content))}}function tD(r,e){if(1&r&&(m.ynx(0),m.TgZ(1,"div",2),m._uU(2),m.qZA(),m.BQk()),2&r){const n=m.oxw();m.xp6(1),m.uIk("title",n.tooltip)("data-tooltip-placement",n.placement),m.xp6(1),m.hij(" ",n.content," ")}}const nD=["tooltipTemplate"],rD=["leftOuterSelectionBar"],iD=["rightOuterSelectionBar"],sD=["fullBar"],oD=["selectionBar"],aD=["minHandle"],VT=["maxHandle"],oI=["floorLabel"],uD=["ceilLabel"],lD=["minHandleLabel"],UT=["maxHandleLabel"],BT=["combinedLabel"],CA=["ticksElement"];function Jl(r,e){if(1&r&&m._UZ(0,"ngx-slider-tooltip-wrapper",32),2&r){const n=m.oxw().$implicit,i=m.oxw();m.Q6J("template",i.tooltipTemplate)("tooltip",n.valueTooltip)("placement",n.valueTooltipPlacement)("content",n.value)}}function jT(r,e){if(1&r&&m._UZ(0,"span",33),2&r){const n=m.oxw().$implicit;m.Q6J("innerText",n.legend)}}function HT(r,e){if(1&r&&m._UZ(0,"span",34),2&r){const n=m.oxw().$implicit;m.Q6J("innerHTML",n.legend,m.oJD)}}const cD=function(r){return{"ngx-slider-selected":r}};function $T(r,e){if(1&r&&(m.TgZ(0,"span",27),m._UZ(1,"ngx-slider-tooltip-wrapper",28),m.YNc(2,Jl,1,4,"ngx-slider-tooltip-wrapper",29),m.YNc(3,jT,1,1,"span",30),m.YNc(4,HT,1,1,"span",31),m.qZA()),2&r){const n=e.$implicit,i=m.oxw();m.Q6J("ngClass",m.VKq(8,cD,n.selected))("ngStyle",n.style),m.xp6(1),m.Q6J("template",i.tooltipTemplate)("tooltip",n.tooltip)("placement",n.tooltipPlacement),m.xp6(1),m.Q6J("ngIf",null!=n.value),m.xp6(1),m.Q6J("ngIf",null!=n.legend&&!1===i.allowUnsafeHtmlInSlider),m.xp6(1),m.Q6J("ngIf",null!=n.legend&&(null==i.allowUnsafeHtmlInSlider||i.allowUnsafeHtmlInSlider))}}var Vh=function(r){return r[r.Low=0]="Low",r[r.High=1]="High",r[r.Floor=2]="Floor",r[r.Ceil=3]="Ceil",r[r.TickValue=4]="TickValue",r}(Vh||{});class J_{constructor(){Ge(this,"floor",0),Ge(this,"ceil",null),Ge(this,"step",1),Ge(this,"minRange",null),Ge(this,"maxRange",null),Ge(this,"pushRange",!1),Ge(this,"minLimit",null),Ge(this,"maxLimit",null),Ge(this,"translate",null),Ge(this,"combineLabels",null),Ge(this,"getLegend",null),Ge(this,"getStepLegend",null),Ge(this,"stepsArray",null),Ge(this,"bindIndexForStepsArray",!1),Ge(this,"draggableRange",!1),Ge(this,"draggableRangeOnly",!1),Ge(this,"showSelectionBar",!1),Ge(this,"showSelectionBarEnd",!1),Ge(this,"showSelectionBarFromValue",null),Ge(this,"showOuterSelectionBars",!1),Ge(this,"hidePointerLabels",!1),Ge(this,"hideLimitLabels",!1),Ge(this,"autoHideLimitLabels",!0),Ge(this,"readOnly",!1),Ge(this,"disabled",!1),Ge(this,"showTicks",!1),Ge(this,"showTicksValues",!1),Ge(this,"tickStep",null),Ge(this,"tickValueStep",null),Ge(this,"ticksArray",null),Ge(this,"ticksTooltip",null),Ge(this,"ticksValuesTooltip",null),Ge(this,"vertical",!1),Ge(this,"getSelectionBarColor",null),Ge(this,"getTickColor",null),Ge(this,"getPointerColor",null),Ge(this,"keyboardSupport",!0),Ge(this,"scale",1),Ge(this,"rotate",0),Ge(this,"enforceStep",!0),Ge(this,"enforceRange",!0),Ge(this,"enforceStepsArray",!0),Ge(this,"noSwitching",!1),Ge(this,"onlyBindHandles",!1),Ge(this,"rightToLeft",!1),Ge(this,"reversedControls",!1),Ge(this,"boundPointerLabels",!0),Ge(this,"logScale",!1),Ge(this,"customValueToPosition",null),Ge(this,"customPositionToValue",null),Ge(this,"precisionLimit",12),Ge(this,"selectionBarGradient",null),Ge(this,"ariaLabel","ngx-slider"),Ge(this,"ariaLabelledBy",null),Ge(this,"ariaLabelHigh","ngx-slider-max"),Ge(this,"ariaLabelledByHigh",null),Ge(this,"handleDimension",null),Ge(this,"barDimension",null),Ge(this,"animate",!0),Ge(this,"animateOnMove",!1)}}const Nf=new m.OlP("AllowUnsafeHtmlInSlider");var Ln=function(r){return r[r.Min=0]="Min",r[r.Max=1]="Max",r}(Ln||{});class aI{constructor(){Ge(this,"value",void 0),Ge(this,"highValue",void 0),Ge(this,"pointerType",void 0)}}class Vt{static isNullOrUndefined(e){return null==e}static areArraysEqual(e,n){if(e.length!==n.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==n[i])return!1;return!0}static linearValueToPosition(e,n,i){return(e-n)/(i-n)}static logValueToPosition(e,n,i){return((e=Math.log(e))-(n=Math.log(n)))/((i=Math.log(i))-n)}static linearPositionToValue(e,n,i){return e*(i-n)+n}static logPositionToValue(e,n,i){return n=Math.log(n),i=Math.log(i),Math.exp(e*(i-n)+n)}static findStepIndex(e,n){const i=n.map(f=>Math.abs(e-f.value));let l=0;for(let f=0;f<n.length;f++)i[f]!==i[l]&&i[f]<i[l]&&(l=f);return l}}class Jp{static isTouchEvent(e){return void 0!==window.TouchEvent?e instanceof TouchEvent:void 0!==e.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class ga{static roundToPrecisionLimit(e,n){return+e.toPrecision(n)}static isModuloWithinPrecisionLimit(e,n,i){const l=Math.pow(10,-i);return Math.abs(e%n)<=l||Math.abs(Math.abs(e%n)-n)<=l}static clampToRange(e,n,i){return Math.min(Math.max(e,n),i)}}class uI{constructor(){Ge(this,"eventName",null),Ge(this,"events",null),Ge(this,"eventsSubscription",null),Ge(this,"teardownCallback",null)}}class zT{constructor(e){Ge(this,"renderer",void 0),this.renderer=e}attachPassiveEventListener(e,n,i,l){if(!0!==kT)return this.attachEventListener(e,n,i,l);const f=new uI;f.eventName=n,f.events=new pn.x;const _=C=>{f.events.next(C)};return e.addEventListener(n,_,{passive:!0,capture:!1}),f.teardownCallback=()=>{e.removeEventListener(n,_,{passive:!0,capture:!1})},f.eventsSubscription=f.events.pipe(Vt.isNullOrUndefined(l)?(0,wu.b)(()=>{}):Sv(l,void 0,{leading:!0,trailing:!0})).subscribe(C=>{i(C)}),f}detachEventListener(e){Vt.isNullOrUndefined(e.eventsSubscription)||(e.eventsSubscription.unsubscribe(),e.eventsSubscription=null),Vt.isNullOrUndefined(e.events)||(e.events.complete(),e.events=null),Vt.isNullOrUndefined(e.teardownCallback)||(e.teardownCallback(),e.teardownCallback=null)}attachEventListener(e,n,i,l){const f=new uI;return f.eventName=n,f.events=new pn.x,f.teardownCallback=this.renderer.listen(e,n,C=>{f.events.next(C)}),f.eventsSubscription=f.events.pipe(Vt.isNullOrUndefined(l)?(0,wu.b)(()=>{}):Sv(l,void 0,{leading:!0,trailing:!0})).subscribe(C=>{i(C)}),f}}let Xp=(()=>{var r;class e{get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}constructor(i,l,f){Ge(this,"elemRef",void 0),Ge(this,"renderer",void 0),Ge(this,"changeDetectionRef",void 0),Ge(this,"_position",0),Ge(this,"_dimension",0),Ge(this,"_alwaysHide",!1),Ge(this,"_vertical",!1),Ge(this,"_scale",1),Ge(this,"_rotate",0),Ge(this,"opacity",1),Ge(this,"visibility","visible"),Ge(this,"left",""),Ge(this,"bottom",""),Ge(this,"height",""),Ge(this,"width",""),Ge(this,"transform",""),Ge(this,"eventListenerHelper",void 0),Ge(this,"eventListeners",[]),this.elemRef=i,this.renderer=l,this.changeDetectionRef=f,this.eventListenerHelper=new zT(this.renderer)}setAlwaysHide(i){this._alwaysHide=i,this.visibility=i?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(i){this._vertical=i,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(i){this._scale=i}setRotate(i){this._rotate=i,this.transform="rotate("+i+"deg)"}getRotate(){return this._rotate}setPosition(i){this._position!==i&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=i,this._vertical?this.bottom=Math.round(i)+"px":this.left=Math.round(i)+"px"}calculateDimension(){const i=this.getBoundingClientRect();this._dimension=this.vertical?(i.bottom-i.top)*this.scale:(i.right-i.left)*this.scale}setDimension(i){this._dimension!==i&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=i,this._vertical?this.height=Math.round(i)+"px":this.width=Math.round(i)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(i,l,f){const _=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,i,l,f);this.eventListeners.push(_)}onPassive(i,l,f){const _=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,i,l,f);this.eventListeners.push(_)}off(i){let l,f;Vt.isNullOrUndefined(i)?(l=[],f=this.eventListeners):(l=this.eventListeners.filter(_=>_.eventName!==i),f=this.eventListeners.filter(_=>_.eventName===i));for(const _ of f)this.eventListenerHelper.detachEventListener(_);this.eventListeners=l}isRefDestroyed(){return Vt.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return r=e,Ge(e,"\u0275fac",function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO))}),Ge(e,"\u0275dir",m.lG2({type:r,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(i,l){2&i&&m.Udp("opacity",l.opacity)("visibility",l.visibility)("left",l.left)("bottom",l.bottom)("height",l.height)("width",l.width)("transform",l.transform)}})),e})(),lI=(()=>{var r;class e extends Xp{focus(){this.elemRef.nativeElement.focus()}constructor(i,l,f){super(i,l,f),Ge(this,"active",!1),Ge(this,"role",""),Ge(this,"tabindex",""),Ge(this,"ariaOrientation",""),Ge(this,"ariaLabel",""),Ge(this,"ariaLabelledBy",""),Ge(this,"ariaValueNow",""),Ge(this,"ariaValueText",""),Ge(this,"ariaValueMin",""),Ge(this,"ariaValueMax","")}}return r=e,Ge(e,"\u0275fac",function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO))}),Ge(e,"\u0275dir",m.lG2({type:r,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(i,l){2&i&&(m.uIk("role",l.role)("tabindex",l.tabindex)("aria-orientation",l.ariaOrientation)("aria-label",l.ariaLabel)("aria-labelledby",l.ariaLabelledBy)("aria-valuenow",l.ariaValueNow)("aria-valuetext",l.ariaValueText)("aria-valuemin",l.ariaValueMin)("aria-valuemax",l.ariaValueMax),m.ekj("ngx-slider-active",l.active))},features:[m.qOj]})),e})(),X_=(()=>{var r;class e extends Xp{get value(){return this._value}constructor(i,l,f,_){super(i,l,f),Ge(this,"allowUnsafeHtmlInSlider",void 0),Ge(this,"_value",null),this.allowUnsafeHtmlInSlider=_}setValue(i){let l=!1;!this.alwaysHide&&(Vt.isNullOrUndefined(this.value)||this.value.length!==i.length||this.value.length>0&&0===this.dimension)&&(l=!0),this._value=i,!1===this.allowUnsafeHtmlInSlider?this.elemRef.nativeElement.innerText=i:this.elemRef.nativeElement.innerHTML=i,l&&this.calculateDimension()}}return r=e,Ge(e,"\u0275fac",function(i){return new(i||r)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(Nf,8))}),Ge(e,"\u0275dir",m.lG2({type:r,selectors:[["","ngxSliderLabel",""]],features:[m.qOj]})),e})(),GT=(()=>{var r;class e{constructor(){Ge(this,"template",void 0),Ge(this,"tooltip",void 0),Ge(this,"placement",void 0),Ge(this,"content",void 0)}}return r=e,Ge(e,"\u0275fac",function(i){return new(i||r)}),Ge(e,"\u0275cmp",m.Xpm({type:r,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(i,l){1&i&&(m.YNc(0,eD,2,6,"ng-container",0),m.YNc(1,tD,3,3,"ng-container",0)),2&i&&(m.Q6J("ngIf",l.template),m.xp6(1),m.Q6J("ngIf",!l.template))},dependencies:[Ie.O5,Ie.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})),e})();class DA{constructor(){Ge(this,"selected",!1),Ge(this,"style",{}),Ge(this,"tooltip",null),Ge(this,"tooltipPlacement",null),Ge(this,"value",null),Ge(this,"valueTooltip",null),Ge(this,"valueTooltipPlacement",null),Ge(this,"legend",null)}}class cI{constructor(){Ge(this,"active",!1),Ge(this,"value",0),Ge(this,"difference",0),Ge(this,"position",0),Ge(this,"lowLimit",0),Ge(this,"highLimit",0)}}class mw{constructor(){Ge(this,"value",void 0),Ge(this,"highValue",void 0)}static compare(e,n){return!(Vt.isNullOrUndefined(e)&&Vt.isNullOrUndefined(n)||Vt.isNullOrUndefined(e)!==Vt.isNullOrUndefined(n))&&e.value===n.value&&e.highValue===n.highValue}}class dI extends mw{constructor(...e){super(...e),Ge(this,"forceChange",void 0)}static compare(e,n){return!(Vt.isNullOrUndefined(e)&&Vt.isNullOrUndefined(n)||Vt.isNullOrUndefined(e)!==Vt.isNullOrUndefined(n))&&e.value===n.value&&e.highValue===n.highValue&&e.forceChange===n.forceChange}}const WT={provide:yt,useExisting:(0,m.Gpc)(()=>hI),multi:!0};let hI=(()=>{var r;class e{set manualRefresh(i){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=i.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(i){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=i.subscribe(l=>{this.focusPointer(l)})}get range(){return!Vt.isNullOrUndefined(this.value)&&!Vt.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}constructor(i,l,f,_,C){Ge(this,"renderer",void 0),Ge(this,"elementRef",void 0),Ge(this,"changeDetectionRef",void 0),Ge(this,"zone",void 0),Ge(this,"allowUnsafeHtmlInSlider",void 0),Ge(this,"value",null),Ge(this,"valueChange",new m.vpe),Ge(this,"highValue",null),Ge(this,"highValueChange",new m.vpe),Ge(this,"options",new J_),Ge(this,"userChangeStart",new m.vpe),Ge(this,"userChange",new m.vpe),Ge(this,"userChangeEnd",new m.vpe),Ge(this,"manualRefreshSubscription",void 0),Ge(this,"triggerFocusSubscription",void 0),Ge(this,"initHasRun",!1),Ge(this,"inputModelChangeSubject",new pn.x),Ge(this,"inputModelChangeSubscription",null),Ge(this,"outputModelChangeSubject",new pn.x),Ge(this,"outputModelChangeSubscription",null),Ge(this,"viewLowValue",null),Ge(this,"viewHighValue",null),Ge(this,"viewOptions",new J_),Ge(this,"handleHalfDimension",0),Ge(this,"maxHandlePosition",0),Ge(this,"currentTrackingPointer",null),Ge(this,"currentFocusPointer",null),Ge(this,"firstKeyDown",!1),Ge(this,"touchId",null),Ge(this,"dragging",new cI),Ge(this,"leftOuterSelectionBarElement",void 0),Ge(this,"rightOuterSelectionBarElement",void 0),Ge(this,"fullBarElement",void 0),Ge(this,"selectionBarElement",void 0),Ge(this,"minHandleElement",void 0),Ge(this,"maxHandleElement",void 0),Ge(this,"floorLabelElement",void 0),Ge(this,"ceilLabelElement",void 0),Ge(this,"minHandleLabelElement",void 0),Ge(this,"maxHandleLabelElement",void 0),Ge(this,"combinedLabelElement",void 0),Ge(this,"ticksElement",void 0),Ge(this,"tooltipTemplate",void 0),Ge(this,"sliderElementVerticalClass",!1),Ge(this,"sliderElementAnimateClass",!1),Ge(this,"sliderElementWithLegendClass",!1),Ge(this,"sliderElementDisabledAttr",null),Ge(this,"sliderElementAriaLabel","ngx-slider"),Ge(this,"barStyle",{}),Ge(this,"minPointerStyle",{}),Ge(this,"maxPointerStyle",{}),Ge(this,"fullBarTransparentClass",!1),Ge(this,"selectionBarDraggableClass",!1),Ge(this,"ticksUnderValuesClass",!1),Ge(this,"intermediateTicks",!1),Ge(this,"ticks",[]),Ge(this,"eventListenerHelper",null),Ge(this,"onMoveEventListener",null),Ge(this,"onEndEventListener",null),Ge(this,"moving",!1),Ge(this,"resizeObserver",null),Ge(this,"onTouchedCallback",null),Ge(this,"onChangeCallback",null),this.renderer=i,this.elementRef=l,this.changeDetectionRef=f,this.zone=_,this.allowUnsafeHtmlInSlider=C,this.eventListenerHelper=new zT(this.renderer)}ngOnInit(){this.viewOptions=new J_,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(i){!Vt.isNullOrUndefined(i.options)&&JSON.stringify(i.options.previousValue)!==JSON.stringify(i.options.currentValue)&&this.onChangeOptions(),(!Vt.isNullOrUndefined(i.value)||!Vt.isNullOrUndefined(i.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(i){i instanceof Array?(this.value=i[0],this.highValue=i[1]):this.value=i,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(i){this.onChangeCallback=i}registerOnTouched(i){this.onTouchedCallback=i}setDisabledState(i){this.viewOptions.disabled=i,this.updateDisabledState()}setAriaLabel(i){this.viewOptions.ariaLabel=i,this.updateAriaLabel()}onResize(i){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe((0,oc.x)(dI.compare),(0,io.h)(i=>!i.forceChange&&!i.internalChange)).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe((0,oc.x)(dI.compare)).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Jp.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Jp.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){Vt.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){Vt.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){Vt.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){Vt.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){Vt.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){Vt.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(i){return i===Ln.Min?this.minHandleElement:i===Ln.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===Ln.Min?this.viewLowValue:this.currentTrackingPointer===Ln.Max?this.viewHighValue:null}modelValueToViewValue(i){return Vt.isNullOrUndefined(i)?NaN:Vt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+i:Vt.findStepIndex(+i,this.viewOptions.stepsArray)}viewValueToModelValue(i){return Vt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?i:this.getStepValue(i)}getStepValue(i){const l=this.viewOptions.stepsArray[i];return Vt.isNullOrUndefined(l)?NaN:l.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(i){const l=this.normaliseModelValues(i),f=!mw.compare(i,l);f&&(this.value=l.value,this.highValue=l.highValue),this.viewLowValue=this.modelValueToViewValue(l.value),this.viewHighValue=this.range?this.modelValueToViewValue(l.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:l.value,highValue:l.highValue,forceChange:f,userEventInitiated:!1})}publishOutputModelChange(i){const l=()=>{this.valueChange.emit(i.value),this.range&&this.highValueChange.emit(i.highValue),Vt.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[i.value,i.highValue]:i.value),Vt.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[i.value,i.highValue]:i.value)};i.userEventInitiated?(l(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{l()})}normaliseModelValues(i){const l=new mw;if(l.value=i.value,l.highValue=i.highValue,!Vt.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const f=Vt.findStepIndex(l.value,this.viewOptions.stepsArray);if(l.value=this.viewOptions.stepsArray[f].value,this.range){const _=Vt.findStepIndex(l.highValue,this.viewOptions.stepsArray);l.highValue=this.viewOptions.stepsArray[_].value}}return l}if(this.viewOptions.enforceStep&&(l.value=this.roundStep(l.value),this.range&&(l.highValue=this.roundStep(l.highValue))),this.viewOptions.enforceRange&&(l.value=ga.clampToRange(l.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(l.highValue=ga.clampToRange(l.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&i.value>i.highValue))if(this.viewOptions.noSwitching)l.value=l.highValue;else{const f=i.value;l.value=i.highValue,l.highValue=f}return l}renormaliseModelValues(){const i={value:this.value,highValue:this.highValue},l=this.normaliseModelValues(i);mw.compare(l,i)||(this.value=l.value,this.highValue=l.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const i=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const l=this.getOptionsInfluencingEventBindings(this.viewOptions),f=!Vt.areArraysEqual(i,l);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(f)}applyOptions(){if(this.viewOptions=new J_,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!Vt.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!Vt.isNullOrUndefined(this.viewOptions.tickStep)||!Vt.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!Vt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),Vt.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),Vt.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(i,l)=>i+" - "+l),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,Vt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=i=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(i):i))}applyFloorCeilOptions(){if(Vt.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),Vt.isNullOrUndefined(this.viewOptions.ceil)||Vt.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,Vt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=i=>String(i))}resetSlider(i=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),i&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions()}focusPointer(i){i!==Ln.Min&&i!==Ln.Max&&(i=Ln.Min),i===Ln.Min?this.minHandleElement.focus():this.range&&i===Ln.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){Vt.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const i=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(i||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(i||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(i||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const i of this.getAllSliderElements())Vt.isNullOrUndefined(i)||i.setVertical(this.viewOptions.vertical)}updateScale(){for(const i of this.getAllSliderElements())i.setScale(this.viewOptions.scale)}updateRotate(){for(const i of this.getAllSliderElements())i.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Vt.isNullOrUndefined(this.viewOptions.ariaLabel)?Vt.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Vt.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?Vt.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Vh.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Vh.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){Vt.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const i=this.minHandleElement.dimension;this.handleHalfDimension=i/2,Vt.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-i,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const i=Vt.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,l=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&i.reverse();const f=Vt.isNullOrUndefined(this.viewOptions.tickValueStep)?Vt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let _=!1;const C=i.map(k=>{let B=this.valueToPosition(k);this.viewOptions.vertical&&(B=this.maxHandlePosition-B);const X=l+"("+Math.round(B)+"px)",le=new DA;le.selected=this.isTickSelected(k),le.style={"-webkit-transform":X,"-moz-transform":X,"-o-transform":X,"-ms-transform":X,transform:X},le.selected&&!Vt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(le.style["background-color"]=this.getSelectionBarColor()),!le.selected&&!Vt.isNullOrUndefined(this.viewOptions.getTickColor)&&(le.style["background-color"]=this.getTickColor(k)),Vt.isNullOrUndefined(this.viewOptions.ticksTooltip)||(le.tooltip=this.viewOptions.ticksTooltip(k),le.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!Vt.isNullOrUndefined(f)&&ga.isModuloWithinPrecisionLimit(k,f,this.viewOptions.precisionLimit)&&(le.value=this.getDisplayValue(k,Vh.TickValue),Vt.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(le.valueTooltip=this.viewOptions.ticksValuesTooltip(k),le.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let Oe=null;if(Vt.isNullOrUndefined(this.viewOptions.stepsArray))Vt.isNullOrUndefined(this.viewOptions.getLegend)||(Oe=this.viewOptions.getLegend(k));else{const st=this.viewOptions.stepsArray[k];Vt.isNullOrUndefined(this.viewOptions.getStepLegend)?Vt.isNullOrUndefined(st)||(Oe=st.legend):Oe=this.viewOptions.getStepLegend(st)}return Vt.isNullOrUndefined(Oe)||(le.legend=Oe,_=!0),le});if(this.sliderElementWithLegendClass!==_&&setTimeout(()=>{this.sliderElementWithLegendClass=_}),Vt.isNullOrUndefined(this.ticks)||this.ticks.length!==C.length)this.ticks=C,this.isRefDestroyed()||this.changeDetectionRef.detectChanges();else for(let k=0;k<C.length;++k)Object.assign(this.ticks[k],C[k])}getTicksArray(){const i=Vt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,l=[],f=1+Math.floor(ga.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/i,this.viewOptions.precisionLimit));for(let _=0;_<f;++_)l.push(ga.roundToPrecisionLimit(this.viewOptions.floor+i*_,this.viewOptions.precisionLimit));return l}isTickSelected(i){if(!this.range)if(Vt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(i>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&i<=this.viewLowValue)return!0}else{const l=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>l&&i>=l&&i<=this.viewLowValue)return!0;if(this.viewLowValue<l&&i<=l&&i>=this.viewLowValue)return!0}return!!(this.range&&i>=this.viewLowValue&&i<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Vh.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Vh.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(i,l){i===Ln.Min?this.updateLowHandle(l):i===Ln.Max&&this.updateHighHandle(l),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(i,l){const f=i===Ln.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,_=l-f/2+this.handleHalfDimension,C=this.fullBarElement.dimension-f;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&i===Ln.Min||!this.viewOptions.rightToLeft&&i===Ln.Max?Math.min(_,C):Math.min(Math.max(_,0),C):_}updateLowHandle(i){this.minHandleElement.setPosition(i),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Vh.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(Ln.Min,i)),Vt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(Ln.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(i){this.maxHandleElement.setPosition(i),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Vh.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(Ln.Max,i)),Vt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(Ln.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let i=!1,l=!1;const f=this.isLabelBelowFloorLabel(this.minHandleLabelElement),_=this.isLabelAboveCeilLabel(this.minHandleLabelElement),C=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),k=this.isLabelBelowFloorLabel(this.combinedLabelElement),B=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(f?(i=!0,this.floorLabelElement.hide()):(i=!1,this.floorLabelElement.show()),_?(l=!0,this.ceilLabelElement.hide()):(l=!1,this.ceilLabelElement.show()),this.range){const X=this.combinedLabelElement.isVisible()?B:C,le=this.combinedLabelElement.isVisible()?k:f;X?this.ceilLabelElement.hide():l||this.ceilLabelElement.show(),le?this.floorLabelElement.hide():i||this.floorLabelElement.show()}}isLabelBelowFloorLabel(i){const l=i.position,_=this.floorLabelElement.position;return this.viewOptions.rightToLeft?l+i.dimension>=_-2:l<=_+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(i){const l=i.position,_=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?l<=_+this.ceilLabelElement.dimension+2:l+i.dimension>=_-2}updateSelectionBar(){let i=0,l=0;const f=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,_=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)l=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),i=_;else if(Vt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))f?(l=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),i=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(l=this.minHandleElement.position+this.handleHalfDimension,i=0);else{const C=this.viewOptions.showSelectionBarFromValue,k=this.valueToPosition(C);(this.viewOptions.rightToLeft?this.viewLowValue<=C:this.viewLowValue>C)?(l=this.minHandleElement.position-k,i=k+this.handleHalfDimension):(l=k-this.minHandleElement.position,i=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(l),this.selectionBarElement.setPosition(i),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(i),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(i+l)),this.leftOuterSelectionBarElement.setPosition(i+l)):(this.leftOuterSelectionBarElement.setDimension(i),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(i+l)),this.rightOuterSelectionBarElement.setPosition(i+l))),Vt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!Vt.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const C=Vt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),k=C-i>0&&!f||C-i<=0&&f;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?k?"bottom":"top":k?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(C+l+i+(k?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=C-i+(k?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const C=this.getSelectionBarColor();this.barStyle={backgroundColor:C}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(i){return this.viewOptions.getPointerColor(i===Ln.Max?this.highValue:this.value,i)}getTickColor(i){return this.viewOptions.getTickColor(i)}updateCombinedLabel(){let i=null;if(i=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,i){const l=this.getDisplayValue(this.viewLowValue,Vh.Low),f=this.getDisplayValue(this.viewHighValue,Vh.High),_=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(f,l):this.viewOptions.combineLabels(l,f);this.combinedLabelElement.setValue(_);const C=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(C),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(i,l){return!Vt.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(i=this.getStepValue(i)),this.viewOptions.translate(i,l)}roundStep(i,l){const f=Vt.isNullOrUndefined(l)?this.viewOptions.step:l;let _=ga.roundToPrecisionLimit((i-this.viewOptions.floor)/f,this.viewOptions.precisionLimit);return _=Math.round(_)*f,ga.roundToPrecisionLimit(this.viewOptions.floor+_,this.viewOptions.precisionLimit)}valueToPosition(i){let l=Vt.linearValueToPosition;Vt.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(l=Vt.logValueToPosition):l=this.viewOptions.customValueToPosition;let f=l(i=ga.clampToRange(i,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return Vt.isNullOrUndefined(f)&&(f=0),this.viewOptions.rightToLeft&&(f=1-f),f*this.maxHandlePosition}positionToValue(i){let l=i/this.maxHandlePosition;this.viewOptions.rightToLeft&&(l=1-l);let f=Vt.linearPositionToValue;Vt.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(f=Vt.logPositionToValue):f=this.viewOptions.customPositionToValue;const _=f(l,this.viewOptions.floor,this.viewOptions.ceil);return Vt.isNullOrUndefined(_)?0:_}getEventXY(i,l){if(i instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?i.clientY:i.clientX;let f=0;const _=i.touches;if(!Vt.isNullOrUndefined(l))for(let C=0;C<_.length;C++)if(_[C].identifier===l){f=C;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?_[f].clientY:_[f].clientX}getEventPosition(i,l){const f=this.elementRef.nativeElement.getBoundingClientRect(),_=this.viewOptions.vertical||0!==this.viewOptions.rotate?f.bottom:f.left;let C=0;return C=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(i,l)+_:this.getEventXY(i,l)-_,C*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(i){if(!this.range)return Ln.Min;const l=this.getEventPosition(i),f=Math.abs(l-this.minHandleElement.position),_=Math.abs(l-this.maxHandleElement.position);return f<_?Ln.Min:f>_?Ln.Max:this.viewOptions.rightToLeft?l>this.minHandleElement.position?Ln.Min:Ln.Max:l<this.minHandleElement.position?Ln.Min:Ln.Max}bindEvents(){const i=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",l=>this.onBarStart(null,i,l,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",l=>this.onBarStart(Ln.Min,i,l,!0,!0)),this.maxHandleElement.on("mousedown",l=>this.onBarStart(Ln.Max,i,l,!0,!0))):(this.minHandleElement.on("mousedown",l=>this.onStart(Ln.Min,l,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",l=>this.onStart(Ln.Max,l,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",l=>this.onStart(null,l,!0,!0,!0)),this.ticksElement.on("mousedown",l=>this.onStart(null,l,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",l=>this.onBarStart(null,i,l,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",l=>this.onBarStart(Ln.Min,i,l,!0,!0)),this.maxHandleElement.onPassive("touchstart",l=>this.onBarStart(Ln.Max,i,l,!0,!0))):(this.minHandleElement.onPassive("touchstart",l=>this.onStart(Ln.Min,l,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",l=>this.onStart(Ln.Max,l,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",l=>this.onStart(null,l,!0,!0,!0)),this.ticksElement.onPassive("touchstart",l=>this.onStart(null,l,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(Ln.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(Ln.Max)))}getOptionsInfluencingEventBindings(i){return[i.disabled,i.readOnly,i.draggableRange,i.draggableRangeOnly,i.onlyBindHandles,i.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const i of this.getAllSliderElements())Vt.isNullOrUndefined(i)||i.off()}onBarStart(i,l,f,_,C,k,B){l?this.onDragStart(i,f,_,C):this.onStart(i,f,_,C,k,B)}onStart(i,l,f,_,C,k){l.stopPropagation(),!Jp.isTouchEvent(l)&&!kT&&l.preventDefault(),this.moving=!1,this.calculateViewDimensions(),Vt.isNullOrUndefined(i)&&(i=this.getNearestHandle(l)),this.currentTrackingPointer=i;const B=this.getPointerElement(i);if(B.active=!0,this.viewOptions.keyboardSupport&&B.focus(),f){this.unsubscribeOnMove();const X=le=>this.dragging.active?this.onDragMove(le):this.onMove(le);this.onMoveEventListener=Jp.isTouchEvent(l)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",X):this.eventListenerHelper.attachEventListener(document,"mousemove",X)}if(_){this.unsubscribeOnEnd();const X=le=>this.onEnd(le);this.onEndEventListener=Jp.isTouchEvent(l)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",X):this.eventListenerHelper.attachEventListener(document,"mouseup",X)}this.userChangeStart.emit(this.getChangeContext()),Jp.isTouchEvent(l)&&!Vt.isNullOrUndefined(l.changedTouches)&&Vt.isNullOrUndefined(this.touchId)&&(this.touchId=l.changedTouches[0].identifier),C&&this.onMove(l,!0),k&&this.onEnd(l)}onMove(i,l){let f=null;if(Jp.isTouchEvent(i)){const X=i.changedTouches;for(let le=0;le<X.length;le++)if(X[le].identifier===this.touchId){f=X[le];break}if(Vt.isNullOrUndefined(f))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const _=Vt.isNullOrUndefined(f)?this.getEventPosition(i):this.getEventPosition(i,f.identifier);let C;_<=0?C=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:_>=this.maxHandlePosition?C=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(C=this.positionToValue(_),C=l&&!Vt.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(C,this.viewOptions.tickStep):this.roundStep(C)),this.positionTrackingHandle(C)}onEnd(i){Jp.isTouchEvent(i)&&i.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(i){const l=this.getPointerElement(i);l.on("blur",()=>this.onPointerBlur(l)),l.on("keydown",f=>this.onKeyboardEvent(f)),l.on("keyup",()=>this.onKeyUp()),l.active=!0,this.currentTrackingPointer=i,this.currentFocusPointer=i,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(i){i.off("blur"),i.off("keydown"),i.off("keyup"),i.active=!1,Vt.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(i){const l=this.viewOptions.ceil-this.viewOptions.floor;let f=i+this.viewOptions.step,_=i-this.viewOptions.step,C=i+l/10,k=i-l/10;this.viewOptions.reversedControls&&(f=i-this.viewOptions.step,_=i+this.viewOptions.step,C=i-l/10,k=i+l/10);const B={UP:f,DOWN:_,LEFT:_,RIGHT:f,PAGEUP:C,PAGEDOWN:k,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(B.LEFT=f,B.RIGHT=_,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(B.UP=_,B.DOWN=f)),B}onKeyboardEvent(i){const l=this.getCurrentTrackingValue(),f=Vt.isNullOrUndefined(i.keyCode)?i.which:i.keyCode,B=this.getKeyActions(l)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[f]];if(Vt.isNullOrUndefined(B)||Vt.isNullOrUndefined(this.currentTrackingPointer))return;i.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const X=ga.clampToRange(B,this.viewOptions.floor,this.viewOptions.ceil),le=this.roundStep(X);if(this.viewOptions.draggableRangeOnly){const Oe=this.viewHighValue-this.viewLowValue;let st,zt;this.currentTrackingPointer===Ln.Min?(st=le,zt=le+Oe,zt>this.viewOptions.ceil&&(zt=this.viewOptions.ceil,st=zt-Oe)):this.currentTrackingPointer===Ln.Max&&(zt=le,st=le-Oe,st<this.viewOptions.floor&&(st=this.viewOptions.floor,zt=st+Oe)),this.positionTrackingBar(st,zt)}else this.positionTrackingHandle(le)}onDragStart(i,l,f,_){const C=this.getEventPosition(l);this.dragging=new cI,this.dragging.active=!0,this.dragging.value=this.positionToValue(C),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-C:C-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?C-this.maxHandleElement.position:this.maxHandleElement.position-C,this.onStart(i,l,f,_)}getMinValue(i,l,f){const _=this.viewOptions.rightToLeft;let C=null;return C=l?f?_?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:_?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(_?i+this.dragging.lowLimit:i-this.dragging.lowLimit),this.roundStep(C)}getMaxValue(i,l,f){const _=this.viewOptions.rightToLeft;let C=null;return C=l?f?_?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:_?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:_?this.positionToValue(i+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(i-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(C)}onDragMove(i){const l=this.getEventPosition(i);let f,_,C,k;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(f=this.dragging.lowLimit,_=this.dragging.highLimit,C=this.maxHandleElement,k=this.minHandleElement):(f=this.dragging.highLimit,_=this.dragging.lowLimit,C=this.minHandleElement,k=this.maxHandleElement);const X=l>=this.maxHandlePosition-f;let le,Oe;if(l<=_){if(0===C.position)return;le=this.getMinValue(l,!0,!1),Oe=this.getMaxValue(l,!0,!1)}else if(X){if(k.position===this.maxHandlePosition)return;Oe=this.getMaxValue(l,!0,!0),le=this.getMinValue(l,!0,!0)}else le=this.getMinValue(l,!1,!1),Oe=this.getMaxValue(l,!1,!1);this.positionTrackingBar(le,Oe)}positionTrackingBar(i,l){!Vt.isNullOrUndefined(this.viewOptions.minLimit)&&i<this.viewOptions.minLimit&&(l=ga.roundToPrecisionLimit((i=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!Vt.isNullOrUndefined(this.viewOptions.maxLimit)&&l>this.viewOptions.maxLimit&&(i=ga.roundToPrecisionLimit((l=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=i,this.viewHighValue=l,this.applyViewChange(),this.updateHandles(Ln.Min,this.valueToPosition(i)),this.updateHandles(Ln.Max,this.valueToPosition(l))}positionTrackingHandle(i){i=this.applyMinMaxLimit(i),this.range&&(this.viewOptions.pushRange?i=this.applyPushRange(i):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===Ln.Min&&i>this.viewHighValue?i=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===Ln.Max&&i<this.viewLowValue&&(i=this.applyMinMaxRange(this.viewLowValue))),i=this.applyMinMaxRange(i),this.currentTrackingPointer===Ln.Min&&i>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(Ln.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Ln.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===Ln.Max&&i<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(Ln.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Ln.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==i&&(this.currentTrackingPointer===Ln.Min?(this.viewLowValue=i,this.applyViewChange()):this.currentTrackingPointer===Ln.Max&&(this.viewHighValue=i,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(i)),this.updateAriaAttributes())}applyMinMaxLimit(i){return!Vt.isNullOrUndefined(this.viewOptions.minLimit)&&i<this.viewOptions.minLimit?this.viewOptions.minLimit:!Vt.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit?this.viewOptions.maxLimit:i}applyMinMaxRange(i){const f=Math.abs(i-(this.currentTrackingPointer===Ln.Min?this.viewHighValue:this.viewLowValue));if(!Vt.isNullOrUndefined(this.viewOptions.minRange)&&f<this.viewOptions.minRange){if(this.currentTrackingPointer===Ln.Min)return ga.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Ln.Max)return ga.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!Vt.isNullOrUndefined(this.viewOptions.maxRange)&&f>this.viewOptions.maxRange){if(this.currentTrackingPointer===Ln.Min)return ga.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Ln.Max)return ga.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return i}applyPushRange(i){const l=this.currentTrackingPointer===Ln.Min?this.viewHighValue-i:i-this.viewLowValue,f=Vt.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,_=this.viewOptions.maxRange;return l<f?(this.currentTrackingPointer===Ln.Min?(this.viewHighValue=ga.roundToPrecisionLimit(Math.min(i+f,this.viewOptions.ceil),this.viewOptions.precisionLimit),i=ga.roundToPrecisionLimit(this.viewHighValue-f,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ln.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Ln.Max&&(this.viewLowValue=ga.roundToPrecisionLimit(Math.max(i-f,this.viewOptions.floor),this.viewOptions.precisionLimit),i=ga.roundToPrecisionLimit(this.viewLowValue+f,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ln.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!Vt.isNullOrUndefined(_)&&l>_&&(this.currentTrackingPointer===Ln.Min?(this.viewHighValue=ga.roundToPrecisionLimit(i+_,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ln.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Ln.Max&&(this.viewLowValue=ga.roundToPrecisionLimit(i-_,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ln.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),i}getChangeContext(){const i=new aI;return i.pointerType=this.currentTrackingPointer,i.value=+this.value,this.range&&(i.highValue=+this.highValue),i}}return r=e,Ge(e,"\u0275fac",function(i){return new(i||r)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(Nf,8))}),Ge(e,"\u0275cmp",m.Xpm({type:r,selectors:[["ngx-slider"]],contentQueries:function(i,l,f){if(1&i&&m.Suo(f,nD,5),2&i){let _;m.iGM(_=m.CRH())&&(l.tooltipTemplate=_.first)}},viewQuery:function(i,l){if(1&i&&(m.Gf(rD,5,Xp),m.Gf(iD,5,Xp),m.Gf(sD,5,Xp),m.Gf(oD,5,Xp),m.Gf(aD,5,lI),m.Gf(VT,5,lI),m.Gf(oI,5,X_),m.Gf(uD,5,X_),m.Gf(lD,5,X_),m.Gf(UT,5,X_),m.Gf(BT,5,X_),m.Gf(CA,5,Xp)),2&i){let f;m.iGM(f=m.CRH())&&(l.leftOuterSelectionBarElement=f.first),m.iGM(f=m.CRH())&&(l.rightOuterSelectionBarElement=f.first),m.iGM(f=m.CRH())&&(l.fullBarElement=f.first),m.iGM(f=m.CRH())&&(l.selectionBarElement=f.first),m.iGM(f=m.CRH())&&(l.minHandleElement=f.first),m.iGM(f=m.CRH())&&(l.maxHandleElement=f.first),m.iGM(f=m.CRH())&&(l.floorLabelElement=f.first),m.iGM(f=m.CRH())&&(l.ceilLabelElement=f.first),m.iGM(f=m.CRH())&&(l.minHandleLabelElement=f.first),m.iGM(f=m.CRH())&&(l.maxHandleLabelElement=f.first),m.iGM(f=m.CRH())&&(l.combinedLabelElement=f.first),m.iGM(f=m.CRH())&&(l.ticksElement=f.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(i,l){1&i&&m.NdJ("resize",function(_){return l.onResize(_)},!1,m.Jf7),2&i&&(m.uIk("disabled",l.sliderElementDisabledAttr)("aria-label",l.sliderElementAriaLabel),m.ekj("vertical",l.sliderElementVerticalClass)("animate",l.sliderElementAnimateClass)("with-legend",l.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[m._Bn([WT]),m.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(i,l){1&i&&(m.TgZ(0,"span",0,1),m._UZ(2,"span",2),m.qZA(),m.TgZ(3,"span",3,4),m._UZ(5,"span",2),m.qZA(),m.TgZ(6,"span",5,6),m._UZ(8,"span",2),m.qZA(),m.TgZ(9,"span",7,8),m._UZ(11,"span",9),m.qZA(),m._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),m.TgZ(26,"span",24,25),m.YNc(28,$T,5,10,"span",26),m.qZA()),2&i&&(m.xp6(6),m.ekj("ngx-slider-transparent",l.fullBarTransparentClass),m.xp6(3),m.ekj("ngx-slider-draggable",l.selectionBarDraggableClass),m.xp6(2),m.Q6J("ngStyle",l.barStyle),m.xp6(1),m.Q6J("ngStyle",l.minPointerStyle),m.xp6(2),m.Udp("display",l.range?"inherit":"none"),m.Q6J("ngStyle",l.maxPointerStyle),m.xp6(12),m.ekj("ngx-slider-ticks-values-under",l.ticksUnderValuesClass),m.Q6J("hidden",!l.showTicks),m.xp6(2),m.Q6J("ngForOf",l.ticks))},dependencies:[Ie.mk,Ie.sg,Ie.O5,Ie.PC,Xp,lI,X_,GT],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}'],changeDetection:0})),e})(),dD=(()=>{var r;class e{}return r=e,Ge(e,"\u0275fac",function(i){return new(i||r)}),Ge(e,"\u0275mod",m.oAB({type:r})),Ge(e,"\u0275inj",m.cJS({imports:[Ie.ez]})),e})();var KT=U(3749);function ZT(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",39),m.NdJ("change",function(){const f=m.CHM(n).$implicit,_=m.oxw(4);return m.KtG(_.categoryFilter(f))}),m.TgZ(1,"label",40)(2,"input",41),m.NdJ("change",function(){m.CHM(n);const l=m.oxw(4);return m.KtG(l.onCheckboxChange())}),m.qZA(),m.TgZ(3,"span",42),m._uU(4),m.ALo(5,"uppercase"),m.qZA()()()}if(2&r){const n=e.$implicit,i=m.oxw(4);m.xp6(1),m.s9C("for",n.name),m.xp6(1),m.s9C("id",n.name),m.Q6J("checked",i.defCategoryRoute===n.name),m.xp6(2),m.hij(" ",m.lcZ(5,4,n.name)," ")}}function ey(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"ngx-slider",43),m.NdJ("valueChange",function(l){m.CHM(n);const f=m.oxw(4);return m.KtG(f.minValue=l)})("highValueChange",function(l){m.CHM(n);const f=m.oxw(4);return m.KtG(f.maxValue=l)})("userChange",function(l){m.CHM(n);const f=m.oxw(4);return m.KtG(f.priceRangeFilter(l))}),m.qZA()}if(2&r){const n=m.oxw(4);m.Q6J("value",n.minValue)("highValue",n.maxValue)("options",n.options)}}function _w(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",14)(1,"div")(2,"p",15),m._uU(3,"FILTERS"),m.qZA(),m.TgZ(4,"div",16)(5,"div",17)(6,"div",18)(7,"h2",19)(8,"button",20),m._uU(9," CATEGORIES "),m.qZA()()(),m.TgZ(10,"div",21)(11,"div",22),m.YNc(12,ZT,6,6,"div",23),m.qZA()()()(),m.TgZ(13,"div",16)(14,"div",24)(15,"div",25)(16,"h2",19)(17,"button",26),m._uU(18," PRICE "),m.qZA()(),m.TgZ(19,"div",27)(20,"div",22)(21,"div",28),m.YNc(22,ey,1,3,"ngx-slider",29),m.qZA(),m.TgZ(23,"div",30)(24,"div",31)(25,"input",32,33),m.NdJ("change",function(){m.CHM(n);const l=m.MAs(26),f=m.oxw(3);return m.KtG(f.priceFilter(+l.value,"min"))}),m.qZA(),m.TgZ(27,"label",34),m._uU(28,"Min Price"),m.qZA()(),m.TgZ(29,"span",35),m._uU(30,"to"),m.qZA(),m.TgZ(31,"div",31)(32,"input",36,37),m.NdJ("change",function(){m.CHM(n);const l=m.MAs(33),f=m.oxw(3);return m.KtG(f.priceFilter(+l.value,"max"))}),m.qZA(),m.TgZ(34,"label",38),m._uU(35,"Max Price"),m.qZA()()()()()()()()()()}if(2&r){const n=m.MAs(26),i=m.oxw(3);m.xp6(12),m.Q6J("ngForOf",i.categories),m.xp6(10),m.Q6J("ngIf",i.isBrowser),m.xp6(3),m.s9C("value",i.minValue),m.s9C("max",+i.maxValue-100),m.xp6(7),m.s9C("value",i.maxValue),m.s9C("min",+n.value+100)}}function QT(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",11)(1,"div",3)(2,"div",12),m.NdJ("click",function(){m.CHM(n);const l=m.oxw(2);return m.KtG(l.toggleSideBar())}),m.qZA(),m.YNc(3,_w,36,6,"div",13),m.qZA()()}if(2&r){const n=m.oxw(2);m.xp6(3),m.Q6J("ngIf",n.products||n.isLoading)}}function YT(r,e){1&r&&(m.TgZ(0,"div",44)(1,"p",45),m._uU(2,"No More Products."),m.qZA(),m.TgZ(3,"p",46),m._uU(4," Redirect to "),m.TgZ(5,"a",47),m._uU(6,"HomePage"),m.qZA(),m._uU(7," ? "),m.qZA()())}function hD(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"span")(1,"span",64),m._uU(2),m.ALo(3,"uppercase"),m.ALo(4,"uppercase"),m.TgZ(5,"button",65),m.NdJ("click",function(){const f=m.CHM(n).$implicit,_=m.oxw(4);return m.KtG(_.removeFilter(f.id))}),m.qZA()()()}if(2&r){const n=e.$implicit;m.xp6(2),m.AsE(" ",m.lcZ(3,2,n.key),": ",m.lcZ(4,4,n.value)," ")}}function fD(r,e){if(1&r&&(m.TgZ(0,"li",62),m.YNc(1,hD,6,6,"span",63),m.qZA()),2&r){const n=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",n.selectedFiltersSorted)}}function AA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"button",87),m.NdJ("click",function(){m.CHM(n);const l=m.oxw(2).index,f=m.oxw(3);return m.KtG(f.toggleCart(l))}),m._uU(1," Add to Cart "),m.qZA()}}function JT(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div")(1,"button",88),m.NdJ("click",function(){m.CHM(n);const l=m.oxw(2).index,f=m.oxw(3);return m.KtG(f.productCart(l,"remove"))}),m._uU(2," - "),m.qZA(),m.TgZ(3,"span",89),m._uU(4),m.qZA(),m.TgZ(5,"button",90),m.NdJ("click",function(){m.CHM(n);const l=m.oxw(2).index,f=m.oxw(3);return m.KtG(f.productCart(l,"add"))}),m._uU(6," + "),m.qZA()()}if(2&r){const n=m.oxw(2).$implicit;m.xp6(4),m.Oqu(n.amount||1),m.xp6(1),m.Q6J("disabled",n.amount==n.stock)}}function pD(r,e){if(1&r&&(m.TgZ(0,"div"),m.YNc(1,AA,2,0,"button",86),m.YNc(2,JT,7,2,"div",84),m.qZA()),2&r){const n=m.oxw().$implicit;m.xp6(1),m.Q6J("ngIf",!n.isAdd),m.xp6(1),m.Q6J("ngIf",n.isAdd)}}function gD(r,e){1&r&&(m.TgZ(0,"span",46),m._uU(1,"Max Stock"),m.qZA())}function SA(r,e){1&r&&(m.TgZ(0,"span",46),m._uU(1,"Out of Stock"),m.qZA())}function xA(r,e){if(1&r&&(m.TgZ(0,"div",66)(1,"a",67),m._uU(2,"..."),m.qZA(),m.TgZ(3,"div",68)(4,"div",69),m._UZ(5,"img",70),m.qZA(),m.TgZ(6,"div",71)(7,"div",3)(8,"div",72)(9,"p",73),m._uU(10),m.qZA(),m.TgZ(11,"div",74)(12,"span",75),m._UZ(13,"img",76),m._uU(14,"Assured"),m.qZA(),m.TgZ(15,"span",77),m._uU(16,"4.4 "),m._UZ(17,"img",78),m.qZA()(),m.TgZ(18,"ul",79)(19,"li",80),m._uU(20," Lorem ipsum dolor sit, amet consectetur elit. "),m.qZA(),m.TgZ(21,"li",80),m._uU(22," Lorem ipsum dolor sit, amet. "),m.qZA(),m.TgZ(23,"li",80),m._uU(24,"Lorem ipsum."),m.qZA()()(),m.TgZ(25,"div",81)(26,"div")(27,"p",82),m._uU(28),m.qZA()(),m.TgZ(29,"div",83),m.YNc(30,pD,3,2,"div",84),m.YNc(31,gD,2,0,"span",85),m.YNc(32,SA,2,0,"span",85),m.qZA()()()()()()),2&r){const n=e.$implicit,i=e.index;m.xp6(1),m.MGl("routerLink","../product/",n.id,""),m.xp6(4),m.s9C("src",n.images[0],m.LSH),m.s9C("alt",n.title),m.uIk("loading",i>3?"lazy":null)("fetchpriority",i<3?"high":null),m.xp6(5),m.hij(" ",n.title," "),m.xp6(18),m.hij("$",n.price,""),m.xp6(2),m.Q6J("ngIf",0!=n.stock),m.xp6(1),m.Q6J("ngIf",n.amount==n.stock),m.xp6(1),m.Q6J("ngIf",0==n.stock)}}function RA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",48)(1,"ul",49)(2,"li",50)(3,"div",51)(4,"div",52),m._uU(5," Sort By "),m.qZA(),m.TgZ(6,"div",53)(7,"div",54),m._UZ(8,"input",55),m.TgZ(9,"label",56),m.NdJ("click",function(){m.CHM(n);const l=m.oxw(2);return m.KtG(l.addSort("asec"))}),m._uU(10,"Price - Low to High "),m.qZA(),m._UZ(11,"input",57),m.TgZ(12,"label",58),m.NdJ("click",function(){m.CHM(n);const l=m.oxw(2);return m.KtG(l.addSort("desc"))}),m._uU(13,"Price - High to Low"),m.qZA()()()()(),m.YNc(14,fD,2,1,"li",59),m.TgZ(15,"cdk-virtual-scroll-viewport",60),m.YNc(16,xA,33,10,"div",61),m.qZA()()()}if(2&r){const n=m.oxw(2);m.xp6(8),m.Q6J("checked","asec"===n.sortMeth),m.xp6(3),m.Q6J("checked","desc"===n.sortMeth),m.xp6(3),m.Q6J("ngIf",n.selectedFiltersSorted.length>0),m.xp6(2),m.Q6J("cdkVirtualForOf",n.products)}}function XT(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),m.NdJ("click",function(){m.CHM(n);const l=m.oxw();return m.KtG(l.toggleSideBar())}),m._UZ(4,"img",6),m.qZA()(),m.YNc(5,QT,4,1,"div",7),m.YNc(6,YT,8,0,"div",8),m.TgZ(7,"div",9),m.YNc(8,RA,17,4,"div",10),m.qZA()()()}if(2&r){const n=m.oxw();m.xp6(5),m.Q6J("ngIf",n.products&&n.categories&&n.categories.length>0),m.xp6(1),m.Q6J("ngIf",n.products&&0===n.products.length&&!n.isLoading),m.xp6(2),m.Q6J("ngIf",n.products&&n.products.length>0)}}function mD(r,e){1&r&&(m.TgZ(0,"div",91),m._UZ(1,"app-loader"),m.qZA())}const OA=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:(()=>{var r;class e{constructor(i,l,f,_,C,k){this.cartServ=i,this.route=l,this.router=f,this.productService=_,this.breakpointObserver=C,this.platformId=k,this.pageId=1,this.isLoading=!1,this.minValue=0,this.maxValue=0,this.defCategoryRoute="",this.isSideBarOpen=!1,this.selectedFilters={},this.selectedFiltersSorted=[],this.Breakpoints=Eo,this.currentBreakpoint="",this.breakpoint$=this.breakpointObserver.observe([Eo.Large,Eo.Medium,Eo.Small,"(min-width: 500px)"]).pipe((0,wu.b)(B=>console.log(B)),(0,oc.x)()),this.isBrowser=(0,Ie.NF)(k)}ngOnInit(){this.getData(),this.getCategories(),this.options={floor:0,ceil:2e3,step:100,translate:i=>"$ "+i},this.breakpoint$.subscribe(()=>this.breakpointChanged())}ngOnDestroy(){this.ObsSubs.unsubscribe()}toggleSideBar(){this.isSideBarOpen=!this.isSideBarOpen;let i=document.getElementById("sideBar").classList;i.contains("resposiveSideBar")?i.remove("resposiveSideBar"):i.add("resposiveSideBar")}getData(){this.minValue=0,this.maxValue=0,this.route.queryParams.subscribe(i=>{i.price_min&&i.price_max?(this.minValue=+i.price_min,this.maxValue=+i.price_max):i.price_min?(this.minValue=+i.price_min,this.maxValue=2e3):i.price_max?(this.maxValue=+i.price_max,this.minValue=0):(this.minValue=0,this.maxValue=2e3),this.selectedFilters=i,this.selectedFiltersSorted=[];for(const f in this.selectedFilters)"category"==f?this.selectedFiltersSorted.push({key:f,value:this.selectedFilters[f],id:f}):"price_min"==f?this.selectedFiltersSorted.push({key:"Min Price",value:this.selectedFilters[f],id:f}):"sort"==f?this.selectedFiltersSorted.push({key:f,value:"asec"==this.selectedFilters[f]?"Low To High":"High To Low",id:f}):"price_max"==f&&this.selectedFiltersSorted.push({key:"Max Price",value:this.selectedFilters[f],id:f});this.pageId=i.page,this.sortMeth=i.sort;let l=localStorage.getItem("cart")||"[]";this.prods=JSON.parse(l),this.defCategoryRoute="",this.ObsSubs=this.productService.getProducts().subscribe(f=>{this.products=f,this.productsSorted=f.map(_=>{let C=this.prods.findIndex(({id:k})=>k===_.id);return C>=0?{..._,isAdd:!0,amount:this.prods[C].amount}:{..._,isAdd:!1}}),this.isLoading=!1})}),this.getCategories()}productCart(i,l){this.cartServ.data(this.products[i],l),this.getData()}toggleCart(i){this.productCart(i,"add"),this.products[i].isAdd=!this.products[i].isAdd}page(i){isNaN(this.pageId)&&(this.pageId=1),this.isLoading=!0,this.router.navigate(["/products"],"next"===i?{queryParams:{page:+this.pageId+1},queryParamsHandling:"merge"}:{queryParams:{page:+this.pageId-1},queryParamsHandling:"merge"}),this.getCategories(),this.isLoading=!1}numbPage(i){this.isLoading=!0,this.router.navigate(["/products"],{queryParams:{page:i},queryParamsHandling:"merge"}),this.isLoading=!1}priceFilter(i,l){let f=0;this.route.queryParams.subscribe(_=>{f=_.page}),"max"==l?2e3==i?this.removeFilter("price_max"):this.router.navigate(["/products"],{queryParams:{price_max:`${i}`},queryParamsHandling:"merge"}):"min"==l&&(0==i?this.removeFilter("price_min"):this.router.navigate(["/products"],{queryParams:{price_min:`${i}`},queryParamsHandling:"merge"}))}priceRangeFilter(i){1==i.pointerType?this.priceFilter(i.highValue,"max"):this.priceFilter(i.value,"min")}getCategories(){this.productService.getCategories().subscribe(i=>{this.categories=Object.keys(i).map(l=>({id:l,name:i[l],checked:this.defCategoryRoute==i[l]})),this.route.queryParams.subscribe(l=>{let f=l.category,_=this.categories.find(C=>C.name===f);_&&(this.defCategoryRoute=_.name)})})}categoryFilter(i){this.router.navigate(["/products"],{queryParams:{category:i.checked?i.name:null,page:null},queryParamsHandling:"merge"})}addSort(i){this.router.navigate(["products"],{queryParams:{sort:i,page:null},queryParamsHandling:"merge"})}onCheckboxChange(){for(let i=0;i<this.categories.length;i++)this.categories[i].checked=this.defCategoryRoute!=this.categories[i].name}removeFilter(i){"category"==i?this.router.navigate(["products"],{queryParams:{category:null},queryParamsHandling:"merge"}):"price_min"==i?this.router.navigate(["products"],{queryParams:{price_min:null},queryParamsHandling:"merge"}):"sort"==i?this.router.navigate(["products"],{queryParams:{sort:null},queryParamsHandling:"merge"}):"price_max"==i&&this.router.navigate(["products"],{queryParams:{price_max:null},queryParamsHandling:"merge"})}breakpointChanged(){this.breakpointObserver.isMatched(Eo.Large)?this.currentBreakpoint=Eo.Large:this.breakpointObserver.isMatched(Eo.Medium)?this.currentBreakpoint=Eo.Medium:this.breakpointObserver.isMatched(Eo.Small)?this.currentBreakpoint=Eo.Small:this.breakpointObserver.isMatched("(min-width: 500px)")&&(this.currentBreakpoint="(min-width: 500px)")}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Ia.b),m.Y36(Y.gz),m.Y36(Y.F0),m.Y36(gT),m.Y36(on),m.Y36(m.Lbi))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-products"]],decls:2,vars:2,consts:[["class","container-xxl text-center",4,"ngIf"],["class","col-1 mx-auto",4,"ngIf"],[1,"container-xxl","text-center"],[1,"row"],[1,"col-12","d-flex","flex-row-reverse","d-xl-none","d-block"],["id","btn","aria-label","toggle sidebar","type","button",1,"btn","d-xl-none","d-block","bg-white",3,"click"],["src","../../assets/menu.png","alt","","width","16px","height","16px"],["class","col-2","id","sideBar",4,"ngIf"],["class","mt-5 pt-5 ms-5 ps-5",4,"ngIf"],[1,"col-12","col-lg-10"],["class","col-xl-10 col-lg-10 col-12 mx-auto",4,"ngIf"],["id","sideBar",1,"col-2"],["id","overlay",1,"col-12",3,"click"],["class","col-2 py-4 px-3 h-100 ms-0 me-5 rounded text-start","id","filterBar",4,"ngIf"],["id","filterBar",1,"col-2","py-4","px-3","h-100","ms-0","me-5","rounded","text-start"],[1,"h4","fw-medium","ms-2","fw-semibold"],[1,"col-12"],["id","accordionExample",1,"accordion","border","my-2","rounded"],[1,"accordion-item","rounded"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[3,"change",4,"ngFor","ngForOf"],["id","accordion",1,"accordion","rounded"],[1,"accordion-item"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsePrice","aria-expanded","true","aria-controls","collapsePrice",1,"accordion-button"],["id","collapsePrice","data-bs-parent","#accordion",1,"accordion-collapse","collapse","show"],[1,"custom-slider"],[3,"value","highValue","options","valueChange","highValueChange","userChange",4,"ngIf"],[1,"col-12","d-flex","text-center"],[1,"col-5"],["type","number","id","minUserValue","step","100","min","0",1,"form-control","border","col-12",3,"value","max","change"],["minUserValue",""],["for","maxUserValue",1,"col-12","fw-semibold"],[1,"text-secondary","m-2"],["step","100","type","number","id","maxUserValue","max","2000",1,"col-12","form-control","border","p-2",3,"value","min","change"],["maxUserValue",""],["for","minUserValue",1,"col-12","fw-semibold"],[3,"change"],[1,"form-control","p-0",3,"for"],["type","checkbox",1,"checkbox",3,"id","checked","change"],[1,"mt-1"],[3,"value","highValue","options","valueChange","highValueChange","userChange"],[1,"mt-5","pt-5","ms-5","ps-5"],[1,"text-black","display-5"],[1,"text-black"],["href","/products",1,"text-decoration-none","text-primary","fw-semibold"],[1,"col-xl-10","col-lg-10","col-12","mx-auto"],[1,"col-12","col-lg-8","col-lg-12","mx-auto","list-group"],[1,"list-group-item","py-0"],[1,"row","p-0"],[1,"col-lg-2","col-3","text-start","ms","fw-bolder","btn","disabled","border-0","py-3"],[1,"col-xl-5","col-md-8","col-lg-6","col-9"],["role","group","id","btnGroup","aria-label","Basic radio toggle button group ",1,"btn-group"],["type","radio","name","sortRadio","id","sortAsec",1,"btn-check",3,"checked"],["for","sortAsec","id","sortAsecLabel",1,"btn","border-0","py-3",3,"click"],["type","radio","name","sortRadio","id","sortDesc",1,"btn-check",3,"checked"],["for","sortDesc",1,"btn","border-0","py-3",3,"click"],["class","list-group-item text-start py-3",4,"ngIf"],["itemSize","90",2,"height","500px"],["class","list-group-item px-1",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"list-group-item","text-start","py-3"],[4,"ngFor","ngForOf"],[1,"d-inline-block","bg-success-subtle","rounded-pill","fw-semibold","small","px-3","py-2","m-1","lh-1"],[1,"btn","p-0","filterButton","m-0","btn-close","btn-sm","ms-2","me-1",3,"click"],[1,"list-group-item","px-1"],[1,"detailAnchor","text-white","text-decoration-none",3,"routerLink"],[1,"mx-sm-auto","row","text-decoration-none","text-black"],["id","productDetail",1,"col-sm-3","col-12"],["width","200px","height","200px",1,"mx-sm-auto",3,"src","alt"],[1,"col-sm-8","col-12"],[1,"col-sm-7","col-12","text-center","text-lg-start"],[1,"fw-semibold","h6","pt-2","text-wrap","text-lg-start","text-center"],[1,"col-12","my-2"],[1,"bg-primary","text-white","small","rounded-pill","py-1","px-2","fw-semibold","mx-2"],["src","../../assets/logo.svg","width","15px","alt","assured logo","height","15px",1,"me-1","mb-1"],[1,"badge","bg-success","my-1"],["src","../../assets/star.png","width","16px","height","16px","alt","star"],[1,"list-group","ms-4","d-none","d-xl-block"],[1,"py-1"],[1,"col-sm-5","col-12","py-2","py-xl-5","mt-0","mt-xl-1"],[1,"fw-semibold","h5"],["id","addToCartButton",1,"mt-0","mt-lg-4"],[4,"ngIf"],["class","text-black",4,"ngIf"],["class","btn btn-primary rounded-pill fw-semibold btn-sm py-md-2 px-md-4 px-3 py-1",3,"click",4,"ngIf"],[1,"btn","btn-primary","rounded-pill","fw-semibold","btn-sm","py-md-2","px-md-4","px-3","py-1",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"mx-3"],[1,"btn","btn-success",3,"disabled","click"],[1,"col-1","mx-auto"]],template:function(i,l){1&i&&(m.YNc(0,XT,9,3,"div",0),m.YNc(1,mD,2,0,"div",1)),2&i&&(m.Q6J("ngIf",l.products||!l.isLoading),m.xp6(1),m.Q6J("ngIf",!l.products||l.isLoading))},dependencies:[Ie.sg,Ie.O5,Y.rH,jC,EA,$C,hI,KT.R,Ie.gd],styles:['#filterBar[_ngcontent-%COMP%]{position:fixed;left:0;background-color:#feffff!important}.btn-check[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#007bff;border-radius:0;border-bottom:3px solid #007bff!important}a.list-group-item[_ngcontent-%COMP%]:hover{background-color:#fafafa!important;transform:scale(1.005);cursor:pointer;border-radius:10px}.detailAnchor[_ngcontent-%COMP%]{top:0;height:100%;width:100%;left:0;z-index:150;position:absolute}#productDetail[_ngcontent-%COMP%]{position:relative}#addToCartButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:200;position:relative}[_ngcontent-%COMP%]:root{--form-control-color: rebeccapurple;--form-control-disabled: #959495}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0}.form-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1em auto;gap:.8em;border:none}input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:var(--form-background);margin:5px auto;font:inherit;color:currentColor;width:1.15em;height:1.15em;border-radius:.15em;border:.15em currentColor solid;display:grid;place-content:center}label[_ngcontent-%COMP%]:hover{cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#007bff}input[type=checkbox][_ngcontent-%COMP%]:before{content:"";width:.65em;height:.65em;clip-path:polygon(14% 44%,0 65%,50% 100%,100% 16%,80% 0%,43% 62%);transform:scale(0);transform-origin:bottom left;transition:.12s transform ease-in-out;box-shadow:inset 1em 1em var(--form-control-color);background-color:#fff}input[type=checkbox][_ngcontent-%COMP%]:checked:before{transform:scale(1)}input[type=checkbox][_ngcontent-%COMP%]:focus{outline-offset:max(2px,.15em)}@media screen and (max-width: 1200px){#filterBar[_ngcontent-%COMP%]{width:40vw;position:absolute;z-index:500;display:block}#sideBar[_ngcontent-%COMP%]{transition:all .33s;display:block;width:100vw;height:100vh;position:fixed;left:-100%;padding-top:10px;top:0;display:flex;z-index:500}#overlay[_ngcontent-%COMP%]{width:100%;background-color:#000000e6}.resposiveSideBar[_ngcontent-%COMP%]{left:0!important}#productDetail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain}}@media screen and (max-width: 600px){#filterBar[_ngcontent-%COMP%]{width:60vw}}#btn[_ngcontent-%COMP%]{z-index:1000!important;background-color:transparent;width:10%;display:block}  .custom-slider .ngx-slider .ngx-slider-selection{background:#007bff!important}  .custom-slider .ngx-slider .ngx-slider-pointer{background:#ffffff!important;width:10px!important;padding:5px!important;border:1px solid rgb(169,169,169);top:-3px!important;position:absolute!important;height:10px!important}  .custom-slider .ngx-slider .ngx-slider-active{background:#ffffff!important}  .custom-slider .ngx-slider .ngx-slider-active:after{display:none}#pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}']}),e})()},{path:"cart",component:Yi.P,loadChildren:()=>U.e(562).then(U.bind(U,5562)).then(r=>r.CartModule)},{path:"login",component:gu},{path:"signup",component:za},{path:"order",component:j,canActivate:[ue.a]},{path:"product/:id",loadChildren:()=>U.e(603).then(U.bind(U,2603)).then(r=>r.ProductsModule)},{path:"user-profile",loadChildren:()=>U.e(218).then(U.bind(U,3218)).then(r=>r.CustomerModule),canActivate:[ue.a]},{path:"**",component:Vo,pathMatch:"full"}];let NA=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[Y.Bz.forRoot(OA,{initialNavigation:"enabledBlocking"}),Y.Bz]}),e})();function kA(r,e){1&r&&(m.TgZ(0,"span"),m._uU(1,"s"),m.qZA())}function LA(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"div")(1,"div")(2,"button",32),m.NdJ("click",function(){m.CHM(n);const l=m.oxw().index,f=m.oxw(2);return m.KtG(f.productCart(l,"remove"))}),m._uU(3," - "),m.qZA(),m.TgZ(4,"span",33),m._uU(5),m.qZA(),m.TgZ(6,"button",34),m.NdJ("click",function(){m.CHM(n);const l=m.oxw().index,f=m.oxw(2);return m.KtG(f.productCart(l,"add"))}),m._uU(7," + "),m.qZA()()()}if(2&r){const n=m.oxw().$implicit;m.xp6(5),m.Oqu(n.amount||1),m.xp6(1),m.Q6J("disabled",n.amount==n.stock)}}function FA(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1,"Max Stock"),m.qZA())}function _D(r,e){1&r&&(m.TgZ(0,"span",35),m._uU(1,"Out of Stock"),m.qZA())}function yw(r,e){if(1&r&&(m.TgZ(0,"div",21)(1,"div",22)(2,"div",23),m._UZ(3,"img",24),m.qZA(),m.TgZ(4,"div",25)(5,"div",26),m._uU(6),m.qZA(),m.TgZ(7,"div",27)(8,"div",28),m.YNc(9,LA,8,2,"div",17),m.YNc(10,FA,2,0,"span",29),m.YNc(11,_D,2,0,"span",29),m.qZA(),m.TgZ(12,"div",30)(13,"div",31),m._uU(14),m.qZA(),m.TgZ(15,"div",31),m._uU(16),m.qZA()()()()()()),2&r){const n=e.$implicit;m.xp6(3),m.s9C("src",n.images[0],m.LSH),m.xp6(3),m.Oqu(n.title),m.xp6(3),m.Q6J("ngIf",0!=n.stock),m.xp6(1),m.Q6J("ngIf",n.amount==n.stock),m.xp6(1),m.Q6J("ngIf",0==n.stock),m.xp6(3),m.hij("$",n.price,""),m.xp6(2),m.hij(" Total: $",n.amount*n.price," ")}}function yD(r,e){1&r&&(m.TgZ(0,"span"),m._uU(1,"s"),m.qZA())}function vD(r,e){if(1&r&&(m.TgZ(0,"span"),m._uU(1),m.YNc(2,yD,2,0,"span",17),m._uU(3," in cart "),m.qZA()),2&r){const n=m.oxw(2);m.xp6(1),m.hij(" ",n.items-3," more item"),m.xp6(1),m.Q6J("ngIf",n.items-3>1)}}function eb(r,e){if(1&r&&(m.TgZ(0,"div",14)(1,"div",15)(2,"p",16),m._uU(3),m.YNc(4,kA,2,0,"span",17),m.qZA(),m.TgZ(5,"p",16),m._uU(6),m.qZA()(),m.YNc(7,yw,17,7,"div",18),m.TgZ(8,"div",19),m.YNc(9,vD,4,2,"span",17),m.TgZ(10,"a",20),m._uU(11," Go to cart "),m.qZA()()()),2&r){const n=m.oxw();m.xp6(3),m.hij(" ",n.items," item"),m.xp6(1),m.Q6J("ngIf",n.items>1),m.xp6(2),m.hij("$",n.totalAmount,""),m.xp6(1),m.Q6J("ngForOf",n.headerCart),m.xp6(2),m.Q6J("ngIf",n.items>3)}}function ym(r,e){1&r&&(m.TgZ(0,"div",36)(1,"p",37),m._uU(2,"Cart is Empty."),m.qZA()())}function tb(r,e){1&r&&(m.TgZ(0,"a",38),m._UZ(1,"img",39),m.qZA())}function fI(r,e){if(1&r){const n=m.EpF();m.TgZ(0,"button",40),m.NdJ("click",function(){m.CHM(n);const l=m.oxw();return m.KtG(l.logout())}),m._uU(1," Logout "),m.qZA()}}function pI(r,e){1&r&&(m.TgZ(0,"button",41),m._uU(1," Login "),m.qZA())}let ED=(()=>{var r;class e{constructor(i,l){this.cart=i,this.auth=l,this.items=this.cart.cartdata.length,this.isAuth=!1,this.headerCart=[],this.cartData=localStorage.getItem("cart"),this.objCart=JSON.parse(this.cartData),this.totalAmount=0}ngOnInit(){this.auth.user.subscribe(i=>{this.isAuth=!!i}),this.cart.cart$.subscribe(i=>{this.items=i.length,this.dataSource=i,this.totalAmount=0,i.map(l=>{this.totalAmount+=l.price*l.amount}),this.headerCart=i.length>3?i.slice(0,3):i,console.log(this.totalAmount)})}logout(){this.auth.logout()}productCart(i,l){this.cart.data(this.dataSource[i],l),this.ngOnInit()}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Ia.b),m.Y36(Ae.e))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-header"]],decls:16,vars:6,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"container"],["routerLink","/",1,"navbar-brand","fw-bold"],["src","\\assets\\logo.svg","alt","Anywhere-logo","width","40px","height","40px"],[1,"ms-0"],["id","btns"],["routerLink","/cart",1,"btn","text-decoration-none","bg-white","rounded-pill"],["src","../../assets/shopping-cart.png","alt","shopping-cart","width","20px","height","20px"],[1,"popover","bg-transparent"],["class","bg-white innerDiv py-2",4,"ngIf"],["class","bg-white p-3 border mt-1 rounded text-center",4,"ngIf"],["class","btn bg-white ms-1 rounded-pill","routerLink","/user-profile",4,"ngIf"],["class","btn bg-white ms-1 rounded-pill",3,"click",4,"ngIf"],["class","btn ms-1 bg-white rounded-pill","routerLink","/login",4,"ngIf"],[1,"bg-white","innerDiv","py-2"],[1,"d-flex","justify-content-between","header","px-3"],[1,"h6","fw-semibold"],[4,"ngIf"],["class","my-1 px-3",4,"ngFor","ngForOf"],[1,"p-3","col-12","fw-semibold","bg-white","justify-content-between","d-flex"],["routerLink","/cart",1,"btn","btn-primary","btn-sm"],[1,"my-1","px-3"],[1,"row","border-bottom","py-3"],[1,"col-4"],["alt","",1,"img-fluid",3,"src"],[1,"col-8"],[1,"col-12","fw-semibold"],[1,"col-12"],["id","addToCartButton",1,"my-2"],["class","text-black",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"mx-3"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"text-black"],[1,"bg-white","p-3","border","mt-1","rounded","text-center"],[1,"h4"],["routerLink","/user-profile",1,"btn","bg-white","ms-1","rounded-pill"],["src","../../assets/user.png","alt","user","width","20px","height","20px"],[1,"btn","bg-white","ms-1","rounded-pill",3,"click"],["routerLink","/login",1,"btn","ms-1","bg-white","rounded-pill"]],template:function(i,l){1&i&&(m.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),m._UZ(3,"img",3),m._uU(4," Anywhere App "),m.qZA(),m.TgZ(5,"div",4)(6,"span",5)(7,"button",6),m._UZ(8,"img",7),m._uU(9),m.qZA(),m.TgZ(10,"div",8),m.YNc(11,eb,12,5,"div",9),m.YNc(12,ym,3,0,"div",10),m.qZA()(),m.YNc(13,tb,2,0,"a",11),m.YNc(14,fI,2,0,"button",12),m.YNc(15,pI,2,0,"button",13),m.qZA()()()),2&i&&(m.xp6(9),m.hij(" ",l.items," "),m.xp6(2),m.Q6J("ngIf",l.headerCart.length>0),m.xp6(1),m.Q6J("ngIf",0===l.headerCart.length),m.xp6(1),m.Q6J("ngIf",l.isAuth),m.xp6(1),m.Q6J("ngIf",l.isAuth),m.xp6(1),m.Q6J("ngIf",!l.isAuth))},dependencies:[Ie.sg,Ie.O5,Y.rH],styles:[".navbar[_ngcontent-%COMP%]{z-index:500!important}.popover[_ngcontent-%COMP%]{z-index:5;position:relative;display:none;width:450px;min-width:350px;border:none;padding-top:10px;top:80%}.popover[_ngcontent-%COMP%]   .innerDiv[_ngcontent-%COMP%]{position:relative;top:100%;height:100%;border:1px solid rgba(0,0,0,.1);border-radius:3px;width:100%}.popover[_ngcontent-%COMP%]   .innerDiv[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:.5px solid rgb(161,161,161)!important}#btns[_ngcontent-%COMP%]:hover   .popover[_ngcontent-%COMP%], .popover[_ngcontent-%COMP%]:hover   .popover[_ngcontent-%COMP%]{position:absolute;display:block;right:10%}"]}),e})(),gI=(()=>{var r;class e{constructor(i){this.auth=i,this.title="eCom"}ngOnInit(){this.auth.autoLogin()}}return(r=e).\u0275fac=function(i){return new(i||r)(m.Y36(Ae.e))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"fixed-top"],[1,"container-fluid","mt-4","pt-5"],[1,"row"]],template:function(i,l){1&i&&(m.TgZ(0,"div",0),m._UZ(1,"app-header"),m.qZA(),m.TgZ(2,"div",1)(3,"div",2),m._UZ(4,"router-outlet"),m.qZA()())},dependencies:[Y.lC,ED]}),e})();var vm=U(8726),Pv=U(6304),ty=U(2793),VA=U(4097);U(6710),U(7592);class rb{constructor(){return(0,ty.vb)("auth")}}var b=U(2194),D=U(8162);class L{constructor(e){return e}}const W="firestore",Ue=new m.OlP("angularfire2.firestore-instances");function St(r){return(e,n)=>{const i=e.runOutsideAngular(()=>r(n));return new L(i)}}const Jt={provide:class te{constructor(){return(0,ty.vb)(W)}},deps:[[new m.FiY,Ue]]},Dn={provide:L,useFactory:function Xe(r,e){const n=(0,ty.JM)(W,r,e);return n&&new L(n)},deps:[[new m.FiY,Ue],vm.Ot]};let er=(()=>{class r{constructor(){(0,VA.KN)("angularfire",ty.q4.full,"fst")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({providers:[Dn,Jt]}),r})();function Ut(r,...e){return{ngModule:er,providers:[{provide:Ue,useFactory:St(r),multi:!0,deps:[m.R0b,m.zs3,ty.HU,vm.z6,[new m.FiY,rb],[new m.FiY,b.nm],...e]}]}}const US=(0,ty.u3)(D.ad,!0);var aS=U(653);let BS=(()=>{var r;class e{}return(r=e).\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r,bootstrap:[gI]}),r.\u0275inj=m.cJS({imports:[w.b2,NA,No,ie.JF,Pv.hO,wA,dD,Hc,Ut(()=>US()),Pv.hO.initializeApp(aS.N.firebaseConfig),(0,vm.hX)(()=>(0,vm.ZF)(aS.N.firebaseConfig))]}),e})();w.q6().bootstrapModule(BS).catch(r=>console.error(r))},5619:(Gt,$e,U)=>{U.d($e,{X:()=>ie});var w=U(8645);class ie extends w.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const m=super._subscribe(ue);return!m.closed&&ue.next(this._value),m}getValue(){const{hasError:ue,thrownError:m,_value:Ae}=this;if(ue)throw m;return this._throwIfClosed(),Ae}next(ue){super.next(this._value=ue)}}},5592:(Gt,$e,U)=>{U.d($e,{y:()=>pe});var w=U(305),ie=U(7394),Y=U(4850),ue=U(8407),m=U(2653),Ae=U(4674),Ie=U(1441);let pe=(()=>{class Pe{constructor(it){it&&(this._subscribe=it)}lift(it){const Pt=new Pe;return Pt.source=this,Pt.operator=it,Pt}subscribe(it,Pt,Le){const De=function ye(Pe){return Pe&&Pe instanceof w.Lv||function re(Pe){return Pe&&(0,Ae.m)(Pe.next)&&(0,Ae.m)(Pe.error)&&(0,Ae.m)(Pe.complete)}(Pe)&&(0,ie.Nn)(Pe)}(it)?it:new w.Hp(it,Pt,Le);return(0,Ie.x)(()=>{const{operator:Fe,source:wt}=this;De.add(Fe?Fe.call(De,wt):wt?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(it){try{return this._subscribe(it)}catch(Pt){it.error(Pt)}}forEach(it,Pt){return new(Pt=Se(Pt))((Le,De)=>{const Fe=new w.Hp({next:wt=>{try{it(wt)}catch(yt){De(yt),Fe.unsubscribe()}},error:De,complete:Le});this.subscribe(Fe)})}_subscribe(it){var Pt;return null===(Pt=this.source)||void 0===Pt?void 0:Pt.subscribe(it)}[Y.L](){return this}pipe(...it){return(0,ue.U)(it)(this)}toPromise(it){return new(it=Se(it))((Pt,Le)=>{let De;this.subscribe(Fe=>De=Fe,Fe=>Le(Fe),()=>Pt(De))})}}return Pe.create=Be=>new Pe(Be),Pe})();function Se(Pe){var Be;return null!==(Be=Pe??m.config.Promise)&&void 0!==Be?Be:Promise}},8645:(Gt,$e,U)=>{U.d($e,{x:()=>Ie});var w=U(5592),ie=U(7394);const ue=(0,U(2306).d)(Se=>function(){Se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=U(9039),Ae=U(1441);let Ie=(()=>{class Se extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const Pe=new pe(this,this);return Pe.operator=ye,Pe}_throwIfClosed(){if(this.closed)throw new ue}next(ye){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ye)}})}error(ye){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ye)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:Pe,isStopped:Be,observers:it}=this;return Pe||Be?ie.Lc:(this.currentObservers=null,it.push(ye),new ie.w0(()=>{this.currentObservers=null,(0,m.P)(it,ye)}))}_checkFinalizedStatuses(ye){const{hasError:Pe,thrownError:Be,isStopped:it}=this;Pe?ye.error(Be):it&&ye.complete()}asObservable(){const ye=new w.y;return ye.source=this,ye}}return Se.create=(re,ye)=>new pe(re,ye),Se})();class pe extends Ie{constructor(re,ye){super(),this.destination=re,this.source=ye}next(re){var ye,Pe;null===(Pe=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===Pe||Pe.call(ye,re)}error(re){var ye,Pe;null===(Pe=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===Pe||Pe.call(ye,re)}complete(){var re,ye;null===(ye=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ye||ye.call(re)}_subscribe(re){var ye,Pe;return null!==(Pe=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(re))&&void 0!==Pe?Pe:ie.Lc}}},305:(Gt,$e,U)=>{U.d($e,{Hp:()=>Le,Lv:()=>Pe});var w=U(4674),ie=U(7394),Y=U(2653),ue=U(3894),m=U(2420);const Ae=Se("C",void 0,void 0);function Se(xe,pt,Ke){return{kind:xe,value:pt,error:Ke}}var re=U(7599),ye=U(1441);class Pe extends ie.w0{constructor(pt){super(),this.isStopped=!1,pt?(this.destination=pt,(0,ie.Nn)(pt)&&pt.add(this)):this.destination=yt}static create(pt,Ke,ut){return new Le(pt,Ke,ut)}next(pt){this.isStopped?wt(function pe(xe){return Se("N",xe,void 0)}(pt),this):this._next(pt)}error(pt){this.isStopped?wt(function Ie(xe){return Se("E",void 0,xe)}(pt),this):(this.isStopped=!0,this._error(pt))}complete(){this.isStopped?wt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pt){this.destination.next(pt)}_error(pt){try{this.destination.error(pt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function it(xe,pt){return Be.call(xe,pt)}class Pt{constructor(pt){this.partialObserver=pt}next(pt){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(pt)}catch(ut){De(ut)}}error(pt){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(pt)}catch(ut){De(ut)}else De(pt)}complete(){const{partialObserver:pt}=this;if(pt.complete)try{pt.complete()}catch(Ke){De(Ke)}}}class Le extends Pe{constructor(pt,Ke,ut){let mt;if(super(),(0,w.m)(pt)||!pt)mt={next:pt??void 0,error:Ke??void 0,complete:ut??void 0};else{let Ee;this&&Y.config.useDeprecatedNextContext?(Ee=Object.create(pt),Ee.unsubscribe=()=>this.unsubscribe(),mt={next:pt.next&&it(pt.next,Ee),error:pt.error&&it(pt.error,Ee),complete:pt.complete&&it(pt.complete,Ee)}):mt=pt}this.destination=new Pt(mt)}}function De(xe){Y.config.useDeprecatedSynchronousErrorHandling?(0,ye.O)(xe):(0,ue.h)(xe)}function wt(xe,pt){const{onStoppedNotification:Ke}=Y.config;Ke&&re.z.setTimeout(()=>Ke(xe,pt))}const yt={closed:!0,next:m.Z,error:function Fe(xe){throw xe},complete:m.Z}},7394:(Gt,$e,U)=>{U.d($e,{Lc:()=>Ae,w0:()=>m,Nn:()=>Ie});var w=U(4674);const Y=(0,U(2306).d)(Se=>function(ye){Se(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((Pe,Be)=>`${Be+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ue=U(9039);class m{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const it of ye)it.remove(this);else ye.remove(this);const{initialTeardown:Pe}=this;if((0,w.m)(Pe))try{Pe()}catch(it){re=it instanceof Y?it.errors:[it]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const it of Be)try{pe(it)}catch(Pt){re=re??[],Pt instanceof Y?re=[...re,...Pt.errors]:re.push(Pt)}}if(re)throw new Y(re)}}add(re){var ye;if(re&&re!==this)if(this.closed)pe(re);else{if(re instanceof m){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(re)}}_hasParent(re){const{_parentage:ye}=this;return ye===re||Array.isArray(ye)&&ye.includes(re)}_addParent(re){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(re),ye):ye?[ye,re]:re}_removeParent(re){const{_parentage:ye}=this;ye===re?this._parentage=null:Array.isArray(ye)&&(0,ue.P)(ye,re)}remove(re){const{_finalizers:ye}=this;ye&&(0,ue.P)(ye,re),re instanceof m&&re._removeParent(this)}}m.EMPTY=(()=>{const Se=new m;return Se.closed=!0,Se})();const Ae=m.EMPTY;function Ie(Se){return Se instanceof m||Se&&"closed"in Se&&(0,w.m)(Se.remove)&&(0,w.m)(Se.add)&&(0,w.m)(Se.unsubscribe)}function pe(Se){(0,w.m)(Se)?Se():Se.unsubscribe()}},2653:(Gt,$e,U)=>{U.d($e,{config:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Gt,$e,U)=>{U.d($e,{c:()=>Ae});var w=U(5592),ie=U(7394),Y=U(6196),ue=U(8251),m=U(9360);class Ae extends w.y{constructor(pe,Se){super(),this.source=pe,this.subjectFactory=Se,this._subject=null,this._refCount=0,this._connection=null,(0,m.A)(pe)&&(this.lift=pe.lift)}_subscribe(pe){return this.getSubject().subscribe(pe)}getSubject(){const pe=this._subject;return(!pe||pe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:pe}=this;this._subject=this._connection=null,pe?.unsubscribe()}connect(){let pe=this._connection;if(!pe){pe=this._connection=new ie.w0;const Se=this.getSubject();pe.add(this.source.subscribe((0,ue.x)(Se,void 0,()=>{this._teardown(),Se.complete()},re=>{this._teardown(),Se.error(re)},()=>this._teardown()))),pe.closed&&(this._connection=null,pe=ie.w0.EMPTY)}return pe}refCount(){return(0,Y.x)()(this)}}},2572:(Gt,$e,U)=>{U.d($e,{a:()=>re});var w=U(5592),ie=U(7453),Y=U(2459),ue=U(2737),m=U(7400),Ae=U(9940),Ie=U(2714),pe=U(8251),Se=U(7103);function re(...Be){const it=(0,Ae.yG)(Be),Pt=(0,Ae.jO)(Be),{args:Le,keys:De}=(0,ie.D)(Be);if(0===Le.length)return(0,Y.D)([],it);const Fe=new w.y(function ye(Be,it,Pt=ue.y){return Le=>{Pe(it,()=>{const{length:De}=Be,Fe=new Array(De);let wt=De,yt=De;for(let xe=0;xe<De;xe++)Pe(it,()=>{const pt=(0,Y.D)(Be[xe],it);let Ke=!1;pt.subscribe((0,pe.x)(Le,ut=>{Fe[xe]=ut,Ke||(Ke=!0,yt--),yt||Le.next(Pt(Fe.slice()))},()=>{--wt||Le.complete()}))},Le)},Le)}}(Le,it,De?wt=>(0,Ie.n)(De,wt):ue.y));return Pt?Fe.pipe((0,m.Z)(Pt)):Fe}function Pe(Be,it,Pt){Be?(0,Se.f)(Pt,Be,it):it()}},5211:(Gt,$e,U)=>{U.d($e,{z:()=>m});var w=U(7537),Y=U(9940),ue=U(2459);function m(...Ae){return function ie(){return(0,w.J)(1)}()((0,ue.D)(Ae,(0,Y.yG)(Ae)))}},6232:(Gt,$e,U)=>{U.d($e,{E:()=>ie});const ie=new(U(5592).y)(m=>m.complete())},2459:(Gt,$e,U)=>{U.d($e,{D:()=>pt});var w=U(4829),ie=U(3093),Y=U(5137),Ae=U(5592),pe=U(4971),Se=U(4674),re=U(7103);function Pe(Ke,ut){if(!Ke)throw new Error("Iterable cannot be null");return new Ae.y(mt=>{(0,re.f)(mt,ut,()=>{const Ee=Ke[Symbol.asyncIterator]();(0,re.f)(mt,ut,()=>{Ee.next().then(dt=>{dt.done?mt.complete():mt.next(dt.value)})},0,!0)})})}var Be=U(8382),it=U(4026),Pt=U(4266),Le=U(3664),De=U(5726),Fe=U(9853),wt=U(541);function pt(Ke,ut){return ut?function xe(Ke,ut){if(null!=Ke){if((0,Be.c)(Ke))return function ue(Ke,ut){return(0,w.Xf)(Ke).pipe((0,Y.R)(ut),(0,ie.Q)(ut))}(Ke,ut);if((0,Pt.z)(Ke))return function Ie(Ke,ut){return new Ae.y(mt=>{let Ee=0;return ut.schedule(function(){Ee===Ke.length?mt.complete():(mt.next(Ke[Ee++]),mt.closed||this.schedule())})})}(Ke,ut);if((0,it.t)(Ke))return function m(Ke,ut){return(0,w.Xf)(Ke).pipe((0,Y.R)(ut),(0,ie.Q)(ut))}(Ke,ut);if((0,De.D)(Ke))return Pe(Ke,ut);if((0,Le.T)(Ke))return function ye(Ke,ut){return new Ae.y(mt=>{let Ee;return(0,re.f)(mt,ut,()=>{Ee=Ke[pe.h](),(0,re.f)(mt,ut,()=>{let dt,Ot;try{({value:dt,done:Ot}=Ee.next())}catch(Qt){return void mt.error(Qt)}Ot?mt.complete():mt.next(dt)},0,!0)}),()=>(0,Se.m)(Ee?.return)&&Ee.return()})}(Ke,ut);if((0,wt.L)(Ke))return function yt(Ke,ut){return Pe((0,wt.Q)(Ke),ut)}(Ke,ut)}throw(0,Fe.z)(Ke)}(Ke,ut):(0,w.Xf)(Ke)}},4829:(Gt,$e,U)=>{U.d($e,{Xf:()=>Be});var w=U(7582),ie=U(4266),Y=U(4026),ue=U(5592),m=U(8382),Ae=U(5726),Ie=U(9853),pe=U(3664),Se=U(541),re=U(4674),ye=U(3894),Pe=U(4850);function Be(xe){if(xe instanceof ue.y)return xe;if(null!=xe){if((0,m.c)(xe))return function it(xe){return new ue.y(pt=>{const Ke=xe[Pe.L]();if((0,re.m)(Ke.subscribe))return Ke.subscribe(pt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,ie.z)(xe))return function Pt(xe){return new ue.y(pt=>{for(let Ke=0;Ke<xe.length&&!pt.closed;Ke++)pt.next(xe[Ke]);pt.complete()})}(xe);if((0,Y.t)(xe))return function Le(xe){return new ue.y(pt=>{xe.then(Ke=>{pt.closed||(pt.next(Ke),pt.complete())},Ke=>pt.error(Ke)).then(null,ye.h)})}(xe);if((0,Ae.D)(xe))return Fe(xe);if((0,pe.T)(xe))return function De(xe){return new ue.y(pt=>{for(const Ke of xe)if(pt.next(Ke),pt.closed)return;pt.complete()})}(xe);if((0,Se.L)(xe))return function wt(xe){return Fe((0,Se.Q)(xe))}(xe)}throw(0,Ie.z)(xe)}function Fe(xe){return new ue.y(pt=>{(function yt(xe,pt){var Ke,ut,mt,Ee;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,w.KL)(xe);!(ut=yield Ke.next()).done;)if(pt.next(ut.value),pt.closed)return}catch(dt){mt={error:dt}}finally{try{ut&&!ut.done&&(Ee=Ke.return)&&(yield Ee.call(Ke))}finally{if(mt)throw mt.error}}pt.complete()})})(xe,pt).catch(Ke=>pt.error(Ke))})}},3019:(Gt,$e,U)=>{U.d($e,{T:()=>Ae});var w=U(7537),ie=U(4829),Y=U(6232),ue=U(9940),m=U(2459);function Ae(...Ie){const pe=(0,ue.yG)(Ie),Se=(0,ue._6)(Ie,1/0),re=Ie;return re.length?1===re.length?(0,ie.Xf)(re[0]):(0,w.J)(Se)((0,m.D)(re,pe)):Y.E}},2096:(Gt,$e,U)=>{U.d($e,{of:()=>Y});var w=U(9940),ie=U(2459);function Y(...ue){const m=(0,w.yG)(ue);return(0,ie.D)(ue,m)}},8504:(Gt,$e,U)=>{U.d($e,{_:()=>Y});var w=U(5592),ie=U(4674);function Y(ue,m){const Ae=(0,ie.m)(ue)?ue:()=>ue,Ie=pe=>pe.error(Ae());return new w.y(m?pe=>m.schedule(Ie,0,pe):Ie)}},8251:(Gt,$e,U)=>{U.d($e,{x:()=>ie});var w=U(305);function ie(ue,m,Ae,Ie,pe){return new Y(ue,m,Ae,Ie,pe)}class Y extends w.Lv{constructor(m,Ae,Ie,pe,Se,re){super(m),this.onFinalize=Se,this.shouldUnsubscribe=re,this._next=Ae?function(ye){try{Ae(ye)}catch(Pe){m.error(Pe)}}:super._next,this._error=pe?function(ye){try{pe(ye)}catch(Pe){m.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ye){m.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}},6306:(Gt,$e,U)=>{U.d($e,{K:()=>ue});var w=U(4829),ie=U(8251),Y=U(9360);function ue(m){return(0,Y.e)((Ae,Ie)=>{let re,pe=null,Se=!1;pe=Ae.subscribe((0,ie.x)(Ie,void 0,void 0,ye=>{re=(0,w.Xf)(m(ye,ue(m)(Ae))),pe?(pe.unsubscribe(),pe=null,re.subscribe(Ie)):Se=!0})),Se&&(pe.unsubscribe(),pe=null,re.subscribe(Ie))})}},6328:(Gt,$e,U)=>{U.d($e,{b:()=>Y});var w=U(1631),ie=U(4674);function Y(ue,m){return(0,ie.m)(m)?(0,w.z)(ue,m,1):(0,w.z)(ue,1)}},3572:(Gt,$e,U)=>{U.d($e,{d:()=>Y});var w=U(9360),ie=U(8251);function Y(ue){return(0,w.e)((m,Ae)=>{let Ie=!1;m.subscribe((0,ie.x)(Ae,pe=>{Ie=!0,Ae.next(pe)},()=>{Ie||Ae.next(ue),Ae.complete()}))})}},3997:(Gt,$e,U)=>{U.d($e,{x:()=>ue});var w=U(2737),ie=U(9360),Y=U(8251);function ue(Ae,Ie=w.y){return Ae=Ae??m,(0,ie.e)((pe,Se)=>{let re,ye=!0;pe.subscribe((0,Y.x)(Se,Pe=>{const Be=Ie(Pe);(ye||!Ae(re,Be))&&(ye=!1,re=Be,Se.next(Pe))}))})}function m(Ae,Ie){return Ae===Ie}},2181:(Gt,$e,U)=>{U.d($e,{h:()=>Y});var w=U(9360),ie=U(8251);function Y(ue,m){return(0,w.e)((Ae,Ie)=>{let pe=0;Ae.subscribe((0,ie.x)(Ie,Se=>ue.call(m,Se,pe++)&&Ie.next(Se)))})}},4716:(Gt,$e,U)=>{U.d($e,{x:()=>ie});var w=U(9360);function ie(Y){return(0,w.e)((ue,m)=>{try{ue.subscribe(m)}finally{m.add(Y)}})}},1374:(Gt,$e,U)=>{U.d($e,{P:()=>Ie});var w=U(6973),ie=U(2181),Y=U(8180),ue=U(3572),m=U(3026),Ae=U(2737);function Ie(pe,Se){const re=arguments.length>=2;return ye=>ye.pipe(pe?(0,ie.h)((Pe,Be)=>pe(Pe,Be,ye)):Ae.y,(0,Y.q)(1),re?(0,ue.d)(Se):(0,m.T)(()=>new w.K))}},7398:(Gt,$e,U)=>{U.d($e,{U:()=>Y});var w=U(9360),ie=U(8251);function Y(ue,m){return(0,w.e)((Ae,Ie)=>{let pe=0;Ae.subscribe((0,ie.x)(Ie,Se=>{Ie.next(ue.call(m,Se,pe++))}))})}},7537:(Gt,$e,U)=>{U.d($e,{J:()=>Y});var w=U(1631),ie=U(2737);function Y(ue=1/0){return(0,w.z)(ie.y,ue)}},1631:(Gt,$e,U)=>{U.d($e,{z:()=>pe});var w=U(7398),ie=U(4829),Y=U(9360),ue=U(7103),m=U(8251),Ie=U(4674);function pe(Se,re,ye=1/0){return(0,Ie.m)(re)?pe((Pe,Be)=>(0,w.U)((it,Pt)=>re(Pe,it,Be,Pt))((0,ie.Xf)(Se(Pe,Be))),ye):("number"==typeof re&&(ye=re),(0,Y.e)((Pe,Be)=>function Ae(Se,re,ye,Pe,Be,it,Pt,Le){const De=[];let Fe=0,wt=0,yt=!1;const xe=()=>{yt&&!De.length&&!Fe&&re.complete()},pt=ut=>Fe<Pe?Ke(ut):De.push(ut),Ke=ut=>{it&&re.next(ut),Fe++;let mt=!1;(0,ie.Xf)(ye(ut,wt++)).subscribe((0,m.x)(re,Ee=>{Be?.(Ee),it?pt(Ee):re.next(Ee)},()=>{mt=!0},void 0,()=>{if(mt)try{for(Fe--;De.length&&Fe<Pe;){const Ee=De.shift();Pt?(0,ue.f)(re,Pt,()=>Ke(Ee)):Ke(Ee)}xe()}catch(Ee){re.error(Ee)}}))};return Se.subscribe((0,m.x)(re,pt,()=>{yt=!0,xe()})),()=>{Le?.()}}(Pe,Be,Se,ye)))}},3093:(Gt,$e,U)=>{U.d($e,{Q:()=>ue});var w=U(7103),ie=U(9360),Y=U(8251);function ue(m,Ae=0){return(0,ie.e)((Ie,pe)=>{Ie.subscribe((0,Y.x)(pe,Se=>(0,w.f)(pe,m,()=>pe.next(Se),Ae),()=>(0,w.f)(pe,m,()=>pe.complete(),Ae),Se=>(0,w.f)(pe,m,()=>pe.error(Se),Ae)))})}},9384:(Gt,$e,U)=>{U.d($e,{G:()=>Y});var w=U(9360),ie=U(8251);function Y(){return(0,w.e)((ue,m)=>{let Ae,Ie=!1;ue.subscribe((0,ie.x)(m,pe=>{const Se=Ae;Ae=pe,Ie&&m.next([Se,pe]),Ie=!0}))})}},6196:(Gt,$e,U)=>{U.d($e,{x:()=>Y});var w=U(9360),ie=U(8251);function Y(){return(0,w.e)((ue,m)=>{let Ae=null;ue._refCount++;const Ie=(0,ie.x)(m,void 0,void 0,void 0,()=>{if(!ue||ue._refCount<=0||0<--ue._refCount)return void(Ae=null);const pe=ue._connection,Se=Ae;Ae=null,pe&&(!Se||pe===Se)&&pe.unsubscribe(),m.unsubscribe()});ue.subscribe(Ie),Ie.closed||(Ae=ue.connect())})}},6699:(Gt,$e,U)=>{U.d($e,{R:()=>ue});var w=U(9360),ie=U(8251);function ue(m,Ae){return(0,w.e)(function Y(m,Ae,Ie,pe,Se){return(re,ye)=>{let Pe=Ie,Be=Ae,it=0;re.subscribe((0,ie.x)(ye,Pt=>{const Le=it++;Be=Pe?m(Be,Pt,Le):(Pe=!0,Pt),pe&&ye.next(Be)},Se&&(()=>{Pe&&ye.next(Be),ye.complete()})))}}(m,Ae,arguments.length>=2,!0))}},3020:(Gt,$e,U)=>{U.d($e,{B:()=>m});var w=U(4829),ie=U(8645),Y=U(305),ue=U(9360);function m(Ie={}){const{connector:pe=(()=>new ie.x),resetOnError:Se=!0,resetOnComplete:re=!0,resetOnRefCountZero:ye=!0}=Ie;return Pe=>{let Be,it,Pt,Le=0,De=!1,Fe=!1;const wt=()=>{it?.unsubscribe(),it=void 0},yt=()=>{wt(),Be=Pt=void 0,De=Fe=!1},xe=()=>{const pt=Be;yt(),pt?.unsubscribe()};return(0,ue.e)((pt,Ke)=>{Le++,!Fe&&!De&&wt();const ut=Pt=Pt??pe();Ke.add(()=>{Le--,0===Le&&!Fe&&!De&&(it=Ae(xe,ye))}),ut.subscribe(Ke),!Be&&Le>0&&(Be=new Y.Hp({next:mt=>ut.next(mt),error:mt=>{Fe=!0,wt(),it=Ae(yt,Se,mt),ut.error(mt)},complete:()=>{De=!0,wt(),it=Ae(yt,re),ut.complete()}}),(0,w.Xf)(pt).subscribe(Be))})(Pe)}}function Ae(Ie,pe,...Se){if(!0===pe)return void Ie();if(!1===pe)return;const re=new Y.Hp({next:()=>{re.unsubscribe(),Ie()}});return(0,w.Xf)(pe(...Se)).subscribe(re)}},940:(Gt,$e,U)=>{U.d($e,{d:()=>m});var w=U(8645),ie=U(4552);class Y extends w.x{constructor(Ie=1/0,pe=1/0,Se=ie.l){super(),this._bufferSize=Ie,this._windowTime=pe,this._timestampProvider=Se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=pe===1/0,this._bufferSize=Math.max(1,Ie),this._windowTime=Math.max(1,pe)}next(Ie){const{isStopped:pe,_buffer:Se,_infiniteTimeWindow:re,_timestampProvider:ye,_windowTime:Pe}=this;pe||(Se.push(Ie),!re&&Se.push(ye.now()+Pe)),this._trimBuffer(),super.next(Ie)}_subscribe(Ie){this._throwIfClosed(),this._trimBuffer();const pe=this._innerSubscribe(Ie),{_infiniteTimeWindow:Se,_buffer:re}=this,ye=re.slice();for(let Pe=0;Pe<ye.length&&!Ie.closed;Pe+=Se?1:2)Ie.next(ye[Pe]);return this._checkFinalizedStatuses(Ie),pe}_trimBuffer(){const{_bufferSize:Ie,_timestampProvider:pe,_buffer:Se,_infiniteTimeWindow:re}=this,ye=(re?1:2)*Ie;if(Ie<1/0&&ye<Se.length&&Se.splice(0,Se.length-ye),!re){const Pe=pe.now();let Be=0;for(let it=1;it<Se.length&&Se[it]<=Pe;it+=2)Be=it;Be&&Se.splice(0,Be+1)}}}var ue=U(3020);function m(Ae,Ie,pe){let Se,re=!1;return Ae&&"object"==typeof Ae?({bufferSize:Se=1/0,windowTime:Ie=1/0,refCount:re=!1,scheduler:pe}=Ae):Se=Ae??1/0,(0,ue.B)({connector:()=>new Y(Se,Ie,pe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:re})}},7921:(Gt,$e,U)=>{U.d($e,{O:()=>ue});var w=U(5211),ie=U(9940),Y=U(9360);function ue(...m){const Ae=(0,ie.yG)(m);return(0,Y.e)((Ie,pe)=>{(Ae?(0,w.z)(m,Ie,Ae):(0,w.z)(m,Ie)).subscribe(pe)})}},5137:(Gt,$e,U)=>{U.d($e,{R:()=>ie});var w=U(9360);function ie(Y,ue=0){return(0,w.e)((m,Ae)=>{Ae.add(Y.schedule(()=>m.subscribe(Ae),ue))})}},4664:(Gt,$e,U)=>{U.d($e,{w:()=>ue});var w=U(4829),ie=U(9360),Y=U(8251);function ue(m,Ae){return(0,ie.e)((Ie,pe)=>{let Se=null,re=0,ye=!1;const Pe=()=>ye&&!Se&&pe.complete();Ie.subscribe((0,Y.x)(pe,Be=>{Se?.unsubscribe();let it=0;const Pt=re++;(0,w.Xf)(m(Be,Pt)).subscribe(Se=(0,Y.x)(pe,Le=>pe.next(Ae?Ae(Be,Le,Pt,it++):Le),()=>{Se=null,Pe()}))},()=>{ye=!0,Pe()}))})}},8180:(Gt,$e,U)=>{U.d($e,{q:()=>ue});var w=U(6232),ie=U(9360),Y=U(8251);function ue(m){return m<=0?()=>w.E:(0,ie.e)((Ae,Ie)=>{let pe=0;Ae.subscribe((0,Y.x)(Ie,Se=>{++pe<=m&&(Ie.next(Se),m<=pe&&Ie.complete())}))})}},9773:(Gt,$e,U)=>{U.d($e,{R:()=>m});var w=U(9360),ie=U(8251),Y=U(4829),ue=U(2420);function m(Ae){return(0,w.e)((Ie,pe)=>{(0,Y.Xf)(Ae).subscribe((0,ie.x)(pe,()=>pe.complete(),ue.Z)),!pe.closed&&Ie.subscribe(pe)})}},9397:(Gt,$e,U)=>{U.d($e,{b:()=>m});var w=U(4674),ie=U(9360),Y=U(8251),ue=U(2737);function m(Ae,Ie,pe){const Se=(0,w.m)(Ae)||Ie||pe?{next:Ae,error:Ie,complete:pe}:Ae;return Se?(0,ie.e)((re,ye)=>{var Pe;null===(Pe=Se.subscribe)||void 0===Pe||Pe.call(Se);let Be=!0;re.subscribe((0,Y.x)(ye,it=>{var Pt;null===(Pt=Se.next)||void 0===Pt||Pt.call(Se,it),ye.next(it)},()=>{var it;Be=!1,null===(it=Se.complete)||void 0===it||it.call(Se),ye.complete()},it=>{var Pt;Be=!1,null===(Pt=Se.error)||void 0===Pt||Pt.call(Se,it),ye.error(it)},()=>{var it,Pt;Be&&(null===(it=Se.unsubscribe)||void 0===it||it.call(Se)),null===(Pt=Se.finalize)||void 0===Pt||Pt.call(Se)}))}):ue.y}},3026:(Gt,$e,U)=>{U.d($e,{T:()=>ue});var w=U(6973),ie=U(9360),Y=U(8251);function ue(Ae=m){return(0,ie.e)((Ie,pe)=>{let Se=!1;Ie.subscribe((0,Y.x)(pe,re=>{Se=!0,pe.next(re)},()=>Se?pe.complete():pe.error(Ae())))})}function m(){return new w.K}},1954:(Gt,$e,U)=>{U.d($e,{o:()=>m});var w=U(7394);class ie extends w.w0{constructor(Ie,pe){super()}schedule(Ie,pe=0){return this}}const Y={setInterval(Ae,Ie,...pe){const{delegate:Se}=Y;return Se?.setInterval?Se.setInterval(Ae,Ie,...pe):setInterval(Ae,Ie,...pe)},clearInterval(Ae){const{delegate:Ie}=Y;return(Ie?.clearInterval||clearInterval)(Ae)},delegate:void 0};var ue=U(9039);class m extends ie{constructor(Ie,pe){super(Ie,pe),this.scheduler=Ie,this.work=pe,this.pending=!1}schedule(Ie,pe=0){var Se;if(this.closed)return this;this.state=Ie;const re=this.id,ye=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ye,re,pe)),this.pending=!0,this.delay=pe,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(ye,this.id,pe),this}requestAsyncId(Ie,pe,Se=0){return Y.setInterval(Ie.flush.bind(Ie,this),Se)}recycleAsyncId(Ie,pe,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return pe;null!=pe&&Y.clearInterval(pe)}execute(Ie,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(Ie,pe);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,pe){let re,Se=!1;try{this.work(Ie)}catch(ye){Se=!0,re=ye||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:pe}=this,{actions:Se}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(Se,this),null!=Ie&&(this.id=this.recycleAsyncId(pe,Ie,null)),this.delay=null,super.unsubscribe()}}}},2631:(Gt,$e,U)=>{U.d($e,{v:()=>Y});var w=U(4552);class ie{constructor(m,Ae=ie.now){this.schedulerActionCtor=m,this.now=Ae}schedule(m,Ae=0,Ie){return new this.schedulerActionCtor(this,m).schedule(Ie,Ae)}}ie.now=w.l.now;class Y extends ie{constructor(m,Ae=ie.now){super(m,Ae),this.actions=[],this._active=!1}flush(m){const{actions:Ae}=this;if(this._active)return void Ae.push(m);let Ie;this._active=!0;do{if(Ie=m.execute(m.state,m.delay))break}while(m=Ae.shift());if(this._active=!1,Ie){for(;m=Ae.shift();)m.unsubscribe();throw Ie}}}},6321:(Gt,$e,U)=>{U.d($e,{P:()=>ue,z:()=>Y});var w=U(1954);const Y=new(U(2631).v)(w.o),ue=Y},4552:(Gt,$e,U)=>{U.d($e,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},7599:(Gt,$e,U)=>{U.d($e,{z:()=>w});const w={setTimeout(ie,Y,...ue){const{delegate:m}=w;return m?.setTimeout?m.setTimeout(ie,Y,...ue):setTimeout(ie,Y,...ue)},clearTimeout(ie){const{delegate:Y}=w;return(Y?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4971:(Gt,$e,U)=>{U.d($e,{h:()=>ie});const ie=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Gt,$e,U)=>{U.d($e,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Gt,$e,U)=>{U.d($e,{K:()=>ie});const ie=(0,U(2306).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Gt,$e,U)=>{U.d($e,{_6:()=>Ae,jO:()=>ue,yG:()=>m});var w=U(4674),ie=U(671);function Y(Ie){return Ie[Ie.length-1]}function ue(Ie){return(0,w.m)(Y(Ie))?Ie.pop():void 0}function m(Ie){return(0,ie.K)(Y(Ie))?Ie.pop():void 0}function Ae(Ie,pe){return"number"==typeof Y(Ie)?Ie.pop():pe}},7453:(Gt,$e,U)=>{U.d($e,{D:()=>m});const{isArray:w}=Array,{getPrototypeOf:ie,prototype:Y,keys:ue}=Object;function m(Ie){if(1===Ie.length){const pe=Ie[0];if(w(pe))return{args:pe,keys:null};if(function Ae(Ie){return Ie&&"object"==typeof Ie&&ie(Ie)===Y}(pe)){const Se=ue(pe);return{args:Se.map(re=>pe[re]),keys:Se}}}return{args:Ie,keys:null}}},9039:(Gt,$e,U)=>{function w(ie,Y){if(ie){const ue=ie.indexOf(Y);0<=ue&&ie.splice(ue,1)}}U.d($e,{P:()=>w})},2306:(Gt,$e,U)=>{function w(ie){const ue=ie(m=>{Error.call(m),m.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}U.d($e,{d:()=>w})},2714:(Gt,$e,U)=>{function w(ie,Y){return ie.reduce((ue,m,Ae)=>(ue[m]=Y[Ae],ue),{})}U.d($e,{n:()=>w})},1441:(Gt,$e,U)=>{U.d($e,{O:()=>ue,x:()=>Y});var w=U(2653);let ie=null;function Y(m){if(w.config.useDeprecatedSynchronousErrorHandling){const Ae=!ie;if(Ae&&(ie={errorThrown:!1,error:null}),m(),Ae){const{errorThrown:Ie,error:pe}=ie;if(ie=null,Ie)throw pe}}else m()}function ue(m){w.config.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=m)}},7103:(Gt,$e,U)=>{function w(ie,Y,ue,m=0,Ae=!1){const Ie=Y.schedule(function(){ue(),Ae?ie.add(this.schedule(null,m)):this.unsubscribe()},m);if(ie.add(Ie),!Ae)return Ie}U.d($e,{f:()=>w})},2737:(Gt,$e,U)=>{function w(ie){return ie}U.d($e,{y:()=>w})},4266:(Gt,$e,U)=>{U.d($e,{z:()=>w});const w=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},5726:(Gt,$e,U)=>{U.d($e,{D:()=>ie});var w=U(4674);function ie(Y){return Symbol.asyncIterator&&(0,w.m)(Y?.[Symbol.asyncIterator])}},4674:(Gt,$e,U)=>{function w(ie){return"function"==typeof ie}U.d($e,{m:()=>w})},8382:(Gt,$e,U)=>{U.d($e,{c:()=>Y});var w=U(4850),ie=U(4674);function Y(ue){return(0,ie.m)(ue[w.L])}},3664:(Gt,$e,U)=>{U.d($e,{T:()=>Y});var w=U(4971),ie=U(4674);function Y(ue){return(0,ie.m)(ue?.[w.h])}},2664:(Gt,$e,U)=>{U.d($e,{b:()=>Y});var w=U(5592),ie=U(4674);function Y(ue){return!!ue&&(ue instanceof w.y||(0,ie.m)(ue.lift)&&(0,ie.m)(ue.subscribe))}},4026:(Gt,$e,U)=>{U.d($e,{t:()=>ie});var w=U(4674);function ie(Y){return(0,w.m)(Y?.then)}},541:(Gt,$e,U)=>{U.d($e,{L:()=>ue,Q:()=>Y});var w=U(7582),ie=U(4674);function Y(m){return(0,w.FC)(this,arguments,function*(){const Ie=m.getReader();try{for(;;){const{value:pe,done:Se}=yield(0,w.qq)(Ie.read());if(Se)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(pe)}}finally{Ie.releaseLock()}})}function ue(m){return(0,ie.m)(m?.getReader)}},671:(Gt,$e,U)=>{U.d($e,{K:()=>ie});var w=U(4674);function ie(Y){return Y&&(0,w.m)(Y.schedule)}},9360:(Gt,$e,U)=>{U.d($e,{A:()=>ie,e:()=>Y});var w=U(4674);function ie(ue){return(0,w.m)(ue?.lift)}function Y(ue){return m=>{if(ie(m))return m.lift(function(Ae){try{return ue(Ae,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Gt,$e,U)=>{U.d($e,{Z:()=>ue});var w=U(7398);const{isArray:ie}=Array;function ue(m){return(0,w.U)(Ae=>function Y(m,Ae){return ie(Ae)?m(...Ae):m(Ae)}(m,Ae))}},2420:(Gt,$e,U)=>{function w(){}U.d($e,{Z:()=>w})},8407:(Gt,$e,U)=>{U.d($e,{U:()=>Y,z:()=>ie});var w=U(2737);function ie(...ue){return Y(ue)}function Y(ue){return 0===ue.length?w.y:1===ue.length?ue[0]:function(Ae){return ue.reduce((Ie,pe)=>pe(Ie),Ae)}}},3894:(Gt,$e,U)=>{U.d($e,{h:()=>Y});var w=U(2653),ie=U(7599);function Y(ue){ie.z.setTimeout(()=>{const{onUnhandledError:m}=w.config;if(!m)throw ue;m(ue)})}},9853:(Gt,$e,U)=>{function w(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d($e,{z:()=>w})},6814:(Gt,$e,U)=>{U.d($e,{Do:()=>Le,EM:()=>ls,H9:()=>Jr,HT:()=>ue,JF:()=>Mo,K0:()=>Ae,Mx:()=>ni,NF:()=>Va,Nd:()=>Po,O5:()=>Cs,PC:()=>Er,PM:()=>eo,S$:()=>Be,V_:()=>pe,Ye:()=>De,b0:()=>Pt,bD:()=>zi,ez:()=>Si,gd:()=>cu,mk:()=>Pn,q:()=>Y,sg:()=>Wr,tP:()=>Hr,w_:()=>m});var w=U(5879);let ie=null;function Y(){return ie}function ue(x){ie||(ie=x)}class m{}const Ae=new w.OlP("DocumentToken");let Ie=(()=>{var x;class q{historyGo(j){throw new Error("Not implemented")}}return(x=q).\u0275fac=function(j){return new(j||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Se)},providedIn:"platform"}),q})();const pe=new w.OlP("Location Initialized");let Se=(()=>{var x;class q extends Ie{constructor(){super(),this._doc=(0,w.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(j){const ce=Y().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",j,!1),()=>ce.removeEventListener("popstate",j)}onHashChange(j){const ce=Y().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",j,!1),()=>ce.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ce,Ne){this._history.pushState(j,ce,Ne)}replaceState(j,ce,Ne){this._history.replaceState(j,ce,Ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return(x=q).\u0275fac=function(j){return new(j||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return new x},providedIn:"platform"}),q})();function re(x,q){if(0==x.length)return q;if(0==q.length)return x;let ve=0;return x.endsWith("/")&&ve++,q.startsWith("/")&&ve++,2==ve?x+q.substring(1):1==ve?x+q:x+"/"+q}function ye(x){const q=x.match(/#|\?|$/),ve=q&&q.index||x.length;return x.slice(0,ve-("/"===x[ve-1]?1:0))+x.slice(ve)}function Pe(x){return x&&"?"!==x[0]?"?"+x:x}let Be=(()=>{var x;class q{historyGo(j){throw new Error("Not implemented")}}return(x=q).\u0275fac=function(j){return new(j||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Pt)},providedIn:"root"}),q})();const it=new w.OlP("appBaseHref");let Pt=(()=>{var x;class q extends Be{constructor(j,ce){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=ce??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return re(this._baseHref,j)}path(j=!1){const ce=this._platformLocation.pathname+Pe(this._platformLocation.search),Ne=this._platformLocation.hash;return Ne&&j?`${ce}${Ne}`:ce}pushState(j,ce,Ne,bt){const tn=this.prepareExternalUrl(Ne+Pe(bt));this._platformLocation.pushState(j,ce,tn)}replaceState(j,ce,Ne,bt){const tn=this.prepareExternalUrl(Ne+Pe(bt));this._platformLocation.replaceState(j,ce,tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return(x=q).\u0275fac=function(j){return new(j||x)(w.LFG(Ie),w.LFG(it,8))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),q})(),Le=(()=>{var x;class q extends Be{constructor(j,ce){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(j){const ce=re(this._baseHref,j);return ce.length>0?"#"+ce:ce}pushState(j,ce,Ne,bt){let tn=this.prepareExternalUrl(Ne+Pe(bt));0==tn.length&&(tn=this._platformLocation.pathname),this._platformLocation.pushState(j,ce,tn)}replaceState(j,ce,Ne,bt){let tn=this.prepareExternalUrl(Ne+Pe(bt));0==tn.length&&(tn=this._platformLocation.pathname),this._platformLocation.replaceState(j,ce,tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return(x=q).\u0275fac=function(j){return new(j||x)(w.LFG(Ie),w.LFG(it,8))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),q})(),De=(()=>{var x;class q{constructor(j){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ce=this._locationStrategy.getBaseHref();this._basePath=function xe(x){if(new RegExp("^(https?:)?//").test(x)){const[,ve]=x.split(/\/\/[^\/]+/);return ve}return x}(ye(yt(ce))),this._locationStrategy.onPopState(Ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ne.state,type:Ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ce=""){return this.path()==this.normalize(j+Pe(ce))}normalize(j){return q.stripTrailingSlash(function wt(x,q){if(!x||!q.startsWith(x))return q;const ve=q.substring(x.length);return""===ve||["/",";","?","#"].includes(ve[0])?ve:q}(this._basePath,yt(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ce="",Ne=null){this._locationStrategy.pushState(Ne,"",j,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Pe(ce)),Ne)}replaceState(j,ce="",Ne=null){this._locationStrategy.replaceState(Ne,"",j,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Pe(ce)),Ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)})),()=>{const ce=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(ce,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ce){this._urlChangeListeners.forEach(Ne=>Ne(j,ce))}subscribe(j,ce,Ne){return this._subject.subscribe({next:j,error:ce,complete:Ne})}}return(x=q).normalizeQueryParams=Pe,x.joinWithSlash=re,x.stripTrailingSlash=ye,x.\u0275fac=function(j){return new(j||x)(w.LFG(Be))},x.\u0275prov=w.Yz7({token:x,factory:function(){return function Fe(){return new De((0,w.LFG)(Be))}()},providedIn:"root"}),q})();function yt(x){return x.replace(/\/index.html$/,"")}const pt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ke=function(x){return x[x.Decimal=0]="Decimal",x[x.Percent=1]="Percent",x[x.Currency=2]="Currency",x[x.Scientific=3]="Scientific",x}(Ke||{}),Ot=function(x){return x[x.Decimal=0]="Decimal",x[x.Group=1]="Group",x[x.List=2]="List",x[x.PercentSign=3]="PercentSign",x[x.PlusSign=4]="PlusSign",x[x.MinusSign=5]="MinusSign",x[x.Exponential=6]="Exponential",x[x.SuperscriptingExponent=7]="SuperscriptingExponent",x[x.PerMille=8]="PerMille",x[x.Infinity=9]="Infinity",x[x.NaN=10]="NaN",x[x.TimeSeparator=11]="TimeSeparator",x[x.CurrencyDecimal=12]="CurrencyDecimal",x[x.CurrencyGroup=13]="CurrencyGroup",x}(Ot||{});function vt(x,q){const ve=(0,w.cg1)(x),j=ve[w.wAp.NumberSymbols][q];if(typeof j>"u"){if(q===Ot.CurrencyDecimal)return ve[w.wAp.NumberSymbols][Ot.Decimal];if(q===Ot.CurrencyGroup)return ve[w.wAp.NumberSymbols][Ot.Group]}return j}const H=/^(\d+)?\.((\d+)(-(\d+))?)?$/,de=22,ke=".",lt="0",qt=";",Me=",",ee="#";function _e(x,q,ve,j,ce){const bt=function Ft(x,q="-"){const ve={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},j=x.split(qt),ce=j[0],Ne=j[1],bt=-1!==ce.indexOf(ke)?ce.split(ke):[ce.substring(0,ce.lastIndexOf(lt)+1),ce.substring(ce.lastIndexOf(lt)+1)],tn=bt[0],Nr=bt[1]||"";ve.posPre=tn.substring(0,tn.indexOf(ee));for(let ei=0;ei<Nr.length;ei++){const pn=Nr.charAt(ei);pn===lt?ve.minFrac=ve.maxFrac=ei+1:pn===ee?ve.maxFrac=ei+1:ve.posSuf+=pn}const $r=tn.split(Me);if(ve.gSize=$r[1]?$r[1].length:0,ve.lgSize=$r[2]||$r[1]?($r[2]||$r[1]).length:0,Ne){const ei=ce.length-ve.posPre.length-ve.posSuf.length,pn=Ne.indexOf(ee);ve.negPre=Ne.substring(0,pn).replace(/'/g,""),ve.negSuf=Ne.slice(pn+ei).replace(/'/g,"")}else ve.negPre=q+ve.posPre,ve.negSuf=ve.posSuf;return ve}(function Dt(x,q){return(0,w.cg1)(x)[w.wAp.NumberFormats][q]}(q,Ke.Currency),vt(q,Ot.MinusSign));return bt.minFrac=function Ar(x){let q;const ve=pt[x];return ve&&(q=ve[2]),"number"==typeof q?q:2}(j),bt.maxFrac=bt.minFrac,function me(x,q,ve,j,ce,Ne,bt=!1){let tn="",Nr=!1;if(isFinite(x)){let $r=function Xt(x){let j,ce,Ne,bt,tn,q=Math.abs(x)+"",ve=0;for((ce=q.indexOf(ke))>-1&&(q=q.replace(ke,"")),(Ne=q.search(/e/i))>0?(ce<0&&(ce=Ne),ce+=+q.slice(Ne+1),q=q.substring(0,Ne)):ce<0&&(ce=q.length),Ne=0;q.charAt(Ne)===lt;Ne++);if(Ne===(tn=q.length))j=[0],ce=1;else{for(tn--;q.charAt(tn)===lt;)tn--;for(ce-=Ne,j=[],bt=0;Ne<=tn;Ne++,bt++)j[bt]=Number(q.charAt(Ne))}return ce>de&&(j=j.splice(0,de-1),ve=ce-1,ce=1),{digits:j,exponent:ve,integerLen:ce}}(x);bt&&($r=function Mt(x){if(0===x.digits[0])return x;const q=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===q?x.digits.push(0,0):1===q&&x.digits.push(0),x.integerLen+=2),x}($r));let ei=q.minInt,pn=q.minFrac,hi=q.maxFrac;if(Ne){const Vi=Ne.match(H);if(null===Vi)throw new Error(`${Ne} is not a valid digit info`);const rs=Vi[1],Yt=Vi[3],vn=Vi[5];null!=rs&&(ei=ir(rs)),null!=Yt&&(pn=ir(Yt)),null!=vn?hi=ir(vn):null!=Yt&&pn>hi&&(hi=pn)}!function Bt(x,q,ve){if(q>ve)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${ve}).`);let j=x.digits,ce=j.length-x.integerLen;const Ne=Math.min(Math.max(q,ce),ve);let bt=Ne+x.integerLen,tn=j[bt];if(bt>0){j.splice(Math.max(x.integerLen,bt));for(let pn=bt;pn<j.length;pn++)j[pn]=0}else{ce=Math.max(0,ce),x.integerLen=1,j.length=Math.max(1,bt=Ne+1),j[0]=0;for(let pn=1;pn<bt;pn++)j[pn]=0}if(tn>=5)if(bt-1<0){for(let pn=0;pn>bt;pn--)j.unshift(0),x.integerLen++;j.unshift(1),x.integerLen++}else j[bt-1]++;for(;ce<Math.max(0,Ne);ce++)j.push(0);let Nr=0!==Ne;const $r=q+x.integerLen,ei=j.reduceRight(function(pn,hi,wr,mi){return mi[wr]=(hi+=pn)<10?hi:hi-10,Nr&&(0===mi[wr]&&wr>=$r?mi.pop():Nr=!1),hi>=10?1:0},0);ei&&(j.unshift(ei),x.integerLen++)}($r,pn,hi);let wr=$r.digits,mi=$r.integerLen;const io=$r.exponent;let Lt=[];for(Nr=wr.every(Vi=>!Vi);mi<ei;mi++)wr.unshift(0);for(;mi<0;mi++)wr.unshift(0);mi>0?Lt=wr.splice(mi,wr.length):(Lt=wr,wr=[0]);const Zr=[];for(wr.length>=q.lgSize&&Zr.unshift(wr.splice(-q.lgSize,wr.length).join(""));wr.length>q.gSize;)Zr.unshift(wr.splice(-q.gSize,wr.length).join(""));wr.length&&Zr.unshift(wr.join("")),tn=Zr.join(vt(ve,j)),Lt.length&&(tn+=vt(ve,ce)+Lt.join("")),io&&(tn+=vt(ve,Ot.Exponential)+"+"+io)}else tn=vt(ve,Ot.Infinity);return tn=x<0&&!Nr?q.negPre+tn+q.negSuf:q.posPre+tn+q.posSuf,tn}(x,bt,q,Ot.CurrencyGroup,Ot.CurrencyDecimal,ce).replace("\xa4",ve).replace("\xa4","").trim()}function ir(x){const q=parseInt(x);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+x);return q}function ni(x,q){q=encodeURIComponent(q);for(const ve of x.split(";")){const j=ve.indexOf("="),[ce,Ne]=-1==j?[ve,""]:[ve.slice(0,j),ve.slice(j+1)];if(ce.trim()===q)return decodeURIComponent(Ne)}return null}const ps=/\s+/,jr=[];let Pn=(()=>{var x;class q{constructor(j,ce,Ne,bt){this._iterableDiffers=j,this._keyValueDiffers=ce,this._ngEl=Ne,this._renderer=bt,this.initialClasses=jr,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(ps):jr}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(ps):j}ngDoCheck(){for(const ce of this.initialClasses)this._updateState(ce,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ce of j)this._updateState(ce,!0);else if(null!=j)for(const ce of Object.keys(j))this._updateState(ce,!!j[ce]);this._applyStateDiff()}_updateState(j,ce){const Ne=this.stateMap.get(j);void 0!==Ne?(Ne.enabled!==ce&&(Ne.changed=!0,Ne.enabled=ce),Ne.touched=!0):this.stateMap.set(j,{enabled:ce,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ce=j[0],Ne=j[1];Ne.changed?(this._toggleClass(ce,Ne.enabled),Ne.changed=!1):Ne.touched||(Ne.enabled&&this._toggleClass(ce,!1),this.stateMap.delete(ce)),Ne.touched=!1}}_toggleClass(j,ce){(j=j.trim()).length>0&&j.split(ps).forEach(Ne=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Ne):this._renderer.removeClass(this._ngEl.nativeElement,Ne)})}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),q})();class bs{constructor(q,ve,j,ce){this.$implicit=q,this.ngForOf=ve,this.index=j,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{var x;class q{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ce,Ne){this._viewContainer=j,this._template=ce,this._differs=Ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ce=this._viewContainer;j.forEachOperation((Ne,bt,tn)=>{if(null==Ne.previousIndex)ce.createEmbeddedView(this._template,new bs(Ne.item,this._ngForOf,-1,-1),null===tn?void 0:tn);else if(null==tn)ce.remove(null===bt?void 0:bt);else if(null!==bt){const Nr=ce.get(bt);ce.move(Nr,tn),Yr(Nr,Ne)}});for(let Ne=0,bt=ce.length;Ne<bt;Ne++){const Nr=ce.get(Ne).context;Nr.index=Ne,Nr.count=bt,Nr.ngForOf=this._ngForOf}j.forEachIdentityChange(Ne=>{Yr(ce.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard(j,ce){return!0}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Yr(x,q){x.context.$implicit=q.item}let Cs=(()=>{var x;class q{constructor(j,ce){this._viewContainer=j,this._context=new Na,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){xo("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){xo("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ce){return!0}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.s_b),w.Y36(w.Rgc))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class Na{constructor(){this.$implicit=null,this.ngIf=null}}function xo(x,q){if(q&&!q.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,w.AaK)(q)}'.`)}let Er=(()=>{var x;class q{constructor(j,ce,Ne){this._ngEl=j,this._differs=ce,this._renderer=Ne,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,ce){const[Ne,bt]=j.split("."),tn=-1===Ne.indexOf("-")?void 0:w.JOm.DashCase;null!=ce?this._renderer.setStyle(this._ngEl.nativeElement,Ne,bt?`${ce}${bt}`:ce,tn):this._renderer.removeStyle(this._ngEl.nativeElement,Ne,tn)}_applyChanges(j){j.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),j.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),j.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),q})(),Hr=(()=>{var x;class q{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const ce=this._viewContainerRef;if(this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ne,ngTemplateOutletContext:bt,ngTemplateOutletInjector:tn}=this;this._viewRef=ce.createEmbeddedView(Ne,bt,tn?{injector:tn}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.s_b))},x.\u0275dir=w.lG2({type:x,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),q})();function Kr(x,q){return new w.vHH(2100,!1)}let cu=(()=>{var x;class q{transform(j){if(null==j)return null;if("string"!=typeof j)throw Kr();return j.toUpperCase()}}return(x=q).\u0275fac=function(j){return new(j||x)},x.\u0275pipe=w.Yjl({name:"uppercase",type:x,pure:!0,standalone:!0}),q})(),Po=(()=>{var x;class q{constructor(j){this.differs=j,this.keyValues=[],this.compareFn=li}transform(j,ce=li){if(!j||!(j instanceof Map)&&"object"!=typeof j)return null;this.differ||(this.differ=this.differs.find(j).create());const Ne=this.differ.diff(j),bt=ce!==this.compareFn;return Ne&&(this.keyValues=[],Ne.forEachItem(tn=>{this.keyValues.push(function Fr(x,q){return{key:x,value:q}}(tn.key,tn.currentValue))})),(Ne||bt)&&(this.keyValues.sort(ce),this.compareFn=ce),this.keyValues}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.aQg,16))},x.\u0275pipe=w.Yjl({name:"keyvalue",type:x,pure:!1,standalone:!0}),q})();function li(x,q){const ve=x.key,j=q.key;if(ve===j)return 0;if(void 0===ve)return 1;if(void 0===j)return-1;if(null===ve)return 1;if(null===j)return-1;if("string"==typeof ve&&"string"==typeof j)return ve<j?-1:1;if("number"==typeof ve&&"number"==typeof j)return ve-j;if("boolean"==typeof ve&&"boolean"==typeof j)return ve<j?-1:1;const ce=String(ve),Ne=String(j);return ce==Ne?0:ce<Ne?-1:1}let Jr=(()=>{var x;class q{constructor(j,ce="USD"){this._locale=j,this._defaultCurrencyCode=ce}transform(j,ce=this._defaultCurrencyCode,Ne="symbol",bt,tn){if(!function Fs(x){return!(null==x||""===x||x!=x)}(j))return null;tn=tn||this._locale,"boolean"==typeof Ne&&(Ne=Ne?"symbol":"code");let Nr=ce||this._defaultCurrencyCode;"code"!==Ne&&(Nr="symbol"===Ne||"symbol-narrow"===Ne?function ai(x,q,ve="en"){const j=function Tn(x){return(0,w.cg1)(x)[w.wAp.Currencies]}(ve)[x]||pt[x]||[],ce=j[1];return"narrow"===q&&"string"==typeof ce?ce:j[0]||x}(Nr,"symbol"===Ne?"wide":"narrow",tn):Ne);try{return _e(function ta(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}(j),tn,Nr,ce,bt)}catch($r){throw Kr()}}}return(x=q).\u0275fac=function(j){return new(j||x)(w.Y36(w.soG,16),w.Y36(w.EJc,16))},x.\u0275pipe=w.Yjl({name:"currency",type:x,pure:!0,standalone:!0}),q})();let Si=(()=>{var x;class q{}return(x=q).\u0275fac=function(j){return new(j||x)},x.\u0275mod=w.oAB({type:x}),x.\u0275inj=w.cJS({}),q})();const zi="browser",ma="server";function Va(x){return x===zi}function eo(x){return x===ma}let ls=(()=>{var x;class q{}return(x=q).\u0275prov=(0,w.Yz7)({token:x,providedIn:"root",factory:()=>new ya((0,w.LFG)(Ae),window)}),q})();class ya{constructor(q,ve){this.document=q,this.window=ve,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const ve=function cl(x,q){const ve=x.getElementById(q)||x.getElementsByName(q)[0];if(ve)return ve;if("function"==typeof x.createTreeWalker&&x.body&&"function"==typeof x.body.attachShadow){const j=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let ce=j.currentNode;for(;ce;){const Ne=ce.shadowRoot;if(Ne){const bt=Ne.getElementById(q)||Ne.querySelector(`[name="${q}"]`);if(bt)return bt}ce=j.nextNode()}}return null}(this.document,q);ve&&(this.scrollToElement(ve),ve.focus())}setHistoryScrollRestoration(q){this.supportsScrolling()&&(this.window.history.scrollRestoration=q)}scrollToElement(q){const ve=q.getBoundingClientRect(),j=ve.left+this.window.pageXOffset,ce=ve.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(j-Ne[0],ce-Ne[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Mo{}},9862:(Gt,$e,U)=>{U.d($e,{JF:()=>H,eN:()=>qe});var w=U(5879),ie=U(2096),Y=U(2459),ue=U(5592),m=U(6328),Ae=U(2181),Ie=U(7398),pe=U(4716),Se=U(4664),re=U(6814);class ye{}class Pe{}class Be{constructor(_e){this.normalizedNames=new Map,this.lazyUpdate=null,_e?"string"==typeof _e?this.lazyInit=()=>{this.headers=new Map,_e.split("\n").forEach(ze=>{const Ye=ze.indexOf(":");if(Ye>0){const Ft=ze.slice(0,Ye),Mt=Ft.toLowerCase(),Xt=ze.slice(Ye+1).trim();this.maybeSetNormalizedName(Ft,Mt),this.headers.has(Mt)?this.headers.get(Mt).push(Xt):this.headers.set(Mt,[Xt])}})}:typeof Headers<"u"&&_e instanceof Headers?(this.headers=new Map,_e.forEach((ze,Ye)=>{this.setHeaderEntries(Ye,ze)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_e).forEach(([ze,Ye])=>{this.setHeaderEntries(ze,Ye)})}:this.headers=new Map}has(_e){return this.init(),this.headers.has(_e.toLowerCase())}get(_e){this.init();const ze=this.headers.get(_e.toLowerCase());return ze&&ze.length>0?ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_e){return this.init(),this.headers.get(_e.toLowerCase())||null}append(_e,ze){return this.clone({name:_e,value:ze,op:"a"})}set(_e,ze){return this.clone({name:_e,value:ze,op:"s"})}delete(_e,ze){return this.clone({name:_e,value:ze,op:"d"})}maybeSetNormalizedName(_e,ze){this.normalizedNames.has(ze)||this.normalizedNames.set(ze,_e)}init(){this.lazyInit&&(this.lazyInit instanceof Be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_e=>this.applyUpdate(_e)),this.lazyUpdate=null))}copyFrom(_e){_e.init(),Array.from(_e.headers.keys()).forEach(ze=>{this.headers.set(ze,_e.headers.get(ze)),this.normalizedNames.set(ze,_e.normalizedNames.get(ze))})}clone(_e){const ze=new Be;return ze.lazyInit=this.lazyInit&&this.lazyInit instanceof Be?this.lazyInit:this,ze.lazyUpdate=(this.lazyUpdate||[]).concat([_e]),ze}applyUpdate(_e){const ze=_e.name.toLowerCase();switch(_e.op){case"a":case"s":let Ye=_e.value;if("string"==typeof Ye&&(Ye=[Ye]),0===Ye.length)return;this.maybeSetNormalizedName(_e.name,ze);const Ft=("a"===_e.op?this.headers.get(ze):void 0)||[];Ft.push(...Ye),this.headers.set(ze,Ft);break;case"d":const Mt=_e.value;if(Mt){let Xt=this.headers.get(ze);if(!Xt)return;Xt=Xt.filter(Bt=>-1===Mt.indexOf(Bt)),0===Xt.length?(this.headers.delete(ze),this.normalizedNames.delete(ze)):this.headers.set(ze,Xt)}else this.headers.delete(ze),this.normalizedNames.delete(ze)}}setHeaderEntries(_e,ze){const Ye=(Array.isArray(ze)?ze:[ze]).map(Mt=>Mt.toString()),Ft=_e.toLowerCase();this.headers.set(Ft,Ye),this.maybeSetNormalizedName(_e,Ft)}forEach(_e){this.init(),Array.from(this.normalizedNames.keys()).forEach(ze=>_e(this.normalizedNames.get(ze),this.headers.get(ze)))}}class Pt{encodeKey(_e){return wt(_e)}encodeValue(_e){return wt(_e)}decodeKey(_e){return decodeURIComponent(_e)}decodeValue(_e){return decodeURIComponent(_e)}}const De=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wt(me){return encodeURIComponent(me).replace(De,(_e,ze)=>Fe[ze]??_e)}function yt(me){return`${me}`}class xe{constructor(_e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_e.encoder||new Pt,_e.fromString){if(_e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Le(me,_e){const ze=new Map;return me.length>0&&me.replace(/^\?/,"").split("&").forEach(Ft=>{const Mt=Ft.indexOf("="),[Xt,Bt]=-1==Mt?[_e.decodeKey(Ft),""]:[_e.decodeKey(Ft.slice(0,Mt)),_e.decodeValue(Ft.slice(Mt+1))],ir=ze.get(Xt)||[];ir.push(Bt),ze.set(Xt,ir)}),ze}(_e.fromString,this.encoder)}else _e.fromObject?(this.map=new Map,Object.keys(_e.fromObject).forEach(ze=>{const Ye=_e.fromObject[ze],Ft=Array.isArray(Ye)?Ye.map(yt):[yt(Ye)];this.map.set(ze,Ft)})):this.map=null}has(_e){return this.init(),this.map.has(_e)}get(_e){this.init();const ze=this.map.get(_e);return ze?ze[0]:null}getAll(_e){return this.init(),this.map.get(_e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_e,ze){return this.clone({param:_e,value:ze,op:"a"})}appendAll(_e){const ze=[];return Object.keys(_e).forEach(Ye=>{const Ft=_e[Ye];Array.isArray(Ft)?Ft.forEach(Mt=>{ze.push({param:Ye,value:Mt,op:"a"})}):ze.push({param:Ye,value:Ft,op:"a"})}),this.clone(ze)}set(_e,ze){return this.clone({param:_e,value:ze,op:"s"})}delete(_e,ze){return this.clone({param:_e,value:ze,op:"d"})}toString(){return this.init(),this.keys().map(_e=>{const ze=this.encoder.encodeKey(_e);return this.map.get(_e).map(Ye=>ze+"="+this.encoder.encodeValue(Ye)).join("&")}).filter(_e=>""!==_e).join("&")}clone(_e){const ze=new xe({encoder:this.encoder});return ze.cloneFrom=this.cloneFrom||this,ze.updates=(this.updates||[]).concat(_e),ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_e=>this.map.set(_e,this.cloneFrom.map.get(_e))),this.updates.forEach(_e=>{switch(_e.op){case"a":case"s":const ze=("a"===_e.op?this.map.get(_e.param):void 0)||[];ze.push(yt(_e.value)),this.map.set(_e.param,ze);break;case"d":if(void 0===_e.value){this.map.delete(_e.param);break}{let Ye=this.map.get(_e.param)||[];const Ft=Ye.indexOf(yt(_e.value));-1!==Ft&&Ye.splice(Ft,1),Ye.length>0?this.map.set(_e.param,Ye):this.map.delete(_e.param)}}}),this.cloneFrom=this.updates=null)}}class Ke{constructor(){this.map=new Map}set(_e,ze){return this.map.set(_e,ze),this}get(_e){return this.map.has(_e)||this.map.set(_e,_e.defaultValue()),this.map.get(_e)}delete(_e){return this.map.delete(_e),this}has(_e){return this.map.has(_e)}keys(){return this.map.keys()}}function mt(me){return typeof ArrayBuffer<"u"&&me instanceof ArrayBuffer}function Ee(me){return typeof Blob<"u"&&me instanceof Blob}function dt(me){return typeof FormData<"u"&&me instanceof FormData}class Qt{constructor(_e,ze,Ye,Ft){let Mt;if(this.url=ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_e.toUpperCase(),function ut(me){switch(me){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ft?(this.body=void 0!==Ye?Ye:null,Mt=Ft):Mt=Ye,Mt&&(this.reportProgress=!!Mt.reportProgress,this.withCredentials=!!Mt.withCredentials,Mt.responseType&&(this.responseType=Mt.responseType),Mt.headers&&(this.headers=Mt.headers),Mt.context&&(this.context=Mt.context),Mt.params&&(this.params=Mt.params)),this.headers||(this.headers=new Be),this.context||(this.context=new Ke),this.params){const Xt=this.params.toString();if(0===Xt.length)this.urlWithParams=ze;else{const Bt=ze.indexOf("?");this.urlWithParams=ze+(-1===Bt?"?":Bt<ze.length-1?"&":"")+Xt}}else this.params=new xe,this.urlWithParams=ze}serializeBody(){return null===this.body?null:mt(this.body)||Ee(this.body)||dt(this.body)||function Ot(me){return typeof URLSearchParams<"u"&&me instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dt(this.body)?null:Ee(this.body)?this.body.type||null:mt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_e={}){const ze=_e.method||this.method,Ye=_e.url||this.url,Ft=_e.responseType||this.responseType,Mt=void 0!==_e.body?_e.body:this.body,Xt=void 0!==_e.withCredentials?_e.withCredentials:this.withCredentials,Bt=void 0!==_e.reportProgress?_e.reportProgress:this.reportProgress;let ir=_e.headers||this.headers,Fn=_e.params||this.params;const di=_e.context??this.context;return void 0!==_e.setHeaders&&(ir=Object.keys(_e.setHeaders).reduce((Di,Dr)=>Di.set(Dr,_e.setHeaders[Dr]),ir)),_e.setParams&&(Fn=Object.keys(_e.setParams).reduce((Di,Dr)=>Di.set(Dr,_e.setParams[Dr]),Fn)),new Qt(ze,Ye,Mt,{params:Fn,headers:ir,context:di,reportProgress:Bt,responseType:Ft,withCredentials:Xt})}}var _n=function(me){return me[me.Sent=0]="Sent",me[me.UploadProgress=1]="UploadProgress",me[me.ResponseHeader=2]="ResponseHeader",me[me.DownloadProgress=3]="DownloadProgress",me[me.Response=4]="Response",me[me.User=5]="User",me}(_n||{});class yr{constructor(_e,ze=200,Ye="OK"){this.headers=_e.headers||new Be,this.status=void 0!==_e.status?_e.status:ze,this.statusText=_e.statusText||Ye,this.url=_e.url||null,this.ok=this.status>=200&&this.status<300}}class Sn extends yr{constructor(_e={}){super(_e),this.type=_n.ResponseHeader}clone(_e={}){return new Sn({headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class ar extends yr{constructor(_e={}){super(_e),this.type=_n.Response,this.body=void 0!==_e.body?_e.body:null}clone(_e={}){return new ar({body:void 0!==_e.body?_e.body:this.body,headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class Kn extends yr{constructor(_e){super(_e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_e.url||"(unknown url)"}`:`Http failure response for ${_e.url||"(unknown url)"}: ${_e.status} ${_e.statusText}`,this.error=_e.error||null}}function fr(me,_e){return{body:_e,headers:me.headers,context:me.context,observe:me.observe,params:me.params,reportProgress:me.reportProgress,responseType:me.responseType,withCredentials:me.withCredentials}}let qe=(()=>{var me;class _e{constructor(Ye){this.handler=Ye}request(Ye,Ft,Mt={}){let Xt;if(Ye instanceof Qt)Xt=Ye;else{let Fn,di;Fn=Mt.headers instanceof Be?Mt.headers:new Be(Mt.headers),Mt.params&&(di=Mt.params instanceof xe?Mt.params:new xe({fromObject:Mt.params})),Xt=new Qt(Ye,Ft,void 0!==Mt.body?Mt.body:null,{headers:Fn,context:Mt.context,params:di,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials})}const Bt=(0,ie.of)(Xt).pipe((0,m.b)(Fn=>this.handler.handle(Fn)));if(Ye instanceof Qt||"events"===Mt.observe)return Bt;const ir=Bt.pipe((0,Ae.h)(Fn=>Fn instanceof ar));switch(Mt.observe||"body"){case"body":switch(Xt.responseType){case"arraybuffer":return ir.pipe((0,Ie.U)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Fn.body}));case"blob":return ir.pipe((0,Ie.U)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof Blob))throw new Error("Response is not a Blob.");return Fn.body}));case"text":return ir.pipe((0,Ie.U)(Fn=>{if(null!==Fn.body&&"string"!=typeof Fn.body)throw new Error("Response is not a string.");return Fn.body}));default:return ir.pipe((0,Ie.U)(Fn=>Fn.body))}case"response":return ir;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(Ye,Ft={}){return this.request("DELETE",Ye,Ft)}get(Ye,Ft={}){return this.request("GET",Ye,Ft)}head(Ye,Ft={}){return this.request("HEAD",Ye,Ft)}jsonp(Ye,Ft){return this.request("JSONP",Ye,{params:(new xe).append(Ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ye,Ft={}){return this.request("OPTIONS",Ye,Ft)}patch(Ye,Ft,Mt={}){return this.request("PATCH",Ye,fr(Mt,Ft))}post(Ye,Ft,Mt={}){return this.request("POST",Ye,fr(Mt,Ft))}put(Ye,Ft,Mt={}){return this.request("PUT",Ye,fr(Mt,Ft))}}return(me=_e).\u0275fac=function(Ye){return new(Ye||me)(w.LFG(ye))},me.\u0275prov=w.Yz7({token:me,factory:me.\u0275fac}),_e})();function Wn(me,_e){return _e(me)}function Tn(me,_e){return(ze,Ye)=>_e.intercept(ze,{handle:Ft=>me(Ft,Ye)})}const sn=new w.OlP(""),tr=new w.OlP(""),Zn=new w.OlP("");function vr(){let me=null;return(_e,ze)=>{null===me&&(me=((0,w.f3M)(sn,{optional:!0})??[]).reduceRight(Tn,Wn));const Ye=(0,w.f3M)(w.HDt),Ft=Ye.add();return me(_e,ze).pipe((0,pe.x)(()=>Ye.remove(Ft)))}}let cr=(()=>{var me;class _e extends ye{constructor(Ye,Ft){super(),this.backend=Ye,this.injector=Ft,this.chain=null,this.pendingTasks=(0,w.f3M)(w.HDt)}handle(Ye){if(null===this.chain){const Mt=Array.from(new Set([...this.injector.get(tr),...this.injector.get(Zn,[])]));this.chain=Mt.reduceRight((Xt,Bt)=>function Vn(me,_e,ze){return(Ye,Ft)=>ze.runInContext(()=>_e(Ye,Mt=>me(Mt,Ft)))}(Xt,Bt,this.injector),Wn)}const Ft=this.pendingTasks.add();return this.chain(Ye,Mt=>this.backend.handle(Mt)).pipe((0,pe.x)(()=>this.pendingTasks.remove(Ft)))}}return(me=_e).\u0275fac=function(Ye){return new(Ye||me)(w.LFG(Pe),w.LFG(w.lqb))},me.\u0275prov=w.Yz7({token:me,factory:me.\u0275fac}),_e})();const Rn=/^\)\]\}',?\n/;let Un=(()=>{var me;class _e{constructor(Ye){this.xhrFactory=Ye}handle(Ye){if("JSONP"===Ye.method)throw new w.vHH(-2800,!1);const Ft=this.xhrFactory;return(Ft.\u0275loadImpl?(0,Y.D)(Ft.\u0275loadImpl()):(0,ie.of)(null)).pipe((0,Se.w)(()=>new ue.y(Xt=>{const Bt=Ft.build();if(Bt.open(Ye.method,Ye.urlWithParams),Ye.withCredentials&&(Bt.withCredentials=!0),Ye.headers.forEach((Pn,jn)=>Bt.setRequestHeader(Pn,jn.join(","))),Ye.headers.has("Accept")||Bt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ye.headers.has("Content-Type")){const Pn=Ye.detectContentTypeHeader();null!==Pn&&Bt.setRequestHeader("Content-Type",Pn)}if(Ye.responseType){const Pn=Ye.responseType.toLowerCase();Bt.responseType="json"!==Pn?Pn:"text"}const ir=Ye.serializeBody();let Fn=null;const di=()=>{if(null!==Fn)return Fn;const Pn=Bt.statusText||"OK",jn=new Be(Bt.getAllResponseHeaders()),ri=function qr(me){return"responseURL"in me&&me.responseURL?me.responseURL:/^X-Request-URL:/m.test(me.getAllResponseHeaders())?me.getResponseHeader("X-Request-URL"):null}(Bt)||Ye.url;return Fn=new Sn({headers:jn,status:Bt.status,statusText:Pn,url:ri}),Fn},Di=()=>{let{headers:Pn,status:jn,statusText:ri,url:bs}=di(),Wr=null;204!==jn&&(Wr=typeof Bt.response>"u"?Bt.responseText:Bt.response),0===jn&&(jn=Wr?200:0);let Yr=jn>=200&&jn<300;if("json"===Ye.responseType&&"string"==typeof Wr){const Xs=Wr;Wr=Wr.replace(Rn,"");try{Wr=""!==Wr?JSON.parse(Wr):null}catch(Cs){Wr=Xs,Yr&&(Yr=!1,Wr={error:Cs,text:Wr})}}Yr?(Xt.next(new ar({body:Wr,headers:Pn,status:jn,statusText:ri,url:bs||void 0})),Xt.complete()):Xt.error(new Kn({error:Wr,headers:Pn,status:jn,statusText:ri,url:bs||void 0}))},Dr=Pn=>{const{url:jn}=di(),ri=new Kn({error:Pn,status:Bt.status||0,statusText:Bt.statusText||"Unknown Error",url:jn||void 0});Xt.error(ri)};let ni=!1;const ps=Pn=>{ni||(Xt.next(di()),ni=!0);let jn={type:_n.DownloadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(jn.total=Pn.total),"text"===Ye.responseType&&Bt.responseText&&(jn.partialText=Bt.responseText),Xt.next(jn)},jr=Pn=>{let jn={type:_n.UploadProgress,loaded:Pn.loaded};Pn.lengthComputable&&(jn.total=Pn.total),Xt.next(jn)};return Bt.addEventListener("load",Di),Bt.addEventListener("error",Dr),Bt.addEventListener("timeout",Dr),Bt.addEventListener("abort",Dr),Ye.reportProgress&&(Bt.addEventListener("progress",ps),null!==ir&&Bt.upload&&Bt.upload.addEventListener("progress",jr)),Bt.send(ir),Xt.next({type:_n.Sent}),()=>{Bt.removeEventListener("error",Dr),Bt.removeEventListener("abort",Dr),Bt.removeEventListener("load",Di),Bt.removeEventListener("timeout",Dr),Ye.reportProgress&&(Bt.removeEventListener("progress",ps),null!==ir&&Bt.upload&&Bt.upload.removeEventListener("progress",jr)),Bt.readyState!==Bt.DONE&&Bt.abort()}})))}}return(me=_e).\u0275fac=function(Ye){return new(Ye||me)(w.LFG(re.JF))},me.\u0275prov=w.Yz7({token:me,factory:me.\u0275fac}),_e})();const Jn=new w.OlP("XSRF_ENABLED"),$n=new w.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Qn=new w.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class dr{}let wi=(()=>{var me;class _e{constructor(Ye,Ft,Mt){this.doc=Ye,this.platform=Ft,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ye=this.doc.cookie||"";return Ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(Ye,this.cookieName),this.lastCookieString=Ye),this.lastToken}}return(me=_e).\u0275fac=function(Ye){return new(Ye||me)(w.LFG(re.K0),w.LFG(w.Lbi),w.LFG($n))},me.\u0275prov=w.Yz7({token:me,factory:me.\u0275fac}),_e})();function Hi(me,_e){const ze=me.url.toLowerCase();if(!(0,w.f3M)(Jn)||"GET"===me.method||"HEAD"===me.method||ze.startsWith("http://")||ze.startsWith("https://"))return _e(me);const Ye=(0,w.f3M)(dr).getToken(),Ft=(0,w.f3M)(Qn);return null!=Ye&&!me.headers.has(Ft)&&(me=me.clone({headers:me.headers.set(Ft,Ye)})),_e(me)}var Bn=function(me){return me[me.Interceptors=0]="Interceptors",me[me.LegacyInterceptors=1]="LegacyInterceptors",me[me.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",me[me.NoXsrfProtection=3]="NoXsrfProtection",me[me.JsonpSupport=4]="JsonpSupport",me[me.RequestsMadeViaParent=5]="RequestsMadeViaParent",me[me.Fetch=6]="Fetch",me}(Bn||{});function nt(me,_e){return{\u0275kind:me,\u0275providers:_e}}function Re(...me){const _e=[qe,Un,cr,{provide:ye,useExisting:cr},{provide:Pe,useExisting:Un},{provide:tr,useValue:Hi,multi:!0},{provide:Jn,useValue:!0},{provide:dr,useClass:wi}];for(const ze of me)_e.push(...ze.\u0275providers);return(0,w.MR2)(_e)}const kt=new w.OlP("LEGACY_INTERCEPTOR_FN");let H=(()=>{var me;class _e{}return(me=_e).\u0275fac=function(Ye){return new(Ye||me)},me.\u0275mod=w.oAB({type:me}),me.\u0275inj=w.cJS({providers:[Re(nt(Bn.LegacyInterceptors,[{provide:kt,useFactory:vr},{provide:tr,useExisting:kt,multi:!0}]))]}),_e})()},5879:(Gt,$e,U)=>{U.d($e,{$8M:()=>Ni,$WT:()=>Ms,$Z:()=>Sh,AFp:()=>bc,ALo:()=>cC,AaK:()=>Pe,AsE:()=>hv,BQk:()=>nm,CHM:()=>Iu,CRH:()=>vT,EJc:()=>Vc,EpF:()=>zp,F$t:()=>p,F4k:()=>Pf,FYo:()=>xg,FiY:()=>ft,Gf:()=>_T,GfV:()=>wh,Gpc:()=>Pt,HDt:()=>rI,Hsn:()=>y,JOm:()=>Gf,Jf7:()=>Mg,KtG:()=>$c,LFG:()=>lt,LSH:()=>Om,Lbi:()=>Wl,Lck:()=>z_,MAs:()=>iv,MGl:()=>O,MMx:()=>Qb,MR2:()=>df,NdJ:()=>im,Ojb:()=>hp,OlP:()=>Bi,Oqu:()=>dv,P3R:()=>Nm,PXZ:()=>Xp,Q6J:()=>ME,QGY:()=>rm,Qsj:()=>eE,R0b:()=>So,RDi:()=>Dw,Rgc:()=>lw,SBq:()=>Md,Sil:()=>IA,Suo:()=>yT,TTD:()=>ei,TgZ:()=>ov,Udp:()=>t0,VKq:()=>rC,VuI:()=>nS,X6Q:()=>gD,XFs:()=>wn,Xpm:()=>Ls,Xq5:()=>qd,Xts:()=>Tg,Y36:()=>Rc,YKP:()=>Zb,YNc:()=>A_,Yjl:()=>cu,Yz7:()=>sn,Z0I:()=>cr,ZZ4:()=>ab,_Bn:()=>Kb,_UZ:()=>tm,_c5:()=>zA,_uU:()=>FE,aQg:()=>ub,c2e:()=>Ge,cJS:()=>Zn,cg1:()=>v0,dDg:()=>cD,dqk:()=>Un,eFA:()=>cI,eJc:()=>IT,ekj:()=>lv,eoX:()=>$T,f3M:()=>Me,g9A:()=>pf,h0i:()=>Yd,hGG:()=>GA,hij:()=>VE,iGM:()=>z0,ifc:()=>Mt,ip1:()=>NT,jDz:()=>wv,kEZ:()=>G_,kL8:()=>KE,lG2:()=>Fa,lcZ:()=>dC,lqb:()=>rd,lri:()=>jT,n5z:()=>Zc,oAB:()=>ku,oJD:()=>ph,oxw:()=>o,q4F:()=>xy,qFp:()=>iS,qLn:()=>Ld,qOj:()=>sl,qZA:()=>x_,rWj:()=>HT,rg0:()=>ce,s9C:()=>I,sBO:()=>mD,s_b:()=>V0,soG:()=>Sv,tBr:()=>He,tb:()=>Vt,tp0:()=>jt,uIk:()=>Pl,vHH:()=>xe,vpe:()=>ad,wAp:()=>hm,xi3:()=>W_,xp6:()=>Vy,ynx:()=>R_,z2F:()=>ey,zSh:()=>nd,zs3:()=>su});var w=U(8645),ie=U(7394),Y=U(5592),ue=U(3019),m=U(5619),Ae=U(2096),Ie=U(3020),pe=U(4664),Se=U(3997);function re(s){for(let a in s)if(s[a]===re)return a;throw Error("Could not find renamed property on target object.")}function ye(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function Pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Be(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const it=re({__forward_ref__:re});function Pt(s){return s.__forward_ref__=Pt,s.toString=function(){return Pe(this())},s}function Le(s){return De(s)?s():s}function De(s){return"function"==typeof s&&s.hasOwnProperty(it)&&s.__forward_ref__===Pt}function Fe(s){return s&&!!s.\u0275providers}const yt="https://g.co/ng/security#xss";class xe extends Error{constructor(a,d){super(function pt(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function Ke(s){return"string"==typeof s?s:null==s?"":String(s)}function Ot(s,a){throw new xe(-201,!1)}function Wt(s,a){null==s&&function gt(s,a,d,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${d} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zn(s){return{providers:s.providers||[],imports:s.imports||[]}}function vr(s){return Cr(s,Ar)||Cr(s,ui)}function cr(s){return null!==vr(s)}function Cr(s,a){return s.hasOwnProperty(a)?s[a]:null}function zr(s){return s&&(s.hasOwnProperty(Or)||s.hasOwnProperty(Gr))?s[Or]:null}const Ar=re({\u0275prov:re}),Or=re({\u0275inj:re}),ui=re({ngInjectableDef:re}),Gr=re({ngInjectorDef:re});var wn=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(wn||{});let an;function kn(s){const a=an;return an=s,a}function Rn(s,a,d){const h=vr(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&wn.Optional?null:void 0!==a?a:void Ot(Pe(s))}const Un=globalThis,kt={},cn="__NG_DI_FLAG__",In="ngTempTokenPath",be=/\n/gm,G="__source";let K;function de(s){const a=K;return K=s,a}function ke(s,a=wn.Default){if(void 0===K)throw new xe(-203,!1);return null===K?Rn(s,void 0,a):K.get(s,a&wn.Optional?null:void 0,a)}function lt(s,a=wn.Default){return(function An(){return an}()||ke)(Le(s),a)}function Me(s,a=wn.Default){return lt(s,ee(a))}function ee(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function ge(s){const a=[];for(let d=0;d<s.length;d++){const h=Le(s[d]);if(Array.isArray(h)){if(0===h.length)throw new xe(900,!1);let g,v=wn.Default;for(let b=0;b<h.length;b++){const D=h[b],L=me(D);"number"==typeof L?-1===L?g=D.token:v|=L:g=D}a.push(lt(g,v))}else a.push(lt(h))}return a}function Qe(s,a){return s[cn]=a,s.prototype[cn]=a,s}function me(s){return s[cn]}function Ye(s){return{toString:s}.toString()}var Ft=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Ft||{}),Mt=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Mt||{});const Xt={},Bt=[],ir=re({\u0275cmp:re}),Fn=re({\u0275dir:re}),di=re({\u0275pipe:re}),Di=re({\u0275mod:re}),Dr=re({\u0275fac:re}),ni=re({__NG_ELEMENT_ID__:re}),ps=re({__NG_ENV_ID__:re});function jr(s,a,d){let h=s.length;for(;;){const g=s.indexOf(a,d);if(-1===g)return g;if(0===g||s.charCodeAt(g-1)<=32){const v=a.length;if(g+v===h||s.charCodeAt(g+v)<=32)return g}d=g+1}}function Pn(s,a,d){let h=0;for(;h<d.length;){const g=d[h];if("number"==typeof g){if(0!==g)break;h++;const v=d[h++],b=d[h++],D=d[h++];s.setAttribute(a,b,D,v)}else{const v=g,b=d[++h];ri(v)?s.setProperty(a,v,b):s.setAttribute(a,v,b),h++}}return h}function jn(s){return 3===s||4===s||6===s}function ri(s){return 64===s.charCodeAt(0)}function bs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let h=0;h<a.length;h++){const g=a[h];"number"==typeof g?d=g:0===d||Wr(s,d,g,null,-1===d||2===d?a[++h]:null)}}return s}function Wr(s,a,d,h,g){let v=0,b=s.length;if(-1===a)b=-1;else for(;v<s.length;){const D=s[v++];if("number"==typeof D){if(D===a){b=-1;break}if(D>a){b=v-1;break}}}for(;v<s.length;){const D=s[v];if("number"==typeof D)break;if(D===d){if(null===h)return void(null!==g&&(s[v+1]=g));if(h===s[v+1])return void(s[v+2]=g)}v++,null!==h&&v++,null!==g&&v++}-1!==b&&(s.splice(b,0,a),v=b+1),s.splice(v++,0,d),null!==h&&s.splice(v++,0,h),null!==g&&s.splice(v++,0,g)}const Yr="ng-template";function Xs(s,a,d){let h=0,g=!0;for(;h<s.length;){let v=s[h++];if("string"==typeof v&&g){const b=s[h++];if(d&&"class"===v&&-1!==jr(b.toLowerCase(),a,0))return!0}else{if(1===v){for(;h<s.length&&"string"==typeof(v=s[h++]);)if(v.toLowerCase()===a)return!0;return!1}"number"==typeof v&&(g=!1)}}return!1}function Cs(s){return 4===s.type&&s.value!==Yr}function Na(s,a,d){return a===(4!==s.type||d?s.value:Yr)}function xo(s,a,d){let h=4;const g=s.attrs||[],v=function Kt(s){for(let a=0;a<s.length;a++)if(jn(s[a]))return a;return s.length}(g);let b=!1;for(let D=0;D<a.length;D++){const L=a[D];if("number"!=typeof L){if(!b)if(4&h){if(h=2|1&h,""!==L&&!Na(s,L,d)||""===L&&1===a.length){if(je(h))return!1;b=!0}}else{const W=8&h?L:a[++D];if(8&h&&null!==s.attrs){if(!Xs(s.attrs,W,d)){if(je(h))return!1;b=!0}continue}const we=Ve(8&h?"class":L,g,Cs(s),d);if(-1===we){if(je(h))return!1;b=!0;continue}if(""!==W){let Ue;Ue=we>v?"":g[we+1].toLowerCase();const Xe=8&h?Ue:null;if(Xe&&-1!==jr(Xe,W,0)||2&h&&W!==Ue){if(je(h))return!1;b=!0}}}}else{if(!b&&!je(h)&&!je(L))return!1;if(b&&je(L))continue;b=!1,h=L|1&h}}return je(h)||b}function je(s){return 0==(1&s)}function Ve(s,a,d,h){if(null===a)return-1;let g=0;if(h||!d){let v=!1;for(;g<a.length;){const b=a[g];if(b===s)return g;if(3===b||6===b)v=!0;else{if(1===b||2===b){let D=a[++g];for(;"string"==typeof D;)D=a[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=v?1:2}return-1}return function Hn(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const h=s[d];if("number"==typeof h)return-1;if(h===a)return d;d++}return-1}(a,s)}function tt(s,a,d=!1){for(let h=0;h<a.length;h++)if(xo(s,a[h],d))return!0;return!1}function gr(s,a){e:for(let d=0;d<a.length;d++){const h=a[d];if(s.length===h.length){for(let g=0;g<s.length;g++)if(s[g]!==h[g])continue e;return!0}}return!1}function Er(s,a){return s?":not("+a.trim()+")":a}function Hr(s){let a=s[0],d=1,h=2,g="",v=!1;for(;d<s.length;){let b=s[d];if("string"==typeof b)if(2&h){const D=s[++d];g+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&h?g+="."+b:4&h&&(g+=" "+b);else""!==g&&!je(b)&&(a+=Er(v,g),g=""),h=b,v=v||!je(h);d++}return""!==g&&(a+=Er(v,g)),a}function Ls(s){return Ye(()=>{const a=Ro(s),d={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Mt.Emulated,styles:s.styles||Bt,_:null,schemas:s.schemas||null,tView:null,id:""};du(d);const h=s.dependencies;return d.directiveDefs=hu(h,!1),d.pipeDefs=hu(h,!0),d.id=function Po(s){let a=0;const d=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const g of d)a=Math.imul(31,a)+g.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function La(s){return lr(s)||Ii(s)}function Nl(s){return null!==s}function ku(s){return Ye(()=>({type:s.type,bootstrap:s.bootstrap||Bt,declarations:s.declarations||Bt,imports:s.imports||Bt,exports:s.exports||Bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Lu(s,a){if(null==s)return Xt;const d={};for(const h in s)if(s.hasOwnProperty(h)){let g=s[h],v=g;Array.isArray(g)&&(v=g[1],g=g[0]),d[g]=h,a&&(a[g]=v)}return d}function Fa(s){return Ye(()=>{const a=Ro(s);return du(a),a})}function cu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function lr(s){return s[ir]||null}function Ii(s){return s[Fn]||null}function ns(s){return s[di]||null}function Ms(s){const a=lr(s)||Ii(s)||ns(s);return null!==a&&a.standalone}function Ai(s,a){const d=s[Di]||null;if(!d&&!0===a)throw new Error(`Type ${Pe(s)} does not have '\u0275mod' property.`);return d}function Ro(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||Xt,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Bt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lu(s.inputs,a),outputs:Lu(s.outputs)}}function du(s){s.features?.forEach(a=>a(s))}function hu(s,a){if(!s)return null;const d=a?ns:La;return()=>("function"==typeof s?s():s).map(h=>d(h)).filter(Nl)}const li=0,en=1,sr=2,Jr=3,Fs=4,ta=5,gs=6,_o=7,Si=8,zi=9,ma=10,Mn=11,Vs=12,Va=13,eo=14,us=15,_a=16,to=17,ls=18,ya=19,cl=20,va=21,Mo=22,kl=23,no=24,Rr=25,Fu=1,xi=2,Qi=7,Ea=9,Li=11;function Fi(s){return Array.isArray(s)&&"object"==typeof s[Fu]}function Pr(s){return Array.isArray(s)&&!0===s[Fu]}function Fl(s){return 0!=(4&s.flags)}function Ds(s){return s.componentOffset>-1}function As(s){return 1==(1&s.flags)}function Ss(s){return!!s.template}function Ua(s){return 0!=(512&s[sr])}function ko(s,a){return s.hasOwnProperty(Dr)?s[Dr]:null}let ii=null,mu=!1;function xs(s){const a=ii;return ii=s,a}const Ha={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $a(s){if(!yu(s)||s.dirty){if(!s.producerMustRecompute(s)&&!Vo(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function fl(s){s.dirty=!0,function ro(s){if(void 0===s.liveConsumerNode)return;const a=mu;mu=!0;try{for(const d of s.liveConsumerNode)d.dirty||fl(d)}finally{mu=a}}(s),s.consumerMarkedDirty?.(s)}function za(s){return s&&(s.nextProducerIndex=0),xs(s)}function Yi(s,a){if(xs(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(yu(s))for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)_u(s.producerNode[d],s.producerIndexOfThis[d]);for(let d=s.nextProducerIndex;d<s.producerNode.length;d++)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Vo(s){cs(s);for(let a=0;a<s.producerNode.length;a++){const d=s.producerNode[a],h=s.producerLastReadVersion[a];if(h!==d.version||($a(d),h!==d.version))return!0}return!1}function Ia(s){if(cs(s),yu(s))for(let a=0;a<s.producerNode.length;a++)_u(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function _u(s,a){if(function Vl(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),cs(s),1===s.liveConsumerNode.length)for(let h=0;h<s.producerNode.length;h++)_u(s.producerNode[h],s.producerIndexOfThis[h]);const d=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[d],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[d],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const h=s.liveConsumerIndexOfThis[a],g=s.liveConsumerNode[a];cs(g),g.producerIndexOfThis[h]=a}}function yu(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function cs(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let ms=null;function ce(s){const a=xs(null);try{return s()}finally{xs(a)}}const bt=()=>{},tn={...Ha,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:bt};class $r{constructor(a,d,h){this.previousValue=a,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function ei(){return pn}function pn(s){return s.type.prototype.ngOnChanges&&(s.setInput=wr),hi}function hi(){const s=io(this),a=s?.current;if(a){const d=s.previous;if(d===Xt)s.previous=a;else for(let h in a)d[h]=a[h];s.current=null,this.ngOnChanges(a)}}function wr(s,a,d,h){const g=this.declaredInputs[d],v=io(s)||function Lt(s,a){return s[mi]=a}(s,{previous:Xt,current:null}),b=v.current||(v.current={}),D=v.previous,L=D[g];b[g]=new $r(L&&L.currentValue,a,D===Xt),s[h]=a}ei.ngInherit=!0;const mi="__ngSimpleChanges__";function io(s){return s[mi]||null}const rs=function(s,a,d){};function si(s){for(;Array.isArray(s);)s=s[li];return s}function ht(s,a){return si(a[s])}function At(s,a){return si(a[s.index])}function Bh(s,a){return s.data[a]}function Za(s,a){return s[a]}function vo(s,a){const d=a[s];return Fi(d)?d:d[li]}function vu(s,a){return null==a?null:s[a]}function Bo(s){s[to]=0}function Hu(s){1024&s[sr]||(s[sr]|=1024,Rs(s,1))}function kf(s){1024&s[sr]&&(s[sr]&=-1025,Rs(s,-1))}function Rs(s,a){let d=s[Jr];if(null===d)return;d[ta]+=a;let h=d;for(d=d[Jr];null!==d&&(1===a&&1===h[ta]||-1===a&&0===h[ta]);)d[ta]+=a,h=d,d=d[Jr]}const nr={lFrame:co(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mr(){return nr.bindingsEnabled}function on(){return null!==nr.skipHydrationRootTNode}function Rt(){return nr.lFrame.lView}function Vr(){return nr.lFrame.tView}function Iu(s){return nr.lFrame.contextLView=s,s[Si]}function $c(s){return nr.lFrame.contextLView=null,s}function _i(){let s=wo();for(;null!==s&&64===s.type;)s=s.parent;return s}function wo(){return nr.lFrame.currentTNode}function Io(s,a){const d=nr.lFrame;d.currentTNode=s,d.isParent=a}function zn(){return nr.lFrame.isParent}function Tu(){nr.lFrame.isParent=!1}function Bs(){const s=nr.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function A(){return nr.lFrame.bindingIndex++}function N(s){const a=nr.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}function z(s,a){const d=nr.lFrame;d.bindingIndex=d.bindingRootIndex=s,fe(a)}function fe(s){nr.lFrame.currentDirectiveIndex=s}function Nt(){return nr.lFrame.currentQueryIndex}function Tt(s){nr.lFrame.currentQueryIndex=s}function gn(s){const a=s[en];return 2===a.type?a.declTNode:1===a.type?s[gs]:null}function mr(s,a,d){if(d&wn.SkipSelf){let g=a,v=s;for(;!(g=g.parent,null!==g||d&wn.Host||(g=gn(v),null===g||(v=v[eo],10&g.type))););if(null===g)return!1;a=g,s=v}const h=nr.lFrame=_r();return h.currentTNode=a,h.lView=s,!0}function oi(s){const a=_r(),d=s[en];nr.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function _r(){const s=nr.lFrame,a=null===s?null:s.child;return null===a?co(s):a}function co(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function ba(){const s=nr.lFrame;return nr.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sa=ba;function Ho(){const s=ba();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function $o(){return nr.lFrame.selectedIndex}function Qa(s){nr.lFrame.selectedIndex=s}function Ji(){const s=nr.lFrame;return Bh(s.tView,s.selectedIndex)}let uc=!0;function zu(){return uc}function _l(s){uc=s}function yl(s,a){for(let d=a.directiveStart,h=a.directiveEnd;d<h;d++){const v=s.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:L,ngAfterViewChecked:W,ngOnDestroy:te}=v;b&&(s.contentHooks??=[]).push(-d,b),D&&((s.contentHooks??=[]).push(d,D),(s.contentCheckHooks??=[]).push(d,D)),L&&(s.viewHooks??=[]).push(-d,L),W&&((s.viewHooks??=[]).push(d,W),(s.viewCheckHooks??=[]).push(d,W)),null!=te&&(s.destroyHooks??=[]).push(d,te)}}function jh(s,a,d){Hh(s,a,3,d)}function Gu(s,a,d,h){(3&s[sr])===d&&Hh(s,a,d,h)}function zc(s,a){let d=s[sr];(3&d)===a&&(d&=8191,d+=1,s[sr]=d)}function Hh(s,a,d,h){const v=h??-1,b=a.length-1;let D=0;for(let L=void 0!==h?65535&s[to]:0;L<b;L++)if("number"==typeof a[L+1]){if(D=a[L],null!=h&&D>=h)break}else a[L]<0&&(s[to]+=65536),(D<v||-1==v)&&(js(s,d,a,L),s[to]=(4294901760&s[to])+L+2),L++}function lc(s,a){rs(4,s,a);const d=xs(null);try{a.call(s)}finally{xs(d),rs(5,s,a)}}function js(s,a,d,h){const g=d[h]<0,v=d[h+1],D=s[g?-d[h]:d[h]];g?s[sr]>>13<s[to]>>16&&(3&s[sr])===a&&(s[sr]+=8192,lc(D,v)):lc(D,v)}const aa=-1;class ua{constructor(a,d,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function qc(s){return s!==aa}function Bl(s){return 32767&s}function wd(s,a){let d=function _s(s){return s>>16}(s),h=a;for(;d>0;)h=h[eo],d--;return h}let Ja=!0;function Ri(s){const a=Ja;return Ja=s,a}const ys=255,vs=5;let jl=0;const zo={};function ca(s,a){const d=Xa(s,a);if(-1!==d)return d;const h=a[en];h.firstCreatePass&&(s.injectorIndex=a.length,Hl(h.data,s),Hl(a,null),Hl(h.blueprint,null));const g=Go(s,a),v=s.injectorIndex;if(qc(g)){const b=Bl(g),D=wd(g,a),L=D[en].data;for(let W=0;W<8;W++)a[v+W]=D[b+W]|L[b+W]}return a[v+8]=g,v}function Hl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Xa(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Go(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,h=null,g=a;for(;null!==g;){if(h=cc(g),null===h)return aa;if(d++,g=g[eo],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return aa}function Ku(s,a,d){!function Wu(s,a,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(ni)&&(h=d[ni]),null==h&&(h=d[ni]=jl++);const g=h&ys;a.data[s+(g>>vs)]|=1<<g}(s,a,d)}function Zu(s,a,d){if(d&wn.Optional||void 0!==s)return s;Ot()}function Ca(s,a,d,h){if(d&wn.Optional&&void 0===h&&(h=null),!(d&(wn.Self|wn.Host))){const g=s[zi],v=kn(void 0);try{return g?g.get(a,h,d&wn.Optional):Rn(a,h,d&wn.Optional)}finally{kn(v)}}return Zu(h,0,d)}function El(s,a,d,h=wn.Default,g){if(null!==s){if(2048&a[sr]&&!(h&wn.Self)){const b=function bo(s,a,d,h,g){let v=s,b=a;for(;null!==v&&null!==b&&2048&b[sr]&&!(512&b[sr]);){const D=Qu(v,b,d,h|wn.Self,zo);if(D!==zo)return D;let L=v.parent;if(!L){const W=b[cl];if(W){const te=W.get(d,zo,h);if(te!==zo)return te}L=cc(b),b=b[eo]}v=L}return g}(s,a,d,h,zo);if(b!==zo)return b}const v=Qu(s,a,d,h,zo);if(v!==zo)return v}return Ca(a,d,h,g)}function Qu(s,a,d,h,g){const v=function Kc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(ni)?s[ni]:void 0;return"number"==typeof a?a>=0?a&ys:zl:a}(d);if("function"==typeof v){if(!mr(a,s,h))return h&wn.Host?Zu(g,0,h):Ca(a,d,h,g);try{let b;if(b=v(h),null!=b||h&wn.Optional)return b;Ot()}finally{sa()}}else if("number"==typeof v){let b=null,D=Xa(s,a),L=aa,W=h&wn.Host?a[us][gs]:null;for((-1===D||h&wn.SkipSelf)&&(L=-1===D?Go(s,a):a[D+8],L!==aa&&Yu(h,!1)?(b=a[en],D=Bl(L),a=wd(L,a)):D=-1);-1!==D;){const te=a[en];if(nh(v,D,te.data)){const we=Wc(D,a,d,b,h,W);if(we!==zo)return we}L=a[D+8],L!==aa&&Yu(h,a[en].data[D+8]===W)&&nh(v,D,a)?(b=te,D=Bl(L),a=wd(L,a)):D=-1}}return g}function Wc(s,a,d,h,g,v){const b=a[en],D=b.data[s+8],te=$l(D,b,d,null==h?Ds(D)&&Ja:h!=b&&0!=(3&D.type),g&wn.Host&&v===D);return null!==te?eu(a,b,te,D):zo}function $l(s,a,d,h,g){const v=s.providerIndexes,b=a.data,D=1048575&v,L=s.directiveStart,te=v>>20,Ue=g?D+te:s.directiveEnd;for(let Xe=h?D:D+te;Xe<Ue;Xe++){const St=b[Xe];if(Xe<L&&d===St||Xe>=L&&St.type===d)return Xe}if(g){const Xe=b[L];if(Xe&&Ss(Xe)&&Xe.type===d)return L}return null}function eu(s,a,d,h){let g=s[d];const v=a.data;if(function $h(s){return s instanceof ua}(g)){const b=g;b.resolving&&function mt(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${d}`)}(function ut(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ke(s)}(v[d]));const D=Ri(b.canSeeViewProviders);b.resolving=!0;const W=b.injectImpl?kn(b.injectImpl):null;mr(s,h,wn.Default);try{g=s[d]=b.factory(void 0,v,s,h),a.firstCreatePass&&d>=h.directiveStart&&function oa(s,a,d){const{ngOnChanges:h,ngOnInit:g,ngDoCheck:v}=a.type.prototype;if(h){const b=pn(a);(d.preOrderHooks??=[]).push(s,b),(d.preOrderCheckHooks??=[]).push(s,b)}g&&(d.preOrderHooks??=[]).push(0-s,g),v&&((d.preOrderHooks??=[]).push(s,v),(d.preOrderCheckHooks??=[]).push(s,v))}(d,v[d],a)}finally{null!==W&&kn(W),Ri(D),b.resolving=!1,sa()}}return g}function nh(s,a,d){return!!(d[a+(s>>vs)]&1<<s)}function Yu(s,a){return!(s&wn.Self||s&wn.Host&&a)}class $s{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,h){return El(this._tNode,this._lView,a,ee(h),d)}}function zl(){return new $s(_i(),Rt())}function Zc(s){return Ye(()=>{const a=s.prototype.constructor,d=a[Dr]||Ju(a),h=Object.prototype;let g=Object.getPrototypeOf(s.prototype).constructor;for(;g&&g!==h;){const v=g[Dr]||Ju(g);if(v&&v!==d)return v;g=Object.getPrototypeOf(g)}return v=>new v})}function Ju(s){return De(s)?()=>{const a=Ju(Le(s));return a&&a()}:ko(s)}function cc(s){const a=s[en],d=a.type;return 2===d?a.declTNode:1===d?s[gs]:null}function Ni(s){return function Du(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const h=d.length;let g=0;for(;g<h;){const v=d[g];if(jn(v))break;if(0===v)g+=2;else if("number"==typeof v)for(g++;g<h&&"string"==typeof d[g];)g++;else{if(v===a)return d[g+1];g+=2}}}return null}(_i(),s)}const Aa="__parameters__";function Q(s,a,d){return Ye(()=>{const h=function F(s){return function(...d){if(s){const h=s(...d);for(const g in h)this[g]=h[g]}}}(a);function g(...v){if(this instanceof g)return h.apply(this,v),this;const b=new g(...v);return D.annotation=b,D;function D(L,W,te){const we=L.hasOwnProperty(Aa)?L[Aa]:Object.defineProperty(L,Aa,{value:[]})[Aa];for(;we.length<=te;)we.push(null);return(we[te]=we[te]||[]).push(b),L}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=s,g.annotationCls=g,g})}function dc(s,a){s.forEach(d=>Array.isArray(d)?dc(d,a):a(d))}function ng(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function hc(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Gl(s,a){const d=[];for(let h=0;h<s;h++)d.push(a);return d}function Co(s,a,d){let h=Ko(s,a);return h>=0?s[1|h]=d:(h=~h,function ih(s,a,d,h){let g=s.length;if(g==a)s.push(d,h);else if(1===g)s.push(h,s[0]),s[0]=d;else{for(g--,s.push(s[g-1],s[g]);g>a;)s[g]=s[g-2],g--;s[a]=d,s[a+1]=h}}(s,h,a,d)),h}function qh(s,a){const d=Ko(s,a);if(d>=0)return s[1|d]}function Ko(s,a){return function tu(s,a,d){let h=0,g=s.length>>d;for(;g!==h;){const v=h+(g-h>>1),b=s[v<<d];if(a===b)return v<<d;b>a?g=v:h=v+1}return~(g<<d)}(s,a,1)}const He=Qe(Q("Inject",s=>({token:s})),-1),ft=Qe(Q("Optional"),8),jt=Qe(Q("SkipSelf"),4);function Tl(s){return 128==(128&s.flags)}var Gf=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Gf||{});const gc=/^>|^->|<!--|-->|--!>|<!-$/g,Yh=/(<|>)/g,iy="\u200b$1\u200b";const Jh=new Map;let Xh=0;const lg="__ngContext__";function xa(s,a){Fi(a)?(s[lg]=a[ya],function sy(s){Jh.set(s[ya],s)}(a)):s[lg]=a}let tf;function nu(s,a){return tf(s,a)}function Kf(s){const a=s[Jr];return Pr(a)?a[Jr]:a}function el(s){return Ui(s[Vs])}function Cd(s){return Ui(s[Fs])}function Ui(s){for(;null!==s&&!Pr(s);)s=s[Fs];return s}function Qf(s,a,d,h,g){if(null!=h){let v,b=!1;Pr(h)?v=h:Fi(h)&&(b=!0,h=h[li]);const D=si(h);0===s&&null!==d?null==g?Tw(a,d,D):sf(a,d,D,g||null,!0):1===s&&null!==d?sf(a,d,D,g||null,!0):2===s?function qi(s,a,d){const h=dy(s,a);h&&function yI(s,a,d,h){s.removeChild(a,d,h)}(s,h,a,d)}(a,D,b):3===s&&a.destroyNode(D),null!=v&&function hn(s,a,d,h,g){const v=d[Qi];v!==si(d)&&Qf(a,s,h,v,g);for(let D=Li;D<d.length;D++){const L=d[D];bn(L[en],L,s,a,h,v)}}(a,s,v,d,g)}}function hg(s,a){return s.createComment(function ag(s){return s.replace(gc,a=>a.replace(Yh,iy))}(a))}function Yc(s,a,d){return s.createElement(a,d)}function Yf(s,a){const d=s[Ea],h=d.indexOf(a);kf(a),d.splice(h,1)}function nf(s,a){if(s.length<=Li)return;const d=Li+a,h=s[d];if(h){const g=h[_a];null!==g&&g!==s&&Yf(g,h),a>0&&(s[d-1][Fs]=h[Fs]);const v=hc(s,Li+a);!function Su(s,a){bn(s,a,a[Mn],2,null,null),a[li]=null,a[gs]=null}(h[en],h);const b=v[ls];null!==b&&b.detachView(v[en]),h[Jr]=null,h[Fs]=null,h[sr]&=-129}return h}function rf(s,a){if(!(256&a[sr])){const d=a[Mn];a[kl]&&Ia(a[kl]),a[no]&&Ia(a[no]),d.destroyNode&&bn(s,a,d,3,null,null),function Cl(s){let a=s[Vs];if(!a)return Jc(s[en],s);for(;a;){let d=null;if(Fi(a))d=a[Vs];else{const h=a[Li];h&&(d=h)}if(!d){for(;a&&!a[Fs]&&a!==s;)Fi(a)&&Jc(a[en],a),a=a[Jr];null===a&&(a=s),Fi(a)&&Jc(a[en],a),d=a&&a[Fs]}a=d}}(a)}}function Jc(s,a){if(!(256&a[sr])){a[sr]&=-129,a[sr]|=256,function Jf(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let h=0;h<d.length;h+=2){const g=a[d[h]];if(!(g instanceof ua)){const v=d[h+1];if(Array.isArray(v))for(let b=0;b<v.length;b+=2){const D=g[v[b]],L=v[b+1];rs(4,D,L);try{L.call(D)}finally{rs(5,D,L)}}else{rs(4,g,v);try{v.call(g)}finally{rs(5,g,v)}}}}}(s,a),function xm(s,a){const d=s.cleanup,h=a[_o];if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const b=d[v+3];b>=0?h[b]():h[-b].unsubscribe(),v+=2}else d[v].call(h[d[v+1]]);null!==h&&(a[_o]=null);const g=a[va];if(null!==g){a[va]=null;for(let v=0;v<g.length;v++)(0,g[v])()}}(s,a),1===a[en].type&&a[Mn].destroy();const d=a[_a];if(null!==d&&Pr(a[Jr])){d!==a[Jr]&&Yf(d,a);const h=a[ls];null!==h&&h.detachView(s)}!function vi(s){Jh.delete(s[ya])}(a)}}function ly(s,a,d){return function cy(s,a,d){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return d[li];{const{componentOffset:g}=h;if(g>-1){const{encapsulation:v}=s.data[h.directiveStart+g];if(v===Mt.None||v===Mt.Emulated)return null}return At(h,d)}}(s,a.parent,d)}function sf(s,a,d,h,g){s.insertBefore(a,d,h,g)}function Tw(s,a,d){s.appendChild(a,d)}function Uv(s,a,d,h,g){null!==h?sf(s,a,d,h,g):Tw(s,a,d)}function dy(s,a){return s.parentNode(a)}function Xf(s,a,d){return fy(s,a,d)}let fo,pg,Hv,rr,fy=function hy(s,a,d){return 40&s.type?At(s,d):null};function ql(s,a,d,h){const g=ly(s,h,a),v=a[Mn],D=Xf(h.parent||a[gs],h,a);if(null!=g)if(Array.isArray(d))for(let L=0;L<d.length;L++)Uv(v,g,d[L],D,!1);else Uv(v,g,d,D,!1);void 0!==fo&&fo(v,h,a,d,g)}function Xc(s,a){if(null!==a){const d=a.type;if(3&d)return At(a,s);if(4&d)return Ht(-1,s[a.index]);if(8&d){const h=a.child;if(null!==h)return Xc(s,h);{const g=s[a.index];return Pr(g)?Ht(-1,g):si(g)}}if(32&d)return nu(a,s)()||si(s[a.index]);{const h=Bv(s,a);return null!==h?Array.isArray(h)?h[0]:Xc(Kf(s[us]),h):Xc(s,a.next)}}return null}function Bv(s,a){return null!==a?s[us][gs].projection[a.projection]:null}function Ht(s,a){const d=Li+s+1;if(d<a.length){const h=a[d],g=h[en].firstChild;if(null!==g)return Xc(h,g)}return a[Qi]}function _c(s,a,d,h,g,v,b){for(;null!=d;){const D=h[d.index],L=d.type;if(b&&0===a&&(D&&xa(si(D),h),d.flags|=2),32!=(32&d.flags))if(8&L)_c(s,a,d.child,h,g,v,!1),Qf(a,s,g,D,v);else if(32&L){const W=nu(d,h);let te;for(;te=W();)Qf(a,s,g,te,v);Qf(a,s,g,D,v)}else 16&L?py(s,a,h,d,g,v):Qf(a,s,g,D,v);d=b?d.projectionNext:d.next}}function bn(s,a,d,h,g,v){_c(d,h,s.firstChild,a,g,v,!1)}function py(s,a,d,h,g,v){const b=d[us],L=b[gs].projection[h.projection];if(Array.isArray(L))for(let W=0;W<L.length;W++)Qf(a,s,g,L[W],v);else{let W=L;const te=b[Jr];Tl(h)&&(W.flags|=128),_c(s,a,W,te,g,v,!0)}}function Do(s,a,d){""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d)}function Rm(s,a,d){const{mergedAttrs:h,classes:g,styles:v}=d;null!==h&&Pn(s,a,h),null!==g&&Do(s,a,g),null!==v&&function $t(s,a,d){s.setAttribute(a,"style",d)}(s,a,v)}function ed(s){return function ep(){if(void 0===pg&&(pg=null,Un.trustedTypes))try{pg=Un.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return pg}()?.createHTML(s)||s}function Dw(s){Hv=s}function yc(){if(void 0!==Hv)return Hv;if(typeof document<"u")return document;throw new xe(210,!1)}function xu(){if(void 0===rr&&(rr=null,Un.trustedTypes))try{rr=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return rr}function Pm(s){return xu()?.createHTML(s)||s}function qn(s){return xu()?.createScriptURL(s)||s}class gg{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}function vc(s){return s instanceof gg?s.changingThisBreaksApplicationSecurity:s}function nl(s,a){const d=function Aw(s){return s instanceof gg&&s.getTypeName()||null}(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${yt})`)}return d===a}class lf{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(ed(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class _y{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=ed(a),d}}const Ws=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tp(s){return(s=String(s)).match(Ws)?s:"unsafe:"+s}function et(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function Ec(...s){const a={};for(const d of s)for(const h in d)d.hasOwnProperty(h)&&(a[h]=!0);return a}const Al=et("area,br,col,hr,img,wbr"),Dd=et("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wc=et("rp,rt"),Ad=Ec(Al,Ec(Dd,et("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ec(wc,et("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ec(wc,Dd)),ip=et("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rl=Ec(ip,et("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),et("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sp=et("script,style,template");class yg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Ad.hasOwnProperty(d))return this.sanitizedSomething=!0,!sp.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=a.attributes;for(let g=0;g<h.length;g++){const v=h.item(g),b=v.name,D=b.toLowerCase();if(!rl.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let L=v.value;ip[D]&&(L=tp(L)),this.buf.push(" ",b,'="',vg(L),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Ad.hasOwnProperty(d)&&!Al.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(vg(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const yy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ru=/([^\#-~ |!])/g;function vg(s){return s.replace(/&/g,"&amp;").replace(yy,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ru,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let op;function Eg(s){return"content"in s&&function Mm(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var fh=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(fh||{});function ph(s){const a=Ig();return a?Pm(a.sanitize(fh.HTML,s)||""):nl(s,"HTML")?Pm(vc(s)):function td(s,a){let d=null;try{op=op||function Ra(s){const a=new _y(s);return function Sw(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new lf(a):a}(s);let h=a?String(a):"";d=op.getInertBodyElement(h);let g=5,v=h;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,h=v,v=d.innerHTML,d=op.getInertBodyElement(h)}while(h!==v);return ed((new yg).sanitizeChildren(Eg(d)||d))}finally{if(d){const h=Eg(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}(yc(),Ke(s))}function Om(s){const a=Ig();return a?a.sanitize(fh.URL,s)||"":nl(s,"URL")?vc(s):tp(Ke(s))}function vy(s){const a=Ig();if(a)return qn(a.sanitize(fh.RESOURCE_URL,s)||"");if(nl(s,"ResourceURL"))return qn(vc(s));throw new xe(904,!1)}function Nm(s,a,d){return function Mw(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?vy:Om}(a,d)(s)}function Ig(){const s=Rt();return s&&s[ma].sanitizer}class Bi{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=sn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tg=new Bi("ENVIRONMENT_INITIALIZER"),km=new Bi("INJECTOR",-1),Ey=new Bi("INJECTOR_DEF_TYPES");class ap{get(a,d=kt){if(d===kt){const h=new Error(`NullInjectorError: No provider for ${Pe(a)}!`);throw h.name="NullInjectorError",h}return d}}function df(s){return{\u0275providers:s}}function Gv(...s){return{\u0275providers:wy(0,s),\u0275fromNgModule:!0}}function wy(s,...a){const d=[],h=new Set;let g;const v=b=>{d.push(b)};return dc(a,b=>{const D=b;Ks(D,v,[],h)&&(g||=[],g.push(D))}),void 0!==g&&up(g,v),d}function up(s,a){for(let d=0;d<s.length;d++){const{ngModule:h,providers:g}=s[d];Sl(g,v=>{a(v,h)})}}function Ks(s,a,d,h){if(!(s=Le(s)))return!1;let g=null,v=zr(s);const b=!v&&lr(s);if(v||b){if(b&&!b.standalone)return!1;g=s}else{const L=s.ngModule;if(v=zr(L),!v)return!1;g=L}const D=h.has(g);if(b){if(D)return!1;if(h.add(g),b.dependencies){const L="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const W of L)Ks(W,a,d,h)}}else{if(!v)return!1;{if(null!=v.imports&&!D){let W;h.add(g);try{dc(v.imports,te=>{Ks(te,a,d,h)&&(W||=[],W.push(te))})}finally{}void 0!==W&&up(W,a)}if(!D){const W=ko(g)||(()=>new g);a({provide:g,useFactory:W,deps:Bt},g),a({provide:Ey,useValue:g,multi:!0},g),a({provide:Tg,useValue:()=>lt(g),multi:!0},g)}const L=v.providers;if(null!=L&&!D){const W=s;Sl(L,te=>{a(te,W)})}}}return g!==s&&void 0!==s.providers}function Sl(s,a){for(let d of s)Fe(d)&&(d=d.\u0275providers),Array.isArray(d)?Sl(d,a):a(d)}const Lm=re({provide:String,useValue:re});function Wi(s){return null!==s&&"object"==typeof s&&Lm in s}function Pi(s){return"function"==typeof s}const nd=new Bi("Set Injector scope."),Ma={},Ty={};let qv;function Zs(){return void 0===qv&&(qv=new ap),qv}class rd{}class iu extends rd{get destroyed(){return this._destroyed}constructor(a,d,h,g){super(),this.parent=d,this.source=h,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dp(a,b=>this.processProvider(b)),this.records.set(km,Tc(void 0,this)),g.has("environment")&&this.records.set(rd,Tc(void 0,this));const v=this.records.get(nd);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(Ey.multi,Bt,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=de(this),h=kn(void 0);try{return a()}finally{de(d),kn(h)}}get(a,d=kt,h=wn.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(ps))return a[ps](this);h=ee(h);const v=de(this),b=kn(void 0);try{if(!(h&wn.SkipSelf)){let L=this.records.get(a);if(void 0===L){const W=function id(s){return"function"==typeof s||"object"==typeof s&&s instanceof Bi}(a)&&vr(a);L=W&&this.injectableDefInScope(W)?Tc(es(a),Ma):null,this.records.set(a,L)}if(null!=L)return this.hydrate(a,L)}return(h&wn.Self?Zs():this.parent).get(a,d=h&wn.Optional&&d===kt?null:d)}catch(D){if("NullInjectorError"===D.name){if((D[In]=D[In]||[]).unshift(Pe(a)),v)throw D;return function _e(s,a,d,h){const g=s[In];throw a[G]&&g.unshift(a[G]),s.message=function ze(s,a,d,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let g=Pe(a);if(Array.isArray(a))g=a.map(Pe).join(" -> ");else if("object"==typeof a){let v=[];for(let b in a)if(a.hasOwnProperty(b)){let D=a[b];v.push(b+":"+("string"==typeof D?JSON.stringify(D):Pe(D)))}g=`{${v.join(", ")}}`}return`${d}${h?"("+h+")":""}[${g}]: ${s.replace(be,"\n  ")}`}("\n"+s.message,g,d,h),s.ngTokenPath=g,s[In]=null,s}(D,a,"R3InjectorError",this.source)}throw D}finally{kn(b),de(v)}}resolveInjectorInitializers(){const a=de(this),d=kn(void 0);try{const g=this.get(Tg.multi,Bt,wn.Self);for(const v of g)v()}finally{de(a),kn(d)}}toString(){const a=[],d=this.records;for(const h of d.keys())a.push(Pe(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(a){let d=Pi(a=Le(a))?a:Le(a&&a.provide);const h=function hf(s){return Wi(s)?Tc(void 0,s.useValue):Tc(cp(s),Ma)}(a);if(Pi(a)||!0!==a.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Tc(void 0,Ma,!0),g.factory=()=>ge(g.multi),this.records.set(d,g)),d=a,g.multi.push(a)}this.records.set(d,h)}hydrate(a,d){return d.value===Ma&&(d.value=Ty,d.value=d.factory()),"object"==typeof d.value&&d.value&&function ff(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=Le(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function es(s){const a=vr(s),d=null!==a?a.factory:ko(s);if(null!==d)return d;if(s instanceof Bi)throw new xe(204,!1);if(s instanceof Function)return function Ic(s){const a=s.length;if(a>0)throw Gl(a,"?"),new xe(204,!1);const d=function ai(s){return s&&(s[Ar]||s[ui])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new xe(204,!1)}function cp(s,a,d){let h;if(Pi(s)){const g=Le(s);return ko(g)||es(g)}if(Wi(s))h=()=>Le(s.useValue);else if(function pa(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...ge(s.deps||[]));else if(function lp(s){return!(!s||!s.useExisting)}(s))h=()=>lt(Le(s.useExisting));else{const g=Le(s&&(s.useClass||s.provide));if(!function Wv(s){return!!s.deps}(s))return ko(g)||es(g);h=()=>new g(...ge(s.deps))}return h}function Tc(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function dp(s,a){for(const d of s)Array.isArray(d)?dp(d,a):d&&Fe(d)?dp(d.\u0275providers,a):a(d)}const bc=new Bi("AppId",{providedIn:"root",factory:()=>Cc}),Cc="ng",pf=new Bi("Platform Initializer"),Wl=new Bi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hp=new Bi("CSP nonce",{providedIn:"root",factory:()=>yc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zv=(s,a,d)=>null;function ji(s,a,d=!1){return Zv(s,a,d)}class Ay{}class Yv{}class Ow{resolveComponentFactory(a){throw function Hm(s){const a=Error(`No component factory found for ${Pe(s)}.`);return a.ngComponent=s,a}(a)}}let Eh=(()=>{class a{}return a.NULL=new Ow,a})();function sd(){return Zl(_i(),Rt())}function Zl(s,a){return new Md(At(s,a))}let Md=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=sd,a})();function Od(s){return s instanceof Md?s.nativeElement:s}class xg{}let eE=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function Nd(){const s=Rt(),d=vo(_i().index,s);return(Fi(d)?d:s)[Mn]}(),a})(),Sy=(()=>{var s;class a{}return(s=a).\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),a})();class wh{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const xy=new wh("16.2.5"),gf={};function od(s,a=null,d=null,h){const g=Pg(s,a,d,h);return g.resolveInjectorInitializers(),g}function Pg(s,a=null,d=null,h,g=new Set){const v=[d||Bt,Gv(s)];return h=h||("object"==typeof s?void 0:Pe(s)),new iu(v,a||Zs(),h||null,g)}let su=(()=>{var s;class a{static create(h,g){if(Array.isArray(h))return od({name:""},g,h,"");{const v=h.name??"";return od({name:v},h.parent,h.providers,v)}}}return(s=a).THROW_IF_NOT_FOUND=kt,s.NULL=new ap,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>lt(km)}),s.__NG_ELEMENT_ID__=-1,a})();function po(s){return s.ngOriginalError}class Ld{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&po(a);for(;d&&po(d);)d=po(d);return d||null}}function Fd(s){return a=>{setTimeout(s,void 0,a)}}const ad=class Gm extends w.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,h){let g=a,v=d||(()=>null),b=h;if(a&&"object"==typeof a){const L=a;g=L.next?.bind(L),v=L.error?.bind(L),b=L.complete?.bind(L)}this.__isAsync&&(v=Fd(v),g&&(g=Fd(g)),b&&(b=Fd(b)));const D=super.subscribe({next:g,error:v,complete:b});return a instanceof ie.w0&&a.add(D),D}};function nE(...s){}class So{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ad(!1),this.onMicrotaskEmpty=new ad(!1),this.onStable=new ad(!1),this.onError=new ad(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!h&&d,g.shouldCoalesceRunChangeDetection=h,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Ur(){const s="function"==typeof Un.requestAnimationFrame;let a=Un[s?"requestAnimationFrame":"setTimeout"],d=Un[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const g=d[Zone.__symbol__("OriginalDelegate")];g&&(d=g)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function kw(s){const a=()=>{!function My(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Wm(s),s.isCheckStableRunning=!0,qm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Wm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,g,v,b,D)=>{if(function Vd(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(D))return d.invokeTask(g,v,b,D);try{return Oy(s),d.invokeTask(g,v,b,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||s.shouldCoalesceRunChangeDetection)&&a(),Ny(s)}},onInvoke:(d,h,g,v,b,D,L)=>{try{return Oy(s),d.invoke(g,v,b,D,L)}finally{s.shouldCoalesceRunChangeDetection&&a(),Ny(s)}},onHasTask:(d,h,g,v)=>{d.hasTask(g,v),h===g&&("microTask"==v.change?(s._hasPendingMicrotasks=v.microTask,Wm(s),qm(s)):"macroTask"==v.change&&(s.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,h,g,v)=>(d.handleError(g,v),s.runOutsideAngular(()=>s.onError.emit(v)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(So.isInAngularZone())throw new xe(909,!1)}run(a,d,h){return this._inner.run(a,d,h)}runTask(a,d,h,g){const v=this._inner,b=v.scheduleEventTask("NgZoneEvent: "+g,a,Py,nE,nE);try{return v.runTask(b,d,h)}finally{v.cancelTask(b)}}runGuarded(a,d,h){return this._inner.runGuarded(a,d,h)}runOutsideAngular(a){return this._outer.run(a)}}const Py={};function qm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Wm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Oy(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ny(s){s._nesting--,qm(s)}class vp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ad,this.onMicrotaskEmpty=new ad,this.onStable=new ad,this.onError=new ad}run(a,d,h){return a.apply(d,h)}runGuarded(a,d,h){return a.apply(d,h)}runOutsideAngular(a){return a()}runTask(a,d,h,g){return a.apply(d,h)}}const bh=new Bi("",{providedIn:"root",factory:ky});function ky(){const s=Me(So);let a=!0;const d=new Y.y(g=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{g.next(a),g.complete()})}),h=new Y.y(g=>{let v;s.runOutsideAngular(()=>{v=s.onStable.subscribe(()=>{So.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,g.next(!0))})})});const b=s.onUnstable.subscribe(()=>{So.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{g.next(!1)}))});return()=>{v.unsubscribe(),b.unsubscribe()}});return(0,ue.T)(d,h.pipe((0,Ie.B)()))}function Mg(s){return s.ownerDocument.defaultView}function xl(s){return s instanceof Function?s():s}let wp=(()=>{var s;class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(s=a).\u0275prov=sn({token:s,providedIn:"root",factory:()=>new s}),a})();function Og(s){for(;s;){s[sr]|=64;const a=Kf(s);if(Ua(s)&&!a)return s;s=a}return null}const Ng=new Bi("",{providedIn:"root",factory:()=>!1});let Ps=null;function Fy(s,a){return s[a]??aE()}function Lg(s,a){const d=aE();d.producerNode?.length&&(s[a]=Ps,d.lView=s,Ps=Fg())}const Jm={...Ha,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Og(s.lView)},lView:null};function Fg(){return Object.create(Jm)}function aE(){return Ps??=Fg(),Ps}const Sr={};function Vy(s){bp(Vr(),Rt(),$o()+s,!1)}function bp(s,a,d,h){if(!h)if(3==(3&a[sr])){const v=s.preOrderCheckHooks;null!==v&&jh(a,v,d)}else{const v=s.preOrderHooks;null!==v&&Gu(a,v,0,d)}Qa(d)}function Rc(s,a=wn.Default){const d=Rt();return null===d?lt(s,a):El(_i(),d,Le(s),a)}function Sh(){throw new Error("invalid")}function vf(s,a,d,h,g,v,b,D,L,W,te){const we=a.blueprint.slice();return we[li]=g,we[sr]=140|h,(null!==W||s&&2048&s[sr])&&(we[sr]|=2048),Bo(we),we[Jr]=we[eo]=s,we[Si]=d,we[ma]=b||s&&s[ma],we[Mn]=D||s&&s[Mn],we[zi]=L||s&&s[zi]||null,we[gs]=v,we[ya]=function Lv(){return Xh++}(),we[Mo]=te,we[cl]=W,we[us]=2==a.type?s[us]:we,we}function Ef(s,a,d,h,g){let v=s.data[a];if(null===v)v=function Dp(s,a,d,h,g){const v=wo(),b=zn(),L=s.data[a]=function uE(s,a,d,h,g,v){let b=a?a.injectorIndex:-1,D=0;return on()&&(D|=128),{type:d,index:h,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:g,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?v:v&&v.parent,d,a,h,g);return null===s.firstChild&&(s.firstChild=L),null!==v&&(b?null==v.child&&null!==L.parent&&(v.child=L):null===v.next&&(v.next=L,L.prev=v)),L}(s,a,d,h,g),function V(){return nr.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=d,v.value=h,v.attrs=g;const b=function dn(){const s=nr.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();v.injectorIndex=null===b?-1:b.injectorIndex}return Io(v,!0),v}function Ap(s,a,d,h){if(0===d)return-1;const g=a.length;for(let v=0;v<d;v++)a.push(h),s.blueprint.push(h),s.data.push(null);return g}function Xm(s,a,d,h,g){const v=Fy(a,kl),b=$o(),D=2&h;try{Qa(-1),D&&a.length>Rr&&bp(s,a,Rr,!1),rs(D?2:0,g);const W=D?v:null,te=za(W);try{null!==W&&(W.dirty=!1),d(h,g)}finally{Yi(W,te)}}finally{D&&null===a[kl]&&Lg(a,kl),Qa(b),rs(D?3:1,g)}}function Sp(s,a,d){if(Fl(a)){const h=xs(null);try{const v=a.directiveEnd;for(let b=a.directiveStart;b<v;b++){const D=s.data[b];D.contentQueries&&D.contentQueries(1,d[b],b)}}finally{xs(h)}}}function xp(s,a,d){Mr()&&(function lE(s,a,d,h){const g=d.directiveStart,v=d.directiveEnd;Ds(d)&&function xh(s,a,d){const h=At(a,s),g=Rp(d);let b=16;d.signals?b=4096:d.onPush&&(b=64);const D=If(s,vf(s,g,null,b,h,a,null,s[ma].rendererFactory.createRenderer(h,d),null,null,null));s[a.index]=D}(a,d,s.data[g+d.componentOffset]),s.firstCreatePass||ca(d,a),xa(h,a);const b=d.initialInputs;for(let D=g;D<v;D++){const L=s.data[D],W=eu(a,s,D,d);xa(W,a),null!==b&&Uw(0,D-g,W,L,0,b),Ss(L)&&(vo(d.index,a)[Si]=eu(a,s,D,d))}}(s,a,d,At(d,a)),64==(64&d.flags)&&Ug(s,a,d))}function Uy(s,a,d=At){const h=a.localNames;if(null!==h){let g=a.index+1;for(let v=0;v<h.length;v+=2){const b=h[v+1],D=-1===b?d(a,s):s[b];s[g++]=D}}}function Rp(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=By(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function By(s,a,d,h,g,v,b,D,L,W,te){const we=Rr+h,Ue=we+g,Xe=function jy(s,a){const d=[];for(let h=0;h<a;h++)d.push(h<s?null:Sr);return d}(we,Ue),St="function"==typeof W?W():W;return Xe[en]={type:s,blueprint:Xe,template:d,queries:null,viewQuery:D,declTNode:a,data:Xe.slice().fill(null,we),bindingStartIndex:we,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:L,consts:St,incompleteFirstPass:!1,ssrId:te}}let t_=s=>null;function Pp(s,a,d,h){for(let g in s)if(s.hasOwnProperty(g)){d=null===d?{}:d;const v=s[g];null===h?il(d,a,g,v):h.hasOwnProperty(g)&&il(d,a,h[g],v)}return d}function il(s,a,d,h){s.hasOwnProperty(d)?s[d].push(a,h):s[d]=[a,h]}function Qo(s,a,d,h,g,v,b,D){const L=At(a,d);let te,W=a.inputs;!D&&null!=W&&(te=W[h])?(kp(s,d,te,h,g),Ds(a)&&function $y(s,a){const d=vo(a,s);16&d[sr]||(d[sr]|=64)}(d,a.index)):3&a.type&&(h=function r_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),g=null!=b?b(g,a.value||"",h):g,v.setProperty(L,h,g))}function Mp(s,a,d,h){if(Mr()){const g=null===h?null:{"":-1},v=function wf(s,a){const d=s.directiveRegistry;let h=null,g=null;if(d)for(let v=0;v<d.length;v++){const b=d[v];if(tt(a,b.selectors,!1))if(h||(h=[]),Ss(b))if(null!==b.findHostDirectiveDefs){const D=[];g=g||new Map,b.findHostDirectiveDefs(b,D,g),h.unshift(...D,b),Bg(s,a,D.length)}else h.unshift(b),Bg(s,a,0);else g=g||new Map,b.findHostDirectiveDefs?.(b,h,g),h.push(b)}return null===h?null:[h,g]}(s,d);let b,D;null===v?b=D=null:[b,D]=v,null!==b&&s_(s,a,d,b,g,D),g&&function cE(s,a,d){if(a){const h=s.localNames=[];for(let g=0;g<a.length;g+=2){const v=d[a[g+1]];if(null==v)throw new xe(-301,!1);h.push(a[g],v)}}}(d,h,g)}d.mergedAttrs=bs(d.mergedAttrs,d.attrs)}function s_(s,a,d,h,g,v){for(let W=0;W<h.length;W++)Ku(ca(d,a),s,h[W].type);!function Vw(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}(d,s.data.length,h.length);for(let W=0;W<h.length;W++){const te=h[W];te.providersResolver&&te.providersResolver(te)}let b=!1,D=!1,L=Ap(s,a,h.length,null);for(let W=0;W<h.length;W++){const te=h[W];d.mergedAttrs=bs(d.mergedAttrs,te.hostAttrs),dE(s,d,a,L,te),Fw(L,te,g),null!==te.contentQueries&&(d.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(d.flags|=64);const we=te.type.prototype;!b&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((s.preOrderHooks??=[]).push(d.index),b=!0),!D&&(we.ngOnChanges||we.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(d.index),D=!0),L++}!function Vg(s,a,d){const g=a.directiveEnd,v=s.data,b=a.attrs,D=[];let L=null,W=null;for(let te=a.directiveStart;te<g;te++){const we=v[te],Ue=d?d.get(we):null,St=Ue?Ue.outputs:null;L=Pp(we.inputs,te,L,Ue?Ue.inputs:null),W=Pp(we.outputs,te,W,St);const Jt=null===L||null===b||Cs(a)?null:Bd(L,te,b);D.push(Jt)}null!==L&&(L.hasOwnProperty("class")&&(a.flags|=8),L.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=D,a.inputs=L,a.outputs=W}(s,d,v)}function Ug(s,a,d){const h=d.directiveStart,g=d.directiveEnd,v=d.index,b=function se(){return nr.lFrame.currentDirectiveIndex}();try{Qa(v);for(let D=h;D<g;D++){const L=s.data[D],W=a[D];fe(D),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&o_(L,W)}}finally{Qa(-1),fe(b)}}function o_(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Bg(s,a,d){a.componentOffset=d,(s.components??=[]).push(a.index)}function Fw(s,a,d){if(d){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)d[a.exportAs[h]]=s;Ss(a)&&(d[""]=s)}}function dE(s,a,d,h,g){s.data[h]=g;const v=g.factory||(g.factory=ko(g.type)),b=new ua(v,Ss(g),Rc);s.blueprint[h]=b,d[h]=b,function Op(s,a,d,h,g){const v=g.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const D=~a.index;(function Np(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(b)!=D&&b.push(D),b.push(d,h,v)}}(s,a,h,Ap(s,d,g.hostVars,Sr),g)}function ou(s,a,d,h,g,v){const b=At(s,a);!function a_(s,a,d,h,g,v,b){if(null==v)s.removeAttribute(a,g,d);else{const D=null==b?Ke(v):b(v,h||"",g);s.setAttribute(a,g,D,d)}}(a[Mn],b,v,s.value,d,h,g)}function Uw(s,a,d,h,g,v){const b=v[a];if(null!==b)for(let D=0;D<b.length;)Gy(h,d,b[D++],b[D++],b[D++])}function Gy(s,a,d,h,g){const v=xs(null);try{const b=s.inputTransforms;null!==b&&b.hasOwnProperty(h)&&(g=b[h].call(a,g)),null!==s.setInput?s.setInput(a,g,d,h):a[h]=g}finally{xs(v)}}function Bd(s,a,d){let h=null,g=0;for(;g<d.length;){const v=d[g];if(0!==v)if(5!==v){if("number"==typeof v)break;if(s.hasOwnProperty(v)){null===h&&(h=[]);const b=s[v];for(let D=0;D<b.length;D+=2)if(b[D]===a){h.push(v,b[D+1],d[g+1]);break}}g+=2}else g+=2;else g+=4}return h}function u_(s,a,d,h){return[s,!0,!1,a,null,0,h,d,null,null,null]}function qy(s,a){const d=s.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const v=d[h+1];if(-1!==v){const b=s.data[v];Tt(d[h]),b.contentQueries(2,a[v],v)}}}function If(s,a){return s[Vs]?s[Va][Fs]=a:s[Vs]=a,s[Va]=a,a}function Tf(s,a,d){Tt(0);const h=xs(null);try{a(s,d)}finally{xs(h)}}function jd(s){return s[_o]||(s[_o]=[])}function Mc(s){return s.cleanup||(s.cleanup=[])}function l_(s,a){const d=s[zi],h=d?d.get(Ld,null):null;h&&h.handleError(a)}function kp(s,a,d,h,g){for(let v=0;v<d.length;){const b=d[v++],D=d[v++];Gy(s.data[b],a[b],h,D,g)}}function Pu(s,a,d){const h=ht(a,s);!function bl(s,a,d){s.setValue(a,d)}(s[Mn],h,d)}function Wy(s,a){const d=vo(a,s),h=d[en];!function Qs(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])}(h,d);const g=d[li];null!==g&&null===d[Mo]&&(d[Mo]=ji(g,d[zi])),Yo(h,d,d[Si])}function Yo(s,a,d){oi(a);try{const h=s.viewQuery;null!==h&&Tf(1,h,d);const g=s.template;null!==g&&Xm(s,a,g,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&qy(s,a),s.staticViewQueries&&Tf(2,s.viewQuery,d);const v=s.components;null!==v&&function Oc(s,a){for(let d=0;d<a.length;d++)Wy(s,a[d])}(a,v)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[sr]&=-5,Ho()}}let Ky=(()=>{var s;class a{constructor(){this.all=new Set,this.queue=new Map}create(h,g,v){const b=typeof Zone>"u"?null:Zone.current,D=function Ne(s,a,d){const h=Object.create(tn);d&&(h.consumerAllowSignalWrites=!0),h.fn=s,h.schedule=a;const g=b=>{h.cleanupFn=b};return h.ref={notify:()=>fl(h),run:()=>{if(h.dirty=!1,h.hasRun&&!Vo(h))return;h.hasRun=!0;const b=za(h);try{h.cleanupFn(),h.cleanupFn=bt,h.fn(g)}finally{Yi(h,b)}},cleanup:()=>h.cleanupFn()},h.ref}(h,te=>{this.all.has(te)&&this.queue.set(te,b)},v);let L;this.all.add(D),D.notify();const W=()=>{D.cleanup(),L?.(),this.all.delete(D),this.queue.delete(D)};return L=g?.onDestroy(W),{destroy:W}}flush(){if(0!==this.queue.size)for(const[h,g]of this.queue)this.queue.delete(h),g?g.run(()=>h.run()):h.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=a).\u0275prov=sn({token:s,providedIn:"root",factory:()=>new s}),a})();function Hd(s,a,d){let h=d?s.styles:null,g=d?s.classes:null,v=0;if(null!==a)for(let b=0;b<a.length;b++){const D=a[b];"number"==typeof D?v=D:1==v?g=Be(g,D):2==v&&(h=Be(h,D+": "+a[++b]+";"))}d?s.styles=h:s.stylesWithoutHost=h,d?s.classes=g:s.classesWithoutHost=g}function Nc(s,a,d,h,g=!1){for(;null!==d;){const v=a[d.index];null!==v&&h.push(si(v)),Pr(v)&&d_(v,h);const b=d.type;if(8&b)Nc(s,a,d.child,h);else if(32&b){const D=nu(d,a);let L;for(;L=D();)h.push(L)}else if(16&b){const D=Bv(a,d);if(Array.isArray(D))h.push(...D);else{const L=Kf(a[us]);Nc(L[en],L,D,h,!0)}}d=g?d.projectionNext:d.next}return h}function d_(s,a){for(let d=Li;d<s.length;d++){const h=s[d],g=h[en].firstChild;null!==g&&Nc(h[en],h,g,a)}s[Qi]!==s[li]&&a.push(s[Qi])}function jg(s,a,d,h=!0){const g=a[ma],v=g.rendererFactory,b=g.afterRenderEventManager;v.begin?.(),b?.begin();try{fE(s,a,s.template,d)}catch(L){throw h&&l_(a,L),L}finally{v.end?.(),g.effectManager?.flush(),b?.end()}}function fE(s,a,d,h){const g=a[sr];if(256!=(256&g)){a[ma].effectManager?.flush(),oi(a);try{Bo(a),function bu(s){return nr.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&Xm(s,a,d,2,h);const b=3==(3&g);if(b){const W=s.preOrderCheckHooks;null!==W&&jh(a,W,null)}else{const W=s.preOrderHooks;null!==W&&Gu(a,W,0,null),zc(a,0)}if(function Lp(s){for(let a=el(s);null!==a;a=Cd(a)){if(!a[xi])continue;const d=a[Ea];for(let h=0;h<d.length;h++){Hu(d[h])}}}(a),Zi(a,2),null!==s.contentQueries&&qy(s,a),b){const W=s.contentCheckHooks;null!==W&&jh(a,W)}else{const W=s.contentHooks;null!==W&&Gu(a,W,1),zc(a,1)}!function Cp(s,a){const d=s.hostBindingOpCodes;if(null===d)return;const h=Fy(a,no);try{for(let g=0;g<d.length;g++){const v=d[g];if(v<0)Qa(~v);else{const b=v,D=d[++g],L=d[++g];z(D,b),h.dirty=!1;const W=za(h);try{L(2,a[b])}finally{Yi(h,W)}}}}finally{null===a[no]&&Lg(a,no),Qa(-1)}}(s,a);const D=s.components;null!==D&&h_(a,D,0);const L=s.viewQuery;if(null!==L&&Tf(2,L,h),b){const W=s.viewCheckHooks;null!==W&&jh(a,W)}else{const W=s.viewHooks;null!==W&&Gu(a,W,2),zc(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[sr]&=-73,kf(a)}finally{Ho()}}}function Zi(s,a){for(let d=el(s);null!==d;d=Cd(d))for(let h=Li;h<d.length;h++)Ys(d[h],a)}function Rh(s,a,d){Ys(vo(a,s),d)}function Ys(s,a){if(!function Ul(s){return 128==(128&s[sr])}(s))return;const d=s[en],h=s[sr];if(80&h&&0===a||1024&h||2===a)fE(d,s,d.template,s[Si]);else if(s[ta]>0){Zi(s,1);const g=d.components;null!==g&&h_(s,g,1)}}function h_(s,a,d){for(let h=0;h<a.length;h++)Rh(s,a[h],d)}class Fp{get rootNodes(){const a=this._lView,d=a[en];return Nc(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Si]}set context(a){this._lView[Si]=a}get destroyed(){return 256==(256&this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Jr];if(Pr(a)){const d=a[8],h=d?d.indexOf(this):-1;h>-1&&(nf(a,h),hc(d,h))}this._attachedToViewContainer=!1}rf(this._lView[en],this._lView)}onDestroy(a){!function or(s,a){if(256==(256&s[sr]))throw new xe(911,!1);null===s[va]&&(s[va]=[]),s[va].push(a)}(this._lView,a)}markForCheck(){Og(this._cdRefInjectingView||this._lView)}detach(){this._lView[sr]&=-129}reattach(){this._lView[sr]|=128}detectChanges(){jg(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uy(s,a){bn(s,a,a[Mn],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=a}}class jw extends Fp{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;jg(a[en],a,a[Si],!1)}checkNoChanges(){}get context(){return null}}class Hg extends Eh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=lr(a);return new Cf(d,this.ngModule)}}function f_(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class Zy{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,h){h=ee(h);const g=this.injector.get(a,gf,h);return g!==gf||d===gf?g:this.parentInjector.get(a,d,h)}}class Cf extends Yv{get inputs(){const a=this.componentDef,d=a.inputTransforms,h=f_(a.inputs);if(null!==d)for(const g of h)d.hasOwnProperty(g.propName)&&(g.transform=d[g.propName]);return h}get outputs(){return f_(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function ka(s){return s.map(Hr).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,h,g){let v=(g=g||this.ngModule)instanceof rd?g:g?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const b=v?new Zy(a,v):a,D=b.get(xg,null);if(null===D)throw new xe(407,!1);const we={rendererFactory:D,sanitizer:b.get(Sy,null),effectManager:b.get(Ky,null),afterRenderEventManager:b.get(wp,null)},Ue=D.createRenderer(null,this.componentDef),Xe=this.componentDef.selectors[0][0]||"div",St=h?function e_(s,a,d,h){const v=h.get(Ng,!1)||d===Mt.ShadowDom,b=s.selectRootElement(a,v);return function Pc(s){t_(s)}(b),b}(Ue,h,this.componentDef.encapsulation,b):Yc(Ue,Xe,function pE(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(Xe)),er=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ut=null;null!==St&&(Ut=ji(St,b,!0));const Br=By(0,null,null,1,0,null,null,null,null,null,null),ci=vf(null,Br,null,er,null,null,we,Ue,b,null,Ut);let Is,Uc;oi(ci);try{const eg=this.componentDef;let Mv,cb=null;eg.findHostDirectiveDefs?(Mv=[],cb=new Map,eg.findHostDirectiveDefs(eg,Mv,cb),Mv.push(eg)):Mv=[eg];const sS=function p_(s,a){const d=s[en],h=Rr;return s[h]=a,Ef(d,h,2,"#host",null)}(ci,St),oS=function $w(s,a,d,h,g,v,b){const D=g[en];!function g_(s,a,d,h){for(const g of s)a.mergedAttrs=bs(a.mergedAttrs,g.hostAttrs);null!==a.mergedAttrs&&(Hd(a,a.mergedAttrs,!0),null!==d&&Rm(h,d,a))}(h,s,a,b);let L=null;null!==a&&(L=ji(a,g[zi]));const W=v.rendererFactory.createRenderer(a,d);let te=16;d.signals?te=4096:d.onPush&&(te=64);const we=vf(g,Rp(d),null,te,g[s.index],s,v,W,null,null,L);return D.firstCreatePass&&Bg(D,s,h.length-1),If(g,we),g[s.index]=we}(sS,St,eg,Mv,ci,we,Ue);Uc=Bh(Br,Rr),St&&function zw(s,a,d,h){if(h)Pn(s,d,["ng-version",xy.full]);else{const{attrs:g,classes:v}=function Kr(s){const a=[],d=[];let h=1,g=2;for(;h<s.length;){let v=s[h];if("string"==typeof v)2===g?""!==v&&a.push(v,s[++h]):8===g&&d.push(v);else{if(!je(g))break;g=v}h++}return{attrs:a,classes:d}}(a.selectors[0]);g&&Pn(s,d,g),v&&v.length>0&&Do(s,d,v.join(" "))}}(Ue,eg,St,h),void 0!==d&&function $d(s,a,d){const h=s.projection=[];for(let g=0;g<a.length;g++){const v=d[g];h.push(null!=v?Array.from(v):null)}}(Uc,this.ngContentSelectors,d),Is=function Ph(s,a,d,h,g,v){const b=_i(),D=g[en],L=At(b,g);s_(D,g,b,d,null,h);for(let te=0;te<d.length;te++)xa(eu(g,D,b.directiveStart+te,b),g);Ug(D,g,b),L&&xa(L,g);const W=eu(g,D,b.directiveStart+b.componentOffset,b);if(s[Si]=g[Si]=W,null!==v)for(const te of v)te(W,a);return Sp(D,b,s),W}(oS,eg,Mv,cb,ci,[Rl]),Yo(Br,ci,null)}finally{Ho()}return new Hw(this.componentType,Is,Zl(Uc,ci),ci,Uc)}}class Hw extends Ay{constructor(a,d,h,g,v){super(),this.location=h,this._rootLView=g,this._tNode=v,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new jw(g),this.componentType=a}setInput(a,d){const h=this._tNode.inputs;let g;if(null!==h&&(g=h[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const v=this._rootLView;kp(v[en],v,g,a,d),this.previousInputValues.set(a,d),Og(vo(this._tNode.index,v))}}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Rl(){const s=_i();yl(Rt()[en],s)}function sl(s){let a=function $g(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const h=[s];for(;a;){let g;if(Ss(s))g=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new xe(903,!1);g=a.\u0275dir}if(g){if(d){h.push(g);const b=s;b.inputs=Gg(s.inputs),b.inputTransforms=Gg(s.inputTransforms),b.declaredInputs=Gg(s.declaredInputs),b.outputs=Gg(s.outputs);const D=g.hostBindings;D&&qg(s,D);const L=g.viewQuery,W=g.contentQueries;if(L&&au(s,L),W&&Qy(s,W),ye(s.inputs,g.inputs),ye(s.declaredInputs,g.declaredInputs),ye(s.outputs,g.outputs),null!==g.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),ye(b.inputTransforms,g.inputTransforms)),Ss(g)&&g.data.animation){const te=s.data;te.animation=(te.animation||[]).concat(g.data.animation)}}const v=g.features;if(v)for(let b=0;b<v.length;b++){const D=v[b];D&&D.ngInherit&&D(s),D===sl&&(d=!1)}}a=Object.getPrototypeOf(a)}!function zg(s){let a=0,d=null;for(let h=s.length-1;h>=0;h--){const g=s[h];g.hostVars=a+=g.hostVars,g.hostAttrs=bs(g.hostAttrs,d=bs(d,g.hostAttrs))}}(h)}function Gg(s){return s===Xt?{}:s===Bt?[]:s}function au(s,a){const d=s.viewQuery;s.viewQuery=d?(h,g)=>{a(h,g),d(h,g)}:a}function Qy(s,a){const d=s.contentQueries;s.contentQueries=d?(h,g,v)=>{a(h,g,v),d(h,g,v)}:a}function qg(s,a){const d=s.hostBindings;s.hostBindings=d?(h,g)=>{a(h,g),d(h,g)}:a}function qd(s){const a=s.inputConfig,d={};for(const h in a)if(a.hasOwnProperty(h)){const g=a[h];Array.isArray(g)&&g[2]&&(d[h]=g[2])}s.inputTransforms=d}function Vp(s){return!!Kg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Kg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Mu(s,a,d){return s[a]=d}function uu(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function kc(s,a,d,h){const g=uu(s,a,d);return uu(s,a+1,h)||g}function Pl(s,a,d,h){const g=Rt();return uu(g,A(),a)&&(Vr(),ou(Ji(),g,s,a,d,h)),Pl}function cd(s,a,d,h){return uu(s,A(),d)?a+Ke(d)+h:Sr}function Oh(s,a,d,h,g,v){const D=kc(s,function To(){return nr.lFrame.bindingIndex}(),d,g);return N(2),D?a+Ke(d)+h+Ke(g)+v:Sr}function A_(s,a,d,h,g,v,b,D){const L=Rt(),W=Vr(),te=s+Rr,we=W.firstCreatePass?function rv(s,a,d,h,g,v,b,D,L){const W=a.consts,te=Ef(a,s,4,b||null,vu(W,D));Mp(a,d,te,vu(W,L)),yl(a,te);const we=te.tView=By(2,te,h,g,v,a.directiveRegistry,a.pipeRegistry,null,a.schemas,W,null);return null!==a.queries&&(a.queries.template(a,te),we.queries=a.queries.embeddedTView(te)),te}(te,W,L,a,d,h,g,v,b):W.data[te];Io(we,!1);const Ue=Wd(W,L,we,s);zu()&&ql(W,L,Ue,we),xa(Ue,L),If(L,L[te]=u_(Ue,L,Ue,we)),As(we)&&xp(W,L,we),null!=b&&Uy(L,we,D)}let Wd=function em(s,a,d,h){return _l(!0),a[Mn].createComment("")};function iv(s){return Za(function ot(){return nr.lFrame.contextLView}(),Rr+s)}function ME(s,a,d){const h=Rt();return uu(h,A(),a)&&Qo(Vr(),Ji(),h,s,a,h[Mn],d,!1),ME}function sv(s,a,d,h,g){const b=g?"class":"style";kp(s,d,a.inputs[b],b,h)}function ov(s,a,d,h){const g=Rt(),v=Vr(),b=Rr+s,D=g[Mn],L=v.firstCreatePass?function Ou(s,a,d,h,g,v){const b=a.consts,L=Ef(a,s,2,h,vu(b,g));return Mp(a,d,L,vu(b,v)),null!==L.attrs&&Hd(L,L.attrs,!1),null!==L.mergedAttrs&&Hd(L,L.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,L),L}(b,v,g,a,d,h):v.data[b],W=$p(v,g,L,D,a,s);g[b]=W;const te=As(L);return Io(L,!0),Rm(D,W,L),32!=(32&L.flags)&&zu()&&ql(v,g,W,L),0===function jo(){return nr.lFrame.elementDepthCount}()&&xa(W,g),function Xn(){nr.lFrame.elementDepthCount++}(),te&&(xp(v,g,L),Sp(v,L,g)),null!==h&&Uy(g,L),ov}function x_(){let s=_i();zn()?Tu():(s=s.parent,Io(s,!1));const a=s;(function Eu(s){return nr.skipHydrationRootTNode===s})(a)&&function Ta(){nr.skipHydrationRootTNode=null}(),function Jd(){nr.lFrame.elementDepthCount--}();const d=Vr();return d.firstCreatePass&&(yl(d,s),Fl(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Xi(s){return 0!=(8&s.flags)}(a)&&sv(d,a,Rt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function zh(s){return 0!=(16&s.flags)}(a)&&sv(d,a,Rt(),a.stylesWithoutHost,!1),x_}function tm(s,a,d,h){return ov(s,a,d,h),x_(),tm}let $p=(s,a,d,h,g,v)=>(_l(!0),Yc(h,g,function th(){return nr.lFrame.currentNamespace}()));function R_(s,a,d){const h=Rt(),g=Vr(),v=s+Rr,b=g.firstCreatePass?function TI(s,a,d,h,g){const v=a.consts,b=vu(v,h),D=Ef(a,s,8,"ng-container",b);return null!==b&&Hd(D,b,!0),Mp(a,d,D,vu(v,g)),null!==a.queries&&a.queries.elementStart(a,D),D}(v,g,h,a,d):g.data[v];Io(b,!0);const D=P_(g,h,b,s);return h[v]=D,zu()&&ql(g,h,D,b),xa(D,h),As(b)&&(xp(g,h,b),Sp(g,b,h)),null!=d&&Uy(h,b),R_}function nm(){let s=_i();const a=Vr();return zn()?Tu():(s=s.parent,Io(s,!1)),a.firstCreatePass&&(yl(a,s),Fl(s)&&a.queries.elementEnd(s)),nm}let P_=(s,a,d,h)=>(_l(!0),hg(a[Mn],""));function zp(){return Rt()}function rm(s){return!!s&&"function"==typeof s.then}function Pf(s){return!!s&&"function"==typeof s.subscribe}function im(s,a,d,h){const g=Rt(),v=Vr(),b=_i();return function sm(s,a,d,h,g,v,b){const D=As(h),W=s.firstCreatePass&&Mc(s),te=a[Si],we=jd(a);let Ue=!0;if(3&h.type||b){const Jt=At(h,a),Dn=b?b(Jt):Jt,er=we.length,Ut=b?ci=>b(si(ci[h.index])):h.index;let Br=null;if(!b&&D&&(Br=function O_(s,a,d,h){const g=s.cleanup;if(null!=g)for(let v=0;v<g.length-1;v+=2){const b=g[v];if(b===d&&g[v+1]===h){const D=a[_o],L=g[v+2];return D.length>L?D[L]:null}"string"==typeof b&&(v+=2)}return null}(s,a,g,h.index)),null!==Br)(Br.__ngLastListenerFn__||Br).__ngNextListenerFn__=v,Br.__ngLastListenerFn__=v,Ue=!1;else{v=t(h,a,te,v,!1);const ci=d.listen(Dn,g,v);we.push(v,ci),W&&W.push(g,Ut,er,er+1)}}else v=t(h,a,te,v,!1);const Xe=h.outputs;let St;if(Ue&&null!==Xe&&(St=Xe[g])){const Jt=St.length;if(Jt)for(let Dn=0;Dn<Jt;Dn+=2){const Is=a[St[Dn]][St[Dn+1]].subscribe(v),Uc=we.length;we.push(v,Is),W&&W.push(g,h.index,Uc,-(Uc+1))}}}(v,g,g[Mn],b,s,a,h),im}function u(s,a,d,h){try{return rs(6,a,d),!1!==d(h)}catch(g){return l_(s,g),!1}finally{rs(7,a,d)}}function t(s,a,d,h,g){return function v(b){if(b===Function)return h;Og(s.componentOffset>-1?vo(s.index,a):a);let L=u(a,d,h,b),W=v.__ngNextListenerFn__;for(;W;)L=u(a,d,W,b)&&L,W=W.__ngNextListenerFn__;return g&&!1===L&&b.preventDefault(),L}}function o(s=1){return function ml(s){return(nr.lFrame.contextLView=function ac(s,a){for(;s>0;)a=a[eo],s--;return a}(s,nr.lFrame.contextLView))[Si]}(s)}function c(s,a){let d=null;const h=function xt(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(s);for(let g=0;g<a.length;g++){const v=a[g];if("*"!==v){if(null===h?tt(s,v,!0):gr(h,v))return g}else d=g}return d}function p(s){const a=Rt()[us][gs];if(!a.projection){const h=a.projection=Gl(s?s.length:1,null),g=h.slice();let v=a.child;for(;null!==v;){const b=s?c(v,s):0;null!==b&&(g[b]?g[b].projectionNext=v:h[b]=v,g[b]=v),v=v.next}}}function y(s,a=0,d){const h=Rt(),g=Vr(),v=Ef(g,Rr+s,16,null,d||null);null===v.projection&&(v.projection=a),Tu(),(!h[Mo]||on())&&32!=(32&v.flags)&&function Gn(s,a,d){py(a[Mn],0,a,d,ly(s,d,a),Xf(d.parent||a[gs],d,a))}(g,h,v)}function I(s,a,d){return O(s,"",a,"",d),I}function O(s,a,d,h,g){const v=Rt(),b=cd(v,a,d,h);return b!==Sr&&Qo(Vr(),Ji(),v,s,b,v[Mn],g,!1),O}function Cn(s,a){return s<<17|a<<2}function Tr(s){return s>>17&32767}function mo(s){return 2|s}function as(s){return(131068&s)>>2}function fs(s,a){return-131069&s|a<<2}function Zd(s){return 1|s}function OE(s,a,d,h,g){const v=s[d+1],b=null===a;let D=h?Tr(v):as(v),L=!1;for(;0!==D&&(!1===L||b);){const te=s[D+1];Qw(s[D],a)&&(L=!0,s[D+1]=h?Zd(te):mo(te)),D=h?Tr(te):as(te)}L&&(s[d+1]=h?mo(v):Zd(v))}function Qw(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ko(s,a)>=0}function t0(s,a,d){return gd(s,a,d,!1),t0}function lv(s,a){return gd(s,a,null,!0),lv}function gd(s,a,d,h){const g=Rt(),v=Vr(),b=N(2);v.firstUpdatePass&&function r0(s,a,d,h){const g=s.data;if(null===g[d+1]){const v=g[$o()],b=function n0(s,a){return a>=s.expandoStartIndex}(s,d);(function SI(s,a){return 0!=(s.flags&(a?8:16))})(v,h)&&null===a&&!b&&(a=!1),a=function pb(s,a,d,h){const g=function Ze(s){const a=nr.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let v=h?a.residualClasses:a.residualStyles;if(null===g)0===(h?a.classBindings:a.styleBindings)&&(d=lm(d=cv(null,s,a,d,h),a.attrs,h),v=null);else{const b=a.directiveStylingLast;if(-1===b||s[b]!==g)if(d=cv(g,s,a,d,h),null===v){let L=function gb(s,a,d){const h=d?a.classBindings:a.styleBindings;if(0!==as(h))return s[Tr(h)]}(s,a,h);void 0!==L&&Array.isArray(L)&&(L=cv(null,s,a,L[1],h),L=lm(L,a.attrs,h),function mb(s,a,d,h){s[Tr(d?a.classBindings:a.styleBindings)]=h}(s,a,h,L))}else v=function _b(s,a,d){let h;const g=a.directiveEnd;for(let v=1+a.directiveStylingLast;v<g;v++)h=lm(h,s[v].hostAttrs,d);return lm(h,a.attrs,d)}(s,a,h)}return void 0!==v&&(h?a.residualClasses=v:a.residualStyles=v),d}(g,v,a,h),function Zw(s,a,d,h,g,v){let b=v?a.classBindings:a.styleBindings,D=Tr(b),L=as(b);s[h]=d;let te,W=!1;if(Array.isArray(d)?(te=d[1],(null===te||Ko(d,te)>0)&&(W=!0)):te=d,g)if(0!==L){const Ue=Tr(s[D+1]);s[h+1]=Cn(Ue,D),0!==Ue&&(s[Ue+1]=fs(s[Ue+1],h)),s[D+1]=function ti(s,a){return 131071&s|a<<17}(s[D+1],h)}else s[h+1]=Cn(D,0),0!==D&&(s[D+1]=fs(s[D+1],h)),D=h;else s[h+1]=Cn(L,0),0===D?D=h:s[L+1]=fs(s[L+1],h),L=h;W&&(s[h+1]=mo(s[h+1])),OE(s,te,h,!0),OE(s,te,h,!1),function bI(s,a,d,h,g){const v=g?s.residualClasses:s.residualStyles;null!=v&&"string"==typeof a&&Ko(v,a)>=0&&(d[h+1]=Zd(d[h+1]))}(a,te,s,h,v),b=Cn(D,L),v?a.classBindings=b:a.styleBindings=b}(g,v,a,d,b,h)}}(v,s,b,h),a!==Sr&&uu(g,b,a)&&function LE(s,a,d,h,g,v,b,D){if(!(3&a.type))return;const L=s.data,W=L[D+1],te=function lu(s){return 1==(1&s)}(W)?a0(L,a,d,g,as(W),b):void 0;L_(te)||(L_(v)||function Ei(s){return 2==(2&s)}(W)&&(v=a0(L,null,d,g,D,b)),function _t(s,a,d,h,g){if(a)g?s.addClass(d,h):s.removeClass(d,h);else{let v=-1===h.indexOf("-")?void 0:Gf.DashCase;null==g?s.removeStyle(d,h,v):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),v|=Gf.Important),s.setStyle(d,h,g,v))}}(h,b,ht($o(),d),g,v))}(v,v.data[$o()],g,g[Mn],s,g[b+1]=function AI(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Pe(vc(s)))),s}(a,d),h,b)}function cv(s,a,d,h,g){let v=null;const b=d.directiveEnd;let D=d.directiveStylingLast;for(-1===D?D=d.directiveStart:D++;D<b&&(v=a[D],h=lm(h,v.hostAttrs,g),v!==s);)D++;return null!==s&&(d.directiveStylingLast=D),h}function lm(s,a,d){const h=d?1:2;let g=-1;if(null!==a)for(let v=0;v<a.length;v++){const b=a[v];"number"==typeof b?g=b:g===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Co(s,b,!!d||a[++v]))}return void 0===s?null:s}function a0(s,a,d,h,g,v){const b=null===a;let D;for(;g>0;){const L=s[g],W=Array.isArray(L),te=W?L[1]:L,we=null===te;let Ue=d[g+1];Ue===Sr&&(Ue=we?Bt:void 0);let Xe=we?qh(Ue,h):te===h?Ue:void 0;if(W&&!L_(Xe)&&(Xe=qh(L,h)),L_(Xe)&&(D=Xe,b))return D;const St=s[g+1];g=b?Tr(St):as(St)}if(null!==a){let L=v?a.residualClasses:a.residualStyles;null!=L&&(D=qh(L,h))}return D}function L_(s){return void 0!==s}function FE(s,a=""){const d=Rt(),h=Vr(),g=s+Rr,v=h.firstCreatePass?Ef(h,g,1,a,null):h.data[g],b=xI(h,d,v,a,s);d[g]=b,zu()&&ql(h,d,b,v),Io(v,!1)}let xI=(s,a,d,h,g)=>(_l(!0),function Es(s,a){return s.createText(a)}(a[Mn],h));function dv(s){return VE("",s,""),dv}function VE(s,a,d){const h=Rt(),g=cd(h,s,a,d);return g!==Sr&&Pu(h,$o(),g),VE}function hv(s,a,d,h,g){const v=Rt(),b=Oh(v,s,a,d,h,g);return b!==Sr&&Pu(v,$o(),b),hv}const qp=void 0;var Sb=["en",[["a","p"],["AM","PM"],qp],[["AM","PM"],qp,qp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qp,"{1} 'at' {0}",qp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WE(s){const d=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let F_={};function v0(s){const a=function w0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=ZE(a);if(d)return d;const h=a.split("-")[0];if(d=ZE(h),d)return d;if("en"===h)return Sb;throw new xe(701,!1)}function KE(s){return v0(s)[hm.PluralCase]}function ZE(s){return s in F_||(F_[s]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[s]),F_[s]}var hm=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(hm||{});const Wp="en-US";let fm=Wp;function $_(s,a,d,h,g){if(s=Le(s),Array.isArray(s))for(let v=0;v<s.length;v++)$_(s[v],a,d,h,g);else{const v=Vr(),b=Rt(),D=_i();let L=Pi(s)?s:Le(s.provide);const W=cp(s),te=1048575&D.providerIndexes,we=D.directiveStart,Ue=D.providerIndexes>>20;if(Pi(s)||!s.multi){const Xe=new ua(W,g,Rc),St=P0(L,a,g?te:te+Ue,we);-1===St?(Ku(ca(D,b),v,L),sw(v,s,a.length),a.push(L),D.directiveStart++,D.directiveEnd++,g&&(D.providerIndexes+=1048576),d.push(Xe),b.push(Xe)):(d[St]=Xe,b[St]=Xe)}else{const Xe=P0(L,a,te+Ue,we),St=P0(L,a,te,te+Ue),Dn=St>=0&&d[St];if(g&&!Dn||!g&&!(Xe>=0&&d[Xe])){Ku(ca(D,b),v,L);const er=function GD(s,a,d,h,g){const v=new ua(s,d,Rc);return v.multi=[],v.index=a,v.componentProviders=0,rT(v,g,h&&!d),v}(g?iT:ow,d.length,g,h,W);!g&&Dn&&(d[St].providerFactory=er),sw(v,s,a.length,0),a.push(L),D.directiveStart++,D.directiveEnd++,g&&(D.providerIndexes+=1048576),d.push(er),b.push(er)}else sw(v,s,Xe>-1?Xe:St,rT(d[g?St:Xe],W,!g&&h));!g&&h&&Dn&&d[St].componentProviders++}}}function sw(s,a,d,h){const g=Pi(a),v=function Iy(s){return!!s.useClass}(a);if(g||v){const L=(v?Le(a.useClass):a).prototype.ngOnDestroy;if(L){const W=s.destroyHooks||(s.destroyHooks=[]);if(!g&&a.multi){const te=W.indexOf(d);-1===te?W.push(d,[h,L]):W[te+1].push(h,L)}else W.push(d,L)}}}function rT(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function P0(s,a,d,h){for(let g=d;g<h;g++)if(a[g]===s)return g;return-1}function ow(s,a,d,h){return M0(this.multi,[])}function iT(s,a,d,h){const g=this.multi;let v;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=eu(d,d[en],this.providerFactory.index,h);v=D.slice(0,b),M0(g,v);for(let L=b;L<D.length;L++)v.push(D[L])}else v=[],M0(g,v);return v}function M0(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function Kb(s,a=[]){return d=>{d.providersResolver=(h,g)=>function iw(s,a,d){const h=Vr();if(h.firstCreatePass){const g=Ss(s);$_(d,h.data,h.blueprint,g,!0),$_(a,h.data,h.blueprint,g,!1)}}(h,g?g(s):s,a)}}class Yd{}class Zb{}function z_(s,a){return new sT(s,a??null,[])}class sT extends Yd{constructor(a,d,h){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hg(this);const g=Ai(a);this._bootstrapComponents=xl(g.bootstrap),this._r3Injector=Pg(a,d,[{provide:Yd,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver},...h],Pe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class vv extends Zb{constructor(a){super(),this.moduleType=a}create(a){return new sT(this.moduleType,a,[])}}class Ev extends Yd{constructor(a){super(),this.componentFactoryResolver=new Hg(this),this.instance=null;const d=new iu([...a.providers,{provide:Yd,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],a.parent||Zs(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Qb(s,a,d=null){return new Ev({providers:s,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let WD=(()=>{var s;class a{constructor(h){this._injector=h,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(h){if(!h.standalone)return null;if(!this.cachedInjectors.has(h)){const g=wy(0,h.type),v=g.length>0?Qb([g],this._injector,`Standalone[${h.type.name}]`):null;this.cachedInjectors.set(h,v)}return this.cachedInjectors.get(h)}ngOnDestroy(){try{for(const h of this.cachedInjectors.values())null!==h&&h.destroy()}finally{this.cachedInjectors.clear()}}}return(s=a).\u0275prov=sn({token:s,providedIn:"environment",factory:()=>new s(lt(rd))}),a})();function wv(s){s.getStandaloneInjector=a=>a.get(WD).getOrCreateStandaloneInjector(s)}function rC(s,a,d,h){return sC(Rt(),Bs(),s,a,d,h)}function G_(s,a,d,h,g,v){return function aC(s,a,d,h,g,v,b,D){const L=a+d;return function xf(s,a,d,h,g){const v=kc(s,a,d,h);return uu(s,a+2,g)||v}(s,L,g,v,b)?Mu(s,L+3,D?h.call(D,g,v,b):h(g,v,b)):uw(s,L+3)}(Rt(),Bs(),s,a,d,h,g,v)}function uw(s,a){const d=s[a];return d===Sr?void 0:d}function sC(s,a,d,h,g,v){const b=a+d;return uu(s,b,g)?Mu(s,b+1,v?h.call(v,g):h(g)):uw(s,b+1)}function cC(s,a){const d=Vr();let h;const g=s+Rr;d.firstCreatePass?(h=function XD(s,a){if(a)for(let d=a.length-1;d>=0;d--){const h=a[d];if(s===h.name)return h}}(a,d.pipeRegistry),d.data[g]=h,h.onDestroy&&(d.destroyHooks??=[]).push(g,h.onDestroy)):h=d.data[g];const v=h.factory||(h.factory=ko(h.type)),D=kn(Rc);try{const L=Ri(!1),W=v();return Ri(L),function S_(s,a,d,h){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=h}(d,Rt(),g,W),W}finally{kn(D)}}function dC(s,a,d){const h=s+Rr,g=Rt(),v=Za(g,h);return Tv(g,h)?sC(g,Bs(),a,v.transform,d,v):v.transform(d)}function W_(s,a,d,h){const g=s+Rr,v=Rt(),b=Za(v,g);return Tv(v,g)?function oC(s,a,d,h,g,v,b){const D=a+d;return kc(s,D,g,v)?Mu(s,D+2,b?h.call(b,g,v):h(g,v)):uw(s,D+2)}(v,Bs(),a,b.transform,d,h,b):b.transform(d,h)}function Tv(s,a){return s[en].data[a].pure}function fC(){return this._results[Symbol.iterator]()}class L0{get changes(){return this._changes||(this._changes=new ad)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=L0.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=fC)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const h=this;h.dirty=!1;const g=function hs(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Wo(s,a,d){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let g=s[h],v=a[h];if(d&&(g=d(g),v=d(v)),v!==g)return!1}return!0}(h._results,g,d))&&(h._results=g,h.length=g.length,h.last=g[this.length-1],h.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tA(s,a,d,h=!0){const g=a[en];if(function Dl(s,a,d,h){const g=Li+h,v=d.length;h>0&&(d[g-1][Fs]=a),h<v-Li?(a[Fs]=d[g],ng(d,Li+h,a)):(d.push(a),a[Fs]=null),a[Jr]=d;const b=a[_a];null!==b&&d!==b&&function fa(s,a){const d=s[Ea];a[us]!==a[Jr][Jr][us]&&(s[xi]=!0),null===d?s[Ea]=[a]:d.push(a)}(b,a);const D=a[ls];null!==D&&D.insertView(s),a[sr]|=128}(g,a,s,d),h){const v=Ht(d,s),b=a[Mn],D=dy(b,s[Qi]);null!==D&&function fg(s,a,d,h,g,v){h[li]=g,h[gs]=a,bn(s,h,d,1,g,v)}(g,s[gs],b,a,D,v)}}let lw=(()=>{class a{}return a.__NG_ELEMENT_ID__=_C,a})();const gC=lw,mC=class extends gC{constructor(a,d,h){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d)}createEmbeddedViewImpl(a,d,h){const g=function pC(s,a,d,h){const g=a.tView,D=vf(s,g,d,4096&s[sr]?4096:16,null,a,null,null,null,h?.injector??null,h?.hydrationInfo??null);D[_a]=s[a.index];const W=s[ls];return null!==W&&(D[ls]=W.createEmbeddedView(g)),Yo(g,D,d),D}(this._declarationLView,this._declarationTContainer,a,{injector:d,hydrationInfo:h});return new Fp(g)}};function _C(){return F0(_i(),Rt())}function F0(s,a){return 4&s.type?new mC(a,s,Zl(s,a)):null}let V0=(()=>{class a{}return a.__NG_ELEMENT_ID__=oA,a})();function oA(){return IC(_i(),Rt())}const hT=V0,fT=class extends hT{constructor(a,d,h){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=h}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const a=Go(this._hostTNode,this._hostLView);if(qc(a)){const d=wd(a,this._hostLView),h=Bl(a);return new $s(d[en].data[h+8],d)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=wC(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-Li}createEmbeddedView(a,d,h){let g,v;"number"==typeof h?g=h:null!=h&&(g=h.index,v=h.injector);const D=a.createEmbeddedViewImpl(d||{},v,null);return this.insertImpl(D,g,false),D}createComponent(a,d,h,g,v){const b=a&&!function da(s){return"function"==typeof s}(a);let D;if(b)D=d;else{const Jt=d||{};D=Jt.index,h=Jt.injector,g=Jt.projectableNodes,v=Jt.environmentInjector||Jt.ngModuleRef}const L=b?a:new Cf(lr(a)),W=h||this.parentInjector;if(!v&&null==L.ngModule){const Dn=(b?W:this.parentInjector).get(rd,null);Dn&&(v=Dn)}lr(L.componentType??{});const Xe=L.create(W,g,null,v);return this.insertImpl(Xe.hostView,D,false),Xe}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,h){const g=a._lView;if(function ju(s){return Pr(s[Jr])}(g)){const L=this.indexOf(a);if(-1!==L)this.detach(L);else{const W=g[Jr],te=new fT(W,W[gs],W[Jr]);te.detach(te.indexOf(a))}}const b=this._adjustIndex(d),D=this._lContainer;return tA(D,g,b,!h),a.attachToViewContainerRef(),ng(pT(D),b,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=wC(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),h=nf(this._lContainer,d);h&&(hc(pT(this._lContainer),d),rf(h[en],h))}detach(a){const d=this._adjustIndex(a,-1),h=nf(this._lContainer,d);return h&&null!=hc(pT(this._lContainer),d)?new Fp(h):null}_adjustIndex(a,d=0){return a??this.length+d}};function wC(s){return s[8]}function pT(s){return s[8]||(s[8]=[])}function IC(s,a){let d;const h=a[s.index];return Pr(h)?d=h:(d=u_(h,a,null,s),a[s.index]=d,If(a,d)),U0(d,a,s,h),new fT(d,s,a)}let U0=function B0(s,a,d,h){if(s[Qi])return;let g;g=8&d.type?si(h):function aA(s,a){const d=s[Mn],h=d.createComment(""),g=At(a,s);return sf(d,dy(d,g),h,function af(s,a){return s.nextSibling(a)}(d,g),!1),h}(a,d),s[Qi]=g};class K_{constructor(a){this.queryList=a,this.matches=null}clone(){return new K_(this.queryList)}setDirty(){this.queryList.setDirty()}}class H0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const h=null!==a.contentQueries?a.contentQueries[0]:d.length,g=[];for(let v=0;v<h;v++){const b=d.getByIndex(v);g.push(this.queries[b.indexInDeclarationView].clone())}return new H0(g)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==q0(a,d).matches&&this.queries[d].setDirty()}}class gT{constructor(a,d,h=null){this.predicate=a,this.flags=d,this.read=h}}class Cv{constructor(a=[]){this.queries=a}elementStart(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let h=0;h<this.length;h++){const g=null!==d?d.length:0,v=this.getByIndex(h).embeddedTView(a,g);v&&(v.indexInDeclarationView=h,null!==d?d.push(v):d=[v])}return null!==d?new Cv(d):null}template(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class $0{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new $0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let g=0;g<h.length;g++){const v=h[g];this.matchTNodeWithReadOption(a,d,TC(d,v)),this.matchTNodeWithReadOption(a,d,$l(d,a,v,!1,!1))}else h===lw?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,$l(d,a,h,!1,!1))}matchTNodeWithReadOption(a,d,h){if(null!==h){const g=this.metadata.read;if(null!==g)if(g===Md||g===V0||g===lw&&4&d.type)this.addMatch(d.index,-2);else{const v=$l(d,a,g,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,h)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function TC(s,a){const d=s.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===a)return d[h+1];return null}function bC(s,a,d,h){return-1===d?function _m(s,a){return 11&s.type?Zl(s,a):4&s.type?F0(s,a):null}(a,s):-2===d?function CC(s,a,d){return d===Md?Zl(a,s):d===lw?F0(a,s):d===V0?IC(a,s):void 0}(s,a,h):eu(s,s[en],d,a)}function mT(s,a,d,h){const g=a[ls].queries[h];if(null===g.matches){const v=s.data,b=d.matches,D=[];for(let L=0;L<b.length;L+=2){const W=b[L];D.push(W<0?null:bC(a,v[W],b[L+1],d.metadata.read))}g.matches=D}return g.matches}function Z_(s,a,d,h){const g=s.queries.getByIndex(d),v=g.matches;if(null!==v){const b=mT(s,a,g,d);for(let D=0;D<v.length;D+=2){const L=v[D];if(L>0)h.push(b[D/2]);else{const W=v[D+1],te=a[-L];for(let we=Li;we<te.length;we++){const Ue=te[we];Ue[_a]===Ue[Jr]&&Z_(Ue[en],Ue,W,h)}if(null!==te[Ea]){const we=te[Ea];for(let Ue=0;Ue<we.length;Ue++){const Xe=we[Ue];Z_(Xe[en],Xe,W,h)}}}}}return h}function z0(s){const a=Rt(),d=Vr(),h=Nt();Tt(h+1);const g=q0(d,h);if(s.dirty&&function vd(s){return 4==(4&s[sr])}(a)===(2==(2&g.metadata.flags))){if(null===g.matches)s.reset([]);else{const v=g.crossesNgTemplate?Z_(d,a,h,[]):mT(d,a,g,h);s.reset(v,Od),s.notifyOnChanges()}return!0}return!1}function _T(s,a,d){const h=Vr();h.firstCreatePass&&(Q_(h,new gT(s,a,d),-1),2==(2&a)&&(h.staticViewQueries=!0)),G0(h,Rt(),a)}function yT(s,a,d,h){const g=Vr();if(g.firstCreatePass){const v=_i();Q_(g,new gT(a,d,h),v.index),function DC(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(g,s),2==(2&d)&&(g.staticContentQueries=!0)}G0(g,Rt(),d)}function vT(){return function ET(s,a){return s[ls].queries[a].queryList}(Rt(),Nt())}function G0(s,a,d){const h=new L0(4==(4&d));(function Hy(s,a,d,h){const g=jd(a);g.push(d),s.firstCreatePass&&Mc(s).push(h,g.length-1)})(s,a,h,h.destroy),null===a[ls]&&(a[ls]=new H0),a[ls].queries.push(new K_(h))}function Q_(s,a,d){null===s.queries&&(s.queries=new Cv),s.queries.track(new $0(a,d))}function q0(s,a){return s.queries.getByIndex(a)}function IT(s){return!!Ai(s)}const NT=new Bi("Application Initializer");let nI=(()=>{var s;class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,g)=>{this.resolve=h,this.reject=g}),this.appInits=Me(NT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const h=[];for(const v of this.appInits){const b=v();if(rm(b))h.push(b);else if(Pf(b)){const D=new Promise((L,W)=>{b.subscribe({complete:L,error:W})});h.push(D)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(h).then(()=>{g()}).catch(v=>{this.reject(v)}),0===h.length&&g(),this.initialized=!0}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),a})(),Ge=(()=>{var s;class a{log(h){console.log(h)}warn(h){console.warn(h)}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})();const Sv=new Bi("LocaleId",{providedIn:"root",factory:()=>Me(Sv,wn.Optional|wn.SkipSelf)||function qC(){return typeof $localize<"u"&&$localize.locale||Wp}()}),Vc=new Bi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let rI=(()=>{var s;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new m.X(!1)}add(){this.hasPendingTasks.next(!0);const h=this.taskId++;return this.pendingTasks.add(h),h}remove(h){this.pendingTasks.delete(h),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();class kT{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let IA=(()=>{var s;class a{compileModuleSync(h){return new vv(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const g=this.compileModuleSync(h),b=xl(Ai(h).declarations).reduce((D,L)=>{const W=lr(L);return W&&D.push(new Cf(W)),D},[]);return new kT(g,b)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();const jT=new Bi(""),HT=new Bi("");let J_,cD=(()=>{var s;class a{constructor(h,g,v){this._ngZone=h,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J_||(function Vh(s){J_=s}(v),v.addToWindow(g)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,v){let b=-1;g&&g>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==b),h(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:h,timeoutId:b,updateCb:v})}whenStable(h,g,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,g,v){return[]}}return(s=a).\u0275fac=function(h){return new(h||s)(lt(So),lt($T),lt(HT))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),a})(),$T=(()=>{var s;class a{constructor(){this._applications=new Map}registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return J_?.findTestabilityInTree(this,h,g)??null}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})(),Nf=null;const Ln=new Bi("AllowMultipleToken"),aI=new Bi("PlatformDestroyListeners"),Vt=new Bi("appBootstrapListener");class Xp{constructor(a,d){this.name=a,this.token=d}}function cI(s,a,d=[]){const h=`Platform: ${a}`,g=new Bi(h);return(v=[])=>{let b=qT();if(!b||b.injector.get(Ln,!1)){const D=[...d,...v,{provide:g,useValue:!0}];s?s(D):function lI(s){if(Nf&&!Nf.get(Ln,!1))throw new xe(400,!1);(function uI(){!function pl(s){ms=s}(()=>{throw new xe(600,!1)})})(),Nf=s;const a=s.get(WT);(function GT(s){s.get(pf,null)?.forEach(d=>d())})(s)}(function dI(s=[],a){return su.create({name:a,providers:[{provide:nd,useValue:"platform"},{provide:aI,useValue:new Set([()=>Nf=null])},...s]})}(D,h))}return function mw(s){const a=qT();if(!a)throw new xe(401,!1);return a}()}}function qT(){return Nf?.get(WT)??null}let WT=(()=>{var s;class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,g){const v=function dD(s="zone.js",a){return"noop"===s?new vp:"zone.js"===s?new So(a):s}(g?.ngZone,function hI(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:g?.ngZoneEventCoalescing,runCoalescing:g?.ngZoneRunCoalescing}));return v.run(()=>{const b=function qD(s,a,d){return new sT(s,a,d)}(h.moduleType,this.injector,function JT(s){return[{provide:So,useFactory:s},{provide:Tg,multi:!0,useFactory:()=>{const a=Me(fD,{optional:!0});return()=>a.initialize()}},{provide:YT,useFactory:hD},{provide:bh,useFactory:ky}]}(()=>v)),D=b.injector.get(Ld,null);return v.runOutsideAngular(()=>{const L=v.onError.subscribe({next:W=>{D.handleError(W)}});b.onDestroy(()=>{_w(this._modules,b),L.unsubscribe()})}),function KT(s,a,d){try{const h=d();return rm(h)?h.catch(g=>{throw a.runOutsideAngular(()=>s.handleError(g)),g}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(D,v,()=>{const L=b.injector.get(nI);return L.runInitializers(),L.donePromise.then(()=>(function YE(s){Wt(s,"Expected localeId to be defined"),"string"==typeof s&&(fm=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Sv,Wp)||Wp),this._moduleDoBootstrap(b),b))})})}bootstrapModule(h,g=[]){const v=ZT({},g);return function Jp(s,a,d){const h=new vv(d);return Promise.resolve(h)}(0,0,h).then(b=>this.bootstrapModuleFactory(b,v))}_moduleDoBootstrap(h){const g=h.injector.get(ey);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(v=>g.bootstrap(v));else{if(!h.instance.ngDoBootstrap)throw new xe(-403,!1);h.instance.ngDoBootstrap(g)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const h=this._injector.get(aI,null);h&&(h.forEach(g=>g()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=a).\u0275fac=function(h){return new(h||s)(lt(su))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})();function ZT(s,a){return Array.isArray(a)?a.reduce(ZT,s):{...s,...a}}let ey=(()=>{var s;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Me(YT),this.zoneIsStable=Me(bh),this.componentTypes=[],this.components=[],this.isStable=Me(rI).hasPendingTasks.pipe((0,pe.w)(h=>h?(0,Ae.of)(!1):this.zoneIsStable),(0,Se.x)(),(0,Ie.B)()),this._injector=Me(rd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,g){const v=h instanceof Yv;if(!this._injector.get(nI).done)throw!v&&Ms(h),new xe(405,!1);let D;D=v?h:this._injector.get(Eh).resolveComponentFactory(h),this.componentTypes.push(D.componentType);const L=function zT(s){return s.isBoundToModule}(D)?void 0:this._injector.get(Yd),te=D.create(su.NULL,[],g||D.selector,L),we=te.location.nativeElement,Ue=te.injector.get(jT,null);return Ue?.registerApplication(we),te.onDestroy(()=>{this.detachView(te.hostView),_w(this.components,te),Ue?.unregisterApplication(we)}),this._loadComponent(te),te}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1}}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;_w(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h);const g=this._injector.get(Vt,[]);g.push(...this._bootstrapListeners),g.forEach(v=>v(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>_w(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new xe(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();function _w(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}const YT=new Bi("",{providedIn:"root",factory:()=>Me(Ld).handleError.bind(void 0)});function hD(){const s=Me(So),a=Me(Ld);return d=>s.runOutsideAngular(()=>a.handleError(d))}let fD=(()=>{var s;class a{constructor(){this.zone=Me(So),this.applicationRef=Me(ey)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=a).\u0275fac=function(h){return new(h||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();function gD(){return!1}let mD=(()=>{class a{}return a.__NG_ELEMENT_ID__=PA,a})();function PA(s){return function MA(s,a,d){if(Ds(s)&&!d){const h=vo(s.index,a);return new Fp(h,h)}return 47&s.type?new Fp(a[us],a):null}(_i(),Rt(),16==(16&s))}class wD{constructor(){}supports(a){return Vp(a)}create(a){return new mI(a)}}const nb=(s,a)=>a;class mI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||nb}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,h=this._removalsHead,g=0,v=null;for(;d||h;){const b=!h||d&&d.currentIndex<ib(h,g,v)?d:h,D=ib(b,g,v),L=b.currentIndex;if(b===h)g--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)g++;else{v||(v=[]);const W=D-g,te=L-g;if(W!=te){for(let Ue=0;Ue<W;Ue++){const Xe=Ue<v.length?v[Ue]:v[Ue]=0,St=Xe+Ue;te<=St&&St<W&&(v[Ue]=Xe+1)}v[b.previousIndex]=te-W}}D!==L&&a(b,D,L)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!Vp(a))throw new xe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let g,v,b,d=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)v=a[D],b=this._trackByFn(D,v),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,v,b,D)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,b,D),h=!0),d=d._next}else g=0,function Sf(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[Symbol.iterator]();let h;for(;!(h=d.next()).done;)a(h.value)}}(a,D=>{b=this._trackByFn(g,D),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,D,b,g)),Object.is(d.item,D)||this._addIdentityChange(d,D)):(d=this._mismatch(d,D,b,g),h=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,h,g){let v;return null===a?v=this._itTail:(v=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,v,g)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,g))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,v,g)):a=this._addAfter(new rb(d,h),v,g),a}_verifyReinsertion(a,d,h,g){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==v?a=this._reinsertAfter(v,a._prev,g):a.currentIndex!=g&&(a.currentIndex=g,this._addToMoves(a,g)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const g=a._prevRemoved,v=a._nextRemoved;return null===g?this._removalsHead=v:g._nextRemoved=v,null===v?this._removalsTail=g:v._prevRemoved=g,this._insertAfter(a,d,h),this._addToMoves(a,h),a}_moveAfter(a,d,h){return this._unlink(a),this._insertAfter(a,d,h),this._addToMoves(a,h),a}_addAfter(a,d,h){return this._insertAfter(a,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,h){const g=null===d?this._itHead:d._next;return a._next=g,a._prev=d,null===g?this._itTail=a:g._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new vw),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,h=a._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vw),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class rb{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const d=a._prevDup,h=a._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class vw{constructor(){this.map=new Map}put(a){const d=a.trackById;let h=this.map.get(d);h||(h=new UA,this.map.set(d,h)),h.add(a)}get(a,d){const g=this.map.get(a);return g?g.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ib(s,a,d){const h=s.previousIndex;if(null===h)return h;let g=0;return d&&h<d.length&&(g=d[h]),h+a+g}class sb{constructor(){}supports(a){return a instanceof Map||Kg(a)}create(){return new BA}}class BA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||Kg(a)))throw new xe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(g,h);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const h=a._prev;return d._next=a,d._prev=h,a._prev=d,h&&(h._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const g=this._records.get(a);this._maybeAddToChanges(g,d);const v=g._prev,b=g._next;return v&&(v._next=b),b&&(b._prev=v),g._next=null,g._prev=null,g}const h=new jA(a);return this._records.set(a,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(h=>d(a[h],h))}}class jA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ob(){return new ab([new wD])}let ab=(()=>{var s;class a{constructor(h){this.factories=h}static create(h,g){if(null!=g){const v=g.factories.slice();h=h.concat(v)}return new a(h)}static extend(h){return{provide:a,useFactory:g=>a.create(h,g||ob()),deps:[[a,new jt,new ft]]}}find(h){const g=this.factories.find(v=>v.supports(h));if(null!=g)return g;throw new xe(901,!1)}}return(s=a).\u0275prov=sn({token:s,providedIn:"root",factory:ob}),a})();function ID(){return new ub([new sb])}let ub=(()=>{var s;class a{constructor(h){this.factories=h}static create(h,g){if(g){const v=g.factories.slice();h=h.concat(v)}return new a(h)}static extend(h){return{provide:a,useFactory:g=>a.create(h,g||ID()),deps:[[a,new jt,new ft]]}}find(h){const g=this.factories.find(v=>v.supports(h));if(g)return g;throw new xe(901,!1)}}return(s=a).\u0275prov=sn({token:s,providedIn:"root",factory:ID}),a})();const zA=cI(null,"core",[]);let GA=(()=>{var s;class a{constructor(h){}}return(s=a).\u0275fac=function(h){return new(h||s)(lt(ey))},s.\u0275mod=ku({type:s}),s.\u0275inj=Zn({}),a})();function nS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function iS(s){const a=lr(s);if(!a)return null;const d=new Cf(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(Gt,$e,U)=>{U.d($e,{Z:()=>Pt});var w=U(9058),ie=U(4537),Y=U(7592),ue=U(7879);class m{constructor(De,Fe){this._delegate=De,this.firebase=Fe,(0,Y._addComponent)(De,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(De,Fe=Y._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(De);return!yt.isInitialized()&&"EXPLICIT"===(null===(wt=yt.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:Fe})}_removeServiceInstance(De,Fe=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(Fe)}_addComponent(De){(0,Y._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,Y._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Se(){const Le=function pe(Le){const De={},Fe={__esModule:!0,initializeApp:function xe(mt,Ee={}){const dt=Y.initializeApp(mt,Ee);if((0,w.r3)(De,dt.name))return De[dt.name];const Ot=new Le(dt,Fe);return De[dt.name]=Ot,Ot},app:yt,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function Ke(mt){const Ee=mt.name,dt=Ee.replace("-compat","");if(Y._registerComponent(mt)&&"PUBLIC"===mt.type){const Ot=(Qt=yt())=>{if("function"!=typeof Qt[dt])throw Ie.create("invalid-app-argument",{appName:Ee});return Qt[dt]()};void 0!==mt.serviceProps&&(0,w.ZB)(Ot,mt.serviceProps),Fe[dt]=Ot,Le.prototype[dt]=function(...Qt){return this._getService.bind(this,Ee).apply(this,mt.multipleInstances?Qt:[])}}return"PUBLIC"===mt.type?Fe[dt]:null},removeApp:function wt(mt){delete De[mt]},useAsService:function ut(mt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:Y}};function yt(mt){if(!(0,w.r3)(De,mt=mt||Y._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:mt});return De[mt]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function pt(){return Object.keys(De).map(mt=>De[mt])}}),yt.App=Le,Fe}(m);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:Se,extendNamespace:function De(Fe){(0,w.ZB)(Le,Fe)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),Le}(),ye=new ue.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pt=re;!function it(Le){(0,Y.registerVersion)("@firebase/app-compat","0.2.13",Le)}()},7592:(Gt,$e,U)=>{U.r($e),U.d($e,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Zn,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>vt,_addOrOverwriteComponent:()=>Dt,_apps:()=>ct,_clearComponents:()=>Tn,_components:()=>Je,_getProvider:()=>gt,_registerComponent:()=>Wt,_removeServiceInstance:()=>Wn,deleteApp:()=>ai,getApp:()=>cr,getApps:()=>Cr,initializeApp:()=>vr,onLog:()=>Or,registerVersion:()=>Ar,setLogLevel:()=>ui});var w=U(5861),ie=U(4537),Y=U(7879),ue=U(9058),m=U(1878);class Ae{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function Ie(nt){const Re=nt.getComponent();return"VERSION"===Re?.type}(It)){const kt=It.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(It=>It).join(" ")}}const pe="@firebase/app",re=new Y.Yd("@firebase/app"),qe="[DEFAULT]",at={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,Je=new Map;function vt(nt,Re){try{nt.container.addComponent(Re)}catch(It){re.debug(`Component ${Re.name} failed to register with FirebaseApp ${nt.name}`,It)}}function Dt(nt,Re){nt.container.addOrOverwriteComponent(Re)}function Wt(nt){const Re=nt.name;if(Je.has(Re))return re.debug(`There were multiple attempts to register component ${Re}.`),!1;Je.set(Re,nt);for(const It of ct.values())vt(It,nt);return!0}function gt(nt,Re){const It=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),nt.container.getProvider(Re)}function Wn(nt,Re,It=qe){gt(nt,Re).clearInstance(It)}function Tn(){Je.clear()}const sn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tr{constructor(Re,It,kt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Zn="9.23.0";function vr(nt,Re={}){let It=nt;"object"!=typeof Re&&(Re={name:Re});const kt=Object.assign({name:qe,automaticDataCollectionEnabled:!1},Re),cn=kt.name;if("string"!=typeof cn||!cn)throw sn.create("bad-app-name",{appName:String(cn)});if(It||(It=(0,ue.aH)()),!It)throw sn.create("no-options");const In=ct.get(cn);if(In){if((0,ue.vZ)(It,In.options)&&(0,ue.vZ)(kt,In.config))return In;throw sn.create("duplicate-app",{appName:cn})}const pr=new ie.H0(cn);for(const ne of Je.values())pr.addComponent(ne);const be=new tr(It,kt,pr);return ct.set(cn,be),be}function cr(nt=qe){const Re=ct.get(nt);if(!Re&&nt===qe&&(0,ue.aH)())return vr();if(!Re)throw sn.create("no-app",{appName:nt});return Re}function Cr(){return Array.from(ct.values())}function ai(nt){return zr.apply(this,arguments)}function zr(){return(zr=(0,w.Z)(function*(nt){const Re=nt.name;ct.has(Re)&&(ct.delete(Re),yield Promise.all(nt.container.getProviders().map(It=>It.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Ar(nt,Re,It){var kt;let cn=null!==(kt=at[nt])&&void 0!==kt?kt:nt;It&&(cn+=`-${It}`);const In=cn.match(/\s|\//),pr=Re.match(/\s|\//);if(In||pr){const be=[`Unable to register library "${cn}" with version "${Re}":`];return In&&be.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),In&&pr&&be.push("and"),pr&&be.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void re.warn(be.join(" "))}Wt(new ie.wA(`${cn}-version`,()=>({library:cn,version:Re}),"VERSION"))}function Or(nt,Re){if(null!==nt&&"function"!=typeof nt)throw sn.create("invalid-log-argument");(0,Y.Am)(nt,Re)}function ui(nt){(0,Y.Ub)(nt)}const Gr="firebase-heartbeat-database",wn=1,an="firebase-heartbeat-store";let An=null;function kn(){return An||(An=(0,m.X3)(Gr,wn,{upgrade:(nt,Re)=>{0===Re&&nt.createObjectStore(an)}}).catch(nt=>{throw sn.create("idb-open",{originalErrorMessage:nt.message})})),An}function qr(){return(qr=(0,w.Z)(function*(nt){try{return yield(yield kn()).transaction(an).objectStore(an).get(pi(nt))}catch(Re){if(Re instanceof ue.ZR)re.warn(Re.message);else{const It=sn.create("idb-get",{originalErrorMessage:Re?.message});re.warn(It.message)}}})).apply(this,arguments)}function Un(nt,Re){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*(nt,Re){try{const kt=(yield kn()).transaction(an,"readwrite");yield kt.objectStore(an).put(Re,pi(nt)),yield kt.done}catch(It){if(It instanceof ue.ZR)re.warn(It.message);else{const kt=sn.create("idb-set",{originalErrorMessage:It?.message});re.warn(kt.message)}}})).apply(this,arguments)}function pi(nt){return`${nt.name}!${nt.options.appId}`}class Qn{constructor(Re){this.container=Re,this._heartbeatsCache=null;const It=this.container.getProvider("app").getImmediate();this._storage=new Hi(It),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Re=this;return(0,w.Z)(function*(){const kt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cn=dr();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==cn&&!Re._heartbeatsCache.heartbeats.some(In=>In.date===cn))return Re._heartbeatsCache.heartbeats.push({date:cn,agent:kt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(In=>{const pr=new Date(In.date).valueOf();return Date.now()-pr<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,w.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const It=dr(),{heartbeatsToSend:kt,unsentEntries:cn}=function wi(nt,Re=1024){const It=[];let kt=nt.slice();for(const cn of nt){const In=It.find(pr=>pr.agent===cn.agent);if(In){if(In.dates.push(cn.date),ur(It)>Re){In.dates.pop();break}}else if(It.push({agent:cn.agent,dates:[cn.date]}),ur(It)>Re){It.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:It,unsentEntries:kt}}(Re._heartbeatsCache.heartbeats),In=(0,ue.L)(JSON.stringify({version:2,heartbeats:kt}));return Re._heartbeatsCache.lastSentHeartbeatDate=It,cn.length>0?(Re._heartbeatsCache.heartbeats=cn,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),In})()}}function dr(){return(new Date).toISOString().substring(0,10)}class Hi{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,w.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function Rn(nt){return qr.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var It=this;return(0,w.Z)(function*(){var kt;if(yield It._canUseIndexedDBPromise){const In=yield It.read();return Un(It.app,{lastSentHeartbeatDate:null!==(kt=Re.lastSentHeartbeatDate)&&void 0!==kt?kt:In.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var It=this;return(0,w.Z)(function*(){var kt;if(yield It._canUseIndexedDBPromise){const In=yield It.read();return Un(It.app,{lastSentHeartbeatDate:null!==(kt=Re.lastSentHeartbeatDate)&&void 0!==kt?kt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Re.heartbeats]})}})()}}function ur(nt){return(0,ue.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Bn(nt){Wt(new ie.wA("platform-logger",Re=>new Ae(Re),"PRIVATE")),Wt(new ie.wA("heartbeat",Re=>new Qn(Re),"PRIVATE")),Ar(pe,"0.9.13",nt),Ar(pe,"0.9.13","esm2017"),Ar("fire-js","")}("")},4097:(Gt,$e,U)=>{U.d($e,{C6:()=>w.getApps,KN:()=>w.registerVersion,Mq:()=>w.getApp,ZF:()=>w.initializeApp});var w=U(7592);(0,w.registerVersion)("firebase","9.23.0","app")},120:(Gt,$e,U)=>{U.d($e,{Z:()=>w.Z});var w=U(3399);w.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(Gt,$e,U)=>{U.r($e);var w=U(5861),ie=U(3399),Y=U(6710),ue=U(9058),Ie=(U(7592),U(7879),U(4537));function pe(){return window}function ye(){return ye=(0,w.Z)(function*(G,K,H){var de;const{BuildInfo:ke}=pe();(0,Y.as)(K.sessionId,"AuthEvent did not contain a session ID");const lt=yield function Fe(G){return wt.apply(this,arguments)}(K.sessionId),qt={};return(0,Y.at)()?qt.ibi=ke.packageName:(0,Y.au)()?qt.apn=ke.packageName:(0,Y.av)(G,"operation-not-supported-in-this-environment"),ke.displayName&&(qt.appDisplayName=ke.displayName),qt.sessionId=lt,(0,Y.aw)(G,H,K.type,void 0,null!==(de=K.eventId)&&void 0!==de?de:void 0,qt)}),ye.apply(this,arguments)}function Be(){return(Be=(0,w.Z)(function*(G){const{BuildInfo:K}=pe(),H={};(0,Y.at)()?H.iosBundleId=K.packageName:(0,Y.au)()?H.androidPackageName=K.packageName:(0,Y.av)(G,"operation-not-supported-in-this-environment"),yield(0,Y.ax)(G,H)})).apply(this,arguments)}function Le(){return(Le=(0,w.Z)(function*(G,K,H){const{cordova:de}=pe();let ke=()=>{};try{yield new Promise((lt,qt)=>{let Me=null;function ee(){var me;lt();const _e=null===(me=de.plugins.browsertab)||void 0===me?void 0:me.close;"function"==typeof _e&&_e(),"function"==typeof H?.close&&H.close()}function ge(){Me||(Me=window.setTimeout(()=>{qt((0,Y.az)(G,"redirect-cancelled-by-user"))},2e3))}function Qe(){"visible"===document?.visibilityState&&ge()}K.addPassiveListener(ee),document.addEventListener("resume",ge,!1),(0,Y.au)()&&document.addEventListener("visibilitychange",Qe,!1),ke=()=>{K.removePassiveListener(ee),document.removeEventListener("resume",ge,!1),document.removeEventListener("visibilitychange",Qe,!1),Me&&window.clearTimeout(Me)}})}finally{ke()}})).apply(this,arguments)}function wt(){return(wt=(0,w.Z)(function*(G){const K=function yt(G){if((0,Y.as)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const K=new ArrayBuffer(G.length),H=new Uint8Array(K);for(let de=0;de<G.length;de++)H[de]=G.charCodeAt(de);return H}(G),H=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(H)).map(ke=>ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pt extends Y.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(K)),super.onEvent(K)}initialized(){var K=this;return(0,w.Z)(function*(){yield K.initPromise})()}}function mt(G){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*(G){const K=yield Qt()._get(_n(G));return K&&(yield Qt()._remove(_n(G))),K})).apply(this,arguments)}function Ot(){const G=[];for(let H=0;H<20;H++){const de=Math.floor(62*Math.random());G.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return G.join("")}function Qt(){return(0,Y.aC)(Y.b)}function _n(G){return(0,Y.aD)("authEvent",G.config.apiKey,G.name)}function ar(G){if(!G?.includes("?"))return{};const[K,...H]=G.split("?");return(0,ue.zd)(H.join("?"))}const qe=class fr{constructor(){this._redirectPersistence=Y.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(K){var H=this;return(0,w.Z)(function*(){const de=K._key();let ke=H.eventManagers.get(de);return ke||(ke=new pt(K),H.eventManagers.set(de,ke),H.attachCallbackListeners(K,ke)),ke})()}_openPopup(K){(0,Y.av)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,H,de,ke){var lt=this;return(0,w.Z)(function*(){!function De(G){var K,H,de,ke,lt,qt,Me,ee,ge,Qe;const me=pe();(0,Y.aA)("function"==typeof(null===(K=me?.universalLinks)||void 0===K?void 0:K.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,Y.aA)(typeof(null===(H=me?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,Y.aA)("function"==typeof(null===(lt=null===(ke=null===(de=me?.cordova)||void 0===de?void 0:de.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===lt?void 0:lt.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(ee=null===(Me=null===(qt=me?.cordova)||void 0===qt?void 0:qt.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===ee?void 0:ee.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,Y.aA)("function"==typeof(null===(Qe=null===(ge=me?.cordova)||void 0===ge?void 0:ge.InAppBrowser)||void 0===Qe?void 0:Qe.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const qt=yield lt._initialize(K);yield qt.initialized(),qt.resetRedirect(),(0,Y.aG)(),yield lt._originValidation(K);const Me=function Ke(G,K,H=null){return{type:K,eventId:H,urlResponse:null,sessionId:Ot(),postBody:null,tenantId:G.tenantId,error:(0,Y.az)(G,"no-auth-event")}}(K,de,ke);yield function ut(G,K){return Qt()._set(_n(G),K)}(K,Me);const ee=yield function re(G,K,H){return ye.apply(this,arguments)}(K,Me,H),ge=yield function it(G){const{cordova:K}=pe();return new Promise(H=>{K.plugins.browsertab.isAvailable(de=>{let ke=null;de?K.plugins.browsertab.openUrl(G):ke=K.InAppBrowser.open(G,(0,Y.ay)()?"_blank":"_system","location=yes"),H(ke)})})}(ee);return function Pt(G,K,H){return Le.apply(this,arguments)}(K,qt,ge)})()}_isIframeWebStorageSupported(K,H){throw new Error("Method not implemented.")}_originValidation(K){const H=K._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function Pe(G){return Be.apply(this,arguments)}(K)),this.originValidationPromises[H]}attachCallbackListeners(K,H){const{universalLinks:de,handleOpenURL:ke,BuildInfo:lt}=pe(),qt=setTimeout((0,w.Z)(function*(){yield mt(K),H.onEvent(at())}),500),Me=function(){var Qe=(0,w.Z)(function*(me){clearTimeout(qt);const _e=yield mt(K);let ze=null;_e&&me?.url&&(ze=function dt(G,K){var H,de;const ke=function Sn(G){const K=ar(G),H=K.link?decodeURIComponent(K.link):void 0,de=ar(H).link,ke=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return ar(ke).link||ke||de||H||G}(K);if(ke.includes("/__/auth/callback")){const lt=ar(ke),qt=lt.firebaseError?function yr(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(lt.firebaseError)):null,Me=null===(de=null===(H=qt?.code)||void 0===H?void 0:H.split("auth/"))||void 0===de?void 0:de[1],ee=Me?(0,Y.az)(Me):null;return ee?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:ee,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:ke,postBody:null}}return null}(_e,me.url)),H.onEvent(ze||at())});return function(_e){return Qe.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Me);const ee=ke,ge=`${lt.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Qe=(0,w.Z)(function*(me){if(me.toLowerCase().startsWith(ge)&&Me({url:me}),"function"==typeof ee)try{ee(me)}catch(_e){console.error(_e)}});return function(me){return Qe.apply(this,arguments)}}()}};function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,Y.az)("no-auth-event")}}function Wt(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Wn(G=(0,ue.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){try{const G=self.localStorage,K=Y.aL();if(G)return G.setItem(K,"1"),G.removeItem(K),!function tr(G=(0,ue.z$)()){return function Vn(){return(0,ue.w1)()&&11===document?.documentMode}()||function sn(G=(0,ue.z$)()){return/Edge\/\d+/.test(G)}(G)}()||(0,ue.hl)()}catch{return vr()&&(0,ue.hl)()}return!1}function vr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function cr(){return(function gt(){return"http:"===Wt()||"https:"===Wt()}()||(0,ue.ru)()||Wn())&&!function Tn(){return(0,ue.b$)()||(0,ue.UG)()}()&&Zn()&&!vr()}function Cr(){return Wn()&&typeof document<"u"}function zr(){return(zr=(0,w.Z)(function*(){return!!Cr()&&new Promise(G=>{const K=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),G(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},ui=Y.aA,Gr="persistence";function an(G){return An.apply(this,arguments)}function An(){return(An=(0,w.Z)(function*(G){yield G._initializationPromise;const K=Rn(),H=Y.aD(Gr,G.config.apiKey,G.name);K&&K.setItem(H,G._getPersistence())})).apply(this,arguments)}function Rn(){var G;try{return(null===(G=function Ar(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const qr=Y.aA;class Un{constructor(){this.browserResolver=Y.aC(Y.k),this.cordovaResolver=Y.aC(qe),this.underlyingResolver=null,this._redirectPersistence=Y.a,this._completeRedirectFn=Y.aE,this._overrideRedirectResult=Y.aF}_initialize(K){var H=this;return(0,w.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,H,de,ke){var lt=this;return(0,w.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openPopup(K,H,de,ke)})()}_openRedirect(K,H,de,ke){var lt=this;return(0,w.Z)(function*(){return yield lt.selectUnderlyingResolver(),lt.assertedUnderlyingResolver._openRedirect(K,H,de,ke)})()}_isIframeWebStorageSupported(K,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,H)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Cr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,w.Z)(function*(){if(K.underlyingResolver)return;const H=yield function ai(){return zr.apply(this,arguments)}();K.underlyingResolver=H?K.cordovaResolver:K.browserResolver})()}}function Jn(G){return G.unwrap()}function $n(G){return Qn(G)}function Qn(G){const{_tokenResponse:K}=G instanceof ue.ZR?G.customData:G;if(!K)return null;if(!(G instanceof ue.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return Y.P.credentialFromResult(G);const H=K.providerId;if(!H||H===Y.p.PASSWORD)return null;let de;switch(H){case Y.p.GOOGLE:de=Y.V;break;case Y.p.FACEBOOK:de=Y.U;break;case Y.p.GITHUB:de=Y.W;break;case Y.p.TWITTER:de=Y.Z;break;default:const{oauthIdToken:ke,oauthAccessToken:lt,oauthTokenSecret:qt,pendingToken:Me,nonce:ee}=K;return lt||qt||ke||Me?Me?H.startsWith("saml.")?Y.aO._create(H,Me):Y.L._fromParams({providerId:H,signInMethod:H,pendingToken:Me,idToken:ke,accessToken:lt}):new Y.X(H).credential({idToken:ke,accessToken:lt,rawNonce:ee}):null}return G instanceof ue.ZR?de.credentialFromError(G):de.credentialFromResult(G)}function dr(G,K){return K.catch(H=>{throw H instanceof ue.ZR&&function gi(G,K){var H;const de=null===(H=K.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===K?.code)K.resolver=new ur(G,Y.aq(G,K));else if(de){const ke=Qn(K),lt=K;ke&&(lt.credential=ke,lt.tenantId=de.tenantId||void 0,lt.email=de.email||void 0,lt.phoneNumber=de.phoneNumber||void 0)}}(G,H),H}).then(H=>{const ke=H.user;return{operationType:H.operationType,credential:$n(H),additionalUserInfo:Y.ao(H),user:Bn.getOrCreate(ke)}})}function wi(G,K){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,w.Z)(function*(G,K){const H=yield K;return{verificationId:H.verificationId,confirm:de=>dr(G,H.confirm(de))}})).apply(this,arguments)}class ur{constructor(K,H){this.resolver=H,this.auth=function pi(G){return G.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return dr(Jn(this.auth),this.resolver.resolveSignIn(K))}}class Bn{constructor(K){this._delegate=K,this.multiFactor=Y.ar(K)}static getOrCreate(K){return Bn.USER_MAP.has(K)||Bn.USER_MAP.set(K,new Bn(K)),Bn.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var H=this;return(0,w.Z)(function*(){return dr(H.auth,Y.a0(H._delegate,K))})()}linkWithPhoneNumber(K,H){var de=this;return(0,w.Z)(function*(){return wi(de.auth,Y.l(de._delegate,K,H))})()}linkWithPopup(K){var H=this;return(0,w.Z)(function*(){return dr(H.auth,Y.d(H._delegate,K,Un))})()}linkWithRedirect(K){var H=this;return(0,w.Z)(function*(){return yield an(Y.aH(H.auth)),Y.g(H._delegate,K,Un)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var H=this;return(0,w.Z)(function*(){return dr(H.auth,Y.a1(H._delegate,K))})()}reauthenticateWithPhoneNumber(K,H){return wi(this.auth,Y.r(this._delegate,K,H))}reauthenticateWithPopup(K){return dr(this.auth,Y.e(this._delegate,K,Un))}reauthenticateWithRedirect(K){var H=this;return(0,w.Z)(function*(){return yield an(Y.aH(H.auth)),Y.h(H._delegate,K,Un)})()}sendEmailVerification(K){return Y.ae(this._delegate,K)}unlink(K){var H=this;return(0,w.Z)(function*(){return yield Y.an(H._delegate,K),H})()}updateEmail(K){return Y.aj(this._delegate,K)}updatePassword(K){return Y.ak(this._delegate,K)}updatePhoneNumber(K){return Y.u(this._delegate,K)}updateProfile(K){return Y.ai(this._delegate,K)}verifyBeforeUpdateEmail(K,H){return Y.af(this._delegate,K,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const nt=Y.aA;let Re=(()=>{class G{constructor(H,de){if(this.app=H,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ke}=H.options;nt(ke,"invalid-api-key",{appName:H.name}),nt(ke,"invalid-api-key",{appName:H.name});const lt=typeof window<"u"?Un:void 0;this._delegate=de.initialize({options:{persistence:kt(ke,H.name),popupRedirectResolver:lt}}),this._delegate._updateErrorMap(Y.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,de){Y.I(this._delegate,H,de)}applyActionCode(H){return Y.a5(this._delegate,H)}checkActionCode(H){return Y.a6(this._delegate,H)}confirmPasswordReset(H,de){return Y.a4(this._delegate,H,de)}createUserWithEmailAndPassword(H,de){var ke=this;return(0,w.Z)(function*(){return dr(ke._delegate,Y.a8(ke._delegate,H,de))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return Y.ad(this._delegate,H)}isSignInWithEmailLink(H){return Y.ab(this._delegate,H)}getRedirectResult(){var H=this;return(0,w.Z)(function*(){nt(cr(),H._delegate,"operation-not-supported-in-this-environment");const de=yield Y.j(H._delegate,Un);return de?dr(H._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function ct(G,K){(0,Y.aH)(G)._logFramework(K)}(this._delegate,H)}onAuthStateChanged(H,de,ke){const{next:lt,error:qt,complete:Me}=It(H,de,ke);return this._delegate.onAuthStateChanged(lt,qt,Me)}onIdTokenChanged(H,de,ke){const{next:lt,error:qt,complete:Me}=It(H,de,ke);return this._delegate.onIdTokenChanged(lt,qt,Me)}sendSignInLinkToEmail(H,de){return Y.aa(this._delegate,H,de)}sendPasswordResetEmail(H,de){return Y.a3(this._delegate,H,de||void 0)}setPersistence(H){var de=this;return(0,w.Z)(function*(){let ke;switch(function wn(G,K){ui(Object.values(Or).includes(K),G,"invalid-persistence-type"),(0,ue.b$)()?ui(K!==Or.SESSION,G,"unsupported-persistence-type"):(0,ue.UG)()?ui(K===Or.NONE,G,"unsupported-persistence-type"):vr()?ui(K===Or.NONE||K===Or.LOCAL&&(0,ue.hl)(),G,"unsupported-persistence-type"):ui(K===Or.NONE||Zn(),G,"unsupported-persistence-type")}(de._delegate,H),H){case Or.SESSION:ke=Y.a;break;case Or.LOCAL:ke=(yield Y.aC(Y.i)._isAvailable())?Y.i:Y.b;break;case Or.NONE:ke=Y.N;break;default:return Y.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(ke)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return dr(this._delegate,Y._(this._delegate))}signInWithCredential(H){return dr(this._delegate,Y.$(this._delegate,H))}signInWithCustomToken(H){return dr(this._delegate,Y.a2(this._delegate,H))}signInWithEmailAndPassword(H,de){return dr(this._delegate,Y.a9(this._delegate,H,de))}signInWithEmailLink(H,de){return dr(this._delegate,Y.ac(this._delegate,H,de))}signInWithPhoneNumber(H,de){return wi(this._delegate,Y.s(this._delegate,H,de))}signInWithPopup(H){var de=this;return(0,w.Z)(function*(){return nt(cr(),de._delegate,"operation-not-supported-in-this-environment"),dr(de._delegate,Y.c(de._delegate,H,Un))})()}signInWithRedirect(H){var de=this;return(0,w.Z)(function*(){return nt(cr(),de._delegate,"operation-not-supported-in-this-environment"),yield an(de._delegate),Y.f(de._delegate,H,Un)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return Y.a7(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Or,G})();function It(G,K,H){let de=G;"function"!=typeof G&&({next:de,error:K,complete:H}=G);const ke=de;return{next:qt=>ke(qt&&Bn.getOrCreate(qt)),error:K,complete:H}}function kt(G,K){const H=function kn(G,K){const H=Rn();if(!H)return[];const de=Y.aD(Gr,G,K);switch(H.getItem(de)){case Or.NONE:return[Y.N];case Or.LOCAL:return[Y.i,Y.a];case Or.SESSION:return[Y.a];default:return[]}}(G,K);if(typeof self<"u"&&!H.includes(Y.i)&&H.push(Y.i),typeof window<"u")for(const de of[Y.b,Y.a])H.includes(de)||H.push(de);return H.includes(Y.N)||H.push(Y.N),H}class cn{constructor(){this.providerId="phone",this._delegate=new Y.P(Jn(ie.Z.auth()))}static credential(K,H){return Y.P.credential(K,H)}verifyPhoneNumber(K,H){return this._delegate.verifyPhoneNumber(K,H)}unwrap(){return this._delegate}}cn.PHONE_SIGN_IN_METHOD=Y.P.PHONE_SIGN_IN_METHOD,cn.PROVIDER_ID=Y.P.PROVIDER_ID;const In=Y.aA;class pr{constructor(K,H,de=ie.Z.app()){var ke;In(null===(ke=de.options)||void 0===ke?void 0:ke.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new Y.R(K,H,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ne(G){G.INTERNAL.registerComponent(new Ie.wA("auth-compat",K=>{const H=K.getProvider("app-compat").getImmediate(),de=K.getProvider("auth");return new Re(H,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y.A.EMAIL_SIGNIN,PASSWORD_RESET:Y.A.PASSWORD_RESET,RECOVER_EMAIL:Y.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y.A.VERIFY_EMAIL}},EmailAuthProvider:Y.Q,FacebookAuthProvider:Y.U,GithubAuthProvider:Y.W,GoogleAuthProvider:Y.V,OAuthProvider:Y.X,SAMLAuthProvider:Y.Y,PhoneAuthProvider:cn,PhoneMultiFactorGenerator:Y.m,RecaptchaVerifier:pr,TwitterAuthProvider:Y.Z,Auth:Re,AuthCredential:Y.J,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.4.2")}(ie.Z)},6593:(Gt,$e,U)=>{U.d($e,{Dx:()=>Or,b2:()=>cr,q6:()=>sn});var w=U(5879),ie=U(6814);class Y extends ie.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends Y{static makeCurrent(){(0,ie.HT)(new ue)}onAndCancel(G,K,H){return G.addEventListener(K,H),()=>{G.removeEventListener(K,H)}}dispatchEvent(G,K){G.dispatchEvent(K)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,K){return(K=K||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,K){return"window"===K?window:"document"===K?G:"body"===K?G.body:null}getBaseHref(G){const K=function Ae(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==K?null:function pe(ne){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",ne);const G=Ie.pathname;return"/"===G.charAt(0)?G:`/${G}`}(K)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,ie.Mx)(document.cookie,G)}}let Ie,m=null,re=(()=>{var ne;class G{build(){return new XMLHttpRequest}}return(ne=G).\u0275fac=function(H){return new(H||ne)},ne.\u0275prov=w.Yz7({token:ne,factory:ne.\u0275fac}),G})();const ye=new w.OlP("EventManagerPlugins");let Pe=(()=>{var ne;class G{constructor(H,de){this._zone=de,this._eventNameToPlugin=new Map,H.forEach(ke=>{ke.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,de,ke){return this._findPluginFor(de).addEventListener(H,de,ke)}getZone(){return this._zone}_findPluginFor(H){let de=this._eventNameToPlugin.get(H);if(de)return de;if(de=this._plugins.find(lt=>lt.supports(H)),!de)throw new w.vHH(5101,!1);return this._eventNameToPlugin.set(H,de),de}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(ye),w.LFG(w.R0b))},ne.\u0275prov=w.Yz7({token:ne,factory:ne.\u0275fac}),G})();class Be{constructor(G){this._doc=G}}const it="ng-app-id";let Pt=(()=>{var ne;class G{constructor(H,de,ke,lt={}){this.doc=H,this.appId=de,this.nonce=ke,this.platformId=lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ie.PM)(lt),this.resetHostNodes()}addStyles(H){for(const de of H)1===this.changeUsageCount(de,1)&&this.onStyleAdded(de)}removeStyles(H){for(const de of H)this.changeUsageCount(de,-1)<=0&&this.onStyleRemoved(de)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(de=>de.remove()),H.clear());for(const de of this.getAllStyles())this.onStyleRemoved(de);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const de of this.getAllStyles())this.addStyleToHost(H,de)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const de of this.hostNodes)this.addStyleToHost(de,H)}onStyleRemoved(H){const de=this.styleRef;de.get(H)?.elements?.forEach(ke=>ke.remove()),de.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${it}="${this.appId}"]`);if(H?.length){const de=new Map;return H.forEach(ke=>{null!=ke.textContent&&de.set(ke.textContent,ke)}),de}return null}changeUsageCount(H,de){const ke=this.styleRef;if(ke.has(H)){const lt=ke.get(H);return lt.usage+=de,lt.usage}return ke.set(H,{usage:de,elements:[]}),de}getStyleElement(H,de){const ke=this.styleNodesInDOM,lt=ke?.get(de);if(lt?.parentNode===H)return ke.delete(de),lt.removeAttribute(it),lt;{const qt=this.doc.createElement("style");return this.nonce&&qt.setAttribute("nonce",this.nonce),qt.textContent=de,this.platformIsServer&&qt.setAttribute(it,this.appId),qt}}addStyleToHost(H,de){const ke=this.getStyleElement(H,de);H.appendChild(ke);const lt=this.styleRef,qt=lt.get(de)?.elements;qt?qt.push(ke):lt.set(de,{elements:[ke],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(ie.K0),w.LFG(w.AFp),w.LFG(w.Ojb,8),w.LFG(w.Lbi))},ne.\u0275prov=w.Yz7({token:ne,factory:ne.\u0275fac}),G})();const Le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},De=/%COMP%/g,pt=new w.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mt(ne,G){return G.map(K=>K.replace(De,ne))}let Ee=(()=>{var ne;class G{constructor(H,de,ke,lt,qt,Me,ee,ge=null){this.eventManager=H,this.sharedStylesHost=de,this.appId=ke,this.removeStylesOnCompDestroy=lt,this.doc=qt,this.platformId=Me,this.ngZone=ee,this.nonce=ge,this.rendererByCompId=new Map,this.platformIsServer=(0,ie.PM)(Me),this.defaultRenderer=new dt(H,qt,ee,this.platformIsServer)}createRenderer(H,de){if(!H||!de)return this.defaultRenderer;this.platformIsServer&&de.encapsulation===w.ifc.ShadowDom&&(de={...de,encapsulation:w.ifc.Emulated});const ke=this.getOrCreateRenderer(H,de);return ke instanceof ar?ke.applyToHost(H):ke instanceof Sn&&ke.applyStyles(),ke}getOrCreateRenderer(H,de){const ke=this.rendererByCompId;let lt=ke.get(de.id);if(!lt){const qt=this.doc,Me=this.ngZone,ee=this.eventManager,ge=this.sharedStylesHost,Qe=this.removeStylesOnCompDestroy,me=this.platformIsServer;switch(de.encapsulation){case w.ifc.Emulated:lt=new ar(ee,ge,de,this.appId,Qe,qt,Me,me);break;case w.ifc.ShadowDom:return new yr(ee,ge,H,de,qt,Me,this.nonce,me);default:lt=new Sn(ee,ge,de,Qe,qt,Me,me)}ke.set(de.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(Pe),w.LFG(Pt),w.LFG(w.AFp),w.LFG(pt),w.LFG(ie.K0),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(w.Ojb))},ne.\u0275prov=w.Yz7({token:ne,factory:ne.\u0275fac}),G})();class dt{constructor(G,K,H,de){this.eventManager=G,this.doc=K,this.ngZone=H,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,K){return K?this.doc.createElementNS(Le[K]||K,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,K){(_n(G)?G.content:G).appendChild(K)}insertBefore(G,K,H){G&&(_n(G)?G.content:G).insertBefore(K,H)}removeChild(G,K){G&&G.removeChild(K)}selectRootElement(G,K){let H="string"==typeof G?this.doc.querySelector(G):G;if(!H)throw new w.vHH(-5104,!1);return K||(H.textContent=""),H}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,K,H,de){if(de){K=de+":"+K;const ke=Le[de];ke?G.setAttributeNS(ke,K,H):G.setAttribute(K,H)}else G.setAttribute(K,H)}removeAttribute(G,K,H){if(H){const de=Le[H];de?G.removeAttributeNS(de,K):G.removeAttribute(`${H}:${K}`)}else G.removeAttribute(K)}addClass(G,K){G.classList.add(K)}removeClass(G,K){G.classList.remove(K)}setStyle(G,K,H,de){de&(w.JOm.DashCase|w.JOm.Important)?G.style.setProperty(K,H,de&w.JOm.Important?"important":""):G.style[K]=H}removeStyle(G,K,H){H&w.JOm.DashCase?G.style.removeProperty(K):G.style[K]=""}setProperty(G,K,H){G[K]=H}setValue(G,K){G.nodeValue=K}listen(G,K,H){if("string"==typeof G&&!(G=(0,ie.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${K}`);return this.eventManager.addEventListener(G,K,this.decoratePreventDefault(H))}decoratePreventDefault(G){return K=>{if("__ngUnwrap__"===K)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(K)):G(K))&&K.preventDefault()}}}function _n(ne){return"TEMPLATE"===ne.tagName&&void 0!==ne.content}class yr extends dt{constructor(G,K,H,de,ke,lt,qt,Me){super(G,ke,lt,Me),this.sharedStylesHost=K,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ee=mt(de.id,de.styles);for(const ge of ee){const Qe=document.createElement("style");qt&&Qe.setAttribute("nonce",qt),Qe.textContent=ge,this.shadowRoot.appendChild(Qe)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,K){return super.appendChild(this.nodeOrShadowRoot(G),K)}insertBefore(G,K,H){return super.insertBefore(this.nodeOrShadowRoot(G),K,H)}removeChild(G,K){return super.removeChild(this.nodeOrShadowRoot(G),K)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sn extends dt{constructor(G,K,H,de,ke,lt,qt,Me){super(G,ke,lt,qt),this.sharedStylesHost=K,this.removeStylesOnCompDestroy=de,this.styles=Me?mt(Me,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ar extends Sn{constructor(G,K,H,de,ke,lt,qt,Me){const ee=de+"-"+H.id;super(G,K,H,ke,lt,qt,Me,ee),this.contentAttr=function Ke(ne){return"_ngcontent-%COMP%".replace(De,ne)}(ee),this.hostAttr=function ut(ne){return"_nghost-%COMP%".replace(De,ne)}(ee)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,K){const H=super.createElement(G,K);return super.setAttribute(H,this.contentAttr,""),H}}let Kn=(()=>{var ne;class G extends Be{constructor(H){super(H)}supports(H){return!0}addEventListener(H,de,ke){return H.addEventListener(de,ke,!1),()=>this.removeEventListener(H,de,ke)}removeEventListener(H,de,ke){return H.removeEventListener(de,ke)}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(ie.K0))},ne.\u0275prov=w.Yz7({token:ne,factory:ne.\u0275fac}),G})();const fr=["alt","control","meta","shift"],qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let ct=(()=>{var ne;class G extends Be{constructor(H){super(H)}supports(H){return null!=G.parseEventName(H)}addEventListener(H,de,ke){const lt=G.parseEventName(de),qt=G.eventCallback(lt.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ie.q)().onAndCancel(H,lt.domEventName,qt))}static parseEventName(H){const de=H.toLowerCase().split("."),ke=de.shift();if(0===de.length||"keydown"!==ke&&"keyup"!==ke)return null;const lt=G._normalizeKey(de.pop());let qt="",Me=de.indexOf("code");if(Me>-1&&(de.splice(Me,1),qt="code."),fr.forEach(ge=>{const Qe=de.indexOf(ge);Qe>-1&&(de.splice(Qe,1),qt+=ge+".")}),qt+=lt,0!=de.length||0===lt.length)return null;const ee={};return ee.domEventName=ke,ee.fullKey=qt,ee}static matchEventFullKeyCode(H,de){let ke=qe[H.key]||H.key,lt="";return de.indexOf("code.")>-1&&(ke=H.code,lt="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),fr.forEach(qt=>{qt!==ke&&(0,at[qt])(H)&&(lt+=qt+".")}),lt+=ke,lt===de)}static eventCallback(H,de,ke){return lt=>{G.matchEventFullKeyCode(lt,H)&&ke.runGuarded(()=>de(lt))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(ie.K0))},ne.\u0275prov=w.Yz7({token:ne,factory:ne.\u0275fac}),G})();const sn=(0,w.eFA)(w._c5,"browser",[{provide:w.Lbi,useValue:ie.bD},{provide:w.g9A,useValue:function gt(){ue.makeCurrent()},multi:!0},{provide:ie.K0,useFactory:function Tn(){return(0,w.RDi)(document),document},deps:[]}]),tr=new w.OlP(""),Zn=[{provide:w.rWj,useClass:class Se{addToWindow(G){w.dqk.getAngularTestability=(H,de=!0)=>{const ke=G.findTestabilityInTree(H,de);if(null==ke)throw new w.vHH(5103,!1);return ke},w.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),w.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),w.dqk.frameworkStabilizers||(w.dqk.frameworkStabilizers=[]),w.dqk.frameworkStabilizers.push(H=>{const de=w.dqk.getAllAngularTestabilities();let ke=de.length,lt=!1;const qt=function(Me){lt=lt||Me,ke--,0==ke&&H(lt)};de.forEach(Me=>{Me.whenStable(qt)})})}findTestabilityInTree(G,K,H){return null==K?null:G.getTestability(K)??(H?(0,ie.q)().isShadowRoot(K)?this.findTestabilityInTree(G,K.host,!0):this.findTestabilityInTree(G,K.parentElement,!0):null)}},deps:[]},{provide:w.lri,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]},{provide:w.dDg,useClass:w.dDg,deps:[w.R0b,w.eoX,w.rWj]}],vr=[{provide:w.zSh,useValue:"root"},{provide:w.qLn,useFactory:function Wn(){return new w.qLn},deps:[]},{provide:ye,useClass:Kn,multi:!0,deps:[ie.K0,w.R0b,w.Lbi]},{provide:ye,useClass:ct,multi:!0,deps:[ie.K0]},Ee,Pt,Pe,{provide:w.FYo,useExisting:Ee},{provide:ie.JF,useClass:re,deps:[]},[]];let cr=(()=>{var ne;class G{constructor(H){}static withServerTransition(H){return{ngModule:G,providers:[{provide:w.AFp,useValue:H.appId}]}}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(tr,12))},ne.\u0275mod=w.oAB({type:ne}),ne.\u0275inj=w.cJS({providers:[...vr,...Zn],imports:[ie.ez,w.hGG]}),G})(),Or=(()=>{var ne;class G{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return(ne=G).\u0275fac=function(H){return new(H||ne)(w.LFG(ie.K0))},ne.\u0275prov=w.Yz7({token:ne,factory:function(H){let de=null;return de=H?new H:function Ar(){return new Or((0,w.LFG)(ie.K0))}(),de},providedIn:"root"}),G})();typeof window<"u"&&window},6811:(Gt,$e,U)=>{U.d($e,{gz:()=>Ro,F0:()=>Yt,rH:()=>rn,Bz:()=>Iu,lC:()=>Fs});var w=U(5879),ie=U(2664),Y=U(2459),ue=U(2096),m=U(5619),Ae=U(2572),Ie=U(6973),pe=U(5211),Se=U(5592),re=U(4829);function ye(A){return new Se.y(N=>{(0,re.Xf)(A()).subscribe(N)})}var Pe=U(8407),Be=U(8504),it=U(6232),Pt=U(3168),Le=U(8645),De=U(7394),Fe=U(6814),wt=U(7398),yt=U(4664),xe=U(8180),pt=U(7921),Ke=U(2181),ut=U(1631),mt=U(1374),Ee=U(6328),dt=U(9397),Ot=U(6306),Qt=U(6699),_n=U(3572),yr=U(9360),Sn=U(8251);function ar(A){return A<=0?()=>it.E:(0,yr.e)((N,V)=>{let M=[];N.subscribe((0,Sn.x)(V,z=>{M.push(z),A<M.length&&M.shift()},()=>{for(const z of M)V.next(z);V.complete()},void 0,()=>{M=null}))})}var Kn=U(3026),fr=U(2737),ct=U(4716),Je=U(6196),vt=U(9773),Dt=U(7537),Wt=U(6593);const gt="primary",Wn=Symbol("RouteTitle");class Tn{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const V=this.params[N];return Array.isArray(V)?V[0]:V}return null}getAll(N){if(this.has(N)){const V=this.params[N];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function Vn(A){return new Tn(A)}function sn(A,N,V){const M=V.path.split("/");if(M.length>A.length||"full"===V.pathMatch&&(N.hasChildren()||M.length<A.length))return null;const z={};for(let se=0;se<M.length;se++){const fe=M[se],Ze=A[se];if(fe.startsWith(":"))z[fe.substring(1)]=Ze;else if(fe!==Ze.path)return null}return{consumed:A.slice(0,M.length),posParams:z}}function Zn(A,N){const V=A?Object.keys(A):void 0,M=N?Object.keys(N):void 0;if(!V||!M||V.length!=M.length)return!1;let z;for(let se=0;se<V.length;se++)if(z=V[se],!vr(A[z],N[z]))return!1;return!0}function vr(A,N){if(Array.isArray(A)&&Array.isArray(N)){if(A.length!==N.length)return!1;const V=[...A].sort(),M=[...N].sort();return V.every((z,se)=>M[se]===z)}return A===N}function cr(A){return A.length>0?A[A.length-1]:null}function Cr(A){return(0,ie.b)(A)?A:(0,w.QGY)(A)?(0,Y.D)(Promise.resolve(A)):(0,ue.of)(A)}const ai={exact:function ui(A,N,V){if(!Jn(A.segments,N.segments)||!An(A.segments,N.segments,V)||A.numberOfChildren!==N.numberOfChildren)return!1;for(const M in N.children)if(!A.children[M]||!ui(A.children[M],N.children[M],V))return!1;return!0},subset:wn},zr={exact:function Or(A,N){return Zn(A,N)},subset:function Gr(A,N){return Object.keys(N).length<=Object.keys(A).length&&Object.keys(N).every(V=>vr(A[V],N[V]))},ignored:()=>!0};function Ar(A,N,V){return ai[V.paths](A.root,N.root,V.matrixParams)&&zr[V.queryParams](A.queryParams,N.queryParams)&&!("exact"===V.fragment&&A.fragment!==N.fragment)}function wn(A,N,V){return an(A,N,N.segments,V)}function an(A,N,V,M){if(A.segments.length>V.length){const z=A.segments.slice(0,V.length);return!(!Jn(z,V)||N.hasChildren()||!An(z,V,M))}if(A.segments.length===V.length){if(!Jn(A.segments,V)||!An(A.segments,V,M))return!1;for(const z in N.children)if(!A.children[z]||!wn(A.children[z],N.children[z],M))return!1;return!0}{const z=V.slice(0,A.segments.length),se=V.slice(A.segments.length);return!!(Jn(A.segments,z)&&An(A.segments,z,M)&&A.children[gt])&&an(A.children[gt],N,se,M)}}function An(A,N,V){return N.every((M,z)=>zr[V](A[z].parameters,M.parameters))}class kn{constructor(N=new Rn([],{}),V={},M=null){this.root=N,this.queryParams=V,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class Rn{constructor(N,V){this.segments=N,this.children=V,this.parent=null,Object.values(V).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dr(this)}}class qr{constructor(N,V){this.path=N,this.parameters=V}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return kt(this)}}function Jn(A,N){return A.length===N.length&&A.every((V,M)=>V.path===N[M].path)}let $n=(()=>{var A;class N{}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return new gi},providedIn:"root"}),N})();class gi{parse(N){const V=new lt(N);return new kn(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(N){const V=`/${wi(N.root,!0)}`,M=function In(A){const N=Object.keys(A).map(V=>{const M=A[V];return Array.isArray(M)?M.map(z=>`${ur(V)}=${ur(z)}`).join("&"):`${ur(V)}=${ur(M)}`}).filter(V=>!!V);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${V}${M}${"string"==typeof N.fragment?`#${function Bn(A){return encodeURI(A)}(N.fragment)}`:""}`}}const Qn=new gi;function dr(A){return A.segments.map(N=>kt(N)).join("/")}function wi(A,N){if(!A.hasChildren())return dr(A);if(N){const V=A.children[gt]?wi(A.children[gt],!1):"",M=[];return Object.entries(A.children).forEach(([z,se])=>{z!==gt&&M.push(`${z}:${wi(se,!1)}`)}),M.length>0?`${V}(${M.join("//")})`:V}{const V=function pi(A,N){let V=[];return Object.entries(A.children).forEach(([M,z])=>{M===gt&&(V=V.concat(N(z,M)))}),Object.entries(A.children).forEach(([M,z])=>{M!==gt&&(V=V.concat(N(z,M)))}),V}(A,(M,z)=>z===gt?[wi(A.children[gt],!1)]:[`${z}:${wi(M,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[gt]?`${dr(A)}/${V[0]}`:`${dr(A)}/(${V.join("//")})`}}function Hi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ur(A){return Hi(A).replace(/%3B/gi,";")}function nt(A){return Hi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Re(A){return decodeURIComponent(A)}function It(A){return Re(A.replace(/\+/g,"%20"))}function kt(A){return`${nt(A.path)}${function cn(A){return Object.keys(A).map(N=>`;${nt(N)}=${nt(A[N])}`).join("")}(A.parameters)}`}const pr=/^[^\/()?;#]+/;function be(A){const N=A.match(pr);return N?N[0]:""}const ne=/^[^\/()?;=#]+/,K=/^[^=?&#]+/,de=/^[^&#]+/;class lt{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(N.length>0||Object.keys(V).length>0)&&(M[gt]=new Rn(N,V)),M}parseSegment(){const N=be(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(N),new qr(Re(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const V=function G(A){const N=A.match(ne);return N?N[0]:""}(this.remaining);if(!V)return;this.capture(V);let M="";if(this.consumeOptional("=")){const z=be(this.remaining);z&&(M=z,this.capture(M))}N[Re(V)]=Re(M)}parseQueryParam(N){const V=function H(A){const N=A.match(K);return N?N[0]:""}(this.remaining);if(!V)return;this.capture(V);let M="";if(this.consumeOptional("=")){const fe=function ke(A){const N=A.match(de);return N?N[0]:""}(this.remaining);fe&&(M=fe,this.capture(M))}const z=It(V),se=It(M);if(N.hasOwnProperty(z)){let fe=N[z];Array.isArray(fe)||(fe=[fe],N[z]=fe),fe.push(se)}else N[z]=se}parseParens(N){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=be(this.remaining),z=this.remaining[M.length];if("/"!==z&&")"!==z&&";"!==z)throw new w.vHH(4010,!1);let se;M.indexOf(":")>-1?(se=M.slice(0,M.indexOf(":")),this.capture(se),this.capture(":")):N&&(se=gt);const fe=this.parseChildren();V[se]=1===Object.keys(fe).length?fe[gt]:new Rn([],fe),this.consumeOptional("//")}return V}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new w.vHH(4011,!1)}}function qt(A){return A.segments.length>0?new Rn([],{[gt]:A}):A}function Me(A){const N={};for(const M of Object.keys(A.children)){const se=Me(A.children[M]);if(M===gt&&0===se.segments.length&&se.hasChildren())for(const[fe,Ze]of Object.entries(se.children))N[fe]=Ze;else(se.segments.length>0||se.hasChildren())&&(N[M]=se)}return function ee(A){if(1===A.numberOfChildren&&A.children[gt]){const N=A.children[gt];return new Rn(A.segments.concat(N.segments),N.children)}return A}(new Rn(A.segments,N))}function ge(A){return A instanceof kn}function me(A){let N;const z=qt(function V(se){const fe={};for(const Nt of se.children){const Tt=V(Nt);fe[Nt.outlet]=Tt}const Ze=new Rn(se.url,fe);return se===A&&(N=Ze),Ze}(A.root));return N??z}function _e(A,N,V,M){let z=A;for(;z.parent;)z=z.parent;if(0===N.length)return Ft(z,z,z,V,M);const se=function Bt(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Xt(!0,0,A);let N=0,V=!1;const M=A.reduce((z,se,fe)=>{if("object"==typeof se&&null!=se){if(se.outlets){const Ze={};return Object.entries(se.outlets).forEach(([Nt,Tt])=>{Ze[Nt]="string"==typeof Tt?Tt.split("/"):Tt}),[...z,{outlets:Ze}]}if(se.segmentPath)return[...z,se.segmentPath]}return"string"!=typeof se?[...z,se]:0===fe?(se.split("/").forEach((Ze,Nt)=>{0==Nt&&"."===Ze||(0==Nt&&""===Ze?V=!0:".."===Ze?N++:""!=Ze&&z.push(Ze))}),z):[...z,se]},[]);return new Xt(V,N,M)}(N);if(se.toRoot())return Ft(z,z,new Rn([],{}),V,M);const fe=function Fn(A,N,V){if(A.isAbsolute)return new ir(N,!0,0);if(!V)return new ir(N,!1,NaN);if(null===V.parent)return new ir(V,!0,0);const M=ze(A.commands[0])?0:1;return function di(A,N,V){let M=A,z=N,se=V;for(;se>z;){if(se-=z,M=M.parent,!M)throw new w.vHH(4005,!1);z=M.segments.length}return new ir(M,!1,z-se)}(V,V.segments.length-1+M,A.numberOfDoubleDots)}(se,z,A),Ze=fe.processChildren?ni(fe.segmentGroup,fe.index,se.commands):Dr(fe.segmentGroup,fe.index,se.commands);return Ft(z,fe.segmentGroup,Ze,V,M)}function ze(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ye(A){return"object"==typeof A&&null!=A&&A.outlets}function Ft(A,N,V,M,z){let fe,se={};M&&Object.entries(M).forEach(([Nt,Tt])=>{se[Nt]=Array.isArray(Tt)?Tt.map(gn=>`${gn}`):`${Tt}`}),fe=A===N?V:Mt(A,N,V);const Ze=qt(Me(fe));return new kn(Ze,se,z)}function Mt(A,N,V){const M={};return Object.entries(A.children).forEach(([z,se])=>{M[z]=se===N?V:Mt(se,N,V)}),new Rn(A.segments,M)}class Xt{constructor(N,V,M){if(this.isAbsolute=N,this.numberOfDoubleDots=V,this.commands=M,N&&M.length>0&&ze(M[0]))throw new w.vHH(4003,!1);const z=M.find(Ye);if(z&&z!==cr(M))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ir{constructor(N,V,M){this.segmentGroup=N,this.processChildren=V,this.index=M}}function Dr(A,N,V){if(A||(A=new Rn([],{})),0===A.segments.length&&A.hasChildren())return ni(A,N,V);const M=function ps(A,N,V){let M=0,z=N;const se={match:!1,pathIndex:0,commandIndex:0};for(;z<A.segments.length;){if(M>=V.length)return se;const fe=A.segments[z],Ze=V[M];if(Ye(Ze))break;const Nt=`${Ze}`,Tt=M<V.length-1?V[M+1]:null;if(z>0&&void 0===Nt)break;if(Nt&&Tt&&"object"==typeof Tt&&void 0===Tt.outlets){if(!ri(Nt,Tt,fe))return se;M+=2}else{if(!ri(Nt,{},fe))return se;M++}z++}return{match:!0,pathIndex:z,commandIndex:M}}(A,N,V),z=V.slice(M.commandIndex);if(M.match&&M.pathIndex<A.segments.length){const se=new Rn(A.segments.slice(0,M.pathIndex),{});return se.children[gt]=new Rn(A.segments.slice(M.pathIndex),A.children),ni(se,0,z)}return M.match&&0===z.length?new Rn(A.segments,{}):M.match&&!A.hasChildren()?jr(A,N,V):M.match?ni(A,0,z):jr(A,N,V)}function ni(A,N,V){if(0===V.length)return new Rn(A.segments,{});{const M=function Di(A){return Ye(A[0])?A[0].outlets:{[gt]:A}}(V),z={};if(Object.keys(M).some(se=>se!==gt)&&A.children[gt]&&1===A.numberOfChildren&&0===A.children[gt].segments.length){const se=ni(A.children[gt],N,V);return new Rn(A.segments,se.children)}return Object.entries(M).forEach(([se,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(z[se]=Dr(A.children[se],N,fe))}),Object.entries(A.children).forEach(([se,fe])=>{void 0===M[se]&&(z[se]=fe)}),new Rn(A.segments,z)}}function jr(A,N,V){const M=A.segments.slice(0,N);let z=0;for(;z<V.length;){const se=V[z];if(Ye(se)){const Nt=Pn(se.outlets);return new Rn(M,Nt)}if(0===z&&ze(V[0])){M.push(new qr(A.segments[N].path,jn(V[0]))),z++;continue}const fe=Ye(se)?se.outlets[gt]:`${se}`,Ze=z<V.length-1?V[z+1]:null;fe&&Ze&&ze(Ze)?(M.push(new qr(fe,jn(Ze))),z+=2):(M.push(new qr(fe,{})),z++)}return new Rn(M,{})}function Pn(A){const N={};return Object.entries(A).forEach(([V,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(N[V]=jr(new Rn([],{}),0,M))}),N}function jn(A){const N={};return Object.entries(A).forEach(([V,M])=>N[V]=`${M}`),N}function ri(A,N,V){return A==V.path&&Zn(N,V.parameters)}const bs="imperative";class Wr{constructor(N,V){this.id=N,this.url=V}}class Yr extends Wr{constructor(N,V,M="imperative",z=null){super(N,V),this.type=0,this.navigationTrigger=M,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends Wr{constructor(N,V,M){super(N,V),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cs extends Wr{constructor(N,V,M,z){super(N,V),this.reason=M,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Na extends Wr{constructor(N,V,M,z){super(N,V),this.reason=M,this.code=z,this.type=16}}class xo extends Wr{constructor(N,V,M,z){super(N,V),this.error=M,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends Wr{constructor(N,V,M,z){super(N,V),this.urlAfterRedirects=M,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ve extends Wr{constructor(N,V,M,z){super(N,V),this.urlAfterRedirects=M,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends Wr{constructor(N,V,M,z,se){super(N,V),this.urlAfterRedirects=M,this.state=z,this.shouldActivate=se,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xt extends Wr{constructor(N,V,M,z){super(N,V),this.urlAfterRedirects=M,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt extends Wr{constructor(N,V,M,z){super(N,V),this.urlAfterRedirects=M,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gr{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Er{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hr{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ka{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ls{constructor(N,V,M){this.routerEvent=N,this.position=V,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $i{}class La{constructor(N){this.url=N}}class ku{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ao,this.attachRef=null}}let ao=(()=>{var A;class N{constructor(){this.contexts=new Map}onChildOutletCreated(M,z){const se=this.getOrCreateContext(M);se.outlet=z,this.contexts.set(M,se)}onChildOutletDestroyed(M){const z=this.getContext(M);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let z=this.getContext(M);return z||(z=new ku,this.contexts.set(M,z)),z}getContext(M){return this.contexts.get(M)||null}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();class Lu{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const V=this.pathFromRoot(N);return V.length>1?V[V.length-2]:null}children(N){const V=Fa(N,this._root);return V?V.children.map(M=>M.value):[]}firstChild(N){const V=Fa(N,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(N){const V=cu(N,this._root);return V.length<2?[]:V[V.length-2].children.map(z=>z.value).filter(z=>z!==N)}pathFromRoot(N){return cu(N,this._root).map(V=>V.value)}}function Fa(A,N){if(A===N.value)return N;for(const V of N.children){const M=Fa(A,V);if(M)return M}return null}function cu(A,N){if(A===N.value)return[N];for(const V of N.children){const M=cu(A,V);if(M.length)return M.unshift(N),M}return[]}class lr{constructor(N,V){this.value=N,this.children=V}toString(){return`TreeNode(${this.value})`}}function Ii(A){const N={};return A&&A.children.forEach(V=>N[V.value.outlet]=V),N}class ns extends Lu{constructor(N,V){super(N),this.snapshot=V,li(this,N)}toString(){return this.snapshot.toString()}}function Ms(A,N){const V=function Ai(A,N){const fe=new Fr([],{},{},"",{},gt,N,null,{});return new Po("",new lr(fe,[]))}(0,N),M=new m.X([new qr("",{})]),z=new m.X({}),se=new m.X({}),fe=new m.X({}),Ze=new m.X(""),Nt=new Ro(M,z,fe,Ze,se,gt,N,V.root);return Nt.snapshot=V.root,new ns(new lr(Nt,[]),V)}class Ro{constructor(N,V,M,z,se,fe,Ze,Nt){this.urlSubject=N,this.paramsSubject=V,this.queryParamsSubject=M,this.fragmentSubject=z,this.dataSubject=se,this.outlet=fe,this.component=Ze,this._futureSnapshot=Nt,this.title=this.dataSubject?.pipe((0,wt.U)(Tt=>Tt[Wn]))??(0,ue.of)(void 0),this.url=N,this.params=V,this.queryParams=M,this.fragment=z,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(N=>Vn(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(N=>Vn(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function du(A,N="emptyOnly"){const V=A.pathFromRoot;let M=0;if("always"!==N)for(M=V.length-1;M>=1;){const z=V[M],se=V[M-1];if(z.routeConfig&&""===z.routeConfig.path)M--;else{if(se.component)break;M--}}return function hu(A){return A.reduce((N,V)=>({params:{...N.params,...V.params},data:{...N.data,...V.data},resolve:{...V.data,...N.resolve,...V.routeConfig?.data,...V._resolvedData}}),{params:{},data:{},resolve:{}})}(V.slice(M))}class Fr{get title(){return this.data?.[Wn]}constructor(N,V,M,z,se,fe,Ze,Nt,Tt){this.url=N,this.params=V,this.queryParams=M,this.fragment=z,this.data=se,this.outlet=fe,this.component=Ze,this.routeConfig=Nt,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Po extends Lu{constructor(N,V){super(V),this.url=N,li(this,V)}toString(){return en(this._root)}}function li(A,N){N.value._routerState=A,N.children.forEach(V=>li(A,V))}function en(A){const N=A.children.length>0?` { ${A.children.map(en).join(", ")} } `:"";return`${A.value}${N}`}function sr(A){if(A.snapshot){const N=A.snapshot,V=A._futureSnapshot;A.snapshot=V,Zn(N.queryParams,V.queryParams)||A.queryParamsSubject.next(V.queryParams),N.fragment!==V.fragment&&A.fragmentSubject.next(V.fragment),Zn(N.params,V.params)||A.paramsSubject.next(V.params),function tr(A,N){if(A.length!==N.length)return!1;for(let V=0;V<A.length;++V)if(!Zn(A[V],N[V]))return!1;return!0}(N.url,V.url)||A.urlSubject.next(V.url),Zn(N.data,V.data)||A.dataSubject.next(V.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function Jr(A,N){const V=Zn(A.params,N.params)&&function Un(A,N){return Jn(A,N)&&A.every((V,M)=>Zn(V.parameters,N[M].parameters))}(A.url,N.url);return V&&!(!A.parent!=!N.parent)&&(!A.parent||Jr(A.parent,N.parent))}let Fs=(()=>{var A;class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(ao),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb),this.inputBinder=(0,w.f3M)(gs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:z,previousValue:se}=M.name;if(z)return;this.isTrackedInParentContexts(se)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(se)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,z){this.activated=M,this._activatedRoute=z,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,z){if(this.isActivated)throw new w.vHH(4013,!1);this._activatedRoute=M;const se=this.location,Ze=M.snapshot.component,Nt=this.parentContexts.getOrCreateContext(this.name).children,Tt=new ta(M,Nt,se.injector);this.activated=se.createComponent(Ze,{index:se.length,injector:Tt,environmentInjector:z??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275dir=w.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),N})();class ta{constructor(N,V,M){this.route=N,this.childContexts=V,this.parent=M}get(N,V){return N===Ro?this.route:N===ao?this.childContexts:this.parent.get(N,V)}}const gs=new w.OlP("");let _o=(()=>{var A;class N{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:z}=M,se=(0,Ae.a)([z.queryParams,z.params,z.data]).pipe((0,yt.w)(([fe,Ze,Nt],Tt)=>(Nt={...fe,...Ze,...Nt},0===Tt?(0,ue.of)(Nt):Promise.resolve(Nt)))).subscribe(fe=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==z||null===z.component)return void this.unsubscribeFromRouteData(M);const Ze=(0,w.qFp)(z.component);if(Ze)for(const{templateName:Nt}of Ze.inputs)M.activatedComponentRef.setInput(Nt,fe[Nt]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,se)}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),N})();function zi(A,N,V){if(V&&A.shouldReuseRoute(N.value,V.value.snapshot)){const M=V.value;M._futureSnapshot=N.value;const z=function ma(A,N,V){return N.children.map(M=>{for(const z of V.children)if(A.shouldReuseRoute(M.value,z.value.snapshot))return zi(A,M,z);return zi(A,M)})}(A,N,V);return new lr(M,z)}{if(A.shouldAttach(N.value)){const se=A.retrieve(N.value);if(null!==se){const fe=se.route;return fe.value._futureSnapshot=N.value,fe.children=N.children.map(Ze=>zi(A,Ze)),fe}}const M=function Mn(A){return new Ro(new m.X(A.url),new m.X(A.params),new m.X(A.queryParams),new m.X(A.fragment),new m.X(A.data),A.outlet,A.component,A)}(N.value),z=N.children.map(se=>zi(A,se));return new lr(M,z)}}const Vs="ngNavigationCancelingError";function Va(A,N){const{redirectTo:V,navigationBehaviorOptions:M}=ge(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,z=eo(!1,0,N);return z.url=V,z.navigationBehaviorOptions=M,z}function eo(A,N,V){const M=new Error("NavigationCancelingError: "+(A||""));return M[Vs]=!0,M.cancellationCode=N,V&&(M.url=V),M}function _a(A){return A&&A[Vs]}let to=(()=>{var A;class N{}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275cmp=w.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(M,z){1&M&&w._UZ(0,"router-outlet")},dependencies:[Fs],encapsulation:2}),N})();function Fu(A){const N=A.children&&A.children.map(Fu),V=N?{...A,children:N}:{...A};return!V.component&&!V.loadComponent&&(N||V.loadChildren)&&V.outlet&&V.outlet!==gt&&(V.component=to),V}function xi(A){return A.outlet||gt}function Oi(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let N=A.parent;N;N=N.parent){const V=N.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class Li{constructor(N,V,M,z,se){this.routeReuseStrategy=N,this.futureState=V,this.currState=M,this.forwardEvent=z,this.inputBindingEnabled=se}activate(N){const V=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,M,N),sr(this.futureState.root),this.activateChildRoutes(V,M,N)}deactivateChildRoutes(N,V,M){const z=Ii(V);N.children.forEach(se=>{const fe=se.value.outlet;this.deactivateRoutes(se,z[fe],M),delete z[fe]}),Object.values(z).forEach(se=>{this.deactivateRouteAndItsChildren(se,M)})}deactivateRoutes(N,V,M){const z=N.value,se=V?V.value:null;if(z===se)if(z.component){const fe=M.getContext(z.outlet);fe&&this.deactivateChildRoutes(N,V,fe.children)}else this.deactivateChildRoutes(N,V,M);else se&&this.deactivateRouteAndItsChildren(V,M)}deactivateRouteAndItsChildren(N,V){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,V):this.deactivateRouteAndOutlet(N,V)}detachAndStoreRouteSubtree(N,V){const M=V.getContext(N.value.outlet),z=M&&N.value.component?M.children:V,se=Ii(N);for(const fe of Object.keys(se))this.deactivateRouteAndItsChildren(se[fe],z);if(M&&M.outlet){const fe=M.outlet.detach(),Ze=M.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:fe,route:N,contexts:Ze})}}deactivateRouteAndOutlet(N,V){const M=V.getContext(N.value.outlet),z=M&&N.value.component?M.children:V,se=Ii(N);for(const fe of Object.keys(se))this.deactivateRouteAndItsChildren(se[fe],z);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(N,V,M){const z=Ii(V);N.children.forEach(se=>{this.activateRoutes(se,z[se.value.outlet],M),this.forwardEvent(new Kr(se.value.snapshot))}),N.children.length&&this.forwardEvent(new Hr(N.value.snapshot))}activateRoutes(N,V,M){const z=N.value,se=V?V.value:null;if(sr(z),z===se)if(z.component){const fe=M.getOrCreateContext(z.outlet);this.activateChildRoutes(N,V,fe.children)}else this.activateChildRoutes(N,V,M);else if(z.component){const fe=M.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Ze=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),fe.children.onOutletReAttached(Ze.contexts),fe.attachRef=Ze.componentRef,fe.route=Ze.route.value,fe.outlet&&fe.outlet.attach(Ze.componentRef,Ze.route.value),sr(Ze.route.value),this.activateChildRoutes(N,null,fe.children)}else{const Ze=Oi(z.snapshot);fe.attachRef=null,fe.route=z,fe.injector=Ze,fe.outlet&&fe.outlet.activateWith(z,fe.injector),this.activateChildRoutes(N,null,fe.children)}}else this.activateChildRoutes(N,null,M)}}class fu{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Fi{constructor(N,V){this.component=N,this.route=V}}function Pr(A,N,V){const M=A._root;return As(M,N?N._root:null,V,[M.value])}function Ds(A,N){const V=Symbol(),M=N.get(A,V);return M===V?"function"!=typeof A||(0,w.Z0I)(A)?N.get(A):A:M}function As(A,N,V,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const se=Ii(N);return A.children.forEach(fe=>{(function Ss(A,N,V,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const se=A.value,fe=N?N.value:null,Ze=V?V.getContext(A.value.outlet):null;if(fe&&se.routeConfig===fe.routeConfig){const Nt=function Ua(A,N,V){if("function"==typeof V)return V(A,N);switch(V){case"pathParamsChange":return!Jn(A.url,N.url);case"pathParamsOrQueryParamsChange":return!Jn(A.url,N.url)||!Zn(A.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jr(A,N)||!Zn(A.queryParams,N.queryParams);default:return!Jr(A,N)}}(fe,se,se.routeConfig.runGuardsAndResolvers);Nt?z.canActivateChecks.push(new fu(M)):(se.data=fe.data,se._resolvedData=fe._resolvedData),As(A,N,se.component?Ze?Ze.children:null:V,M,z),Nt&&Ze&&Ze.outlet&&Ze.outlet.isActivated&&z.canDeactivateChecks.push(new Fi(Ze.outlet.component,fe))}else fe&&Oo(N,Ze,z),z.canActivateChecks.push(new fu(M)),As(A,null,se.component?Ze?Ze.children:null:V,M,z)})(fe,se[fe.value.outlet],V,M.concat([fe.value]),z),delete se[fe.value.outlet]}),Object.entries(se).forEach(([fe,Ze])=>Oo(Ze,V.getContext(fe),z)),z}function Oo(A,N,V){const M=Ii(A),z=A.value;Object.entries(M).forEach(([se,fe])=>{Oo(fe,z.component?N?N.children.getContext(se):null:N,V)}),V.canDeactivateChecks.push(new Fi(z.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,z))}function pu(A){return"function"==typeof A}function jc(A){return A instanceof Ie.K||"EmptyError"===A?.name}const nc=Symbol("INITIAL_VALUE");function Ba(){return(0,yt.w)(A=>(0,Ae.a)(A.map(N=>N.pipe((0,xe.q)(1),(0,pt.O)(nc)))).pipe((0,wt.U)(N=>{for(const V of N)if(!0!==V){if(V===nc)return nc;if(!1===V||V instanceof kn)return V}return!0}),(0,Ke.h)(N=>N!==nc),(0,xe.q)(1)))}function ko(A){return(0,Pe.z)((0,dt.b)(N=>{if(ge(N))throw Va(0,N)}),(0,wt.U)(N=>!0===N))}class ja{constructor(N){this.segmentGroup=N||null}}class Us{constructor(N){this.urlTree=N}}function ii(A){return(0,Be._)(new ja(A))}function mu(A){return(0,Be._)(new Us(A))}class Uu{constructor(N,V){this.urlSerializer=N,this.urlTree=V}noMatchError(N){return new w.vHH(4002,!1)}lineralizeSegments(N,V){let M=[],z=V.root;for(;;){if(M=M.concat(z.segments),0===z.numberOfChildren)return(0,ue.of)(M);if(z.numberOfChildren>1||!z.children[gt])return(0,Be._)(new w.vHH(4e3,!1));z=z.children[gt]}}applyRedirectCommands(N,V,M){return this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),N,M)}applyRedirectCreateUrlTree(N,V,M,z){const se=this.createSegmentGroup(N,V.root,M,z);return new kn(se,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(N,V){const M={};return Object.entries(N).forEach(([z,se])=>{if("string"==typeof se&&se.startsWith(":")){const Ze=se.substring(1);M[z]=V[Ze]}else M[z]=se}),M}createSegmentGroup(N,V,M,z){const se=this.createSegments(N,V.segments,M,z);let fe={};return Object.entries(V.children).forEach(([Ze,Nt])=>{fe[Ze]=this.createSegmentGroup(N,Nt,M,z)}),new Rn(se,fe)}createSegments(N,V,M,z){return V.map(se=>se.path.startsWith(":")?this.findPosParam(N,se,z):this.findOrReturn(se,M))}findPosParam(N,V,M){const z=M[V.path.substring(1)];if(!z)throw new w.vHH(4001,!1);return z}findOrReturn(N,V){let M=0;for(const z of V){if(z.path===N.path)return V.splice(M),z;M++}return N}}const $a={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ro(A,N,V,M,z){const se=Fo(A,N,V);return se.matched?(M=function ls(A,N){return A.providers&&!A._injector&&(A._injector=(0,w.MMx)(A.providers,N,`Route: ${A.path}`)),A._injector??N}(N,M),function Lo(A,N,V,M){const z=N.canMatch;if(!z||0===z.length)return(0,ue.of)(!0);const se=z.map(fe=>{const Ze=Ds(fe,A);return Cr(function Bc(A){return A&&pu(A.canMatch)}(Ze)?Ze.canMatch(N,V):A.runInContext(()=>Ze(N,V)))});return(0,ue.of)(se).pipe(Ba(),ko())}(M,N,V).pipe((0,wt.U)(fe=>!0===fe?se:{...$a}))):(0,ue.of)(se)}function Fo(A,N,V){if(""===N.path)return"full"===N.pathMatch&&(A.hasChildren()||V.length>0)?{...$a}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const z=(N.matcher||sn)(V,A,N);if(!z)return{...$a};const se={};Object.entries(z.posParams??{}).forEach(([Ze,Nt])=>{se[Ze]=Nt.path});const fe=z.consumed.length>0?{...se,...z.consumed[z.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:z.consumed,remainingSegments:V.slice(z.consumed.length),parameters:fe,positionalParamSegments:z.posParams??{}}}function fl(A,N,V,M){return V.length>0&&function Vo(A,N,V){return V.some(M=>Xr(A,N,M)&&xi(M)!==gt)}(A,V,M)?{segmentGroup:new Rn(N,Yi(M,new Rn(V,A.children))),slicedSegments:[]}:0===V.length&&function Ia(A,N,V){return V.some(M=>Xr(A,N,M))}(A,V,M)?{segmentGroup:new Rn(A.segments,za(A,0,V,M,A.children)),slicedSegments:V}:{segmentGroup:new Rn(A.segments,A.children),slicedSegments:V}}function za(A,N,V,M,z){const se={};for(const fe of M)if(Xr(A,V,fe)&&!z[xi(fe)]){const Ze=new Rn([],{});se[xi(fe)]=Ze}return{...z,...se}}function Yi(A,N){const V={};V[gt]=N;for(const M of A)if(""===M.path&&xi(M)!==gt){const z=new Rn([],{});V[xi(M)]=z}return V}function Xr(A,N,V){return(!(A.hasChildren()||N.length>0)||"full"!==V.pathMatch)&&""===V.path}class Vl{constructor(N,V,M,z,se,fe,Ze){this.injector=N,this.configLoader=V,this.rootComponentType=M,this.config=z,this.urlTree=se,this.paramsInheritanceStrategy=fe,this.urlSerializer=Ze,this.allowRedirects=!0,this.applyRedirects=new Uu(this.urlSerializer,this.urlTree)}noMatchError(N){return new w.vHH(4002,!1)}recognize(){const N=fl(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,gt).pipe((0,Ot.K)(V=>{if(V instanceof Us)return this.allowRedirects=!1,this.urlTree=V.urlTree,this.match(V.urlTree);throw V instanceof ja?this.noMatchError(V):V}),(0,wt.U)(V=>{const M=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),z=new lr(M,V),se=new Po("",z),fe=function Qe(A,N,V=null,M=null){return _e(me(A),N,V,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(se._root),{state:se,tree:fe}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,gt).pipe((0,Ot.K)(M=>{throw M instanceof ja?this.noMatchError(M):M}))}inheritParamsAndData(N){const V=N.value,M=du(V,this.paramsInheritanceStrategy);V.params=Object.freeze(M.params),V.data=Object.freeze(M.data),N.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(N,V,M,z){return 0===M.segments.length&&M.hasChildren()?this.processChildren(N,V,M):this.processSegment(N,V,M,M.segments,z,!0)}processChildren(N,V,M){const z=[];for(const se of Object.keys(M.children))"primary"===se?z.unshift(se):z.push(se);return(0,Y.D)(z).pipe((0,Ee.b)(se=>{const fe=M.children[se],Ze=function Qi(A,N){const V=A.filter(M=>xi(M)===N);return V.push(...A.filter(M=>xi(M)!==N)),V}(V,se);return this.processSegmentGroup(N,Ze,fe,se)}),(0,Qt.R)((se,fe)=>(se.push(...fe),se)),(0,_n.d)(null),function qe(A,N){const V=arguments.length>=2;return M=>M.pipe(A?(0,Ke.h)((z,se)=>A(z,se,M)):fr.y,ar(1),V?(0,_n.d)(N):(0,Kn.T)(()=>new Ie.K))}(),(0,ut.z)(se=>{if(null===se)return ii(M);const fe=Ga(se);return function Bu(A){A.sort((N,V)=>N.value.outlet===gt?-1:V.value.outlet===gt?1:N.value.outlet.localeCompare(V.value.outlet))}(fe),(0,ue.of)(fe)}))}processSegment(N,V,M,z,se,fe){return(0,Y.D)(V).pipe((0,Ee.b)(Ze=>this.processSegmentAgainstRoute(Ze._injector??N,V,Ze,M,z,se,fe).pipe((0,Ot.K)(Nt=>{if(Nt instanceof ja)return(0,ue.of)(null);throw Nt}))),(0,mt.P)(Ze=>!!Ze),(0,Ot.K)(Ze=>{if(jc(Ze))return function yu(A,N,V){return 0===N.length&&!A.children[V]}(M,z,se)?(0,ue.of)([]):ii(M);throw Ze}))}processSegmentAgainstRoute(N,V,M,z,se,fe,Ze){return function _u(A,N,V,M){return!!(xi(A)===M||M!==gt&&Xr(N,V,A))&&("**"===A.path||Fo(N,A,V).matched)}(M,z,se,fe)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(N,z,M,se,fe,Ze):Ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,z,V,M,se,fe):ii(z):ii(z)}expandSegmentAgainstRouteUsingRedirect(N,V,M,z,se,fe){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,M,z,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(N,V,M,z,se,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,V,M,z){const se=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?mu(se):this.applyRedirects.lineralizeSegments(M,se).pipe((0,ut.z)(fe=>{const Ze=new Rn(fe,{});return this.processSegment(N,V,Ze,fe,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,V,M,z,se,fe){const{matched:Ze,consumedSegments:Nt,remainingSegments:Tt,positionalParamSegments:gn}=Fo(V,z,se);if(!Ze)return ii(V);const mr=this.applyRedirects.applyRedirectCommands(Nt,z.redirectTo,gn);return z.redirectTo.startsWith("/")?mu(mr):this.applyRedirects.lineralizeSegments(z,mr).pipe((0,ut.z)(oi=>this.processSegment(N,M,V,oi.concat(Tt),fe,!1)))}matchSegmentAgainstRoute(N,V,M,z,se,fe){let Ze;if("**"===M.path){const Nt=z.length>0?cr(z).parameters:{},Tt=new Fr(z,Nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uo(M),xi(M),M.component??M._loadedComponent??null,M,uo(M));Ze=(0,ue.of)({snapshot:Tt,consumedSegments:[],remainingSegments:[]}),V.children={}}else Ze=ro(V,M,z,N).pipe((0,wt.U)(({matched:Nt,consumedSegments:Tt,remainingSegments:gn,parameters:mr})=>Nt?{snapshot:new Fr(Tt,mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uo(M),xi(M),M.component??M._loadedComponent??null,M,uo(M)),consumedSegments:Tt,remainingSegments:gn}:null));return Ze.pipe((0,yt.w)(Nt=>null===Nt?ii(V):this.getChildConfig(N=M._injector??N,M,z).pipe((0,yt.w)(({routes:Tt})=>{const gn=M._loadedInjector??N,{snapshot:mr,consumedSegments:oi,remainingSegments:_r}=Nt,{segmentGroup:co,slicedSegments:ba}=fl(V,oi,_r,Tt);if(0===ba.length&&co.hasChildren())return this.processChildren(gn,Tt,co).pipe((0,wt.U)(Ho=>null===Ho?null:[new lr(mr,Ho)]));if(0===Tt.length&&0===ba.length)return(0,ue.of)([new lr(mr,[])]);const sa=xi(M)===se;return this.processSegment(gn,Tt,co,ba,sa?gt:se,!0).pipe((0,wt.U)(Ho=>[new lr(mr,Ho)]))}))))}getChildConfig(N,V,M){return V.children?(0,ue.of)({routes:V.children,injector:N}):V.loadChildren?void 0!==V._loadedRoutes?(0,ue.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function hl(A,N,V,M){const z=N.canLoad;if(void 0===z||0===z.length)return(0,ue.of)(!0);const se=z.map(fe=>{const Ze=Ds(fe,A);return Cr(function Xl(A){return A&&pu(A.canLoad)}(Ze)?Ze.canLoad(N,V):A.runInContext(()=>Ze(N,V)))});return(0,ue.of)(se).pipe(Ba(),ko())}(N,V,M).pipe((0,ut.z)(z=>z?this.configLoader.loadChildren(N,V).pipe((0,dt.b)(se=>{V._loadedRoutes=se.routes,V._loadedInjector=se.injector})):function Ha(A){return(0,Be._)(eo(!1,3))}())):(0,ue.of)({routes:[],injector:N})}}function ra(A){const N=A.value.routeConfig;return N&&""===N.path}function Ga(A){const N=[],V=new Set;for(const M of A){if(!ra(M)){N.push(M);continue}const z=N.find(se=>M.value.routeConfig===se.value.routeConfig);void 0!==z?(z.children.push(...M.children),V.add(z)):N.push(M)}for(const M of V){const z=Ga(M.children);N.push(new lr(M.value,z))}return N.filter(M=>!V.has(M))}function Uo(A){return A.data||{}}function uo(A){return A.resolve||{}}function ia(A){return"string"==typeof A.title||null===A.title}function gl(A){return(0,yt.w)(N=>{const V=A(N);return V?(0,Y.D)(V).pipe((0,wt.U)(()=>N)):(0,ue.of)(N)})}const x=new w.OlP("ROUTES");let q=(()=>{var A;class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,ue.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const z=Cr(M.loadComponent()).pipe((0,wt.U)(j),(0,dt.b)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=fe}),(0,ct.x)(()=>{this.componentLoaders.delete(M)})),se=new Pt.c(z,()=>new Le.x).pipe((0,Je.x)());return this.componentLoaders.set(M,se),se}loadChildren(M,z){if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return(0,ue.of)({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const fe=this.loadModuleFactoryOrRoutes(z.loadChildren).pipe((0,wt.U)(Nt=>{this.onLoadEndListener&&this.onLoadEndListener(z);let Tt,gn;return Array.isArray(Nt)?gn=Nt:(Tt=Nt.create(M).injector,gn=Tt.get(x,[],w.XFs.Self|w.XFs.Optional).flat()),{routes:gn.map(Fu),injector:Tt}}),(0,ct.x)(()=>{this.childrenLoaders.delete(z)})),Ze=new Pt.c(fe,()=>new Le.x).pipe((0,Je.x)());return this.childrenLoaders.set(z,Ze),Ze}loadModuleFactoryOrRoutes(M){return Cr(M()).pipe((0,wt.U)(j),(0,ut.z)(z=>z instanceof w.YKP||Array.isArray(z)?(0,ue.of)(z):(0,Y.D)(this.compiler.compileModuleAsync(z))))}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function j(A){return function ve(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let ce=(()=>{var A;class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le.x,this.transitionAbortSubject=new Le.x,this.configLoader=(0,w.f3M)(q),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)($n),this.rootContexts=(0,w.f3M)(ao),this.inputBindingEnabled=null!==(0,w.f3M)(gs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ue.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=se=>this.events.next(new gr(se)),this.configLoader.onLoadStartListener=se=>this.events.next(new Hn(se))}complete(){this.transitions?.complete()}handleNavigationRequest(M){const z=++this.navigationId;this.transitions?.next({...this.transitions.value,...M,id:z})}setupNavigations(M,z,se){return this.transitions=new m.X({id:0,currentUrlTree:z,currentRawUrl:z,currentBrowserUrl:z,extractedUrl:M.urlHandlingStrategy.extract(z),urlAfterRedirects:M.urlHandlingStrategy.extract(z),rawUrl:z,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bs,restoredState:null,currentSnapshot:se.snapshot,targetSnapshot:null,currentRouterState:se,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ke.h)(fe=>0!==fe.id),(0,wt.U)(fe=>({...fe,extractedUrl:M.urlHandlingStrategy.extract(fe.rawUrl)})),(0,yt.w)(fe=>{this.currentTransition=fe;let Ze=!1,Nt=!1;return(0,ue.of)(fe).pipe((0,dt.b)(Tt=>{this.currentNavigation={id:Tt.id,initialUrl:Tt.rawUrl,extractedUrl:Tt.extractedUrl,trigger:Tt.source,extras:Tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,yt.w)(Tt=>{const gn=Tt.currentBrowserUrl.toString(),mr=!M.navigated||Tt.extractedUrl.toString()!==gn||gn!==Tt.currentUrlTree.toString();if(!mr&&"reload"!==(Tt.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const _r="";return this.events.next(new Na(Tt.id,this.urlSerializer.serialize(Tt.rawUrl),_r,0)),Tt.resolve(null),it.E}if(M.urlHandlingStrategy.shouldProcessUrl(Tt.rawUrl))return(0,ue.of)(Tt).pipe((0,yt.w)(_r=>{const co=this.transitions?.getValue();return this.events.next(new Yr(_r.id,this.urlSerializer.serialize(_r.extractedUrl),_r.source,_r.restoredState)),co!==this.transitions?.getValue()?it.E:Promise.resolve(_r)}),function ms(A,N,V,M,z,se){return(0,ut.z)(fe=>function cs(A,N,V,M,z,se,fe="emptyOnly"){return new Vl(A,N,V,M,z,fe,se).recognize()}(A,N,V,M,fe.extractedUrl,z,se).pipe((0,wt.U)(({state:Ze,tree:Nt})=>({...fe,targetSnapshot:Ze,urlAfterRedirects:Nt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,M.paramsInheritanceStrategy),(0,dt.b)(_r=>{fe.targetSnapshot=_r.targetSnapshot,fe.urlAfterRedirects=_r.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_r.urlAfterRedirects};const co=new je(_r.id,this.urlSerializer.serialize(_r.extractedUrl),this.urlSerializer.serialize(_r.urlAfterRedirects),_r.targetSnapshot);this.events.next(co)}));if(mr&&M.urlHandlingStrategy.shouldProcessUrl(Tt.currentRawUrl)){const{id:_r,extractedUrl:co,source:ba,restoredState:sa,extras:Ho}=Tt,ml=new Yr(_r,this.urlSerializer.serialize(co),ba,sa);this.events.next(ml);const ac=Ms(0,this.rootComponentType).snapshot;return this.currentTransition=fe={...Tt,targetSnapshot:ac,urlAfterRedirects:co,extras:{...Ho,skipLocationChange:!1,replaceUrl:!1}},(0,ue.of)(fe)}{const _r="";return this.events.next(new Na(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),_r,1)),Tt.resolve(null),it.E}}),(0,dt.b)(Tt=>{const gn=new Ve(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(gn)}),(0,wt.U)(Tt=>(this.currentTransition=fe={...Tt,guards:Pr(Tt.targetSnapshot,Tt.currentSnapshot,this.rootContexts)},fe)),function Uh(A,N){return(0,ut.z)(V=>{const{targetSnapshot:M,currentSnapshot:z,guards:{canActivateChecks:se,canDeactivateChecks:fe}}=V;return 0===fe.length&&0===se.length?(0,ue.of)({...V,guardsResult:!0}):function Vu(A,N,V,M){return(0,Y.D)(A).pipe((0,ut.z)(z=>function rc(A,N,V,M,z){const se=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,ue.of)(!0);const fe=se.map(Ze=>{const Nt=Oi(N)??z,Tt=Ds(Ze,Nt);return Cr(function tc(A){return A&&pu(A.canDeactivate)}(Tt)?Tt.canDeactivate(A,N,V,M):Nt.runInContext(()=>Tt(A,N,V,M))).pipe((0,mt.P)())});return(0,ue.of)(fe).pipe(Ba())}(z.component,z.route,V,N,M)),(0,mt.P)(z=>!0!==z,!0))}(fe,M,z,A).pipe((0,ut.z)(Ze=>Ze&&function dl(A){return"boolean"==typeof A}(Ze)?function No(A,N,V,M){return(0,Y.D)(N).pipe((0,Ee.b)(z=>(0,pe.z)(function na(A,N){return null!==A&&N&&N(new Er(A)),(0,ue.of)(!0)}(z.route.parent,M),function Hc(A,N){return null!==A&&N&&N(new ka(A)),(0,ue.of)(!0)}(z.route,M),function yd(A,N,V){const M=N[N.length-1],se=N.slice(0,N.length-1).reverse().map(fe=>function Fl(A){const N=A.routeConfig?A.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:A,guards:N}:null}(fe)).filter(fe=>null!==fe).map(fe=>ye(()=>{const Ze=fe.guards.map(Nt=>{const Tt=Oi(fe.node)??V,gn=Ds(Nt,Tt);return Cr(function ec(A){return A&&pu(A.canActivateChild)}(gn)?gn.canActivateChild(M,A):Tt.runInContext(()=>gn(M,A))).pipe((0,mt.P)())});return(0,ue.of)(Ze).pipe(Ba())}));return(0,ue.of)(se).pipe(Ba())}(A,z.path,V),function gu(A,N,V){const M=N.routeConfig?N.routeConfig.canActivate:null;if(!M||0===M.length)return(0,ue.of)(!0);const z=M.map(se=>ye(()=>{const fe=Oi(N)??V,Ze=Ds(se,fe);return Cr(function yo(A){return A&&pu(A.canActivate)}(Ze)?Ze.canActivate(N,A):fe.runInContext(()=>Ze(N,A))).pipe((0,mt.P)())}));return(0,ue.of)(z).pipe(Ba())}(A,z.route,V))),(0,mt.P)(z=>!0!==z,!0))}(M,se,A,N):(0,ue.of)(Ze)),(0,wt.U)(Ze=>({...V,guardsResult:Ze})))})}(this.environmentInjector,Tt=>this.events.next(Tt)),(0,dt.b)(Tt=>{if(fe.guardsResult=Tt.guardsResult,ge(Tt.guardsResult))throw Va(0,Tt.guardsResult);const gn=new tt(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot,!!Tt.guardsResult);this.events.next(gn)}),(0,Ke.h)(Tt=>!!Tt.guardsResult||(this.cancelNavigationTransition(Tt,"",3),!1)),gl(Tt=>{if(Tt.guards.canActivateChecks.length)return(0,ue.of)(Tt).pipe((0,dt.b)(gn=>{const mr=new xt(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(mr)}),(0,yt.w)(gn=>{let mr=!1;return(0,ue.of)(gn).pipe(function qa(A,N){return(0,ut.z)(V=>{const{targetSnapshot:M,guards:{canActivateChecks:z}}=V;if(!z.length)return(0,ue.of)(V);let se=0;return(0,Y.D)(z).pipe((0,Ee.b)(fe=>function pl(A,N,V,M){const z=A.routeConfig,se=A._resolve;return void 0!==z?.title&&!ia(z)&&(se[Wn]=z.title),function Wa(A,N,V,M){const z=function Ka(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===z.length)return(0,ue.of)({});const se={};return(0,Y.D)(z).pipe((0,ut.z)(fe=>function sc(A,N,V,M){const z=Oi(N)??M,se=Ds(A,z);return Cr(se.resolve?se.resolve(N,V):z.runInContext(()=>se(N,V)))}(A[fe],N,V,M).pipe((0,mt.P)(),(0,dt.b)(Ze=>{se[fe]=Ze}))),ar(1),function at(A){return(0,wt.U)(()=>A)}(se),(0,Ot.K)(fe=>jc(fe)?it.E:(0,Be._)(fe)))}(se,A,N,M).pipe((0,wt.U)(fe=>(A._resolvedData=fe,A.data=du(A,V).resolve,z&&ia(z)&&(A.data[Wn]=z.title),null)))}(fe.route,M,A,N)),(0,dt.b)(()=>se++),ar(1),(0,ut.z)(fe=>se===z.length?(0,ue.of)(V):it.E))})}(M.paramsInheritanceStrategy,this.environmentInjector),(0,dt.b)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(gn,"",2)}}))}),(0,dt.b)(gn=>{const mr=new Kt(gn.id,this.urlSerializer.serialize(gn.extractedUrl),this.urlSerializer.serialize(gn.urlAfterRedirects),gn.targetSnapshot);this.events.next(mr)}))}),gl(Tt=>{const gn=mr=>{const oi=[];mr.routeConfig?.loadComponent&&!mr.routeConfig._loadedComponent&&oi.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,dt.b)(_r=>{mr.component=_r}),(0,wt.U)(()=>{})));for(const _r of mr.children)oi.push(...gn(_r));return oi};return(0,Ae.a)(gn(Tt.targetSnapshot.root)).pipe((0,_n.d)(),(0,xe.q)(1))}),gl(()=>this.afterPreactivation()),(0,wt.U)(Tt=>{const gn=function Si(A,N,V){const M=zi(A,N._root,V?V._root:void 0);return new ns(M,N)}(M.routeReuseStrategy,Tt.targetSnapshot,Tt.currentRouterState);return this.currentTransition=fe={...Tt,targetRouterState:gn},fe}),(0,dt.b)(()=>{this.events.next(new $i)}),((A,N,V,M)=>(0,wt.U)(z=>(new Li(N,z.targetRouterState,z.currentRouterState,V,M).activate(A),z)))(this.rootContexts,M.routeReuseStrategy,Tt=>this.events.next(Tt),this.inputBindingEnabled),(0,xe.q)(1),(0,dt.b)({next:Tt=>{Ze=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xs(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects))),M.titleStrategy?.updateTitle(Tt.targetRouterState.snapshot),Tt.resolve(!0)},complete:()=>{Ze=!0}}),(0,vt.R)(this.transitionAbortSubject.pipe((0,dt.b)(Tt=>{throw Tt}))),(0,ct.x)(()=>{Ze||Nt||this.cancelNavigationTransition(fe,"",1),this.currentNavigation?.id===fe.id&&(this.currentNavigation=null)}),(0,Ot.K)(Tt=>{if(Nt=!0,_a(Tt))this.events.next(new Cs(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Tt.message,Tt.cancellationCode)),function us(A){return _a(A)&&ge(A.url)}(Tt)?this.events.next(new La(Tt.url)):fe.resolve(!1);else{this.events.next(new xo(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Tt,fe.targetSnapshot??void 0));try{fe.resolve(M.errorHandler(Tt))}catch(gn){fe.reject(gn)}}return it.E}))}))}cancelNavigationTransition(M,z,se){const fe=new Cs(M.id,this.urlSerializer.serialize(M.extractedUrl),z,se);this.events.next(fe),M.resolve(!1)}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function Ne(A){return A!==bs}let bt=(()=>{var A;class N{buildTitle(M){let z,se=M.root;for(;void 0!==se;)z=this.getResolvedTitleForRoute(se)??z,se=se.children.find(fe=>fe.outlet===gt);return z}getResolvedTitleForRoute(M){return M.data[Wn]}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return(0,w.f3M)(tn)},providedIn:"root"}),N})(),tn=(()=>{var A;class N extends bt{constructor(M){super(),this.title=M}updateTitle(M){const z=this.buildTitle(M);void 0!==z&&this.title.setTitle(z)}}return(A=N).\u0275fac=function(M){return new(M||A)(w.LFG(Wt.Dx))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),Nr=(()=>{var A;class N{}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return(0,w.f3M)(ei)},providedIn:"root"}),N})();class $r{shouldDetach(N){return!1}store(N,V){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,V){return N.routeConfig===V.routeConfig}}let ei=(()=>{var A;class N extends $r{}return(A=N).\u0275fac=function(){let V;return function(z){return(V||(V=w.n5z(A)))(z||A)}}(),A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const pn=new w.OlP("",{providedIn:"root",factory:()=>({})});let hi=(()=>{var A;class N{}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return(0,w.f3M)(wr)},providedIn:"root"}),N})(),wr=(()=>{var A;class N{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,z){return M}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();var mi=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(mi||{});function io(A,N){A.events.pipe((0,Ke.h)(V=>V instanceof Xs||V instanceof Cs||V instanceof xo||V instanceof Na),(0,wt.U)(V=>V instanceof Xs||V instanceof Na?mi.COMPLETE:V instanceof Cs&&(0===V.code||1===V.code)?mi.REDIRECTING:mi.FAILED),(0,Ke.h)(V=>V!==mi.REDIRECTING),(0,xe.q)(1)).subscribe(()=>{N()})}function Lt(A){throw A}function Zr(A,N,V){return N.parse("/")}const Vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yt=(()=>{var A;class N{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this._events=new Le.x,this.options=(0,w.f3M)(pn,{optional:!0})||{},this.pendingTasks=(0,w.f3M)(w.HDt),this.errorHandler=this.options.errorHandler||Lt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(hi),this.routeReuseStrategy=(0,w.f3M)(Nr),this.titleStrategy=(0,w.f3M)(bt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,w.f3M)(x,{optional:!0})?.flat()??[],this.navigationTransitions=(0,w.f3M)(ce),this.urlSerializer=(0,w.f3M)($n),this.location=(0,w.f3M)(Fe.Ye),this.componentInputBindingEnabled=!!(0,w.f3M)(gs,{optional:!0}),this.eventsSubscription=new De.w0,this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ms(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(M=>{this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(z=>{try{const{currentTransition:se}=this.navigationTransitions;if(null===se)return void(si(z)&&this._events.next(z));if(z instanceof Yr)Ne(se.source)&&(this.browserUrlTree=se.extractedUrl);else if(z instanceof Na)this.rawUrlTree=se.rawUrl;else if(z instanceof je){if("eager"===this.urlUpdateStrategy){if(!se.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl);this.setBrowserUrl(fe,se)}this.browserUrlTree=se.urlAfterRedirects}}else if(z instanceof $i)this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects);else if(z instanceof Cs)0!==z.code&&1!==z.code&&(this.navigated=!0),(3===z.code||2===z.code)&&this.restoreHistory(se);else if(z instanceof La){const fe=this.urlHandlingStrategy.merge(z.url,se.currentRawUrl),Ze={skipLocationChange:se.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ne(se.source)};this.scheduleNavigation(fe,bs,null,Ze,{resolve:se.resolve,reject:se.reject,promise:se.promise})}z instanceof xo&&this.restoreHistory(se,!0),z instanceof Xs&&(this.navigated=!0),si(z)&&this._events.next(z)}catch(se){this.navigationTransitions.transitionAbortSubject.next(se)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const M=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bs,M)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(M=>{const z="popstate"===M.type?"popstate":"hashchange";"popstate"===z&&setTimeout(()=>{this.navigateToSyncWithBrowser(M.url,z,M.state)},0)}))}navigateToSyncWithBrowser(M,z,se){const fe={replaceUrl:!0},Ze=se?.navigationId?se:null;if(se){const Tt={...se};delete Tt.navigationId,delete Tt.\u0275routerPageId,0!==Object.keys(Tt).length&&(fe.state=Tt)}const Nt=this.parseUrl(M);this.scheduleNavigation(Nt,z,Ze,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(Fu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,z={}){const{relativeTo:se,queryParams:fe,fragment:Ze,queryParamsHandling:Nt,preserveFragment:Tt}=z,gn=Tt?this.currentUrlTree.fragment:Ze;let oi,mr=null;switch(Nt){case"merge":mr={...this.currentUrlTree.queryParams,...fe};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=fe||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{oi=me(se?se.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||!M[0].startsWith("/"))&&(M=[]),oi=this.currentUrlTree.root}return _e(oi,M,mr,gn??null)}navigateByUrl(M,z={skipLocationChange:!1}){const se=ge(M)?M:this.parseUrl(M),fe=this.urlHandlingStrategy.merge(se,this.rawUrlTree);return this.scheduleNavigation(fe,bs,null,z)}navigate(M,z={skipLocationChange:!1}){return function vn(A){for(let N=0;N<A.length;N++)if(null==A[N])throw new w.vHH(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,z),z)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){let z;try{z=this.urlSerializer.parse(M)}catch(se){z=this.malformedUriErrorHandler(se,this.urlSerializer,M)}return z}isActive(M,z){let se;if(se=!0===z?{...Vi}:!1===z?{...rs}:z,ge(M))return Ar(this.currentUrlTree,M,se);const fe=this.parseUrl(M);return Ar(this.currentUrlTree,fe,se)}removeEmptyProps(M){return Object.keys(M).reduce((z,se)=>{const fe=M[se];return null!=fe&&(z[se]=fe),z},{})}scheduleNavigation(M,z,se,fe,Ze){if(this.disposed)return Promise.resolve(!1);let Nt,Tt,gn;Ze?(Nt=Ze.resolve,Tt=Ze.reject,gn=Ze.promise):gn=new Promise((oi,_r)=>{Nt=oi,Tt=_r});const mr=this.pendingTasks.add();return io(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:z,restoredState:se,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:M,extras:fe,resolve:Nt,reject:Tt,promise:gn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),gn.catch(oi=>Promise.reject(oi))}setBrowserUrl(M,z){const se=this.urlSerializer.serialize(M);if(this.location.isCurrentPathEqualTo(se)||z.extras.replaceUrl){const Ze={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId)};this.location.replaceState(se,"",Ze)}else{const fe={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId+1)};this.location.go(se,"",fe)}}restoreHistory(M,z=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===fe&&(this.resetState(M),this.browserUrlTree=M.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=M.currentRouterState,this.currentUrlTree=M.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,z){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:z}:{navigationId:M}}}return(A=N).\u0275fac=function(M){return new(M||A)},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function si(A){return!(A instanceof $i||A instanceof La)}let rn=(()=>{var A;class N{constructor(M,z,se,fe,Ze,Nt){this.router=M,this.route=z,this.tabIndexAttribute=se,this.renderer=fe,this.el=Ze,this.locationStrategy=Nt,this.href=null,this.commands=null,this.onChanges=new Le.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Tt=Ze.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tt||"area"===Tt,this.isAnchorElement?this.subscription=M.events.subscribe(gn=>{gn instanceof Xs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(M,z,se,fe,Ze){return!!(null===this.urlTree||this.isAnchorElement&&(0!==M||z||se||fe||Ze||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(M,z){const se=this.renderer,fe=this.el.nativeElement;null!==z?se.setAttribute(fe,M,z):se.removeAttribute(fe,M)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=N).\u0275fac=function(M){return new(M||A)(w.Y36(Yt),w.Y36(Ro),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Fe.S$))},A.\u0275dir=w.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,z){1&M&&w.NdJ("click",function(fe){return z.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&M&&w.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",w.VuI],replaceUrl:["replaceUrl","replaceUrl",w.VuI],routerLink:"routerLink"},standalone:!0,features:[w.Xq5,w.TTD]}),N})();class ds{}let vo=(()=>{var A;class N{constructor(M,z,se,fe,Ze){this.router=M,this.injector=se,this.preloadingStrategy=fe,this.loader=Ze}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ke.h)(M=>M instanceof Xs),(0,Ee.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,z){const se=[];for(const fe of z){fe.providers&&!fe._injector&&(fe._injector=(0,w.MMx)(fe.providers,M,`Route: ${fe.path}`));const Ze=fe._injector??M,Nt=fe._loadedInjector??Ze;(fe.loadChildren&&!fe._loadedRoutes&&void 0===fe.canLoad||fe.loadComponent&&!fe._loadedComponent)&&se.push(this.preloadConfig(Ze,fe)),(fe.children||fe._loadedRoutes)&&se.push(this.processRoutes(Nt,fe.children??fe._loadedRoutes))}return(0,Y.D)(se).pipe((0,Dt.J)())}preloadConfig(M,z){return this.preloadingStrategy.preload(z,()=>{let se;se=z.loadChildren&&void 0===z.canLoad?this.loader.loadChildren(M,z):(0,ue.of)(null);const fe=se.pipe((0,ut.z)(Ze=>null===Ze?(0,ue.of)(void 0):(z._loadedRoutes=Ze.routes,z._loadedInjector=Ze.injector,this.processRoutes(Ze.injector??M,Ze.routes))));if(z.loadComponent&&!z._loadedComponent){const Ze=this.loader.loadComponent(z);return(0,Y.D)([fe,Ze]).pipe((0,Dt.J)())}return fe})}}return(A=N).\u0275fac=function(M){return new(M||A)(w.LFG(Yt),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(ds),w.LFG(q))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const vd=new w.OlP("");let Ul=(()=>{var A;class N{constructor(M,z,se,fe,Ze={}){this.urlSerializer=M,this.transitions=z,this.viewportScroller=se,this.zone=fe,this.options=Ze,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ze.scrollPositionRestoration=Ze.scrollPositionRestoration||"disabled",Ze.anchorScrolling=Ze.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof Xs?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof Na&&0===M.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Ls&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ls(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(A=N).\u0275fac=function(M){w.$Z()},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),N})();function Bo(A,N){return{\u0275kind:A,\u0275providers:N}}function $u(){const A=(0,w.f3M)(w.zs3);return N=>{const V=A.get(w.z2F);if(N!==V.components[0])return;const M=A.get(Yt),z=A.get(nr);1===A.get(bi)&&M.initialNavigation(),A.get(Jd,null,w.XFs.Optional)?.setUpPreloading(),A.get(vd,null,w.XFs.Optional)?.init(),M.resetRootComponentType(V.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const nr=new w.OlP("",{factory:()=>new Le.x}),bi=new w.OlP("",{providedIn:"root",factory:()=>1}),Jd=new w.OlP("");function Mr(A){return Bo(0,[{provide:Jd,useExisting:vo},{provide:ds,useExisting:A}])}const Ta=new w.OlP("ROUTER_FORROOT_GUARD"),Rt=[Fe.Ye,{provide:$n,useClass:gi},Yt,ao,{provide:Ro,useFactory:function vu(A){return A.routerState.root},deps:[Yt]},q,[]];function Vr(){return new w.PXZ("Router",Yt)}let Iu=(()=>{var A;class N{constructor(M){}static forRoot(M,z){return{ngModule:N,providers:[Rt,[],{provide:x,multi:!0,useValue:M},{provide:Ta,useFactory:dn,deps:[[Yt,new w.FiY,new w.tp0]]},{provide:pn,useValue:z||{}},z?.useHash?{provide:Fe.S$,useClass:Fe.Do}:{provide:Fe.S$,useClass:Fe.b0},{provide:vd,useFactory:()=>{const A=(0,w.f3M)(Fe.EM),N=(0,w.f3M)(w.R0b),V=(0,w.f3M)(pn),M=(0,w.f3M)(ce),z=(0,w.f3M)($n);return V.scrollOffset&&A.setOffset(V.scrollOffset),new Ul(z,M,A,N,V)}},z?.preloadingStrategy?Mr(z.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:Vr},z?.initialNavigation?Io(z):[],z?.bindToComponentInputs?Bo(8,[_o,{provide:gs,useExisting:_o}]).\u0275providers:[],[{provide:zn,useFactory:$u},{provide:w.tb,multi:!0,useExisting:zn}]]}}static forChild(M){return{ngModule:N,providers:[{provide:x,multi:!0,useValue:M}]}}}return(A=N).\u0275fac=function(M){return new(M||A)(w.LFG(Ta,8))},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({}),N})();function dn(A){return"guarded"}function Io(A){return["disabled"===A.initialNavigation?Bo(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const N=(0,w.f3M)(Yt);return()=>{N.setUpLocationChangeListener()}}},{provide:bi,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Bo(2,[{provide:bi,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:N=>{const V=N.get(Fe.V_,Promise.resolve());return()=>V.then(()=>new Promise(M=>{const z=N.get(Yt),se=N.get(nr);io(z,()=>{M(!0)}),N.get(ce).afterPreactivation=()=>(M(!0),se.closed?(0,ue.of)(void 0):se),z.initialNavigation()}))}}]).\u0275providers:[]]}const zn=new w.OlP("")},4303:(Gt,$e,U)=>{U.d($e,{Jn:()=>Zn,KN:()=>Ar,Xd:()=>Wt,qX:()=>gt});var w=U(5861),ie=U(4537),Y=U(7879),ue=U(9058),m=U(1878);class Ae{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function Ie(nt){const Re=nt.getComponent();return"VERSION"===Re?.type}(It)){const kt=It.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(It=>It).join(" ")}}const pe="@firebase/app",re=new Y.Yd("@firebase/app"),at={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,Je=new Map;function vt(nt,Re){try{nt.container.addComponent(Re)}catch(It){re.debug(`Component ${Re.name} failed to register with FirebaseApp ${nt.name}`,It)}}function Wt(nt){const Re=nt.name;if(Je.has(Re))return re.debug(`There were multiple attempts to register component ${Re}.`),!1;Je.set(Re,nt);for(const It of ct.values())vt(It,nt);return!0}function gt(nt,Re){const It=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),nt.container.getProvider(Re)}const sn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Zn="10.4.0";function Ar(nt,Re,It){var kt;let cn=null!==(kt=at[nt])&&void 0!==kt?kt:nt;It&&(cn+=`-${It}`);const In=cn.match(/\s|\//),pr=Re.match(/\s|\//);if(In||pr){const be=[`Unable to register library "${cn}" with version "${Re}":`];return In&&be.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),In&&pr&&be.push("and"),pr&&be.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void re.warn(be.join(" "))}Wt(new ie.wA(`${cn}-version`,()=>({library:cn,version:Re}),"VERSION"))}const Gr="firebase-heartbeat-database",wn=1,an="firebase-heartbeat-store";let An=null;function kn(){return An||(An=(0,m.X3)(Gr,wn,{upgrade:(nt,Re)=>{0===Re&&nt.createObjectStore(an)}}).catch(nt=>{throw sn.create("idb-open",{originalErrorMessage:nt.message})})),An}function qr(){return(qr=(0,w.Z)(function*(nt){try{return yield(yield kn()).transaction(an).objectStore(an).get(pi(nt))}catch(Re){if(Re instanceof ue.ZR)re.warn(Re.message);else{const It=sn.create("idb-get",{originalErrorMessage:Re?.message});re.warn(It.message)}}})).apply(this,arguments)}function Un(nt,Re){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*(nt,Re){try{const kt=(yield kn()).transaction(an,"readwrite");yield kt.objectStore(an).put(Re,pi(nt)),yield kt.done}catch(It){if(It instanceof ue.ZR)re.warn(It.message);else{const kt=sn.create("idb-set",{originalErrorMessage:It?.message});re.warn(kt.message)}}})).apply(this,arguments)}function pi(nt){return`${nt.name}!${nt.options.appId}`}class Qn{constructor(Re){this.container=Re,this._heartbeatsCache=null;const It=this.container.getProvider("app").getImmediate();this._storage=new Hi(It),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Re=this;return(0,w.Z)(function*(){const kt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cn=dr();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==cn&&!Re._heartbeatsCache.heartbeats.some(In=>In.date===cn))return Re._heartbeatsCache.heartbeats.push({date:cn,agent:kt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(In=>{const pr=new Date(In.date).valueOf();return Date.now()-pr<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,w.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const It=dr(),{heartbeatsToSend:kt,unsentEntries:cn}=function wi(nt,Re=1024){const It=[];let kt=nt.slice();for(const cn of nt){const In=It.find(pr=>pr.agent===cn.agent);if(In){if(In.dates.push(cn.date),ur(It)>Re){In.dates.pop();break}}else if(It.push({agent:cn.agent,dates:[cn.date]}),ur(It)>Re){It.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:It,unsentEntries:kt}}(Re._heartbeatsCache.heartbeats),In=(0,ue.L)(JSON.stringify({version:2,heartbeats:kt}));return Re._heartbeatsCache.lastSentHeartbeatDate=It,cn.length>0?(Re._heartbeatsCache.heartbeats=cn,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),In})()}}function dr(){return(new Date).toISOString().substring(0,10)}class Hi{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,w.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function Rn(nt){return qr.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var It=this;return(0,w.Z)(function*(){var kt;if(yield It._canUseIndexedDBPromise){const In=yield It.read();return Un(It.app,{lastSentHeartbeatDate:null!==(kt=Re.lastSentHeartbeatDate)&&void 0!==kt?kt:In.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var It=this;return(0,w.Z)(function*(){var kt;if(yield It._canUseIndexedDBPromise){const In=yield It.read();return Un(It.app,{lastSentHeartbeatDate:null!==(kt=Re.lastSentHeartbeatDate)&&void 0!==kt?kt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Re.heartbeats]})}})()}}function ur(nt){return(0,ue.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Bn(nt){Wt(new ie.wA("platform-logger",Re=>new Ae(Re),"PRIVATE")),Wt(new ie.wA("heartbeat",Re=>new Qn(Re),"PRIVATE")),Ar(pe,"0.9.19",nt),Ar(pe,"0.9.19","esm2017"),Ar("fire-js","")}("")},4537:(Gt,$e,U)=>{U.d($e,{H0:()=>pe,wA:()=>Y});var w=U(5861),ie=U(9058);class Y{constructor(re,ye,Pe){this.name=re,this.instanceFactory=ye,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ue="[DEFAULT]";class m{constructor(re,ye){this.name=re,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ye=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ye)){const Pe=new ie.BH;if(this.instancesDeferred.set(ye,Pe),this.isInitialized(ye)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:ye});Be&&Pe.resolve(Be)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(re){var ye;const Pe=this.normalizeInstanceIdentifier(re?.identifier),Be=null!==(ye=re?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(it){if(Be)return null;throw it}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ie(Se){return"EAGER"===Se.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[ye,Pe]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(ye);try{const it=this.getOrInitializeService({instanceIdentifier:Be});Pe.resolve(it)}catch{}}}}clearInstance(re=ue){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,w.Z)(function*(){const ye=Array.from(re.instances.values());yield Promise.all([...ye.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ye.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ue){return this.instances.has(re)}getOptions(re=ue){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ye={}}=re,Pe=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Pe,options:ye});for(const[it,Pt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(it)&&Pt.resolve(Be);return Be}onInit(re,ye){var Pe;const Be=this.normalizeInstanceIdentifier(ye),it=null!==(Pe=this.onInitCallbacks.get(Be))&&void 0!==Pe?Pe:new Set;it.add(re),this.onInitCallbacks.set(Be,it);const Pt=this.instances.get(Be);return Pt&&re(Pt,Be),()=>{it.delete(re)}}invokeOnInitCallbacks(re,ye){const Pe=this.onInitCallbacks.get(ye);if(Pe)for(const Be of Pe)try{Be(re,ye)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ye={}}){let Pe=this.instances.get(re);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Se=re,Se===ue?void 0:Se),options:ye}),this.instances.set(re,Pe),this.instancesOptions.set(re,ye),this.invokeOnInitCallbacks(Pe,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Pe)}catch{}var Se;return Pe||null}normalizeInstanceIdentifier(re=ue){return this.component?this.component.multipleInstances?re:ue:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ye=this.getProvider(re.name);if(ye.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ye.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ye=new m(re,this);return this.providers.set(re,ye),ye}getProviders(){return Array.from(this.providers.values())}}},7879:(Gt,$e,U)=>{U.d($e,{Am:()=>Se,Ub:()=>pe,Yd:()=>Ie,in:()=>ie});const w=[];var ie=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ie||{});const Y={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ue=ie.INFO,m={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Ae=(re,ye,...Pe)=>{if(ye<re.logLevel)return;const Be=(new Date).toISOString(),it=m[ye];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[it](`[${Be}]  ${re.name}:`,...Pe)};class Ie{constructor(ye){this.name=ye,this._logLevel=ue,this._logHandler=Ae,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in ie))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?Y[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...ye),this._logHandler(this,ie.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...ye),this._logHandler(this,ie.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...ye),this._logHandler(this,ie.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...ye),this._logHandler(this,ie.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...ye),this._logHandler(this,ie.ERROR,...ye)}}function pe(re){w.forEach(ye=>{ye.setLogLevel(re)})}function Se(re,ye){for(const Pe of w){let Be=null;ye&&ye.level&&(Be=Y[ye.level]),Pe.userLogHandler=null===re?null:(it,Pt,...Le)=>{const De=Le.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Pt>=(Be??it.logLevel)&&re({level:ie[Pt].toLowerCase(),message:De,args:Le,type:it.name})}}}},1878:(Gt,$e,U)=>{U.d($e,{X3:()=>yt});var w=U(5861);const ie=(Ee,dt)=>dt.some(Ot=>Ee instanceof Ot);let Y,ue;const Ie=new WeakMap,pe=new WeakMap,Se=new WeakMap,re=new WeakMap,ye=new WeakMap;let it={get(Ee,dt,Ot){if(Ee instanceof IDBTransaction){if("done"===dt)return pe.get(Ee);if("objectStoreNames"===dt)return Ee.objectStoreNames||Se.get(Ee);if("store"===dt)return Ot.objectStoreNames[1]?void 0:Ot.objectStore(Ot.objectStoreNames[0])}return Fe(Ee[dt])},set:(Ee,dt,Ot)=>(Ee[dt]=Ot,!0),has:(Ee,dt)=>Ee instanceof IDBTransaction&&("done"===dt||"store"===dt)||dt in Ee};function De(Ee){return"function"==typeof Ee?function Le(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...dt){return Ee.apply(wt(this),dt),Fe(Ie.get(this))}:function(...dt){return Fe(Ee.apply(wt(this),dt))}:function(dt,...Ot){const Qt=Ee.call(wt(this),dt,...Ot);return Se.set(Qt,dt.sort?dt.sort():[dt]),Fe(Qt)}}(Ee):(Ee instanceof IDBTransaction&&function Be(Ee){if(pe.has(Ee))return;const dt=new Promise((Ot,Qt)=>{const _n=()=>{Ee.removeEventListener("complete",yr),Ee.removeEventListener("error",Sn),Ee.removeEventListener("abort",Sn)},yr=()=>{Ot(),_n()},Sn=()=>{Qt(Ee.error||new DOMException("AbortError","AbortError")),_n()};Ee.addEventListener("complete",yr),Ee.addEventListener("error",Sn),Ee.addEventListener("abort",Sn)});pe.set(Ee,dt)}(Ee),ie(Ee,function m(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,it):Ee)}function Fe(Ee){if(Ee instanceof IDBRequest)return function Pe(Ee){const dt=new Promise((Ot,Qt)=>{const _n=()=>{Ee.removeEventListener("success",yr),Ee.removeEventListener("error",Sn)},yr=()=>{Ot(Fe(Ee.result)),_n()},Sn=()=>{Qt(Ee.error),_n()};Ee.addEventListener("success",yr),Ee.addEventListener("error",Sn)});return dt.then(Ot=>{Ot instanceof IDBCursor&&Ie.set(Ot,Ee)}).catch(()=>{}),ye.set(dt,Ee),dt}(Ee);if(re.has(Ee))return re.get(Ee);const dt=De(Ee);return dt!==Ee&&(re.set(Ee,dt),ye.set(dt,Ee)),dt}const wt=Ee=>ye.get(Ee);function yt(Ee,dt,{blocked:Ot,upgrade:Qt,blocking:_n,terminated:yr}={}){const Sn=indexedDB.open(Ee,dt),ar=Fe(Sn);return Qt&&Sn.addEventListener("upgradeneeded",Kn=>{Qt(Fe(Sn.result),Kn.oldVersion,Kn.newVersion,Fe(Sn.transaction),Kn)}),Ot&&Sn.addEventListener("blocked",Kn=>Ot(Kn.oldVersion,Kn.newVersion,Kn)),ar.then(Kn=>{yr&&Kn.addEventListener("close",()=>yr()),_n&&Kn.addEventListener("versionchange",fr=>_n(fr.oldVersion,fr.newVersion,fr))}).catch(()=>{}),ar}const pt=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],ut=new Map;function mt(Ee,dt){if(!(Ee instanceof IDBDatabase)||dt in Ee||"string"!=typeof dt)return;if(ut.get(dt))return ut.get(dt);const Ot=dt.replace(/FromIndex$/,""),Qt=dt!==Ot,_n=Ke.includes(Ot);if(!(Ot in(Qt?IDBIndex:IDBObjectStore).prototype)||!_n&&!pt.includes(Ot))return;const yr=function(){var Sn=(0,w.Z)(function*(ar,...Kn){const fr=this.transaction(ar,_n?"readwrite":"readonly");let qe=fr.store;return Qt&&(qe=qe.index(Kn.shift())),(yield Promise.all([qe[Ot](...Kn),_n&&fr.done]))[0]});return function(Kn){return Sn.apply(this,arguments)}}();return ut.set(dt,yr),yr}!function Pt(Ee){it=Ee(it)}(Ee=>({...Ee,get:(dt,Ot,Qt)=>mt(dt,Ot)||Ee.get(dt,Ot,Qt),has:(dt,Ot)=>!!mt(dt,Ot)||Ee.has(dt,Ot)}))},5861:(Gt,$e,U)=>{function w(Y,ue,m,Ae,Ie,pe,Se){try{var re=Y[pe](Se),ye=re.value}catch(Pe){return void m(Pe)}re.done?ue(ye):Promise.resolve(ye).then(Ae,Ie)}function ie(Y){return function(){var ue=this,m=arguments;return new Promise(function(Ae,Ie){var pe=Y.apply(ue,m);function Se(ye){w(pe,Ae,Ie,Se,re,"next",ye)}function re(ye){w(pe,Ae,Ie,Se,re,"throw",ye)}Se(void 0)})}}U.d($e,{Z:()=>ie})},7582:(Gt,$e,U)=>{function ue(qe,at){var ct={};for(var Je in qe)Object.prototype.hasOwnProperty.call(qe,Je)&&at.indexOf(Je)<0&&(ct[Je]=qe[Je]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var vt=0;for(Je=Object.getOwnPropertySymbols(qe);vt<Je.length;vt++)at.indexOf(Je[vt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Je[vt])&&(ct[Je[vt]]=qe[Je[vt]])}return ct}function Pe(qe,at,ct,Je){return new(ct||(ct=Promise))(function(Dt,Wt){function gt(Vn){try{Tn(Je.next(Vn))}catch(sn){Wt(sn)}}function Wn(Vn){try{Tn(Je.throw(Vn))}catch(sn){Wt(sn)}}function Tn(Vn){Vn.done?Dt(Vn.value):function vt(Dt){return Dt instanceof ct?Dt:new ct(function(Wt){Wt(Dt)})}(Vn.value).then(gt,Wn)}Tn((Je=Je.apply(qe,at||[])).next())})}function xe(qe){return this instanceof xe?(this.v=qe,this):new xe(qe)}function pt(qe,at,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt,Je=ct.apply(qe,at||[]),Dt=[];return vt={},Wt("next"),Wt("throw"),Wt("return"),vt[Symbol.asyncIterator]=function(){return this},vt;function Wt(tr){Je[tr]&&(vt[tr]=function(Zn){return new Promise(function(vr,cr){Dt.push([tr,Zn,vr,cr])>1||gt(tr,Zn)})})}function gt(tr,Zn){try{!function Wn(tr){tr.value instanceof xe?Promise.resolve(tr.value.v).then(Tn,Vn):sn(Dt[0][2],tr)}(Je[tr](Zn))}catch(vr){sn(Dt[0][3],vr)}}function Tn(tr){gt("next",tr)}function Vn(tr){gt("throw",tr)}function sn(tr,Zn){tr(Zn),Dt.shift(),Dt.length&&gt(Dt[0][0],Dt[0][1])}}function ut(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,at=qe[Symbol.asyncIterator];return at?at.call(qe):(qe=function Le(qe){var at="function"==typeof Symbol&&Symbol.iterator,ct=at&&qe[at],Je=0;if(ct)return ct.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&Je>=qe.length&&(qe=void 0),{value:qe&&qe[Je++],done:!qe}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),ct={},Je("next"),Je("throw"),Je("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function Je(Dt){ct[Dt]=qe[Dt]&&function(Wt){return new Promise(function(gt,Wn){!function vt(Dt,Wt,gt,Wn){Promise.resolve(Wn).then(function(Tn){Dt({value:Tn,done:gt})},Wt)}(gt,Wn,(Wt=qe[Dt](Wt)).done,Wt.value)})}}}U.d($e,{FC:()=>pt,KL:()=>ut,_T:()=>ue,mG:()=>Pe,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},Gt=>{Gt(Gt.s=9809)}]);